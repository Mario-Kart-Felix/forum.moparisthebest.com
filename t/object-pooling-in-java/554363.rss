<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Object Pooling in Java</title>
    <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363</link>
    <description>Now, I do understand why &quot;Object Pooling&quot; is a great memory saving technique, but I don&#39;t believe I understand the complete concept of it or exactly how to do it. I was wondering if I could possibly have it dumbed down for me or have a small example of object pooling being used.

Currently, I get that objects that do not need to be re-created are instead stored inside a collection and we must retrieve that object to re-use it. Could anyone possibly put this in some code example for me or try to explain in good depth to achieve this?</description>
    
    <lastBuildDate>Wed, 13 Jan 2016 12:12:03 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>[quote=“Lothy, post:10, topic:554363”]Okay, but I’d consider those edge cases rather than the norm. Also, within the context of Java specifically, can you even pool sockets - they’re bound to an endpoint, after all, and that binding might be immutable.</p>
<p>In any case, it’s extraordinary to resort to object pooling in Java.[/quote]</p>
<p>Application based advantageous pooling, which I mean IS the purpose of a design pattern.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/11</link>
        <pubDate>Wed, 13 Jan 2016 12:12:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-11</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@lothy Lothy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lothy">@lothy</a> wrote:</p>
          <blockquote>
              <p>Okay, but I’d consider those edge cases rather than the norm. Also, within the context of Java specifically, can you even pool sockets - they’re bound to an endpoint, after all, and that binding might be immutable.</p>
<p>In any case, it’s extraordinary to resort to object pooling in Java.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/10</link>
        <pubDate>Wed, 13 Jan 2016 06:02:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-10</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>I think more or less it depends on the application you’re developing. If you can benefit from reusing expensive resources which usually fall into the category of socket connections or large buffers then you should. But there’s an overhead into assuring the resources are given back to the pool, comparatively.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/9</link>
        <pubDate>Wed, 13 Jan 2016 01:04:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-9</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@lothy Lothy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lothy">@lothy</a> wrote:</p>
          <blockquote>
              <p>[quote=“sini, post:5, topic:554363”][quote author=Lothy link=topic=673288.msg4502196#msg4502196 date=1452595921]<br>
Yeah, that’s not how it’s done. The whole point of the pool is that it manages itself internally. You don’t add objects to a pool - the pool realises when it is empty, creates new objects, and returns them when requested.</p>
<p>Object pooling isn’t very beneficial in languages like Java.<br>
[/quote]</p>
<p><em>cough</em> lies <em>cough</em>[/quote]<br>
Which part?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/8</link>
        <pubDate>Tue, 12 Jan 2016 20:21:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-8</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@my-swagger my-swagger]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/my-swagger">@my-swagger</a> wrote:</p>
          <blockquote>
              <p>There are not really many benifits of object pooling in Java. A common would using it for SQL connections and buffers.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/7</link>
        <pubDate>Tue, 12 Jan 2016 16:38:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-7</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@wildskiller wildskiller]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wildskiller">@wildskiller</a> wrote:</p>
          <blockquote>
              <p>[quote=“Lothy, post:4, topic:554363”]Yeah, that’s not how it’s done. The whole point of the pool is that it manages itself internally. You don’t add objects to a pool - the pool realises when it is empty, creates new objects, and returns them when requested.</p>
<p>Object pooling isn’t very beneficial in languages like Java.[/quote]<br>
Well, in any design I’ve noticed, there are two collections: (available, unavailable) or (locked, unlocked). The unlocked/available collection holds objects that can be retrieved and used, the locked/unavilable collection holds objects that are still usable, and if an object isn’t usable, it is just removed from available and isn’t stored any where for the garbage collector to take care of it.</p>
<p>[quote=“sini, post:5, topic:554363”][quote author=Lothy link=topic=673288.msg4502196#msg4502196 date=1452595921]<br>
Yeah, that’s not how it’s done. The whole point of the pool is that it manages itself internally. You don’t add objects to a pool - the pool realises when it is empty, creates new objects, and returns them when requested.</p>
<p>Object pooling isn’t very beneficial in languages like Java.<br>
[/quote]</p>
<p><em>cough</em> lies <em>cough</em>[/quote]<br>
What do you mean by this ^</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/6</link>
        <pubDate>Tue, 12 Jan 2016 14:37:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-6</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>[quote=“Lothy, post:4, topic:554363”]Yeah, that’s not how it’s done. The whole point of the pool is that it manages itself internally. You don’t add objects to a pool - the pool realises when it is empty, creates new objects, and returns them when requested.</p>
<p>Object pooling isn’t very beneficial in languages like Java.[/quote]</p>
<p><em>cough</em> lies <em>cough</em></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/5</link>
        <pubDate>Tue, 12 Jan 2016 11:37:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-5</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@lothy Lothy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lothy">@lothy</a> wrote:</p>
          <blockquote>
              <p>Yeah, that’s not how it’s done. The whole point of the pool is that it manages itself internally. You don’t add objects to a pool - the pool realises when it is empty, creates new objects, and returns them when requested.</p>
<p>Object pooling isn’t very beneficial in languages like Java.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/4</link>
        <pubDate>Tue, 12 Jan 2016 10:52:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-4</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@wildskiller wildskiller]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wildskiller">@wildskiller</a> wrote:</p>
          <blockquote>
              <p>[quote=“sini, post:2, topic:554363”]<a href="http://gameprogrammingpatterns.com/object-pool.html" rel="nofollow noopener">http://gameprogrammingpatterns.com/object-pool.html</a></p>
<p>“Improve performance and memory use by reusing objects from a fixed pool instead of allocating and freeing them individually.”</p>
<p>Allocating memory/Deallocating memory can be expensive so you want to be able to quickly grab the objects you need and reuse them after their life cycle ends. Buffers are a good example of this.[/quote]<br>
Thanks, I’ve been looking at some stack overflow posts and haven’t been able to completely understand. I’ll read over this and see what I can get from it, test around and come back when I’m done.</p>
<p>[hr]<br>
Alrighty, coming back…I wrote a lazy implementation of pooling. I don’t believe it would be used in most situations, but I think I got it down. If you don’t understand what I’m doing or think I’m completely off, just say so ;). The way I wrote it wasn’t meant for a current system, it was just to understand object pooling</p>
<p>[code=java]package pool;</p>
<p>import java.util.ArrayList;</p>
<p>/**</p>
<ul>
<li>
<p>This class is used as an Object Pool for pool-able objects.<br>
*/<br>
<span class="mention">@SuppressWarnings</span>(“serial”)<br>
public class Pool</p>
<p> extends ArrayList</p>
<p> {</p>
<p>/**</p>
<ul>
<li>A list of the objects that have already been used and placed here for</li>
<li>recycling.<br>
*/<br>
private final ArrayList<p> recycledObjects;</p>
</li>
</ul>
<p>/**</p>
<ul>
<li>The limited amount of objects that can be pooled.<br>
*/<br>
private final int poolLimit;</li>
</ul>
<p>/**</p>
<ul>
<li>Creates an empty pool with a specified limit to the amount of poolable</li>
<li>objects.<br>
*/<br>
public Pool() {<br>
this.poolLimit = 1;<br>
this.recycledObjects = new ArrayList&lt;&gt;();<br>
}</li>
</ul>
<p><a class="mention" href="/u/override">@Override</a><br>
public final boolean add(P o) {<br>
if (size() &gt;= poolLimit)<br>
return false;</p>
<pre><code> if (super.add(o)) {
 	o.create();
 	return true;
 }
 return false;
</code></pre>
<p>}</p>
<p>/**</p>
<ul>
<li>Removes the object from this pool and places it inside of the collection</li>
<li>of recycled objects.<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public final boolean remove(Object o) {<br>
if (super.remove(o)) {<br>
return true;<br>
}<br>
return false;<br>
}</li>
</ul>
<p><a class="mention" href="/u/override">@Override</a><br>
public final P get(int index) {<br>
if (index &gt;= size())<br>
return null;<br>
P object = super.get(index);<br>
if (object.expired()) {<br>
remove(object);<br>
object.destroy();<br>
} else {<br>
remove(object);<br>
recycledObjects.add(object);<br>
}<br>
return object;<br>
}</p>
<p>public static void main(String[] args) throws Exception {<br>
Pool pool = new Pool();<br>
pool.add(new PoolableObject() {<br>
Object testObject;</p>
<pre><code> 	@Override
 	protected void register() {
 		testObject = "HELLO";
 		System.out.println("REGISTERED: " + testObject);
 	}

 	@Override
 	protected void unregister() {
 		System.out.println("UNREGISTERED: " + testObject);
 		testObject = null;
 	}

 	@Override
 	protected long expireTimeInMillis() {
 		return 2000; // 2 seconds before it expires
 	}

 });
 System.out.println(pool + ", " + pool.recycledObjects);
 while (pool.get(0) != null);
 System.out.println(pool + ", " + pool.recycledObjects);
</code></pre>
<p>}<br>
}</p>
</li>
</ul>
<p>[/code]</p>
<pre><code class="lang-auto">package pool;

public abstract class PoolableObject {

	private long startTime;

	/**
	 * Creates and registers this poolable object.
	 */
	public void create() {
		// just in case we have other necessary actions
		this.startTime = System.currentTimeMillis();
		register();
	}

	/**
	 * Destroys and unregisters this poolable object.
	 */
	public void destroy() {
		// just in case we have other necessary actions
		unregister();
	}

	protected abstract void register();

	protected abstract void unregister();

	protected abstract long expireTimeInMillis();

	public boolean expired() {
		return System.currentTimeMillis() - startTime &gt;= expireTimeInMillis();
	}
}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/3</link>
        <pubDate>Tue, 12 Jan 2016 05:25:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-3</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p><a href="http://gameprogrammingpatterns.com/object-pool.html" class="onebox" target="_blank" rel="nofollow noopener">http://gameprogrammingpatterns.com/object-pool.html</a></p>
<p>“Improve performance and memory use by reusing objects from a fixed pool instead of allocating and freeing them individually.”</p>
<p>Allocating memory/Deallocating memory can be expensive so you want to be able to quickly grab the objects you need and reuse them after their life cycle ends. Buffers are a good example of this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/2</link>
        <pubDate>Tue, 12 Jan 2016 05:17:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-2</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
      <item>
        <title>Object Pooling in Java</title>
        <dc:creator><![CDATA[@wildskiller wildskiller]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wildskiller">@wildskiller</a> wrote:</p>
          <blockquote>
              <p>Now, I do understand why “Object Pooling” is a great memory saving technique, but I don’t believe I understand the complete concept of it or exactly how to do it. I was wondering if I could possibly have it dumbed down for me or have a small example of object pooling being used.</p>
<p>Currently, I get that objects that do not need to be re-created are instead stored inside a collection and we must retrieve that object to re-use it. Could anyone possibly put this in some code example for me or try to explain in good depth to achieve this?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/object-pooling-in-java/554363/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/object-pooling-in-java/554363/1</link>
        <pubDate>Tue, 12 Jan 2016 05:12:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-554363-1</guid>
        <source url="https://forum.moparisthebest.com/t/object-pooling-in-java/554363.rss">Object Pooling in Java</source>
      </item>
  </channel>
</rss>
