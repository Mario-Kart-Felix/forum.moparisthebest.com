<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/php-making-a-viable-encryption-scheme/9084 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 20:15:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[php] Making a Viable Encryption Scheme - General Programming - moparisthebest.com</title>
    <meta name="description" content="Ok, let&amp;#39;s say that you are making a user-password login and want to encrypt their password in the database with no way of getting it out. First we&amp;#39;ll go over how to do this. You need an encryption algorithm that doesn&amp;#39;t &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="9084.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[php] Making a Viable Encryption Scheme&#39;" href="9084.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/php-making-a-viable-encryption-scheme/9084" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/php-making-a-viable-encryption-scheme/9084" />
<meta property="og:title" content="[php] Making a Viable Encryption Scheme" />
<meta name="twitter:title" content="[php] Making a Viable Encryption Scheme" />
<meta property="og:description" content="Ok, let’s say that you are making a user-password login and want to encrypt their password in the database with no way of getting it out. First we’ll go over how to do this. You need an encryption algorithm that doesn’t change. That means no randoms. It has to be the same every single time. It is a safety issue to have a decrypt method so it needs to produce the same string each time. Have your registration page encrypt the password before storing it into the database. Then, on your process logi..." />
<meta name="twitter:description" content="Ok, let’s say that you are making a user-password login and want to encrypt their password in the database with no way of getting it out. First we’ll go over how to do this. You need an encryption algorithm that doesn’t change. That means no randoms. It has to be the same every single time. It is a safety issue to have a decrypt method so it needs to produce the same string each time. Have your registration page encrypt the password before storing it into the database. Then, on your process logi..." />
<meta property="article:published_time" content="2006-08-12T00:45:58+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="9084.html">[php] Making a Viable Encryption Scheme</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/surfer247.html'><span itemprop='name'>surfer247</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-08-12T00:45:58Z'>
            <time itemprop='dateModified' datetime='2016-07-29T21:13:18Z' class='post-time'>
              July 29, 2016,  9:13pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok, let’s say that you are making a user-password login and want to encrypt their password in the database with no way of getting it out. First we’ll go over how to do this. You need an encryption algorithm that doesn’t change. That means no randoms. It has to be the same every single time. It is a safety issue to have a decrypt method so it needs to produce the same string each time. Have your registration page encrypt the password before storing it into the database. Then, on your process login page, have it encrypt the password that they typed in and compare those two.</p>
<p>Ok, now for making it.</p>
<p>First lets start our page:</p>
<p>[code]&lt;?php</p>
<p>$s=‘Encrypt me!!!’;<br>
echo $s.’ - '.encrypt($s);</p>
<p>function encrypt($s){<br>
return $s;<br>
}</p>
<p>?&gt;[/code]This is going to encrypt string $s</p>
<p>This encryption scheme will use the ascii value of the characters to encrypt the string. Now we want to be able to add a little randomization in case someone has WAY too much time and figures out a certain string that will display the same encypted value as someone’s password. To do this, we will introduce two changeable key values and one static key value:</p>
<p><code>function encrypt($s,$key1,$key2){
  $key3;
  return $s;
}</code></p>
<p>Now we should have default values for these keys:</p>
<p><code>function encrypt($s,$key1='diarhea',$key2='plywood'){
  $key3='PjdhsnIhfhiHHISlLJSMdh98554*Dhfnks:[&gt;/jdsjhjsjgnBU**gjso873983026HFRIDKjgg]';
  return $s;
}</code>$key3 should be random, long, and should contain letter, numbers and symbols. This should be almost impossible to guess and should try to randomize the string as much as possible. This is the real key. It cannot be changed so you don’t want anyone to guess it.</p>
<p>Now we need to figure out a way to obtain the ascii value of each character and do what we need to do with it. We want to keep order so we don’t want to just multiply all the things together. Other wise, ‘poop’, ‘oppo’, ‘popo’, and ‘opop’ would all encrypt the same. The way I did it was to ascii value of each character together then add it to a string of numbers:</p>
<p><code>function encrypt($s,$key1='diarhea',$key2='plywood'){
  $e2='';
  $key3='PjdhsnIhfhiHHISlLJSMdh98554*Dhfnks:[&gt;/jdsjhjsjgnBU**gjso873983026HFRIDKjgg]';
  for($i=0;$i&lt;strlen($key3);$i++){
    $e=ord(substr($s,$i%(strlen($s)-1),1));
    $e*=ord(substr($key1,$i%(strlen($key1)-1),1));
    $e*=ord(substr($key2,$i%(strlen($key2)-1),1));
    $e*=ord(substr($key3,$i%(strlen($key3)-1),1));
    $e2.=''.$e;
  }
}</code><br>
This cycles through the strings and takes the next letter (going to the beginning if you reach the end of the string) and multiplying the ascii values of each charater together then adding them to the end of a string of numbers. The ord() function returns the ascii value of a charater.</p>
<p>Now we have a long string of numbers. We could leave it like this OR, if we wanted to try to keep people from thinking we used ascii values, we could turn it back to letters:</p>
<p><code>  $e3='';
  for($i=0;$i&lt;strlen($e2);$i+=2){
    //echo substr($e2,$i,2).'&lt;br&gt;';
    $num=StrToInt(substr($e2,$i,2));
    $num+=23;
    if(($num&gt;=48 &amp;&amp; $num &lt;57) || ($num&gt;=97 &amp;&amp; $num &lt;122)/* || ($num&gt;=65 &amp;&amp; $num &lt;90)*/)
      $e3.=chr($num);
  }</code>We want to make sure that we only use lowercase letters and numbers so we limit the range that we use. If you want uppercase letters, uncomment the commented part in the if statement. We took a substring of two numbers and converted it to a number using a function I wrote (I’ll post it in the final program). We added 23 to it to change our range of numbers to the range that the actual numbers are in. Then we convert this number to the character that the number represents using the chr() function.</p>
<p>Now, we want to make this so that we cannot get back, even if we knew the keys. We are going to take a substring of it out. Remember that even if we were to convert the single part of it out, the string is length dependent so we will never get the original back. First off, we want to make sure that it is long enough. I chose 50 as a default length. If the string is less than 50 characters, we’ll just run the function again with the new string to change things up:</p>
<p><code>  if(strlen($e3)&lt;50)
    $e3.=encrypt2($e3,$key1,$key2);</code><br>
Now that we know that we have a string of a long enough length, we can take a substring of it and return it. This serves two purposes. The first, as I described earlier, is to make the string impossible to decrypt. The second is to get rid of any length information of the original string. For example, ‘cat’, ‘a’, and ‘poop in my pants you dirty bastard’ would all return the same length. No one can tell how long the original string is.</p>
<pre><code class="lang-auto">  $e3=substr($e3,strlen($e3)/2-17,20);</code></pre>
<p>This takes a substring of the middle portion of the encrypted string. That way, we don’t worry about the beginning still being the same. Now all we need to do is to return the new encrypted string:</p>
<p>[code]function encrypt($s,$key1=‘diarhea’,$key2=‘plywood’){<br>
$e2=’’;<br>
$key3=‘PjdhsnIhfhiHHISlLJSMdh98554<em>Dhfnks:[&gt;/jdsjhjsjgnBU**gjso873983026HFRIDKjgg]’;<br>
$e3=’’;<br>
for($i=0;$i&lt;strlen($key3);$i++){<br>
$e=ord(substr($s,$i%(strlen($s)-1),1));<br>
$e</em>=ord(substr($key1,$i%(strlen($key1)-1),1));<br>
$e*=ord(substr($key2,$i%(strlen($key2)-1),1));<br>
$e*=ord(substr($key3,$i%(strlen($key3)-1),1));<br>
//echo substr($key,$i%(strlen($key)),1).’<br>’;<br>
$e2.=’’.$e;<br>
}<br>
for($i=0;$i&lt;strlen($e2);$i+=2){<br>
//echo substr($e2,$i,2).’<br>’;<br>
$num=StrToInt(substr($e2,$i,2));<br>
$num+=23;<br>
if(($num&gt;=48 &amp;&amp; $num &lt;57) || ($num&gt;=97 &amp;&amp; $num &lt;122)/* || ($num&gt;=65 &amp;&amp; $num &lt;90)*/)<br>
$e3.=chr($num);<br>
}<br>
if(strlen($e3)&lt;50)<br>
$e3.=encrypt2($e3,$key1,$key2);</p>
<p>$e3=substr($e3,strlen($e3)/2-17,20);</p>
<p>return $e3;<br>
}[/code]</p>
<p>And the whole program to test it is:</p>
<p>[code]&lt;?php</p>
<p>$s=‘Encrypt me!!!’;<br>
echo $s.’ - '.encrypt($s);</p>
<p>function encrypt($s,$key1=‘diarhea’,$key2=‘plywood’){<br>
$e2=’’;<br>
$key3=‘PjdhsnIhfhiHHISlLJSMdh98554<em>Dhfnks:[&gt;/jdsjhjsjgnBU**gjso873983026HFRIDKjgg]’;<br>
$e3=’’;<br>
for($i=0;$i&lt;strlen($key3);$i++){<br>
$e=ord(substr($s,$i%(strlen($s)-1),1));<br>
$e</em>=ord(substr($key1,$i%(strlen($key1)-1),1));<br>
$e*=ord(substr($key2,$i%(strlen($key2)-1),1));<br>
$e*=ord(substr($key3,$i%(strlen($key3)-1),1));<br>
$e2.=’’.$e;<br>
}<br>
for($i=0;$i&lt;strlen($e2);$i+=2){<br>
$num=StrToInt(substr($e2,$i,2));<br>
$num+=23;<br>
if(($num&gt;=48 &amp;&amp; $num &lt;57) || ($num&gt;=97 &amp;&amp; $num &lt;122)/* || ($num&gt;=65 &amp;&amp; $num &lt;90)*/)<br>
$e3.=chr($num);<br>
}<br>
if(strlen($e3)&lt;50)<br>
$e3.=encrypt2($e3,$key1,$key2);</p>
<p>$e3=substr($e3,strlen($e3)/2-17,20);</p>
<p>return $e3;<br>
}</p>
<p>function strToInt($s){<br>
if(!$s){<br>
return 0;<br>
}else{<br>
switch(substr($s,0,1)){<br>
case “1”:<br>
$n=1;<br>
break;<br>
case “2”:<br>
$n=2;<br>
break;<br>
case “3”:<br>
$n=3;<br>
break;<br>
case “4”:<br>
$n=4;<br>
break;<br>
case “5”:<br>
$n=5;<br>
break;<br>
case “6”:<br>
$n=6;<br>
break;<br>
case “7”:<br>
$n=7;<br>
break;<br>
case “8”:<br>
$n=8;<br>
break;<br>
case “9”:<br>
$n=9;<br>
break;<br>
case “0”:<br>
$n=0;<br>
break;<br>
}<br>
return StrToInt(substr($s,1)) + ($n*pow(10,strlen($s)-1));<br>
}<br>
}</p>
<p>?&gt;[/code]</p>
<p>Now, if you want to use this in a real life situation, you could have fun with the keys you are given. You get to make up a total of two keys. Remember, to log in, you have to enter a username AND password. Why not use both:</p>
<p>[code]$username=‘username’;<br>
$password=‘password’;</p>
<p>echo encrypt($password,$username,$username.$password)."<br>";<br>
echo encrypt($password,$username)."<br>";<br>
echo encrypt($password)."<br>";[/code]Every single one of these will display a different string because you used different keys.</p>
<p>Here are some examples of strings encrypted using this method:</p>
<p>[code]Original: test<br>
Key 1: poop<br>
Key 2: lollipop<br>
Encrypted: rstxd2asa8ni8ky6mbwc</p>
<p>Original: test<br>
Key 1: poopp<br>
Key 2: lollipop<br>
Encrypted: 7txdpiasa8nj3kmoch1p</p>
<p>Original: test<br>
Key 1: poopp<br>
Key 2: rabble<br>
Encrypted: 1lmdm1mb2jhgxhq0h8ol</p>
<p>Original: I want chocolate please…<br>
Key 1: weeeeeeeeeeee<br>
Key 2:<br>
Encrypted: 3nv758udik8kku6ap4h0</p>
<p>Original: I want chocolate please…<br>
Key 1:<br>
Key 2:<br>
Encrypted: hrkpgiofav5memn300g8[/code]</p>
<p>Remeber, if you don’t put in a value for key1 or key2, it uses the default ones you set above. This is very customizable. If you use it, change the default values for the keys and change the length. Also, maybe add in uppercase characters as well. Have fun with it.</p>
<p><span class="bbcode-i">Note that with short passwords, this may return similar or same encryptions. For example, encrypting ‘b’ and ‘bb’ will produce the same output. However, this is just because a one character string and a 2 character string happen to run through the script the same number of times (I don’t know how to say what I mean). But, if it was used in a real scenario, you won’t be seeing passwords less than 5 characters, which should produce unique outputs on a much higher percentage. (Thanks to someone at <a href="http://1337.com/" rel="nofollow noopener">1337.com</a> for bringing this to my attention.)</span></p>
      </div>

      <meta itemprop='headline' content='[php] Making a Viable Encryption Scheme'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xtremekilling.html'><span itemprop='name'>xtremekilling</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-12-20T05:02:16Z'>
            <time itemprop='dateModified' datetime='2016-07-30T02:33:44Z' class='post-time'>
              July 30, 2016,  2:33am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>um i thought think u should release this, people are going to use this info for cracks. is this MD5 Hash? lol</p>
      </div>

      <meta itemprop='headline' content='[php] Making a Viable Encryption Scheme'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Bang_Train.html'><span itemprop='name'>Bang_Train</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-12-20T08:35:19Z'>
            <time itemprop='dateModified' datetime='2016-07-30T02:34:45Z' class='post-time'>
              July 30, 2016,  2:34am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>omg…</p>
<p>u take the cake</p>
<p>one this is really old</p>
<p>two this isnt md5 md5 is a hash and u cant crack md5, only use collision tables on them</p>
      </div>

      <meta itemprop='headline' content='[php] Making a Viable Encryption Scheme'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/php-making-a-viable-encryption-scheme/9084 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 20:15:46 GMT -->
</html>
