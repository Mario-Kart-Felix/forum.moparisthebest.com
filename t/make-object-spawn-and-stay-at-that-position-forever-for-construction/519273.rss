<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Make object spawn and stay at that position forever? for construction</title>
    <link>https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273</link>
    <description>ok im working on construction for my server, construction is already added but when a player leaves or logouts from were they made the object it disappears, i want it to stay how would i go about doing that? thanks so much if you can help me.

so basically just want that object to stay there and not go away ya know?</description>
    
    <lastBuildDate>Thu, 16 May 2013 00:35:44 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Make object spawn and stay at that position forever? for construction</title>
        <dc:creator><![CDATA[@hadlich4 hadlich4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/hadlich4">@hadlich4</a> wrote:</p>
          <blockquote>
              <p>[quote=“matzie, post:3, topic:519273”]i would make a new folder called “homes” and have it save like “moreinfo” and “characters” and have it save an objectmap.<br>
I would use the streams<br>
Format should be:</p>
<p>[code]public class House {</p>
<pre><code>/**
	houseWidth- x distance
	houseHeight- y distance
	the +4 handles the size at begining
	the multiplying by 2, means each "width" and height is 2 bytes in length
*/
public boolean save(Client c) {
	Stream s = new Stream(new byte[(c.houseWidth*c.houseLength)*2+4]);
	s.writeWord(c.houseWidth);//the x size of houseRegion,The green area for construction
	s.writeWord(c.houseLength);//the y size of houseRegion
	for (int i=0;i&lt;c.houseWidth;i++) {
		for (int j=0;j&lt;c.houseLength;j++) {
			s.writeWord(c.houseObjectMap[i][j]);
		}
	}
	File saveTo = new File("./homes/+c.playerName+".dat");
	if (saveTo.createNewFile()) { //denotes a new save
		System.out.println("home not found for "+c.playerName+", attempting save");\
	}
	if (saveTo.exists()) {
		try {
			java.io.FileOutputStream fos = new FileOutputStream(new File("./homes/"+c.playerName+".dat"),false);
			fos.write(s.buffer);
			fos.finalize();
		} catch (java.io.IOException ioe) {
			System.out.println("Error saving home for "+c.playerName);
		}
	} else {
		System.out.println("Error: File was not created");
		System.out.println("File exists? "+saveTo.exists());
		System.out.println("File writeable? "+saveTo.isWriteable());
		System.out.println("File hidden? "+saveTo.isHidden());
		System.out.println("File path: \""+saveTo.getPath());
	}
	
	}
	
}
public boolean load(Client c) {
	
	java.io.File mySave= new java.io.File("./homes/"+c.playerName+".dat");
	if (!mySave.exists())
		return false;
		int x,y;
	java.io.FileInputStream fis = new java.io.FileInputStream(mySave);
	x = (fis.read() &lt;&lt; 8 * 0xFF) + (fis.read() &amp; 0xFF);
	y = (fis.read() &lt;&lt; 8 * 0xFF) + (fis.read() &amp; 0xFF);
	Stream s = new Stream(new byte[x*y*2]);
	c.houseWidth = x;
	c.houseLength = y;
	c.houseObjectMap = new int[x][y];
	fis.read(s.buffer);
	for (int i = 0;i &lt; c.houseWidth; i++) {
		for (int j = 0;j &lt; c.houseLength; j++) {
			c.houseObjectMap[i][j] = s.readUnsignedWord();
		}
	}
	return true;//loaded! Hopefully correctly...
}
</code></pre>
<p>}[/code]<br>
forgive the poor conventions <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> just wrote it lol</p>
<p>just add something for if they are inrange of “playerHouse” then it will load that player’s house.[/quote]</p>
<p>thanks but i looked it up and i think ima just make it load from a cfg file. maybe ill make it like were everytime a player logs in they get a id number for each of them going from 4 8 10 12 and so on. and then have it so each person will have there own place to make shit ya know then i can make a thing where players can go to each others houses and stuff</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273/4</link>
        <pubDate>Thu, 16 May 2013 00:35:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-519273-4</guid>
        <source url="https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273.rss">Make object spawn and stay at that position forever? for construction</source>
      </item>
      <item>
        <title>Make object spawn and stay at that position forever? for construction</title>
        <dc:creator><![CDATA[@matzie matzie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/matzie">@matzie</a> wrote:</p>
          <blockquote>
              <p>i would make a new folder called “homes” and have it save like “moreinfo” and “characters” and have it save an objectmap.<br>
I would use the streams<br>
Format should be:</p>
<p>[code]public class House {</p>
<pre><code>/**
	houseWidth- x distance
	houseHeight- y distance
	the +4 handles the size at begining
	the multiplying by 2, means each "width" and height is 2 bytes in length
*/
public boolean save(Client c) {
	Stream s = new Stream(new byte[(c.houseWidth*c.houseLength)*2+4]);
	s.writeWord(c.houseWidth);//the x size of houseRegion,The green area for construction
	s.writeWord(c.houseLength);//the y size of houseRegion
	for (int i=0;i&lt;c.houseWidth;i++) {
		for (int j=0;j&lt;c.houseLength;j++) {
			s.writeWord(c.houseObjectMap[i][j]);
		}
	}
	File saveTo = new File("./homes/+c.playerName+".dat");
	if (saveTo.createNewFile()) { //denotes a new save
		System.out.println("home not found for "+c.playerName+", attempting save");\
	}
	if (saveTo.exists()) {
		try {
			java.io.FileOutputStream fos = new FileOutputStream(new File("./homes/"+c.playerName+".dat"),false);
			fos.write(s.buffer);
			fos.finalize();
		} catch (java.io.IOException ioe) {
			System.out.println("Error saving home for "+c.playerName);
		}
	} else {
		System.out.println("Error: File was not created");
		System.out.println("File exists? "+saveTo.exists());
		System.out.println("File writeable? "+saveTo.isWriteable());
		System.out.println("File hidden? "+saveTo.isHidden());
		System.out.println("File path: \""+saveTo.getPath());
	}
	
	}
	
}
public boolean load(Client c) {
	
	java.io.File mySave= new java.io.File("./homes/"+c.playerName+".dat");
	if (!mySave.exists())
		return false;
		int x,y;
	java.io.FileInputStream fis = new java.io.FileInputStream(mySave);
	x = (fis.read() &lt;&lt; 8 * 0xFF) + (fis.read() &amp; 0xFF);
	y = (fis.read() &lt;&lt; 8 * 0xFF) + (fis.read() &amp; 0xFF);
	Stream s = new Stream(new byte[x*y*2]);
	c.houseWidth = x;
	c.houseLength = y;
	c.houseObjectMap = new int[x][y];
	fis.read(s.buffer);
	for (int i = 0;i &lt; c.houseWidth; i++) {
		for (int j = 0;j &lt; c.houseLength; j++) {
			c.houseObjectMap[i][j] = s.readUnsignedWord();
		}
	}
	return true;//loaded! Hopefully correctly...
}
</code></pre>
<p>}[/code]<br>
forgive the poor conventions <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> just wrote it lol</p>
<p>just add something for if they are inrange of “playerHouse” then it will load that player’s house.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273/3</link>
        <pubDate>Wed, 15 May 2013 21:06:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-519273-3</guid>
        <source url="https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273.rss">Make object spawn and stay at that position forever? for construction</source>
      </item>
      <item>
        <title>Make object spawn and stay at that position forever? for construction</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>look at how like a command log is done or something. There’s your hint. <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>You pretty much have to have it save to a file (txt/xml/whatever)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273/2</link>
        <pubDate>Wed, 15 May 2013 18:07:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-519273-2</guid>
        <source url="https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273.rss">Make object spawn and stay at that position forever? for construction</source>
      </item>
      <item>
        <title>Make object spawn and stay at that position forever? for construction</title>
        <dc:creator><![CDATA[@hadlich4 hadlich4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/hadlich4">@hadlich4</a> wrote:</p>
          <blockquote>
              <p>ok im working on construction for my server, construction is already added but when a player leaves or logouts from were they made the object it disappears, i want it to stay how would i go about doing that? thanks so much if you can help me.</p>
<p>so basically just want that object to stay there and not go away ya know?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273/1</link>
        <pubDate>Wed, 15 May 2013 03:10:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-519273-1</guid>
        <source url="https://forum.moparisthebest.com/t/make-object-spawn-and-stay-at-that-position-forever-for-construction/519273.rss">Make object spawn and stay at that position forever? for construction</source>
      </item>
  </channel>
</rss>
