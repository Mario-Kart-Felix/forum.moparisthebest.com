<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Save After Trade</title>
    <link>https://forum.moparisthebest.com/t/save-after-trade/518788</link>
    <description>Where would i put 

c.SaveGame();


to ensure that the trade dupe is fixed i want it so as soon as the accept button is clicked and items have been transfered it saves the game?
And if possible same for the staking?

Please find the file tradeanddueljava attached</description>
    
    <lastBuildDate>Tue, 14 May 2013 15:33:29 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/save-after-trade/518788.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Save After Trade</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>[quote=“arham 4, post:9, topic:518788”]For God’s sakes, just add it to the dang action button handler file.[/quote]that won’t fully fix it lol</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/save-after-trade/518788/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/save-after-trade/518788/10</link>
        <pubDate>Tue, 14 May 2013 15:33:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-518788-10</guid>
        <source url="https://forum.moparisthebest.com/t/save-after-trade/518788.rss">Save After Trade</source>
      </item>
      <item>
        <title>Save After Trade</title>
        <dc:creator><![CDATA[@arham_4 arham 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/arham_4">@arham_4</a> wrote:</p>
          <blockquote>
              <p>For God’s sakes, just add it to the dang action button handler file.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/save-after-trade/518788/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/save-after-trade/518788/9</link>
        <pubDate>Fri, 10 May 2013 11:54:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-518788-9</guid>
        <source url="https://forum.moparisthebest.com/t/save-after-trade/518788.rss">Save After Trade</source>
      </item>
      <item>
        <title>Save After Trade</title>
        <dc:creator><![CDATA[@pk_evolution pk evolution]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pk_evolution">@pk_evolution</a> wrote:</p>
          <blockquote>
              <p>ok i fixed it i just made it so when you:</p>
<p>Drop a item it saves<br>
Discconect It Saves</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/save-after-trade/518788/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/save-after-trade/518788/8</link>
        <pubDate>Fri, 10 May 2013 10:13:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-518788-8</guid>
        <source url="https://forum.moparisthebest.com/t/save-after-trade/518788.rss">Save After Trade</source>
      </item>
      <item>
        <title>Save After Trade</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>[quote=“Tutorial, post:5, topic:518788”][quote author=Loveandpower link=topic=637052.msg4295486#msg4295486 date=1368135783]</p>
<aside class="quote">
<blockquote>
<p>I dont understand how that fixes it basucily its a roll back dupe and if i add a save after the accept button is hit on both trade and after a duel is won or lost it will fix the problem.<br>
[/quote]okay then go to clickingbuttons find the trade button for accept and add that saveGame variable…if you wish to get even MORE technical have it to disconnect the person after the trade is completed this way they have to relogin stopping the rollback.</p>
</blockquote>
</aside>
<p>This isn’t a fix, just another way to move around the problem. I don’t think players would like this addition either.[/quote]the first suggestion is the fix, the second suggestion is just that a suggestion</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/save-after-trade/518788/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/save-after-trade/518788/7</link>
        <pubDate>Fri, 10 May 2013 03:55:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-518788-7</guid>
        <source url="https://forum.moparisthebest.com/t/save-after-trade/518788.rss">Save After Trade</source>
      </item>
      <item>
        <title>Save After Trade</title>
        <dc:creator><![CDATA[@pk_evolution pk evolution]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pk_evolution">@pk_evolution</a> wrote:</p>
          <blockquote>
              <p>I fixed the drop item dupe by adding somthing like<br>
C.savegame();</p>
<p>I want the same for when a trade has been accepted to prevent dupes! <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/save-after-trade/518788/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/save-after-trade/518788/6</link>
        <pubDate>Thu, 09 May 2013 23:13:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-518788-6</guid>
        <source url="https://forum.moparisthebest.com/t/save-after-trade/518788.rss">Save After Trade</source>
      </item>
      <item>
        <title>Save After Trade</title>
        <dc:creator><![CDATA[@Tutorial Tutorial]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tutorial">@Tutorial</a> wrote:</p>
          <blockquote>
              <p>[quote=“Loveandpower, post:4, topic:518788”][quote author=pk evolution link=topic=637052.msg4295482#msg4295482 date=1368135667]<br>
I dont understand how that fixes it basucily its a roll back dupe and if i add a save after the accept button is hit on both trade and after a duel is won or lost it will fix the problem.<br>
[/quote]okay then go to clickingbuttons find the trade button for accept and add that saveGame variable…if you wish to get even MORE technical have it to disconnect the person after the trade is completed this way they have to relogin stopping the rollback.[/quote]<br>
This isn’t a fix, just another way to move around the problem. I don’t think players would like this addition either.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/save-after-trade/518788/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/save-after-trade/518788/5</link>
        <pubDate>Thu, 09 May 2013 22:27:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-518788-5</guid>
        <source url="https://forum.moparisthebest.com/t/save-after-trade/518788.rss">Save After Trade</source>
      </item>
      <item>
        <title>Save After Trade</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>[quote=“pk evolution, post:3, topic:518788”]I dont understand how that fixes it basucily its a roll back dupe and if i add a save after the accept button is hit on both trade and after a duel is won or lost it will fix the problem.[/quote]okay then go to clickingbuttons find the trade button for accept and add that saveGame variable…if you wish to get even MORE technical have it to disconnect the person after the trade is completed this way they have to relogin stopping the rollback.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/save-after-trade/518788/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/save-after-trade/518788/4</link>
        <pubDate>Thu, 09 May 2013 21:43:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-518788-4</guid>
        <source url="https://forum.moparisthebest.com/t/save-after-trade/518788.rss">Save After Trade</source>
      </item>
      <item>
        <title>Save After Trade</title>
        <dc:creator><![CDATA[@pk_evolution pk evolution]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pk_evolution">@pk_evolution</a> wrote:</p>
          <blockquote>
              <p>I dont understand how that fixes it basucily its a roll back dupe and if i add a save after the accept button is hit on both trade and after a duel is won or lost it will fix the problem.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/save-after-trade/518788/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/save-after-trade/518788/3</link>
        <pubDate>Thu, 09 May 2013 21:41:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-518788-3</guid>
        <source url="https://forum.moparisthebest.com/t/save-after-trade/518788.rss">Save After Trade</source>
      </item>
      <item>
        <title>Save After Trade</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>Please keep in mind I take no credits for these patches. Please remember to back up your file before adding all patches.</p>
<p>For staking add this in staking method</p>
<p><code>if(itemID != c.playerItems[fromSlot]-1) {
    			return false;
		}</code></p>
<p>[hr]</p>
<p>find:</p>
<p><code>if (!c.inTrade || !c.canOffer) {
				declineTrade();
				return false;
			}</code></p>
<p>add this under it</p>
<p><code>if(!c.getItems().playerHasItem(itemID, amount))
		return false;</code></p>
<p>[hr]</p>
<p>find:</p>
<p><code>if(i == itemID || itemID &gt;= 6864 &amp;&amp; itemID &lt;= 6882) {
				c.sendMessage("You can't stake this item.");
				return false;
			}		
		}</code></p>
<p>and again add under it</p>
<p><code>if(!c.getItems().playerHasItem(itemID, amount))
		return false;</code></p>
<p>[hr]</p>
<p>find:</p>
<pre><code class="lang-auto"></code></pre>
<p>add:</p>
<p><code>if (itemID != 995 &amp; c.playerItems[fromSlot] == 996){
			return false;
		}</code></p>
<p>Now go to Bankx2</p>
<p>find</p>
<pre><code class="lang-auto"></code></pre>
<pre><code class="lang-auto"></code></pre>
<p>and</p>
<pre><code class="lang-auto"></code></pre>
<p>add this under all of those cases</p>
<p><code>if(!c.getItems().playerHasItem(c.xRemoveId, amount))
		return;</code></p>
<p>[hr]</p>
<pre><code class="lang-auto">case 108005:
c.getPA().showInterface(19148);
break;</code></pre>
<p>add the return exception while (c.inTrade)</p>
<pre><code class="lang-auto">case 108005:
if (c.inTrade) {
return;
}
c.getPA().showInterface(19148);
break;</code></pre>
<p>You’ll want to do this for the Items kept on death, so find:</p>
<pre><code class="lang-auto">case 108006:</code></pre>
<p>and under it simply add</p>
<pre><code class="lang-auto">
if (c.inTrade) {
return;
}</code></pre>
<p>This will just block the interface from being opened while in trade, which is how the dupe is done in the first place.</p>
<p>[hr]</p>
<p>Now that I have spoonfed you literally 5 minutes of c+p next time use the search feature.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/save-after-trade/518788/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/save-after-trade/518788/2</link>
        <pubDate>Thu, 09 May 2013 14:41:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-518788-2</guid>
        <source url="https://forum.moparisthebest.com/t/save-after-trade/518788.rss">Save After Trade</source>
      </item>
      <item>
        <title>Save After Trade</title>
        <dc:creator><![CDATA[@pk_evolution pk evolution]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pk_evolution">@pk_evolution</a> wrote:</p>
          <blockquote>
              <p>Where would i put</p>
<p>c.SaveGame();</p>
<p>to ensure that the trade dupe is fixed i want it so as soon as the accept button is clicked and items have been transfered it saves the game?<br>
And if possible same for the staking?</p>
<p>Please find the file tradeanddueljava attached</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/save-after-trade/518788/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/save-after-trade/518788/1</link>
        <pubDate>Thu, 09 May 2013 10:28:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-518788-1</guid>
        <source url="https://forum.moparisthebest.com/t/save-after-trade/518788.rss">Save After Trade</source>
      </item>
  </channel>
</rss>
