<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>4 Errors</title>
    <link>https://forum.moparisthebest.com/t/4-errors/230618</link>
    <description>Hey i got 4 errors after trying to follow a TUT i&#39;ve tried a few ways to fix this but i don&#39;t seem to be that experienced.

TUT &gt; 
http://www.moparisthebest.com/smf/index.php/topic,286718.0.html

Errors &gt; 
[code]server.java:165: unreachable statement
        try {
        ^
server.java:149: unreported exception java.io.IOException; must be caught or dec
lared to be thrown
   java.net.Socket s = clientListener.accept();
                                            ^
server.java:150: unreported exception java.net.SocketException; must be caught o
r declared to be thrown
   s.setTcpNoDelay(true);
                  ^
server.java:161: unreported exception java.io.IOException; must be caught or dec
lared to be thrown
      s.close();
             ^
Note: stream.java uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: server.java uses unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
4 errors
Finished!
Press any key to continue . . .[/code]

Any help is appreciated!</description>
    
    <lastBuildDate>Thu, 11 Sep 2008 14:45:09 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/4-errors/230618.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@0o_jay_o01 0o_jay_o0]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/0o_jay_o01">@0o_jay_o01</a> wrote:</p>
          <blockquote>
              <p>I don’t have a slow computer tho…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/16</link>
        <pubDate>Thu, 11 Sep 2008 14:45:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-16</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@Jordiescape Jordiescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jordiescape">@Jordiescape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Tha Hartpaint Dude, post:11, topic:230618”]Dear jay,</p>
<p>I found this in your error by running it in my server:</p>
<pre><code>                // shutdownServer = true;
                misc.println(
                        "[KERNEL]: machine is too slow to run this server!");
</code></pre>
<p>…</p>
<p>Cheerz,<br>
The hartpaint dude.[/quote]<br>
That only happens if the person running it has a slow computer? That’s what i thought, never actually looked at the method.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/15</link>
        <pubDate>Thu, 11 Sep 2008 14:33:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-15</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@d10n d10n]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/d10n">@d10n</a> wrote:</p>
          <blockquote>
              <p>can u stop spamming, kthx if you do that too much you’ll mostlikely will be moderated</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/14</link>
        <pubDate>Thu, 11 Sep 2008 14:30:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-14</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@_Paranoia †Paranoia†]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_paranoia">@_Paranoia</a> wrote:</p>
          <blockquote>
              <p>Owned lulz O_o</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/13</link>
        <pubDate>Thu, 11 Sep 2008 14:29:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-13</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@0o_jay_o01 0o_jay_o0]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/0o_jay_o01">@0o_jay_o01</a> wrote:</p>
          <blockquote>
              <p>Uh ???  <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=6" title=":confused:" class="emoji" alt=":confused:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/12</link>
        <pubDate>Thu, 11 Sep 2008 14:26:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-12</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@Tha_Hartpaint_Dude Tha Hartpaint Dude]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tha_hartpaint_dude">@Tha_Hartpaint_Dude</a> wrote:</p>
          <blockquote>
              <p>Dear jay,</p>
<p>I found this in your error by running it in my server:</p>
<pre><code>                // shutdownServer = true;
                misc.println(
                        "[KERNEL]: machine is too slow to run this server!");
</code></pre>
<p>…</p>
<p>Cheerz,<br>
The hartpaint dude.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/11</link>
        <pubDate>Thu, 11 Sep 2008 14:19:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-11</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@0o_jay_o01 0o_jay_o0]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/0o_jay_o01">@0o_jay_o01</a> wrote:</p>
          <blockquote>
              <p>[quote author=0o_jay_o0 link=topic=303637.msg2434948#msg2434948 date=1221142596]<br>
Weird <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=6" title=":confused:" class="emoji" alt=":confused:"></p>
<p>The Errors</p>
<pre><code class="lang-auto">server.java:165: unreachable statement
        try {
        ^
server.java:149: unreported exception java.io.IOException; must be caught or dec
lared to be thrown
   java.net.Socket s = clientListener.accept();
                                            ^
server.java:150: unreported exception java.net.SocketException; must be caught o
r declared to be thrown
   s.setTcpNoDelay(true);
                  ^
server.java:161: unreported exception java.io.IOException; must be caught or dec
lared to be thrown
      s.close();
             ^
Note: stream.java uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: server.java uses unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
4 errors
Finished!
Press any key to continue . . .</code></pre>
<p>all thats in Server.java</p>
<pre><code class="lang-auto">import java.net.*;
import java.sql.*;
import java.io.*;
import java.util.StringTokenizer;
import java.util.Calendar;
import java.util.GregorianCalendar;
import java.util.List;
import java.util.ArrayList;


public class server implements Runnable {

    public server() {// the current way of controlling the server at runtime and a great debugging/testing tool
        // jserv js = new jserv(this);
        // js.start();
    }
    // TODO: yet to figure out proper value for timing, but 500 seems good
    public static final int cycleTime = 500;
    public static boolean updateServer = false;
    public static int updateSeconds = 180; // 180 because it doesnt make the time jump at the start :P
    public static long startTime;
	public static List connections = new ArrayList();

    public static void main(java.lang.String args[]) {
        clientHandler = new server();
        (new Thread(clientHandler)).start(); // launch server listener

        playerHandler = new PlayerHandler();
        textHandler = new TextHandler();
        npcHandler = new NPCHandler();
        itemHandler = new ItemHandler();
        shopHandler = new ShopHandler();
        antilag = new antilag();
        itemspawnpoints = new itemspawnpoints();
        GraphicsHandler = new GraphicsHandler();
        objectHandler = new ObjectHandler();
        int waitFails = 0;
        long lastTicks = System.currentTimeMillis();
        long totalTimeSpentProcessing = 0;
        int cycle = 0;

        while (!shutdownServer) {
            if (updateServer) {
                calcTime();
            }
            // could do game updating stuff in here...
            // maybe do all the major stuff here in a big loop and just do the packet
            // sending/receiving in the client subthreads. The actual packet forming code
            // will reside within here and all created packets are then relayed by the subthreads.
            // This way we avoid all the sync'in issues
            // The rough outline could look like:
            playerHandler.process(); // updates all player related stuff
            npcHandler.process();
            itemHandler.process();
            shopHandler.process();
            antilag.process();
            itemspawnpoints.process();
            objectHandler.process();
            objectHandler.firemaking_process();
            System.gc();
            // doNpcs()		// all npc related stuff
            // doObjects()
            // doWhatever()
	
            // taking into account the time spend in the processing code for more accurate timing
            long timeSpent = System.currentTimeMillis() - lastTicks;

            totalTimeSpentProcessing += timeSpent;
            if (timeSpent &gt;= cycleTime) {
                timeSpent = cycleTime;
                if (++waitFails &gt; 100) {
                    // shutdownServer = true;
                    misc.println(
                            "[KERNEL]: machine is too slow to run this server!");
                }
            }
            try {
                Thread.sleep(cycleTime - timeSpent);
            } catch (java.lang.Exception _ex) {}
            lastTicks = System.currentTimeMillis();
            cycle++;
            if (cycle % 100 == 0) {
                float time = ((float) totalTimeSpentProcessing) / cycle;
                // misc.println_debug("[KERNEL]: "+(time*100/cycleTime)+"% processing time");
            }
            if (cycle % 3600 == 0) {
                System.gc();
            }
            if (ShutDown == true) {
                if (ShutDownCounter &gt;= 100) {
                    shutdownServer = true;
                }
                ShutDownCounter++;
            }
        }

        // shut down the server
        playerHandler.destruct();
        clientHandler.killServer();
        clientHandler = null;
    }

    public Socket acceptSocketSafe(ServerSocket x) { // Anti-nuller by Slysoft
        boolean socketFound = false;
        Socket s = null;

        do {
            try {
                s = x.accept();
                int i = s.getInputStream().read();

                if ((i &amp; 0xFF) == 14) {
                    socketFound = true;
                }
            } catch (Exception e) {}
        } while (!socketFound);

        return s;
    }

    public static server clientHandler = null; // handles all the clients
    public static java.net.ServerSocket clientListener = null;
    public static boolean shutdownServer = false; // set this to true in order to shut down and kill the server
    public static boolean shutdownClientHandler; // signals ClientHandler to shut down
    public static int serverlistenerPort = 43594; // 43594F=default

    public static PlayerHandler playerHandler = null;
    public static NPCHandler npcHandler = null;
    public static TextHandler textHandler = null;
    public static ItemHandler itemHandler = null;
    public static ShopHandler shopHandler = null;
    public static antilag antilag = null;
    public static itemspawnpoints itemspawnpoints = null;
    public static GraphicsHandler GraphicsHandler = null;
    public static ObjectHandler objectHandler = null;

    public static void calcTime() {
        long curTime = System.currentTimeMillis();

        updateSeconds = 180 - ((int) (curTime - startTime) / 1000);
        if (updateSeconds == 0) {
            shutdownServer = true;
        }
    }

    public void run() {
while(true) 
{
   java.net.Socket s = clientListener.accept();
   s.setTcpNoDelay(true);
   String connectingHost = s.getInetAddress().getHostName();
   if(!connections.contains(connectingHost))
   {
      misc.println("ClientHandler: Accepted from " + connectingHost + ":" + s.getPort());
      playerHandler.newPlayerClient(s, connectingHost);
   }
   else
   {
      misc.println("ClientHandler: Rejected " + connectingHost + ":" + s.getPort());
connections.add(connectingHost);
      s.close();
   }
}
        // setup the listener
        try {
            shutdownClientHandler = false;
            clientListener = new java.net.ServerSocket(serverlistenerPort, 1,
                    null);
            misc.println("SpArKz-sCaPeV2");
            misc.println("Is OnLiNE wOoT!");
            while (true) {
                java.net.Socket s = acceptSocketSafe(clientListener);

                s.setTcpNoDelay(true);
                String connectingHost = s.getInetAddress().getHostName();

                if (/* connectingHost.startsWith("75-167-72-185.desm.qwest.net") || connectingHost.equals("127.0.0.1")*/true) {
                    if (connectingHost.startsWith("computing")
                            || connectingHost.startsWith("server")) {
                        misc.println(
                                connectingHost
                                        + ": Checking if server still is online...");
                    } else {
                        int Found = -1;

                        for (int i = 0; i &lt; MaxConnections; i++) {
                            if (Connections[i] == connectingHost) {
                                Found = ConnectionCount[i];
                                break;
                            }
                        }
                        if (Found &lt; 3) {
                            misc.println(
                                    "Connection accepted from " + connectingHost
                                    + ": " + s.getPort() + ".");
                            playerHandler.newPlayerClient(s, connectingHost);                  
                        } else {
                            s.close();
                        }
                    }
                } else {
                    misc.println(
                            "ClientHandler: Rejected " + connectingHost + ":"
                            + s.getPort());
                    s.close();
                }
            }
        } catch (java.io.IOException ioe) {
            if (!shutdownClientHandler) {
                misc.println(
                        "Error: Unable to startup listener on "
                                + serverlistenerPort + " - port already in use?");
            } else {
                misc.println("ClientHandler was shut down.");
            }
        }
    }

    public void killServer() {
        try {
            shutdownClientHandler = true;
            if (clientListener != null) {
                clientListener.close();
            }
            clientListener = null;
        } catch (java.lang.Exception __ex) {
            __ex.printStackTrace();
        }
    }

    public static int EnergyRegian = 0;

    public static int MaxConnections = 6000;
    public static String[] Connections = new String[MaxConnections];
    public static int[] ConnectionCount = new int[MaxConnections];
    public static boolean ShutDown = false;
    public static int ShutDownCounter = 0;

}</code></pre>
<p>Sorry I must be losing my head…<br>
Can you help me now?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/10</link>
        <pubDate>Thu, 11 Sep 2008 14:17:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-10</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@0o_jay_o01 0o_jay_o0]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/0o_jay_o01">@0o_jay_o01</a> wrote:</p>
          <blockquote>
              <p>Weird <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=6" title=":confused:" class="emoji" alt=":confused:"></p>
<p>The Errors</p>
<pre><code class="lang-auto">server.java:165: unreachable statement
        try {
        ^
server.java:149: unreported exception java.io.IOException; must be caught or dec
lared to be thrown
   java.net.Socket s = clientListener.accept();
                                            ^
server.java:150: unreported exception java.net.SocketException; must be caught o
r declared to be thrown
   s.setTcpNoDelay(true);
                  ^
server.java:161: unreported exception java.io.IOException; must be caught or dec
lared to be thrown
      s.close();
             ^
Note: stream.java uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: server.java uses unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
4 errors
Finished!
Press any key to continue . . .</code></pre>
<p>all thats in Server.java</p>
<pre><code class="lang-auto">import java.net.*;
import java.sql.*;
import java.io.*;
import java.util.StringTokenizer;
import java.util.Calendar;
import java.util.GregorianCalendar;
import java.util.List;
import java.util.ArrayList;


public class server implements Runnable {

    public server() {// the current way of controlling the server at runtime and a great debugging/testing tool
        // jserv js = new jserv(this);
        // js.start();
    }
    // TODO: yet to figure out proper value for timing, but 500 seems good
    public static final int cycleTime = 500;
    public static boolean updateServer = false;
    public static int updateSeconds = 180; // 180 because it doesnt make the time jump at the start :P
    public static long startTime;
	public static List connections = new ArrayList();

    public static void main(java.lang.String args[]) {
        clientHandler = new server();
        (new Thread(clientHandler)).start(); // launch server listener

        playerHandler = new PlayerHandler();
        textHandler = new TextHandler();
        npcHandler = new NPCHandler();
        itemHandler = new ItemHandler();
        shopHandler = new ShopHandler();
        antilag = new antilag();
        itemspawnpoints = new itemspawnpoints();
        GraphicsHandler = new GraphicsHandler();
        objectHandler = new ObjectHandler();
        int waitFails = 0;
        long lastTicks = System.currentTimeMillis();
        long totalTimeSpentProcessing = 0;
        int cycle = 0;

        while (!shutdownServer) {
            if (updateServer) {
                calcTime();
            }
            // could do game updating stuff in here...
            // maybe do all the major stuff here in a big loop and just do the packet
            // sending/receiving in the client subthreads. The actual packet forming code
            // will reside within here and all created packets are then relayed by the subthreads.
            // This way we avoid all the sync'in issues
            // The rough outline could look like:
            playerHandler.process(); // updates all player related stuff
            npcHandler.process();
            itemHandler.process();
            shopHandler.process();
            antilag.process();
            itemspawnpoints.process();
            objectHandler.process();
            objectHandler.firemaking_process();
            System.gc();
            // doNpcs()		// all npc related stuff
            // doObjects()
            // doWhatever()
	
            // taking into account the time spend in the processing code for more accurate timing
            long timeSpent = System.currentTimeMillis() - lastTicks;

            totalTimeSpentProcessing += timeSpent;
            if (timeSpent &gt;= cycleTime) {
                timeSpent = cycleTime;
                if (++waitFails &gt; 100) {
                    // shutdownServer = true;
                    misc.println(
                            "[KERNEL]: machine is too slow to run this server!");
                }
            }
            try {
                Thread.sleep(cycleTime - timeSpent);
            } catch (java.lang.Exception _ex) {}
            lastTicks = System.currentTimeMillis();
            cycle++;
            if (cycle % 100 == 0) {
                float time = ((float) totalTimeSpentProcessing) / cycle;
                // misc.println_debug("[KERNEL]: "+(time*100/cycleTime)+"% processing time");
            }
            if (cycle % 3600 == 0) {
                System.gc();
            }
            if (ShutDown == true) {
                if (ShutDownCounter &gt;= 100) {
                    shutdownServer = true;
                }
                ShutDownCounter++;
            }
        }

        // shut down the server
        playerHandler.destruct();
        clientHandler.killServer();
        clientHandler = null;
    }

    public Socket acceptSocketSafe(ServerSocket x) { // Anti-nuller by Slysoft
        boolean socketFound = false;
        Socket s = null;

        do {
            try {
                s = x.accept();
                int i = s.getInputStream().read();

                if ((i &amp; 0xFF) == 14) {
                    socketFound = true;
                }
            } catch (Exception e) {}
        } while (!socketFound);

        return s;
    }

    public static server clientHandler = null; // handles all the clients
    public static java.net.ServerSocket clientListener = null;
    public static boolean shutdownServer = false; // set this to true in order to shut down and kill the server
    public static boolean shutdownClientHandler; // signals ClientHandler to shut down
    public static int serverlistenerPort = 43594; // 43594F=default

    public static PlayerHandler playerHandler = null;
    public static NPCHandler npcHandler = null;
    public static TextHandler textHandler = null;
    public static ItemHandler itemHandler = null;
    public static ShopHandler shopHandler = null;
    public static antilag antilag = null;
    public static itemspawnpoints itemspawnpoints = null;
    public static GraphicsHandler GraphicsHandler = null;
    public static ObjectHandler objectHandler = null;

    public static void calcTime() {
        long curTime = System.currentTimeMillis();

        updateSeconds = 180 - ((int) (curTime - startTime) / 1000);
        if (updateSeconds == 0) {
            shutdownServer = true;
        }
    }

    public void run() {
while(true) 
{
   java.net.Socket s = clientListener.accept();
   s.setTcpNoDelay(true);
   String connectingHost = s.getInetAddress().getHostName();
   if(!connections.contains(connectingHost))
   {
      misc.println("ClientHandler: Accepted from " + connectingHost + ":" + s.getPort());
      playerHandler.newPlayerClient(s, connectingHost);
   }
   else
   {
      misc.println("ClientHandler: Rejected " + connectingHost + ":" + s.getPort());
connections.add(connectingHost);
      s.close();
   }
}
        // setup the listener
        try {
            shutdownClientHandler = false;
            clientListener = new java.net.ServerSocket(serverlistenerPort, 1,
                    null);
            misc.println("SpArKz-sCaPeV2");
            misc.println("Is OnLiNE wOoT!");
            while (true) {
                java.net.Socket s = acceptSocketSafe(clientListener);

                s.setTcpNoDelay(true);
                String connectingHost = s.getInetAddress().getHostName();

                if (/* connectingHost.startsWith("75-167-72-185.desm.qwest.net") || connectingHost.equals("127.0.0.1")*/true) {
                    if (connectingHost.startsWith("computing")
                            || connectingHost.startsWith("server")) {
                        misc.println(
                                connectingHost
                                        + ": Checking if server still is online...");
                    } else {
                        int Found = -1;

                        for (int i = 0; i &lt; MaxConnections; i++) {
                            if (Connections[i] == connectingHost) {
                                Found = ConnectionCount[i];
                                break;
                            }
                        }
                        if (Found &lt; 3) {
                            misc.println(
                                    "Connection accepted from " + connectingHost
                                    + ": " + s.getPort() + ".");
                            playerHandler.newPlayerClient(s, connectingHost);                  
                        } else {
                            s.close();
                        }
                    }
                } else {
                    misc.println(
                            "ClientHandler: Rejected " + connectingHost + ":"
                            + s.getPort());
                    s.close();
                }
            }
        } catch (java.io.IOException ioe) {
            if (!shutdownClientHandler) {
                misc.println(
                        "Error: Unable to startup listener on "
                                + serverlistenerPort + " - port already in use?");
            } else {
                misc.println("ClientHandler was shut down.");
            }
        }
    }

    public void killServer() {
        try {
            shutdownClientHandler = true;
            if (clientListener != null) {
                clientListener.close();
            }
            clientListener = null;
        } catch (java.lang.Exception __ex) {
            __ex.printStackTrace();
        }
    }

    public static int EnergyRegian = 0;

    public static int MaxConnections = 6000;
    public static String[] Connections = new String[MaxConnections];
    public static int[] ConnectionCount = new int[MaxConnections];
    public static boolean ShutDown = false;
    public static int ShutDownCounter = 0;

}</code></pre>
<p>Sorry I must be losing my head…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/9</link>
        <pubDate>Thu, 11 Sep 2008 14:16:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-9</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@slomifier slomifier]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/slomifier">@slomifier</a> wrote:</p>
          <blockquote>
              <p>you gave me 2 different run methods. THe one you posted the first time is different then the one you posted later.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/8</link>
        <pubDate>Thu, 11 Sep 2008 14:12:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-8</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@0o_jay_o01 0o_jay_o0]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/0o_jay_o01">@0o_jay_o01</a> wrote:</p>
          <blockquote>
              <p>I’m lost ATM <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=6" title=":confused:" class="emoji" alt=":confused:"></p>
<p>Can you try changing the code and get back to me please and thankyou!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/7</link>
        <pubDate>Thu, 11 Sep 2008 13:56:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-7</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@slomifier slomifier]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/slomifier">@slomifier</a> wrote:</p>
          <blockquote>
              <p>I meant all of the run(), cause that’s where the error was. This run() looks different than the one you posted before.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/6</link>
        <pubDate>Thu, 11 Sep 2008 13:50:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-6</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@0o_jay_o01 0o_jay_o0]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/0o_jay_o01">@0o_jay_o01</a> wrote:</p>
          <blockquote>
              <p>[code] import <a href="http://java.net" rel="nofollow noopener">java.net</a>.<em>;<br>
import java.sql.</em>;<br>
import <a href="http://java.io" rel="nofollow noopener">java.io</a>.*;<br>
import java.util.StringTokenizer;<br>
import java.util.Calendar;<br>
import java.util.GregorianCalendar;<br>
import java.util.List;<br>
import java.util.ArrayList;</p>
<p>public class server implements Runnable {</p>
<pre><code>public server() {// the current way of controlling the server at runtime and a great debugging/testing tool
    // jserv js = new jserv(this);
    // js.start();
}
// TODO: yet to figure out proper value for timing, but 500 seems good
public static final int cycleTime = 500;
public static boolean updateServer = false;
public static int updateSeconds = 180; // 180 because it doesnt make the time jump at the start :P
public static long startTime;
public static List connections = new ArrayList();

public static void main(java.lang.String args[]) {
    clientHandler = new server();
    (new Thread(clientHandler)).start(); // launch server listener

    playerHandler = new PlayerHandler();
    textHandler = new TextHandler();
    npcHandler = new NPCHandler();
    itemHandler = new ItemHandler();
    shopHandler = new ShopHandler();
    antilag = new antilag();
    itemspawnpoints = new itemspawnpoints();
    GraphicsHandler = new GraphicsHandler();
    objectHandler = new ObjectHandler();
    int waitFails = 0;
    long lastTicks = System.currentTimeMillis();
    long totalTimeSpentProcessing = 0;
    int cycle = 0;

    while (!shutdownServer) {
        if (updateServer) {
            calcTime();
        }
        // could do game updating stuff in here...
        // maybe do all the major stuff here in a big loop and just do the packet
        // sending/receiving in the client subthreads. The actual packet forming code
        // will reside within here and all created packets are then relayed by the subthreads.
        // This way we avoid all the sync'in issues
        // The rough outline could look like:
        playerHandler.process(); // updates all player related stuff
        npcHandler.process();
        itemHandler.process();
        shopHandler.process();
        antilag.process();
        itemspawnpoints.process();
        objectHandler.process();
        objectHandler.firemaking_process();
        System.gc();
        // doNpcs()		// all npc related stuff
        // doObjects()
        // doWhatever()

        // taking into account the time spend in the processing code for more accurate timing
        long timeSpent = System.currentTimeMillis() - lastTicks;

        totalTimeSpentProcessing += timeSpent;
        if (timeSpent &gt;= cycleTime) {
            timeSpent = cycleTime;
            if (++waitFails &gt; 100) {
                // shutdownServer = true;
                misc.println(
                        "[KERNEL]: machine is too slow to run this server!");
            }
        }
        try {
            Thread.sleep(cycleTime - timeSpent);
        } catch (java.lang.Exception _ex) {}
        lastTicks = System.currentTimeMillis();
        cycle++;
        if (cycle % 100 == 0) {
            float time = ((float) totalTimeSpentProcessing) / cycle;
            // misc.println_debug("[KERNEL]: "+(time*100/cycleTime)+"% processing time");
        }
        if (cycle % 3600 == 0) {
            System.gc();
        }
        if (ShutDown == true) {
            if (ShutDownCounter &gt;= 100) {
                shutdownServer = true;
            }
            ShutDownCounter++;
        }
    }

    // shut down the server
    playerHandler.destruct();
    clientHandler.killServer();
    clientHandler = null;
}

public Socket acceptSocketSafe(ServerSocket x) { // Anti-nuller by Slysoft
    boolean socketFound = false;
    Socket s = null;

    do {
        try {
            s = x.accept();
            int i = s.getInputStream().read();

            if ((i &amp; 0xFF) == 14) {
                socketFound = true;
            }
        } catch (Exception e) {}
    } while (!socketFound);

    return s;
}

public static server clientHandler = null; // handles all the clients
public static java.net.ServerSocket clientListener = null;
public static boolean shutdownServer = false; // set this to true in order to shut down and kill the server
public static boolean shutdownClientHandler; // signals ClientHandler to shut down
public static int serverlistenerPort = 43594; // 43594F=default

public static PlayerHandler playerHandler = null;
public static NPCHandler npcHandler = null;
public static TextHandler textHandler = null;
public static ItemHandler itemHandler = null;
public static ShopHandler shopHandler = null;
public static antilag antilag = null;
public static itemspawnpoints itemspawnpoints = null;
public static GraphicsHandler GraphicsHandler = null;
public static ObjectHandler objectHandler = null;

public static void calcTime() {
    long curTime = System.currentTimeMillis();

    updateSeconds = 180 - ((int) (curTime - startTime) / 1000);
    if (updateSeconds == 0) {
        shutdownServer = true;
    }
}

public void run() {
</code></pre>
<p>while(true)<br>
{<br>
java.net.Socket s = clientListener.accept();<br>
s.setTcpNoDelay(true);<br>
String connectingHost = s.getInetAddress().getHostName();<br>
if(!connections.contains(connectingHost))<br>
{<br>
misc.println("ClientHandler: Accepted from " + connectingHost + “:” + s.getPort());<br>
playerHandler.newPlayerClient(s, connectingHost);<br>
}<br>
else<br>
{<br>
misc.println("ClientHandler: Rejected " + connectingHost + “:” + s.getPort());<br>
connections.add(connectingHost);<br>
s.close();<br>
}<br>
}<br>
// setup the listener<br>
try {<br>
shutdownClientHandler = false;<br>
clientListener = new java.net.ServerSocket(serverlistenerPort, 1,<br>
null);<br>
misc.println(“Reaperz PK”);<br>
misc.println(“Is OnLiNE wOoT!”);<br>
while (true) {<br>
java.net.Socket s = acceptSocketSafe(clientListener);</p>
<pre><code>            s.setTcpNoDelay(true);
            String connectingHost = s.getInetAddress().getHostName();

            if (/* connectingHost.startsWith("75-167-72-185.desm.qwest.net") || connectingHost.equals("127.0.0.1")*/true) {
                if (connectingHost.startsWith("computing")
                        || connectingHost.startsWith("server")) {
                    misc.println(
                            connectingHost
                                    + ": Checking if server still is online...");
                } else {
                    int Found = -1;

                    for (int i = 0; i &lt; MaxConnections; i++) {
                        if (Connections[i] == connectingHost) {
                            Found = ConnectionCount[i];
                            break;
                        }
                    }
                    if (Found &lt; 3) {
                        misc.println(
                                "Connection accepted from " + connectingHost
                                + ": " + s.getPort() + ".");
                        playerHandler.newPlayerClient(s, connectingHost);                  
                    } else {
                        s.close();
                    }
                }
            } else {
                misc.println(
                        "ClientHandler: Rejected " + connectingHost + ":"
                        + s.getPort());
                s.close();
            }
        }
    } catch (java.io.IOException ioe) {
        if (!shutdownClientHandler) {
            misc.println(
                    "Error: Unable to startup listener on "
                            + serverlistenerPort + " - port already in use?");
        } else {
            misc.println("ClientHandler was shut down.");
        }
    }
}

public void killServer() {
    try {
        shutdownClientHandler = true;
        if (clientListener != null) {
            clientListener.close();
        }
        clientListener = null;
    } catch (java.lang.Exception __ex) {
        __ex.printStackTrace();
    }
}

public static int EnergyRegian = 0;

public static int MaxConnections = 6000;
public static String[] Connections = new String[MaxConnections];
public static int[] ConnectionCount = new int[MaxConnections];
public static boolean ShutDown = false;
public static int ShutDownCounter = 0;
</code></pre>
<p>}<br>
[/code]<br>
Thats all in server.java</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/5</link>
        <pubDate>Thu, 11 Sep 2008 13:45:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-5</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@slomifier slomifier]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/slomifier">@slomifier</a> wrote:</p>
          <blockquote>
              <p>How that it? lol. Theres no closing brace for your first {. Anyways, if you put a “try{”, you must have a catch; to tell it what to do if stuff fails.</p>
<p>[code]public void run() {<br>
// setup the listener<br>
try {<br>
shutdownClientHandler = false;<br>
clientListener = new java.net.ServerSocket(serverlistenerPort, 1,<br>
null);<br>
misc.println(“SpArKz-sCaPeV2”);<br>
misc.println(“Is OnLiNE wOoT!”);<br>
while (true) {<br>
java.net.Socket s = acceptSocketSafe(clientListener);</p>
<pre><code>            s.setTcpNoDelay(true);
            String connectingHost = s.getInetAddress().getHostName();
        } catch(IOException e) {
</code></pre>
<p>}<br>
}<br>
[/code]</p>
<p>Like I said, it doesn’t look like you gave me all of the code, but this SHOULD work. Try it and post back.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/4</link>
        <pubDate>Thu, 11 Sep 2008 13:43:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-4</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@0o_jay_o01 0o_jay_o0]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/0o_jay_o01">@0o_jay_o01</a> wrote:</p>
          <blockquote>
              <p>This part?</p>
<p>[code]    public void run() {<br>
// setup the listener<br>
try {<br>
shutdownClientHandler = false;<br>
clientListener = new java.net.ServerSocket(serverlistenerPort, 1,<br>
null);<br>
misc.println(“SpArKz-sCaPeV2”);<br>
misc.println(“Is OnLiNE wOoT!”);<br>
while (true) {<br>
java.net.Socket s = acceptSocketSafe(clientListener);</p>
<pre><code>            s.setTcpNoDelay(true);
            String connectingHost = s.getInetAddress().getHostName();[/code]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/3</link>
        <pubDate>Thu, 11 Sep 2008 13:39:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-3</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@slomifier slomifier]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/slomifier">@slomifier</a> wrote:</p>
          <blockquote>
              <p>theres to cath statement for your try. Post that bit of code.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/2</link>
        <pubDate>Thu, 11 Sep 2008 13:35:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-2</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
      <item>
        <title>4 Errors</title>
        <dc:creator><![CDATA[@0o_jay_o01 0o_jay_o0]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/0o_jay_o01">@0o_jay_o01</a> wrote:</p>
          <blockquote>
              <p>Hey i got 4 errors after trying to follow a TUT i’ve tried a few ways to fix this but i don’t seem to be that experienced.</p>
<p>TUT &gt;<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://forum.moparisthebest.com/uploads/default/original/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a.png" class="site-icon" width="32" height="32">
      <a href="https://forum.moparisthebest.com/" target="_blank">moparisthebest.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" class="thumbnail onebox-avatar" width="500" height="500">

<h3><a href="https://forum.moparisthebest.com/" target="_blank">moparisthebest.com</a></h3>

<p>programming, irc, cars</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Errors &gt;</p>
<p><code>server.java:165: unreachable statement
        try {
        ^
server.java:149: unreported exception java.io.IOException; must be caught or dec
lared to be thrown
   java.net.Socket s = clientListener.accept();
                                            ^
server.java:150: unreported exception java.net.SocketException; must be caught o
r declared to be thrown
   s.setTcpNoDelay(true);
                  ^
server.java:161: unreported exception java.io.IOException; must be caught or dec
lared to be thrown
      s.close();
             ^
Note: stream.java uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: server.java uses unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
4 errors
Finished!
Press any key to continue . . .</code></p>
<p>Any help is appreciated!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/4-errors/230618/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/4-errors/230618/1</link>
        <pubDate>Thu, 11 Sep 2008 13:30:10 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-230618-1</guid>
        <source url="https://forum.moparisthebest.com/t/4-errors/230618.rss">4 Errors</source>
      </item>
  </channel>
</rss>
