<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>How to add my stall thieving base to [DELTA] and add new stalls!</title>
    <link>https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728</link>
    <description>So you might need some things for this to work wich are
Region.java
ObjectDef.java
Cycle based task manager
If you dont have them request them below

So first of all make a new java fille called Thieving And stick this in there.
The code below is explained at its finest so you dont have any questions
[code=java]import task.Task;

/**
 * 
 * @author ART/STRUCKER/MR_BOOGIE
 *
 * This was made for stormy night
 */
public class Thieving {
	
	/**
	 * The stalll that will spawn when we have theft from the stall
	 */
	public static final int EMPTY_STALL = 634;
	
	/**
	 * The thieving skill id
	 */
	public static final int THIEVING_SKILL = 17;
	
	/**
	 * The experience rate
	 */
	public static final int EXPERIENCE_RATE = Constants.SKILLING_EXPERIENCE_RATE;
	
	/**
	 * An enum contaning all the information needed for the pickup
	 */
	private enum StallData {
		BAKE(1,1,1,1,1),;
		
		private int stall, requiredLevel, experience, reward, rewardAmount;
		
		/**
		 * Constructs the parameters that should be on the enum&#39;s constants
		 */
		StallData(int stall, int requiredLevel, int experience, int reward, int rewardAmount) {
			this.stall = stall;
			this.requiredLevel = requiredLevel;
			this.experience = experience;
			this.reward = reward;
			this.rewardAmount = rewardAmount;
		}
		
		/**
		 * Gets the stall id
		 */
		private int getStall() {
			return stall;
		}
		
		/**
		 * Gets the required level to steal from the stall
		 */
		private int getRequiredLevel() {
			return requiredLevel;
		}
		
		/**
		 * Gets the stuff that is in the stall
		 */
		private int getReward() {
			return reward;
		}
		
		/**
		 * Gets the amount of &quot;Stuff that is in the stall&quot;
		 */
		private int getRewardAmount() {
			return rewardAmount;
		}
		
		/**
		 * Gets the experience from thieving from the stall
		 */
		private int getExperience() {
			return experience;
		}
	}
	
	/**
	 * 
	 * @param player
	 * 		The player that will steal from the stall
	 * @param entity
	 * 		the object that the player has clicked to steal from
	 * @param objectX
	 * 		the x position where our object is located
	 * @param objectY
	 * 		the y position where our object is located
	 */
	public static void stealFromStall(final client player, final int object, final int objectX, final int objectY) {
		
		/**
		 * If the player is already stealing return
		 * 
		 * if the player doesn&#39;t have free slots return
		 */
		if(player.isStealing || player.freeSlots() == 0)
			return;
		
		/**
		 * A flag to tell that the player is stealing, to prevent mass clickin&#39;
		 */
		player.isStealing = true;
		
		/**
		 * this acces the values from our stall enum
		 */
		for(StallData stall: StallData.values()) {
			
			/**
			 * If the object the player clicked is any of the stalls
			 * continue
			 */
			if(object == stall.getStall()) {
				
				/**
				 * if the skill thieving of the player is equal or more than the
				 * required level, continue
				 */
				if(player.playerLevel[THIEVING_SKILL] &gt;= stall.getRequiredLevel()) {
					
					/**
					 * Adds the experience to the thieving skill
					 */
					player.addSkillXP(stall.getExperience(), THIEVING_SKILL);
				
					/**
					 * Creates a frame that tells the player that he succesfuly robbedz
					 */
					player.sM(&quot;You have succesfuly stolen from &quot;+ObjectDef.getObjectDef(stall.getStall()).name+&quot;&quot;);
				
					/**
					 * Adds the item the player stole to the bag
					 */
					player.addItem(stall.getReward(), stall.getRewardAmount());
					
					/**
					 * Creates a new empty stall that overlaps the stall, so, our stall seems to have 
					 * no items because it has been stolen
					 */
					player.makeGlobalObject(objectX, objectY, EMPTY_STALL, Region.getRotation(objectX, objectY), 10);
					
					/**
					 * Schedules a new task to be executed in 3 ticks
					 * 1 tick = 600ms
					 */
					server.getTaskScheduler().schedule(new Task(2, true) { 
						
						/**
						 * Sets the ticks to three
						 */
						private int count = 3;
						
						@Override
						protected void execute() {
							
							/**
							 * Decreases ticks the timer
							 */
							if (count &gt; 0) count--;
							
							/**
							 * When the timer has ticked off..
							 */
							 else {
								 
								 /**
								  * Makes the stall back where it should after the timer has ticked of
								  */
								player.makeGlobalObject(objectX, objectY, object, Region.getRotation(objectX, objectY), 10);	
								stop();
							}
						}
					});
					
				} 
				
				/**
				 * Else if the player level is not the required 
				 */
				else {
					
					/**
					 * Tells the player the level he needs to steal from the stall
					 */
					player.sM(&quot;You need atleast a  level of &quot;+stall.getRequiredLevel()+&quot; to steal from &quot;+ObjectDef.getObjectDef(stall.getStall()).name+&quot;&quot;);
				}
			}
		}
	}
}[/code]
now go where you packets are located and go to the first click object packet wich is case 132 and add this in there.

if its in client.java
[code]Thieving.stealFromStall(this, objectID)[/code]

if its somewhere else most likely it will be
[code]Thieving.stealFromStall(c, objectID)[/code]

Okay you succesfully implemented the base! now to add new stalls with custom rewards here is a little explanation

in the enum you can see this
&lt;blockquote&gt;BAKE(1,1,1,1,1),&lt;/blockquote&gt;
So to add a new stall just tab enter and make a new one with the name you would like and then to set the values 
(1,1,1,1,1)
the first parameter is the stall id (The object id)
the second parameter is the required level to steal from the object
the third parameter is the experience that you will get
the fourth parameter is the reward (Coins or whatsoever)
And the fifth parameter is the amount of reward
	
So lets make a new object!, that gives us coins, that needs 20 level to steal from, that gives 50 experience, that gives 50 coins, and the object is lets pick 2561, it would look like this
NIWSTALL(2561, 20, 50, 995, 50),
              obj      lvl   xp  rwrd  rwrd amount</description>
    
    <lastBuildDate>Sun, 17 Nov 2013 16:32:46 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>How to add my stall thieving base to [DELTA] and add new stalls!</title>
        <dc:creator><![CDATA[@strucker Strucker]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/strucker">@strucker</a> wrote:</p>
          <blockquote>
              <p>[quote=“DAn0194, post:2, topic:535728”]Good Job :)[/quote]Thanks bro <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728/3</link>
        <pubDate>Sun, 17 Nov 2013 16:32:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535728-3</guid>
        <source url="https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728.rss">How to add my stall thieving base to [DELTA] and add new stalls!</source>
      </item>
      <item>
        <title>How to add my stall thieving base to [DELTA] and add new stalls!</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>Good Job <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728/2</link>
        <pubDate>Sun, 17 Nov 2013 15:52:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535728-2</guid>
        <source url="https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728.rss">How to add my stall thieving base to [DELTA] and add new stalls!</source>
      </item>
      <item>
        <title>How to add my stall thieving base to [DELTA] and add new stalls!</title>
        <dc:creator><![CDATA[@strucker Strucker]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/strucker">@strucker</a> wrote:</p>
          <blockquote>
              <p>So you might need some things for this to work wich are<br>
Region.java<br>
ObjectDef.java<br>
Cycle based task manager<br>
If you dont have them request them below</p>
<p>So first of all make a new java fille called Thieving And stick this in there.<br>
The code below is explained at its finest so you dont have any questions</p>
<p>[code=java]import task.Task;</p>
<p>/**<br>
*</p>
<ul>
<li>
<p><span class="mention">@author</span> ART/STRUCKER/MR_BOOGIE</p>
</li>
<li>
</li>
<li>
<p>This was made for stormy night<br>
*/<br>
public class Thieving {</p>
<p>/**</p>
<ul>
<li>The stalll that will spawn when we have theft from the stall<br>
*/<br>
public static final int EMPTY_STALL = 634;</li>
</ul>
<p>/**</p>
<ul>
<li>The thieving skill id<br>
*/<br>
public static final int THIEVING_SKILL = 17;</li>
</ul>
<p>/**</p>
<ul>
<li>The experience rate<br>
*/<br>
public static final int EXPERIENCE_RATE = Constants.SKILLING_EXPERIENCE_RATE;</li>
</ul>
<p>/**</p>
<ul>
<li>
<p>An enum contaning all the information needed for the pickup<br>
*/<br>
private enum StallData {<br>
BAKE(1,1,1,1,1),;</p>
<p>private int stall, requiredLevel, experience, reward, rewardAmount;</p>
<p>/**</p>
<ul>
<li>Constructs the parameters that should be on the enum’s constants<br>
*/<br>
StallData(int stall, int requiredLevel, int experience, int reward, int rewardAmount) {<br>
this.stall = stall;<br>
this.requiredLevel = requiredLevel;<br>
this.experience = experience;<br>
this.reward = reward;<br>
this.rewardAmount = rewardAmount;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the stall id<br>
*/<br>
private int getStall() {<br>
return stall;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the required level to steal from the stall<br>
*/<br>
private int getRequiredLevel() {<br>
return requiredLevel;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the stuff that is in the stall<br>
*/<br>
private int getReward() {<br>
return reward;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the amount of “Stuff that is in the stall”<br>
*/<br>
private int getRewardAmount() {<br>
return rewardAmount;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the experience from thieving from the stall<br>
*/<br>
private int getExperience() {<br>
return experience;<br>
}<br>
}</li>
</ul>
</li>
</ul>
<p>/**</p>
<ul>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> player</li>
<li>
<pre><code> The player that will steal from the stall
</code></pre>
</li>
<li>
<a class="mention" href="/u/param">@param</a> entity</li>
<li>
<pre><code> the object that the player has clicked to steal from
</code></pre>
</li>
<li>
<a class="mention" href="/u/param">@param</a> objectX</li>
<li>
<pre><code> the x position where our object is located
</code></pre>
</li>
<li>
<a class="mention" href="/u/param">@param</a> objectY</li>
<li>
<pre><code> the y position where our object is located
</code></pre>
</li>
</ul>
<p>*/<br>
public static void stealFromStall(final client player, final int object, final int objectX, final int objectY) {</p>
<pre><code> /**
  * If the player is already stealing return
  * 
  * if the player doesn't have free slots return
  */
 if(player.isStealing || player.freeSlots() == 0)
 	return;
 
 /**
  * A flag to tell that the player is stealing, to prevent mass clickin'
  */
 player.isStealing = true;
 
 /**
  * this acces the values from our stall enum
  */
 for(StallData stall: StallData.values()) {
 	
 	/**
 	 * If the object the player clicked is any of the stalls
 	 * continue
 	 */
 	if(object == stall.getStall()) {
 		
 		/**
 		 * if the skill thieving of the player is equal or more than the
 		 * required level, continue
 		 */
 		if(player.playerLevel[THIEVING_SKILL] &gt;= stall.getRequiredLevel()) {
 			
 			/**
 			 * Adds the experience to the thieving skill
 			 */
 			player.addSkillXP(stall.getExperience(), THIEVING_SKILL);
 		
 			/**
 			 * Creates a frame that tells the player that he succesfuly robbedz
 			 */
 			player.sM("You have succesfuly stolen from "+ObjectDef.getObjectDef(stall.getStall()).name+"");
 		
 			/**
 			 * Adds the item the player stole to the bag
 			 */
 			player.addItem(stall.getReward(), stall.getRewardAmount());
 			
 			/**
 			 * Creates a new empty stall that overlaps the stall, so, our stall seems to have 
 			 * no items because it has been stolen
 			 */
 			player.makeGlobalObject(objectX, objectY, EMPTY_STALL, Region.getRotation(objectX, objectY), 10);
 			
 			/**
 			 * Schedules a new task to be executed in 3 ticks
 			 * 1 tick = 600ms
 			 */
 			server.getTaskScheduler().schedule(new Task(2, true) { 
 				
 				/**
 				 * Sets the ticks to three
 				 */
 				private int count = 3;
 				
 				@Override
 				protected void execute() {
 					
 					/**
 					 * Decreases ticks the timer
 					 */
 					if (count &gt; 0) count--;
 					
 					/**
 					 * When the timer has ticked off..
 					 */
 					 else {
 						 
 						 /**
 						  * Makes the stall back where it should after the timer has ticked of
 						  */
 						player.makeGlobalObject(objectX, objectY, object, Region.getRotation(objectX, objectY), 10);	
 						stop();
 					}
 				}
 			});
 			
 		} 
 		
 		/**
 		 * Else if the player level is not the required 
 		 */
 		else {
 			
 			/**
 			 * Tells the player the level he needs to steal from the stall
 			 */
 			player.sM("You need atleast a  level of "+stall.getRequiredLevel()+" to steal from "+ObjectDef.getObjectDef(stall.getStall()).name+"");
 		}
 	}
 }
</code></pre>
<p>}<br>
}[/code]<br>
now go where you packets are located and go to the first click object packet wich is case 132 and add this in there.</p>
</li>
</ul>
<p>if its in client.java</p>
<pre><code class="lang-auto"></code></pre>
<p>if its somewhere else most likely it will be</p>
<pre><code class="lang-auto"></code></pre>
<p>Okay you succesfully implemented the base! now to add new stalls with custom rewards here is a little explanation</p>
<p>in the enum you can see this</p>
<blockquote>BAKE(1,1,1,1,1),</blockquote>
So to add a new stall just tab enter and make a new one with the name you would like and then to set the values 
(1,1,1,1,1)
the first parameter is the stall id (The object id)
the second parameter is the required level to steal from the object
the third parameter is the experience that you will get
the fourth parameter is the reward (Coins or whatsoever)
And the fifth parameter is the amount of reward
<p>So lets make a new object!, that gives us coins, that needs 20 level to steal from, that gives 50 experience, that gives 50 coins, and the object is lets pick 2561, it would look like this<br>
NIWSTALL(2561, 20, 50, 995, 50),<br>
obj      lvl   xp  rwrd  rwrd amount</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728/1</link>
        <pubDate>Sun, 17 Nov 2013 04:36:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535728-1</guid>
        <source url="https://forum.moparisthebest.com/t/how-to-add-my-stall-thieving-base-to-delta-and-add-new-stalls/535728.rss">How to add my stall thieving base to [DELTA] and add new stalls!</source>
      </item>
  </channel>
</rss>
