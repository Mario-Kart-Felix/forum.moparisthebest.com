<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/jelly-donut/519190?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 19:35:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Jelly Donut - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hi guys, its been awhile since I&amp;#39;ve posted a project thread. I wanted to work on a server release for 2013 in order for there to be something for people to try and play with to come up with ideas or possibly use if they &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="5191909ba9.html?page=3" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Jelly Donut&#39;" href="519190.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/jelly-donut/519190?page=3" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/jelly-donut/519190?page=3" />
<meta property="og:title" content="Jelly Donut" />
<meta name="twitter:title" content="Jelly Donut" />
<meta property="og:description" content="It&#39;s now possible to configure the rate at which the ondemand service writes to a client How is it done exactly? Purpose of doing this? Pros/cons." />
<meta name="twitter:description" content="It&#39;s now possible to configure the rate at which the ondemand service writes to a client How is it done exactly? Purpose of doing this? Pros/cons." />
<meta property="article:published_time" content="2013-06-10T23:57:39+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="5191904658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="519190.html">Jelly Donut</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Loveandpower.html'><span itemprop='name'>Loveandpower</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-06-10T23:57:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T08:18:42Z' class='post-time'>
              August 4, 2016,  8:18am
            </time>
        <span itemprop='position'>#41</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <blockquote>It's now possible to configure the rate at which the ondemand service writes to a client</blockquote>
<p>How is it done exactly? Purpose of doing this? Pros/cons.</p>
      </div>

      <meta itemprop='headline' content='Jelly Donut'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-06-11T00:03:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T08:18:43Z' class='post-time'>
              August 4, 2016,  8:18am
            </time>
        <span itemprop='position'>#42</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="41" data-topic="519190">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/loveandpower/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Loveandpower:</div>
<blockquote>
<p>[quote]It’s now possible to configure the rate at which the ondemand service writes to a client</p>
</blockquote>
</aside>
<p>How is it done exactly? Purpose of doing this? Pros/cons.[/quote]</p>
<p>You may have to throttle the upload rate.</p>
<p>5000 bytes * 20 cycles per second * 2048 clients = 195.3125 megabytes/second up</p>
<p>Also, if you said to only write 50 bytes, it’d still try and write the entire archive in chunks of 512. But sometimes the archive size is less than 512 and it’s really inefficient to write 10 bytes per cycle if the archive isnt large.</p>
<pre><code class="lang-auto">            int amountToWrite = bytesPerCycle; //Bytes per cycle = rate
            while(amountToWrite &gt; 0) {
                ArchiveRequest archiveRequest = client.getActiveRequest();
                Connection connection = client.getConnection();
                boolean pollRequest = archiveRequest == null || archiveRequest.isDone(archiveManager);
                if(pollRequest) {
                    archiveRequest = client.pollArchiveRequest();
                    if(archiveRequest == null) {
                        break;
                    }
                    if(!archiveManager.isValid(archiveRequest)) {
                        logger.info("invalid archive request sent from '" + connection.getHostAddress() +"', closing connection [" + archiveRequest + "]");
                        client.resetActiveRequest();
                        continue;
                    }
                }
                int length = archiveManager.getSize(archiveRequest) - archiveRequest.getOffset();
                if(length &gt; ArchiveRequest.CHUNK_SIZE) {
                    length = ArchiveRequest.CHUNK_SIZE;
                }
                if(connection.getRemaining() &lt; length) {
                    break;
                }
                writeArchiveRequestChunk(archiveRequest, client.getConnection()); //Always writes 512 or less
                amountToWrite -= length;
            }</code></pre>
      </div>

      <meta itemprop='headline' content='Jelly Donut'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Loveandpower.html'><span itemprop='name'>Loveandpower</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-06-11T01:11:58Z'>
            <time itemprop='dateModified' datetime='2016-08-04T08:18:46Z' class='post-time'>
              August 4, 2016,  8:18am
            </time>
        <span itemprop='position'>#43</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks sini babe <em>thumbs up</em></p>
      </div>

      <meta itemprop='headline' content='Jelly Donut'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-06-12T07:34:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T08:45:22Z' class='post-time'>
              August 4, 2016,  8:45am
            </time>
        <span itemprop='position'>#44</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Pretty large design update.</p>
<ul>
<li>Service base object will now handle when a connection is requested to be registered.</li>
<li>Added base service client object which holds message objects to encode out to the connection for the client.</li>
<li>Service state added to assure synchronization between the network thread/service manger thread</li>
<li>Updated the Ondemand service to follow the new service model</li>
<li>Change some Ondemand constant names to make more sense</li>
<li>Repackaged most of the message/message handlers</li>
<li>Ondemand service will now write up to the amount of bytes per cycle and not in increments of 512</li>
</ul>
<p>This update was created in anticipation for login/game services.</p>
<p>Check it out at:</p>
<p><a href="https://github.com/Hadyn/jelly-donut" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/Hadyn/jelly-donut</a></p>
      </div>

      <meta itemprop='headline' content='Jelly Donut'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Uncalled.html'><span itemprop='name'>Uncalled</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-06-12T20:09:55Z'>
            <time itemprop='dateModified' datetime='2016-08-04T08:45:42Z' class='post-time'>
              August 4, 2016,  8:45am
            </time>
        <span itemprop='position'>#45</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeye, sini trying to fuk shit up again. Lets see how it turns out… Hopefully it being more successful than a lot of previous developments. Not saying that I’m talking about sini’s previous developments</p>
<p>[size=1pt]-cough- unless I am -cough-[/size]</p>
      </div>

      <meta itemprop='headline' content='Jelly Donut'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-06-13T02:15:58Z'>
            <time itemprop='dateModified' datetime='2016-08-04T08:46:15Z' class='post-time'>
              August 4, 2016,  8:46am
            </time>
        <span itemprop='position'>#46</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Uncalled, post:45, topic:519190”]Yeye, sini trying to fuk shit up again. Lets see how it turns out… Hopefully it being more successful than a lot of previous developments. Not saying that I’m talking about sini’s previous developments</p>
<p>[size=1pt]-cough- unless I am -cough-[/size][/quote]</p>
<p>I find all my previous developments successful, because I now know what works and what doesn’t. I’d say we’re on far different levels of experience/skill.</p>
      </div>

      <meta itemprop='headline' content='Jelly Donut'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Uncalled.html'><span itemprop='name'>Uncalled</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-06-13T07:56:58Z'>
            <time itemprop='dateModified' datetime='2016-08-04T08:46:27Z' class='post-time'>
              August 4, 2016,  8:46am
            </time>
        <span itemprop='position'>#47</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sinisoul, post:46, topic:519190”][quote author=Uncalled link=topic=637648.msg4313226#msg4313226 date=1371067795]<br>
Yeye, sini trying to fuk shit up again. Lets see how it turns out… Hopefully it being more successful than a lot of previous developments. Not saying that I’m talking about sini’s previous developments</p>
<p>[size=1pt]-cough- unless I am -cough-[/size]<br>
[/quote]</p>
<p>I find all my previous developments successful, because I now know what works and what doesn’t. I’d say we’re on far different levels of experience/skill.[/quote]I’m sorry? I said that sarcastically, so no need to go and get hostile towards me. Whether the server prospers or fails, I support most development threads.</p>
      </div>

      <meta itemprop='headline' content='Jelly Donut'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-06-14T08:44:22Z'>
            <time itemprop='dateModified' datetime='2016-08-04T08:47:14Z' class='post-time'>
              August 4, 2016,  8:47am
            </time>
        <span itemprop='position'>#48</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Uncommitted updates:</p>
<ul>
<li>Added in cache utility classes (CacheIO, FileSystem, UpdateTable, FileTable)</li>
<li>Added in a job to trim archives to their proper size.</li>
</ul>
<p>Currently reworking the ArchiveProvider, and ArchiveManager.</p>
<p>The source will be updated when it is stable.</p>
      </div>

      <meta itemprop='headline' content='Jelly Donut'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/g0d_of_war1.html'><span itemprop='name'>g0d_of_war1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-07-13T23:10:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T09:17:58Z' class='post-time'>
              August 4, 2016,  9:17am
            </time>
        <span itemprop='position'>#49</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>bump</p>
      </div>

      <meta itemprop='headline' content='Jelly Donut'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-07-13T23:36:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T09:17:59Z' class='post-time'>
              August 4, 2016,  9:17am
            </time>
        <span itemprop='position'>#50</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>why</p>
      </div>

      <meta itemprop='headline' content='Jelly Donut'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="5191904658.html?page=2">← previous page</a></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/jelly-donut/519190?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 19:35:35 GMT -->
</html>
