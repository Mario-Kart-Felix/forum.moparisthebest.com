<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/runescape-loader-boot/433788 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 13:30:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Runescape Loader [Boot] - Runescape - moparisthebest.com</title>
    <meta name="description" content="Well, I was mainly playing around with a loader last night. This is a boot class for grabbing the game pack (loader). It contains the unpacking of the client into separate class files (they are obfuscated).  

Version: 1&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="433788.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Runescape Loader [Boot]&#39;" href="433788.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://i56.tinypic.com/1y5laq.jpg" />
<meta property="og:image" content="http://i56.tinypic.com/1y5laq.jpg" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/runescape-loader-boot/433788" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/runescape-loader-boot/433788" />
<meta property="og:title" content="Runescape Loader [Boot]" />
<meta name="twitter:title" content="Runescape Loader [Boot]" />
<meta property="og:description" content="Well, I was mainly playing around with a loader last night. This is a boot class for grabbing the game pack (loader). It contains the unpacking of the client into separate class files (they are obfuscated).  Version: 1.1.0  Boot.java  package org.runeception;  import java.applet.Applet; import java.applet.AppletContext; import java.applet.AppletStub; import java.awt.Color; import java.awt.Dimension; import java.io.BufferedInputStream; import java.io.BufferedOutputStream; import java.io.BufferedR..." />
<meta name="twitter:description" content="Well, I was mainly playing around with a loader last night. This is a boot class for grabbing the game pack (loader). It contains the unpacking of the client into separate class files (they are obfuscated).  Version: 1.1.0  Boot.java  package org.runeception;  import java.applet.Applet; import java.applet.AppletContext; import java.applet.AppletStub; import java.awt.Color; import java.awt.Dimension; import java.io.BufferedInputStream; import java.io.BufferedOutputStream; import java.io.BufferedR..." />
<meta property="article:published_time" content="2012-02-22T01:34:16+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="433788.html">Runescape Loader [Boot]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pure_Slay.html'><span itemprop='name'>Pure_Slay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-02-22T01:34:16Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:05:29Z' class='post-time'>
              August 2, 2016,  4:05pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, I was mainly playing around with a loader last night. This is a boot class for grabbing the game pack (loader). It contains the unpacking of the client into separate class files (they are obfuscated).</p>
<p>Version: 1.1.0<br>
Boot.java</p>
<pre><code class="lang-auto">package org.runeception;

import java.applet.Applet;
import java.applet.AppletContext;
import java.applet.AppletStub;
import java.awt.Color;
import java.awt.Dimension;
import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.lang.reflect.InvocationTargetException;
import java.net.HttpURLConnection;
import java.net.JarURLConnection;
import java.net.MalformedURLException;
import java.net.URL;
import java.net.URLClassLoader;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.Map.Entry;
import java.util.jar.JarFile;
import java.util.logging.Logger;

import javax.swing.JFrame;

import org.runeception.utilities.AES;

/**
 * Runescape Client Booter
 * Fetches, Downloads, and Initializes
 * @author Emily (emilah@live.com)
 * @version 1.1.0
 *
 */
public class Boot {

	private Logger logger = Logger.getLogger(Boot.class.getName());
	
	private Map&lt;String, String&gt; parameters = new HashMap&lt;String, String&gt;();
	
	public Boot() throws IOException, ClassNotFoundException, InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, NoSuchMethodException, SecurityException {
		File loader = new File(System.getProperty("user.home") + "//runeception/loader.jar");
		File client = new File(System.getProperty("user.home") + "//runeception/client/");
		File directory = new File(System.getProperty("user.home") + "//runeception/");
		directory.mkdir();
		File params = new File(System.getProperty("user.home") + "//runeception/params.txt");
		if(!params.exists()) {
			generateParameters();
		}
		logger.info("Fetching client parameters...");
		fetchParameters();
		if(!loader.exists()) {
			logger.info("Fetching Game Pack...");
			fetchGamePack(loader);
		}
		if(!client.exists()) {
			logger.info("Fetching Game Client...");
			constructGameClient(loader);
		}
		logger.info("Initalizing Client...");
		initalizeClient(true);
	}
	
	public void constructGameClient(File client) throws MalformedURLException, IOException {
		File directory = new File(System.getProperty("user.home") + "//runeception/client/bin/");
		directory.mkdirs();
		JarURLConnection connection = (JarURLConnection) new URL("jar:"+client.toURI().toURL()+"!/").openConnection();
		JarFile jarFile = connection.getJarFile();
		logger.info("Fetching Decrypted Class Files found in archive: inner.pack.gz ...");
		for(Entry&lt;String, byte[]&gt; entry : AES.decryptPack(jarFile.getInputStream(jarFile.getEntry("inner.pack.gz")), getActivationKey(), getConfirmationKey()).entrySet()) {
			FileOutputStream out = new FileOutputStream(System.getProperty("user.home") + "//runeception/client/bin/"+entry.getKey()+".class");
			out.write(entry.getValue());
			out.close();
		}
	}
	
	public void generateParameters() throws IOException {
		logger.info("Generating client parameters...");
		BufferedWriter writer = new BufferedWriter(new FileWriter(new File(System.getProperty("user.home") + "//runeception/params.txt")));
		for(String line : fetchPageDetails()) {
			if(line.contains("&lt;param name=")) {
				String key = line.split("&lt;param name=\"")[1].split("\" ")[0];
				String value = line.split("value=\"")[1].split("\"&gt;'")[0];
				if(value.isEmpty())
					value = " ";
				writer.write(key+"&lt;value&gt;"+value);
				writer.newLine();
			}
		}
		writer.close();
	}
	
	public String getActivationKey() {
		return new StringBuilder(parameters.get("0")).toString();
	}
	
	public String getConfirmationKey() {
		return new StringBuilder(parameters.get("-1")).toString();
	}
	
	public void fetchParameters() throws IOException {
		BufferedReader reader = new BufferedReader(new FileReader(new File(System.getProperty("user.home") + "//runeception/params.txt")));
		String detail;
		while((detail = reader.readLine()) != null) {
			parameters.put(detail.split("&lt;value&gt;")[0], detail.split("&lt;value&gt;")[1]);
		}
		reader.close();
	}
	
	public void initalizeClient(boolean isLoader) throws ClassNotFoundException, InstantiationException, IllegalAccessException, IOException, IllegalArgumentException, InvocationTargetException, NoSuchMethodException, SecurityException {
		if(isLoader) {
			logger.info("Fetching Runescape Game Pack...");
			URLClassLoader classLoader = new URLClassLoader(new URL[] {new File(System.getProperty("user.home") + "//runeception/loader.jar").toURI().toURL()});
			Applet client = (Applet) classLoader.loadClass("Rs2Applet").newInstance();
			client.setSize(new Dimension(800, 600));
			client.setBackground(Color.BLACK);
			client.setStub(new AppletStub() {
				@Override
				public void appletResize(int width, int height) {
					
				}

				@Override
				public AppletContext getAppletContext() {
					return null;
				}

				@Override
				public URL getCodeBase() {
					try {
						return new URL("http://world13.runescape.com");
					} catch (MalformedURLException e) {
						e.printStackTrace();
					}
					return null;
				}

				@Override
				public URL getDocumentBase() {
					try {
						return new URL("http://world13.runescape.com");
					} catch (MalformedURLException e) {
						e.printStackTrace();
					}
					return null;
				}

				@Override
				public String getParameter(String name) {
					return parameters.get(name);
				}

				@Override
				public boolean isActive() {
					return true;
				}
				
			});
			client.init();
			logger.info("Initalizing Loader Applet...");
			client.start();
			JFrame loader = new JFrame("Runeception");
			loader.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
			loader.setPreferredSize(client.getSize());
			loader.add(client);
			logger.info("Initalizing Loader Frame...");
			loader.pack();
			loader.setVisible(true);
		} else {
			URLClassLoader classLoader = new URLClassLoader(new URL[] {new File(System.getProperty("user.home") + "//runeception/client/bin/").toURI().toURL()});
		}
	}
	
	public void fetchGamePack(File loader) throws IOException {
		String fileLocation = fetchPageSource().split("archive=")[1].split(" ")[0];
		BufferedInputStream input = new BufferedInputStream(new URL("http://world1.runescape.com/"+fileLocation).openStream());
		BufferedOutputStream output = new BufferedOutputStream(new FileOutputStream(loader));
		int bytesRead = 0;
		while((bytesRead = input.read()) != -1) {
			output.write(bytesRead);
		}
		input.close();
		output.close();
	}
	
	public ArrayList&lt;String&gt; fetchPageDetails() throws MalformedURLException, IOException {
		ArrayList&lt;String&gt; pageSource = new ArrayList&lt;String&gt;();
		BufferedReader reader = new BufferedReader(new InputStreamReader(new URL("http://world13.runescape.com").openStream()));
		String line;
		while((line = reader.readLine()) != null)
			pageSource.add(line);
		reader.close();
		return pageSource;
	}
	
	public String fetchPageSource() throws IOException {
		URL website = new URL("http://world13.runescape.com/");
		HttpURLConnection connection = (HttpURLConnection) website.openConnection();
		connection.setRequestMethod("GET");
		InputStream input = connection.getInputStream();
		ByteArrayOutputStream output = new ByteArrayOutputStream();
		byte[] pageBuffer = new byte[1024];
		int bytesRead = 0;
		while((bytesRead = input.read(pageBuffer)) != -1)
			output.write(pageBuffer, 0, bytesRead);
		input.close();
		output.close();
		return new StringBuilder().append(output).toString();
	}
}</code></pre>
<p>AES.java<br>
<a href="http://pastebin.com/a1Xf9PPv" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/a1Xf9PPv</a></p>
<p><img src="http://i56.tinypic.com/1y5laq.jpg" alt width="140" height="120"></p>
      </div>

      <meta itemprop='headline' content='Runescape Loader [Boot]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runewings317.html'><span itemprop='name'>runewings317</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-02-22T02:53:20Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:05:34Z' class='post-time'>
              August 2, 2016,  4:05pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Uhoh. I think we’re gunna see some bots again! Good job though.</p>
      </div>

      <meta itemprop='headline' content='Runescape Loader [Boot]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-02-22T06:41:02Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:05:54Z' class='post-time'>
              August 2, 2016,  4:05pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="2" data-topic="433788">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/runewings317/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> runewings317:</div>
<blockquote>
<p>Uhoh. I think we’re gunna see some bots again! Good job though.</p>
</blockquote>
</aside>
<p>What do you mean?</p>
      </div>

      <meta itemprop='headline' content='Runescape Loader [Boot]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-02-22T09:16:37Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:05:55Z' class='post-time'>
              August 2, 2016,  4:05pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“runewings317, post:2, topic:433788”]Uhoh. I think we’re gunna see some bots again! Good job though.[/quote]Loading the applet is trivial and something we have been able to do even right after the bot nook, and completely unrelated to injecting hooks into the client which is what is needed for that type of bot</p>
      </div>

      <meta itemprop='headline' content='Runescape Loader [Boot]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pure_Slay.html'><span itemprop='name'>Pure_Slay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-02-22T22:27:28Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:06:29Z' class='post-time'>
              August 2, 2016,  4:06pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Davidi2, post:4, topic:433788”][quote author=runewings317 link=topic=536504.msg3922665#msg3922665 date=1329879200]<br>
Uhoh. I think we’re gunna see some bots again! Good job though.<br>
[/quote]Loading the applet is trivial and something we have been able to do even right after the bot nook, and completely unrelated to injecting hooks into the client which is what is needed for that type of bot[/quote]</p>
<p>This downloads the client files as well. It just has the setting used for using loader (boolean : true), I didn’t include the portion for generating a new loading class for the client from the dumped class files (so you can inject data or use reflection, depending on what you want to do). Hooks are the only hard part, or well, not the hooks. But, finding them/identifying them is the portion that takes time.</p>
      </div>

      <meta itemprop='headline' content='Runescape Loader [Boot]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/runescape-loader-boot/433788 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 13:30:26 GMT -->
</html>
