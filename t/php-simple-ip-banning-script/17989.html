<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/php-simple-ip-banning-script/17989 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 20:53:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PHP] Simple IP banning script - General Programming - moparisthebest.com</title>
    <meta name="description" content="Some people were uploading gay pictures to my image uploading site so I made a simple IP banning script. Maybe someone will learn something from it... 

The script: 

[code=php] &amp;lt;?php 

$banned_ips = (&amp;quot;bannedip1, bannedi&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="17989.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PHP] Simple IP banning script&#39;" href="17989.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/php-simple-ip-banning-script/17989" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/php-simple-ip-banning-script/17989" />
<meta property="og:title" content="[PHP] Simple IP banning script" />
<meta name="twitter:title" content="[PHP] Simple IP banning script" />
<meta property="og:description" content="Some people were uploading gay pictures to my image uploading site so I made a simple IP banning script. Maybe someone will learn something from it…  The script:  [code=php]  &lt;?php  $banned_ips = (&quot;bannedip1, bannedip2, bannedip3, bannedip4, bannedip5&quot;);   $guests_ip = $_SERVER[&#39;REMOTE_ADDR&#39;]; $ban_wagon = explode(&quot;,&quot;, $banned_ips); foreach($ban_wagon as $ip) 	{ 		if($guests_ip == $ip) 		{ 			die(&quot;Banned bitch&quot;); 		} 	} ?&gt;[/code] Save that as ipbans or whatever you want really…Then just put the ..." />
<meta name="twitter:description" content="Some people were uploading gay pictures to my image uploading site so I made a simple IP banning script. Maybe someone will learn something from it…  The script:  [code=php]  &lt;?php  $banned_ips = (&quot;bannedip1, bannedip2, bannedip3, bannedip4, bannedip5&quot;);   $guests_ip = $_SERVER[&#39;REMOTE_ADDR&#39;]; $ban_wagon = explode(&quot;,&quot;, $banned_ips); foreach($ban_wagon as $ip) 	{ 		if($guests_ip == $ip) 		{ 			die(&quot;Banned bitch&quot;); 		} 	} ?&gt;[/code] Save that as ipbans or whatever you want really…Then just put the ..." />
<meta property="article:published_time" content="2006-10-12T04:48:12+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="17989.html">[PHP] Simple IP banning script</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Exernet.html'><span itemprop='name'>Exernet</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-10-12T04:48:12Z'>
            <time itemprop='dateModified' datetime='2016-07-29T22:40:15Z' class='post-time'>
              July 29, 2016, 10:40pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Some people were uploading gay pictures to my image uploading site so I made a simple IP banning script. Maybe someone will learn something from it…</p>
<p>The script:</p>
<p>[code=php]</p>
&lt;?php

$banned_ips = ("bannedip1, bannedip2, bannedip3, bannedip4, bannedip5"); 

$guests_ip = $_SERVER['REMOTE_ADDR'];
$ban_wagon = explode(",", $banned_ips);
foreach($ban_wagon as $ip)
	{
		if($guests_ip == $ip)
		{
			die("Banned bitch");
		}
	}
?&gt;[/code]
<p>Save that as ipbans or whatever you want really…Then just put the following at the top of every page you want the people banned from:</p>
<pre><code class="lang-auto">&lt;?php include("ipbans.php"); ?&gt;</code></pre>
<p><img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='[PHP] Simple IP banning script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ron.html'><span itemprop='name'>Ron</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-10-12T05:14:49Z'>
            <time itemprop='dateModified' datetime='2016-07-29T22:40:18Z' class='post-time'>
              July 29, 2016, 10:40pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Cool script Exernet. <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Good job.</p>
      </div>

      <meta itemprop='headline' content='[PHP] Simple IP banning script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BobDole81.html'><span itemprop='name'>BobDole81</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-10-12T06:51:36Z'>
            <time itemprop='dateModified' datetime='2016-07-29T22:40:30Z' class='post-time'>
              July 29, 2016, 10:40pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Nice job, but might I suggest you make an addition.</p>
<p>REMOTE_ADDR is simply the ip the page was requested from, which can be bypassed easily by even transparent proxies (I believe).  But there are four http ip environmental variables that may be initialized at some time.</p>
<p>HTTP_CLIENT_IP<br>
HTTP_X_FORWARDED<br>
HTTP_X_FORWARDED_FOR<br>
REMOTE_ADDR</p>
<p>I believe that’s the order the ips values should be checked in…if HTTP_CLIENT_IP values doesn’t exist, test HTTP_X_FORWARDED, and if that still doesn’t exist, move on.  This can, of course, still be bypassed by some of those high anonymity proxies, but this is just a suggestion to make it more complete <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='[PHP] Simple IP banning script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/dead_4_u_now.html'><span itemprop='name'>dead_4_u_now</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-10-18T13:04:06Z'>
            <time itemprop='dateModified' datetime='2016-07-29T22:50:51Z' class='post-time'>
              July 29, 2016, 10:50pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>gr8</p>
      </div>

      <meta itemprop='headline' content='[PHP] Simple IP banning script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/S_ms.html'><span itemprop='name'>S_ms</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-10-18T20:56:42Z'>
            <time itemprop='dateModified' datetime='2016-07-29T22:51:02Z' class='post-time'>
              July 29, 2016, 10:51pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>wow shit, didn’t seen this before i posted mine <img src="../../images/emoji/twitter/stuck_out_tonguec164.png?v=9" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='[PHP] Simple IP banning script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/php-simple-ip-banning-script/17989 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 20:53:12 GMT -->
</html>
