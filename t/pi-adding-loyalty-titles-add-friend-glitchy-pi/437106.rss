<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI]Adding Loyalty Titles, Add friend glitchy[PI]</title>
    <link>https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106</link>
    <description>So I made some loyalty titles client sided for my friend&#39;s server.  Everything works perfect but when you right click on their name in the chat box it comes up as &quot;&lt;col=1313280&gt;loyaltyTitle&lt;/col&gt; Username&quot;  I know how to remove the color tags, but I want them there so they show up in the chat box.  When you click add friend after right clicking, it adds them as &quot;Col 1313280...&quot; Here is the buildPublicChat method[code=java]	private void buildPublicChat(int j)
	{
		int l = 0;
		for(int i1 = 0; i1 &lt; 500; i1++)
		{
			if(chatMessages[i1] == null)
				continue;
			if(chatTypeView != 1)
				continue;
			int j1 = chatTypes[i1];
			String s = chatNames[i1];
			String ct = chatMessages[i1];
			int k1 = (70 - l * 14 + 42) + anInt1089 + 4 + 5;
			if(k1 &lt; -23)
				break;
			if(s != null &amp;&amp; s.startsWith(&quot;@cr&quot;)) {
				String rightID = s.substring(3,4);
				s = s.substring(5);
			}
			if((j1 == 1 || j1 == 2) &amp;&amp; (j1 == 1 || publicChatMode == 0 || publicChatMode == 1 &amp;&amp; isFriendOrSelf(s))) {
			if(j &gt; k1 - 14 &amp;&amp; j &lt;= k1 &amp;&amp; !s.equals(myPlayer.name)) {
				if(myPrivilege &gt;= 1) {
					menuActionName[menuActionRow] = &quot;Report abuse @whi@&quot; + s;
					menuActionID[menuActionRow] = 606;
					menuActionRow++;
				}
				menuActionName[menuActionRow] = &quot;Add ignore @whi@&quot; + s;
				menuActionID[menuActionRow] = 42;
				menuActionRow++;
				menuActionName[menuActionRow] = &quot;Add friend @whi@&quot; + s;
				menuActionID[menuActionRow] = 337;
				menuActionRow++;
			}
			l++;
			}
		}
	}[/code]
I want to point out this code here: [code=java]			if(s != null &amp;&amp; s.startsWith(&quot;@cr&quot;)) {
				String rightID = s.substring(3,4);
				s = s.substring(5);
			}[/code]
So it&#39;s saying that if you have a crown in front of your name the username starts after that, at least that&#39;s what I think.  Now here is some code that calls the loyalty titles:
[code=java]						if(myPrivilege != 0 &amp;&amp; myPrivilege &lt;= modIcons.length)
							pushMessage(myPlayer.textSpoken, 2, &quot;@cr&quot; + myPrivilege + &quot;@&lt;col=13132800&gt;&quot;+LOYALTYTITLES(myPlayer.skill)+&quot;&lt;/col&gt; &quot;  + myPlayer.name);						
						else
							pushMessage(myPlayer.textSpoken, 2, &quot;&lt;col=13132800&gt;&quot;+LOYALTYTITLES(myPlayer.skill)+&quot;&lt;/col&gt; &quot; + myPlayer.name);[/code]
Anyone got an idea on how to fix it?
Picture of what&#39;s going on: [IMG]http://i42.tinypic.com/2qa4rau.jpg[/img]</description>
    
    <lastBuildDate>Wed, 21 Mar 2012 23:01:47 +0000</lastBuildDate>
    <category>Game Development</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI]Adding Loyalty Titles, Add friend glitchy[PI]</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>It’s not just the  thing, it’s also the loyalty titles, when you add the person it will add everything that line says including the loyalty title and color tags.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106/3</link>
        <pubDate>Wed, 21 Mar 2012 23:01:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-437106-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106.rss">[PI]Adding Loyalty Titles, Add friend glitchy[PI]</source>
      </item>
      <item>
        <title>[PI]Adding Loyalty Titles, Add friend glitchy[PI]</title>
        <dc:creator><![CDATA[@iiTzSkillz iiTzSkillz]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/iitzskillz">@iiTzSkillz</a> wrote:</p>
          <blockquote>
              <p>not sure but try taking the &lt;col=&gt; bit out of the “master” bit, and put it before the "  Not saying this will work but worth a try ?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106/2</link>
        <pubDate>Wed, 21 Mar 2012 22:55:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-437106-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106.rss">[PI]Adding Loyalty Titles, Add friend glitchy[PI]</source>
      </item>
      <item>
        <title>[PI]Adding Loyalty Titles, Add friend glitchy[PI]</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>So I made some loyalty titles client sided for my friend’s server.  Everything works perfect but when you right click on their name in the chat box it comes up as “&lt;col=1313280&gt;loyaltyTitle Username”  I know how to remove the color tags, but I want them there so they show up in the chat box.  When you click add friend after right clicking, it adds them as “Col 1313280…” Here is the buildPublicChat method<code>	private void buildPublicChat(int j)
	{
		int l = 0;
		for(int i1 = 0; i1 &lt; 500; i1++)
		{
			if(chatMessages[i1] == null)
				continue;
			if(chatTypeView != 1)
				continue;
			int j1 = chatTypes[i1];
			String s = chatNames[i1];
			String ct = chatMessages[i1];
			int k1 = (70 - l * 14 + 42) + anInt1089 + 4 + 5;
			if(k1 &lt; -23)
				break;
			if(s != null &amp;&amp; s.startsWith("@cr")) {
				String rightID = s.substring(3,4);
				s = s.substring(5);
			}
			if((j1 == 1 || j1 == 2) &amp;&amp; (j1 == 1 || publicChatMode == 0 || publicChatMode == 1 &amp;&amp; isFriendOrSelf(s))) {
			if(j &gt; k1 - 14 &amp;&amp; j &lt;= k1 &amp;&amp; !s.equals(myPlayer.name)) {
				if(myPrivilege &gt;= 1) {
					menuActionName[menuActionRow] = "Report abuse @whi@" + s;
					menuActionID[menuActionRow] = 606;
					menuActionRow++;
				}
				menuActionName[menuActionRow] = "Add ignore @whi@" + s;
				menuActionID[menuActionRow] = 42;
				menuActionRow++;
				menuActionName[menuActionRow] = "Add friend @whi@" + s;
				menuActionID[menuActionRow] = 337;
				menuActionRow++;
			}
			l++;
			}
		}
	}</code><br>
I want to point out this code here: <code>			if(s != null &amp;&amp; s.startsWith("@cr")) {
				String rightID = s.substring(3,4);
				s = s.substring(5);
			}</code><br>
So it’s saying that if you have a crown in front of your name the username starts after that, at least that’s what I think.  Now here is some code that calls the loyalty titles:</p>
<p><code>						if(myPrivilege != 0 &amp;&amp; myPrivilege &lt;= modIcons.length)
							pushMessage(myPlayer.textSpoken, 2, "@cr" + myPrivilege + "@&lt;col=13132800&gt;"+LOYALTYTITLES(myPlayer.skill)+"&lt;/col&gt; "  + myPlayer.name);						
						else
							pushMessage(myPlayer.textSpoken, 2, "&lt;col=13132800&gt;"+LOYALTYTITLES(myPlayer.skill)+"&lt;/col&gt; " + myPlayer.name);</code><br>
Anyone got an idea on how to fix it?<br>
Picture of what’s going on: <img src="http://i42.tinypic.com/2qa4rau.jpg" alt width="140" height="120"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106/1</link>
        <pubDate>Wed, 21 Mar 2012 22:02:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-437106-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-loyalty-titles-add-friend-glitchy-pi/437106.rss">[PI]Adding Loyalty Titles, Add friend glitchy[PI]</source>
      </item>
  </channel>
</rss>
