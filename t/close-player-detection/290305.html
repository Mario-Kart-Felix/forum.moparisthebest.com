<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/close-player-detection/290305 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 11:28:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Close Player Detection - General Programming - moparisthebest.com</title>
    <meta name="description" content="Although the main use of this would be for RuneScape servers, its probably needed for every MMORPG. 

What is the best method to detect close players to show to the client? The current method of looping through every pla&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="290305.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Close Player Detection&#39;" href="290305.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/close-player-detection/290305" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/close-player-detection/290305" />
<meta property="og:title" content="Close Player Detection" />
<meta name="twitter:title" content="Close Player Detection" />
<meta property="og:description" content="Although the main use of this would be for RuneScape servers, its probably needed for every MMORPG.  What is the best method to detect close players to show to the client? The current method of looping through every player for each player just doesn’t scale well. With 3 players online, you have 3^2 or 9 loops. With 500 players online, you have 500^2 or 250,000 loops. So, what is the best (or a better way) of finding close players?" />
<meta name="twitter:description" content="Although the main use of this would be for RuneScape servers, its probably needed for every MMORPG.  What is the best method to detect close players to show to the client? The current method of looping through every player for each player just doesn’t scale well. With 3 players online, you have 3^2 or 9 loops. With 500 players online, you have 500^2 or 250,000 loops. So, what is the best (or a better way) of finding close players?" />
<meta property="article:published_time" content="2009-07-22T21:32:19+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="2903054658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="290305.html">Close Player Detection</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ry60003333.html'><span itemprop='name'>ry60003333</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-22T21:32:19Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:26:44Z' class='post-time'>
              July 31, 2016,  9:26am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Although the main use of this would be for RuneScape servers, its probably needed for every MMORPG.</p>
<p>What is the best method to detect close players to show to the client? The current method of looping through every player for each player just doesn’t scale well. With 3 players online, you have 3^2 or 9 loops. With 500 players online, you have 500^2 or 250,000 loops. So, what is the best (or a better way) of finding close players?</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lawl.html'><span itemprop='name'>lawl</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-22T22:49:57Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:26:48Z' class='post-time'>
              July 31, 2016,  9:26am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i think zstars pointed this out to me a while ago</p>
<p>have an array of players for each region. when the player leaves the region, you take them out of the old region’s array and put it in the other region’s array</p>
<p>that way, you are only looping through all the players in the target player’s region, instead of all players on the server.</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Unhandled.html'><span itemprop='name'>Unhandled</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-22T23:34:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:26:50Z' class='post-time'>
              July 31, 2016,  9:26am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Scene Graph!</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T00:57:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:26:55Z' class='post-time'>
              July 31, 2016,  9:26am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>^ both are similar and good</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T01:19:27Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:26:57Z' class='post-time'>
              July 31, 2016,  9:26am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“la­wl, post:2, topic:290305”]i think zstars pointed this out to me a while ago</p>
<p>have an array of players for each region. when the player leaves the region, you take them out of the old region’s array and put it in the other region’s array</p>
<p>that way, you are only looping through all the players in the target player’s region, instead of all players on the server.[/quote]</p>
<p>What I had proposed for an old project <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T01:57:16Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:26:59Z' class='post-time'>
              July 31, 2016,  9:26am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Actually you should be looping through the current region and the region that is closest to the player. If you don’t have a match then you should progressively increase the number of regions until you get a player or you hit the fog of war.</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T02:02:41Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:27:00Z' class='post-time'>
              July 31, 2016,  9:27am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="6" data-topic="290305">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/bash/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> BAsh:</div>
<blockquote>
<p>Actually you should be looping through the current region and the region that is closest to the player. If you don’t have a match then you should progressively increase the number of regions until you get a player or you hit the fog of war.</p>
</blockquote>
</aside>
<p>Since he’s talking about RuneScape, he hits FoW at the end of each region <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ry60003333.html'><span itemprop='name'>ry60003333</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T04:13:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:27:08Z' class='post-time'>
              July 31, 2016,  9:27am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="6" data-topic="290305">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/bash/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> BAsh:</div>
<blockquote>
<p>Actually you should be looping through the current region and the region that is closest to the player. If you don’t have a match then you should progressively increase the number of regions until you get a player or you hit the fog of war.</p>
</blockquote>
</aside>
<p>Correct, because if the player is standing on the edge of a region, the players in the region next to the player would be invisible. I’ll try implementing the region idea.</p>
<p>Thanks for the help everyone.</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/11167.html'><span itemprop='name'>11167</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T15:41:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:27:37Z' class='post-time'>
              July 31, 2016,  9:27am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ry60003333, post:8, topic:290305”][quote author=BAsh link=topic=383769.msg2880577#msg2880577 date=1248314236]<br>
Actually you should be looping through the current region and the region that is closest to the player. If you don’t have a match then you should progressively increase the number of regions until you get a player or you hit the fog of war.<br>
[/quote]<br>
Correct, because if the player is standing on the edge of a region, the players in the region next to the player would be invisible. I’ll try implementing the region idea.</p>
<p>Thanks for the help everyone.[/quote]</p>
<p>Couldn’t you just declare the player’s region from their coordinates, rather than overall regions?</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T15:49:33Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:27:38Z' class='post-time'>
              July 31, 2016,  9:27am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote="_™, post:9, topic:290305"][quote author=ry60003333 link=topic=383769.msg2880713#msg2880713 date=1248322387]</p>
<aside class="quote no-group">
<blockquote>
<p>Actually you should be looping through the current region and the region that is closest to the player. If you don’t have a match then you should progressively increase the number of regions until you get a player or you hit the fog of war.</p>
</blockquote>
</aside>
<p>Correct, because if the player is standing on the edge of a region, the players in the region next to the player would be invisible. I’ll try implementing the region idea.</p>
<p>Thanks for the help everyone.<br>
[/quote]</p>
<p>Couldn’t you just declare the player’s region from their coordinates, rather than overall regions?[/quote]</p>
<p>How would you find the players in your region? By looping through all the players, which is what we’re trying to avoid.</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/11167.html'><span itemprop='name'>11167</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T17:04:53Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:27:42Z' class='post-time'>
              July 31, 2016,  9:27am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>My thoughts were just looping through a region, which is defined by the player.  I guess I’m wrong?</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T21:10:20Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:28:07Z' class='post-time'>
              July 31, 2016,  9:28am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Jython_, post:10, topic:290305”][quote author=_™ link=topic=383769.msg2881199#msg2881199 date=1248363695]</p>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<p>Actually you should be looping through the current region and the region that is closest to the player. If you don’t have a match then you should progressively increase the number of regions until you get a player or you hit the fog of war.</p>
</blockquote>
</aside>
<p>Correct, because if the player is standing on the edge of a region, the players in the region next to the player would be invisible. I’ll try implementing the region idea.</p>
<p>Thanks for the help everyone.</p>
</blockquote>
</aside>
<p>Couldn’t you just declare the player’s region from their coordinates, rather than overall regions?<br>
[/quote]</p>
<p>How would you find the players in your region? By looping through all the players, which is what we’re trying to avoid.[/quote]</p>
<p>figure that out while you are already looping through players in the first place</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lawl.html'><span itemprop='name'>lawl</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T22:40:50Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:28:15Z' class='post-time'>
              July 31, 2016,  9:28am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ry60003333, post:8, topic:290305”][quote author=BAsh link=topic=383769.msg2880577#msg2880577 date=1248314236]<br>
Actually you should be looping through the current region and the region that is closest to the player. If you don’t have a match then you should progressively increase the number of regions until you get a player or you hit the fog of war.<br>
[/quote]<br>
Correct, because if the player is standing on the edge of a region, the players in the region next to the player would be invisible. I’ll try implementing the region idea.</p>
<p>Thanks for the help everyone.[/quote]<br>
nah, a region is when it says “loading…” not just 8x8 or whatever<br>
usually you can see some black tiles until it loads, thats where the region changes and would be pointless to check if there are players there</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-23T23:55:15Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:28:20Z' class='post-time'>
              July 31, 2016,  9:28am
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alternatively make a 2D array that covers the entire map and search a 104x104 block of it. Memory is an issue but it shouldn’t be too big a problem.</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Mopman.html'><span itemprop='name'>Mopman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-24T03:27:06Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:28:41Z' class='post-time'>
              July 31, 2016,  9:28am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>array of what, though</p>
<p>your answer = too much memory usage</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-24T03:33:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:28:41Z' class='post-time'>
              July 31, 2016,  9:28am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Player[6000][6000][0]. The 3rd dimension should be the same object but if it isn’t then make a Object[][] and populate with Player[] later.</p>
<p>Object = 4bytes. size = 6000<em>6000</em>4 = 140Mb. so way too big.</p>
<p>how big is the map anyway? 3000x3000 = 35Mb but still too big.</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lawl.html'><span itemprop='name'>lawl</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-24T21:31:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:30:12Z' class='post-time'>
              July 31, 2016,  9:30am
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thats dumb</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zstars.html'><span itemprop='name'>zstars</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T00:46:34Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:30:27Z' class='post-time'>
              July 31, 2016,  9:30am
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>There are quite a few good alternatives, which are all much better than the naive approach. Some of them:</p>
<p>-What lawl described, which I believe is sometimes known as a “speed tree”, and would probably be particularly effective in a world such as Runescape’s, where coordinates are discrete (though it would also work pretty well for worlds with real coords).</p>
<p>-A QuadTree. It is basically the equivalent in bidimensional space to a binary tree. Divides space into progressively smaller bidimensional regions. It is particularly appropiate for these games in which the third coordinate (height) isn’t particularly significant. You can find information about it on the net, probably even some implementations.</p>
<p>-An Octree. Three-dimensional equivalent of the QuadTree and the Binary Tree. Divides space into progressively smaller tridimensional volumes.</p>
<p>-A Sphere Tree. Similar to a Quad Tree, but divides space into spheres, rather than squares. There is an article about it in one of the Programming Gems books, on this same topic.</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Unhandled.html'><span itemprop='name'>Unhandled</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T01:15:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:30:30Z' class='post-time'>
              July 31, 2016,  9:30am
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>All of which are scene graphs <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zstars.html'><span itemprop='name'>zstars</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T02:06:20Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:30:35Z' class='post-time'>
              July 31, 2016,  9:30am
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>They could be used to implement a Scene Graph, yep. The Octree, especifically, is particularly popular for that purpose.</p>
<p>BTW, I forgot to mention that it would also be possible to use a binary tree, though it’s probably not as good as the other options in most cases. BSP maps (Binary Space Partitioning), are in a way an example of such an structure.</p>
      </div>

      <meta itemprop='headline' content='Close Player Detection'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="2903054658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/close-player-detection/290305 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 11:28:45 GMT -->
</html>
