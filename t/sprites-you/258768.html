<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/sprites-you/258768 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 21:28:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Sprites &amp; you - Runescape - moparisthebest.com</title>
    <meta name="description" content="Although I know most of you that work with private servers cannot be bothered to actually look into how the client works and just find quick fixes that get the job done here is some of my notes on sprites. 

Sprite Data &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="258768.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Sprites &amp; you&#39;" href="258768.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/sprites-you/258768" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/sprites-you/258768" />
<meta property="og:title" content="Sprites &amp; you" />
<meta name="twitter:title" content="Sprites &amp; you" />
<meta property="og:description" content="Although I know most of you that work with private servers cannot be bothered to actually look into how the client works and just find quick fixes that get the job done here is some of my notes on sprites.  Sprite Data contains: the index offset and pixel data  Index Data contains: sprite dimensions, pixel offset, color palette, x offset, y offset  The RsSprite Color Palette can hold a maximum of 255 colors.  The color palette[0] is always 0 for transparency;  All the sprites in one data file sh..." />
<meta name="twitter:description" content="Although I know most of you that work with private servers cannot be bothered to actually look into how the client works and just find quick fixes that get the job done here is some of my notes on sprites.  Sprite Data contains: the index offset and pixel data  Index Data contains: sprite dimensions, pixel offset, color palette, x offset, y offset  The RsSprite Color Palette can hold a maximum of 255 colors.  The color palette[0] is always 0 for transparency;  All the sprites in one data file sh..." />
<meta property="article:published_time" content="2009-01-27T14:18:49+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="258768.html">Sprites &amp; you</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-27T14:18:49Z'>
            <time itemprop='dateModified' datetime='2016-07-31T05:03:30Z' class='post-time'>
              July 31, 2016,  5:03am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Although I know most of you that work with private servers cannot be bothered to actually look into how the client works and just find quick fixes that get the job done here is some of my notes on sprites.</p>
<p>Sprite Data contains: the index offset and pixel data<br>
Index Data contains: sprite dimensions, pixel offset, color palette, x offset, y offset<br>
The RsSprite Color Palette can hold a maximum of 255 colors.<br>
The color palette[0] is always 0 for transparency;<br>
All the sprites in one data file share the same color palette</p>
<p>I have made an example applet that will both display the sprite as well as display each palette color in a 25 by 25 box here is an example: <a href="http://silabsoft.org/?viewsprite=default&amp;name=BACKBASE1.DAT" rel="nofollow noopener">http://silabsoft.org/?viewsprite=default&amp;name=BACKBASE1.DAT</a> (I know the applet does not fit on page)</p>
<p>Other Examples:<br>
<a href="http://silabsoft.org/?list=defsprites" class="onebox" target="_blank" rel="nofollow noopener">http://silabsoft.org/?list=defsprites</a><br>
<a href="http://silabsoft.org/?viewsprite=default&amp;name=PRAYERON.DAT&amp;snumber=4" class="onebox" target="_blank" rel="nofollow noopener">http://silabsoft.org/?viewsprite=default&amp;name=PRAYERON.DAT&amp;snumber=4</a></p>
<p>And here the source:</p>
<pre><code class="lang-auto">import com.jagex.Sprite;
import com.jagex.Stream;

import java.applet.Applet;
import java.awt.*;
import java.awt.image.BufferedImage;
import java.io.InputStream;
import java.io.ByteArrayOutputStream;
import java.net.URL;

/**
 * Class:SpriteReader
 * User: Silabsoft
 * Date: Jan 26, 2009
 * Time: 11:33:58 AM
 */

public class SpriteReader extends Applet {
    private Sprite sprite;
    private Color palette[];
    private int perRow;
    private int plength;
    private String dataName;
    private String indexName;
    private boolean error;

    public void init() {
        int spriteNumber = 0;
        String dataName = this.getParameter("dataName");
        String indexName = this.getParameter("indexName");
        if (this.getParameter("number") != null) {
            spriteNumber = Integer.parseInt(this.getParameter("number"));
        }
        try {
            sprite = new Sprite(fileByUrl(dataName), fileByUrl(indexName), spriteNumber);
            int p[] = sprite.palette;
            plength = p.length;
            palette = new Color[plength];
            for (int i = 0; i &lt; plength; i++)
                palette[i] = new Color(p[i]);

            perRow = 765 / 25;
            int rows = 0;
            if(plength != 0)
            rows = 1 + (plength / perRow);
            this.setBackground(Color.BLACK);
        } catch (Exception e) {
            e.printStackTrace();
            error = true;
            return;
        }

    }

    public void paint(Graphics g) {
        if (error) {
            g.drawString("Error loading sprite", 30, 30);
        }
        BufferedImage bufferedimage = new BufferedImage(sprite.myWidth, sprite.myHeight, 1);
        bufferedimage.setRGB(0, 0, sprite.myWidth, sprite.myHeight, sprite.myPixels, 0, sprite.myWidth);
        g.drawImage(bufferedimage, 0, 0, this);
        int rowId = 0;
        int columnId = 0;
        for (int i = 0; i &lt; plength; i++) {
            g.setColor(palette[i]);
            g.fillRect(columnId++ * 25, sprite.myHeight + (rowId * 25), 25, 25);

            if (columnId == perRow) {
                columnId = 0;
                rowId++;
            }
        }

    }

    public Stream fileByUrl(String s) throws Exception {
        URL url = new URL("http://silabsoft.org/cache/sprite/rs2/default/" + s);
        InputStream in = url.openStream();
        ByteArrayOutputStream out = new ByteArrayOutputStream();
        int c;
        while ((c = in.read()) != -1) {
            out.write(c);
        }
        return new Stream(out.toByteArray());
    }
}</code></pre>
<pre><code class="lang-auto">/**
 * Class:Sprite
 * User: Silabsoft 
 * Date: Jan 26, 2009
 * Time: 11:25:37 AM
 */
package com.jagex;

import java.io.File;
import java.io.DataInputStream;
import java.io.BufferedInputStream;
import java.io.FileInputStream;

public class Sprite {
    public int palette[];
    public Sprite(Stream data, Stream index, int i)
    {
        index.currentOffset = data.readUnsignedWord();
        indexWidth = index.readUnsignedWord();
        indexHeight = index.readUnsignedWord();
        int paletteLength = index.readUnsignedByte();
        palette = new int[paletteLength];
        for(int k = 0; k &lt; paletteLength - 1; k++)
        {
           
            palette[k + 1] = index.read3Bytes();
            if(palette[k + 1] == 0)
                palette[k + 1] = 1;
        }
        for(int l = 0; l &lt; i; l++)
        {
            index.currentOffset += 2;
            data.currentOffset += index.readUnsignedWord() * index.readUnsignedWord();
            index.currentOffset++;
        }

        anInt1442 = index.readUnsignedByte();
        anInt1443 = index.readUnsignedByte();

        myWidth = index.readUnsignedWord();
        myHeight = index.readUnsignedWord();
        int i1 = index.readUnsignedByte();
        int j1 = myWidth * myHeight;
        myPixels = new int[j1];
        if(i1 == 0)
        {
            for(int k1 = 0; k1 &lt; j1; k1++)
                myPixels[k1] = palette[data.readUnsignedByte()];

            return;
        }
        if(i1 == 1)
        {
            for(int l1 = 0; l1 &lt; myWidth; l1++)
            {
                for(int i2 = 0; i2 &lt; myHeight; i2++)
                    myPixels[l1 + i2 * myWidth] = palette[data.readUnsignedByte()];

            }

        }
    }

    public int myPixels[];
    public int myWidth;
    public int myHeight;
    private int anInt1442;
    private int anInt1443;
    public int indexWidth;
    public int indexHeight;
}
</code></pre>
      </div>

      <meta itemprop='headline' content='Sprites &amp; you'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bandosmanpk.html'><span itemprop='name'>bandosmanpk</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-02-02T15:06:25Z'>
            <time itemprop='dateModified' datetime='2016-07-31T05:12:14Z' class='post-time'>
              July 31, 2016,  5:12am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>whta do you save it as im kinda useless at this stuff :\</p>
      </div>

      <meta itemprop='headline' content='Sprites &amp; you'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/atrox.html'><span itemprop='name'>atrox</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-02-02T19:22:26Z'>
            <time itemprop='dateModified' datetime='2019-01-08T05:25:13Z' class='post-time'>
              January 8, 2019,  5:25am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>b&amp;</p>
      </div>

      <meta itemprop='headline' content='Sprites &amp; you'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/sprites-you/258768 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 21:28:26 GMT -->
</html>
