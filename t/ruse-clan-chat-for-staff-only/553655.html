<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/ruse-clan-chat-for-staff-only/553655 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Ruse - Clan chat for staff only - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hey guys! 

Back again :stuck_out_tongue: So i wanted to make a Staff clan chat channel for obviously staff only. So what i did in ClanChatManager.java was:  

 public static void join(Player player, String channel) {
		&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="553655.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Ruse - Clan chat for staff only&#39;" href="553655.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/ruse-clan-chat-for-staff-only/553655" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/ruse-clan-chat-for-staff-only/553655" />
<meta property="og:title" content="Ruse - Clan chat for staff only" />
<meta name="twitter:title" content="Ruse - Clan chat for staff only" />
<meta property="og:description" content="Hey guys!  Back again üòõ  So i wanted to make a Staff clan chat channel for obviously staff only. So what i did in ClanChatManager.java was:  public static void join(Player player, String channel) { 		if(channel == null || channel.equals(&quot;null&quot;)) 			return; 		if (channel.equalsIgnoreCase(&quot;Staff&quot;) &amp;&amp; (!player.getRights() == PlayerRights.SUPPORT || player.getRights() == PlayerRights.MODERATOR || player.getRights() == PlayerRights.ADMINISTRATOR || player.getRights() == PlayerRights...." />
<meta name="twitter:description" content="Hey guys!  Back again üòõ  So i wanted to make a Staff clan chat channel for obviously staff only. So what i did in ClanChatManager.java was:  public static void join(Player player, String channel) { 		if(channel == null || channel.equals(&quot;null&quot;)) 			return; 		if (channel.equalsIgnoreCase(&quot;Staff&quot;) &amp;&amp; (!player.getRights() == PlayerRights.SUPPORT || player.getRights() == PlayerRights.MODERATOR || player.getRights() == PlayerRights.ADMINISTRATOR || player.getRights() == PlayerRights...." />
<meta property="article:published_time" content="2015-10-25T15:18:11+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="553655.html">Ruse - Clan chat for staff only</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-25T15:18:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:00Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey guys!</p>
<p>Back again <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
So i wanted to make a Staff clan chat channel for obviously staff only. So what i did in ClanChatManager.java was:</p>
<pre><code class="lang-auto">public static void join(Player player, String channel) {
		if(channel == null || channel.equals("null"))
			return;
		if (channel.equalsIgnoreCase("Staff") &amp;&amp; (!player.getRights() == PlayerRights.SUPPORT || player.getRights() == PlayerRights.MODERATOR || player.getRights() == PlayerRights.ADMINISTRATOR || player.getRights() == PlayerRights.OWNER || player.getRights() == PlayerRights.DEVELOPER)) {
                        return;
                }
		if (player.getCurrentClanChat() != null) {
			player.getPacketSender().sendMessage("You are already in a clan channel.");
			return;
		}
		channel = channel.toLowerCase();
		for (ClanChat clan : clans) {
			if (clan != null) {
				if(clan.getName().toLowerCase().equals(channel)) {
					join(player, clan);
					return;
				}
			}
		}
		for (ClanChat clan : clans) {
			if (clan != null) {
				if(clan.getOwnerName().toLowerCase().equals(channel)) {
					join(player, clan);
					return;
				}
			}
		}
		player.getPacketSender().sendMessage("That channel does not exist.");
	}</code></pre>
<p>And import PlayerRights.java</p>
<p>I get an error and i don‚Äôt know why or how to fix it:</p>
<pre><code class="lang-auto">src\com\ruseps\world\content\clan\ClanChatManager.java:166: error: bad operand type PlayerRights for unary operator '!'
                if (channel.equalsIgnoreCase("Staff") &amp;&amp; (!player.getRights() == PlayerRights.SUPPORT || player.getRights() == PlayerRights.MODERATOR || player.getRights() == PlayerRights.ADMINISTRATOR || player.getRights() == PlayerRights.OWNER || player.getRights() == PlayerRights.DEVELOPER))</code></pre>
<p>Anyone know how to fix it? It has something to do with that ‚Äú!‚Äù but i want it so that if a player doesn‚Äôt have any of those ranks it won‚Äôt let them join. What should i do to fix? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Thanks</p>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/X-J-K-X.html'><span itemprop='name'>X-J-K-X</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-25T20:40:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:01Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <blockquote>(!player.getRights() == PlayerRights.SUPPORT</blockquote>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/uncalled_for.html'><span itemprop='name'>uncalled_for</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-25T21:11:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:01Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <pre><code class="lang-auto">
Should be:

[code](player.getRights() != PlayerRights.SUPPORT[/code]

If you want it so normal players can't join


[code]if (channel.equalsIgnoreCase("Staff") &amp;&amp; (player.getRights() != PlayerRights.SUPPORT || player.getRights() != PlayerRights.MODERATOR || player.getRights() != PlayerRights.ADMINISTRATOR || player.getRights() != PlayerRights.OWNER || player.getRights() != PlayerRights.DEVELOPER)) {
                        return;
                }
[/code]</code></pre>
<p>Should be:</p>
<pre><code class="lang-auto"></code></pre>
<p>If you want it so normal players can‚Äôt join</p>
<p><code>if (channel.equalsIgnoreCase("Staff") &amp;&amp; (player.getRights() != PlayerRights.SUPPORT || player.getRights() != PlayerRights.MODERATOR || player.getRights() != PlayerRights.ADMINISTRATOR || player.getRights() != PlayerRights.OWNER || player.getRights() != PlayerRights.DEVELOPER)) {
                        return;
                }
</code></p>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-25T21:12:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:01Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks. EDIT:<br>
Changed it to this because the other code didn‚Äôt work:</p>
<pre><code class="lang-auto">	if (channel.equalsIgnoreCase("staff") &amp;&amp; (PlayerRights.isStaff())) {
		player.getPacketSender().sendMessage("You must be a staff-member to join this clan chat!");	
		 return;
		 }</code></pre>
<p>And in PlayerRights this code:</p>
<pre><code class="lang-auto">public boolean isStaff() {
		return STAFF.contains(this);
	}</code></pre>
<p>Gives me this error:</p>
<pre><code class="lang-auto">src\com\ruseps\world\content\clan\ClanChatManager.java:168: error: non-static method isStaff() cannot be referenced from a static context
                        if (channel.equalsIgnoreCase("staff") &amp;&amp; (PlayerRights.isStaff())) {
                                                                              ^
1 error</code></pre>
<p>Why is that?</p>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/uncalled_for.html'><span itemprop='name'>uncalled_for</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-25T21:39:07Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:01Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>change it to:</p>
<p><code>public static boolean isStaff() {
		return STAFF.contains(this);
	}</code></p>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-25T21:59:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:02Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I made a new boolean called isStaff1(), so that i would not fuck up other codes:</p>
<pre><code class="lang-auto">	if (channel.equalsIgnoreCase("staff") &amp;&amp; (PlayerRights.isStaff1())) {
		player.getPacketSender().sendMessage("You must be a staff-member to join this clan chat!");	
		 return;
		 }</code></pre>
<pre><code class="lang-auto">public static boolean isStaff1() {
		return STAFF.contains(this);
	}</code></pre>
<p>Error:</p>
<pre><code class="lang-auto">src\com\ruseps\model\PlayerRights.java:105: error: non-static variable this cannot be referenced from a static context
                return STAFF.contains(this);
                                      ^</code></pre>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-26T12:21:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:03Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúSoulxs, post:6, topic:553655‚Äù]I made a new boolean called isStaff1(), so that i would not fudge up other codes:</p>
<pre><code class="lang-auto">	if (channel.equalsIgnoreCase("staff") &amp;&amp; (PlayerRights.isStaff1())) {
		player.getPacketSender().sendMessage("You must be a staff-member to join this clan chat!");	
		 return;
		 }</code></pre>
<pre><code class="lang-auto">public static boolean isStaff1() {
		return STAFF.contains(this);
	}</code></pre>
<p>Error:</p>
<p><code>
src\com\ruseps\model\PlayerRights.java:105: error: non-static variable this cannot be referenced from a static context
                return STAFF.contains(this);
                                      ^
</code>[/quote]</p>
<ol>
<li>
<code>if (channel.equalsIgnoreCase("staff") &amp;&amp; (PlayerRights.isStaff1())) {
 	player.getPacketSender().sendMessage("You must be a staff-member to join this clan chat!");	
 	 return;
 	 } </code><br>
should be</li>
</ol>
<p><code>if (channel.equalsIgnoreCase("staff") &amp;&amp; (!PlayerRights.isStaff1())) {
		player.getPacketSender().sendMessage("You must be a staff-member to join this clan chat!");	
		 return;
		 }</code><br>
Hence you want to check that if the player is not staff it‚Äôd return a message and basically break.</p>
<p>And,</p>
<pre><code class="lang-auto"></code></pre>
<p><code>this</code> is not static, that‚Äôs why it‚Äôs throwing you an error.<br>
Why do it so complicated anyways:<br>
Declare PlayerRights in the Player class, then use the field you created from PlayerRights to access the method isStaff()</p>
<pre><code class="lang-auto"></code></pre>
<pre><code class="lang-auto"></code></pre>
<p>isStaff needs to support the Player param of course<br>
or</p>
<pre><code class="lang-auto"></code></pre>
<p><code>public PlayerRights(Player player) {
//Constructor
}</code></p>
<pre><code class="lang-auto"></code></pre>
<p>Don‚Äôt forget to add null checks etc.</p>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-26T14:43:07Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:03Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don‚Äôt get it, haha ^.^<br>
Pretty new to coding <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>So i want to throw</p>
<pre><code class="lang-auto">PlayerRights playerRights = new PlayerRights();</code></pre>
<p>in player.java, and then change the isStaff in PlayerRights.java method too:</p>
<pre><code class="lang-auto">playerRights.isStaff(this);</code></pre>
<p>?<br>
Or am i on the wrong road here <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-26T16:05:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:03Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúSoulxs, post:8, topic:553655‚Äù]I don‚Äôt get it, haha ^.^<br>
Pretty new to coding <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>So i want to throw</p>
<pre><code class="lang-auto">PlayerRights playerRights = new PlayerRights();</code></pre>
<p>in player.java, and then change the isStaff in PlayerRights.java method too:</p>
<pre><code class="lang-auto">playerRights.isStaff(this);</code></pre>
<p>?<br>
Or am i on the wrong road here :P[/quote]<br>
No, no. Sorry for not explaining properly.</p>
<p>So, you change the method, which looks like that:</p>
<p><code>public boolean isStaff() {
return STAFF.contains(this);
}</code><br>
to</p>
<p><code>public boolean isStaff(Player player) {
return STAFF.contains(player);
}</code><br>
[s]Though I‚Äôm not sure how your class looks like. I assume STAFF is a Map, in that Map I‚Äôd store usernames of staff members instead of the Player instances itself. (‚Äòthis‚Äô != player)</p>
<p>Would you mind sharing PlayerRights so I could take a look into it?</p>
<p>Else, Change the Map‚Äôs Parameter to String</p>
<p>So it‚Äôd look like this[/s]</p>
<p>Simple Solution<br>
replace [code=java5]public boolean isStaff() {</p>
<p>}[/code]<br>
with</p>
<p><code>public static boolean isStaff(Player player) {
return player.getRights() == PlayerRights.PLAYER ? false : true;
}</code><br>
The ternary tells the following: if the player rights equal (PlayerRights.PLAYER‚Äôs integer), it‚Äôll return as false, else it‚Äôll return as true (if anything else than PlayerRights.PLAYER‚Äôs Integer).<br>
Static access is bad though.<br>
What I‚Äôd recommend you is doing the following:</p>
<p>Add this to your PlayerRights class:<br>
(The player instance)</p>
<pre><code class="lang-auto">private Player player;</code></pre>
<p>(The getter)</p>
<p><code>
public Player getPlayer() {
return player;
}</code></p>
<p>We add the same thing again, but without the static modifier</p>
<p><code>
public boolean isStaff() {
return player.getRights() == 0 ? false : true;
}</code></p>
<p>Now the constructor assigning the player given as parameter to the player defined as field</p>
<pre><code class="lang-auto">public PlayerRights(Player player) {
this.player = player;
}</code></pre>
<p>Now.<br>
Add this to your Player class:<br>
We‚Äôre creating an field holding the PlayerRights</p>
<pre><code class="lang-auto">private PlayerRights playerRights;</code></pre>
<p>Getter:</p>
<pre><code class="lang-auto">public PlayerRights getPlayerRights() {
return playerRights;
}</code></pre>
<p>Now, upon creating Accounts we add this:<br>
This is to create an instance out of the fild playerRights</p>
<pre><code class="lang-auto">playerRights = new PlayerRights(this);</code></pre>
<p>Upon logging in so already existing accounts don‚Äôt get nulled out because they don‚Äôt have PlayerRights</p>
<pre><code class="lang-auto">if(playerRights == null) {
playerRights = new PlayerRights();
}</code></pre>
<p>Now you can access playerRights easily through player.</p>
<pre><code class="lang-auto"></code></pre>
<p>To read more about static, and why you should avoid it:<br>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="https://stackoverflow.com/questions/13453978/static-methods-and-static-variables-bad-design-practise" target="_blank" rel="nofollow noopener">stackoverflow.com</a>
  </header>
  <article class="onebox-body">
      <a href="https://stackoverflow.com/users/1306591/tommy-knocker" target="_blank" rel="nofollow noopener">
    <img alt="tommy knocker" src="https://www.gravatar.com/avatar/7a782f39fb760bc9be404f1729ce059a?s=128&amp;d=identicon&amp;r=PG&amp;f=1" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="https://stackoverflow.com/questions/13453978/static-methods-and-static-variables-bad-design-practise" target="_blank" rel="nofollow noopener">Static Methods and static variables, bad design practise?</a>
</h4>

<div class="tags">
  <strong>java, oop, design, static</strong>
</div>

<div class="date">
  asked by
  
  <a href="https://stackoverflow.com/users/1306591/tommy-knocker" target="_blank" rel="nofollow noopener">
    tommy knocker
  </a>
  on <a href="https://stackoverflow.com/questions/13453978/static-methods-and-static-variables-bad-design-practise" target="_blank" rel="nofollow noopener">12:37PM - 19 Nov 12</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<aside class="onebox stackexchange">
  <header class="source">
      <a href="https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil" target="_blank" rel="nofollow noopener">stackoverflow.com</a>
  </header>
  <article class="onebox-body">
      <a href="https://stackoverflow.com/users/619361/vamsi-emani" target="_blank" rel="nofollow noopener">
    <img alt="Vamsi Emani" src="https://www.gravatar.com/avatar/d849c00caefc5f132b631f73ba69a514?s=128&amp;d=identicon&amp;r=PG" class="thumbnail onebox-avatar" width="128" height="128">
  </a>
<h4>
  <a href="https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil" target="_blank" rel="nofollow noopener">Why are static variables considered evil?</a>
</h4>

<div class="tags">
  <strong>java, static</strong>
</div>

<div class="date">
  asked by
  
  <a href="https://stackoverflow.com/users/619361/vamsi-emani" target="_blank" rel="nofollow noopener">
    Vamsi Emani
  </a>
  on <a href="https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil" target="_blank" rel="nofollow noopener">01:14PM - 11 Aug 11</a>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-26T18:07:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:04Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>These errors:</p>
<pre><code class="lang-auto">
C:\Users\Ruben\Desktop\Project RSPS\Full Ruse package\source\Source&gt;"C:\Program Files\Java\jdk1.8.0_60\bin\javac.exe" -d bin -cp lib/*;src src\com\ruseps\GameServer.java
src\com\ruseps\model\PlayerRights.java:104: error: cannot find symbol
        private Player player;
                ^
  symbol:   class Player
  location: class PlayerRights
src\com\ruseps\model\PlayerRights.java:106: error: cannot find symbol
        public Player getPlayer() {
               ^
  symbol:   class Player
  location: class PlayerRights
src\com\ruseps\model\PlayerRights.java:113: error: modifier public not allowed here
        public PlayerRights(Player player) {
               ^
src\com\ruseps\model\PlayerRights.java:113: error: cannot find symbol
        public PlayerRights(Player player) {
                            ^
  symbol:   class Player
  location: class PlayerRights
src\com\ruseps\world\entity\impl\player\PlayerHandler.java:82: error: cannot find symbol
                if(playerRights == null) {
                   ^
  symbol:   variable playerRights
  location: class PlayerHandler
src\com\ruseps\world\entity\impl\player\PlayerHandler.java:83: error: cannot find symbol
                        playerRights = new PlayerRights();
                        ^
  symbol:   variable playerRights
  location: class PlayerHandler
src\com\ruseps\world\entity\impl\player\PlayerHandler.java:83: error: enum types may not be instantiated
                        playerRights = new PlayerRights();
                                       ^
src\com\ruseps\world\entity\impl\player\PlayerHandler.java:214: error: cannot find symbol
                        playerRights = new PlayerRights(this);
                        ^
  symbol:   variable playerRights
  location: class PlayerHandler
src\com\ruseps\world\entity\impl\player\PlayerHandler.java:214: error: non-static variable this cannot be referenced from a static context
                        playerRights = new PlayerRights(this);
                                                        ^
src\com\ruseps\world\entity\impl\player\PlayerHandler.java:214: error: enum types may not be instantiated
                        playerRights = new PlayerRights(this);
                                       ^</code></pre>
<p>Code in ClanChatManager:</p>
<pre><code class="lang-auto">	if (channel.equalsIgnoreCase("staff")) {
		if (!player.getPlayerRights().isStaff1())
		player.getPacketSender().sendMessage("You must be a staff-member to join this clan chat!");	
		 return;
		 }</code></pre>
<p>Code in PlayerRights:</p>
<pre><code class="lang-auto">        private Player player;
	
	public Player getPlayer() {
          return player;
        }

	public boolean isStaff1() {
		return player.getRights() == 0 ? false : true;
	}
	public PlayerRights(Player player) {
		this.player = player;
	}</code></pre>
<p>Code in Player:</p>
<pre><code class="lang-auto">	private PlayerRights playerRights;
	
	public PlayerRights getPlayerRights() {
		return playerRights;
	}</code></pre>
<p>Code in PlayerHandler:</p>
<pre><code class="lang-auto">public static void handleLogin(Player player) {
		//Register the player
		System.out.println("[World] Registering player - [username, host] : [" + player.getUsername() + ", " + player.getHostAddress() + "]");
		ConnectionHandler.add(player.getHostAddress());
		World.getPlayers().add(player);
		World.updatePlayersOnline();
		PlayersOnlineInterface.add(player);
		player.getSession().setState(SessionState.LOGGED_IN);
	
		// Existing accounts don't get nulled because they have no player rights (-----------------------CODE I ADDED BELOW)
		if(playerRights == null) {
			playerRights = new PlayerRights();
		}</code></pre>
<p>And another code in PlayerHandler</p>
<pre><code class="lang-auto">//New player
		if(player.newPlayer()) {
			player.setPlayerLocked(true).setDialogueActionId(45);
			DialogueManager.start(player, 81);
		}
		if(player.newPlayer()) { // --------------------------------- CODE I ADDED BELOW
			playerRights = new PlayerRights(this);
		}</code></pre>
<p>??? <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"><br>
It sucks because i have no idea what the code you gave me does so i can‚Äôt even try to fix it haha.<br>
If you want/need i could send you the entire files.</p>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-26T21:41:04Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:04Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You got to modify the code to make it work with yours‚Ä¶ this is just sample java code, I think you‚Äôre going with PI right? Player should be Client, so you go for</p>
<p><code>public Client getPlayer {..}</code> and so on. Make it fit to your source. Message me with your skype username and tomorrow I‚Äôll look forward to add you.</p>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-26T22:13:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:34:04Z' class='post-time'>
              August 4, 2016,  4:34pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you, but Ruse is 569 i believe. I‚Äôll message you. I do have exams tomorrow, the day after &amp; after that. So i won‚Äôt have a whole lot of time.<br>
EDIT: This code doesn‚Äôt give an error but doesn‚Äôt let Staff members join either:</p>
<pre><code class="lang-auto">public static void join(Player player, String channel) {
		if(channel == null || channel.equals("null"))
			return;
		
		if (channel.equalsIgnoreCase("Staff")) {
		if ((player.getRights() != PlayerRights.MODERATOR) || (player.getRights() != PlayerRights.ADMINISTRATOR) || (player.getRights() != PlayerRights.OWNER) || (player.getRights() != PlayerRights.SUPPORT) || (player.getRights() != PlayerRights.DEVELOPER))
		player.getPacketSender().sendMessage("You must be a staff-member to join this clan chat!");	
		 return;
		} else {
		 
		if (player.getCurrentClanChat() != null) {
			player.getPacketSender().sendMessage("You are already in a clan channel.");
			return;
		}
		channel = channel.toLowerCase();
		for (ClanChat clan : clans) {
			if (clan != null) {
				if(clan.getName().toLowerCase().equals(channel)) {
					join(player, clan);
					return;
				}
			}
		}
		for (ClanChat clan : clans) {
			if (clan != null) {
				if(clan.getOwnerName().toLowerCase().equals(channel)) {
					join(player, clan);
					return;
				}
			}
		}
		player.getPacketSender().sendMessage("That channel does not exist.");
		}
	}	</code></pre>
<p>Whats wrong?..</p>
      </div>

      <meta itemprop='headline' content='Ruse - Clan chat for staff only'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/ruse-clan-chat-for-staff-only/553655 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:13 GMT -->
</html>
