<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>EventManager vs java.util.Timer</title>
    <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704</link>
    <description>So.. most of the sources I&#39;ve seen so far have some sort of Event system implemented. The concept is simple.. It&#39;s a system that executes Events after a predecided delay. That&#39;s not what this topic is about though.

What I was wondering is why people MAKE these systems when apparently there&#39;s a built-in function in Java that does kind of the same thing: [url=http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html]Timer[/url] and [url=http://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html]TimerTask[/url].

I&#39;m currently scraping up ideas to make my own server entirely from scratch and am wondering if I should bother making my own event handler whilst there&#39;s a perfectly fine sample available.</description>
    
    <lastBuildDate>Sat, 12 Jul 2014 16:05:34 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@xx_matty_xx Justin Bieber]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xx_matty_xx">@xx_matty_xx</a> wrote:</p>
          <blockquote>
              <p>kid knows he’s wrong that’s why he wont explain lol</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/21</link>
        <pubDate>Sat, 12 Jul 2014 16:05:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-21</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>[quote=“greatpea, post:19, topic:544704”][quote author=lare69 link=topic=663581.msg4436305#msg4436305 date=1405155054]</p>
<aside class="quote">
<blockquote></blockquote>
</aside>
<p>then what was the point of posting that link…?<br>
[/quote]</p>
<p>u dont see the point?</p>
<p>…</p>
<p>that’s a darn shame son[/quote]<br>
<img src="https://forum.moparisthebest.com/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/20</link>
        <pubDate>Sat, 12 Jul 2014 09:30:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-20</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@greatpea greatpea]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/greatpea">@greatpea</a> wrote:</p>
          <blockquote>
              <p>[quote=“lare69, post:18, topic:544704”][quote author=greatpea link=topic=663581.msg4436286#msg4436286 date=1405148788]<br>
[/quote]<br>
then what was the point of posting that link…?[/quote]</p>
<p>u dont see the point?</p>
<p>…</p>
<p>that’s a darn shame son</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/19</link>
        <pubDate>Sat, 12 Jul 2014 08:54:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-19</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="17" data-topic="544704">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/greatpea/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> greatpea:</div>
<blockquote>
<p><img src="https://i.imgur.com/bw4skRl.png" alt></p>
</blockquote>
</aside>
<p>then what was the point of posting that link…?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/18</link>
        <pubDate>Sat, 12 Jul 2014 08:50:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-18</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@greatpea greatpea]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/greatpea">@greatpea</a> wrote:</p>
          <blockquote>
              <p><img src="https://i.imgur.com/bw4skRl.png" alt width="" height=""></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/17</link>
        <pubDate>Sat, 12 Jul 2014 07:06:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-17</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>[quote=“greatpea, post:14, topic:544704”]<a href="http://code.nomad-labs.com/2011/12/09/mother-fk-the-scheduledexecutorservice/" rel="nofollow noopener">http://code.nomad-labs.com/2011/12/09/mother-fk-the-scheduledexecutorservice/</a></p>
<p>/thread please[/quote]<br>
or you can just put your code in a try-catch block lol</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/16</link>
        <pubDate>Sat, 12 Jul 2014 06:19:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-16</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>[quote=“greatpea, post:14, topic:544704”]<a href="http://code.nomad-labs.com/2011/12/09/mother-fk-the-scheduledexecutorservice/" rel="nofollow noopener">http://code.nomad-labs.com/2011/12/09/mother-fk-the-scheduledexecutorservice/</a></p>
<p>/thread please[/quote]</p>
<p>thats like, expected behavior. you aren’t supposed to take exceptions lightly and you’re expected to handle exceptions in your own manner.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/15</link>
        <pubDate>Sat, 12 Jul 2014 05:28:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-15</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@greatpea greatpea]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/greatpea">@greatpea</a> wrote:</p>
          <blockquote>
              <p><a href="http://code.nomad-labs.com/2011/12/09/mother-fk-the-scheduledexecutorservice/" class="onebox" target="_blank" rel="nofollow noopener">http://code.nomad-labs.com/2011/12/09/mother-fk-the-scheduledexecutorservice/</a></p>
<p>/thread please</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/14</link>
        <pubDate>Sat, 12 Jul 2014 05:26:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-14</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>Running most of the extensible stubs of content code in parallel would be difficult as fudge.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/13</link>
        <pubDate>Mon, 07 Jul 2014 18:17:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-13</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>[quote=“Pure_, post:9, topic:544704”][quote author=lare69 link=topic=663581.msg4434863#msg4434863 date=1404745840]</p>
<aside class="quote">
<blockquote>
<p>You may want to go for a bit of parallelism since almost every machine hosting an RSPS is going to be multicore. But don’t bother if it means synchronising a whole mess of code.</p>
</blockquote>
</aside>
<p>^^ doing player updating in parallel will significantly improve the performance of your server. especially if your computer is like a quad core, that’s 4 players being updated all at the exact same time.</p>
<p>cycle time without parallelism = 500ms<br>
cycle time with parallelism and 4 cores = 500/4 = 125ms<br>
[/quote]Let’s stick to actual benchmarks and not bullshit number-crunching, actual scenario and implementation will matter a lot.[/quote]<br>
ruining the fun all the time smh :mad:</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/12</link>
        <pubDate>Mon, 07 Jul 2014 17:45:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-12</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@xx_matty_xx Justin Bieber]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xx_matty_xx">@xx_matty_xx</a> wrote:</p>
          <blockquote>
              <p>[quote=“Pure_, post:9, topic:544704”][quote author=lare69 link=topic=663581.msg4434863#msg4434863 date=1404745840]</p>
<aside class="quote">
<blockquote>
<p>You may want to go for a bit of parallelism since almost every machine hosting an RSPS is going to be multicore. But don’t bother if it means synchronising a whole mess of code.</p>
</blockquote>
</aside>
<p>^^ doing player updating in parallel will significantly improve the performance of your server. especially if your computer is like a quad core, that’s 4 players being updated all at the exact same time.</p>
<p>cycle time without parallelism = 500ms<br>
cycle time with parallelism and 4 cores = 500/4 = 125ms<br>
[/quote]Let’s stick to actual benchmarks and not bullshit number-crunching, actual scenario and implementation will matter a lot.[/quote]If there are no dependencies between the cycles then that speedup is achievable. But you’re right - in a real scenario, Amdahl’s law will eventually kick in. Parallelising small independent events would probably be the best way to go, distributing them evenly between cores with task farms or workpools. Java is a bit shit for this stuff though =[</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/11</link>
        <pubDate>Mon, 07 Jul 2014 16:20:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-11</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@doom_j doom_j]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/doom_j">@doom_j</a> wrote:</p>
          <blockquote>
              <p>[quote=“lare69, post:8, topic:544704”][quote author=Justin Bieber link=topic=663581.msg4434850#msg4434850 date=1404739002]<br>
You may want to go for a bit of parallelism since almost every machine hosting an RSPS is going to be multicore. But don’t bother if it means synchronising a whole mess of code.<br>
[/quote]<br>
^^ doing player updating in parallel will significantly improve the performance of your server. especially if your computer is like a quad core, that’s 4 players being updated all at the exact same time.</p>
<p>cycle time without parallelism = 500ms<br>
cycle time with parallelism and 4 cores = 500/4 = 125ms[/quote]</p>
<p>But if you use Intel your core will have two threads!!! so that means 8 players all at once!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/10</link>
        <pubDate>Mon, 07 Jul 2014 16:12:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-10</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@pure2ownage Pure_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure2ownage">@pure2ownage</a> wrote:</p>
          <blockquote>
              <p>[quote=“lare69, post:8, topic:544704”][quote author=Justin Bieber link=topic=663581.msg4434850#msg4434850 date=1404739002]<br>
You may want to go for a bit of parallelism since almost every machine hosting an RSPS is going to be multicore. But don’t bother if it means synchronising a whole mess of code.<br>
[/quote]<br>
^^ doing player updating in parallel will significantly improve the performance of your server. especially if your computer is like a quad core, that’s 4 players being updated all at the exact same time.</p>
<p>cycle time without parallelism = 500ms<br>
cycle time with parallelism and 4 cores = 500/4 = 125ms[/quote]Let’s stick to actual benchmarks and not bullshit number-crunching, actual scenario and implementation will matter a lot.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/9</link>
        <pubDate>Mon, 07 Jul 2014 15:39:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-9</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="6" data-topic="544704">
<div class="title">
<div class="quote-controls"></div>
 Justin Bieber:</div>
<blockquote>
<p>You may want to go for a bit of parallelism since almost every machine hosting an RSPS is going to be multicore. But don’t bother if it means synchronising a whole mess of code.</p>
</blockquote>
</aside>
<p>^^ doing player updating in parallel will significantly improve the performance of your server. especially if your computer is like a quad core, that’s 4 players being updated all at the exact same time.</p>
<p>cycle time without parallelism = 500ms<br>
cycle time with parallelism and 4 cores = 500/4 = 125ms</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/8</link>
        <pubDate>Mon, 07 Jul 2014 15:10:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-8</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@Ashi Ashi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ashi">@Ashi</a> wrote:</p>
          <blockquote>
              <p>I don’t think you’ve looked through the code properly for the event managers. Some of them probably use TimerTask whilst others may use ScheduledExecutorService etc.</p>
<p>If you look at it properly it’s mostly used to cache events, pool threads etc. It’ll also stop you from typing up a lot of boilerplate code.</p>
<p>You can also have more control over events and execution.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/7</link>
        <pubDate>Mon, 07 Jul 2014 13:47:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-7</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@xx_matty_xx Justin Bieber]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xx_matty_xx">@xx_matty_xx</a> wrote:</p>
          <blockquote>
              <p>You may want to go for a bit of parallelism since almost every machine hosting an RSPS is going to be multicore. But don’t bother if it means synchronising a whole mess of code.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/6</link>
        <pubDate>Mon, 07 Jul 2014 13:16:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-6</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@pure2ownage Pure_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure2ownage">@pure2ownage</a> wrote:</p>
          <blockquote>
              <p>[quote=“lare69, post:4, topic:544704”]People usually make their own cycle based task systems because all of java’s classes that support tasks run on their own independent thread(s). All things player related need to be done on the game thread… why?</p>
<p>If people used things like the <span class="bbcode-i">ScheduledExecutorService</span> that runs on its own thread(s) to schedule tasks, all of the code within the tasks would have to be thread safe or in other words <span class="bbcode-i">synchronized</span> to prevent race conditions (which would be slow and a complete mess).</p>
<p>Graham even advises people not to use his 7 year old EventManager anymore because it isn’t thread safe (it runs on its own independent thread).</p>
<p>Lets just say you decide not to use a cycle based task for whatever reason and instead use java’s classes. If the task thread and the game thread access a single player at the same time data can end up being malformed or overridden, which causes strange bugs, random disconnections, crashes, etc. Unless of course, the code you put inside the tasks is thread safe (which would get really complicated and messy).</p>
<p>Or if you were to use your <span class="bbcode-u"><span class="bbcode-b">single threaded</span></span> task system to RUN the game, it would be safe because in that scenario the thread would be acting as both the task thread and the game thread. Notice how I said “single threaded”, because only ONE thread would be executing stuff! You cannot execute any game related stuff concurrently (that means at the same time using multiple threads) except updating.</p>
<p>All actions in runescape are based off of the 600ms cycle anyway, which is why cycle based tasks are crucial when getting optimal timing for things like combat.</p>
<p>Also I don’t recommend using Timer/TimerTask for tasks. Those classes are utility classes and aren’t really reliable for something like runescape servers. Read up on executors instead <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> I also recommend reading Graham’s thread on “Thread Safety” (find it on rune-server).</p>
<p>(ps: every instance of Timer you create starts a new thread… you wouldn’t want to have an independent thread for every single task you start would you?)[/quote]this.</p>
<p>TL;DR is:<br>
Concurrency.<br>
A Jagex mod also confirmed (IIRC) their system works like ours (cyclic).</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/5</link>
        <pubDate>Mon, 07 Jul 2014 12:53:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-5</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>People usually make their own cycle based task systems because all of java’s classes that support tasks run on their own independent thread(s). All things player related need to be done on the game thread… why?</p>
<p>If people used things like the <span class="bbcode-i">ScheduledExecutorService</span> that runs on its own thread(s) to schedule tasks, all of the code within the tasks would have to be thread safe or in other words <span class="bbcode-i">synchronized</span> to prevent race conditions (which would be slow and a complete mess).</p>
<p>Graham even advises people not to use his 7 year old EventManager anymore because it isn’t thread safe (it runs on its own independent thread).</p>
<p>Lets just say you decide not to use a cycle based task for whatever reason and instead use java’s classes. If the task thread and the game thread access a single player at the same time data can end up being malformed or overridden, which causes strange bugs, random disconnections, crashes, etc. Unless of course, the code you put inside the tasks is thread safe (which would get really complicated and messy).</p>
<p>Or if you were to use your <span class="bbcode-u"><span class="bbcode-b">single threaded</span></span> task system to RUN the game, it would be safe because in that scenario the thread would be acting as both the task thread and the game thread. Notice how I said “single threaded”, because only ONE thread would be executing stuff! You cannot execute any game related stuff concurrently (that means at the same time using multiple threads) except updating.</p>
<p>All actions in runescape are based off of the 600ms cycle anyway, which is why cycle based tasks are crucial when getting optimal timing for things like combat.</p>
<p>Also I don’t recommend using Timer/TimerTask for tasks. Those classes are utility classes and aren’t really reliable for something like runescape servers. Read up on executors instead <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> I also recommend reading Graham’s thread on “Thread Safety” (find it on rune-server).</p>
<p>(ps: every instance of Timer you create starts a new thread… you wouldn’t want to have an independent thread for every single task you start would you?)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/4</link>
        <pubDate>Mon, 07 Jul 2014 09:28:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-4</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@Cres Cres]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cres">@Cres</a> wrote:</p>
          <blockquote>
              <p>The scheduled tasks seem to run at the desired interval aswell;</p>
<pre><code class="lang-auto">	static long benchmark = System.currentTimeMillis();

	public static void main(String[] args) {
		new Timer().scheduleAtFixedRate(new TimerTask() {
			@Override
			public void run() {
				int i = 0;
				for (int x = 0; x &lt; 100000; x++) {
					i += x;
				}
				System.out.println("Elapsed time (ms): "+ (System.currentTimeMillis()-benchmark));
				benchmark = System.currentTimeMillis();
			}
		}, 0, 600);
	}</code></pre>
<p>output:</p>
<p><code>Elapsed time (ms): 604
Elapsed time (ms): 595
Elapsed time (ms): 599
Elapsed time (ms): 601
Elapsed time (ms): 599
Elapsed time (ms): 601
Elapsed time (ms): 600
Elapsed time (ms): 599
Elapsed time (ms): 601
Elapsed time (ms): 599</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/3</link>
        <pubDate>Mon, 07 Jul 2014 02:11:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-3</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@Docent Limits]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/docent">@Docent</a> wrote:</p>
          <blockquote>
              <p>I’m no one to talk (because I’m not into that and also I’m not advanced) but I feel that the EventManagers are useless. You’re right, java has more than enough ways to handle this type of thing.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/2</link>
        <pubDate>Mon, 07 Jul 2014 02:08:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-2</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
      <item>
        <title>EventManager vs java.util.Timer</title>
        <dc:creator><![CDATA[@Cres Cres]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cres">@Cres</a> wrote:</p>
          <blockquote>
              <p>So… most of the sources I’ve seen so far have some sort of Event system implemented. The concept is simple… It’s a system that executes Events after a predecided delay. That’s not what this topic is about though.</p>
<p>What I was wondering is why people MAKE these systems when apparently there’s a built-in function in Java that does kind of the same thing: <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html" data-bbcode="true" rel="nofollow noopener">Timer</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html" data-bbcode="true" rel="nofollow noopener">TimerTask</a>.</p>
<p>I’m currently scraping up ideas to make my own server entirely from scratch and am wondering if I should bother making my own event handler whilst there’s a perfectly fine sample available.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704/1</link>
        <pubDate>Mon, 07 Jul 2014 01:33:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544704-1</guid>
        <source url="https://forum.moparisthebest.com/t/eventmanager-vs-java-util-timer/544704.rss">EventManager vs java.util.Timer</source>
      </item>
  </channel>
</rss>
