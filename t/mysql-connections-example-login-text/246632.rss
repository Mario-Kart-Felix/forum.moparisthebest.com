<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>MySQL connections -- Example: login Text</title>
    <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632</link>
    <description>DESCRIPTION: This tutorial will show you how to set up a connection with mysql though the JDBC a.k.a. Java DataBase Connector.  In this Tutorial I have enclosed the needed driver so you you can include it as a library.
EDIT: After being burned, I have fixed couple errors throughout the tutorial.

BASE: This tutorial isn&#39;t restricted to any certain base. I have been using a CZAR though.

First, if you are having trouble finding the driver, here it is: ScarNastics.com/com.zip
It&#39;s weird; My WebHost Provider I&#39;ve had for 3years... All there servers are like down... FTP isn&#39;t working either...
Well, If you Need help getting the source, I can reupload somewhere else.

Step One: Adding imports
[code]import java.sql.*;[/code]

Step Two: Calling from java.sql.Connection
This will be the instance that we are going to declare.
[code]	public static Connection connection = null;[/code]

Step Three: MySQL information.
This is where we set the aforementioned instance (Step two) to the IP, DB Name, User, and Password...
[code]    //MYSQL CONNECTION
    static{
        try{Class.forName(&quot;org.gjt.mm.mysql.Driver&quot;);
            String IP=&quot;127.0.0.1&quot;;
            String DB=&quot;Scar&quot;;//Name That DataBase
            String User=&quot;root&quot;;
            String Pass=&quot;Secret&quot;;
            connection = DriverManager.getConnection(&quot;jdbc:mysql://&quot;+IP+&quot;/&quot;+DB, User, Pass);
            misc.println(&quot;connected YAY!&quot;);
        }catch(ClassNotFoundException e){
            misc.println(&quot;You Need To Download The SQL Classes&quot;);
        }catch(SQLException e){
            misc.println(&quot;SQL ERROR... /////&quot;+e);
        }
    }[/code]
Please note: You need to change the above data to match your server&#39;s Preferences.
If you need help with MySQL, please refer to the MySQL manual at mysql.com
RECOMMENDATION: Download WAMP, This will include PHP, MySQL and PHPMYADMIN all in 1 combo. at http://www.wampserver.com/en/


Step Four: Example Time ...
The example will be loading Text upon login.
Please look for :[code]&quot; has logged in&quot;;[/code]

Now in this example Enter in the following
[code]                String LoginText[] = SQLLoadLoginText(playerName);
                for(int aa=0;aa&lt;LoginText.length();aa++){
                    if(!LoginText[aa].equals(&quot;&quot;) &amp;&amp; LoginText[aa] != null){
                        globalMessage(LoginText[aa]);
                        misc.println(LoginText[aa]);
                    }
                }[/code]
The array:&#39;LoginText&#39; equals the resulted array from the method &#39;SQLLoadLoginText&#39;.
Now we start a for-loop that goes as many times as there are arrays: &#39;LoginText&#39;.
If each part of the array doesn&#39;t equal null or a blank; then we forward that String to the console and globalMessage.

Step Five: Were going to add the MySQL Table.
If you do not know much about MySQL then just use PHPMyAdmin and look for the tab SQL.
Make sure that you make the DB before you try and make a table.....
[code] CREATE TABLE `scar`.`logintext` (
`user` VARCHAR( 20 ) NOT NULL ,
`done` VARCHAR( 255 ) NOT NULL ,
`dtwo` VARCHAR( 255 ) NOT NULL ,
`dthr` VARCHAR( 255 ) NOT NULL ,
UNIQUE (
`user`
)
) ENGINE = InnoDB [/code]
Please Note: PLEASE CHANGE &quot;scar&quot; to the name of your DB

Step Six: SQLLoadLoginText
This method will result in an array of Strings. Each string will be one of the lines for the login.
[code]    /**
     * This method will load text from the DB... this is the text that appears like:
     * this player has logged in....
     * @param playerName this is the user that is getting loaded...
     * @return this is going to be the String array for the login text.
     */
    private String[] SQLLoadLoginText(String playerName){
        try{
            Statement stmt = connection.createStatement();
            ResultSet rs  = stmt.executeQuery(&quot;SELECT * FROM logintext WHERE user=\&quot;&quot;+playerName+&quot;\&quot;&quot;);
            rs.first();
            String usaa = rs.getString(&quot;user&quot;);
            String newa[] = {rs.getString(&quot;done&quot;), rs.getString(&quot;dtwo&quot;), rs.getString(&quot;dthr&quot;)};
        return newa;
        }catch(SQLException e){
            misc.println(&quot;error LOADING SQLLoadLoginText ///&quot;+e);
            SQLNewLoginText(playerName);
        return new String[] {&quot;&quot;, &quot;&quot;, &quot;&quot;};
        }
    }[/code]

[table][tr][td]Now it&#39;s time to explain the SQL code.[/td][/tr][/table][table][tr][td][table][tr][td][table]
[tr][td]SELECT * FROM logintext[/td][td]selects the table logintext and * means wild card; so everything in the table.[/td][/tr][tr][td]WHERE user=\&quot;&quot;+playerName+&quot;\&quot;[/td]
[td]as the column `user` is unique entry only, we use that to narrow down.[/td][/tr][/table][/td][/tr][/table][/td][/tr][/table]

Step Eight: SQLSaveLoginText -- Now lets add this new method again.
This method can only save 1 param at a time. If you would like to save more than 1 at a time; then you need to add a comma between each of the param you use...
[code]    /**
     * This method will save either of these string to the EX
     * @param playerName
     * @param done
     * @param dtwo
     * @param dthr
     */
    private void SQLSaveLoginText(String playerName, String done, String dtwo, String dthr){
        try{
            Statement stmt = connection.createStatement();
            String Jdone =(done!=&quot;&quot;)? &quot;done=\&quot;&quot;+done+&quot;\&quot; &quot; : &quot;&quot;;
            String Jdtwo =(dtwo!=&quot;&quot;)? &quot;dtwo=\&quot;&quot;+dtwo+&quot;\&quot; &quot; : &quot;&quot;;
            String Jdthr =(dthr!=&quot;&quot;)? &quot;dthr=\&quot;&quot;+dthr+&quot;\&quot; &quot;  : &quot;&quot;;
            String sql;
                sql = &quot;UPDATE IGNORE logintext SET &quot;+Jdone+&quot;&quot;+Jdtwo+&quot;&quot;+Jdthr+&quot;WHERE user=\&quot;&quot;+playerName+&quot;\&quot;&quot;;
            int updateCount = stmt.executeUpdate(sql);
        }catch(SQLException e){
            misc.println(&quot;error SAVING SQLSaveLoginText ///&quot;+e);
        }
    }[/code]
[table][tr][td]Now it&#39;s time to explain the SQL code.[/td][/tr][/table][table][tr][td][table][tr][td][table][tr][td]UPDATE IGNORE logintext[/td][td]Tells MySQL to update the table `logintext` and IGNORE[/td][/tr][tr][td]SET[/td][td]To set the column(s) {X} to value(s) {X}.[/td][/tr][tr][td]WHERE user=\&quot;&quot;+playerName+&quot;\&quot;[/td][td]This says only do the &quot;SET&quot; to the row that the field &#39;user&#39; equals that param[/td][/tr][/table][/td][/tr][/table][/td][/tr][/table]

Step Nine: CustomCommand
This is what lets only certain people have access to logintext. BUT, if they are demoted, they will still have there text. They will just not be able to change what it says.
[code]        if(command.startsWith(&quot;logtext&quot;)){
            String nxt = command.substring(8);
            if(nxt.startsWith(&quot;1&quot;)){
                nxt = nxt.substring(2);
                SQLSaveLoginText(playerName, nxt, &quot;&quot;, &quot;&quot;);
            }
            if(nxt.startsWith(&quot;2&quot;)){
                nxt = nxt.substring(2);
                if(playerRights &gt;= 1)
                SQLSaveLoginText(playerName, &quot;&quot;, nxt, &quot;&quot;);
                else
                sendMessage(&quot;You need your Rights to equal to or grator than: 1, you have:&quot;+playerRights);
            }
            if(nxt.startsWith(&quot;3&quot;)){
                nxt = nxt.substring(2);
                if(playerRights &gt;= 2)
                SQLSaveLoginText(playerName, &quot;&quot;, &quot;&quot;, nxt);
                else
                sendMessage(&quot;You need your Rights to equal to or grator than: 2, you have:&quot;+playerRights);
            }
        }[/code]
I think this is common sense where this goes.... CustomCommands ... ehhh?

The Variable &quot;nxt&quot; is then substring&#39;d to the index of:(command.length()+1) .... 
If variable &quot;nxt&quot; startsWith either 1, 2 or 3 then something else happens.
Each of these chances has variable &quot;nxt&quot; then substring&#39;d Index(2) to take off the number part.
This Results in only the words getting forwarded to the &quot;SQLSaveLoginText&quot; method
&lt;blockquote&gt;::logtext 1 this is the text for the first row on login&quot;
::logtext 2 this is the text that appears on the second row when you login
::logtext 3 this is the third row of text that other people see when you login.&lt;/blockquote&gt;


Step Ten: SQLNewLoginText
Now lets add the method if the row doesn&#39;t exist...
This method will be used by all players Through cross-refrenced by &quot;SQLLoadLoginText&quot; if method has Exception....
[code]    /**
     * This method will save nulls to all the strings
     * @param playerName this is the user that is going to be added to the DB
     */
    private void SQLNewLoginText(String playerName){
        try{
            Statement stmt = connection.createStatement();
            String sql = &quot;INSERT INTO `logintext` (`user` ,`done` ,`dtwo` ,`dthr` ) VALUES (  \&quot;&quot;+playerName+&quot;\&quot;, \&quot;\&quot;, \&quot;\&quot;, \&quot;\&quot; );&quot;;
            stmt.executeUpdate(sql);
        }catch(SQLException e){
            misc.println(&quot;error SAVING SQLNewLoginText ///&quot;+e);
        }
    }[/code]
[table][tr][td]Now it&#39;s time to explain the SQL code.[/td][/tr][/table][table][tr][td][table][tr][td][table][tr][td]INSERT INTO `logintext`[/td][td]This tells the JDBC to insert a new row into the table `logintext`[/td][/tr][tr][td](`user` ,`done` ,`dtwo` ,`dthr` )[/td][td]These will the the specific columns that will not be left to the default.[/td][/tr][tr][td]VALUES[/td][td]This is declaring that the aforementioned, which in the same order, column fields will equal the proceeding, in the same order. [/td][/tr][tr][td] (  \&quot;&quot;+playerName+&quot;\&quot;, \&quot;\&quot;, \&quot;\&quot;, \&quot;\&quot; );[/td][td]this would be the aforesaid:&#39;proceeding&#39; that the selected columns will equal.[/td][/tr][/table][/td][/tr][/table][/td][/tr][/table]
 
now let me explain some of the different properties for the SQL
When you are getting information from the sql there are some methods you need to know
---------
for the name of the &#39;ResultSet&#39; i.e. rs param
you extend out as either:
[code]rs.getInt(&quot;name of row in table&quot;); this only can get an Int from the table.
rs.getString(&quot;name of row in table&quot;); this is used to get out Strings from the table.
rs.getFloat(&quot;name of row in table&quot;); this is to get out Floats from the table.[/code]
As you can see, it&#39;s kinda simple when you need to get out a certain dataType from a table.

Step Eleven: Now lets add 1 last method. This method will allow you to sendMessages to everyone.
Originally can only do 1 message per 1/2 second, so this method will fix that.
[code]     /**
     * This method can send messages to everyone logged in,
     * it&#39;s not limmited to the retarded one message per half second for all players....
     * @param str
     */
     public void globalMessage(String str){
        for (Player p : server.playerHandler.players) {
            if (p != null) {
                client person = (client) p;
                if((person.playerName != null || person.playerName != &quot;null&quot;)){
                    if(str != null &amp;&amp; str != &quot;&quot;)
                        person.sendMessage(str);
                }
            }
        }
    }[/code]
This method skips the setting of globalmessage = (String)x; but instead right away just sendMessage to all players.
This method can send as many Messages to each player with no time limit. Before, ::yell can only be used by people once every half of a second.
And each person can only do it once every half of a second. This was to stop people with bots doing ::yell commands over and over......
Who Cares ..... This method will only be used by the SQL then?

If you need more examples, I can make more...
I hope you find this tutorial helpful.

Credit: curiosity killed the cat, but satisfaction brought it back..
Perfect yes?</description>
    
    <lastBuildDate>Sun, 20 Sep 2009 21:00:24 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@wales_00 wales 00]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wales_00">@wales_00</a> wrote:</p>
          <blockquote>
              <p>My tutorial explains the same thing, now there are two tutorials exactly the same.</p>
<p>Good job although I think my tutorial explains a little more.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/20</link>
        <pubDate>Sun, 20 Sep 2009 21:00:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-20</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@g_man_i_live g man i live]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/g_man_i_live">@g_man_i_live</a> wrote:</p>
          <blockquote>
              <p>old but handy<br>
<img src="http://www.swhammond.isgreat.org/Upload/images/dynamigwg.jpg" alt width="" height=""></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/19</link>
        <pubDate>Thu, 17 Sep 2009 12:14:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-19</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@Sonis Sonis]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sonis">@Sonis</a> wrote:</p>
          <blockquote>
              <p>MySQL is the BEST “FREE” option. Do notice the wordings for “FREE” …<br>
Now I am not incurring the option for using a torrent-like illegal activity …<br>
Maybe look up the names of other options here: <a href="http://en.wikipedia.org/wiki/SQL" rel="nofollow noopener">http://en.wikipedia.org/wiki/SQL</a><br>
then, google search Option1 vs. Option2 vs. Option3 and so-forth.</p>
<p>Now, please don’t base your opinion on just 1 article &gt;_&gt;<br>
Every author will alwayz side with 1 option over the others… Like I will… Being a hypocrite…<br>
Talking to computer nerds, They either side with Windows or is against it just because its the trend for “wierdos”…<br>
What operating system doesn’t matter if you have enough computer resources to back it up…<br>
I have 6GB of cheap ass 800s; and that is plenty, the cpu does all the work…</p>
<p>I personally think Oracle should be the only option, but Legally you need to have a “License” to use it…<br>
BUT, there are more help and tutorials and edits and etc etc etc etc to MySQL.<br>
Like PHPMYADMIN is a popular choice for PHP&amp;MySQL pplz.</p>
<p>So if you are in need for tutorials and help and tweeks, STAY WITH MYSQL…<br>
If you only need 1 tutorials and base everything off that, then maybe look at Oracle…</p>
<p>The last thing im going to say: Maybe look for a java source that you can include into your server to run savings?<br>
I have a HTTP engine for port 80 that runs my smf forums. It does it though JNI but thats a different story and off topic…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/18</link>
        <pubDate>Tue, 02 Dec 2008 20:31:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-18</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@thiefmn6092 thiefmn6092]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/thiefmn6092">@thiefmn6092</a> wrote:</p>
          <blockquote>
              <p>there’s a lot more database systems out there OTHER than MySQL.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/17</link>
        <pubDate>Mon, 01 Dec 2008 14:43:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-17</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@tobias222 tobias222]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tobias222">@tobias222</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="6" data-topic="246632">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/ry60003333/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> ry60003333:</div>
<blockquote>
<p>I think servers that don’t use MySQL should be burned. At least the code is formatted and you explain things.</p>
</blockquote>
</aside>
<p>To be honest, all servers should be burned, people who use MYSQL choose to for a reason, there are plenty of reaons not to use it.</p>
<p>EDIT:</p>
<p>Who cares if he uses switch or if-then statements?<br>
I certainly don’t lol. It’s not a reason to lock a topic and different people<br>
prefer different things, just let him post in which ever way he thinks is best.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/16</link>
        <pubDate>Mon, 01 Dec 2008 14:24:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-16</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@bhpkyeah satesql]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bhpkyeah">@bhpkyeah</a> wrote:</p>
          <blockquote>
              <p>I use mysql for my server <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/15</link>
        <pubDate>Sun, 30 Nov 2008 05:21:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-15</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@unkouwncow unkouwncow]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/unkouwncow">@unkouwncow</a> wrote:</p>
          <blockquote>
              <p>wow guys give him some credit, unlike most people he has the balls to try to explain something beyond how to make urself “owner” or how to add pointless commands.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/14</link>
        <pubDate>Sat, 29 Nov 2008 02:46:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-14</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@Yz85Racer Yz85Racer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/yz85racer">@Yz85Racer</a> wrote:</p>
          <blockquote>
              <p>[quote=“Sonis, post:12, topic:246632”][quote author=Yz85Racer link=topic=323106.msg2553881#msg2553881 date=1227770518]</p>
<aside class="quote no-group">
<blockquote>
<p>Okay, I guess I was seriously burned…<br>
But yeah a switch would be best compared to the if’s. It’s just that people might not be using a switch, and to convert it to a switch isn’t hard…<br>
I’ll edit my post and look up on google for more accurate information.</p>
</blockquote>
</aside>
<p>Tell me how a switch statement is ‘better’ than an if-statement.<br>
[/quote]<br>
switches look much better. they also don’t take up as much room in volume of characters. I already know using something like a map would be way smarter, I sound like those idiots who use tables instead of divs … but I am sticking with what i said…[/quote]<br>
…lol’d. Sorry, I really did.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/13</link>
        <pubDate>Thu, 27 Nov 2008 07:52:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-13</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@Sonis Sonis]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sonis">@Sonis</a> wrote:</p>
          <blockquote>
              <p>[quote=“Yz85Racer, post:10, topic:246632”][quote author=Sonis link=topic=323106.msg2553858#msg2553858 date=1227769506]<br>
Okay, I guess I was seriously burned…<br>
But yeah a switch would be best compared to the if’s. It’s just that people might not be using a switch, and to convert it to a switch isn’t hard…<br>
I’ll edit my post and look up on google for more accurate information.<br>
[/quote]<br>
Tell me how a switch statement is ‘better’ than an if-statement.[/quote]<br>
switches look much better. they also don’t take up as much room in volume of characters. I already know using something like a map would be way smarter, I sound like those idiots who use tables instead of divs … but I am sticking with what i said…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/12</link>
        <pubDate>Thu, 27 Nov 2008 07:43:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-12</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@Yz85Racer Yz85Racer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/yz85racer">@Yz85Racer</a> wrote:</p>
          <blockquote>
              <p>[quote=“Coder xynt, post:1, topic:246877”][quote author=Yz85Racer link=topic=323106.msg2553881#msg2553881 date=1227770518]</p>
<aside class="quote no-group">
<blockquote>
<p>Okay, I guess I was seriously burned…<br>
But yeah a switch would be best compared to the if’s. It’s just that people might not be using a switch, and to convert it to a switch isn’t hard…<br>
I’ll edit my post and look up on google for more accurate information.</p>
</blockquote>
</aside>
<p>Tell me how a switch statement is ‘better’ than an if-statement.<br>
[/quote]<br>
Jump table.[/quote]<br>
Was I asking you?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/11</link>
        <pubDate>Thu, 27 Nov 2008 07:41:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-11</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@Yz85Racer Yz85Racer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/yz85racer">@Yz85Racer</a> wrote:</p>
          <blockquote>
              <p>[quote=“Sonis, post:8, topic:246632”]Okay, I guess I was seriously burned…<br>
But yeah a switch would be best compared to the if’s. It’s just that people might not be using a switch, and to convert it to a switch isn’t hard…<br>
I’ll edit my post and look up on google for more accurate information.[/quote]<br>
Tell me how a switch statement is ‘better’ than an if-statement.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/10</link>
        <pubDate>Thu, 27 Nov 2008 07:21:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-10</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@SkillersDream SkillersDream]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/skillersdream">@SkillersDream</a> wrote:</p>
          <blockquote>
              <p>looks alright, nice job sonis</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/9</link>
        <pubDate>Thu, 27 Nov 2008 07:15:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-9</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@Sonis Sonis]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sonis">@Sonis</a> wrote:</p>
          <blockquote>
              <p>Okay, I guess I was seriously burned…<br>
But yeah a switch would be best compared to the if’s. It’s just that people might not be using a switch, and to convert it to a switch isn’t hard…<br>
I’ll edit my post and look up on google for more accurate information.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/8</link>
        <pubDate>Thu, 27 Nov 2008 07:05:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-8</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@ry60003333 ry60003333]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ry60003333">@ry60003333</a> wrote:</p>
          <blockquote>
              <p>I never said it was formatted <span class="bbcode-b">properly</span> or explained <span class="bbcode-b">correctly</span>. <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
<p>But if another Mod thinks this should be locked it doesn’t matter to me.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/7</link>
        <pubDate>Thu, 27 Nov 2008 04:00:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-7</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@ry60003333 ry60003333]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ry60003333">@ry60003333</a> wrote:</p>
          <blockquote>
              <p>I think servers that don’t use MySQL should be burned. At least the code is formatted and you explain things.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/6</link>
        <pubDate>Thu, 27 Nov 2008 03:34:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-6</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@tonypker13 tonypker13]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tonypker13">@tonypker13</a> wrote:</p>
          <blockquote>
              <p>If a mod locks this, It proves the homosexuality that they have.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/5</link>
        <pubDate>Thu, 27 Nov 2008 03:29:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-5</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@firefox1 firefox§]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/firefox1">@firefox1</a> wrote:</p>
          <blockquote>
              <p>cooooool, now i can get my server to work with sql. ty son</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/4</link>
        <pubDate>Thu, 27 Nov 2008 03:20:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-4</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@Sonis Sonis]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sonis">@Sonis</a> wrote:</p>
          <blockquote>
              <p>oh okay, Ill edit the post some more and break down each part<br>
EDIT: DONE… Now time to think of my next tutorial  <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=6" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/3</link>
        <pubDate>Wed, 26 Nov 2008 20:04:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-3</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@tonypker13 tonypker13]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tonypker13">@tonypker13</a> wrote:</p>
          <blockquote>
              <p>You need to explain a bit more, I’d hate to see this get locked over some stupid mod…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/2</link>
        <pubDate>Wed, 26 Nov 2008 06:30:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-2</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
      <item>
        <title>MySQL connections -- Example: login Text</title>
        <dc:creator><![CDATA[@Sonis Sonis]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sonis">@Sonis</a> wrote:</p>
          <blockquote>
              <p>DESCRIPTION: This tutorial will show you how to set up a connection with mysql though the JDBC a.k.a. Java DataBase Connector.  In this Tutorial I have enclosed the needed driver so you you can include it as a library.<br>
EDIT: After being burned, I have fixed couple errors throughout the tutorial.</p>
<p>BASE: This tutorial isn’t restricted to any certain base. I have been using a CZAR though.</p>
<p>First, if you are having trouble finding the driver, here it is: <a href="http://ScarNastics.com/com.zip" rel="nofollow noopener">ScarNastics.com/com.zip</a><br>
It’s weird; My WebHost Provider I’ve had for 3years… All there servers are like down… FTP isn’t working either…<br>
Well, If you Need help getting the source, I can reupload somewhere else.</p>
<p>Step One: Adding imports</p>
<pre><code class="lang-auto">import java.sql.*;</code></pre>
<p>Step Two: Calling from java.sql.Connection<br>
This will be the instance that we are going to declare.</p>
<pre><code class="lang-auto">	public static Connection connection = null;</code></pre>
<p>Step Three: MySQL information.<br>
This is where we set the aforementioned instance (Step two) to the IP, DB Name, User, and Password…</p>
<p><code>    //MYSQL CONNECTION
    static{
        try{Class.forName("org.gjt.mm.mysql.Driver");
            String IP="127.0.0.1";
            String DB="Scar";//Name That DataBase
            String User="root";
            String Pass="Secret";
            connection = DriverManager.getConnection("jdbc:mysql://"+IP+"/"+DB, User, Pass);
            misc.println("connected YAY!");
        }catch(ClassNotFoundException e){
            misc.println("You Need To Download The SQL Classes");
        }catch(SQLException e){
            misc.println("SQL ERROR... /////"+e);
        }
    }</code><br>
Please note: You need to change the above data to match your server’s Preferences.<br>
If you need help with MySQL, please refer to the MySQL manual at <a href="http://mysql.com" rel="nofollow noopener">mysql.com</a><br>
RECOMMENDATION: Download WAMP, This will include PHP, MySQL and PHPMYADMIN all in 1 combo. at <a href="http://www.wampserver.com/en/" rel="nofollow noopener">http://www.wampserver.com/en/</a></p>
<p>Step Four: Example Time …<br>
The example will be loading Text upon login.<br>
Please look for :<code>" has logged in";</code></p>
<p>Now in this example Enter in the following</p>
<p><code>                String LoginText[] = SQLLoadLoginText(playerName);
                for(int aa=0;aa&lt;LoginText.length();aa++){
                    if(!LoginText[aa].equals("") &amp;&amp; LoginText[aa] != null){
                        globalMessage(LoginText[aa]);
                        misc.println(LoginText[aa]);
                    }
                }</code><br>
The array:‘LoginText’ equals the resulted array from the method ‘SQLLoadLoginText’.<br>
Now we start a for-loop that goes as many times as there are arrays: ‘LoginText’.<br>
If each part of the array doesn’t equal null or a blank; then we forward that String to the console and globalMessage.</p>
<p>Step Five: Were going to add the MySQL Table.<br>
If you do not know much about MySQL then just use PHPMyAdmin and look for the tab SQL.<br>
Make sure that you make the DB before you try and make a table…</p>
<p><code> CREATE TABLE `scar`.`logintext` (
`user` VARCHAR( 20 ) NOT NULL ,
`done` VARCHAR( 255 ) NOT NULL ,
`dtwo` VARCHAR( 255 ) NOT NULL ,
`dthr` VARCHAR( 255 ) NOT NULL ,
UNIQUE (
`user`
)
) ENGINE = InnoDB </code><br>
Please Note: PLEASE CHANGE “scar” to the name of your DB</p>
<p>Step Six: SQLLoadLoginText<br>
This method will result in an array of Strings. Each string will be one of the lines for the login.</p>
<p><code>    /**
     * This method will load text from the DB... this is the text that appears like:
     * this player has logged in....
     * @param playerName this is the user that is getting loaded...
     * @return this is going to be the String array for the login text.
     */
    private String[] SQLLoadLoginText(String playerName){
        try{
            Statement stmt = connection.createStatement();
            ResultSet rs  = stmt.executeQuery("SELECT * FROM logintext WHERE user=\""+playerName+"\"");
            rs.first();
            String usaa = rs.getString("user");
            String newa[] = {rs.getString("done"), rs.getString("dtwo"), rs.getString("dthr")};
        return newa;
        }catch(SQLException e){
            misc.println("error LOADING SQLLoadLoginText ///"+e);
            SQLNewLoginText(playerName);
        return new String[] {"", "", ""};
        }
    }</code></p>
<p>[table][tr][td]Now it’s time to explain the SQL code.[/td][/tr][/table][table][tr][td][table][tr][td][table]<br>
[tr][td]SELECT * FROM logintext[/td][td]selects the table logintext and * means wild card; so everything in the table.[/td][/tr][tr][td]WHERE user=""+playerName+""[/td]<br>
[td]as the column <code>user</code> is unique entry only, we use that to narrow down.[/td][/tr][/table][/td][/tr][/table][/td][/tr][/table]</p>
<p>Step Eight: SQLSaveLoginText – Now lets add this new method again.<br>
This method can only save 1 param at a time. If you would like to save more than 1 at a time; then you need to add a comma between each of the param you use…</p>
<p><code>    /**
     * This method will save either of these string to the EX
     * @param playerName
     * @param done
     * @param dtwo
     * @param dthr
     */
    private void SQLSaveLoginText(String playerName, String done, String dtwo, String dthr){
        try{
            Statement stmt = connection.createStatement();
            String Jdone =(done!="")? "done=\""+done+"\" " : "";
            String Jdtwo =(dtwo!="")? "dtwo=\""+dtwo+"\" " : "";
            String Jdthr =(dthr!="")? "dthr=\""+dthr+"\" "  : "";
            String sql;
                sql = "UPDATE IGNORE logintext SET "+Jdone+""+Jdtwo+""+Jdthr+"WHERE user=\""+playerName+"\"";
            int updateCount = stmt.executeUpdate(sql);
        }catch(SQLException e){
            misc.println("error SAVING SQLSaveLoginText ///"+e);
        }
    }</code><br>
[table][tr][td]Now it’s time to explain the SQL code.[/td][/tr][/table][table][tr][td][table][tr][td][table][tr][td]UPDATE IGNORE logintext[/td][td]Tells MySQL to update the table <code>logintext</code> and IGNORE[/td][/tr][tr][td]SET[/td][td]To set the column(s) {X} to value(s) {X}.[/td][/tr][tr][td]WHERE user=""+playerName+""[/td][td]This says only do the “SET” to the row that the field ‘user’ equals that param[/td][/tr][/table][/td][/tr][/table][/td][/tr][/table]</p>
<p>Step Nine: CustomCommand<br>
This is what lets only certain people have access to logintext. BUT, if they are demoted, they will still have there text. They will just not be able to change what it says.</p>
<p><code>        if(command.startsWith("logtext")){
            String nxt = command.substring(8);
            if(nxt.startsWith("1")){
                nxt = nxt.substring(2);
                SQLSaveLoginText(playerName, nxt, "", "");
            }
            if(nxt.startsWith("2")){
                nxt = nxt.substring(2);
                if(playerRights &gt;= 1)
                SQLSaveLoginText(playerName, "", nxt, "");
                else
                sendMessage("You need your Rights to equal to or grator than: 1, you have:"+playerRights);
            }
            if(nxt.startsWith("3")){
                nxt = nxt.substring(2);
                if(playerRights &gt;= 2)
                SQLSaveLoginText(playerName, "", "", nxt);
                else
                sendMessage("You need your Rights to equal to or grator than: 2, you have:"+playerRights);
            }
        }</code><br>
I think this is common sense where this goes… CustomCommands … ehhh?</p>
<p>The Variable “nxt” is then substring’d to the index of:(command.length()+1) …<br>
If variable “nxt” startsWith either 1, 2 or 3 then something else happens.<br>
Each of these chances has variable “nxt” then substring’d Index(2) to take off the number part.<br>
This Results in only the words getting forwarded to the “SQLSaveLoginText” method</p>
<blockquote>::logtext 1 this is the text for the first row on login"
::logtext 2 this is the text that appears on the second row when you login
::logtext 3 this is the third row of text that other people see when you login.</blockquote>
<p>Step Ten: SQLNewLoginText<br>
Now lets add the method if the row doesn’t exist…<br>
This method will be used by all players Through cross-refrenced by “SQLLoadLoginText” if method has Exception…</p>
<p><code>    /**
     * This method will save nulls to all the strings
     * @param playerName this is the user that is going to be added to the DB
     */
    private void SQLNewLoginText(String playerName){
        try{
            Statement stmt = connection.createStatement();
            String sql = "INSERT INTO `logintext` (`user` ,`done` ,`dtwo` ,`dthr` ) VALUES (  \""+playerName+"\", \"\", \"\", \"\" );";
            stmt.executeUpdate(sql);
        }catch(SQLException e){
            misc.println("error SAVING SQLNewLoginText ///"+e);
        }
    }</code><br>
[table][tr][td]Now it’s time to explain the SQL code.[/td][/tr][/table][table][tr][td][table][tr][td][table][tr][td]INSERT INTO <code>logintext</code>[/td][td]This tells the JDBC to insert a new row into the table <code>logintext</code>[/td][/tr][tr][td](<code>user</code> ,<code>done</code> ,<code>dtwo</code> ,<code>dthr</code> )[/td][td]These will the the specific columns that will not be left to the default.[/td][/tr][tr][td]VALUES[/td][td]This is declaring that the aforementioned, which in the same order, column fields will equal the proceeding, in the same order. [/td][/tr][tr][td] (  “”+playerName+"", “”, “”, “” );[/td][td]this would be the aforesaid:‘proceeding’ that the selected columns will equal.[/td][/tr][/table][/td][/tr][/table][/td][/tr][/table]</p>
<h2>now let me explain some of the different properties for the SQL<br>
When you are getting information from the sql there are some methods you need to know</h2>
<p>for the name of the ‘ResultSet’ i.e. rs param<br>
you extend out as either:</p>
<p><code>rs.getInt("name of row in table"); this only can get an Int from the table.
rs.getString("name of row in table"); this is used to get out Strings from the table.
rs.getFloat("name of row in table"); this is to get out Floats from the table.</code><br>
As you can see, it’s kinda simple when you need to get out a certain dataType from a table.</p>
<p>Step Eleven: Now lets add 1 last method. This method will allow you to sendMessages to everyone.<br>
Originally can only do 1 message per 1/2 second, so this method will fix that.</p>
<p><code>     /**
     * This method can send messages to everyone logged in,
     * it's not limmited to the retarded one message per half second for all players....
     * @param str
     */
     public void globalMessage(String str){
        for (Player p : server.playerHandler.players) {
            if (p != null) {
                client person = (client) p;
                if((person.playerName != null || person.playerName != "null")){
                    if(str != null &amp;&amp; str != "")
                        person.sendMessage(str);
                }
            }
        }
    }</code><br>
This method skips the setting of globalmessage = (String)x; but instead right away just sendMessage to all players.<br>
This method can send as many Messages to each player with no time limit. Before, ::yell can only be used by people once every half of a second.<br>
And each person can only do it once every half of a second. This was to stop people with bots doing ::yell commands over and over…<br>
Who Cares … This method will only be used by the SQL then?</p>
<p>If you need more examples, I can make more…<br>
I hope you find this tutorial helpful.</p>
<p>Credit: curiosity killed the cat, but satisfaction brought it back…<br>
Perfect yes?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632/1</link>
        <pubDate>Tue, 25 Nov 2008 23:23:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-246632-1</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-connections-example-login-text/246632.rss">MySQL connections -- Example: login Text</source>
      </item>
  </channel>
</rss>
