<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Bandos; PM; emotes; combat!</title>
    <link>https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488</link>
    <description>1)When I send PM it dubles, how to fix it?
2)How to add bandos?
[size=8pt][s]3)How to make that if I click on emote &quot;Lean on air&quot; its show that, not other emote?[/s]
[s]4)How to change d bow hits?[/s][/size]
5)How to make that with shortbow you can use bronze arrows to fire.
6)How to make that when I type &quot;/&quot; it shows it, not a letter &quot;a&quot;
7)How to make save prayer type. Its saves it but when you log in, prayer type is back to normal. But when you pray at altar it says &quot;changed back to noraml&quot; so how to fix, that it really save?
8)How to fix, that in shop when you buy, you buy 1 thing, not 2.
9)How to fix, that with hand you can train str and deff xp if you chose them, not only attack xp when you chosed to train str.?</description>
    
    <lastBuildDate>Thu, 08 Mar 2012 00:10:49 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Bandos; PM; emotes; combat!</title>
        <dc:creator><![CDATA[@Elfbow Elfbow]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/elfbow">@Elfbow</a> wrote:</p>
          <blockquote>
              <p>[code]INTERESTING IDS</p>
<p>360-370 - ancients ice spells<br>
370-380 - ancients blood spells<br>
380-390 - ancients shadow/smoke spells</p>
<p>57 - port cullus going down<br>
58 - port cullus lifting up<br>
59 - whirlpool<br>
61 - log on chain swinging lol<br>
155-172 - normal combat spells<br>
245 - stars above head<br>
284 - dragon hally special<br>
435 - electricity thing<br>
346 - explosion<br>
501 - ice thing<br>
392 - ancient magicks teleport!!!<br>
396 - wierd blue spell<br>
393 - wierd fire thing<br>
394 - wierd green thing<br>
395 - wierd ice thing<br>
400 - karils anti agility attack<br>
361 - ice burst failing<br>
363 - ice burst (being attacked)<br>
364 - giant ice block (not in real rs ancient magicks)<br>
365 - giant ice block (not in real rs ancient magicks)<br>
367 - ice blitz (being attacked)<br>
366/368 - ice blitz (casting)<br>
369 - ice barrage<br>
370 - huge ice block (not in real rs ancient magicks</p>
<p>GRAPHIC IDS</p>
<p>0 - kbd fire<br>
1 - fire<br>
2 - white thing<br>
3 - green thing<br>
4 - purple rays<br>
5 - moving purple rays<br>
6 - sort of like teleporting<br>
7 - sort of like teleporting<br>
8 - vines?<br>
9 - arrow<br>
10 - arrow<br>
11 - arrow<br>
12 - arrow<br>
13 - arrow<br>
14 - arrow<br>
15 - arrow<br>
16 - ice arrow<br>
17 - fire arrow<br>
18 - moving arrow<br>
19 - moving arrow<br>
20 - moving arrow<br>
21 - moving arrow<br>
22 - moving arrow<br>
23 - moving arrow<br>
24 - moving arrow<br>
25 - moving ice arrow<br>
26 - moving fire arrow</p>
<p>GFX list Second</p>
<p>0 = tripple dragon breath<br>
1 = single dragon breath<br>
2 = huge white breath<br>
3 = huge green breath<br>
4 = crap load of purple lines<br>
5 = purple lines again<br>
6 = similar to teleport<br>
7 = small purple dot which gets bigger and then small<br>
8 = vines<br>
18 = iron arrows<br>
19 = bronze arrow<br>
20 = steel arrow<br>
21 = mith arrow<br>
22 = addy arrow<br>
23 = iron again<br>
24 = rune arrow<br>
25 = ice arrow<br>
26 = fire arrow<br>
28 = crossbow bolt<br>
29 = rotten tomatoe <span class="hashtag">#1</span><br>
30 = rotten tomatoe <span class="hashtag">#2</span><br>
31 = rotten tomatoe <span class="hashtag">#3</span><br>
35 = iron throw axe<br>
36 = bronze throw axe<br>
37 = steel throwing axe<br>
38 = mith throwing axe<br>
39 = addy throwing axe<br>
40 = bronze throwing axe<br>
41 = rune throwing axe<br>
49-52 = umm gray vail thing<br>
54 = giant blast<br>
57 = giant cage door down<br>
58 = giant cage door up<br>
59 = BIG ASS WHIRLPOOL<br>
60 = rocks falling<br>
61 = giant log swinging<br>
62 = spikes coming out of a wall trap<br>
65 = floor trap (hit)<br>
66 = floor trap<br>
67 = pole shooting throw you<br>
68 = huge splash - water<br>
69 = huge splash - orange<br>
76 = saradomin strike<br>
77 = claws of guthix<br>
78 = flames of zamorak<br>
79 = funny little green things above your head<br>
80 = stun- birds above head<br>
81 = bull roarer<br>
82 = two purple ThInGs in front of you<br>
83 = giant tentical (red)<br>
84 = stars around you<br>
85 = magic spell splash<br>
86 = puff of smoke<br>
87 = red spikes from iban blast<br>
88 = iban blast - projectile skull<br>
89 = iban blast - contact with target<br>
90-101 = standard strike spells, pre-fire, projectile, contact etc.<br>
102-110 = standard 3 basic curse spells, pre-fire, projectile, contact etc.<br>
111 = light teleport<br>
112 = low alchemy<br>
113 = high alchemy<br>
114 = enchant low level necklace<br>
115 = enchant medium level necklace<br>
116 = enchant high level mecklace<br>
117-128 = bolt spell graphics<br>
129-140 = blast spell graphics<br>
141 = bones to bananas<br>
142-144 = telegrab graphics<br>
145-147 = crumble undead graphics<br>
148 = super heat<br>
149 = powering water orb<br>
150 = powering air orb<br>
151 = powering earth orb<br>
152 = powering fire orb<br>
153 = enchant necklace - 1 glow<br>
154 = enchant necklace - 2 glow<br>
155-166 = wave spell graphics<br>
167-174 = high lvl curse spells<br>
176 = exploding vial<br>
177 = bind\snare\entangle<br>
178 = bind\snare\entangle<br>
179 = bind - contact<br>
180 = snare - contact<br>
181 = entangle -contact?<br>
182 = giant gnome cross-bow<br>
183 = giant gnome cross-bow<br>
184 = green puff of smoke<br>
186 = runecrafting graphic<br>
187 = claws of guthix GOLD!!!<br>
188 = big puff of smoke<br>
189 = huge puff of smoke<br>
190 = big(er) purple teleport, more oval shaped<br>
191 = massive teleport above head<br>
192 = enchanted vial<br>
193 = enchanted vial<br>
194 = i never tested<br>
195 = ^^^^<br>
196 = ^^^^<br>
197 = mad nice blue and black fire<br>
198 = big blue and white wave spell contact<br>
199 = Fireworks<br>
206-211 = javalin graphics<br>
219-225 = throwing knives graphics<br>
232-237 = throwing darts graphics<br>
238 = enchant ring<br>
239 = barrel falling apart<br>
240 = exploding toad<br>
241 = filling toad with bellows<br>
243 = giant ogre arrow<br>
244 = elemental shield appearing<br>
245 = birdies above head<br>
246 = red portal glow<br>
247 = blue purple glow<br>
248 = Dragon Longsword SPECIAL<br>
250 = Magic Longbow SPECIAL<br>
251 = Dragon Mace SPECIAL<br>
252 = Dragon Dagger SPECIAL<br>
253 = Dragon Spear SPECIAL<br>
254 = Stun birdies again, from dragon spear special<br>
255 = green protection graphic<br>
256 = Magic Shortbow SPECIAL<br>
257 = steel throwing axe<br>
258 = Throwing Axe SPECIAL<br>
259 = ^255<br>
263 = smalls stars<br>
264 = smalls stars 2 again … a little diffirent<br>
265 = ghasts<br>
266 = big green blast<br>
267 = bright green puff<br>
268 = no clue<br>
269 = first contact<br>
270 = karamja agility course poison darts<br>
271 = karamja agility course falling rocks<br>
274 = Rune Claw SPECIAL<br>
275 = big rock flying away<br>
277 = ZZZZzzzzzzZZzzzzzzz sleep<br>
278 = kalphite jaws<br>
279 = smaller kalphite jaws<br>
280 = kalphite mage attk<br>
281 = same as above<br>
282 = Dragon Halberd SPECIAL - in front<br>
283 = Dragon Halberd SPECIAL - behind you<br>
284 = Dragon Halberd SPECIAL - to your left<br>
285 = Dragon Halberd SPECIAL - to your right<br>
286 = tar barrel<br>
287 = WOOOW big explosion<br>
291 = more birdies<br>
292 = flames of zammy darker<br>
293 = white ghost body<br>
301 = light teleport graphic<br>
302 = rocks falling on head<br>
303 = medium sized stone falling<br>
305 = dark grey and greenish blast<br>
306 = Dragon Dagger SPECIAL purple<br>
307 = steel pickaxe goes up<br>
308 = teleport graphic<br>
309 = spinning steel pickaxe<br>
310 = dust cloud around head<br>
311 = two blood red orbs go up then combine<br>
325 = broad arrow drawback<br>
327 = white stuff<br>
328 = slayer dart - projectile<br>
329 = slayer dart - contact<br>
330 = slayer dart - projectile better than above<br>
331 = slayer dart - contact dif colors<br>
332 = Purple portal glow<br>
333 = idk how to explain this one… some red stuff<br>
334 = small green glow<br>
335 = medium green glow<br>
336 = large green glow<br>
337 = white bar<br>
338 = stick goes in air and falls<br>
339 = big splash - magic spell failure<br>
340 = white special attack of somekind<br>
341 = Abyssal Whip SPECIAL<br>
342 = Teleother - person accepts teleport<br>
343 = Teleother - person casts on another player<br>
344 = Teleblock - Projectile<br>
345 = Teleblock - Contact on target<br>
346 = fire blast with a ring around it<br>
347 = Dragon Scimitar SPECIAL<br>
348 = birds<br>
349 = ZZZZzzzzzZZzzzzz sleep (again)<br>
350 = Flock of black birds<br>
351 = zombie jumps in the air and lands and looks forward - this one is funny<br>
352 = zombie laying down - jumps up - lands and looks forward ^^^funny<br>
353 = white transparent cylinder above head - gay<br>
354 = two puffs of smoke above head, join together and go down body - lol<br>
358 = same as 353<br>
359 = huge air wave - contact<br>
360-361 = Ancients - Ice Rush<br>
362-363 = Ancients - Ice Burst<br>
364 = Ice Burst - big<br>
365 = Ice Burst - bigerER<br>
366-368 = Ancients - Ice Blitz<br>
369 = Ancients - Ice barrage<br>
370 = Ancients - Ice barrage huge<br>
373-377 = Ancients - Blood Spells<br>
378-382 = Ancients - Shadow Spells<br>
383-391 = Ancients - Smoke Spells<br>
392 = Ancients - Teleport<br>
393 = KBD = red projectile<br>
394 = KBD = green projectile<br>
395 = KBD = white projectile<br>
396 = KBD = blue projectile<br>
398 = Guthan Special<br>
399 = Torags Special<br>
400 = Ahrims Special<br>
401 = Karils Special<br>
402 = green puff of smoke<br>
405 = dark green rocks falling<br>
406 = Huge rock falls on you<br>
409 = Abyssal demons teleport<br>
410 = small water drops<br>
412 = Big Apple barrel lol<br>
413 = Big Rotten Apple barrel<br>
414 = Big Apple barrel turns turns to mush<br>
415 = Big rotten apple barrel turns to much<br>
416 = Toad floating and spinning<br>
417 = toad exploding<br>
418 = blue toad floading a spinning<br>
419 = blue toad exploding<br>
420 = red toad spinning<br>
421 = red toad exploding<br>
422 = yellow toad spinning<br>
423 = yellow toad exploding<br>
424 = green toad spinning<br>
425 = green toad exploding<br>
426 = Stars spinning around head<br>
427 = something exploding, small peices<br>
429 = small bright green spell contact<br>
430 = small bright red spell contact<br>
431 = small white spell contact<br>
432 = skeleton dying - bank robbery vid<br>
433 = old mans spell - bank robbery vid<br>
434 = old mans spell - same as above<br>
435 = old mans spell - same as above<br>
436 = Redemption prayer<br>
437 = Retribution prayer<br>
438 = miniature dragon fire breath<br>
439 = miniature dragon fire breath … LMFAO!!!<br>
440 = KBD fire<br>
441 = Retribution - going upward<br>
442 = it looks cool… something for tzhaar pits<br>
444 = Healing graphic from a monster in fight pits - HOT!!!<br>
445 = 3 small fire gets shotting backward<br>
446 = fire coming down from sky<br>
447 = lmfao fire out of cock!<br>
448 = meteorite shotting forward<br>
449 = smaller fireball directed forward<br>
450 = even smaller fireball going forward<br>
451 = big meteorite crashing down on you<br>
452 = Onyx Ammy Enchanting<br>
453 = fire<br>
454 = scanning area - from that quest<br>
455 = Ancients - Backwards Teleport<br>
456 = small splash<br>
457-464 = Butter churns<br>
465 = Huge North star<br>
466 = zombie cut in half<br>
467 = zombie head falls off<br>
468 = releasing inner zombie<br>
469 = steam out of ears<br>
470 = small puddle thing<br>
472 = Bow special<br>
473 = Sparkling spinning arrow tip<br>
474 = colorless fireworks heading towards ground?<br>
479 = special attk of some weapon i think<br>
480 = big north star thing again<br>
481 = awsome red shock wave under<br>
482 = red rings around you<br>
486 = bunny?<br>
492 = red starts spinning under you<br>
497 = two balls of fire on each side<br>
498 = big ball of fire under you<br>
500 = projectile water blast<br>
502 = water bolt contact<br>
503 = graphic from abyss thing<br>
504 = same as above<br>
505 = pink blast under you<br>
506 = bones to bananas graphic i think<br>
507 = Jump marionette = red<br>
508 = Walk marionette = red<br>
509 = Bow marionette = red<br>
510 = Dance marionette = red<br>
511 = Jump marionette = blue<br>
512 = Walk marionette = blue<br>
513 = Bow marionette = blue<br>
514 = Dance marionette = blue<br>
515 = Jump marionette = green<br>
516 = Walk marionette = green<br>
517 = Bow marionette = green<br>
518 = Dance marionette = green<br>
519 = in a door way<br>
520 = bones drop on you<br>
524 = white spikey ball under you<br>
521 = Same As 520<br>
522 = Same As 520 521<br>
523 = Same As 520 521 522<br>
524 = White Spike Ball Pops<br>
536 = Shadow Crawling<br>
537 = Smoke Projectile<br>
538 = Smoke Rize<br>
539 = Ice Block<br>
540 = Smoke Rize??<br>
541 = Green Splash<br>
542 = Explosion<br>
545 = Barrow With A Lit Fuze<br>
546 = Fuze Lit<br>
547 = Barrow Explode<br>
550 = Green Balls.<br>
551 = Green Balls Spin<br>
552 = Green Balls exploding<br>
553 = Red 550<br>
554 = Red Flying<br>
555 = Nothing<br>
556 = MultiColors<br>
557 = MultiColors 2<br>
558 = MultiColors 3<br>
559 = Blood Spell Finish<br>
560 = a chained up skeleton<br>
563 = yummy chiken<br>
566 = same as above only with a  pig<br>
567 = Smoke Cloud<br>
568 = Flowers above head<br>
569 = Flowers Around Player<br>
570 = Rolling Rock<br>
571 = Smoke Brown Colored<br>
572 = Hole opens In Ground<br>
573 = 572<br>
574 = Heart<br>
575 = Blue Sparkles<br>
576 = Black Sparkles<br>
577 = Mushroom Dude<br>
578 = Huge Mushroom Dude<br>
579 = Fire Ball<br>
580 = Imp Teleport<br>
581 = Couldren Spinning<br>
582 = Explosion<br>
588 = Huge Arrow<br>
590 = Perminit Book<br>
592 = Scroll<br>
593 = Flowers<br>
596 = gay yellow shit<br>
599 = Bowl Of Food<br>
600 = Nothing<br>
601 = nice<br>
602 = Cake[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/7</link>
        <pubDate>Thu, 08 Mar 2012 00:10:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435488-7</guid>
        <source url="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488.rss">[PI] Bandos; PM; emotes; combat!</source>
      </item>
      <item>
        <title>[PI] Bandos; PM; emotes; combat!</title>
        <dc:creator><![CDATA[@ravekitty ravekitty]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ravekitty">@ravekitty</a> wrote:</p>
          <blockquote>
              <p>Replace your private messaging .java with mine -should also fix the error of not recieving all pms <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<pre><code class="lang-auto">package server.model.players.packets;


import server.Config;
import server.Server;
import server.Connection;
import server.model.players.Client;
import server.model.players.PacketType;
import server.model.players.PlayerHandler;
import server.util.Misc;

/**
 * Private messaging, friends etc
 **/
public class PrivateMessaging implements PacketType {

        public final int ADD_FRIEND = 188, SEND_PM = 126, REMOVE_FRIEND = 215, CHANGE_PM_STATUS = 95, REMOVE_IGNORE = 59, ADD_IGNORE = 133;
        @Override
        public void processPacket(Client c, int packetType, int packetSize) {  
                switch(packetType) {
                
                        case ADD_FRIEND:
                        c.friendUpdate = true;
                        long friendToAdd = c.getInStream().readQWord();
                        boolean canAdd = true;

                        for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
                                if (c.friends[i1] != 0 &amp;&amp; c.friends[i1] == friendToAdd) {
                                        canAdd = false;
                                        c.sendMessage(friendToAdd + " is already on your friends list.");
                                }
                        }
                        if (canAdd == true) {
                                for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
                                        if (c.friends[i1] == 0) {
                                                c.friends[i1] = friendToAdd;
                                                for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
                                                        if (Server.playerHandler.players[i2] != null &amp;&amp; Server.playerHandler.players[i2].isActive &amp;&amp; Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)== friendToAdd) {
                                                                Client o = (Client)Server.playerHandler.players[i2];
                                                                if(o != null) {
                                                                        if (Server.playerHandler.players[i2].privateChat == 0 || (Server.playerHandler.players[i2].privateChat == 1 &amp;&amp; o.getPA().isInPM(Misc.playerNameToInt64(c.playerName)))) {
                                                                                c.getPA().loadPM(friendToAdd, 1);
                                                                                break;
                                                                        }
                                                                }
                                                        }
                                                }
                                                break;
                                        }
                                }
                        }
                        break;
                        case SEND_PM:
                        long sendMessageToFriendId = c.getInStream().readQWord();
            byte pmchatText[] = new byte[100];
            int pmchatTextSize = (byte) (packetSize - 8);
                        c.getInStream().readBytes(pmchatText, pmchatTextSize, 0);
                        if(Connection.isMuted(c)) {
                                return;
                        }
                        long myName = Misc.playerNameToInt64(c.playerName);
            for (long element : c.friends) {
                if (element == sendMessageToFriendId) {
                    boolean pmSent = false;

                    for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
                        if (PlayerHandler.players[i2] != null &amp;&amp; PlayerHandler.players[i2].isActive &amp;&amp; (Misc.playerNameToInt64(PlayerHandler.players[i2].playerName)== sendMessageToFriendId)) {
                            Client o = (Client)PlayerHandler.players[i2];
                                                        if(o != null) {
                                                                if (c.playerRights &gt;= 2 || PlayerHandler.players[i2].privateChat == 0 || (PlayerHandler.players[i2].privateChat == 1 &amp;&amp; o.getPA().isInPM(myName))) {
                                                                        o.getPA().sendPM(myName, c.playerRights, pmchatText, pmchatTextSize);
                                        pmSent = true;
                                    }
                                                        }
                            break;
                        }
                    }
                    if (!pmSent) {
                                                c.sendMessage("That player is currently offline.");
                                                break;
                    }
                }
            }
            break;                
                        
                        
                        case REMOVE_FRIEND:
                        c.friendUpdate = true;
            long friendToRemove = c.getInStream().readQWord();

            for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
                if (c.friends[i1] == friendToRemove) {
                                        for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
                                                Client o = (Client)Server.playerHandler.players[i2];                
                                                if(o != null) {
                                                        if(c.friends[i1] == Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)){
                                                                o.getPA().updatePM(c.playerId, 0);
                                                                break;
                                                        }
                                                }
                                        }
                                        c.friends[i1] = 0;
                    break;
                }
            }
            break;
                        
                        case REMOVE_IGNORE:
                                //for other status changing
                                c.friendUpdate = true;
                                long ignore = c.getInStream().readQWord();
                                
                                for(int i = 0; i &lt; c.ignores.length; i++) {
                                        if(c.ignores[i] == ignore) {
                                                c.ignores[i] = 0;
                                                break;
                                        }
                                }
                                break;
                        
                        case CHANGE_PM_STATUS:
            int tradeAndCompete = c.getInStream().readUnsignedByte();
            c.privateChat = c.getInStream().readUnsignedByte();
            int publicChat = c.getInStream().readUnsignedByte();
            for (int i1 = 1; i1 &lt; Config.MAX_PLAYERS; i1++) {
                           if (Server.playerHandler.players[i1] != null &amp;&amp; Server.playerHandler.players[i1].isActive == true) {
                    Client o = (Client)Server.playerHandler.players[i1];
                                        if(o != null) {
                                                o.getPA().updatePM(c.playerId, 1);
                                        }
                }
            }
            break;
                        
                        
                        
                        case ADD_IGNORE:
                                int a = c.getInStream().readDWord();
                                int a2 = c.getInStream().readDWord();
                                int j3 = 18;
                                //for other status changing
                                //c.getPA().handleStatus(a,a2,j3);
                                c.friendUpdate = true;
                                long ignoreAdd = c.getInStream().readQWord();
                                
                                for(int i = 0; i &lt; c.ignores.length; i++) {
                                        if(c.ignores[i] == 0) {
                                                c.ignores[i] = ignoreAdd;
                                                break;
                                        }
                                }
                                break;
            
                }
                
        }        
}</code></pre>
<p>ALSO .<br>
for 6.<br>
replace your misc.java with mine :3</p>
<pre><code class="lang-auto">
package server.util;

import java.text.NumberFormat;
import server.*;
import server.model.players.*;

public class Misc {

	public static String formatPlayerName(String str) {
		str = ucFirst(str);
		str.replace("_", " ");
		return str;
	}
	
	public static String longToPlayerName(long l) {
        int i = 0;
        char ac[] = new char[12];

        while (l != 0L) {
            long l1 = l;

            l /= 37L;
            ac[11 - i++] = xlateTable[(int) (l1 - l * 37L)];
        }
        return new String(ac, 12 - i, i);
    }
	
	public static final char playerNameXlateTable[] = {
		'_', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i',
		'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's',
		't', 'u', 'v', 'w', 'x', 'y', 'z', '0', '1', '2',
		'3', '4', '5', '6', '7', '8', '9', '[', ']', '/', '-', ' '
	};
	
	public static String longToPlayerName2(long l) {
      int i = 0;
      char ac[] = new char[99];
      while(l != 0L) {
         long l1 = l;
         l /= 37L;
         ac[11 - i++] = playerNameXlateTable[(int)(l1 - l * 37L)];
      }
      return new String(ac, 12 - i, i);
	}
	
	public static String format(int num) {
		return NumberFormat.getInstance().format(num);
	}
	
	public static String ucFirst(String str) {
		str = str.toLowerCase();
		if(str.length() &gt; 1) {
			str = str.substring(0,1).toUpperCase() + str.substring(1);
		} else {
			return str.toUpperCase();
		}
		return str;
	}
	
	public static void print_debug(String str)
	{
		System.out.print(str);				
	}
	public static void println_debug(String str)
	{
		System.out.println(str);
	}
	public static void print(String str)
	{
		System.out.print(str);
	}
	public static void println(String str)
	{
		System.out.println(str);
	}

	public static String Hex(byte data[])
	{
		return Hex(data, 0, data.length);
	}
	public static String Hex(byte data[], int offset, int len)
	{
		String temp = "";
		for(int cntr = 0; cntr &lt; len; cntr++) {
			int num = data[offset+cntr] &amp; 0xFF;
			String myStr;
			if(num &lt; 16) myStr = "0";
			else myStr = "";
			temp += myStr + Integer.toHexString(num) + " ";
		}
		return temp.toUpperCase().trim();
	}

	public static int hexToInt(byte data[], int offset, int len)
	{
		int temp = 0;
                int i = 1000;
		for(int cntr = 0; cntr &lt; len; cntr++) {
			int num = (data[offset+cntr] &amp; 0xFF) * i;
			temp += (int)num;
                        if (i &gt; 1)
			  i=i/1000;
		}
		return temp;
	}
	
	public static String basicEncrypt(String s) {
		String toReturn = "";
		for (int j = 0; j &lt; s.length(); j++) {
			toReturn += (int)s.charAt(j);
		}
		//System.out.println("Encrypt: " + toReturn);
		return toReturn;	
	}

	public static int random2(int range) { 
		return (int)((java.lang.Math.random() * range) + 1);
	}

	public static int random(int range) {
		return (int)(java.lang.Math.random() * (range+1));
	}

	public static long playerNameToInt64(String s)
	{
		long l = 0L;
		for(int i = 0; i &lt; s.length(); i++) {
			char c = s.charAt(i);
			l *= 37L;
			if(c &gt;= 'A' &amp;&amp; c &lt;= 'Z') l += (1 + c) - 65;
			else if(c &gt;= 'a' &amp;&amp; c &lt;= 'z') l += (1 + c) - 97;
			else if(c &gt;= '0' &amp;&amp; c &lt;= '9') l += (27 + c) - 48;
		}
		while(l % 37L == 0L &amp;&amp; l != 0L) l /= 37L;
		return l;
	}


    private static char decodeBuf[] = new char[4096];
	public static String textUnpack(byte packedData[], int size)
	{
		int idx = 0, highNibble = -1;
		for(int i = 0; i &lt; size*2; i++) {
			int val = packedData[i/2] &gt;&gt; (4-4*(i%2)) &amp; 0xf;
			if(highNibble == -1) {
				if(val &lt; 13) decodeBuf[idx++] = xlateTable[val];
				else highNibble = val;
			}
			else {
				decodeBuf[idx++] = xlateTable[((highNibble&lt;&lt;4) + val) - 195];
				highNibble = -1;
			}
		}


		return new String(decodeBuf, 0, idx);
    }

	public static String optimizeText(String text)
	{
		char buf[] = text.toCharArray();
		boolean endMarker = true;	
		for(int i = 0; i &lt; buf.length; i++) {
            char c = buf[i];
            if(endMarker &amp;&amp; c &gt;= 'a' &amp;&amp; c &lt;= 'z') {
				buf[i] -= 0x20;	
				endMarker = false;
			}
			if(c == '.' || c == '!' || c == '?') endMarker = true;
		}
		return new String(buf, 0, buf.length);
	}

	public static void textPack(byte packedData[], java.lang.String text)
	{
		if(text.length() &gt; 80) text = text.substring(0, 80);
		text = text.toLowerCase();

		int carryOverNibble = -1;
		int ofs = 0;
		for(int idx = 0; idx &lt; text.length(); idx++) {
			char c = text.charAt(idx);
			int tableIdx = 0;
			for(int i = 0; i &lt; xlateTable.length; i++) {
				if(c == xlateTable[i]) {
					tableIdx = i;
					break;
				}
			}
			if(tableIdx &gt; 12) tableIdx += 195;
			if(carryOverNibble == -1) {
				if(tableIdx &lt; 13) carryOverNibble = tableIdx;
				else packedData[ofs++] = (byte)(tableIdx);
			}
			else if(tableIdx &lt; 13) {
				packedData[ofs++] = (byte)((carryOverNibble &lt;&lt; 4) + tableIdx);
				carryOverNibble = -1;
			}
			else {
				packedData[ofs++] = (byte)((carryOverNibble &lt;&lt; 4) + (tableIdx &gt;&gt; 4));
				carryOverNibble = tableIdx &amp; 0xf;
			}
		}

		if(carryOverNibble != -1) packedData[ofs++] = (byte)(carryOverNibble &lt;&lt; 4);
	}

	public static char xlateTable[] = {
		' ', 'e', 't', 'a', 'o', 'i', 'h', 'n', 's', 'r', 
		'd', 'l', 'u', 'm', 'w', 'c', 'y', 'f', 'g', 'p', 
		'b', 'v', 'k', 'x', 'j', 'q', 'z', '0', '1', '2', 
		'3', '4', '5', '6', '7', '8', '9', ' ', '!', '?', 
		'.', ',', ':', ';', '(', ')', '-', '&amp;', '*', '\\', 
		'\'', '@', '#', '+', '=', '\243', '$', '%', '"', '[', 
		']', '&gt;', '&lt;'
	};



	
	public static int direction(int srcX, int srcY, int x, int y) {
		double dx = (double) x - srcX, dy = (double) y - srcY;
		double angle = Math.atan(dy / dx);
		angle = Math.toDegrees(angle);
		if (Double.isNaN(angle))
			return -1;
		if (Math.signum(dx) &lt; 0)
			angle += 180.0;
		return (int) ((((90 - angle) / 22.5) + 16) % 16);
		/*int changeX = x - srcX; int changeY = y - srcY;
		for (int j = 0; j &lt; directionDeltaX.length; j++) {
			if (changeX == directionDeltaX[j] &amp;&amp;
				changeY == directionDeltaY[j])
				return j;
		
		}
		return -1;*/
	}

	public static byte directionDeltaX[] = new byte[]{ 0, 1, 1, 1, 0,-1,-1,-1 };
	public static byte directionDeltaY[] = new byte[]{ 1, 1, 0,-1,-1,-1, 0, 1 };	
	public static byte xlateDirectionToClient[] = new byte[]{ 1, 2, 4, 7, 6, 5, 3, 0 };

}</code></pre>
<p>[/CODE]<br>
heres the bandos anim code</p>
<p><code> 			case 6260:
				if (npcs[i].attackType == 0)
					return 7060;
				else
					return 7063;
</code> <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/6</link>
        <pubDate>Wed, 07 Mar 2012 23:59:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435488-6</guid>
        <source url="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488.rss">[PI] Bandos; PM; emotes; combat!</source>
      </item>
      <item>
        <title>[PI] Bandos; PM; emotes; combat!</title>
        <dc:creator><![CDATA[@zond zond]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zond">@zond</a> wrote:</p>
          <blockquote>
              <p>yes I have it “true”, but still I can’t use shotbow with bronze arrows.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/5</link>
        <pubDate>Wed, 07 Mar 2012 22:02:10 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435488-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488.rss">[PI] Bandos; PM; emotes; combat!</source>
      </item>
      <item>
        <title>[PI] Bandos; PM; emotes; combat!</title>
        <dc:creator><![CDATA[@ultimateGodz ultimateGodz]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ultimategodz">@ultimateGodz</a> wrote:</p>
          <blockquote>
              <ol start="4">
<li>its in the config usually well for pi’s go on in source then search config search for this</li>
</ol>
<pre><code class="lang-auto"></code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/4</link>
        <pubDate>Wed, 07 Mar 2012 21:42:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435488-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488.rss">[PI] Bandos; PM; emotes; combat!</source>
      </item>
      <item>
        <title>[PI] Bandos; PM; emotes; combat!</title>
        <dc:creator><![CDATA[@zond zond]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zond">@zond</a> wrote:</p>
          <blockquote>
              <p>[quote=“ravekitty, post:2, topic:435488”]1.Go take a look in privatemessaging.java and see if theres anything wrong ^w^<br>
2.you add bandos through item.cfg and the stats in the same file<br>
3.you go in action handler for the click id, and change the animation to the right one 4.<br>
4.again, to edit the power of items item.cfg<br>
5.no idea.<br>
6. all i know is that this takes place in misc.java<br>
7… i dont know how to explain <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
8. i don’t even know what would cause this<br>
9. i dont understand the question[/quote]</p>
<ol>
<li>Privatemessagin.java</li>
</ol>
<pre><code class="lang-auto">package server.model.players.packets;

import server.Config;
import server.Server;
import server.Connection;
import server.model.players.Client;
import server.model.players.PacketType;
import server.util.Misc;

/**
 * Private messaging, friends etc
 **/
public class PrivateMessaging implements PacketType {

	public final int ADD_FRIEND = 188, SEND_PM = 126, REMOVE_FRIEND = 215, CHANGE_PM_STATUS = 95, ADD_IGNORE = 133;
	@Override
	public void processPacket(Client c, int packetType, int packetSize) {
		switch(packetType) {
		
			case ADD_FRIEND:
			c.friendUpdate = true;
			long friendToAdd = c.getInStream().readQWord();
			boolean canAdd = true;

			for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
				if (c.friends[i1] != 0 &amp;&amp; c.friends[i1] == friendToAdd) {
					canAdd = false;
					c.sendMessage(friendToAdd + " is already on your friends list.");
				}
			}
			if (canAdd == true) {
				for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
					if (c.friends[i1] == 0) {
						c.friends[i1] = friendToAdd;
						for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
							if (Server.playerHandler.players[i2] != null &amp;&amp; Server.playerHandler.players[i2].isActive &amp;&amp; Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)== friendToAdd) {
								Client o = (Client)Server.playerHandler.players[i2];
								if(o != null) {
									if (Server.playerHandler.players[i2].privateChat == 0 || (Server.playerHandler.players[i2].privateChat == 1 &amp;&amp; o.getPA().isInPM(Misc.playerNameToInt64(c.playerName)))) {
										c.getPA().loadPM(friendToAdd, 1);
										break;
									}
								}
							}
						}
						break;
					}
				}
			}
			break;
			
			case SEND_PM:
			long sendMessageToFriendId = c.getInStream().readQWord();
            byte pmchatText[] = new byte[100];
            int pmchatTextSize = (byte) (packetSize - 8);
			c.getInStream().readBytes(pmchatText, pmchatTextSize, 0);
			
			if(c.manipulatePlayer.inputType &gt; 0) {
				String inputText = Misc.textUnpack(pmchatText, pmchatTextSize);
				c.manipulatePlayer.acceptInput(inputText);
				break;
			}
			if(c.staffControls.inputType &gt; 0) {
				String inputText = Misc.textUnpack(pmchatText, pmchatTextSize);
				c.staffControls.acceptInput(inputText);
				break;
			}
			
			if (Connection.isMuted(c))
				break;
            for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
                if (c.friends[i1] == sendMessageToFriendId) {
                    boolean pmSent = false;

                    for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
                        if (Server.playerHandler.players[i2] != null &amp;&amp; Server.playerHandler.players[i2].isActive &amp;&amp; Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)== sendMessageToFriendId) {
                            Client o = (Client)Server.playerHandler.players[i2];
							if(o != null) {
								if (Server.playerHandler.players[i2].privateChat == 0 || (Server.playerHandler.players[i2].privateChat == 1 &amp;&amp; o.getPA().isInPM(Misc.playerNameToInt64(c.playerName)))) {
									if(c.muted || c.mute &gt; System.currentTimeMillis()) {
										double minutes = (c.mute-System.currentTimeMillis())/1000/60;
										c.sendMessage("You're still muted for "+minutes+" minutes...");
										return;
									}
									o.getPA().sendPM(Misc.playerNameToInt64(c.playerName), c.playerRights, pmchatText, pmchatTextSize);
	                                pmSent = true;
	                            }
							}
                            break;
                        }
                    }
                    if (!pmSent) {
						c.sendMessage("That player is currently offline.");
						break;
                    }
                }
            }
            break;
			
			case REMOVE_FRIEND:
			c.friendUpdate = true;
            long friendToRemove = c.getInStream().readQWord();

            for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
                if (c.friends[i1] == friendToRemove) {
					for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
						Client o = (Client)Server.playerHandler.players[i2];		
						if(o != null) {
							if(c.friends[i1] == Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)){
								o.getPA().updatePM(c.playerId, 0);
								break;
							}
						}
					}
					c.friends[i1] = 0;
                    break;
                }
            }
            break;
			
			
			case CHANGE_PM_STATUS:
            int tradeAndCompete = c.getInStream().readUnsignedByte();
            c.privateChat = c.getInStream().readUnsignedByte();
            int publicChat = c.getInStream().readUnsignedByte();
            for (int i1 = 1; i1 &lt; Config.MAX_PLAYERS; i1++) {
			   if (Server.playerHandler.players[i1] != null &amp;&amp; Server.playerHandler.players[i1].isActive == true) {
                    Client o = (Client)Server.playerHandler.players[i1];
					if(o != null) {
						o.getPA().updatePM(c.playerId, 1);
					}
                }
            }
            break;
			
			case ADD_IGNORE:
				//TODO: fix this so it works :)
				break;
            
		}
		
	}	
}
</code></pre>
<ol start="2">
<li>I dont have bandos grapic.</li>
<li>Thanks</li>
<li>Thanks</li>
<li>Pliz try <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:">
</li>
<li>With no weapon (only hand) I can train ONLY attack xp, I put to train str, but it gives att xp.</li>
</ol>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/3</link>
        <pubDate>Wed, 07 Mar 2012 21:01:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435488-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488.rss">[PI] Bandos; PM; emotes; combat!</source>
      </item>
      <item>
        <title>[PI] Bandos; PM; emotes; combat!</title>
        <dc:creator><![CDATA[@ravekitty ravekitty]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ravekitty">@ravekitty</a> wrote:</p>
          <blockquote>
              <p>1.Go take a look in privatemessaging.java and see if theres anything wrong ^w^<br>
2.you add bandos through item.cfg and the stats in the same file<br>
3.you go in action handler for the click id, and change the animation to the right one 4.<br>
4.again, to edit the power of items item.cfg<br>
5.no idea.<br>
6. all i know is that this takes place in misc.java<br>
7… i dont know how to explain <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
8. i don’t even know what would cause this<br>
9. i dont understand the question</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/2</link>
        <pubDate>Wed, 07 Mar 2012 19:13:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435488-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488.rss">[PI] Bandos; PM; emotes; combat!</source>
      </item>
      <item>
        <title>[PI] Bandos; PM; emotes; combat!</title>
        <dc:creator><![CDATA[@zond zond]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zond">@zond</a> wrote:</p>
          <blockquote>
              <p>1)When I send PM it dubles, how to fix it?<br>
2)How to add bandos?<br>
[size=8pt]<span class="bbcode-s">3)How to make that if I click on emote “Lean on air” its show that, not other emote?</span><br>
<span class="bbcode-s">4)How to change d bow hits?</span>[/size]<br>
5)How to make that with shortbow you can use bronze arrows to fire.<br>
6)How to make that when I type “/” it shows it, not a letter “a”<br>
7)How to make save prayer type. Its saves it but when you log in, prayer type is back to normal. But when you pray at altar it says “changed back to noraml” so how to fix, that it really save?<br>
8)How to fix, that in shop when you buy, you buy 1 thing, not 2.<br>
9)How to fix, that with hand you can train str and deff xp if you chose them, not only attack xp when you chosed to train str.?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488/1</link>
        <pubDate>Wed, 07 Mar 2012 15:32:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435488-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-bandos-pm-emotes-combat/435488.rss">[PI] Bandos; PM; emotes; combat!</source>
      </item>
  </channel>
</rss>
