<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/php-email-receipts-functional-though-you-can-help/140308 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 17:31:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>PHP Email Receipts... Functional, though you can help - General Programming - moparisthebest.com</title>
    <meta name="description" content="Sorta hard to concisely explain, so bear with me. 

Basically, I got this idea from SquirrelMail (though I&amp;#39;m sure other webmail providers have it).  When someone opens up an email message containing this php script as an&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="140308.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;PHP Email Receipts... Functional, though you can help&#39;" href="140308.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/php-email-receipts-functional-though-you-can-help/140308" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/php-email-receipts-functional-though-you-can-help/140308" />
<meta property="og:title" content="PHP Email Receipts... Functional, though you can help" />
<meta name="twitter:title" content="PHP Email Receipts... Functional, though you can help" />
<meta property="og:description" content="Sorta hard to concisely explain, so bear with me.  Basically, I got this idea from SquirrelMail (though I’m sure other webmail providers have it).  When someone opens up an email message containing this php script as an image, you receive an email notifying you that your email was received.  However, it is not as simple as it seems.  For one, gmail by default does not let you simply add images or html, for that matter, into your message body, and it limits the signature used for all messages to ..." />
<meta name="twitter:description" content="Sorta hard to concisely explain, so bear with me.  Basically, I got this idea from SquirrelMail (though I’m sure other webmail providers have it).  When someone opens up an email message containing this php script as an image, you receive an email notifying you that your email was received.  However, it is not as simple as it seems.  For one, gmail by default does not let you simply add images or html, for that matter, into your message body, and it limits the signature used for all messages to ..." />
<meta property="article:published_time" content="2007-09-04T07:57:00+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="140308.html">PHP Email Receipts... Functional, though you can help</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xxlegitxx.html'><span itemprop='name'>xxlegitxx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-09-04T07:57:00Z'>
            <time itemprop='dateModified' datetime='2016-07-30T14:30:16Z' class='post-time'>
              July 30, 2016,  2:30pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorta hard to concisely explain, so bear with me.</p>
<p>Basically, I got this idea from SquirrelMail (though I’m sure other webmail providers have it).  <span class="bbcode-b">When someone opens up an email message containing this php script as an image, you receive an email notifying you that your email was received.</span></p>
<p>However, it is not as simple as it seems.  For one, gmail by default does not let you simply add images or html, for that matter, into your message body, and it limits the signature used for all messages to plain text.  To set this up, it takes a series of steps, nothing too complicated.</p>
<p>[size=15pt]<span class="bbcode-b">Setting it up:</span>[/size]<br>
First, take the code below and save it as something.php or .php5.</p>
<blockquote>[php]
&lt;?php
$own_ip = 'xx.xxx.xx.xx'; // Your own IP, so you don't spam yourself.
$to = 'xxxxx.xxxx@gmail.com'; // Your own email at which you want to receive the receipt.
<p>error_reporting(0);<br>
foreach ($_GET as $key =&gt; $value) {<br>
$_GET[$key] = htmlentities($value);<br>
}<br>
$calibri = ‘<a href="http://mitbsig.sneamia.net/CALIBRI.TTF" rel="nofollow noopener">http://mitbsig.sneamia.net/CALIBRI.TTF</a>’;<br>
// s is the topic of the sent email<br>
// e is the recipient’s email address<br>
// n is random notes you wish to include (subject, names, etc.)<br>
$subject = 'Email Receipt. ’ . $_GET[‘s’]; // The subject of your email.<br>
$message = 'Receipt for Sent Email<br>
Email Address: ’ . $_GET[‘e’] . ’<br>
IP Accessed: ’ . GetHostByName($_SERVER[‘REMOTE_ADDR’]) . ’<br>
Time Accessed: ’ . date(‘d-M-Y H:i.s T’) . ’<br>
Notes: ’ . $_GET[‘n’] . ’<br>
';<br>
$headers = ‘From: Receipt Mailer <a href="mailto:receipt@xxxxxxxx.xxx">receipt@xxxxxxxx.xxx</a>’; // Really not important<br>
$img = <span class="mention">@imagecreate</span>(100, 20);<br>
if (GetHostByName($_SERVER[‘REMOTE_ADDR’]) != $own_ip) {<br>
if (mail($to, $subject, $message, $headers)) {<br>
$bg_color = imagecolorallocate($img, 0, 200, 0);<br>
$bbv = imagettfbbox(10, 0, $calibri, ‘Receipt Sent!’);<br>
imagettftext($img, 10, 0, 50 - $bbv[2]/2, 15, imagecolorallocate($img, 255, 255, 255), $calibri, ‘Receipt Sent!’);<br>
} else {<br>
$bg_color = imagecolorallocate($img, 200, 0, 0);<br>
$bbv = imagettfbbox(10, 0, $calibri, ‘Receipt Failed!’);<br>
imagettftext($img, 10, 0, 50 - $bbv[2]/2, 15, imagecolorallocate($img, 255, 255, 255), $calibri, ‘Receipt Failed!’);<br>
}<br>
} else {<br>
$bg_color = imagecolorallocate($img, 0, 0, 0);<br>
$bbv = imagettfbbox(10, 0, $calibri, ‘It works.’);<br>
imagettftext($img, 10, 0, 50 - $bbv[2]/2, 15, imagecolorallocate($img, 255, 255, 255), $calibri, ‘It works.’);<br>
}<br>
header(“Content-type: image/gif”);<br>
imagegif($img);<br>
imagedestroy($img);<br>
?&gt;<br>
[/php]</p>
</blockquote>
<p><span class="bbcode-b">Now, you must edit the php file to suit yourself.</span>  Add your own <a href="http://whatismyip.com/" data-bbcode="true" rel="nofollow noopener">ip</a>, so when you add it and check on it, it does not spam your email.  It does not send mail when the file is accessed with this ip.  Now, add your own email address.  This email is the account to which you want the receipt sent to.  Now save this and upload.</p>
<p><span class="bbcode-b">Check to make sure it is working.</span>  Go to the url of the php file you uploaded, and you should see a black image which says, ‘It works.’  Keep this open.</p>
<p><span class="bbcode-b">Send a test file.</span>  To have a receipt returned to you, you should tweak it a bit.  Let’s say you uploaded it to <a href="http://sneamia.net/receipt.php5" rel="nofollow noopener">http://sneamia.net/receipt.php5</a>.  You need to add some get variables to keep track of all the receipts you are sending out.  The variable which stores the recipient’s email is e.  Change the address in the address bar from <a href="http://sneamia.net/receipt.php5" rel="nofollow noopener">http://sneamia.net/receipt.php5</a> (for example) to <a href="http://sneamia.net/receipt.php5?e=coolguy2385235@gmail.com" rel="nofollow noopener">http://sneamia.net/receipt.php5?e=coolguy2385235@gmail.com</a>.  You can hit enter, the image should not change.</p>
<p>Now you need to add the subject, because you may have multiple emails with this really cool guy.  Change it to <a href="http://sneamia.net/receipt.php5?e=coolguy2385235@gmail.com&amp;s=topless_pics" rel="nofollow noopener">http://sneamia.net/receipt.php5?e=coolguy2385235@gmail.com&amp;s=topless_pics</a>.  Note: You can use spaces, underscores, or the more correct %20 in between words.  I use underscores for legibility.</p>
<p>Now if you have some other notes about this email, you can also add them in.  <a href="http://sneamia.net/receipt.php5?e=coolguy2385235@gmail.com&amp;s=topless_pics&amp;n=he_shows_it_all" rel="nofollow noopener">http://sneamia.net/receipt.php5?e=coolguy2385235@gmail.com&amp;s=topless_pics&amp;n=he_shows_it_all</a>.  Finally hit enter.  Note: a friendly reminder… none of these fields (e, s, n) are required, and they also can be in any order.  And <a href="http://sneamia.net/receipt.php5" rel="nofollow noopener">http://sneamia.net/receipt.php5</a> is only an example.  There is nothing there, so don’t copy this verbatim.</p>
<p>Copy the image displayed in your browser (the ‘It works.’ image) into the Compose Mail text area, preferably in your sig.  You should see the image right there in black, same thing.  Now add a little explanation under it: ‘Display pictures in this email to let me know you received this message.’  This is mainly for the Gmail users, as they are the only ones I know of that disable pictures by default.</p>
<p>If this is your first time, call up a friend and have them open up the email and display pictures, to get your receipt faster and to show it works.</p>
<p><span class="bbcode-b">Now check your mail.</span>  You should get an email which looks like this:</p>
<blockquote>Subject: Email Receipt. topless_pics
<p>Receipt for Sent Email<br>
Email Address: <a href="mailto:xxxxx.xxxx@gmail.com">xxxxx.xxxx@gmail.com</a><br>
IP Accessed: 26.845.23.57<br>
Time Accessed: 03-Sep-2007 22:14.45 EDT<br>
Notes: he_shows_it_all</p>
</blockquote>
<p>Unfortunately, it is a tad time consuming to do, though once you get the hang of it, it should be quite easy.</p>
<p>Some things I plan on adding (but either have no time, or don’t know how):</p>
<ol>
<li>Accessing the subject of the email, so there is no need to manually note the subject.  And the recipient’s email, and the first few lines of the message.  Don’t think this is possible.</li>
<li>A get variable that allows the user to hide the image either because the recipient already knows it’s there and need not be an eyesore, or because you want to keep them in the dark about this business.</li>
<li>A way to quickly add this to your sig without installing a Fx extension, probably by way of js injection.</li>
</ol>
<p><span class="bbcode-b">Any thoughts, suggestions, comments, and help would be appreciated.  This is a work in progress, and a community project.</span></p>
      </div>

      <meta itemprop='headline' content='PHP Email Receipts... Functional, though you can help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/php-email-receipts-functional-though-you-can-help/140308 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 17:31:30 GMT -->
</html>
