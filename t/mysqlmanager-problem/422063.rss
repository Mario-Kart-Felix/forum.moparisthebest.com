<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>MysqlManager Problem?</title>
    <link>https://forum.moparisthebest.com/t/mysqlmanager-problem/422063</link>
    <description>I get this error a lot, and it makes my engine load go up high.  I have my hiscores saving every time you get xp, I&#39;m not sure why it&#39;s doing that.  I used to be able to have hiscores auto-update with no problem. Erro: [code=java][11/18/11 11:09 AM]: MySQL Connected
[11/18/11 11:09 AM]: com.mysql.jdbc.CommunicationsException: Communications link
 failure due to underlying exception:

** BEGIN NESTED EXCEPTION **

java.io.EOFException

STACKTRACE:

java.io.EOFException
        at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:1963)
        at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:2375)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2874)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1715)
        at com.mysql.jdbc.Connection.execSQL(Connection.java:3243)
        at com.mysql.jdbc.Statement.executeUpdate(Statement.java:1343)
        at com.mysql.jdbc.Statement.executeUpdate(Statement.java:1260)
        at server.util.MysqlManager.query(MysqlManager.java:28)
        at server.util.MysqlManager.saveHiscore(MysqlManager.java:51)
        at server.model.players.PlayerAssistant.addSkillXP(PlayerAssistant.java:
3335)
        at server.model.players.CombatAssistant.applyNpcMeleeDamage(CombatAssist
ant.java:738)
        at server.model.players.CombatAssistant.delayedHit(CombatAssistant.java:
466)
        at server.model.players.Client.process(Client.java:1636)
        at server.model.players.PlayerHandler.process(PlayerHandler.java:151)
        at server.Server.main(Server.java:188)


** END NESTED EXCEPTION **



Last packet sent to the server was 0 ms ago.
[11/18/11 11:09 AM]:    at com.mysql.jdbc.CommunicationsException.fillInStackTra
ce(CommunicationsException.java:65531)
[11/18/11 11:09 AM]:    at java.lang.Throwable.&lt;init&gt;(Throwable.java:181)
[11/18/11 11:09 AM]:    at java.lang.Exception.&lt;init&gt;(Unknown Source)
[11/18/11 11:09 AM]:    at java.sql.SQLException.&lt;init&gt;(Unknown Source)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.CommunicationsException.&lt;init&gt;(Communi
cationsException.java:56)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.jav
a:2586)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:
2874)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)

[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:17
15)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Connection.execSQL(Connection.java:324
3)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java
:1343)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java
:1260)
[11/18/11 11:09 AM]:    at server.util.MysqlManager.query(MysqlManager.java:28)
[11/18/11 11:09 AM]:    at server.util.MysqlManager.saveHiscore(MysqlManager.jav
a:51)
[11/18/11 11:09 AM]:    at server.model.players.PlayerAssistant.addSkillXP(Playe
rAssistant.java:3335)
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.applyNpcMeleeDam
age(CombatAssistant.java:738)
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.delayedHit(Comba
tAssistant.java:466)
[11/18/11 11:09 AM]:    at server.model.players.Client.process(Client.java:1636)

[11/18/11 11:09 AM]:    at server.model.players.PlayerHandler.process(PlayerHand
ler.java:151)
[11/18/11 11:09 AM]:    at server.Server.main(Server.java:188)
[11/18/11 11:09 AM]: MySQL Connected
[11/18/11 11:09 AM]: com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolation
Exception: Duplicate entry &#39;marti&#39; for key &#39;PRIMARY&#39;
[11/18/11 11:09 AM]:    at com.mysql.jdbc.exceptions.MySQLNonTransientException.
fillInStackTrace(MySQLNonTransientException.java:65531)
[11/18/11 11:09 AM]:    at java.lang.Throwable.&lt;init&gt;(Throwable.java:196)
[11/18/11 11:09 AM]:    at java.lang.Exception.&lt;init&gt;(Unknown Source)
[11/18/11 11:09 AM]:    at java.sql.SQLException.&lt;init&gt;(Unknown Source)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.exceptions.MySQLNonTransientException.
&lt;init&gt;(MySQLNonTransientException.java:35)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.exceptions.MySQLIntegrityConstraintVio
lationException.&lt;init&gt;(MySQLIntegrityConstraintViolationException.java:34)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.SQLError.createSQLException(SQLError.j
ava:931)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:
2941)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)

[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:17
15)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Connection.execSQL(Connection.java:324
3)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java
:1343)
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java
:1260)
[11/18/11 11:09 AM]:    at server.util.MysqlManager.query(MysqlManager.java:28)
[11/18/11 11:09 AM]:    at server.util.MysqlManager.saveHiscore(MysqlManager.jav
a:53)
[11/18/11 11:09 AM]:    at server.model.players.PlayerAssistant.addSkillXP(Playe
rAssistant.java:3335)
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.applyNpcMeleeDam
age(CombatAssistant.java:738)
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.delayedHit(Comba
tAssistant.java:466)
[11/18/11 11:09 AM]:    at server.model.players.Client.process(Client.java:1636)

[11/18/11 11:09 AM]:    at server.model.players.PlayerHandler.process(PlayerHand
ler.java:151)
[11/18/11 11:09 AM]:    at server.Server.main(Server.java:188)
[11/18/11 11:09 AM]: [REGISTERED]: sageofmali
[11/18/11 11:10 AM]: JRebel: Reloading class &#39;server.model.players.packets.Chat&#39;
.
[11/18/11 11:13 AM]: Average Cycle Time: 238ms
[11/18/11 11:13 AM]: Players online: 2, engine load: 50.21%
[/code]MysqlManager.java[code=java]package server.util;
import java.sql.*;
import java.security.MessageDigest;
import server.model.players.*;

public class MysqlManager {


	public static Connection con = null;
	public static Statement stmt;
	public static boolean connectionMade;
	public static void createConnection() {
		try {
			Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();
			con = DriverManager.getConnection(&quot;jdbc:mysql://s2.x10premium.com:3306/sagescap_ipb&quot;,&quot;sagescap_ipb&quot;,&quot;PASSWORD&quot;);
			stmt = con.createStatement();
			Misc.println(&quot;MySQL Connected&quot;);
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	public static ResultSet query(String s) throws SQLException {
		try {
			if (s.toLowerCase().startsWith(&quot;select&quot;)) {
				ResultSet rs = stmt.executeQuery(s);
				return rs;
			} else {
				stmt.executeUpdate(s);
			}
			return null;
		} catch (Exception e) {
			destroyConnection();
			createConnection();
			e.printStackTrace();
		}
		return null;
	}

	public static void destroyConnection() {
		try {
			stmt.close();
			con.close();
			connectionMade = false;
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	public synchronized static boolean saveHiscore(Client clientToSave) {
		try {
			query(&quot;DELETE FROM `skills` WHERE playerName = &#39;&quot;+clientToSave.playerName+&quot;&#39;;&quot;);
			query(&quot;DELETE FROM `skillsoverall` WHERE playerName = &#39;&quot;+clientToSave.playerName+&quot;&#39;;&quot;);
			query(&quot;INSERT INTO `skills` (`playerName`,`Attacklvl`,`Attackxp`,`Defencelvl`,`Defencexp`,`Strengthlvl`,`Strengthxp`,`Hitpointslvl`,`Hitpointsxp`,`Rangelvl`,`Rangexp`,`Prayerlvl`,`Prayerxp`,`Magiclvl`,`Magicxp`,`Cookinglvl`,`Cookingxp`,`Woodcuttinglvl`,`Woodcuttingxp`,`Fletchinglvl`,`Fletchingxp`,`Fishinglvl`,`Fishingxp`,`Firemakinglvl`,`Firemakingxp`,`Craftinglvl`,`Craftingxp`,`Smithinglvl`,`Smithingxp`,`Mininglvl`,`Miningxp`,`Herblorelvl`,`Herblorexp`,`Agilitylvl`,`Agilityxp`,`Thievinglvl`,`Thievingxp`,`Slayerlvl`,`Slayerxp`,`Farminglvl`,`Farmingxp`,`Runecraftlvl`,`Runecraftxp`,`PKlvl`,`PKxp`,`Hunterlvl`,`Hunterxp`,`Summoninglvl`,`Summoningxp`,`Dungeoneeringlvl`,`Dungeoneeringxp`) VALUES (&#39;&quot;+clientToSave.playerName+&quot;&#39;,&quot;+clientToSave.playerLevel[0]+&quot;,&quot;+clientToSave.playerXP[0]+&quot;,&quot;+clientToSave.playerLevel[1]+&quot;,&quot;+clientToSave.playerXP[1]+&quot;,&quot;+clientToSave.playerLevel[2]+&quot;,&quot;+clientToSave.playerXP[2]+&quot;,&quot;+clientToSave.playerLevel[3]+&quot;,&quot;+clientToSave.playerXP[3]+&quot;,&quot;+clientToSave.playerLevel[4]+&quot;,&quot;+clientToSave.playerXP[4]+&quot;,&quot;+clientToSave.playerLevel[5]+&quot;,&quot;+clientToSave.playerXP[5]+&quot;,&quot;+clientToSave.playerLevel[6]+&quot;,&quot;+clientToSave.playerXP[6]+&quot;,&quot;+clientToSave.playerLevel[7]+&quot;,&quot;+clientToSave.playerXP[7]+&quot;,&quot;+clientToSave.playerLevel[8]+&quot;,&quot;+clientToSave.playerXP[8]+&quot;,&quot;+clientToSave.playerLevel[9]+&quot;,&quot;+clientToSave.playerXP[9]+&quot;,&quot;+clientToSave.playerLevel[10]+&quot;,&quot;+clientToSave.playerXP[10]+&quot;,&quot;+clientToSave.playerLevel[11]+&quot;,&quot;+clientToSave.playerXP[11]+&quot;,&quot;+clientToSave.playerLevel[12]+&quot;,&quot;+clientToSave.playerXP[12]+&quot;,&quot;+clientToSave.playerLevel[13]+&quot;,&quot;+clientToSave.playerXP[13]+&quot;,&quot;+clientToSave.playerLevel[14]+&quot;,&quot;+clientToSave.playerXP[14]+&quot;,&quot;+clientToSave.playerLevel[15]+&quot;,&quot;+clientToSave.playerXP[15]+&quot;,&quot;+clientToSave.playerLevel[16]+&quot;,&quot;+clientToSave.playerXP[16]+&quot;,&quot;+clientToSave.playerLevel[17]+&quot;,&quot;+clientToSave.playerXP[17]+&quot;,&quot;+clientToSave.playerLevel[18]+&quot;,&quot;+clientToSave.playerXP[18]+&quot;,&quot;+clientToSave.playerLevel[19]+&quot;,&quot;+clientToSave.playerXP[19]+&quot;,&quot;+clientToSave.playerLevel[20]+&quot;,&quot;+clientToSave.playerXP[20]+&quot;,&quot;+clientToSave.playerLevel[23]+&quot;,&quot;+clientToSave.playerXP[23]+&quot;,&quot;+clientToSave.playerLevel[21]+&quot;,&quot;+clientToSave.playerXP[21]+&quot;,&quot;+clientToSave.playerLevel[22]+&quot;,&quot;+clientToSave.playerXP[22]+&quot;,&quot;+clientToSave.playerLevel[24]+&quot;,&quot;+clientToSave.playerXP[24]+&quot;);&quot;);
			        long totalExp = 0;
        for (long l : clientToSave.playerXP) {
                totalExp += l;
        }
			query(&quot;INSERT INTO `skillsoverall` (`playerName`,`lvl`,`xp`) VALUES (&#39;&quot;+clientToSave.playerName+&quot;&#39;,&quot;+(clientToSave.getLevelForXP(clientToSave.playerXP[0]) + clientToSave.getLevelForXP(clientToSave.playerXP[1]) + clientToSave.getLevelForXP(clientToSave.playerXP[2]) + clientToSave.getLevelForXP(clientToSave.playerXP[3]) + clientToSave.getLevelForXP(clientToSave.playerXP[4]) + clientToSave.getLevelForXP(clientToSave.playerXP[5]) + clientToSave.getLevelForXP(clientToSave.playerXP[6]) + clientToSave.getLevelForXP(clientToSave.playerXP[7]) + clientToSave.getLevelForXP(clientToSave.playerXP[8]) + clientToSave.getLevelForXP(clientToSave.playerXP[9]) + clientToSave.getLevelForXP(clientToSave.playerXP[10]) + clientToSave.getLevelForXP(clientToSave.playerXP[11]) + clientToSave.getLevelForXP(clientToSave.playerXP[12]) + clientToSave.getLevelForXP(clientToSave.playerXP[13]) + clientToSave.getLevelForXP(clientToSave.playerXP[14]) + clientToSave.getLevelForXP(clientToSave.playerXP[15]) + clientToSave.getLevelForXP(clientToSave.playerXP[16]) + clientToSave.getLevelForXP(clientToSave.playerXP[17]) + clientToSave.getLevelForXP(clientToSave.playerXP[18]) + clientToSave.getLevelForXP(clientToSave.playerXP[19]) + clientToSave.getLevelForXP(clientToSave.playerXP[20]) + clientToSave.getLevelForXP(clientToSave.playerXP[21]) + clientToSave.getLevelForXP(clientToSave.playerXP[22]) + clientToSave.getLevelForXP(clientToSave.playerXP[23]) + clientToSave.getLevelForXP(clientToSave.playerXP[24]))+&quot;,&quot;+ totalExp +&quot;);&quot;);
		} catch (Exception e) {
			e.printStackTrace();
			return false;
		}
		return true;
	}
		        public static boolean checkVotes(String playerName)
        {
                try {
                        Statement statement = con.createStatement();
                        String query = &quot;SELECT * FROM votes WHERE playerName = &#39;&quot; + playerName + &quot;&#39;&quot;;
                        ResultSet results = statement.executeQuery(query);
                        while(results.next()) {
                                int recieved = results.getInt(&quot;recieved&quot;);
                                if(recieved == 0)
                                {
                                return true;
                                }
                                
                        }
                } catch(SQLException e) {
                        e.printStackTrace();
                }
                return false;
        }
}[/code] Also, I have it saving in my &quot;addSkillXP&quot; method: [code=java]	public boolean addSkillXP(int amount, int skill){
if (c.xpLock == true || c.Jail == true) {
    return false;
}
		if (amount+c.playerXP[skill] &lt; 0 || c.playerXP[skill] &gt; 200000000) {
			if(c.playerXP[skill] &gt; 200000000) {
				c.playerXP[skill] = 200000000;
			}
			return false;
		}
		amount *= Config.SERVER_EXP_BONUS;
		int oldLevel = getLevelForXP(c.playerXP[skill]);
		c.playerXP[skill] += amount;
		if (oldLevel &lt; getLevelForXP(c.playerXP[skill])) {
			if (c.playerLevel[skill] &lt; c.getLevelForXP(c.playerXP[skill]) &amp;&amp; skill != 3 &amp;&amp; skill != 5)
				c.playerLevel[skill] = c.getLevelForXP(c.playerXP[skill]);
			levelUp(skill);
			c.gfx100(199);
			requestUpdates();
		}
		setSkillLevel(skill, c.playerLevel[skill], c.playerXP[skill]);
		refreshSkill(skill);
		MysqlManager.saveHiscore(c);
		return true;
	}[/code]</description>
    
    <lastBuildDate>Fri, 18 Nov 2011 20:22:26 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>MysqlManager Problem?</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>[quote=“cdoggy, post:4, topic:422063”]I was going off:</p>
<aside class="quote">
<blockquote>
<p>I have my hiscores saving every time you get xp</p>
</blockquote>
</aside>
<p>However you are right, but why even comment if you aren’t going to provide any sort of help?</p>
<p>Anyways, look for a hiscores.java, this is most likely where the function to handle the saving indicator is.[/quote]<br>
Dude, I know my server… There isn’t a hiscores.java.  My hiscores save using mysqlmanager.java…  If you look at the error it says: </p><blockquote>        at server.util.MysqlManager.query(MysqlManager.java:28)<br>
at server.util.MysqlManager.saveHiscore(MysqlManager.java:51)<br>
at server.model.players.PlayerAssistant.addSkillXP(PlayerAssistant.java:</blockquote><br>
Line 28: <code>				stmt.executeUpdate(s);</code><br>
Line 51: <code>			query("DELETE FROM `skills` WHERE playerName = '"+clientToSave.playerName+"';");</code><br>
PlayerAssistant: <code>		MysqlManager.saveHiscore(c);</code>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysqlmanager-problem/422063/5</link>
        <pubDate>Fri, 18 Nov 2011 20:22:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422063-5</guid>
        <source url="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063.rss">MysqlManager Problem?</source>
      </item>
      <item>
        <title>MysqlManager Problem?</title>
        <dc:creator><![CDATA[@cdoggy cdoggy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cdoggy">@cdoggy</a> wrote:</p>
          <blockquote>
              <p>I was going off:</p>
<blockquote>I have my hiscores saving every time you get xp</blockquote>
<p>However you are right, but why even comment if you aren’t going to provide any sort of help?</p>
<p>Anyways, look for a hiscores.java, this is most likely where the function to handle the saving indicator is.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysqlmanager-problem/422063/4</link>
        <pubDate>Fri, 18 Nov 2011 17:34:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422063-4</guid>
        <source url="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063.rss">MysqlManager Problem?</source>
      </item>
      <item>
        <title>MysqlManager Problem?</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>[quote=“cdoggy, post:2, topic:422063”]<code>
        public synchronized static boolean saveHiscore(Client clientToSave) {
                try {
                        query("DELETE FROM `skills` WHERE playerName = '"+clientToSave.playerName+"';");
                        query("DELETE FROM `skillsoverall` WHERE playerName = '"+clientToSave.playerName+"';");
                        query("INSERT INTO `skills` (`playerName`,`Attacklvl`,`Attackxp`,`Defencelvl`,`Defencexp`,`Strengthlvl`,`Strengthxp`,`Hitpointslvl`,`Hitpointsxp`,`Rangelvl`,`Rangexp`,`Prayerlvl`,`Prayerxp`,`Magiclvl`,`Magicxp`,`Cookinglvl`,`Cookingxp`,`Woodcuttinglvl`,`Woodcuttingxp`,`Fletchinglvl`,`Fletchingxp`,`Fishinglvl`,`Fishingxp`,`Firemakinglvl`,`Firemakingxp`,`Craftinglvl`,`Craftingxp`,`Smithinglvl`,`Smithingxp`,`Mininglvl`,`Miningxp`,`Herblorelvl`,`Herblorexp`,`Agilitylvl`,`Agilityxp`,`Thievinglvl`,`Thievingxp`,`Slayerlvl`,`Slayerxp`,`Farminglvl`,`Farmingxp`,`Runecraftlvl`,`Runecraftxp`,`PKlvl`,`PKxp`,`Hunterlvl`,`Hunterxp`,`Summoninglvl`,`Summoningxp`,`Dungeoneeringlvl`,`Dungeoneeringxp`) VALUES ('"+clientToSave.playerName+"',"+clientToSave.playerLevel[0]+","+clientToSave.playerXP[0]+","+clientToSave.playerLevel[1]+","+clientToSave.playerXP[1]+","+clientToSave.playerLevel[2]+","+clientToSave.playerXP[2]+","+clientToSave.playerLevel[3]+","+clientToSave.playerXP[3]+","+clientToSave.playerLevel[4]+","+clientToSave.playerXP[4]+","+clientToSave.playerLevel[5]+","+clientToSave.playerXP[5]+","+clientToSave.playerLevel[6]+","+clientToSave.playerXP[6]+","+clientToSave.playerLevel[7]+","+clientToSave.playerXP[7]+","+clientToSave.playerLevel[8]+","+clientToSave.playerXP[8]+","+clientToSave.playerLevel[9]+","+clientToSave.playerXP[9]+","+clientToSave.playerLevel[10]+","+clientToSave.playerXP[10]+","+clientToSave.playerLevel[11]+","+clientToSave.playerXP[11]+","+clientToSave.playerLevel[12]+","+clientToSave.playerXP[12]+","+clientToSave.playerLevel[13]+","+clientToSave.playerXP[13]+","+clientToSave.playerLevel[14]+","+clientToSave.playerXP[14]+","+clientToSave.playerLevel[15]+","+clientToSave.playerXP[15]+","+clientToSave.playerLevel[16]+","+clientToSave.playerXP[16]+","+clientToSave.playerLevel[17]+","+clientToSave.playerXP[17]+","+clientToSave.playerLevel[18]+","+clientToSave.playerXP[18]+","+clientToSave.playerLevel[19]+","+clientToSave.playerXP[19]+","+clientToSave.playerLevel[20]+","+clientToSave.playerXP[20]+","+clientToSave.playerLevel[23]+","+clientToSave.playerXP[23]+","+clientToSave.playerLevel[21]+","+clientToSave.playerXP[21]+","+clientToSave.playerLevel[22]+","+clientToSave.playerXP[22]+","+clientToSave.playerLevel[24]+","+clientToSave.playerXP[24]+");");
                                long totalExp = 0;
        for (long l : clientToSave.playerXP) {
                totalExp += l;
        }
                        query("INSERT INTO `skillsoverall` (`playerName`,`lvl`,`xp`) VALUES ('"+clientToSave.playerName+"',"+(clientToSave.getLevelForXP(clientToSave.playerXP[0]) + clientToSave.getLevelForXP(clientToSave.playerXP[1]) + clientToSave.getLevelForXP(clientToSave.playerXP[2]) + clientToSave.getLevelForXP(clientToSave.playerXP[3]) + clientToSave.getLevelForXP(clientToSave.playerXP[4]) + clientToSave.getLevelForXP(clientToSave.playerXP[5]) + clientToSave.getLevelForXP(clientToSave.playerXP[6]) + clientToSave.getLevelForXP(clientToSave.playerXP[7]) + clientToSave.getLevelForXP(clientToSave.playerXP[8]) + clientToSave.getLevelForXP(clientToSave.playerXP[9]) + clientToSave.getLevelForXP(clientToSave.playerXP[10]) + clientToSave.getLevelForXP(clientToSave.playerXP[11]) + clientToSave.getLevelForXP(clientToSave.playerXP[12]) + clientToSave.getLevelForXP(clientToSave.playerXP[13]) + clientToSave.getLevelForXP(clientToSave.playerXP[14]) + clientToSave.getLevelForXP(clientToSave.playerXP[15]) + clientToSave.getLevelForXP(clientToSave.playerXP[16]) + clientToSave.getLevelForXP(clientToSave.playerXP[17]) + clientToSave.getLevelForXP(clientToSave.playerXP[18]) + clientToSave.getLevelForXP(clientToSave.playerXP[19]) + clientToSave.getLevelForXP(clientToSave.playerXP[20]) + clientToSave.getLevelForXP(clientToSave.playerXP[21]) + clientToSave.getLevelForXP(clientToSave.playerXP[22]) + clientToSave.getLevelForXP(clientToSave.playerXP[23]) + clientToSave.getLevelForXP(clientToSave.playerXP[24]))+","+ totalExp +");");
                } catch (Exception e) {
                        e.printStackTrace();
                        return false;
                }
                return true;
        }</code></p>
<p>I believe it has to do with this.</p>
<p><code> long totalExp = 0;
        for (long l : clientToSave.playerXP) {
                totalExp += l;
        }</code><br>
However it may also be taken care of within another method probably called hiscores.java[/quote]Lol, that has nothing to do with it…  that’s just to make sure the xp doesn’t go into the negatives on the hiscores.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysqlmanager-problem/422063/3</link>
        <pubDate>Fri, 18 Nov 2011 17:24:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422063-3</guid>
        <source url="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063.rss">MysqlManager Problem?</source>
      </item>
      <item>
        <title>MysqlManager Problem?</title>
        <dc:creator><![CDATA[@cdoggy cdoggy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cdoggy">@cdoggy</a> wrote:</p>
          <blockquote>
              <p><code>
        public synchronized static boolean saveHiscore(Client clientToSave) {
                try {
                        query("DELETE FROM `skills` WHERE playerName = '"+clientToSave.playerName+"';");
                        query("DELETE FROM `skillsoverall` WHERE playerName = '"+clientToSave.playerName+"';");
                        query("INSERT INTO `skills` (`playerName`,`Attacklvl`,`Attackxp`,`Defencelvl`,`Defencexp`,`Strengthlvl`,`Strengthxp`,`Hitpointslvl`,`Hitpointsxp`,`Rangelvl`,`Rangexp`,`Prayerlvl`,`Prayerxp`,`Magiclvl`,`Magicxp`,`Cookinglvl`,`Cookingxp`,`Woodcuttinglvl`,`Woodcuttingxp`,`Fletchinglvl`,`Fletchingxp`,`Fishinglvl`,`Fishingxp`,`Firemakinglvl`,`Firemakingxp`,`Craftinglvl`,`Craftingxp`,`Smithinglvl`,`Smithingxp`,`Mininglvl`,`Miningxp`,`Herblorelvl`,`Herblorexp`,`Agilitylvl`,`Agilityxp`,`Thievinglvl`,`Thievingxp`,`Slayerlvl`,`Slayerxp`,`Farminglvl`,`Farmingxp`,`Runecraftlvl`,`Runecraftxp`,`PKlvl`,`PKxp`,`Hunterlvl`,`Hunterxp`,`Summoninglvl`,`Summoningxp`,`Dungeoneeringlvl`,`Dungeoneeringxp`) VALUES ('"+clientToSave.playerName+"',"+clientToSave.playerLevel[0]+","+clientToSave.playerXP[0]+","+clientToSave.playerLevel[1]+","+clientToSave.playerXP[1]+","+clientToSave.playerLevel[2]+","+clientToSave.playerXP[2]+","+clientToSave.playerLevel[3]+","+clientToSave.playerXP[3]+","+clientToSave.playerLevel[4]+","+clientToSave.playerXP[4]+","+clientToSave.playerLevel[5]+","+clientToSave.playerXP[5]+","+clientToSave.playerLevel[6]+","+clientToSave.playerXP[6]+","+clientToSave.playerLevel[7]+","+clientToSave.playerXP[7]+","+clientToSave.playerLevel[8]+","+clientToSave.playerXP[8]+","+clientToSave.playerLevel[9]+","+clientToSave.playerXP[9]+","+clientToSave.playerLevel[10]+","+clientToSave.playerXP[10]+","+clientToSave.playerLevel[11]+","+clientToSave.playerXP[11]+","+clientToSave.playerLevel[12]+","+clientToSave.playerXP[12]+","+clientToSave.playerLevel[13]+","+clientToSave.playerXP[13]+","+clientToSave.playerLevel[14]+","+clientToSave.playerXP[14]+","+clientToSave.playerLevel[15]+","+clientToSave.playerXP[15]+","+clientToSave.playerLevel[16]+","+clientToSave.playerXP[16]+","+clientToSave.playerLevel[17]+","+clientToSave.playerXP[17]+","+clientToSave.playerLevel[18]+","+clientToSave.playerXP[18]+","+clientToSave.playerLevel[19]+","+clientToSave.playerXP[19]+","+clientToSave.playerLevel[20]+","+clientToSave.playerXP[20]+","+clientToSave.playerLevel[23]+","+clientToSave.playerXP[23]+","+clientToSave.playerLevel[21]+","+clientToSave.playerXP[21]+","+clientToSave.playerLevel[22]+","+clientToSave.playerXP[22]+","+clientToSave.playerLevel[24]+","+clientToSave.playerXP[24]+");");
                                long totalExp = 0;
        for (long l : clientToSave.playerXP) {
                totalExp += l;
        }
                        query("INSERT INTO `skillsoverall` (`playerName`,`lvl`,`xp`) VALUES ('"+clientToSave.playerName+"',"+(clientToSave.getLevelForXP(clientToSave.playerXP[0]) + clientToSave.getLevelForXP(clientToSave.playerXP[1]) + clientToSave.getLevelForXP(clientToSave.playerXP[2]) + clientToSave.getLevelForXP(clientToSave.playerXP[3]) + clientToSave.getLevelForXP(clientToSave.playerXP[4]) + clientToSave.getLevelForXP(clientToSave.playerXP[5]) + clientToSave.getLevelForXP(clientToSave.playerXP[6]) + clientToSave.getLevelForXP(clientToSave.playerXP[7]) + clientToSave.getLevelForXP(clientToSave.playerXP[8]) + clientToSave.getLevelForXP(clientToSave.playerXP[9]) + clientToSave.getLevelForXP(clientToSave.playerXP[10]) + clientToSave.getLevelForXP(clientToSave.playerXP[11]) + clientToSave.getLevelForXP(clientToSave.playerXP[12]) + clientToSave.getLevelForXP(clientToSave.playerXP[13]) + clientToSave.getLevelForXP(clientToSave.playerXP[14]) + clientToSave.getLevelForXP(clientToSave.playerXP[15]) + clientToSave.getLevelForXP(clientToSave.playerXP[16]) + clientToSave.getLevelForXP(clientToSave.playerXP[17]) + clientToSave.getLevelForXP(clientToSave.playerXP[18]) + clientToSave.getLevelForXP(clientToSave.playerXP[19]) + clientToSave.getLevelForXP(clientToSave.playerXP[20]) + clientToSave.getLevelForXP(clientToSave.playerXP[21]) + clientToSave.getLevelForXP(clientToSave.playerXP[22]) + clientToSave.getLevelForXP(clientToSave.playerXP[23]) + clientToSave.getLevelForXP(clientToSave.playerXP[24]))+","+ totalExp +");");
                } catch (Exception e) {
                        e.printStackTrace();
                        return false;
                }
                return true;
        }</code></p>
<p>I believe it has to do with this.</p>
<p><code> long totalExp = 0;
        for (long l : clientToSave.playerXP) {
                totalExp += l;
        }</code><br>
However it may also be taken care of within another method probably called hiscores.java</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysqlmanager-problem/422063/2</link>
        <pubDate>Fri, 18 Nov 2011 16:33:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422063-2</guid>
        <source url="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063.rss">MysqlManager Problem?</source>
      </item>
      <item>
        <title>MysqlManager Problem?</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>I get this error a lot, and it makes my engine load go up high.  I have my hiscores saving every time you get xp, I’m not sure why it’s doing that.  I used to be able to have hiscores auto-update with no problem. Erro: [code=java][11/18/11 11:09 AM]: MySQL Connected<br>
[11/18/11 11:09 AM]: com.mysql.jdbc.CommunicationsException: Communications link<br>
failure due to underlying exception:</p>
<p>** BEGIN NESTED EXCEPTION **</p>
<p>java.io.EOFException</p>
<p>STACKTRACE:</p>
<p>java.io.EOFException<br>
at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:1963)<br>
at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:2375)<br>
at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2874)<br>
at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)<br>
at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1715)<br>
at com.mysql.jdbc.Connection.execSQL(Connection.java:3243)<br>
at com.mysql.jdbc.Statement.executeUpdate(Statement.java:1343)<br>
at com.mysql.jdbc.Statement.executeUpdate(Statement.java:1260)<br>
at server.util.MysqlManager.query(MysqlManager.java:28)<br>
at server.util.MysqlManager.saveHiscore(MysqlManager.java:51)<br>
at server.model.players.PlayerAssistant.addSkillXP(PlayerAssistant.java:<br>
3335)<br>
at server.model.players.CombatAssistant.applyNpcMeleeDamage(CombatAssist<br>
ant.java:738)<br>
at server.model.players.CombatAssistant.delayedHit(CombatAssistant.java:<br>
466)<br>
at server.model.players.Client.process(Client.java:1636)<br>
at server.model.players.PlayerHandler.process(PlayerHandler.java:151)<br>
at server.Server.main(Server.java:188)</p>
<p>** END NESTED EXCEPTION **</p>
<p>Last packet sent to the server was 0 ms ago.<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.CommunicationsException.fillInStackTra<br>
ce(CommunicationsException.java:65531)<br>
[11/18/11 11:09 AM]:    at java.lang.Throwable.(Throwable.java:181)<br>
[11/18/11 11:09 AM]:    at java.lang.Exception.(Unknown Source)<br>
[11/18/11 11:09 AM]:    at java.sql.SQLException.(Unknown Source)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.CommunicationsException.(Communi<br>
cationsException.java:56)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.jav<br>
a:2586)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:<br>
2874)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)</p>
<p>[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:17<br>
15)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Connection.execSQL(Connection.java:324<br>
3)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java<br>
:1343)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java<br>
:1260)<br>
[11/18/11 11:09 AM]:    at server.util.MysqlManager.query(MysqlManager.java:28)<br>
[11/18/11 11:09 AM]:    at server.util.MysqlManager.saveHiscore(MysqlManager.jav<br>
a:51)<br>
[11/18/11 11:09 AM]:    at server.model.players.PlayerAssistant.addSkillXP(Playe<br>
rAssistant.java:3335)<br>
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.applyNpcMeleeDam<br>
age(CombatAssistant.java:738)<br>
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.delayedHit(Comba<br>
tAssistant.java:466)<br>
[11/18/11 11:09 AM]:    at server.model.players.Client.process(Client.java:1636)</p>
<p>[11/18/11 11:09 AM]:    at server.model.players.PlayerHandler.process(PlayerHand<br>
ler.java:151)<br>
[11/18/11 11:09 AM]:    at server.Server.main(Server.java:188)<br>
[11/18/11 11:09 AM]: MySQL Connected<br>
[11/18/11 11:09 AM]: com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolation<br>
Exception: Duplicate entry ‘marti’ for key ‘PRIMARY’<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.exceptions.MySQLNonTransientException.<br>
fillInStackTrace(MySQLNonTransientException.java:65531)<br>
[11/18/11 11:09 AM]:    at java.lang.Throwable.(Throwable.java:196)<br>
[11/18/11 11:09 AM]:    at java.lang.Exception.(Unknown Source)<br>
[11/18/11 11:09 AM]:    at java.sql.SQLException.(Unknown Source)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.exceptions.MySQLNonTransientException.<br>
(MySQLNonTransientException.java:35)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.exceptions.MySQLIntegrityConstraintVio<br>
lationException.(MySQLIntegrityConstraintViolationException.java:34)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.SQLError.createSQLException(SQLError.j<br>
ava:931)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:<br>
2941)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)</p>
<p>[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:17<br>
15)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Connection.execSQL(Connection.java:324<br>
3)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java<br>
:1343)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java<br>
:1260)<br>
[11/18/11 11:09 AM]:    at server.util.MysqlManager.query(MysqlManager.java:28)<br>
[11/18/11 11:09 AM]:    at server.util.MysqlManager.saveHiscore(MysqlManager.jav<br>
a:53)<br>
[11/18/11 11:09 AM]:    at server.model.players.PlayerAssistant.addSkillXP(Playe<br>
rAssistant.java:3335)<br>
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.applyNpcMeleeDam<br>
age(CombatAssistant.java:738)<br>
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.delayedHit(Comba<br>
tAssistant.java:466)<br>
[11/18/11 11:09 AM]:    at server.model.players.Client.process(Client.java:1636)</p>
<p>[11/18/11 11:09 AM]:    at server.model.players.PlayerHandler.process(PlayerHand<br>
ler.java:151)<br>
[11/18/11 11:09 AM]:    at server.Server.main(Server.java:188)<br>
[11/18/11 11:09 AM]: [REGISTERED]: sageofmali<br>
[11/18/11 11:10 AM]: JRebel: Reloading class ‘server.model.players.packets.Chat’<br>
.<br>
[11/18/11 11:13 AM]: Average Cycle Time: 238ms<br>
[11/18/11 11:13 AM]: Players online: 2, engine load: 50.21%<br>
[/code]MysqlManager.java[code=java]package server.util;<br>
import java.sql.<em>;<br>
import java.security.MessageDigest;<br>
import server.model.players.</em>;</p>
<p>public class MysqlManager {</p>
<pre><code>public static Connection con = null;
public static Statement stmt;
public static boolean connectionMade;
public static void createConnection() {
	try {
		Class.forName("com.mysql.jdbc.Driver").newInstance();
		con = DriverManager.getConnection("jdbc:mysql://s2.x10premium.com:3306/sagescap_ipb","sagescap_ipb","PASSWORD");
		stmt = con.createStatement();
		Misc.println("MySQL Connected");
	} catch (Exception e) {
		e.printStackTrace();
	}
}
public static ResultSet query(String s) throws SQLException {
	try {
		if (s.toLowerCase().startsWith("select")) {
			ResultSet rs = stmt.executeQuery(s);
			return rs;
		} else {
			stmt.executeUpdate(s);
		}
		return null;
	} catch (Exception e) {
		destroyConnection();
		createConnection();
		e.printStackTrace();
	}
	return null;
}

public static void destroyConnection() {
	try {
		stmt.close();
		con.close();
		connectionMade = false;
	} catch (Exception e) {
		e.printStackTrace();
	}
}

public synchronized static boolean saveHiscore(Client clientToSave) {
	try {
		query("DELETE FROM `skills` WHERE playerName = '"+clientToSave.playerName+"';");
		query("DELETE FROM `skillsoverall` WHERE playerName = '"+clientToSave.playerName+"';");
		query("INSERT INTO `skills` (`playerName`,`Attacklvl`,`Attackxp`,`Defencelvl`,`Defencexp`,`Strengthlvl`,`Strengthxp`,`Hitpointslvl`,`Hitpointsxp`,`Rangelvl`,`Rangexp`,`Prayerlvl`,`Prayerxp`,`Magiclvl`,`Magicxp`,`Cookinglvl`,`Cookingxp`,`Woodcuttinglvl`,`Woodcuttingxp`,`Fletchinglvl`,`Fletchingxp`,`Fishinglvl`,`Fishingxp`,`Firemakinglvl`,`Firemakingxp`,`Craftinglvl`,`Craftingxp`,`Smithinglvl`,`Smithingxp`,`Mininglvl`,`Miningxp`,`Herblorelvl`,`Herblorexp`,`Agilitylvl`,`Agilityxp`,`Thievinglvl`,`Thievingxp`,`Slayerlvl`,`Slayerxp`,`Farminglvl`,`Farmingxp`,`Runecraftlvl`,`Runecraftxp`,`PKlvl`,`PKxp`,`Hunterlvl`,`Hunterxp`,`Summoninglvl`,`Summoningxp`,`Dungeoneeringlvl`,`Dungeoneeringxp`) VALUES ('"+clientToSave.playerName+"',"+clientToSave.playerLevel[0]+","+clientToSave.playerXP[0]+","+clientToSave.playerLevel[1]+","+clientToSave.playerXP[1]+","+clientToSave.playerLevel[2]+","+clientToSave.playerXP[2]+","+clientToSave.playerLevel[3]+","+clientToSave.playerXP[3]+","+clientToSave.playerLevel[4]+","+clientToSave.playerXP[4]+","+clientToSave.playerLevel[5]+","+clientToSave.playerXP[5]+","+clientToSave.playerLevel[6]+","+clientToSave.playerXP[6]+","+clientToSave.playerLevel[7]+","+clientToSave.playerXP[7]+","+clientToSave.playerLevel[8]+","+clientToSave.playerXP[8]+","+clientToSave.playerLevel[9]+","+clientToSave.playerXP[9]+","+clientToSave.playerLevel[10]+","+clientToSave.playerXP[10]+","+clientToSave.playerLevel[11]+","+clientToSave.playerXP[11]+","+clientToSave.playerLevel[12]+","+clientToSave.playerXP[12]+","+clientToSave.playerLevel[13]+","+clientToSave.playerXP[13]+","+clientToSave.playerLevel[14]+","+clientToSave.playerXP[14]+","+clientToSave.playerLevel[15]+","+clientToSave.playerXP[15]+","+clientToSave.playerLevel[16]+","+clientToSave.playerXP[16]+","+clientToSave.playerLevel[17]+","+clientToSave.playerXP[17]+","+clientToSave.playerLevel[18]+","+clientToSave.playerXP[18]+","+clientToSave.playerLevel[19]+","+clientToSave.playerXP[19]+","+clientToSave.playerLevel[20]+","+clientToSave.playerXP[20]+","+clientToSave.playerLevel[23]+","+clientToSave.playerXP[23]+","+clientToSave.playerLevel[21]+","+clientToSave.playerXP[21]+","+clientToSave.playerLevel[22]+","+clientToSave.playerXP[22]+","+clientToSave.playerLevel[24]+","+clientToSave.playerXP[24]+");");
		        long totalExp = 0;
    for (long l : clientToSave.playerXP) {
            totalExp += l;
    }
		query("INSERT INTO `skillsoverall` (`playerName`,`lvl`,`xp`) VALUES ('"+clientToSave.playerName+"',"+(clientToSave.getLevelForXP(clientToSave.playerXP[0]) + clientToSave.getLevelForXP(clientToSave.playerXP[1]) + clientToSave.getLevelForXP(clientToSave.playerXP[2]) + clientToSave.getLevelForXP(clientToSave.playerXP[3]) + clientToSave.getLevelForXP(clientToSave.playerXP[4]) + clientToSave.getLevelForXP(clientToSave.playerXP[5]) + clientToSave.getLevelForXP(clientToSave.playerXP[6]) + clientToSave.getLevelForXP(clientToSave.playerXP[7]) + clientToSave.getLevelForXP(clientToSave.playerXP[8]) + clientToSave.getLevelForXP(clientToSave.playerXP[9]) + clientToSave.getLevelForXP(clientToSave.playerXP[10]) + clientToSave.getLevelForXP(clientToSave.playerXP[11]) + clientToSave.getLevelForXP(clientToSave.playerXP[12]) + clientToSave.getLevelForXP(clientToSave.playerXP[13]) + clientToSave.getLevelForXP(clientToSave.playerXP[14]) + clientToSave.getLevelForXP(clientToSave.playerXP[15]) + clientToSave.getLevelForXP(clientToSave.playerXP[16]) + clientToSave.getLevelForXP(clientToSave.playerXP[17]) + clientToSave.getLevelForXP(clientToSave.playerXP[18]) + clientToSave.getLevelForXP(clientToSave.playerXP[19]) + clientToSave.getLevelForXP(clientToSave.playerXP[20]) + clientToSave.getLevelForXP(clientToSave.playerXP[21]) + clientToSave.getLevelForXP(clientToSave.playerXP[22]) + clientToSave.getLevelForXP(clientToSave.playerXP[23]) + clientToSave.getLevelForXP(clientToSave.playerXP[24]))+","+ totalExp +");");
	} catch (Exception e) {
		e.printStackTrace();
		return false;
	}
	return true;
}
	        public static boolean checkVotes(String playerName)
    {
            try {
                    Statement statement = con.createStatement();
                    String query = "SELECT * FROM votes WHERE playerName = '" + playerName + "'";
                    ResultSet results = statement.executeQuery(query);
                    while(results.next()) {
                            int recieved = results.getInt("recieved");
                            if(recieved == 0)
                            {
                            return true;
                            }
                            
                    }
            } catch(SQLException e) {
                    e.printStackTrace();
            }
            return false;
    }
</code></pre>
<p>}[/code] Also, I have it saving in my “addSkillXP” method: <code>	public boolean addSkillXP(int amount, int skill){
if (c.xpLock == true || c.Jail == true) {
    return false;
}
		if (amount+c.playerXP[skill] &lt; 0 || c.playerXP[skill] &gt; 200000000) {
			if(c.playerXP[skill] &gt; 200000000) {
				c.playerXP[skill] = 200000000;
			}
			return false;
		}
		amount *= Config.SERVER_EXP_BONUS;
		int oldLevel = getLevelForXP(c.playerXP[skill]);
		c.playerXP[skill] += amount;
		if (oldLevel &lt; getLevelForXP(c.playerXP[skill])) {
			if (c.playerLevel[skill] &lt; c.getLevelForXP(c.playerXP[skill]) &amp;&amp; skill != 3 &amp;&amp; skill != 5)
				c.playerLevel[skill] = c.getLevelForXP(c.playerXP[skill]);
			levelUp(skill);
			c.gfx100(199);
			requestUpdates();
		}
		setSkillLevel(skill, c.playerLevel[skill], c.playerXP[skill]);
		refreshSkill(skill);
		MysqlManager.saveHiscore(c);
		return true;
	}</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysqlmanager-problem/422063/1</link>
        <pubDate>Fri, 18 Nov 2011 16:20:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422063-1</guid>
        <source url="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063.rss">MysqlManager Problem?</source>
      </item>
  </channel>
</rss>
