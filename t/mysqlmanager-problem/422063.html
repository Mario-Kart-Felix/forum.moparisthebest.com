<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/mysqlmanager-problem/422063 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 17:45:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>MysqlManager Problem? - Runescape - moparisthebest.com</title>
    <meta name="description" content="I get this error a lot, and it makes my engine load go up high.  I have my hiscores saving every time you get xp, I&amp;#39;m not sure why it&amp;#39;s doing that.  I used to be able to have hiscores auto-update with no problem. Erro: c&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="422063.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;MysqlManager Problem?&#39;" href="422063.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/mysqlmanager-problem/422063" />
<meta property="og:title" content="MysqlManager Problem?" />
<meta name="twitter:title" content="MysqlManager Problem?" />
<meta property="og:description" content="I get this error a lot, and it makes my engine load go up high.  I have my hiscores saving every time you get xp, I’m not sure why it’s doing that.  I used to be able to have hiscores auto-update with no problem. Erro: [code=java][11/18/11 11:09 AM]: MySQL Connected  [11/18/11 11:09 AM]: com.mysql.jdbc.CommunicationsException: Communications link  failure due to underlying exception:  ** BEGIN NESTED EXCEPTION **  java.io.EOFException  STACKTRACE:  java.io.EOFException  at com.mysql.jdbc.MysqlIO..." />
<meta name="twitter:description" content="I get this error a lot, and it makes my engine load go up high.  I have my hiscores saving every time you get xp, I’m not sure why it’s doing that.  I used to be able to have hiscores auto-update with no problem. Erro: [code=java][11/18/11 11:09 AM]: MySQL Connected  [11/18/11 11:09 AM]: com.mysql.jdbc.CommunicationsException: Communications link  failure due to underlying exception:  ** BEGIN NESTED EXCEPTION **  java.io.EOFException  STACKTRACE:  java.io.EOFException  at com.mysql.jdbc.MysqlIO..." />
<meta property="article:published_time" content="2011-11-18T16:20:25+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="422063.html">MysqlManager Problem?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-18T16:20:25Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:47:14Z' class='post-time'>
              August 2, 2016,  6:47am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I get this error a lot, and it makes my engine load go up high.  I have my hiscores saving every time you get xp, I’m not sure why it’s doing that.  I used to be able to have hiscores auto-update with no problem. Erro: [code=java][11/18/11 11:09 AM]: MySQL Connected<br>
[11/18/11 11:09 AM]: com.mysql.jdbc.CommunicationsException: Communications link<br>
failure due to underlying exception:</p>
<p>** BEGIN NESTED EXCEPTION **</p>
<p>java.io.EOFException</p>
<p>STACKTRACE:</p>
<p>java.io.EOFException<br>
at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:1963)<br>
at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:2375)<br>
at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2874)<br>
at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)<br>
at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1715)<br>
at com.mysql.jdbc.Connection.execSQL(Connection.java:3243)<br>
at com.mysql.jdbc.Statement.executeUpdate(Statement.java:1343)<br>
at com.mysql.jdbc.Statement.executeUpdate(Statement.java:1260)<br>
at server.util.MysqlManager.query(MysqlManager.java:28)<br>
at server.util.MysqlManager.saveHiscore(MysqlManager.java:51)<br>
at server.model.players.PlayerAssistant.addSkillXP(PlayerAssistant.java:<br>
3335)<br>
at server.model.players.CombatAssistant.applyNpcMeleeDamage(CombatAssist<br>
ant.java:738)<br>
at server.model.players.CombatAssistant.delayedHit(CombatAssistant.java:<br>
466)<br>
at server.model.players.Client.process(Client.java:1636)<br>
at server.model.players.PlayerHandler.process(PlayerHandler.java:151)<br>
at server.Server.main(Server.java:188)</p>
<p>** END NESTED EXCEPTION **</p>
<p>Last packet sent to the server was 0 ms ago.<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.CommunicationsException.fillInStackTra<br>
ce(CommunicationsException.java:65531)<br>
[11/18/11 11:09 AM]:    at java.lang.Throwable.(Throwable.java:181)<br>
[11/18/11 11:09 AM]:    at java.lang.Exception.(Unknown Source)<br>
[11/18/11 11:09 AM]:    at java.sql.SQLException.(Unknown Source)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.CommunicationsException.(Communi<br>
cationsException.java:56)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.jav<br>
a:2586)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:<br>
2874)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)</p>
<p>[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:17<br>
15)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Connection.execSQL(Connection.java:324<br>
3)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java<br>
:1343)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java<br>
:1260)<br>
[11/18/11 11:09 AM]:    at server.util.MysqlManager.query(MysqlManager.java:28)<br>
[11/18/11 11:09 AM]:    at server.util.MysqlManager.saveHiscore(MysqlManager.jav<br>
a:51)<br>
[11/18/11 11:09 AM]:    at server.model.players.PlayerAssistant.addSkillXP(Playe<br>
rAssistant.java:3335)<br>
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.applyNpcMeleeDam<br>
age(CombatAssistant.java:738)<br>
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.delayedHit(Comba<br>
tAssistant.java:466)<br>
[11/18/11 11:09 AM]:    at server.model.players.Client.process(Client.java:1636)</p>
<p>[11/18/11 11:09 AM]:    at server.model.players.PlayerHandler.process(PlayerHand<br>
ler.java:151)<br>
[11/18/11 11:09 AM]:    at server.Server.main(Server.java:188)<br>
[11/18/11 11:09 AM]: MySQL Connected<br>
[11/18/11 11:09 AM]: com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolation<br>
Exception: Duplicate entry ‘marti’ for key ‘PRIMARY’<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.exceptions.MySQLNonTransientException.<br>
fillInStackTrace(MySQLNonTransientException.java:65531)<br>
[11/18/11 11:09 AM]:    at java.lang.Throwable.(Throwable.java:196)<br>
[11/18/11 11:09 AM]:    at java.lang.Exception.(Unknown Source)<br>
[11/18/11 11:09 AM]:    at java.sql.SQLException.(Unknown Source)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.exceptions.MySQLNonTransientException.<br>
(MySQLNonTransientException.java:35)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.exceptions.MySQLIntegrityConstraintVio<br>
lationException.(MySQLIntegrityConstraintViolationException.java:34)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.SQLError.createSQLException(SQLError.j<br>
ava:931)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:<br>
2941)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1623)</p>
<p>[11/18/11 11:09 AM]:    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:17<br>
15)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Connection.execSQL(Connection.java:324<br>
3)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java<br>
:1343)<br>
[11/18/11 11:09 AM]:    at com.mysql.jdbc.Statement.executeUpdate(Statement.java<br>
:1260)<br>
[11/18/11 11:09 AM]:    at server.util.MysqlManager.query(MysqlManager.java:28)<br>
[11/18/11 11:09 AM]:    at server.util.MysqlManager.saveHiscore(MysqlManager.jav<br>
a:53)<br>
[11/18/11 11:09 AM]:    at server.model.players.PlayerAssistant.addSkillXP(Playe<br>
rAssistant.java:3335)<br>
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.applyNpcMeleeDam<br>
age(CombatAssistant.java:738)<br>
[11/18/11 11:09 AM]:    at server.model.players.CombatAssistant.delayedHit(Comba<br>
tAssistant.java:466)<br>
[11/18/11 11:09 AM]:    at server.model.players.Client.process(Client.java:1636)</p>
<p>[11/18/11 11:09 AM]:    at server.model.players.PlayerHandler.process(PlayerHand<br>
ler.java:151)<br>
[11/18/11 11:09 AM]:    at server.Server.main(Server.java:188)<br>
[11/18/11 11:09 AM]: [REGISTERED]: sageofmali<br>
[11/18/11 11:10 AM]: JRebel: Reloading class ‘server.model.players.packets.Chat’<br>
.<br>
[11/18/11 11:13 AM]: Average Cycle Time: 238ms<br>
[11/18/11 11:13 AM]: Players online: 2, engine load: 50.21%<br>
[/code]MysqlManager.java[code=java]package server.util;<br>
import java.sql.<em>;<br>
import java.security.MessageDigest;<br>
import server.model.players.</em>;</p>
<p>public class MysqlManager {</p>
<pre><code>public static Connection con = null;
public static Statement stmt;
public static boolean connectionMade;
public static void createConnection() {
	try {
		Class.forName("com.mysql.jdbc.Driver").newInstance();
		con = DriverManager.getConnection("jdbc:mysql://s2.x10premium.com:3306/sagescap_ipb","sagescap_ipb","PASSWORD");
		stmt = con.createStatement();
		Misc.println("MySQL Connected");
	} catch (Exception e) {
		e.printStackTrace();
	}
}
public static ResultSet query(String s) throws SQLException {
	try {
		if (s.toLowerCase().startsWith("select")) {
			ResultSet rs = stmt.executeQuery(s);
			return rs;
		} else {
			stmt.executeUpdate(s);
		}
		return null;
	} catch (Exception e) {
		destroyConnection();
		createConnection();
		e.printStackTrace();
	}
	return null;
}

public static void destroyConnection() {
	try {
		stmt.close();
		con.close();
		connectionMade = false;
	} catch (Exception e) {
		e.printStackTrace();
	}
}

public synchronized static boolean saveHiscore(Client clientToSave) {
	try {
		query("DELETE FROM `skills` WHERE playerName = '"+clientToSave.playerName+"';");
		query("DELETE FROM `skillsoverall` WHERE playerName = '"+clientToSave.playerName+"';");
		query("INSERT INTO `skills` (`playerName`,`Attacklvl`,`Attackxp`,`Defencelvl`,`Defencexp`,`Strengthlvl`,`Strengthxp`,`Hitpointslvl`,`Hitpointsxp`,`Rangelvl`,`Rangexp`,`Prayerlvl`,`Prayerxp`,`Magiclvl`,`Magicxp`,`Cookinglvl`,`Cookingxp`,`Woodcuttinglvl`,`Woodcuttingxp`,`Fletchinglvl`,`Fletchingxp`,`Fishinglvl`,`Fishingxp`,`Firemakinglvl`,`Firemakingxp`,`Craftinglvl`,`Craftingxp`,`Smithinglvl`,`Smithingxp`,`Mininglvl`,`Miningxp`,`Herblorelvl`,`Herblorexp`,`Agilitylvl`,`Agilityxp`,`Thievinglvl`,`Thievingxp`,`Slayerlvl`,`Slayerxp`,`Farminglvl`,`Farmingxp`,`Runecraftlvl`,`Runecraftxp`,`PKlvl`,`PKxp`,`Hunterlvl`,`Hunterxp`,`Summoninglvl`,`Summoningxp`,`Dungeoneeringlvl`,`Dungeoneeringxp`) VALUES ('"+clientToSave.playerName+"',"+clientToSave.playerLevel[0]+","+clientToSave.playerXP[0]+","+clientToSave.playerLevel[1]+","+clientToSave.playerXP[1]+","+clientToSave.playerLevel[2]+","+clientToSave.playerXP[2]+","+clientToSave.playerLevel[3]+","+clientToSave.playerXP[3]+","+clientToSave.playerLevel[4]+","+clientToSave.playerXP[4]+","+clientToSave.playerLevel[5]+","+clientToSave.playerXP[5]+","+clientToSave.playerLevel[6]+","+clientToSave.playerXP[6]+","+clientToSave.playerLevel[7]+","+clientToSave.playerXP[7]+","+clientToSave.playerLevel[8]+","+clientToSave.playerXP[8]+","+clientToSave.playerLevel[9]+","+clientToSave.playerXP[9]+","+clientToSave.playerLevel[10]+","+clientToSave.playerXP[10]+","+clientToSave.playerLevel[11]+","+clientToSave.playerXP[11]+","+clientToSave.playerLevel[12]+","+clientToSave.playerXP[12]+","+clientToSave.playerLevel[13]+","+clientToSave.playerXP[13]+","+clientToSave.playerLevel[14]+","+clientToSave.playerXP[14]+","+clientToSave.playerLevel[15]+","+clientToSave.playerXP[15]+","+clientToSave.playerLevel[16]+","+clientToSave.playerXP[16]+","+clientToSave.playerLevel[17]+","+clientToSave.playerXP[17]+","+clientToSave.playerLevel[18]+","+clientToSave.playerXP[18]+","+clientToSave.playerLevel[19]+","+clientToSave.playerXP[19]+","+clientToSave.playerLevel[20]+","+clientToSave.playerXP[20]+","+clientToSave.playerLevel[23]+","+clientToSave.playerXP[23]+","+clientToSave.playerLevel[21]+","+clientToSave.playerXP[21]+","+clientToSave.playerLevel[22]+","+clientToSave.playerXP[22]+","+clientToSave.playerLevel[24]+","+clientToSave.playerXP[24]+");");
		        long totalExp = 0;
    for (long l : clientToSave.playerXP) {
            totalExp += l;
    }
		query("INSERT INTO `skillsoverall` (`playerName`,`lvl`,`xp`) VALUES ('"+clientToSave.playerName+"',"+(clientToSave.getLevelForXP(clientToSave.playerXP[0]) + clientToSave.getLevelForXP(clientToSave.playerXP[1]) + clientToSave.getLevelForXP(clientToSave.playerXP[2]) + clientToSave.getLevelForXP(clientToSave.playerXP[3]) + clientToSave.getLevelForXP(clientToSave.playerXP[4]) + clientToSave.getLevelForXP(clientToSave.playerXP[5]) + clientToSave.getLevelForXP(clientToSave.playerXP[6]) + clientToSave.getLevelForXP(clientToSave.playerXP[7]) + clientToSave.getLevelForXP(clientToSave.playerXP[8]) + clientToSave.getLevelForXP(clientToSave.playerXP[9]) + clientToSave.getLevelForXP(clientToSave.playerXP[10]) + clientToSave.getLevelForXP(clientToSave.playerXP[11]) + clientToSave.getLevelForXP(clientToSave.playerXP[12]) + clientToSave.getLevelForXP(clientToSave.playerXP[13]) + clientToSave.getLevelForXP(clientToSave.playerXP[14]) + clientToSave.getLevelForXP(clientToSave.playerXP[15]) + clientToSave.getLevelForXP(clientToSave.playerXP[16]) + clientToSave.getLevelForXP(clientToSave.playerXP[17]) + clientToSave.getLevelForXP(clientToSave.playerXP[18]) + clientToSave.getLevelForXP(clientToSave.playerXP[19]) + clientToSave.getLevelForXP(clientToSave.playerXP[20]) + clientToSave.getLevelForXP(clientToSave.playerXP[21]) + clientToSave.getLevelForXP(clientToSave.playerXP[22]) + clientToSave.getLevelForXP(clientToSave.playerXP[23]) + clientToSave.getLevelForXP(clientToSave.playerXP[24]))+","+ totalExp +");");
	} catch (Exception e) {
		e.printStackTrace();
		return false;
	}
	return true;
}
	        public static boolean checkVotes(String playerName)
    {
            try {
                    Statement statement = con.createStatement();
                    String query = "SELECT * FROM votes WHERE playerName = '" + playerName + "'";
                    ResultSet results = statement.executeQuery(query);
                    while(results.next()) {
                            int recieved = results.getInt("recieved");
                            if(recieved == 0)
                            {
                            return true;
                            }
                            
                    }
            } catch(SQLException e) {
                    e.printStackTrace();
            }
            return false;
    }
</code></pre>
<p>}[/code] Also, I have it saving in my “addSkillXP” method: <code>	public boolean addSkillXP(int amount, int skill){
if (c.xpLock == true || c.Jail == true) {
    return false;
}
		if (amount+c.playerXP[skill] &lt; 0 || c.playerXP[skill] &gt; 200000000) {
			if(c.playerXP[skill] &gt; 200000000) {
				c.playerXP[skill] = 200000000;
			}
			return false;
		}
		amount *= Config.SERVER_EXP_BONUS;
		int oldLevel = getLevelForXP(c.playerXP[skill]);
		c.playerXP[skill] += amount;
		if (oldLevel &lt; getLevelForXP(c.playerXP[skill])) {
			if (c.playerLevel[skill] &lt; c.getLevelForXP(c.playerXP[skill]) &amp;&amp; skill != 3 &amp;&amp; skill != 5)
				c.playerLevel[skill] = c.getLevelForXP(c.playerXP[skill]);
			levelUp(skill);
			c.gfx100(199);
			requestUpdates();
		}
		setSkillLevel(skill, c.playerLevel[skill], c.playerXP[skill]);
		refreshSkill(skill);
		MysqlManager.saveHiscore(c);
		return true;
	}</code></p>
      </div>

      <meta itemprop='headline' content='MysqlManager Problem?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cdoggy.html'><span itemprop='name'>cdoggy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-18T16:33:00Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:47:15Z' class='post-time'>
              August 2, 2016,  6:47am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>
        public synchronized static boolean saveHiscore(Client clientToSave) {
                try {
                        query("DELETE FROM `skills` WHERE playerName = '"+clientToSave.playerName+"';");
                        query("DELETE FROM `skillsoverall` WHERE playerName = '"+clientToSave.playerName+"';");
                        query("INSERT INTO `skills` (`playerName`,`Attacklvl`,`Attackxp`,`Defencelvl`,`Defencexp`,`Strengthlvl`,`Strengthxp`,`Hitpointslvl`,`Hitpointsxp`,`Rangelvl`,`Rangexp`,`Prayerlvl`,`Prayerxp`,`Magiclvl`,`Magicxp`,`Cookinglvl`,`Cookingxp`,`Woodcuttinglvl`,`Woodcuttingxp`,`Fletchinglvl`,`Fletchingxp`,`Fishinglvl`,`Fishingxp`,`Firemakinglvl`,`Firemakingxp`,`Craftinglvl`,`Craftingxp`,`Smithinglvl`,`Smithingxp`,`Mininglvl`,`Miningxp`,`Herblorelvl`,`Herblorexp`,`Agilitylvl`,`Agilityxp`,`Thievinglvl`,`Thievingxp`,`Slayerlvl`,`Slayerxp`,`Farminglvl`,`Farmingxp`,`Runecraftlvl`,`Runecraftxp`,`PKlvl`,`PKxp`,`Hunterlvl`,`Hunterxp`,`Summoninglvl`,`Summoningxp`,`Dungeoneeringlvl`,`Dungeoneeringxp`) VALUES ('"+clientToSave.playerName+"',"+clientToSave.playerLevel[0]+","+clientToSave.playerXP[0]+","+clientToSave.playerLevel[1]+","+clientToSave.playerXP[1]+","+clientToSave.playerLevel[2]+","+clientToSave.playerXP[2]+","+clientToSave.playerLevel[3]+","+clientToSave.playerXP[3]+","+clientToSave.playerLevel[4]+","+clientToSave.playerXP[4]+","+clientToSave.playerLevel[5]+","+clientToSave.playerXP[5]+","+clientToSave.playerLevel[6]+","+clientToSave.playerXP[6]+","+clientToSave.playerLevel[7]+","+clientToSave.playerXP[7]+","+clientToSave.playerLevel[8]+","+clientToSave.playerXP[8]+","+clientToSave.playerLevel[9]+","+clientToSave.playerXP[9]+","+clientToSave.playerLevel[10]+","+clientToSave.playerXP[10]+","+clientToSave.playerLevel[11]+","+clientToSave.playerXP[11]+","+clientToSave.playerLevel[12]+","+clientToSave.playerXP[12]+","+clientToSave.playerLevel[13]+","+clientToSave.playerXP[13]+","+clientToSave.playerLevel[14]+","+clientToSave.playerXP[14]+","+clientToSave.playerLevel[15]+","+clientToSave.playerXP[15]+","+clientToSave.playerLevel[16]+","+clientToSave.playerXP[16]+","+clientToSave.playerLevel[17]+","+clientToSave.playerXP[17]+","+clientToSave.playerLevel[18]+","+clientToSave.playerXP[18]+","+clientToSave.playerLevel[19]+","+clientToSave.playerXP[19]+","+clientToSave.playerLevel[20]+","+clientToSave.playerXP[20]+","+clientToSave.playerLevel[23]+","+clientToSave.playerXP[23]+","+clientToSave.playerLevel[21]+","+clientToSave.playerXP[21]+","+clientToSave.playerLevel[22]+","+clientToSave.playerXP[22]+","+clientToSave.playerLevel[24]+","+clientToSave.playerXP[24]+");");
                                long totalExp = 0;
        for (long l : clientToSave.playerXP) {
                totalExp += l;
        }
                        query("INSERT INTO `skillsoverall` (`playerName`,`lvl`,`xp`) VALUES ('"+clientToSave.playerName+"',"+(clientToSave.getLevelForXP(clientToSave.playerXP[0]) + clientToSave.getLevelForXP(clientToSave.playerXP[1]) + clientToSave.getLevelForXP(clientToSave.playerXP[2]) + clientToSave.getLevelForXP(clientToSave.playerXP[3]) + clientToSave.getLevelForXP(clientToSave.playerXP[4]) + clientToSave.getLevelForXP(clientToSave.playerXP[5]) + clientToSave.getLevelForXP(clientToSave.playerXP[6]) + clientToSave.getLevelForXP(clientToSave.playerXP[7]) + clientToSave.getLevelForXP(clientToSave.playerXP[8]) + clientToSave.getLevelForXP(clientToSave.playerXP[9]) + clientToSave.getLevelForXP(clientToSave.playerXP[10]) + clientToSave.getLevelForXP(clientToSave.playerXP[11]) + clientToSave.getLevelForXP(clientToSave.playerXP[12]) + clientToSave.getLevelForXP(clientToSave.playerXP[13]) + clientToSave.getLevelForXP(clientToSave.playerXP[14]) + clientToSave.getLevelForXP(clientToSave.playerXP[15]) + clientToSave.getLevelForXP(clientToSave.playerXP[16]) + clientToSave.getLevelForXP(clientToSave.playerXP[17]) + clientToSave.getLevelForXP(clientToSave.playerXP[18]) + clientToSave.getLevelForXP(clientToSave.playerXP[19]) + clientToSave.getLevelForXP(clientToSave.playerXP[20]) + clientToSave.getLevelForXP(clientToSave.playerXP[21]) + clientToSave.getLevelForXP(clientToSave.playerXP[22]) + clientToSave.getLevelForXP(clientToSave.playerXP[23]) + clientToSave.getLevelForXP(clientToSave.playerXP[24]))+","+ totalExp +");");
                } catch (Exception e) {
                        e.printStackTrace();
                        return false;
                }
                return true;
        }</code></p>
<p>I believe it has to do with this.</p>
<p><code> long totalExp = 0;
        for (long l : clientToSave.playerXP) {
                totalExp += l;
        }</code><br>
However it may also be taken care of within another method probably called hiscores.java</p>
      </div>

      <meta itemprop='headline' content='MysqlManager Problem?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-18T17:24:48Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:47:17Z' class='post-time'>
              August 2, 2016,  6:47am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“cdoggy, post:2, topic:422063”]<code>
        public synchronized static boolean saveHiscore(Client clientToSave) {
                try {
                        query("DELETE FROM `skills` WHERE playerName = '"+clientToSave.playerName+"';");
                        query("DELETE FROM `skillsoverall` WHERE playerName = '"+clientToSave.playerName+"';");
                        query("INSERT INTO `skills` (`playerName`,`Attacklvl`,`Attackxp`,`Defencelvl`,`Defencexp`,`Strengthlvl`,`Strengthxp`,`Hitpointslvl`,`Hitpointsxp`,`Rangelvl`,`Rangexp`,`Prayerlvl`,`Prayerxp`,`Magiclvl`,`Magicxp`,`Cookinglvl`,`Cookingxp`,`Woodcuttinglvl`,`Woodcuttingxp`,`Fletchinglvl`,`Fletchingxp`,`Fishinglvl`,`Fishingxp`,`Firemakinglvl`,`Firemakingxp`,`Craftinglvl`,`Craftingxp`,`Smithinglvl`,`Smithingxp`,`Mininglvl`,`Miningxp`,`Herblorelvl`,`Herblorexp`,`Agilitylvl`,`Agilityxp`,`Thievinglvl`,`Thievingxp`,`Slayerlvl`,`Slayerxp`,`Farminglvl`,`Farmingxp`,`Runecraftlvl`,`Runecraftxp`,`PKlvl`,`PKxp`,`Hunterlvl`,`Hunterxp`,`Summoninglvl`,`Summoningxp`,`Dungeoneeringlvl`,`Dungeoneeringxp`) VALUES ('"+clientToSave.playerName+"',"+clientToSave.playerLevel[0]+","+clientToSave.playerXP[0]+","+clientToSave.playerLevel[1]+","+clientToSave.playerXP[1]+","+clientToSave.playerLevel[2]+","+clientToSave.playerXP[2]+","+clientToSave.playerLevel[3]+","+clientToSave.playerXP[3]+","+clientToSave.playerLevel[4]+","+clientToSave.playerXP[4]+","+clientToSave.playerLevel[5]+","+clientToSave.playerXP[5]+","+clientToSave.playerLevel[6]+","+clientToSave.playerXP[6]+","+clientToSave.playerLevel[7]+","+clientToSave.playerXP[7]+","+clientToSave.playerLevel[8]+","+clientToSave.playerXP[8]+","+clientToSave.playerLevel[9]+","+clientToSave.playerXP[9]+","+clientToSave.playerLevel[10]+","+clientToSave.playerXP[10]+","+clientToSave.playerLevel[11]+","+clientToSave.playerXP[11]+","+clientToSave.playerLevel[12]+","+clientToSave.playerXP[12]+","+clientToSave.playerLevel[13]+","+clientToSave.playerXP[13]+","+clientToSave.playerLevel[14]+","+clientToSave.playerXP[14]+","+clientToSave.playerLevel[15]+","+clientToSave.playerXP[15]+","+clientToSave.playerLevel[16]+","+clientToSave.playerXP[16]+","+clientToSave.playerLevel[17]+","+clientToSave.playerXP[17]+","+clientToSave.playerLevel[18]+","+clientToSave.playerXP[18]+","+clientToSave.playerLevel[19]+","+clientToSave.playerXP[19]+","+clientToSave.playerLevel[20]+","+clientToSave.playerXP[20]+","+clientToSave.playerLevel[23]+","+clientToSave.playerXP[23]+","+clientToSave.playerLevel[21]+","+clientToSave.playerXP[21]+","+clientToSave.playerLevel[22]+","+clientToSave.playerXP[22]+","+clientToSave.playerLevel[24]+","+clientToSave.playerXP[24]+");");
                                long totalExp = 0;
        for (long l : clientToSave.playerXP) {
                totalExp += l;
        }
                        query("INSERT INTO `skillsoverall` (`playerName`,`lvl`,`xp`) VALUES ('"+clientToSave.playerName+"',"+(clientToSave.getLevelForXP(clientToSave.playerXP[0]) + clientToSave.getLevelForXP(clientToSave.playerXP[1]) + clientToSave.getLevelForXP(clientToSave.playerXP[2]) + clientToSave.getLevelForXP(clientToSave.playerXP[3]) + clientToSave.getLevelForXP(clientToSave.playerXP[4]) + clientToSave.getLevelForXP(clientToSave.playerXP[5]) + clientToSave.getLevelForXP(clientToSave.playerXP[6]) + clientToSave.getLevelForXP(clientToSave.playerXP[7]) + clientToSave.getLevelForXP(clientToSave.playerXP[8]) + clientToSave.getLevelForXP(clientToSave.playerXP[9]) + clientToSave.getLevelForXP(clientToSave.playerXP[10]) + clientToSave.getLevelForXP(clientToSave.playerXP[11]) + clientToSave.getLevelForXP(clientToSave.playerXP[12]) + clientToSave.getLevelForXP(clientToSave.playerXP[13]) + clientToSave.getLevelForXP(clientToSave.playerXP[14]) + clientToSave.getLevelForXP(clientToSave.playerXP[15]) + clientToSave.getLevelForXP(clientToSave.playerXP[16]) + clientToSave.getLevelForXP(clientToSave.playerXP[17]) + clientToSave.getLevelForXP(clientToSave.playerXP[18]) + clientToSave.getLevelForXP(clientToSave.playerXP[19]) + clientToSave.getLevelForXP(clientToSave.playerXP[20]) + clientToSave.getLevelForXP(clientToSave.playerXP[21]) + clientToSave.getLevelForXP(clientToSave.playerXP[22]) + clientToSave.getLevelForXP(clientToSave.playerXP[23]) + clientToSave.getLevelForXP(clientToSave.playerXP[24]))+","+ totalExp +");");
                } catch (Exception e) {
                        e.printStackTrace();
                        return false;
                }
                return true;
        }</code></p>
<p>I believe it has to do with this.</p>
<p><code> long totalExp = 0;
        for (long l : clientToSave.playerXP) {
                totalExp += l;
        }</code><br>
However it may also be taken care of within another method probably called hiscores.java[/quote]Lol, that has nothing to do with it…  that’s just to make sure the xp doesn’t go into the negatives on the hiscores.</p>
      </div>

      <meta itemprop='headline' content='MysqlManager Problem?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cdoggy.html'><span itemprop='name'>cdoggy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-18T17:34:29Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:47:17Z' class='post-time'>
              August 2, 2016,  6:47am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I was going off:</p>
<blockquote>I have my hiscores saving every time you get xp</blockquote>
<p>However you are right, but why even comment if you aren’t going to provide any sort of help?</p>
<p>Anyways, look for a hiscores.java, this is most likely where the function to handle the saving indicator is.</p>
      </div>

      <meta itemprop='headline' content='MysqlManager Problem?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-18T20:22:26Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:47:32Z' class='post-time'>
              August 2, 2016,  6:47am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“cdoggy, post:4, topic:422063”]I was going off:</p>
<aside class="quote">
<blockquote>
<p>I have my hiscores saving every time you get xp</p>
</blockquote>
</aside>
<p>However you are right, but why even comment if you aren’t going to provide any sort of help?</p>
<p>Anyways, look for a hiscores.java, this is most likely where the function to handle the saving indicator is.[/quote]<br>
Dude, I know my server… There isn’t a hiscores.java.  My hiscores save using mysqlmanager.java…  If you look at the error it says: </p><blockquote>        at server.util.MysqlManager.query(MysqlManager.java:28)<br>
at server.util.MysqlManager.saveHiscore(MysqlManager.java:51)<br>
at server.model.players.PlayerAssistant.addSkillXP(PlayerAssistant.java:</blockquote><br>
Line 28: <code>				stmt.executeUpdate(s);</code><br>
Line 51: <code>			query("DELETE FROM `skills` WHERE playerName = '"+clientToSave.playerName+"';");</code><br>
PlayerAssistant: <code>		MysqlManager.saveHiscore(c);</code>
      </div>

      <meta itemprop='headline' content='MysqlManager Problem?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/mysqlmanager-problem/422063 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 17:45:43 GMT -->
</html>
