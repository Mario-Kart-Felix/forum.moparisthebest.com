<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Stack calculation problem</title>
    <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511</link>
    <description>I need to find the instructions used as argument for an instruction, but I&#39;m having a problem with long related functions.
The problem is I have the following bytecode:

[code]
ALOAD_0 
GETFIELD long dc.q 
BIPUSH #-1 
LXOR
[/code]

LXOR consumes 4. The GETFIELD produces 2, so the BIPUSH produces 2 at this time as well. But normally BIPUSH only produces 1, which is the problem I have.
I can&#39;t figure out an easy way to find out how much BIPUSH is actually producing.
You have to think that this code is part of a larger code and that the BIPUSH could be in front of the GETFIELD as well. Also you work backwards  (starting at LXOR)

The only solution I could think of is keeping additional arrays which would tell that the current instruction I&#39;m finding the stack values is a long (or a double). But that would be kinda messy.

Does anyone have an idea how to solve it? Threating LONG as 1 doesn&#39;t work, since pop2 loses his value then ^^</description>
    
    <lastBuildDate>Mon, 20 Oct 2008 19:34:56 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@the_bank the bank]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_bank">@the_bank</a> wrote:</p>
          <blockquote>
              <p>[quote=“Pwnd, post:16, topic:236511”][quote author=the bank link=topic=312158.msg2497542#msg2497542 date=1224468375]</p>
<p>[quote author=Yummy Cakes link=topic=312158.msg2497177#msg2497177 date=1224453615]<br>
8. flame the way frank_ does? are you trying to label the way i flame? i’ve ‘flamed’ this way for a long time you retarded faggot<br>
[/quote]Date Registered:  	October 13, 2008, 12:54:45 am</p>
<p>A very long time indeed.<br>
[/quote]B&amp;[/quote]I know that it is evasion.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/17</link>
        <pubDate>Mon, 20 Oct 2008 19:34:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-17</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@Pwnd Pwnd]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pwnd">@Pwnd</a> wrote:</p>
          <blockquote>
              <p>[quote=“the bank, post:15, topic:236511”][quote author=Yummy Cakes link=topic=312158.msg2497177#msg2497177 date=1224453615]<br>
8. flame the way frank_ does? are you trying to label the way i flame? i’ve ‘flamed’ this way for a long time you retarded faggot<br>
[/quote]Date Registered:  	October 13, 2008, 12:54:45 am</p>
<p>A very long time indeed.[/quote]B&amp;</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/16</link>
        <pubDate>Mon, 20 Oct 2008 04:28:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-16</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@the_bank the bank]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_bank">@the_bank</a> wrote:</p>
          <blockquote>
              <p>[quote=“Yummy Cakes, post:13, topic:236511”]8. flame the way frank_ does? are you trying to label the way i flame? i’ve ‘flamed’ this way for a long time you retarded faggot[/quote]Date Registered:  	October 13, 2008, 12:54:45 am</p>
<p>A very long time indeed.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/15</link>
        <pubDate>Mon, 20 Oct 2008 02:06:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-15</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@Unhandled Unhandled]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/unhandled">@Unhandled</a> wrote:</p>
          <blockquote>
              <p>We have well over 9000 gmods now, could one of them please distribute a mute?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/14</link>
        <pubDate>Sun, 19 Oct 2008 22:20:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-14</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@Yummy_Cakes Yummy Cakes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/yummy_cakes">@Yummy_Cakes</a> wrote:</p>
          <blockquote>
              <ol>
<li>ur a fucking idiot</li>
<li>fuck off</li>
<li>ur an idiot</li>
<li>ur an idiot</li>
<li>i was stating you cant do a simple *PUSH and expect to use the pushed value as a long. u gotta use I2L.</li>
<li>quit being a fag im not ‘acting smart’ im sorry it seems that way since ur a dumbass</li>
<li>because you want to point out every little mistake, the word is ‘respectful’ not ‘RESPECT FULL’ you piece of shit.</li>
<li>flame the way frank_ does? are you trying to label the way i flame? i’ve ‘flamed’ this way for a long time you retarded faggot</li>
</ol>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/13</link>
        <pubDate>Sun, 19 Oct 2008 22:00:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-13</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@qauters qauters]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/qauters">@qauters</a> wrote:</p>
          <blockquote>
              <p>[quote=“Yummy Cakes, post:11, topic:236511”]1. WOW SO SORRY I DONT KNOW INSTRUCTIONS BY HEART<br>
2. sdfu ur a retard<br>
3. retard<br>
4. i said u cant use simple *PUSH instructs cause they only go up to SIPUSH which only pushes up to 32767 or w/e<br>
5. fucking idiot<br>
6. fuck off ur an idiot - i said you use the constant pool if its value cannot be expressed with those types (i was expectin everyone 2 no u use I2L)<br>
7. oic[/quote]</p>
<ol>
<li>Then don’t act smart</li>
<li>…</li>
<li>…</li>
<li>“since it only goes up to SIPUSH which can only push a signed short” --&gt; -1 is within the boundaries of a SIPUSH, but it isn’t a long so your statement was completely invalid here.</li>
<li>… How old are you??</li>
<li>…, did I ever deny the fact you can load it from the cp. Also I2L takes less bytecode, so it’s not something bad.</li>
<li>…</li>
</ol>
<p>You could of course flame a bit more after this post, but that doesn’t make you look smarter.<br>
Also what made you think you can flame in a way frank_ does. Be respect full and read the rules.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/12</link>
        <pubDate>Sun, 19 Oct 2008 21:09:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-12</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@Yummy_Cakes Yummy Cakes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/yummy_cakes">@Yummy_Cakes</a> wrote:</p>
          <blockquote>
              <ol>
<li>WOW SO SORRY I DONT KNOW INSTRUCTIONS BY HEART</li>
<li>sdfu ur a retard</li>
<li>retard</li>
<li>i said u cant use simple *PUSH instructs cause they only go up to SIPUSH which only pushes up to 32767 or w/e</li>
<li>fucking idiot</li>
<li>fuck off ur an idiot - i said you use the constant pool if its value cannot be expressed with those types (i was expectin everyone 2 no u use I2L)</li>
<li>oic<br>
[center]<img src="http://www.moparisthebest.com/smf/Themes/default/images/warnwarn.gif" alt width="" height=""> He was nice to you and gave you no reason to be rude to him.  Clean up your act or you won’t last long around here.[/center]</li>
</ol>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/11</link>
        <pubDate>Sun, 19 Oct 2008 18:13:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-11</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@qauters qauters]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/qauters">@qauters</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="9" data-topic="236511">
<div class="title">
<div class="quote-controls"></div>
 Yummy Cakes:</div>
<blockquote>
<p>LDC and LDC_W2 are used to load large integers and longs from the constant pool… since it only goes up to SIPUSH which can only push a signed short to the stack. for something larger, you must have the value in the constant pool and use LDC for integer constants and LDC_W2 for long and double constants (W means wide index, 2 is to differenciate it from LDC_W)</p>
</blockquote>
</aside>
<p>Incase you didn’t notice, I already know the answer. Also what you are saying is wrong ^^<br>
LDC_W2 doesn’t exists since it’s LDC2_W. Also long values which aren’t 0 or 1 are always loaded from the constant pool. It has nothing to do with the size of an SIPUSH.<br>
You don’t even have to do it using the constant pool, since you can call ICONST_M1 I2L which does the same as LDC2_W L-1.<br>
But since asm didn’t have difference between LDC and LDC2_W, because it calculates afterwards. Which made one of my deobfuscation methods fail, because it converted an LDC L-1 to a BIPUSH -1 (since it did detect it couldn’t be an ICONST_M1).</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/10</link>
        <pubDate>Wed, 15 Oct 2008 10:30:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-10</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@Yummy_Cakes Yummy Cakes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/yummy_cakes">@Yummy_Cakes</a> wrote:</p>
          <blockquote>
              <p>LDC and LDC_W2 are used to load large integers and longs from the constant pool… since it only goes up to SIPUSH which can only push a signed short to the stack. for something larger, you must have the value in the constant pool and use LDC for integer constants and LDC_W2 for long and double constants (W means wide index, 2 is to differenciate it from LDC_W)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/9</link>
        <pubDate>Wed, 15 Oct 2008 03:01:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-9</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@qauters qauters]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/qauters">@qauters</a> wrote:</p>
          <blockquote>
              <p>[quote=“frank_, post:7, topic:236511”][quote author=Ollie link=topic=312158.msg2488997#msg2488997 date=1224002944]</p>
<aside class="quote no-group">
<blockquote>
<p>so I don’t know everything yet… Obviously…</p>
</blockquote>
</aside>
<p>you, frank_ or anyone else will never know everything, those who say they do, are gods, or liers.<br>
[/quote]<br>
<img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
<p>before jumping on the ASM bandwagon, you should have at least looked at the documentation[/quote]<br>
Hadn’t read it so far (it’s 140 pages…), as I thought that part wouldn’t help me much with what I needed to do.<br>
Just found out I could have created an easier get arguments instruction then I did ^^.</p>
<p>But that doesn’t matter really, because I got it completely converted. It’s a lot easier then BCEL onces you get the basics.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/8</link>
        <pubDate>Tue, 14 Oct 2008 22:43:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-8</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@frank frank_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/frank">@frank</a> wrote:</p>
          <blockquote>
              <p>[quote=“Ollie, post:6, topic:236511”][quote author=qauters link=topic=312158.msg2488691#msg2488691 date=1223981240]<br>
so I don’t know everything yet… Obviously…<br>
[/quote]<br>
you, frank_ or anyone else will never know everything, those who say they do, are gods, or liers.[/quote]<br>
<img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
<p>before jumping on the ASM bandwagon, you should have at least looked at the documentation</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/7</link>
        <pubDate>Tue, 14 Oct 2008 17:06:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-7</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@Ollie Ollie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ollie">@Ollie</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="5" data-topic="236511">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/qauters/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> qauters:</div>
<blockquote>
<p>so I don’t know everything yet… Obviously…</p>
</blockquote>
</aside>
<p>you, frank_ or anyone else will never know everything, those who say they do, are gods, or liers.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/6</link>
        <pubDate>Tue, 14 Oct 2008 16:49:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-6</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@qauters qauters]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/qauters">@qauters</a> wrote:</p>
          <blockquote>
              <p>[quote=“frank_, post:4, topic:236511”]ur a fuckin idiot</p>
<p>new Analyzer(new SourceInterpreter()).analyze() kgo[/quote]<br>
I started working on ASM 2 days ago, so I don’t know everything yet… Obviously…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/5</link>
        <pubDate>Tue, 14 Oct 2008 10:47:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-5</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@frank frank_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/frank">@frank</a> wrote:</p>
          <blockquote>
              <p>ur a fuckin idiot</p>
<p>new Analyzer(new SourceInterpreter()).analyze() kgo</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/4</link>
        <pubDate>Tue, 14 Oct 2008 05:27:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-4</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@qauters qauters]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/qauters">@qauters</a> wrote:</p>
          <blockquote>
              <p>[quote=“BAsh, post:2, topic:236511”]I’m pretty sure thats invalid bytecode. Bipush should push a byte which is 1. If you want to push a long you have to use lconst* or ldc.</p>
<p><a href="http://java.sun.com/docs/books/jvms/second_edition/html/Instructions2.doc1.html#bipush" class="onebox" target="_blank" rel="nofollow noopener">http://java.sun.com/docs/books/jvms/second_edition/html/Instructions2.doc1.html#bipush</a></p>
<p>Definitely invalid.</p>
<p>That said some stuff can get past the verifier but something like this shouldn’t. Maybe the code isn’t run?[/quote]<br>
My bad found the error already -.- I casted an LDC value to BIPUSH value on a different method <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> (because it was -1 :S)<br>
Since ASM doesn’t use LDC2_W in code, I forgot to check the type of the constant it uses.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/3</link>
        <pubDate>Mon, 13 Oct 2008 23:38:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-3</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@BAsh BAsh]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bash">@BAsh</a> wrote:</p>
          <blockquote>
              <p>I’m pretty sure thats invalid bytecode. Bipush should push a byte which is 1. If you want to push a long you have to use lconst* or ldc.</p>
<p><a href="http://java.sun.com/docs/books/jvms/second_edition/html/Instructions2.doc1.html#bipush" class="onebox" target="_blank" rel="nofollow noopener">http://java.sun.com/docs/books/jvms/second_edition/html/Instructions2.doc1.html#bipush</a></p>
<p>Definitely invalid.</p>
<p>That said some stuff can get past the verifier but something like this shouldn’t. Maybe the code isn’t run?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/2</link>
        <pubDate>Mon, 13 Oct 2008 23:11:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-2</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
      <item>
        <title>Stack calculation problem</title>
        <dc:creator><![CDATA[@qauters qauters]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/qauters">@qauters</a> wrote:</p>
          <blockquote>
              <p>I need to find the instructions used as argument for an instruction, but I’m having a problem with long related functions.<br>
The problem is I have the following bytecode:</p>
<pre><code class="lang-auto">ALOAD_0 
GETFIELD long dc.q 
BIPUSH #-1 
LXOR</code></pre>
<p>LXOR consumes 4. The GETFIELD produces 2, so the BIPUSH produces 2 at this time as well. But normally BIPUSH only produces 1, which is the problem I have.<br>
I can’t figure out an easy way to find out how much BIPUSH is actually producing.<br>
You have to think that this code is part of a larger code and that the BIPUSH could be in front of the GETFIELD as well. Also you work backwards  (starting at LXOR)</p>
<p>The only solution I could think of is keeping additional arrays which would tell that the current instruction I’m finding the stack values is a long (or a double). But that would be kinda messy.</p>
<p>Does anyone have an idea how to solve it? Threating LONG as 1 doesn’t work, since pop2 loses his value then ^^</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stack-calculation-problem/236511/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stack-calculation-problem/236511/1</link>
        <pubDate>Mon, 13 Oct 2008 22:48:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-236511-1</guid>
        <source url="https://forum.moparisthebest.com/t/stack-calculation-problem/236511.rss">Stack calculation problem</source>
      </item>
  </channel>
</rss>
