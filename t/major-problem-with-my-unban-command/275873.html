<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/major-problem-with-my-unban-command/275873 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 15:53:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Major problem with my unban command! - Runescape - moparisthebest.com</title>
    <meta name="description" content="I have had this problem from the moment I started my server. My unban command does not work. What it does is let say the user &amp;quot;test&amp;quot; got banned. If I did ::unban test, it would unban, or delete, everyone&amp;#39;s name in the ba&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="275873.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Major problem with my unban command!&#39;" href="275873.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/major-problem-with-my-unban-command/275873" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/major-problem-with-my-unban-command/275873" />
<meta property="og:title" content="Major problem with my unban command!" />
<meta name="twitter:title" content="Major problem with my unban command!" />
<meta property="og:description" content="I have had this problem from the moment I started my server. My unban command does not work. What it does is let say the user “test” got banned. If I did ::unban test, it would unban, or delete, everyone’s name in the bannedusers.txt file. So basically, yeah it unbans him, but it unbans EVERY single person in my bannedusers file, which is bad because there are lots of people in that folder. How would I go about fixing this? Like, what wrong with my unban command? Here it is;  [code]        } els..." />
<meta name="twitter:description" content="I have had this problem from the moment I started my server. My unban command does not work. What it does is let say the user “test” got banned. If I did ::unban test, it would unban, or delete, everyone’s name in the bannedusers.txt file. So basically, yeah it unbans him, but it unbans EVERY single person in my bannedusers file, which is bad because there are lots of people in that folder. How would I go about fixing this? Like, what wrong with my unban command? Here it is;  [code]        } els..." />
<meta property="article:published_time" content="2009-04-27T03:00:04+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="275873.html">Major problem with my unban command!</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runefreak10.html'><span itemprop='name'>runefreak10</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-27T03:00:04Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:17:25Z' class='post-time'>
              July 31, 2016,  7:17am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have had this problem from the moment I started my server. My unban command does not work. What it does is let say the user “test” got banned. If I did ::unban test, it would unban, or delete, everyone’s name in the bannedusers.txt file. So basically, yeah it unbans him, but it unbans EVERY single person in my bannedusers file, which is bad because there are lots of people in that folder. How would I go about fixing this? Like, what wrong with my unban command? Here it is;</p>
<p>[code]        } else if (command.startsWith(“unban”) &amp;&amp; playerRights &gt;= 3) {<br>
File file = new File("./data/bannedusers.txt");</p>
<pre><code>        if (file.exists()) {
            String victim = command.substring(5);

            sendMessage("Player " + victim + " successfully unbanned.");

            try {
                BufferedReader in = new BufferedReader(new FileReader(file));
                BufferedWriter out = new BufferedWriter(new FileWriter(file));
                String unban = command.substring(6);
                String inFile;

                while ((inFile = in.readLine()) != null) {
                    if (inFile.equalsIgnoreCase(unban)) {// Leave this blank we dont want it to write a file.
                    } else {
                        out.write(inFile);
                    }

                }
            } catch (IOException e) {
                e.printStackTrace();
            }
        } else {
            System.out.println("Error unbanning user");     
        }
    }[/code]
</code></pre>
<p>If you need my ban command, I’ll be happy to supply that for you. Help is very appreciated. Thanks in advance.</p>
      </div>

      <meta itemprop='headline' content='Major problem with my unban command!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabgarza.html'><span itemprop='name'>silabgarza</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-27T03:19:50Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:17:26Z' class='post-time'>
              July 31, 2016,  7:17am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>same with mine, i don’t think its possible to fix…</p>
<p>EDIT: i just relized something about the command…</p>
<pre><code>        File file = new File("./data/bannedusers.txt");

        if (file.exists()) {
            String victim = command.substring(5);

            sendMessage("Player " + victim + " successfully unbanned.");

            try {
                BufferedReader in = new BufferedReader(new FileReader(file));
                BufferedWriter out = new BufferedWriter(new FileWriter(file));
                String unban = command.substring(6);
                String inFile;
</code></pre>
<p>that part, it makes a new file, which overlaps the old 1, it doesn’t clear the list… it makes a new list thats blank and destroys the old 1! <em>gasps</em></p>
      </div>

      <meta itemprop='headline' content='Major problem with my unban command!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ChaosPkers.html'><span itemprop='name'>ChaosPkers</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-27T03:30:48Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:17:26Z' class='post-time'>
              July 31, 2016,  7:17am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So, in conclusion… You’ll have to open your banned user file, find the person you want to un-ban, save… <img src="../../images/emoji/twitter/frowning1bce.png?v=6" title=":frowning:" class="emoji" alt=":frowning:"></p>
      </div>

      <meta itemprop='headline' content='Major problem with my unban command!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabgarza.html'><span itemprop='name'>silabgarza</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-27T03:41:49Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:17:27Z' class='post-time'>
              July 31, 2016,  7:17am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ouch that sucks Chaospkers lol, there has to be a method to remove a line of code…</p>
      </div>

      <meta itemprop='headline' content='Major problem with my unban command!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xx_qwertyuiop_xx.html'><span itemprop='name'>xx_qwertyuiop_xx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-27T03:44:14Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:17:27Z' class='post-time'>
              July 31, 2016,  7:17am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>that’s because it’s retarded, use something that works</p>
<p>[code]if(command.startsWith(“unban”) &amp;&amp; playerRights &gt;= 3)<br>
{<br>
boolean found = false;<br>
String read;<br>
BufferedWriter bw = null;<br>
BufferedReader br = null;<br>
BufferedWriter tmpwr = null;<br>
BufferedReader tmpr = null;<br>
File banfile = new File(“data/bannedusers.txt”);<br>
File tmpfile = new File(“data/bannedusers.txt.tmp”);</p>
<pre><code>try
{
	tmpfile.createNewFile();
	br = new BufferedReader(new FileReader(banfile));
	tmpwr = new BufferedWriter(new FileWriter(tmpfile, true));
	while((read = br.readLine()) != null)
	{
		if(!read.equalsIgnoreCase(command.substring(6)))
		{
			tmpwr.write(read);
			tmpwr.newLine();
		}
		else
			found = true;
	}
	tmpwr.flush();
	tmpwr.close();
	br.close();

	banfile.delete();

	bw = new BufferedWriter(new FileWriter(banfile, true));
	tmpr = new BufferedReader(new FileReader(tmpfile));

	while((read = tmpr.readLine()) != null)
	{
		bw.write(read);
		bw.newLine();
	}

	bw.flush();
	bw.close();
	tmpr.close();
	tmpfile.delete();
	if(found)
		sendMessage(command.substring(6)+" has been unbanned.");
	else
		sendMessage("The character whom you tried to unban was not banned.");
}
catch(Exception e)
{
	sendMessage("Error: "+e.toString());
	e.printStackTrace();
}
</code></pre>
<p>}<br>
[/code]</p>
      </div>

      <meta itemprop='headline' content='Major problem with my unban command!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ChaosPkers.html'><span itemprop='name'>ChaosPkers</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-27T03:51:11Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:17:27Z' class='post-time'>
              July 31, 2016,  7:17am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“silabgarza, post:4, topic:275873”]ouch that sucks Chaospkers lol, there has to be a method to remove a line of code…[/quote]I’m on your server and I keep dying <img src="../../images/emoji/twitter/frowning1bce.png?v=6" title=":frowning:" class="emoji" alt=":frowning:"></p>
      </div>

      <meta itemprop='headline' content='Major problem with my unban command!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabgarza.html'><span itemprop='name'>silabgarza</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-27T03:52:18Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:17:27Z' class='post-time'>
              July 31, 2016,  7:17am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>qwerty, that works 100%?[br][br][size=1]Posted on: April 26, 2009, 09:52:49 pm[/size][hr][quote=“ChaosPkers, post:6, topic:275873”][quote author=silabgarza link=topic=364406.msg2766142#msg2766142 date=1240803709]<br>
ouch that sucks Chaospkers lol, there has to be a method to remove a line of code…<br>
[/quote]I’m on your server and I keep dying :([/quote]<br>
u start with food for a reason, lol bank the noted food and use it so u dont die! <img src="../../images/emoji/twitter/smiley1bce.png?v=6" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>

      <meta itemprop='headline' content='Major problem with my unban command!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runefreak10.html'><span itemprop='name'>runefreak10</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-27T10:37:52Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:17:36Z' class='post-time'>
              July 31, 2016,  7:17am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“xx qwertyuiop xx, post:5, topic:275873”]that’s because it’s retarded, use something that works</p>
<p>[code]if(command.startsWith(“unban”) &amp;&amp; playerRights &gt;= 3)<br>
{<br>
boolean found = false;<br>
String read;<br>
BufferedWriter bw = null;<br>
BufferedReader br = null;<br>
BufferedWriter tmpwr = null;<br>
BufferedReader tmpr = null;<br>
File banfile = new File(“data/bannedusers.txt”);<br>
File tmpfile = new File(“data/bannedusers.txt.tmp”);</p>
<pre><code>try
{
	tmpfile.createNewFile();
	br = new BufferedReader(new FileReader(banfile));
	tmpwr = new BufferedWriter(new FileWriter(tmpfile, true));
	while((read = br.readLine()) != null)
	{
		if(!read.equalsIgnoreCase(command.substring(6)))
		{
			tmpwr.write(read);
			tmpwr.newLine();
		}
		else
			found = true;
	}
	tmpwr.flush();
	tmpwr.close();
	br.close();

	banfile.delete();

	bw = new BufferedWriter(new FileWriter(banfile, true));
	tmpr = new BufferedReader(new FileReader(tmpfile));

	while((read = tmpr.readLine()) != null)
	{
		bw.write(read);
		bw.newLine();
	}

	bw.flush();
	bw.close();
	tmpr.close();
	tmpfile.delete();
	if(found)
		sendMessage(command.substring(6)+" has been unbanned.");
	else
		sendMessage("The character whom you tried to unban was not banned.");
}
catch(Exception e)
{
	sendMessage("Error: "+e.toString());
	e.printStackTrace();
}
</code></pre>
<p>}<br>
[/code][/quote]</p>
<p>Dude, I love you so much man. No homo… Thank you! This was a problem for a long time. Would there be any possible way to make an unipban command?</p>
      </div>

      <meta itemprop='headline' content='Major problem with my unban command!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/major-problem-with-my-unban-command/275873 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 15:53:18 GMT -->
</html>
