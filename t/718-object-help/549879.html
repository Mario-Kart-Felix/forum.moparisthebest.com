<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/718-object-help/549879 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>718 object help - Runescape - moparisthebest.com</title>
    <meta name="description" content="I&amp;#39;m trying to make make an object visible to a certain player. (ex. player clicks on lever and it spawns in a object he can only see) I understand part of it is in world file, but what all needs to be done, thanks :palm: &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="549879.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;718 object help&#39;" href="549879.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/718-object-help/549879" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/718-object-help/549879" />
<meta property="og:title" content="718 object help" />
<meta name="twitter:title" content="718 object help" />
<meta property="og:description" content="I’m trying to make make an object visible to a certain player. (ex. player clicks on lever and it spawns in a object he can only see) I understand part of it is in world file, but what all needs to be done, thanks :palm:" />
<meta name="twitter:description" content="I’m trying to make make an object visible to a certain player. (ex. player clicks on lever and it spawns in a object he can only see) I understand part of it is in world file, but what all needs to be done, thanks :palm:" />
<meta property="article:published_time" content="2015-02-13T20:36:19+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="549879.html">718 object help</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/levi_rosini.html'><span itemprop='name'>levi_rosini</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-02-13T20:36:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T14:22:05Z' class='post-time'>
              August 4, 2016,  2:22pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m trying to make make an object visible to a certain player. (ex. player clicks on lever and it spawns in a object he can only see) I understand part of it is in world file, but what all needs to be done, thanks :palm:</p>
      </div>

      <meta itemprop='headline' content='718 object help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-02-14T02:13:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T14:22:10Z' class='post-time'>
              August 4, 2016,  2:22pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don’t see a method for it specifically in the world class, so you’d have to create one.</p>
<p>Easiest way to do so (imo) would be modify the spawnObject method and add a player object to the arguments</p>
<p>Then below where it sends the packet to all players, you would check if the player object is null. If he is null, loop all players like normal and send the packet. If it’s not null, only send the packet for the single player.</p>
<p>You should also make another method called spawnObject <span class="bbcode-u">without</span> the player argument so it looks like this:</p>
<p><code>
	public static final void spawnObject(WorldObject object, boolean clip) {
		spawnObject(object, clip, null);
	}</code><br>
That way any code that was previously using spawnObject(object, boolean) will still act the way it was before, but now you have your added code.</p>
      </div>

      <meta itemprop='headline' content='718 object help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/levi_rosini.html'><span itemprop='name'>levi_rosini</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-02-14T09:13:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T14:22:15Z' class='post-time'>
              August 4, 2016,  2:22pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The null is giving me a error, what else needs to be added to the public static final void at the end</p>
      </div>

      <meta itemprop='headline' content='718 object help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-02-14T10:20:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T14:22:15Z' class='post-time'>
              August 4, 2016,  2:22pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You have to modify the exiting method so it takes a Player parameter.</p>
<p>And then you create the method I showed you above. If you do that it won’t give an error.</p>
      </div>

      <meta itemprop='headline' content='718 object help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/levi_rosini.html'><span itemprop='name'>levi_rosini</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-02-14T21:57:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T14:22:23Z' class='post-time'>
              August 4, 2016,  2:22pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The object is still being visible to other players</p>
      </div>

      <meta itemprop='headline' content='718 object help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-02-14T22:00:14Z'>
            <time itemprop='dateModified' datetime='2016-08-04T14:22:23Z' class='post-time'>
              August 4, 2016,  2:22pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="5" data-topic="549879">
<div class="title">
<div class="quote-controls"></div>
 levi_rosini@yahoo.com:</div>
<blockquote>
<p>The object is still being visible to other players</p>
</blockquote>
</aside>
<p>You need to modify the method…</p>
<p>There’s a loop inside the method that goes through and sends the packet to everyone.</p>
<p>You need to check if the player parameter is null or not… And if it is <span class="bbcode-b">NOT NULL</span> then only spawn it for the single player. if it is null, spawn it globally (for everyone).</p>
<p>I’ve already mentioned this in my first reply.</p>
      </div>

      <meta itemprop='headline' content='718 object help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/levi_rosini.html'><span itemprop='name'>levi_rosini</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-02-16T22:21:46Z'>
            <time itemprop='dateModified' datetime='2016-08-04T14:22:41Z' class='post-time'>
              August 4, 2016,  2:22pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorry I’m new to this part of coding :palm: in world my spawnobject is<br>
public static final void spawnObject(WorldObject object, boolean clip) {<br>
int regionId = object.getRegionId();<br>
getRegion(regionId).addObject(object);<br>
if (clip) {<br>
int baseLocalX = object.getX() - ((regionId &gt;&gt; 8) * 64);<br>
int baseLocalY = object.getY() - ((regionId &amp; 0xff) * 64);<br>
getRegion(regionId).addMapObject(object, baseLocalX, baseLocalY);<br>
}<br>
synchronized (players) {<br>
for (Player p2 : players) {<br>
if (p2 == null || !p2.hasStarted() || p2.hasFinished() || !p2.getMapRegionsIds().contains(regionId))<br>
continue;<br>
p2.getPackets().sendSpawnedObject(object);<br>
}<br>
}<br>
}</p>
<p>Then add object</p>
<pre><code>public void addObject(WorldObject object) {
	if (spawnedObjects == null)
		spawnedObjects = new CopyOnWriteArrayList&lt;WorldObject&gt;();
	spawnedObjects.add(object);
}
</code></pre>
<p>MapObject</p>
<pre><code>public void addMapObject(WorldObject object, int x, int y) {
	if (map == null)
		map = new RegionMap(regionId, false);
	if (clipedOnlyMap == null)
		clipedOnlyMap = new RegionMap(regionId, true);
	int plane = object.getPlane();
	int type = object.getType();
	int rotation = object.getRotation();
	if (x &lt; 0 || y &lt; 0 || x &gt;= map.getMasks()[plane].length
			|| y &gt;= map.getMasks()[plane][x].length)
		return;
	ObjectDefinitions objectDefinition = ObjectDefinitions
			.getObjectDefinitions(object.getId()); // load here

	if (type == 22 ? objectDefinition.getClipType() != 0 : objectDefinition
			.getClipType() == 0)
		return;
	if (type &gt;= 0 &amp;&amp; type &lt;= 3) {
		map.addWall(plane, x, y, type, rotation,
				objectDefinition.isProjectileCliped(), true);
		if (objectDefinition.isProjectileCliped())
			clipedOnlyMap.addWall(plane, x, y, type, rotation,
					objectDefinition.isProjectileCliped(), true);
	} else if (type &gt;= 9 &amp;&amp; type &lt;= 21) {
		int sizeX;
		int sizeY;
		if (rotation != 1 &amp;&amp; rotation != 3) {
			sizeX = objectDefinition.getSizeX();
			sizeY = objectDefinition.getSizeY();
		} else {
			sizeX = objectDefinition.getSizeY();
			sizeY = objectDefinition.getSizeX();
		}
		map.addObject(plane, x, y, sizeX, sizeY,
				objectDefinition.isProjectileCliped(), true);
		if (objectDefinition.isProjectileCliped())
			clipedOnlyMap.addObject(plane, x, y, sizeX, sizeY,
					objectDefinition.isProjectileCliped(), true);
	} else if (type == 22) {
		// map.addFloor(plane, x, y);
	}
}
</code></pre>
<p>I’m still confused on what I need to remake out of these, sorry for the newbie ness</p>
      </div>

      <meta itemprop='headline' content='718 object help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-02-17T00:07:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T14:22:44Z' class='post-time'>
              August 4, 2016,  2:22pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If you don’t understand what I’m saying or how to do what I’m saying, chances are you won’t understand how to even do it.<br>
You need to read up on the language of Java itself, and not “just for RSPS”.<br>
<a href="http://docs.oracle.com/javase/tutorial/" data-bbcode="true" rel="nofollow noopener">The Java™ Tutorials</a></p>
      </div>

      <meta itemprop='headline' content='718 object help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/718-object-help/549879 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:12 GMT -->
</html>
