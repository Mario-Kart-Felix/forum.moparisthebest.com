<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/355-client-refactoring-and-server/351598 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 17:03:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>355 Client Refactoring and Server - Runescape - moparisthebest.com</title>
    <meta name="description" content="Well, this a development topic for a project I&amp;#39;m starting. Basically, I&amp;#39;m taking a 355 deob and renaming it, which hasn&amp;#39;t been done before (as far as I know) and creating a server to go along with it. 

355 Client Right &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="351598.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;355 Client Refactoring and Server&#39;" href="351598.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://img839.imageshack.us/img839/3824/3552.png" />
<meta property="og:image" content="http://img839.imageshack.us/img839/3824/3552.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/355-client-refactoring-and-server/351598" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/355-client-refactoring-and-server/351598" />
<meta property="og:title" content="355 Client Refactoring and Server" />
<meta name="twitter:title" content="355 Client Refactoring and Server" />
<meta property="og:description" content="Well, this a development topic for a project I’m starting. Basically, I’m taking a 355 deob and renaming it, which hasn’t been done before (as far as I know) and creating a server to go along with it.  355 Client  Right now it loads the 377 cache, since I haven’t found anything else (However if you have a 355 or something less than 377, that’d be great :)). The Stream class is almost fully refactored, along with the Cryption class, and some other ones. A lot in the Client class is renamed, such ..." />
<meta name="twitter:description" content="Well, this a development topic for a project I’m starting. Basically, I’m taking a 355 deob and renaming it, which hasn’t been done before (as far as I know) and creating a server to go along with it.  355 Client  Right now it loads the 377 cache, since I haven’t found anything else (However if you have a 355 or something less than 377, that’d be great :)). The Stream class is almost fully refactored, along with the Cryption class, and some other ones. A lot in the Client class is renamed, such ..." />
<meta property="article:published_time" content="2010-07-28T07:21:02+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="3515984658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="351598.html">355 Client Refactoring and Server</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-28T07:21:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:10:41Z' class='post-time'>
              July 31, 2016,  6:10pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, this a development topic for a project I’m starting. Basically, I’m taking a 355 deob and renaming it, which hasn’t been done before (as far as I know) and creating a server to go along with it.</p>
<p><span class="bbcode-b">355 Client</span><br>
Right now it loads the 377 cache, since I haven’t found anything else (However if you have a 355 or something less than 377, that’d be great :)). The Stream class is almost fully refactored, along with the Cryption class, and some other ones. A lot in the Client class is renamed, such as the player/npc updating and login procedures.</p>
<p>Here are the client &gt; server packets I’ve found. I have created the full packet size list, and now finding packet IDs is really easy.</p>
<p><code>1   - Focus change
3   - Not sure
12  - Not sure
45  - Chat
69  - Walk normal
72  - Set chat options
74  - Not sure, but called in the cylce under a check for an unassigned variable.
75  - Action button click
124 - Walk on command
125 - The equivelent of the 317 packet 77, whatever that is...
134 - Not sure, but another time packet
136 - Rotate camera
137 - Clicked
139 - Unknown, I think something that tells the server it's time to do ...
159 - Minimap walk with extra junk
177 - Dealing with interfaces
191 - Command
192 - Log out from inactivity
207 - Move item
213 - Another timer packet
251 - Report player
253 - Idle packet</code></p>
<p><span class="bbcode-b">Server</span><br>
Progress on this has been pretty good. It uses my stable Lex server base, which used to be a 317. Currently, player updating, NPC updating, and walking is done.</p>
<p><code>3   - First object option
11  - Unknown, leads to many other packets including spawning objects
59  - Update NPCs
67  - Set ignore list
102 - Set client config
104 - Set multiple interface items
113 - Reset everything, including the socket (logout)
131 - Send message
149 - Set player context option
150 - Load map region
159 - Update players
165 - Not sure, but it deals with interface loading and resetting values
166 - Friend has logged in/out
167 - Set sidebar interface
173 - Send time left before system update
174 - Unknown
176 - Unknown
183 - Unknown, sets anInt1062
204 - Set interface text
205 - Open interface
220 - Send PM
233 - Set interface text color
235 - Unknown, sets anInt902 which deals with interfaces
236 - Unknown, resets anInt872
237 - Set the interface items (Resets existing)
248 - Unknown
253 - Set interface default media type and id</code></p>
<p>Here are the screenshots. This one is showing multiple player updating, along with right-clicking on all of them. And, when they all disconnect, nobody else disconnects and they’re removed just fine :). If I didn’t know any better, I would say it’s done!<br>
<img src="http://img839.imageshack.us/img839/3824/3552.png" alt width="" height=""></p>
<p>This is showing NPC updating. Walking is also done, but not important to show a screenshot for.<br>
<img src="http://img686.imageshack.us/img686/8016/3554.png" alt width="" height=""></p>
<p>Important screenshots will be posted here, and all others will be posted below in the replies.</p>
<p>~Lin</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/doom_j.html'><span itemprop='name'>doom_j</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-28T07:26:18Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:10:41Z' class='post-time'>
              July 31, 2016,  6:10pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Good job and good luck with your development. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-28T21:04:38Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:11:25Z' class='post-time'>
              July 31, 2016,  6:11pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“I Vain I”]Good luck, and here’s Server-to-Client packets, may have what you’re looking for.</p>
<p><a href="http://juden.net63.net/rsdocs/317/PACKETS_SERVER_TO_CLIENT.doc%5B/quote%5D...I" rel="nofollow noopener">http://juden.net63.net/rsdocs/317/PACKETS_SERVER_TO_CLIENT.doc[/quote]...I</a> hope you realize those are packet IDs for the 317 client… As you can tell from my post, the IDs are far different (I made a typo on the map region switch, it’s like 150). That documents is useless to me.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-28T22:23:34Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:11:29Z' class='post-time'>
              July 31, 2016,  6:11pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Are you going to make it so it will run in moparscape and then I can give you $100 bucks? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_elve_age.html'><span itemprop='name'>the_elve_age</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-28T23:31:39Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:11:33Z' class='post-time'>
              July 31, 2016,  6:11pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="4" data-topic="351598">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/moparisthebest/40/30_1.png" class="avatar"> Moparisthebest:</div>
<blockquote>
<p>Are you going to make it so it will run in moparscape and then I can give you <span class="bbcode-b">$300</span> bucks? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p><a class="mention" href="../../u/lin-2.html">@Lin</a> I have a 357 Cache if you need it.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-28T23:53:17Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:11:35Z' class='post-time'>
              July 31, 2016,  6:11pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“the elve age, post:5, topic:351598”][quote author=Moparisthebest link=topic=447951.msg3288228#msg3288228 date=1280355814]<br>
Are you going to make it so it will run in moparscape and then I can give you <span class="bbcode-b">$300</span> bucks? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]</p>
<p><a class="mention" href="../../u/lin-2.html">@Lin</a> I have a 357 Cache if you need it.[/quote]That would be awesome to have.</p>
<p>[quote=“Moparisthebest, post:4, topic:351598”]Are you going to make it so it will run in moparscape and then I can give you $100 bucks? :)[/quote]Well, that depends. Do you have the modpow part canceled out in the Stream class? <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-29T02:28:26Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:11:48Z' class='post-time'>
              July 31, 2016,  6:11pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>No problem I Vain I. Anyway, I modified my stable 317 C# server I never got anywhere with and right now logging and some packet sending is done:<br>
<img src="http://img819.imageshack.us/img819/1/3550.png" alt width="" height=""><br>
I should get somewhere with packet receiving later, since I have to build the client &gt; server packet size list myself, and if I’m lucky, player updating.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_elve_age.html'><span itemprop='name'>the_elve_age</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-29T02:57:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:11:55Z' class='post-time'>
              July 31, 2016,  6:11pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Lin, I have the client/cache for you. Gimme your msn, or I’ll post it here publicly.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_elve_age.html'><span itemprop='name'>the_elve_age</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-29T03:18:17Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:11:56Z' class='post-time'>
              July 31, 2016,  6:11pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“I Vain I”][quote author=the elve age link=topic=447951.msg3288515#msg3288515 date=1280372227]<br>
Lin, I have the client/cache for you. Gimme your msn, or I’ll post it here publicly.<br>
[/quote]Post here please?<br>
I’d like it as well, and I’ll gladly repay you for it. :)[/quote]</p>
<p>Sorry bud, you trolled my topic. I even asked you not too politely.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-29T11:00:00Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:12:16Z' class='post-time'>
              July 31, 2016,  6:12pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, I did all I wanted to tonight, which was add client &gt; server packets (I got 16 down) and get player updating working. Here’s a picture.<br>
<img src="http://img715.imageshack.us/img715/3168/3551.png" alt width="" height=""><br>
<span class="bbcode-s">Hopefully my fixes worked to stop the mismatched packet size when adding or disconnecting too many players.</span> As usual, I failed there again. I’m really not sure what’s going on, but hopefully I can fix it.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-29T20:05:06Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:12:43Z' class='post-time'>
              July 31, 2016,  6:12pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lin, post:6, topic:351598”][quote author=Moparisthebest link=topic=447951.msg3288228#msg3288228 date=1280355814]<br>
Are you going to make it so it will run in moparscape and then I can give you $100 bucks? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]Well, that depends. Do you have the modpow part canceled out in the Stream class? :P[/quote]<br>
I think you are confused:</p>
<p>[quote=“Moparisthebest, post:1, topic:261879”][size=24pt]I am now paying $100 for each open-source client and server combination that runs in MoparScape 4.1.[/size][/anchor]</p>
<p>You just have to download the released MoparScape source code and implement an interface for the client and one for the server:<br>
<a href="http://cache.hybridscape.com/MoparScapeSources.jar" class="onebox" target="_blank">http://cache.hybridscape.com/MoparScapeSources.jar</a></p>
<p>Both of the interfaces need to be implemented completely for the $100 payout, the server doesn’t need to be much at all, as long as logging in and walking around is supported it is good enough for me.  The server doesn’t even have to be written by you, as long as the license allows you to modify and redistribute it.  The server jar is delivered in a zip file that contains the jar with the code as well as the files the server needs to run.  For an example of the correct structure, have a look at:<br>
<a href="http://graveman.info/server317.zip" class="onebox" target="_blank">http://graveman.info/server317.zip</a></p>
<p>I will only pay this fee on a first come first serve basis for each version number.  For example, if I get 5 PMs tomorrow all from different people who implemented this for 525 only the first will be paid.</p>
<p><span class="bbcode-u">Versions already completed, and who by:</span></p>
<p>[ul][li]317 - moparisthebest[/li]<br>
[li]508 - moparisthebest[/li][/ul]</p>
<p>As always, if you have any questions or concerns post them.[/quote]</p>
<p>You can write the client however you want, you just implement an interface and then it will run in moparscape.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_elve_age.html'><span itemprop='name'>the_elve_age</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-29T20:45:13Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:12:47Z' class='post-time'>
              July 31, 2016,  6:12pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Lin, what did it come to when I gave you the 421 RAW?</p>
<p>And are you using the 457? Why not just make a 457 client…?</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-29T23:15:15Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:13:02Z' class='post-time'>
              July 31, 2016,  6:13pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“the elve age, post:12, topic:351598”]Lin, what did it come to when I gave you the 421 RAW?</p>
<p>And are you using the 457? Why not just make a 457 client…?[/quote]Gee, it surely would make a lot of sense to throw away all the refactoring and packet discovering I’ve done, just to make the client match up two revisions with the cache! And I did nothing with the 421 cache. It’s basically useless.</p>
<p>[quote=“Moparisthebest, post:11, topic:351598”][quote author=Lin link=topic=447951.msg3288325#msg3288325 date=1280361197]</p>
<aside class="quote no-group">
<blockquote>
<p>Are you going to make it so it will run in moparscape and then I can give you $100 bucks? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]Well, that depends. Do you have the modpow part canceled out in the Stream class? <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
</blockquote>
</aside>
<p>You can write the client however you want, you just implement an interface and then it will run in moparscape.[/quote]Oh, all right. Also, you should update your requirements to have NPC updating, because that kind of makes the server useless. And a question: After I sell it to you, what are the restrictions on the server after that?</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_elve_age.html'><span itemprop='name'>the_elve_age</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-30T02:10:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:13:15Z' class='post-time'>
              July 31, 2016,  6:13pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="13" data-topic="351598">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/lin/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> Lin:</div>
<blockquote>
<p>Gee, it surely would make a lot of sense to throw away all the refactoring and packet discovering I’ve done, just to make the client match up two revisions with the cache!</p>
</blockquote>
</aside>
<p>Have you really done that much? But its obviously your choice and not mine. So good luck.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-30T02:51:57Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:13:17Z' class='post-time'>
              July 31, 2016,  6:13pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lin, post:6, topic:351598”][quote author=Moparisthebest link=topic=447951.msg3288228#msg3288228 date=1280355814]<br>
Are you going to make it so it will run in moparscape and then I can give you $100 bucks? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]Well, that depends. Do you have the modpow part canceled out in the Stream class? :P[/quote]…You mean the RSA encryption. And yes, if you’ve ever bothered to look at any clean client refactor, you’d see most (if not all) people just comment out the encryptRSA/whatever-the-fuck-you-want-to-call-it method invocation in the login block.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-30T05:04:42Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:13:24Z' class='post-time'>
              July 31, 2016,  6:13pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“the elve age, post:14, topic:351598”][quote author=Lin link=topic=447951.msg3289570#msg3289570 date=1280445315]<br>
Gee, it surely would make a lot of sense to throw away all the refactoring and packet discovering I’ve done, just to make the client match up two revisions with the cache!<br>
[/quote]</p>
<p>Have you really done that much? But its obviously your choice and not mine. So good luck.[/quote]Actually, I’ve only refactored 15 classes, but there’s some others I know the names of but haven’t gotten around to doing so.</p>
<p>[quote=“abraham2119, post:15, topic:351598”][quote author=Lin link=topic=447951.msg3288325#msg3288325 date=1280361197]</p>
<p>[quote author=Moparisthebest link=topic=447951.msg3288228#msg3288228 date=1280355814]<br>
Are you going to make it so it will run in moparscape and then I can give you $100 bucks? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]Well, that depends. Do you have the modpow part canceled out in the Stream class? <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
[/quote]…You mean the RSA encryption. And yes, if you’ve ever bothered to look at any clean client refactor, you’d see most (if not all) people just comment out the encryptRSA/whatever-the-fuck-you-want-to-call-it method invocation in the login block.[/quote]It’s called a joke.</p>
<p>Anyways, I figured out why the client was crashing. For some reason, instead of using the continue keyword, I used return. I’m not sure what was going through my head at the time, but the mismatched packet size no longer occurs. However, it’s not possible to click on another player who’s on the same spot as another player. This puzzles me too. Hopefully I’ll fix it though.</p>
<p><span class="bbcode-b">Edit: </span>Player updating SEEMS (for now) to be working wonderfully. I haven’t seen any bugs yet. Here’s a screenshot of it.<br>
<img src="http://img839.imageshack.us/img839/3824/3552.png" alt width="" height=""></p>
<p><span class="bbcode-b">Edit 2:</span> It seems I’m unable to right-click on the first player if I logged in after it did. I’ll have to look into it. I’m going to bed now though.</p>
<p><span class="bbcode-b">Edit 3:</span> I managed to get 351 players in one region all updating at once (mind you there is a 255 other player limit in the client), and I haven’t tried more simply because I don’t have the hardware to. If I hit around atleast 200 the client starts to lock up and unresponsive the majority of the time, so it’s hard to do benchmarks.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-30T18:30:29Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:13:59Z' class='post-time'>
              July 31, 2016,  6:13pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Stream and Cryption nice</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Vengeance.html'><span itemprop='name'>_Vengeance</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-30T21:52:42Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:14:22Z' class='post-time'>
              July 31, 2016,  6:14pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“the elve age, post:5, topic:351598”][quote author=Moparisthebest link=topic=447951.msg3288228#msg3288228 date=1280355814]<br>
Are you going to make it so it will run in moparscape and then I can give you <span class="bbcode-b">$300</span> bucks? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]</p>
<p><a class="mention" href="../../u/lin-2.html">@Lin</a> I have a 357 Cache if you need it.[/quote]</p>
<p>I would like this.</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-30T22:38:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:14:25Z' class='post-time'>
              July 31, 2016,  6:14pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, good news. I found out the client doesn’t really allow 0-indexed players, which was what my problem was. So it’s fixed and player updating looks to be perfect. Hooray, time to move onto walking!</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_elve_age.html'><span itemprop='name'>the_elve_age</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T22:58:00Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:15:40Z' class='post-time'>
              July 31, 2016,  6:15pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="19" data-topic="351598">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/lin/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> Lin:</div>
<blockquote>
<p>Well, good news. I found out the client doesn’t really allow 0-indexed players, which was what my problem was. So it’s fixed and player updating looks to be perfect. Hooray, time to move onto walking!</p>
</blockquote>
</aside>
<p>Are you going to add path finding soon? When you have walking/running/following down?</p>
      </div>

      <meta itemprop='headline' content='355 Client Refactoring and Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="3515984658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/355-client-refactoring-and-server/351598 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 17:03:28 GMT -->
</html>
