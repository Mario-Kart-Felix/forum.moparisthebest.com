<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-private-messaging-display-names/491635 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 07:25:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PI] Private Messaging + display names - Runescape - moparisthebest.com</title>
    <meta name="description" content="So I&amp;#39;m adding display names into my server, and I want my private chat to update player names as the display names, so if it changes people don&amp;#39;t have to re-add others. Currently, if you change display names, you have to&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="491635.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PI] Private Messaging + display names&#39;" href="491635.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-private-messaging-display-names/491635" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-private-messaging-display-names/491635" />
<meta property="og:title" content="[PI] Private Messaging + display names" />
<meta name="twitter:title" content="[PI] Private Messaging + display names" />
<meta property="og:description" content="So I’m adding display names into my server, and I want my private chat to update player names as the display names, so if it changes people don’t have to re-add others.  Currently, if you change display names, you have to ‘re-add’ the user… Yeah, annoying as fuck. Right?  This is either in PrivateMessaging.java or PlayerAssistant.java [I think]  	public void loadPM(long playerName, int world) { 		synchronized(c) { 			if(c.getOutStream() != null &amp;&amp; c != null) { 				if(world != 0) { 		            ..." />
<meta name="twitter:description" content="So I’m adding display names into my server, and I want my private chat to update player names as the display names, so if it changes people don’t have to re-add others.  Currently, if you change display names, you have to ‘re-add’ the user… Yeah, annoying as fuck. Right?  This is either in PrivateMessaging.java or PlayerAssistant.java [I think]  	public void loadPM(long playerName, int world) { 		synchronized(c) { 			if(c.getOutStream() != null &amp;&amp; c != null) { 				if(world != 0) { 		            ..." />
<meta property="article:published_time" content="2013-02-21T07:03:48+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="491635.html">[PI] Private Messaging + display names</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-21T07:03:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:41:54Z' class='post-time'>
              August 4, 2016,  3:41am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So I’m adding display names into my server, and I want my private chat to <span class="bbcode-b">update</span> player names as the display names, so if it changes people don’t have to re-add others.<br>
Currently, if you change display names, you have to ‘re-add’ the user… Yeah, annoying as fuck. Right?</p>
<p>This is either in PrivateMessaging.java or PlayerAssistant.java [I think]</p>
<pre><code class="lang-auto">	public void loadPM(long playerName, int world) {
		synchronized(c) {
			if(c.getOutStream() != null &amp;&amp; c != null) {
				if(world != 0) {
		            world += 9;
				} else if(!Config.WORLD_LIST_FIX) {
					world += 1;
				}	
				c.getOutStream().createFrame(50);
					c.getOutStream().writeQWord(playerName);
				c.getOutStream().writeByte(world);
				c.flushOutStream();
			}
		}
	}</code></pre>
<p>That code is in my PlayerAssistant class. The issue is playerName. displayName (the variable for display names) is a string, and it needs to be a long. So naturally, I converted it using:<br>
Long someName = Long.valueOf(displayName);</p>
<p>That didn’t work.<br>
So I tried:<br>
Misc.playerNameToInt64(displayName);<br>
That fucked the server.</p>
<p>Now it’s back to default (the code shown above). and has the issue I’ve described.</p>
<p>Issue 2:</p>
<p>My Private messaging system is a little screwy. It’s set to default (idk why) friends only. So each user has to add each other to see whom’s online. But it show’s the green “On” on that little tab under the chat box. Idk where to look or what could cause this… So I’m open to suggestions.</p>
      </div>

      <meta itemprop='headline' content='[PI] Private Messaging + display names'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-21T08:37:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:41:55Z' class='post-time'>
              August 4, 2016,  3:41am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I haven’t read through all of that but you could try something like…</p>
<pre><code class="lang-auto"></code></pre>
<p>Assuming you had a boolean set to true when the name has been changed</p>
<p>Or could you not edit your code to longs instead of strings and then convert them?</p>
      </div>

      <meta itemprop='headline' content='[PI] Private Messaging + display names'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-21T09:01:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:41:56Z' class='post-time'>
              August 4, 2016,  3:41am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ohokay, post:2, topic:491635”]I haven’t read through all of that but you could try something like…</p>
<pre><code class="lang-auto"></code></pre>
<p>Assuming you had a boolean set to true when the name has been changed</p>
<p>Or could you not edit your code to longs instead of strings and then convert them?[/quote]<br>
I followed a few snippits to make the code for my display name… And well… It’s probably not the best.</p>
<p>I tried converting em, as state above, and it just ruined my pm system.</p>
      </div>

      <meta itemprop='headline' content='[PI] Private Messaging + display names'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-21T09:09:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:41:56Z' class='post-time'>
              August 4, 2016,  3:41am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:3, topic:491635”][quote author=ohokay link=topic=609869.msg4233709#msg4233709 date=1361435825]<br>
I haven’t read through all of that but you could try something like…</p>
<pre><code class="lang-auto"></code></pre>
<p>Assuming you had a boolean set to true when the name has been changed</p>
<p>Or could you not edit your code to longs instead of strings and then convert them?<br>
[/quote]<br>
I followed a few snippits to make the code for my display name… And well… It’s probably not the best.</p>
<p>I tried converting em, as state above, and it just ruined my pm system.[/quote]</p>
<p>I’m sure all pming is done by converting the playerName to long. You can try changing your display name methods around to accept longs instead of strings, and then converting them back</p>
      </div>

      <meta itemprop='headline' content='[PI] Private Messaging + display names'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-21T09:17:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:41:57Z' class='post-time'>
              August 4, 2016,  3:41am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yes, it uses this:</p>
<pre><code class="lang-auto">Misc.playerNameToInt64(c.displayName)</code></pre>
<p>And well… I tried that too. messed the system up too</p>
<p>Edit… If there is a way I could update the private chat on display name change, so it replaces them that would literally solve everything.</p>
      </div>

      <meta itemprop='headline' content='[PI] Private Messaging + display names'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-21T14:53:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:44:00Z' class='post-time'>
              August 4, 2016,  3:44am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:5, topic:491635”]Yes, it uses this:</p>
<pre><code class="lang-auto">Misc.playerNameToInt64(c.displayName)</code></pre>
<p>And well… I tried that too. messed the system up too</p>
<p>Edit… If there is a way I could update the private chat on display name change, so it replaces them that would literally solve everything.[/quote]</p>
<p>Show me where you got the display name stuff from</p>
      </div>

      <meta itemprop='headline' content='[PI] Private Messaging + display names'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-21T22:53:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:45:41Z' class='post-time'>
              August 4, 2016,  3:45am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Player.java:</p>
<pre><code class="lang-auto">public String displayName = "notset";</code></pre>
<p>and</p>
<pre><code class="lang-auto"></code></pre>
<p>Client.java</p>
<p><code>
		if (displayName.equalsIgnoreCase("notset")) {
			displayName = playerName;
		}
</code> (just a check to pick what name is shown)</p>
      </div>

      <meta itemprop='headline' content='[PI] Private Messaging + display names'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-private-messaging-display-names/491635 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 07:25:04 GMT -->
</html>
