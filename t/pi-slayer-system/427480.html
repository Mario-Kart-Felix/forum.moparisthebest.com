<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-slayer-system/427480 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 07:15:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PI] Slayer System - Runescape - moparisthebest.com</title>
    <meta name="description" content="Difficulty: 1/10 Time Needed: 5 Minutes What you are adding: A slayer system that is handled through enums, and instead of a difficulty automatically being assigned to you, you choose one. 

First: Replace your Slayer c&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="427480.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PI] Slayer System&#39;" href="427480.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-slayer-system/427480" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-slayer-system/427480" />
<meta property="og:title" content="[PI] Slayer System" />
<meta name="twitter:title" content="[PI] Slayer System" />
<meta property="og:description" content="Difficulty: 1/10  Time Needed: 5 Minutes  What you are adding: A slayer system that is handled through enums, and instead of a difficulty automatically being assigned to you, you choose one.  First:  Replace your Slayer class with mine, don’t forget to change the packaging/importing.  [CODE=java]/**   Slayer Class  @author Jili X I  @date 12/14/11  */  package server.model.content.skills;  import server.Config;  import server.model.npcs.NPCHandler;  import server.model.players.Client;  import ..." />
<meta name="twitter:description" content="Difficulty: 1/10  Time Needed: 5 Minutes  What you are adding: A slayer system that is handled through enums, and instead of a difficulty automatically being assigned to you, you choose one.  First:  Replace your Slayer class with mine, don’t forget to change the packaging/importing.  [CODE=java]/**   Slayer Class  @author Jili X I  @date 12/14/11  */  package server.model.content.skills;  import server.Config;  import server.model.npcs.NPCHandler;  import server.model.players.Client;  import ..." />
<meta property="article:published_time" content="2011-12-31T05:31:06+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="427480.html">[PI] Slayer System</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/itai.html'><span itemprop='name'>itai</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-31T05:31:06Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:56:20Z' class='post-time'>
              August 2, 2016,  2:56pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><span class="bbcode-b"><br>
Difficulty: 1/10<br>
Time Needed: 5 Minutes<br>
What you are adding:</span> A slayer system that is handled through enums, and instead of a difficulty automatically being assigned to you, you choose one.</p>
<p><span class="bbcode-b">First:</span><br>
Replace your Slayer class with mine, don’t forget to change the packaging/importing.</p>
<p>[CODE=java]/**</p>
<ul>
<li>Slayer Class</li>
<li>
<span class="mention">@author</span> Jili X I</li>
<li>
<a class="mention" href="../../u/date.html">@date</a> 12/14/11<br>
*/</li>
</ul>
<p>package server.model.content.skills;</p>
<p>import server.Config;<br>
import server.model.npcs.NPCHandler;<br>
import server.model.players.Client;<br>
import server.model.players.PlayerHandler;<br>
import server.util.Misc;</p>
<p>public class Slayer {</p>
<pre><code>public static SlayerTask getEasyTask(Client c){
	SlayerTask task = null;
	do {
		task = EasyTask.values()[(int)(Math.random()*EasyTask.values().length)];
	} while(task.getReq() &gt;= c.playerLevel[c.playerSlayer]);
		String description = task.getDesc();
		c.slayerTask = task.getId();
		c.taskAmount = Misc.random(50) + 25;
		c.sendMessage("You have been assigned to kill " + c.taskAmount + " " + description + ".");
		return task;
}

public static SlayerTask getMediumTask(Client c) {
	SlayerTask task = null;
	do {
		task = MediumTask.values()[(int)(Math.random()*MediumTask.values().length)];
	} while(task.getReq() &gt;= c.playerLevel[c.playerSlayer]);
		String description = task.getDesc();
		c.slayerTask = task.getId();
		c.taskAmount = Misc.random(70) + 25;
		c.sendMessage("You have been assigned to kill " + c.taskAmount + " " + description + ".");
		return task;		
}

public static SlayerTask getHardTask(Client c) {
	SlayerTask task = null;
	do {
		task = HardTask.values()[(int)(Math.random()*HardTask.values().length)];
	} while(task.getReq() &gt;= c.playerLevel[c.playerSlayer]);
		String description = task.getDesc();
		c.slayerTask = task.getId();
		c.taskAmount = Misc.random(90) + 25;
		c.sendMessage("You have been assigned to kill " + c.taskAmount + " " + description + ".");
		return task;			
}

public boolean canSlay(Client c, int i) {
	for(EasyTask e : EasyTask.values()) {
		if(c.playerLevel[c.playerSlayer] &lt; e.getReq() &amp;&amp; NPCHandler.npcs[i].npcType == e.getId())
			return false;
	}
	for(MediumTask m: MediumTask.values()) {
		if(c.playerLevel[c.playerSlayer] &lt; m.getReq() &amp;&amp; NPCHandler.npcs[i].npcType == m.getId())
			return false;
	}
	for(HardTask h: HardTask.values()) {
		if(c.playerLevel[c.playerSlayer] &lt; h.getReq() &amp;&amp; NPCHandler.npcs[i].npcType == h.getId())
			return false;
	}
	for(NonTask n: NonTask.values()) {
		if(c.playerLevel[c.playerSlayer] &lt; n.getReq() &amp;&amp; NPCHandler.npcs[i].npcType == n.getId())
			return false;
	}
	return true;
}

public void appendSlayerExperience(int i) {
	Client c = (Client)PlayerHandler.players[NPCHandler.npcs[i].killedBy];
	if(c != null) {
		if (c.slayerTask == NPCHandler.npcs[i].npcType){
			c.taskAmount--;
			c.getPA().addSkillXP(NPCHandler.npcs[i].MaxHP * Config.SLAYER_EXPERIENCE, c.playerSlayer);
			if (c.taskAmount &lt;= 0) {
				c.getPA().addSkillXP((NPCHandler.npcs[i].MaxHP * 8) * Config.SLAYER_EXPERIENCE, c.playerSlayer);
				c.slayerTask = -1;
				c.sendMessage("You have completed your slayer task, please see the slayer master to get a new one.");
			}
		}
	}
}

interface SlayerTask {
	public int getId();
	public int getReq();
	public String getDesc();
}

enum EasyTask implements SlayerTask {
	YAK(5529, 1, "Yak's"),
	GOBLIN(101, 1, "Goblin's"),
	ROCK_CRAB(1265, 1, "Rock Crab's"),
	AL_KHARID_WARRIOR(18, 1, "Al-Kharid Warrior's"),
	CHAOS_DRUID(181, 1, "Chaos Druid's"),
	GHOST(103, 1, "Ghost's"),
	GIANT_BAT(78, 1, "Giant Bat's"),
	HILL_GIANT(117, 1, "Hill Giants"),
	CHAOS_DWARF(119, 1, "Chaos Dwarf's"),
	CRAWLING_HAND(1648, 5, "Crawling hand's"),
	BANSHEE(1612, 15, "Banshee's");
	
	private int id, req;
	private String desc;
	
	EasyTask(int id, int req, String desc) {
		this.id = id;
		this.req = req;
		this.desc = desc;
	}

	@Override
	public int getId() {
		return id;
	}

	@Override
	public int getReq() {
		return req;
	}

	@Override
	public String getDesc() {
		return desc;
	}
	
	

}

enum MediumTask implements SlayerTask {
	MOSS_GIANT(112, 1, "Moss Giant's"),
	ICE_WARRIOR(125, 1, "Ice Warrior's"),
	BABY_BLUE_DRAGON(48, 1, "Baby Blue Dragon's"),
	INFERNAL_MAGE(1643, 45, "Infernal Mage's"),
	BLOODVELD(1618, 50, "Bloodveld's"),
	GREEN_DRAGON(1610, 1, "Green Dragon's"),
	LESSER_DEMON(82, 1, "Lesser Demon's"),
	DAGANNOTH(1341, 1, "Dagannoth's");
	
	private int id, req;
	private String desc;
	
	MediumTask(int id, int req, String desc) {
		this.id = id;
		this.req = req;
		this.desc = desc;
	}

	@Override
	public int getId() {
		return id;
	}

	@Override
	public int getReq() {
		return req;
	}

	@Override
	public String getDesc() {
		return desc;
	}
}

enum HardTask implements SlayerTask {
	DUST_DEVIL(1624, 65, "Dust Devil's"),
	GARGOYLE(1610, 75, "Gargoyle's"),
	NECHRYAEL(1613, 80, "Nechryael's"),
	ABYSSAL_DEMON(1615, 85, "Abyssal Demon's"),
	DARK_BEAST(2783, 90, "Dark Beast's"),
	BLUE_DRAGON(55, 1, "Blue Dragon's"),
	BLACK_DEMON(84, 1, "Black Demon's"),
	HELL_HOUND(49, 1, "Hell Hound's");
	
	
	private int id, req;
	private String desc;
	
	HardTask(int id, int req, String desc) {
		this.id = id;
		this.req = req;
		this.desc = desc;
	}

	@Override
	public int getId() {
		return id;
	}

	@Override
	public int getReq() {
		return req;
	}

	@Override
	public String getDesc() {
		return desc;
	}
}

enum NonTask implements SlayerTask {
	ICE_STRYKEWYRM(9463, 93, "Ice Strykewyrm's"),
	DESERT_STRYKEWYRM(9465, 77, "Desert Strykewyrm's"),
	JUNGLE_STRYKEWYRM(9467, 73, "Jungle Strykewyrm's");
	
	private int id, req;
	private String desc;
	
	NonTask(int id, int req, String desc) {
		this.id = id;
		this.req = req;
		this.desc = desc;
	}

	@Override
	public int getId() {
		return id;
	}

	@Override
	public int getReq() {
		return req;
	}

	@Override
	public String getDesc() {
		return desc;
	}
}
</code></pre>
<p>}[/CODE]<br>
That is seperating slayer tasks into 3 enums: easy, medium, and hard. This is good because you can use to allow users to choose slayer difficulty, split them between multiple slayer masters, or do it based on combat. This also grabs the requirements from the enums instead of from a array located in combat assistant.</p>
<p><span class="bbcode-b">Second:</span><br>
Go into your CombatAssistant class and delete:</p>
<p>[CODE=java]	public int[][] slayerReqs = {<br>
{1648,5},{1612,15},{1643,45},{1618,50},{1624,65},<br>
{1610,75},{1613,80},{1615,85},{2783,90}<br>
};</p>
<pre><code>public boolean goodSlayer(int i) {
	for (int j = 0; j &lt; slayerReqs.length; j++) {
		if (slayerReqs[j][0] == Server.npcHandler.npcs[i].npcType) {
			if (slayerReqs[j][1] &gt; c.playerLevel[c.playerSlayer]) {
				c.sendMessage("You need a slayer level of " + slayerReqs[j][1] + " to harm this NPC.");
				return false;
			}
		}
	}
	return true;
}[/CODE]
</code></pre>
<p>Then replace:</p>
<p><code>			if (!goodSlayer(i)) {
				resetPlayerAttack();
				return;
			}</code><br>
with</p>
<p><code>			if (!c.getSlayer().canSlay(c, i)) {
				resetPlayerAttack();
				return;
			}</code><br>
That is loading requirements from Slayer class instead of from CombatAssistant class.</p>
<p><span class="bbcode-b">Third:</span><br>
Go into your NPCHandler class and delete:</p>
<p><code>	/**
	* Slayer Experience
	**/	
	public void appendSlayerExperience(int i) {
		int npc = 0;
		Client c = (Client)Server.playerHandler.players[npcs[i].killedBy];
		if(c != null) {
			if (c.slayerTask == npcs[i].npcType){
				c.taskAmount--;
				c.getPA().addSkillXP(npcs[i].MaxHP * Config.SLAYER_EXPERIENCE, 18);
				if (c.taskAmount &lt;= 0) {
					c.getPA().addSkillXP((npcs[i].MaxHP * 8) * Config.SLAYER_EXPERIENCE, 18);
					c.slayerTask = -1;
					c.sendMessage("You completed your slayer task. Please see a slayer master to get a new one.");
				}
			}
		}
	}</code><br>
Then replace:</p>
<pre><code class="lang-auto"></code></pre>
<p>with</p>
<p><code>Client c = (Client)PlayerHandler.players[NPCHandler.npcs[i].killedBy];
c.getSlayer().appendSlayerExperience(i);</code><br>
That is loading experience from Slayer class instead of NPCHandler class.</p>
<p><span class="bbcode-b">Credits:</span><br>
-Me<br>
-Those who helped me.</p>
<p><span class="bbcode-b"><span class="bbcode-i">NOTE: To make this work you will have to add some way of giving a play the option of choosing between: Easy, medium, and hard tasks.</span></span></p>
      </div>

      <meta itemprop='headline' content='[PI] Slayer System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/johnl17.html'><span itemprop='name'>johnl17</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-31T23:55:57Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:57:33Z' class='post-time'>
              August 2, 2016,  2:57pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Nice work Repped <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='[PI] Slayer System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/wildskiller.html'><span itemprop='name'>wildskiller</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-01T03:04:33Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:57:52Z' class='post-time'>
              August 2, 2016,  2:57pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>SNIPPET</p>
<p>I did not post this^<br>
I swear someone is messing with me.  <img src="../../images/emoji/twitter/expressionlessae52.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"> <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"> <img src="../../images/emoji/twitter/expressionlessae52.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"> <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"><br>
I don’t make these useless posts</p>
      </div>

      <meta itemprop='headline' content='[PI] Slayer System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/itai.html'><span itemprop='name'>itai</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-01T06:26:38Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:58:03Z' class='post-time'>
              August 2, 2016,  2:58pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="3" data-topic="427480">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/wildskiller/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> wildskiller:</div>
<blockquote>
<p>SNIPPET</p>
</blockquote>
</aside>
<p>That was, quite frankly, a useless post; nonetheless, I went back and explained the code.</p>
      </div>

      <meta itemprop='headline' content='[PI] Slayer System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/johnl17.html'><span itemprop='name'>johnl17</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-01T06:31:03Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:58:03Z' class='post-time'>
              August 2, 2016,  2:58pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="3" data-topic="427480">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/wildskiller/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> wildskiller:</div>
<blockquote>
<p>SNIPPET</p>
</blockquote>
</aside>
<p>Ill violate your mum!</p>
      </div>

      <meta itemprop='headline' content='[PI] Slayer System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/MrFun.html'><span itemprop='name'>MrFun</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-08T17:49:17Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:04:39Z' class='post-time'>
              August 3, 2016,  3:04am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“itai, post:1, topic:427480”]<span class="bbcode-b"><br>
Difficulty: 1/10<br>
Time Needed: 5 Minutes<br>
What you are adding:</span> A slayer system that is handled through enums, and instead of a difficulty automatically being assigned to you, you choose one.</p>
<p><span class="bbcode-b">First:</span><br>
Replace your Slayer class with mine, don’t forget to change the packaging/importing.</p>
<p>[CODE=java]/**</p>
<ul>
<li>Slayer Class</li>
<li>
<span class="mention">@author</span> Jili X I</li>
<li>
<a class="mention" href="../../u/date.html">@date</a> 12/14/11<br>
*/</li>
</ul>
<p>package server.model.content.skills;</p>
<p>import server.Config;<br>
import server.model.npcs.NPCHandler;<br>
import server.model.players.Client;<br>
import server.model.players.PlayerHandler;<br>
import server.util.Misc;</p>
<p>public class Slayer {</p>
<pre><code>public static SlayerTask getEasyTask(Client c){
	SlayerTask task = null;
	do {
		task = EasyTask.values()[(int)(Math.random()*EasyTask.values().length)];
	} while(task.getReq() &gt;= c.playerLevel[c.playerSlayer]);
		String description = task.getDesc();
		c.slayerTask = task.getId();
		c.taskAmount = Misc.random(50) + 25;
		c.sendMessage("You have been assigned to kill " + c.taskAmount + " " + description + ".");
		return task;
}

public static SlayerTask getMediumTask(Client c) {
	SlayerTask task = null;
	do {
		task = MediumTask.values()[(int)(Math.random()*MediumTask.values().length)];
	} while(task.getReq() &gt;= c.playerLevel[c.playerSlayer]);
		String description = task.getDesc();
		c.slayerTask = task.getId();
		c.taskAmount = Misc.random(70) + 25;
		c.sendMessage("You have been assigned to kill " + c.taskAmount + " " + description + ".");
		return task;		
}

public static SlayerTask getHardTask(Client c) {
	SlayerTask task = null;
	do {
		task = HardTask.values()[(int)(Math.random()*HardTask.values().length)];
	} while(task.getReq() &gt;= c.playerLevel[c.playerSlayer]);
		String description = task.getDesc();
		c.slayerTask = task.getId();
		c.taskAmount = Misc.random(90) + 25;
		c.sendMessage("You have been assigned to kill " + c.taskAmount + " " + description + ".");
		return task;			
}

public boolean canSlay(Client c, int i) {
	for(EasyTask e : EasyTask.values()) {
		if(c.playerLevel[c.playerSlayer] &lt; e.getReq() &amp;&amp; NPCHandler.npcs[i].npcType == e.getId())
			return false;
	}
	for(MediumTask m: MediumTask.values()) {
		if(c.playerLevel[c.playerSlayer] &lt; m.getReq() &amp;&amp; NPCHandler.npcs[i].npcType == m.getId())
			return false;
	}
	for(HardTask h: HardTask.values()) {
		if(c.playerLevel[c.playerSlayer] &lt; h.getReq() &amp;&amp; NPCHandler.npcs[i].npcType == h.getId())
			return false;
	}
	for(NonTask n: NonTask.values()) {
		if(c.playerLevel[c.playerSlayer] &lt; n.getReq() &amp;&amp; NPCHandler.npcs[i].npcType == n.getId())
			return false;
	}
	return true;
}

public void appendSlayerExperience(int i) {
	Client c = (Client)PlayerHandler.players[NPCHandler.npcs[i].killedBy];
	if(c != null) {
		if (c.slayerTask == NPCHandler.npcs[i].npcType){
			c.taskAmount--;
			c.getPA().addSkillXP(NPCHandler.npcs[i].MaxHP * Config.SLAYER_EXPERIENCE, c.playerSlayer);
			if (c.taskAmount &lt;= 0) {
				c.getPA().addSkillXP((NPCHandler.npcs[i].MaxHP * 8) * Config.SLAYER_EXPERIENCE, c.playerSlayer);
				c.slayerTask = -1;
				c.sendMessage("You have completed your slayer task, please see the slayer master to get a new one.");
			}
		}
	}
}

interface SlayerTask {
	public int getId();
	public int getReq();
	public String getDesc();
}

enum EasyTask implements SlayerTask {
	YAK(5529, 1, "Yak's"),
	GOBLIN(101, 1, "Goblin's"),
	ROCK_CRAB(1265, 1, "Rock Crab's"),
	AL_KHARID_WARRIOR(18, 1, "Al-Kharid Warrior's"),
	CHAOS_DRUID(181, 1, "Chaos Druid's"),
	GHOST(103, 1, "Ghost's"),
	GIANT_BAT(78, 1, "Giant Bat's"),
	HILL_GIANT(117, 1, "Hill Giants"),
	CHAOS_DWARF(119, 1, "Chaos Dwarf's"),
	CRAWLING_HAND(1648, 5, "Crawling hand's"),
	BANSHEE(1612, 15, "Banshee's");
	
	private int id, req;
	private String desc;
	
	EasyTask(int id, int req, String desc) {
		this.id = id;
		this.req = req;
		this.desc = desc;
	}

	@Override
	public int getId() {
		return id;
	}

	@Override
	public int getReq() {
		return req;
	}

	@Override
	public String getDesc() {
		return desc;
	}
	
	

}

enum MediumTask implements SlayerTask {
	MOSS_GIANT(112, 1, "Moss Giant's"),
	ICE_WARRIOR(125, 1, "Ice Warrior's"),
	BABY_BLUE_DRAGON(48, 1, "Baby Blue Dragon's"),
	INFERNAL_MAGE(1643, 45, "Infernal Mage's"),
	BLOODVELD(1618, 50, "Bloodveld's"),
	GREEN_DRAGON(1610, 1, "Green Dragon's"),
	LESSER_DEMON(82, 1, "Lesser Demon's"),
	DAGANNOTH(1341, 1, "Dagannoth's");
	
	private int id, req;
	private String desc;
	
	MediumTask(int id, int req, String desc) {
		this.id = id;
		this.req = req;
		this.desc = desc;
	}

	@Override
	public int getId() {
		return id;
	}

	@Override
	public int getReq() {
		return req;
	}

	@Override
	public String getDesc() {
		return desc;
	}
}

enum HardTask implements SlayerTask {
	DUST_DEVIL(1624, 65, "Dust Devil's"),
	GARGOYLE(1610, 75, "Gargoyle's"),
	NECHRYAEL(1613, 80, "Nechryael's"),
	ABYSSAL_DEMON(1615, 85, "Abyssal Demon's"),
	DARK_BEAST(2783, 90, "Dark Beast's"),
	BLUE_DRAGON(55, 1, "Blue Dragon's"),
	BLACK_DEMON(84, 1, "Black Demon's"),
	HELL_HOUND(49, 1, "Hell Hound's");
	
	
	private int id, req;
	private String desc;
	
	HardTask(int id, int req, String desc) {
		this.id = id;
		this.req = req;
		this.desc = desc;
	}

	@Override
	public int getId() {
		return id;
	}

	@Override
	public int getReq() {
		return req;
	}

	@Override
	public String getDesc() {
		return desc;
	}
}

enum NonTask implements SlayerTask {
	ICE_STRYKEWYRM(9463, 93, "Ice Strykewyrm's"),
	DESERT_STRYKEWYRM(9465, 77, "Desert Strykewyrm's"),
	JUNGLE_STRYKEWYRM(9467, 73, "Jungle Strykewyrm's");
	
	private int id, req;
	private String desc;
	
	NonTask(int id, int req, String desc) {
		this.id = id;
		this.req = req;
		this.desc = desc;
	}

	@Override
	public int getId() {
		return id;
	}

	@Override
	public int getReq() {
		return req;
	}

	@Override
	public String getDesc() {
		return desc;
	}
}
</code></pre>
<p>}[/CODE]<br>
That is seperating slayer tasks into 3 enums: easy, medium, and hard. This is good because you can use to allow users to choose slayer difficulty, split them between multiple slayer masters, or do it based on combat. This also grabs the requirements from the enums instead of from a array located in combat assistant.</p>
<p><span class="bbcode-b">Second:</span><br>
Go into your CombatAssistant class and delete:</p>
<p>[CODE=java]	public int[][] slayerReqs = {<br>
{1648,5},{1612,15},{1643,45},{1618,50},{1624,65},<br>
{1610,75},{1613,80},{1615,85},{2783,90}<br>
};</p>
<pre><code>public boolean goodSlayer(int i) {
	for (int j = 0; j &lt; slayerReqs.length; j++) {
		if (slayerReqs[j][0] == Server.npcHandler.npcs[i].npcType) {
			if (slayerReqs[j][1] &gt; c.playerLevel[c.playerSlayer]) {
				c.sendMessage("You need a slayer level of " + slayerReqs[j][1] + " to harm this NPC.");
				return false;
			}
		}
	}
	return true;
}[/CODE]
</code></pre>
<p>Then replace:</p>
<p><code>			if (!goodSlayer(i)) {
				resetPlayerAttack();
				return;
			}</code><br>
with</p>
<p><code>			if (!c.getSlayer().canSlay(c, i)) {
				resetPlayerAttack();
				return;
			}</code><br>
That is loading requirements from Slayer class instead of from CombatAssistant class.</p>
<p><span class="bbcode-b">Third:</span><br>
Go into your NPCHandler class and delete:</p>
<p><code>	/**
	* Slayer Experience
	**/	
	public void appendSlayerExperience(int i) {
		int npc = 0;
		Client c = (Client)Server.playerHandler.players[npcs[i].killedBy];
		if(c != null) {
			if (c.slayerTask == npcs[i].npcType){
				c.taskAmount--;
				c.getPA().addSkillXP(npcs[i].MaxHP * Config.SLAYER_EXPERIENCE, 18);
				if (c.taskAmount &lt;= 0) {
					c.getPA().addSkillXP((npcs[i].MaxHP * 8) * Config.SLAYER_EXPERIENCE, 18);
					c.slayerTask = -1;
					c.sendMessage("You completed your slayer task. Please see a slayer master to get a new one.");
				}
			}
		}
	}</code><br>
Then replace:</p>
<pre><code class="lang-auto"></code></pre>
<p>with</p>
<p><code>Client c = (Client)PlayerHandler.players[NPCHandler.npcs[i].killedBy];
c.getSlayer().appendSlayerExperience(i);</code><br>
That is loading experience from Slayer class instead of NPCHandler class.</p>
<p><span class="bbcode-b">Credits:</span><br>
-Me<br>
-Those who helped me.</p>
<p><span class="bbcode-b"><span class="bbcode-i">NOTE: To make this work you will have to add some way of giving a play the option of choosing between: Easy, medium, and hard tasks.</span></span>[/quote]<br>
I’m using a 317 and my does not have a “CombatAssistant class” and i looked up the stuff u want me use, yet nothing came up</p>
      </div>

      <meta itemprop='headline' content='[PI] Slayer System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-slayer-system/427480 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 07:15:25 GMT -->
</html>
