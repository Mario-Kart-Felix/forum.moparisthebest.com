<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/ajax-with-shell-script/274030 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 13:19:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Ajax with shell script - General Programming - moparisthebest.com</title>
    <meta name="description" content="Say I&amp;#39;m using PHP to run the shell script &amp;quot;backup&amp;quot; and returning the results. That&amp;#39;s pretty easy to do with basic code but it&amp;#39;s only going to return the results when it&amp;#39;s finished executing. The backup&amp;#39;s going to take a &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="274030.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Ajax with shell script&#39;" href="274030.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/ajax-with-shell-script/274030" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/ajax-with-shell-script/274030" />
<meta property="og:title" content="Ajax with shell script" />
<meta name="twitter:title" content="Ajax with shell script" />
<meta property="og:description" content="Say I’m using PHP to run the shell script “backup” and returning the results. That’s pretty easy to do with basic code but it’s only going to return the results when it’s finished executing. The backup’s going to take a long time and sitting staring at a loading page for 20 minutes to see a load of information at the end on what it’s being doing isn’t that useful.  How would I do it using an ajax technique? I’ve tried to think but at the end of the day, the core of the process is PHP executing t..." />
<meta name="twitter:description" content="Say I’m using PHP to run the shell script “backup” and returning the results. That’s pretty easy to do with basic code but it’s only going to return the results when it’s finished executing. The backup’s going to take a long time and sitting staring at a loading page for 20 minutes to see a load of information at the end on what it’s being doing isn’t that useful.  How would I do it using an ajax technique? I’ve tried to think but at the end of the day, the core of the process is PHP executing t..." />
<meta property="article:published_time" content="2009-04-17T20:13:58+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="274030.html">Ajax with shell script</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Creme_de_la_Creme.html'><span itemprop='name'>Creme_de_la_Creme</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T20:13:58Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:35Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Say I’m using PHP to run the shell script “backup” and returning the results. That’s pretty easy to do with basic code but it’s only going to return the results when it’s finished executing. The backup’s going to take a long time and sitting staring at a loading page for 20 minutes to see a load of information at the end on what it’s being doing isn’t that useful.</p>
<p>How would I do it using an ajax technique? I’ve tried to think but at the end of the day, the core of the process is PHP executing the program which wont return anything 'til it’s done. I only want to know the basic architecture, not asking you to spoonfeed me scripts or anything.</p>
      </div>

      <meta itemprop='headline' content='Ajax with shell script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/PeeHPee.html'><span itemprop='name'>PeeHPee</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T20:18:18Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:35Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[php]<br>
function GetXmlHttpObject() {<br>
var xmlHttp=null;<br>
try {<br>
xmlHttp=new XMLHttpRequest();<br>
} catch (e) {<br>
try {<br>
xmlHttp=new ActiveXObject(“Msxml2.XMLHTTP”);<br>
} catch (e) {<br>
xmlHttp=new ActiveXObject(“Microsoft.XMLHTTP”);<br>
}<br>
}<br>
return xmlHttp;<br>
}</p>
<p>function backup() {<br>
xmlHttp = GetXmlHttpObject();<br>
xmlHttp.onreadystatechange=function() {<br>
if(xmlHttp.readyState != 4)<br>
return;<br>
alert(xmlHttp.responseText);<br>
};<br>
xmlHttp.open(“GET”, ‘backup.php’ ,true);<br>
xmlHttp.send(null);<br>
}	<br>
[/php]<br>
where backup.php would be the script that does the backup.</p>
      </div>

      <meta itemprop='headline' content='Ajax with shell script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Creme_de_la_Creme.html'><span itemprop='name'>Creme_de_la_Creme</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T20:31:31Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:37Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>That’s exactly what I was thinking of doing, but backup.php doesn’t return <span class="bbcode-i">anything</span> until its finished. All that’s doing is checking the backup script but it just wont tell me anything until its done.</p>
<p>(is it even possible?)</p>
      </div>

      <meta itemprop='headline' content='Ajax with shell script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/PeeHPee.html'><span itemprop='name'>PeeHPee</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T20:35:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:37Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>the user could browse the page while backup.php was doing its work, if thats what you meant.</p>
      </div>

      <meta itemprop='headline' content='Ajax with shell script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Creme_de_la_Creme.html'><span itemprop='name'>Creme_de_la_Creme</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T20:41:19Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:38Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Oh no that’d be pretty useless for what I need to do <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>Ok, say these are the results of the script when running from the terminal:</p>
<pre><code class="lang-auto">[21:39:01] Initializing
[21:39:02] Gathering files
[21:39:05] Calculating size
[21:39:06] Copying picture1.gif
[21:39:08] Copying bank_details.doc
..... 20 mins later...
[22:00:00] Backup complete!</code></pre>
<p>That prints as it goes along. If I run the script with PHP it just doesn’t respond with anything until it’s finished - then it just prints the lot. I don’t want to know what time it copied my bank details, I want to know <span class="bbcode-i">when</span> its doing it.</p>
      </div>

      <meta itemprop='headline' content='Ajax with shell script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Unhandled.html'><span itemprop='name'>Unhandled</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T21:00:39Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:40Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well the client would have to constantly poll the server for new output from the shell script…which is bad, but whatever.<br>
I don’t think PHP will be able to get the output of the script until it’s finished executing, so you would have to get the script to write it’s progress to a file, then have PHP read that file every time the client polls for data. Of course you’d only want to send the new data, so you’d need to maintain a session variable or something of the last position in the file that was read, etc etc.</p>
      </div>

      <meta itemprop='headline' content='Ajax with shell script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Creme_de_la_Creme.html'><span itemprop='name'>Creme_de_la_Creme</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T21:43:34Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:44Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeh writing to a file sounds like a fairly good idea. It doesn’t have to be exact realtime and I’d want to see the response in a web-like terminal so getting the client to read that at timed intervals should be easy enough.</p>
      </div>

      <meta itemprop='headline' content='Ajax with shell script'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/ajax-with-shell-script/274030 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 13:19:41 GMT -->
</html>
