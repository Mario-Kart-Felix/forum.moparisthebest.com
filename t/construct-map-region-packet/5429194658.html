<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/construct-map-region-packet/542919?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 01:22:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Construct map region packet - Runescape - moparisthebest.com</title>
    <meta name="description" content="NO clue why I can&amp;#39;t get this working, I thought it was the way I was doing it so I used Graham&amp;#39;s version, still doesn&amp;#39;t work. Tried different clients... and still doesn&amp;#39;t work. Anyone have any clue what I&amp;#39;m doing wrong? 
&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="5429194658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Construct map region packet&#39;" href="542919.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://i891.photobucket.com/albums/ac113/zezimo52/constructmap_zps9239c327.png" />
<meta property="og:image" content="http://i891.photobucket.com/albums/ac113/zezimo52/constructmap_zps9239c327.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/construct-map-region-packet/542919?page=2" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/construct-map-region-packet/542919?page=2" />
<meta property="og:title" content="Construct map region packet" />
<meta name="twitter:title" content="Construct map region packet" />
<meta property="og:description" content="nope, no errors at all. im almost positive its the way player updating is done in runesource. if i test this on PI and it works then it has to be, there’s nothing else that could be causing this 😕" />
<meta name="twitter:description" content="nope, no errors at all. im almost positive its the way player updating is done in runesource. if i test this on PI and it works then it has to be, there’s nothing else that could be causing this 😕" />
<meta property="article:published_time" content="2014-05-15T03:12:17+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="542919.html">
      <link rel="next" href="5429199ba9.html?page=3">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="542919.html">Construct map region packet</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-15T03:12:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:19Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="20" data-topic="542919">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/dan0194/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Dan0194:</div>
<blockquote>
<p>seriously that doesn’t work do you get any errors from client or server? I don’t understand how it would be a server sided issue unless your sending the frame with not the correct packet size?</p>
</blockquote>
</aside>
<p>nope, no errors at all. im almost positive its the way player updating is done in runesource. if i test this on PI and it works then it has to be, there’s nothing else that could be causing this <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-15T04:45:38Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:19Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Are your buffers auto expanding? A buffer of 100 bytes is definitely not enough for sending that many tiles.</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-15T07:17:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:20Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="22" data-topic="542919">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/hcojustin/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> HcoJustin:</div>
<blockquote>
<p>Are your buffers auto expanding? A buffer of 100 bytes is definitely not enough for sending that many tiles.</p>
</blockquote>
</aside>
<p>no, the buffer sizes are fixed. and that’s really odd because it would throw a bufferoverflowexception if the buffer became full?</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-15T16:35:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:22Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lare69, post:23, topic:542919”][quote author=HcoJustin link=topic=661796.msg4424466#msg4424466 date=1400129138]<br>
Are your buffers auto expanding? A buffer of 100 bytes is definitely not enough for sending that many tiles.<br>
[/quote]<br>
no, the buffer sizes are fixed. and that’s really odd because it would throw a bufferoverflowexception if the buffer became full?[/quote]<br>
No idea how they are in runesource, or what may have been changed besides the name.</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/asshole_rule.html'><span itemprop='name'>asshole_rule</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T00:51:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:33Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#25</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lare69, post:8, topic:542919”][quote author=asshole_rule link=topic=661796.msg4423993#msg4423993 date=1399835653]<br>
post your client code in parsePacket() i’m 99% sure it’s a quick fix<br>
[/quote]</p>
<p>[code=java]            if (pktType == 73 || pktType == 241) {</p>
<pre><code>            // mapReset();
            int l2 = anInt1069;
            int i11 = anInt1070;
            if (pktType == 73) {
                l2 = inStream.method435();
                i11 = inStream.readUnsignedWord();
                aBoolean1159 = false;
            }
            if (pktType == 241) {
                i11 = inStream.method435();
                inStream.initBitAccess();
                for (int j16 = 0; j16 &lt; 4; j16++) {
                    for (int l20 = 0; l20 &lt; 13; l20++) {
                        for (int j23 = 0; j23 &lt; 13; j23++) {
                            int i26 = inStream.readBits(1);
                            if (i26 == 1)
                                anIntArrayArrayArray1129[j16][l20][j23] = inStream.readBits(26);
                            else
                                anIntArrayArrayArray1129[j16][l20][j23] = -1;
                        }

                    }

                }
                inStream.finishBitAccess();
                l2 = inStream.readUnsignedWord();
                aBoolean1159 = true;
            }
            if (anInt1069 == l2 &amp;&amp; anInt1070 == i11 &amp;&amp; loadingStage == 2) {
                pktType = -1;
                return true;
            }
            anInt1069 = l2;
            anInt1070 = i11;
            baseX = (anInt1069 - 6) * 8;
            baseY = (anInt1070 - 6) * 8;
            aBoolean1141 = (anInt1069 / 8 == 48 || anInt1069 / 8 == 49) &amp;&amp; anInt1070 / 8 == 48;
            if (anInt1069 / 8 == 48 &amp;&amp; anInt1070 / 8 == 148)
                aBoolean1141 = true;
            loadingStage = 1;
            aLong824 = System.currentTimeMillis();
            aRSImageProducer_1165.initDrawingArea();
            aTextDrawingArea_1271.drawText(0, "Loading - please wait.", 151, 257);
            aTextDrawingArea_1271.drawText(0xffffff, "Loading - please wait.", 150, 256);
            aRSImageProducer_1165.drawGraphics(4, super.graphics, 4);
            if (pktType == 73) {
                int k16 = 0;
                for (int i21 = (anInt1069 - 6) / 8; i21 &lt;= (anInt1069 + 6) / 8; i21++) {
                    for (int k23 = (anInt1070 - 6) / 8; k23 &lt;= (anInt1070 + 6) / 8; k23++)
                        k16++;

                }

                aByteArrayArray1183 = new byte[k16][];
                aByteArrayArray1247 = new byte[k16][];
                anIntArray1234 = new int[k16];
                anIntArray1235 = new int[k16];
                anIntArray1236 = new int[k16];
                k16 = 0;
                for (int l23 = (anInt1069 - 6) / 8; l23 &lt;= (anInt1069 + 6) / 8; l23++) {
                    for (int j26 = (anInt1070 - 6) / 8; j26 &lt;= (anInt1070 + 6) / 8; j26++) {
                        anIntArray1234[k16] = (l23 &lt;&lt; 8) + j26;
                        if (aBoolean1141 &amp;&amp; (j26 == 49 || j26 == 149 || j26 == 147 || l23 == 50 || l23 == 49 &amp;&amp; j26 == 47)) {
                            anIntArray1235[k16] = -1;
                            anIntArray1236[k16] = -1;
                            k16++;
                        } else {
                            int k28 = anIntArray1235[k16] = onDemandFetcher.method562(0, j26, l23);
                            if (k28 != -1)
                                onDemandFetcher.method558(3, k28);
                            int j30 = anIntArray1236[k16] = onDemandFetcher.method562(1, j26, l23);
                            if (j30 != -1)
                                onDemandFetcher.method558(3, j30);
                            k16++;
                        }
                    }

                }

            }
            if (pktType == 241) {
                int l16 = 0;
                int ai[] = new int[676];
                for (int i24 = 0; i24 &lt; 4; i24++) {
                    for (int k26 = 0; k26 &lt; 13; k26++) {
                        for (int l28 = 0; l28 &lt; 13; l28++) {
                            int k30 = anIntArrayArrayArray1129[i24][k26][l28];
                            if (k30 != -1) {
                                int k31 = k30 &gt;&gt; 14 &amp; 0x3ff;
                                int i32 = k30 &gt;&gt; 3 &amp; 0x7ff;
                                int k32 = (k31 / 8 &lt;&lt; 8) + i32 / 8;
                                for (int j33 = 0; j33 &lt; l16; j33++) {
                                    if (ai[j33] != k32)
                                        continue;
                                    k32 = -1;
                                    break;
                                }

                                if (k32 != -1)
                                    ai[l16++] = k32;
                            }
                        }

                    }

                }

                aByteArrayArray1183 = new byte[l16][];
                aByteArrayArray1247 = new byte[l16][];
                anIntArray1234 = new int[l16];
                anIntArray1235 = new int[l16];
                anIntArray1236 = new int[l16];
                for (int l26 = 0; l26 &lt; l16; l26++) {
                    int i29 = anIntArray1234[l26] = ai[l26];
                    int l30 = i29 &gt;&gt; 8 &amp; 0xff;
                    int l31 = i29 &amp; 0xff;
                    int j32 = anIntArray1235[l26] = onDemandFetcher.method562(0, l31, l30);
                    if (j32 != -1)
                        onDemandFetcher.method558(3, j32);
                    int i33 = anIntArray1236[l26] = onDemandFetcher.method562(1, l31, l30);
                    if (i33 != -1)
                        onDemandFetcher.method558(3, i33);
                }

            }
            int i17 = baseX - anInt1036;
            int j21 = baseY - anInt1037;
            anInt1036 = baseX;
            anInt1037 = baseY;
            for (int j24 = 0; j24 &lt; 16384; j24++) {
                NPC npc = npcArray[j24];
                if (npc != null) {
                    for (int j29 = 0; j29 &lt; 10; j29++) {
                        npc.smallX[j29] -= i17;
                        npc.smallY[j29] -= j21;
                    }

                    npc.x -= i17 * 128;
                    npc.y -= j21 * 128;
                }
            }

            for (int i27 = 0; i27 &lt; maxPlayers; i27++) {
                Player player = playerArray[i27];
                if (player != null) {
                    for (int i31 = 0; i31 &lt; 10; i31++) {
                        player.smallX[i31] -= i17;
                        player.smallY[i31] -= j21;
                    }

                    player.x -= i17 * 128;
                    player.y -= j21 * 128;
                }
            }

            aBoolean1080 = true;
            byte byte1 = 0;
            byte byte2 = 104;
            byte byte3 = 1;
            if (i17 &lt; 0) {
                byte1 = 103;
                byte2 = -1;
                byte3 = -1;
            }
            byte byte4 = 0;
            byte byte5 = 104;
            byte byte6 = 1;
            if (j21 &lt; 0) {
                byte4 = 103;
                byte5 = -1;
                byte6 = -1;
            }
            for (int k33 = byte1; k33 != byte2; k33 += byte3) {
                for (int l33 = byte4; l33 != byte5; l33 += byte6) {
                    int i34 = k33 + i17;
                    int j34 = l33 + j21;
                    for (int k34 = 0; k34 &lt; 4; k34++)
                        if (i34 &gt;= 0 &amp;&amp; j34 &gt;= 0 &amp;&amp; i34 &lt; 104 &amp;&amp; j34 &lt; 104)
                            groundArray[k34][k33][l33] = groundArray[k34][i34][j34];
                        else
                            groundArray[k34][k33][l33] = null;

                }

            }

            for (Class30_Sub1 class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetFirst(); class30_sub1_1 != null; class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetNext()) {
                class30_sub1_1.anInt1297 -= i17;
                class30_sub1_1.anInt1298 -= j21;
                if (class30_sub1_1.anInt1297 &lt; 0 || class30_sub1_1.anInt1298 &lt; 0 || class30_sub1_1.anInt1297 &gt;= 104 || class30_sub1_1.anInt1298 &gt;= 104)
                    class30_sub1_1.unlink();
            }

            if (destX != 0) {
                destX -= i17;
                destY -= j21;
            }
            aBoolean1160 = false;
            pktType = -1;
            return true;
        }[/code][/quote]
</code></pre>
<p>[code=java]            if (pktType == 73 || pktType == 241) {</p>
<pre><code>            // mapReset();
            int l2 = anInt1069;
            int i11 = anInt1070;
            if (pktType == 73) {
                l2 = inStream.method435();
                i11 = inStream.readUnsignedWord();
                aBoolean1159 = false;
            }
            if (pktType == 241) {
                i11 = inStream.method435();
                inStream.initBitAccess();
                for (int j16 = 0; j16 &lt; 4; j16++) {
                    for (int l20 = 0; l20 &lt; 13; l20++) {
                        for (int j23 = 0; j23 &lt; 13; j23++) {
                            int i26 = inStream.readBits(1);
                            if (i26 == 1)
                                anIntArrayArrayArray1129[j16][l20][j23] = inStream.readBits(26);
                            else
                                anIntArrayArrayArray1129[j16][l20][j23] = -1;
                        }

                    }

                }
                inStream.finishBitAccess();
                l2 = inStream.readUnsignedWord();
                aBoolean1159 = true;
            }
            if (anInt1069 == l2 &amp;&amp; anInt1070 == i11 &amp;&amp; loadingStage == 2) {
                pktType = -1;
                //return true;
            }
            anInt1069 = l2;
            anInt1070 = i11;
            baseX = (anInt1069 - 6) * 8;
            baseY = (anInt1070 - 6) * 8;
            aBoolean1141 = (anInt1069 / 8 == 48 || anInt1069 / 8 == 49) &amp;&amp; anInt1070 / 8 == 48;
            if (anInt1069 / 8 == 48 &amp;&amp; anInt1070 / 8 == 148)
                aBoolean1141 = true;
            loadingStage = 1;
            aLong824 = System.currentTimeMillis();
            aRSImageProducer_1165.initDrawingArea();
            aTextDrawingArea_1271.drawText(0, "Loading - please wait.", 151, 257);
            aTextDrawingArea_1271.drawText(0xffffff, "Loading - please wait.", 150, 256);
            aRSImageProducer_1165.drawGraphics(4, super.graphics, 4);
            if (pktType == 73) {
                int k16 = 0;
                for (int i21 = (anInt1069 - 6) / 8; i21 &lt;= (anInt1069 + 6) / 8; i21++) {
                    for (int k23 = (anInt1070 - 6) / 8; k23 &lt;= (anInt1070 + 6) / 8; k23++)
                        k16++;

                }

                aByteArrayArray1183 = new byte[k16][];
                aByteArrayArray1247 = new byte[k16][];
                anIntArray1234 = new int[k16];
                anIntArray1235 = new int[k16];
                anIntArray1236 = new int[k16];
                k16 = 0;
                for (int l23 = (anInt1069 - 6) / 8; l23 &lt;= (anInt1069 + 6) / 8; l23++) {
                    for (int j26 = (anInt1070 - 6) / 8; j26 &lt;= (anInt1070 + 6) / 8; j26++) {
                        anIntArray1234[k16] = (l23 &lt;&lt; 8) + j26;
                        if (aBoolean1141 &amp;&amp; (j26 == 49 || j26 == 149 || j26 == 147 || l23 == 50 || l23 == 49 &amp;&amp; j26 == 47)) {
                            anIntArray1235[k16] = -1;
                            anIntArray1236[k16] = -1;
                            k16++;
                        } else {
                            int k28 = anIntArray1235[k16] = onDemandFetcher.method562(0, j26, l23);
                            if (k28 != -1)
                                onDemandFetcher.method558(3, k28);
                            int j30 = anIntArray1236[k16] = onDemandFetcher.method562(1, j26, l23);
                            if (j30 != -1)
                                onDemandFetcher.method558(3, j30);
                            k16++;
                        }
                    }

                }

            }
            if (pktType == 241) {
                int l16 = 0;
                int ai[] = new int[676];
                for (int i24 = 0; i24 &lt; 4; i24++) {
                    for (int k26 = 0; k26 &lt; 13; k26++) {
                        for (int l28 = 0; l28 &lt; 13; l28++) {
                            int k30 = anIntArrayArrayArray1129[i24][k26][l28];
                            if (k30 != -1) {
                                int k31 = k30 &gt;&gt; 14 &amp; 0x3ff;
                                int i32 = k30 &gt;&gt; 3 &amp; 0x7ff;
                                int k32 = (k31 / 8 &lt;&lt; 8) + i32 / 8;
                                for (int j33 = 0; j33 &lt; l16; j33++) {
                                    if (ai[j33] != k32)
                                        continue;
                                    k32 = -1;
                                    break;
                                }

                                if (k32 != -1)
                                    ai[l16++] = k32;
                            }
                        }

                    }

                }

                aByteArrayArray1183 = new byte[l16][];
                aByteArrayArray1247 = new byte[l16][];
                anIntArray1234 = new int[l16];
                anIntArray1235 = new int[l16];
                anIntArray1236 = new int[l16];
                for (int l26 = 0; l26 &lt; l16; l26++) {
                    int i29 = anIntArray1234[l26] = ai[l26];
                    int l30 = i29 &gt;&gt; 8 &amp; 0xff;
                    int l31 = i29 &amp; 0xff;
                    int j32 = anIntArray1235[l26] = onDemandFetcher.method562(0, l31, l30);
                    if (j32 != -1)
                        onDemandFetcher.method558(3, j32);
                    int i33 = anIntArray1236[l26] = onDemandFetcher.method562(1, l31, l30);
                    if (i33 != -1)
                        onDemandFetcher.method558(3, i33);
                }

            }
            int i17 = baseX - anInt1036;
            int j21 = baseY - anInt1037;
            anInt1036 = baseX;
            anInt1037 = baseY;
            for (int j24 = 0; j24 &lt; 16384; j24++) {
                NPC npc = npcArray[j24];
                if (npc != null) {
                    for (int j29 = 0; j29 &lt; 10; j29++) {
                        npc.smallX[j29] -= i17;
                        npc.smallY[j29] -= j21;
                    }

                    npc.x -= i17 * 128;
                    npc.y -= j21 * 128;
                }
            }

            for (int i27 = 0; i27 &lt; maxPlayers; i27++) {
                Player player = playerArray[i27];
                if (player != null) {
                    for (int i31 = 0; i31 &lt; 10; i31++) {
                        player.smallX[i31] -= i17;
                        player.smallY[i31] -= j21;
                    }

                    player.x -= i17 * 128;
                    player.y -= j21 * 128;
                }
            }

            aBoolean1080 = true;
            byte byte1 = 0;
            byte byte2 = 104;
            byte byte3 = 1;
            if (i17 &lt; 0) {
                byte1 = 103;
                byte2 = -1;
                byte3 = -1;
            }
            byte byte4 = 0;
            byte byte5 = 104;
            byte byte6 = 1;
            if (j21 &lt; 0) {
                byte4 = 103;
                byte5 = -1;
                byte6 = -1;
            }
            for (int k33 = byte1; k33 != byte2; k33 += byte3) {
                for (int l33 = byte4; l33 != byte5; l33 += byte6) {
                    int i34 = k33 + i17;
                    int j34 = l33 + j21;
                    for (int k34 = 0; k34 &lt; 4; k34++)
                        if (i34 &gt;= 0 &amp;&amp; j34 &gt;= 0 &amp;&amp; i34 &lt; 104 &amp;&amp; j34 &lt; 104)
                            groundArray[k34][k33][l33] = groundArray[k34][i34][j34];
                        else
                            groundArray[k34][k33][l33] = null;

                }

            }

            for (Class30_Sub1 class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetFirst(); class30_sub1_1 != null; class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetNext()) {
                class30_sub1_1.anInt1297 -= i17;
                class30_sub1_1.anInt1298 -= j21;
                if (class30_sub1_1.anInt1297 &lt; 0 || class30_sub1_1.anInt1298 &lt; 0 || class30_sub1_1.anInt1297 &gt;= 104 || class30_sub1_1.anInt1298 &gt;= 104)
                    class30_sub1_1.unlink();
            }

            if (destX != 0) {
                destX -= i17;
                destY -= j21;
            }
            aBoolean1160 = false;
            pktType = -1;
            return true;
        }[/code]
</code></pre>
<p>replace it with this and im pretty sure it’ll work</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T00:56:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:33Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#26</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If that is the problem then OP needs to not send the map region before sending the new packet, or make sure he sends a different region X/Y</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pure2ownage.html'><span itemprop='name'>pure2ownage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T01:44:18Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:33Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#27</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“asshole_rule, post:25, topic:542919”][quote author=lare69 link=topic=661796.msg4424069#msg4424069 date=1399861173]</p>
<aside class="quote">
<blockquote>
<p>post your client code in parsePacket() i’m 99% sure it’s a quick fix</p>
</blockquote>
</aside>
<p>[code=java]            if (pktType == 73 || pktType == 241) {</p>
<pre><code>            // mapReset();
            int l2 = anInt1069;
            int i11 = anInt1070;
            if (pktType == 73) {
                l2 = inStream.method435();
                i11 = inStream.readUnsignedWord();
                aBoolean1159 = false;
            }
            if (pktType == 241) {
                i11 = inStream.method435();
                inStream.initBitAccess();
                for (int j16 = 0; j16 &lt; 4; j16++) {
                    for (int l20 = 0; l20 &lt; 13; l20++) {
                        for (int j23 = 0; j23 &lt; 13; j23++) {
                            int i26 = inStream.readBits(1);
                            if (i26 == 1)
                                anIntArrayArrayArray1129[j16][l20][j23] = inStream.readBits(26);
                            else
                                anIntArrayArrayArray1129[j16][l20][j23] = -1;
                        }

                    }

                }
                inStream.finishBitAccess();
                l2 = inStream.readUnsignedWord();
                aBoolean1159 = true;
            }
            if (anInt1069 == l2 &amp;&amp; anInt1070 == i11 &amp;&amp; loadingStage == 2) {
                pktType = -1;
                return true;
            }
            anInt1069 = l2;
            anInt1070 = i11;
            baseX = (anInt1069 - 6) * 8;
            baseY = (anInt1070 - 6) * 8;
            aBoolean1141 = (anInt1069 / 8 == 48 || anInt1069 / 8 == 49) &amp;&amp; anInt1070 / 8 == 48;
            if (anInt1069 / 8 == 48 &amp;&amp; anInt1070 / 8 == 148)
                aBoolean1141 = true;
            loadingStage = 1;
            aLong824 = System.currentTimeMillis();
            aRSImageProducer_1165.initDrawingArea();
            aTextDrawingArea_1271.drawText(0, "Loading - please wait.", 151, 257);
            aTextDrawingArea_1271.drawText(0xffffff, "Loading - please wait.", 150, 256);
            aRSImageProducer_1165.drawGraphics(4, super.graphics, 4);
            if (pktType == 73) {
                int k16 = 0;
                for (int i21 = (anInt1069 - 6) / 8; i21 &lt;= (anInt1069 + 6) / 8; i21++) {
                    for (int k23 = (anInt1070 - 6) / 8; k23 &lt;= (anInt1070 + 6) / 8; k23++)
                        k16++;

                }

                aByteArrayArray1183 = new byte[k16][];
                aByteArrayArray1247 = new byte[k16][];
                anIntArray1234 = new int[k16];
                anIntArray1235 = new int[k16];
                anIntArray1236 = new int[k16];
                k16 = 0;
                for (int l23 = (anInt1069 - 6) / 8; l23 &lt;= (anInt1069 + 6) / 8; l23++) {
                    for (int j26 = (anInt1070 - 6) / 8; j26 &lt;= (anInt1070 + 6) / 8; j26++) {
                        anIntArray1234[k16] = (l23 &lt;&lt; 8) + j26;
                        if (aBoolean1141 &amp;&amp; (j26 == 49 || j26 == 149 || j26 == 147 || l23 == 50 || l23 == 49 &amp;&amp; j26 == 47)) {
                            anIntArray1235[k16] = -1;
                            anIntArray1236[k16] = -1;
                            k16++;
                        } else {
                            int k28 = anIntArray1235[k16] = onDemandFetcher.method562(0, j26, l23);
                            if (k28 != -1)
                                onDemandFetcher.method558(3, k28);
                            int j30 = anIntArray1236[k16] = onDemandFetcher.method562(1, j26, l23);
                            if (j30 != -1)
                                onDemandFetcher.method558(3, j30);
                            k16++;
                        }
                    }

                }

            }
            if (pktType == 241) {
                int l16 = 0;
                int ai[] = new int[676];
                for (int i24 = 0; i24 &lt; 4; i24++) {
                    for (int k26 = 0; k26 &lt; 13; k26++) {
                        for (int l28 = 0; l28 &lt; 13; l28++) {
                            int k30 = anIntArrayArrayArray1129[i24][k26][l28];
                            if (k30 != -1) {
                                int k31 = k30 &gt;&gt; 14 &amp; 0x3ff;
                                int i32 = k30 &gt;&gt; 3 &amp; 0x7ff;
                                int k32 = (k31 / 8 &lt;&lt; 8) + i32 / 8;
                                for (int j33 = 0; j33 &lt; l16; j33++) {
                                    if (ai[j33] != k32)
                                        continue;
                                    k32 = -1;
                                    break;
                                }

                                if (k32 != -1)
                                    ai[l16++] = k32;
                            }
                        }

                    }

                }

                aByteArrayArray1183 = new byte[l16][];
                aByteArrayArray1247 = new byte[l16][];
                anIntArray1234 = new int[l16];
                anIntArray1235 = new int[l16];
                anIntArray1236 = new int[l16];
                for (int l26 = 0; l26 &lt; l16; l26++) {
                    int i29 = anIntArray1234[l26] = ai[l26];
                    int l30 = i29 &gt;&gt; 8 &amp; 0xff;
                    int l31 = i29 &amp; 0xff;
                    int j32 = anIntArray1235[l26] = onDemandFetcher.method562(0, l31, l30);
                    if (j32 != -1)
                        onDemandFetcher.method558(3, j32);
                    int i33 = anIntArray1236[l26] = onDemandFetcher.method562(1, l31, l30);
                    if (i33 != -1)
                        onDemandFetcher.method558(3, i33);
                }

            }
            int i17 = baseX - anInt1036;
            int j21 = baseY - anInt1037;
            anInt1036 = baseX;
            anInt1037 = baseY;
            for (int j24 = 0; j24 &lt; 16384; j24++) {
                NPC npc = npcArray[j24];
                if (npc != null) {
                    for (int j29 = 0; j29 &lt; 10; j29++) {
                        npc.smallX[j29] -= i17;
                        npc.smallY[j29] -= j21;
                    }

                    npc.x -= i17 * 128;
                    npc.y -= j21 * 128;
                }
            }

            for (int i27 = 0; i27 &lt; maxPlayers; i27++) {
                Player player = playerArray[i27];
                if (player != null) {
                    for (int i31 = 0; i31 &lt; 10; i31++) {
                        player.smallX[i31] -= i17;
                        player.smallY[i31] -= j21;
                    }

                    player.x -= i17 * 128;
                    player.y -= j21 * 128;
                }
            }

            aBoolean1080 = true;
            byte byte1 = 0;
            byte byte2 = 104;
            byte byte3 = 1;
            if (i17 &lt; 0) {
                byte1 = 103;
                byte2 = -1;
                byte3 = -1;
            }
            byte byte4 = 0;
            byte byte5 = 104;
            byte byte6 = 1;
            if (j21 &lt; 0) {
                byte4 = 103;
                byte5 = -1;
                byte6 = -1;
            }
            for (int k33 = byte1; k33 != byte2; k33 += byte3) {
                for (int l33 = byte4; l33 != byte5; l33 += byte6) {
                    int i34 = k33 + i17;
                    int j34 = l33 + j21;
                    for (int k34 = 0; k34 &lt; 4; k34++)
                        if (i34 &gt;= 0 &amp;&amp; j34 &gt;= 0 &amp;&amp; i34 &lt; 104 &amp;&amp; j34 &lt; 104)
                            groundArray[k34][k33][l33] = groundArray[k34][i34][j34];
                        else
                            groundArray[k34][k33][l33] = null;

                }

            }

            for (Class30_Sub1 class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetFirst(); class30_sub1_1 != null; class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetNext()) {
                class30_sub1_1.anInt1297 -= i17;
                class30_sub1_1.anInt1298 -= j21;
                if (class30_sub1_1.anInt1297 &lt; 0 || class30_sub1_1.anInt1298 &lt; 0 || class30_sub1_1.anInt1297 &gt;= 104 || class30_sub1_1.anInt1298 &gt;= 104)
                    class30_sub1_1.unlink();
            }

            if (destX != 0) {
                destX -= i17;
                destY -= j21;
            }
            aBoolean1160 = false;
            pktType = -1;
            return true;
        }[/code]
</code></pre>
<p>[/quote]</p>
<p>[code=java]            if (pktType == 73 || pktType == 241) {</p>
<pre><code>            // mapReset();
            int l2 = anInt1069;
            int i11 = anInt1070;
            if (pktType == 73) {
                l2 = inStream.method435();
                i11 = inStream.readUnsignedWord();
                aBoolean1159 = false;
            }
            if (pktType == 241) {
                i11 = inStream.method435();
                inStream.initBitAccess();
                for (int j16 = 0; j16 &lt; 4; j16++) {
                    for (int l20 = 0; l20 &lt; 13; l20++) {
                        for (int j23 = 0; j23 &lt; 13; j23++) {
                            int i26 = inStream.readBits(1);
                            if (i26 == 1)
                                anIntArrayArrayArray1129[j16][l20][j23] = inStream.readBits(26);
                            else
                                anIntArrayArrayArray1129[j16][l20][j23] = -1;
                        }

                    }

                }
                inStream.finishBitAccess();
                l2 = inStream.readUnsignedWord();
                aBoolean1159 = true;
            }
            if (anInt1069 == l2 &amp;&amp; anInt1070 == i11 &amp;&amp; loadingStage == 2) {
                pktType = -1;
                //return true;
            }
            anInt1069 = l2;
            anInt1070 = i11;
            baseX = (anInt1069 - 6) * 8;
            baseY = (anInt1070 - 6) * 8;
            aBoolean1141 = (anInt1069 / 8 == 48 || anInt1069 / 8 == 49) &amp;&amp; anInt1070 / 8 == 48;
            if (anInt1069 / 8 == 48 &amp;&amp; anInt1070 / 8 == 148)
                aBoolean1141 = true;
            loadingStage = 1;
            aLong824 = System.currentTimeMillis();
            aRSImageProducer_1165.initDrawingArea();
            aTextDrawingArea_1271.drawText(0, "Loading - please wait.", 151, 257);
            aTextDrawingArea_1271.drawText(0xffffff, "Loading - please wait.", 150, 256);
            aRSImageProducer_1165.drawGraphics(4, super.graphics, 4);
            if (pktType == 73) {
                int k16 = 0;
                for (int i21 = (anInt1069 - 6) / 8; i21 &lt;= (anInt1069 + 6) / 8; i21++) {
                    for (int k23 = (anInt1070 - 6) / 8; k23 &lt;= (anInt1070 + 6) / 8; k23++)
                        k16++;

                }

                aByteArrayArray1183 = new byte[k16][];
                aByteArrayArray1247 = new byte[k16][];
                anIntArray1234 = new int[k16];
                anIntArray1235 = new int[k16];
                anIntArray1236 = new int[k16];
                k16 = 0;
                for (int l23 = (anInt1069 - 6) / 8; l23 &lt;= (anInt1069 + 6) / 8; l23++) {
                    for (int j26 = (anInt1070 - 6) / 8; j26 &lt;= (anInt1070 + 6) / 8; j26++) {
                        anIntArray1234[k16] = (l23 &lt;&lt; 8) + j26;
                        if (aBoolean1141 &amp;&amp; (j26 == 49 || j26 == 149 || j26 == 147 || l23 == 50 || l23 == 49 &amp;&amp; j26 == 47)) {
                            anIntArray1235[k16] = -1;
                            anIntArray1236[k16] = -1;
                            k16++;
                        } else {
                            int k28 = anIntArray1235[k16] = onDemandFetcher.method562(0, j26, l23);
                            if (k28 != -1)
                                onDemandFetcher.method558(3, k28);
                            int j30 = anIntArray1236[k16] = onDemandFetcher.method562(1, j26, l23);
                            if (j30 != -1)
                                onDemandFetcher.method558(3, j30);
                            k16++;
                        }
                    }

                }

            }
            if (pktType == 241) {
                int l16 = 0;
                int ai[] = new int[676];
                for (int i24 = 0; i24 &lt; 4; i24++) {
                    for (int k26 = 0; k26 &lt; 13; k26++) {
                        for (int l28 = 0; l28 &lt; 13; l28++) {
                            int k30 = anIntArrayArrayArray1129[i24][k26][l28];
                            if (k30 != -1) {
                                int k31 = k30 &gt;&gt; 14 &amp; 0x3ff;
                                int i32 = k30 &gt;&gt; 3 &amp; 0x7ff;
                                int k32 = (k31 / 8 &lt;&lt; 8) + i32 / 8;
                                for (int j33 = 0; j33 &lt; l16; j33++) {
                                    if (ai[j33] != k32)
                                        continue;
                                    k32 = -1;
                                    break;
                                }

                                if (k32 != -1)
                                    ai[l16++] = k32;
                            }
                        }

                    }

                }

                aByteArrayArray1183 = new byte[l16][];
                aByteArrayArray1247 = new byte[l16][];
                anIntArray1234 = new int[l16];
                anIntArray1235 = new int[l16];
                anIntArray1236 = new int[l16];
                for (int l26 = 0; l26 &lt; l16; l26++) {
                    int i29 = anIntArray1234[l26] = ai[l26];
                    int l30 = i29 &gt;&gt; 8 &amp; 0xff;
                    int l31 = i29 &amp; 0xff;
                    int j32 = anIntArray1235[l26] = onDemandFetcher.method562(0, l31, l30);
                    if (j32 != -1)
                        onDemandFetcher.method558(3, j32);
                    int i33 = anIntArray1236[l26] = onDemandFetcher.method562(1, l31, l30);
                    if (i33 != -1)
                        onDemandFetcher.method558(3, i33);
                }

            }
            int i17 = baseX - anInt1036;
            int j21 = baseY - anInt1037;
            anInt1036 = baseX;
            anInt1037 = baseY;
            for (int j24 = 0; j24 &lt; 16384; j24++) {
                NPC npc = npcArray[j24];
                if (npc != null) {
                    for (int j29 = 0; j29 &lt; 10; j29++) {
                        npc.smallX[j29] -= i17;
                        npc.smallY[j29] -= j21;
                    }

                    npc.x -= i17 * 128;
                    npc.y -= j21 * 128;
                }
            }

            for (int i27 = 0; i27 &lt; maxPlayers; i27++) {
                Player player = playerArray[i27];
                if (player != null) {
                    for (int i31 = 0; i31 &lt; 10; i31++) {
                        player.smallX[i31] -= i17;
                        player.smallY[i31] -= j21;
                    }

                    player.x -= i17 * 128;
                    player.y -= j21 * 128;
                }
            }

            aBoolean1080 = true;
            byte byte1 = 0;
            byte byte2 = 104;
            byte byte3 = 1;
            if (i17 &lt; 0) {
                byte1 = 103;
                byte2 = -1;
                byte3 = -1;
            }
            byte byte4 = 0;
            byte byte5 = 104;
            byte byte6 = 1;
            if (j21 &lt; 0) {
                byte4 = 103;
                byte5 = -1;
                byte6 = -1;
            }
            for (int k33 = byte1; k33 != byte2; k33 += byte3) {
                for (int l33 = byte4; l33 != byte5; l33 += byte6) {
                    int i34 = k33 + i17;
                    int j34 = l33 + j21;
                    for (int k34 = 0; k34 &lt; 4; k34++)
                        if (i34 &gt;= 0 &amp;&amp; j34 &gt;= 0 &amp;&amp; i34 &lt; 104 &amp;&amp; j34 &lt; 104)
                            groundArray[k34][k33][l33] = groundArray[k34][i34][j34];
                        else
                            groundArray[k34][k33][l33] = null;

                }

            }

            for (Class30_Sub1 class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetFirst(); class30_sub1_1 != null; class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetNext()) {
                class30_sub1_1.anInt1297 -= i17;
                class30_sub1_1.anInt1298 -= j21;
                if (class30_sub1_1.anInt1297 &lt; 0 || class30_sub1_1.anInt1298 &lt; 0 || class30_sub1_1.anInt1297 &gt;= 104 || class30_sub1_1.anInt1298 &gt;= 104)
                    class30_sub1_1.unlink();
            }

            if (destX != 0) {
                destX -= i17;
                destY -= j21;
            }
            aBoolean1160 = false;
            pktType = -1;
            return true;
        }[/code]
</code></pre>
<p>replace it with this and im pretty sure it’ll work[/quote]From the first 200 or so lines I looked at, they seem identical…</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/asshole_rule.html'><span itemprop='name'>asshole_rule</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T02:39:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:33Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#28</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Pure_, post:27, topic:542919”][quote author=asshole_rule link=topic=661796.msg4424697#msg4424697 date=1400287860]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>post your client code in parsePacket() i’m 99% sure it’s a quick fix</p>
</blockquote>
</aside>
<p>[code=java]            if (pktType == 73 || pktType == 241) {</p>
<pre><code>            // mapReset();
            int l2 = anInt1069;
            int i11 = anInt1070;
            if (pktType == 73) {
                l2 = inStream.method435();
                i11 = inStream.readUnsignedWord();
                aBoolean1159 = false;
            }
            if (pktType == 241) {
                i11 = inStream.method435();
                inStream.initBitAccess();
                for (int j16 = 0; j16 &lt; 4; j16++) {
                    for (int l20 = 0; l20 &lt; 13; l20++) {
                        for (int j23 = 0; j23 &lt; 13; j23++) {
                            int i26 = inStream.readBits(1);
                            if (i26 == 1)
                                anIntArrayArrayArray1129[j16][l20][j23] = inStream.readBits(26);
                            else
                                anIntArrayArrayArray1129[j16][l20][j23] = -1;
                        }

                    }

                }
                inStream.finishBitAccess();
                l2 = inStream.readUnsignedWord();
                aBoolean1159 = true;
            }
            if (anInt1069 == l2 &amp;&amp; anInt1070 == i11 &amp;&amp; loadingStage == 2) {
                pktType = -1;
                return true;
            }
            anInt1069 = l2;
            anInt1070 = i11;
            baseX = (anInt1069 - 6) * 8;
            baseY = (anInt1070 - 6) * 8;
            aBoolean1141 = (anInt1069 / 8 == 48 || anInt1069 / 8 == 49) &amp;&amp; anInt1070 / 8 == 48;
            if (anInt1069 / 8 == 48 &amp;&amp; anInt1070 / 8 == 148)
                aBoolean1141 = true;
            loadingStage = 1;
            aLong824 = System.currentTimeMillis();
            aRSImageProducer_1165.initDrawingArea();
            aTextDrawingArea_1271.drawText(0, "Loading - please wait.", 151, 257);
            aTextDrawingArea_1271.drawText(0xffffff, "Loading - please wait.", 150, 256);
            aRSImageProducer_1165.drawGraphics(4, super.graphics, 4);
            if (pktType == 73) {
                int k16 = 0;
                for (int i21 = (anInt1069 - 6) / 8; i21 &lt;= (anInt1069 + 6) / 8; i21++) {
                    for (int k23 = (anInt1070 - 6) / 8; k23 &lt;= (anInt1070 + 6) / 8; k23++)
                        k16++;

                }

                aByteArrayArray1183 = new byte[k16][];
                aByteArrayArray1247 = new byte[k16][];
                anIntArray1234 = new int[k16];
                anIntArray1235 = new int[k16];
                anIntArray1236 = new int[k16];
                k16 = 0;
                for (int l23 = (anInt1069 - 6) / 8; l23 &lt;= (anInt1069 + 6) / 8; l23++) {
                    for (int j26 = (anInt1070 - 6) / 8; j26 &lt;= (anInt1070 + 6) / 8; j26++) {
                        anIntArray1234[k16] = (l23 &lt;&lt; 8) + j26;
                        if (aBoolean1141 &amp;&amp; (j26 == 49 || j26 == 149 || j26 == 147 || l23 == 50 || l23 == 49 &amp;&amp; j26 == 47)) {
                            anIntArray1235[k16] = -1;
                            anIntArray1236[k16] = -1;
                            k16++;
                        } else {
                            int k28 = anIntArray1235[k16] = onDemandFetcher.method562(0, j26, l23);
                            if (k28 != -1)
                                onDemandFetcher.method558(3, k28);
                            int j30 = anIntArray1236[k16] = onDemandFetcher.method562(1, j26, l23);
                            if (j30 != -1)
                                onDemandFetcher.method558(3, j30);
                            k16++;
                        }
                    }

                }

            }
            if (pktType == 241) {
                int l16 = 0;
                int ai[] = new int[676];
                for (int i24 = 0; i24 &lt; 4; i24++) {
                    for (int k26 = 0; k26 &lt; 13; k26++) {
                        for (int l28 = 0; l28 &lt; 13; l28++) {
                            int k30 = anIntArrayArrayArray1129[i24][k26][l28];
                            if (k30 != -1) {
                                int k31 = k30 &gt;&gt; 14 &amp; 0x3ff;
                                int i32 = k30 &gt;&gt; 3 &amp; 0x7ff;
                                int k32 = (k31 / 8 &lt;&lt; 8) + i32 / 8;
                                for (int j33 = 0; j33 &lt; l16; j33++) {
                                    if (ai[j33] != k32)
                                        continue;
                                    k32 = -1;
                                    break;
                                }

                                if (k32 != -1)
                                    ai[l16++] = k32;
                            }
                        }

                    }

                }

                aByteArrayArray1183 = new byte[l16][];
                aByteArrayArray1247 = new byte[l16][];
                anIntArray1234 = new int[l16];
                anIntArray1235 = new int[l16];
                anIntArray1236 = new int[l16];
                for (int l26 = 0; l26 &lt; l16; l26++) {
                    int i29 = anIntArray1234[l26] = ai[l26];
                    int l30 = i29 &gt;&gt; 8 &amp; 0xff;
                    int l31 = i29 &amp; 0xff;
                    int j32 = anIntArray1235[l26] = onDemandFetcher.method562(0, l31, l30);
                    if (j32 != -1)
                        onDemandFetcher.method558(3, j32);
                    int i33 = anIntArray1236[l26] = onDemandFetcher.method562(1, l31, l30);
                    if (i33 != -1)
                        onDemandFetcher.method558(3, i33);
                }

            }
            int i17 = baseX - anInt1036;
            int j21 = baseY - anInt1037;
            anInt1036 = baseX;
            anInt1037 = baseY;
            for (int j24 = 0; j24 &lt; 16384; j24++) {
                NPC npc = npcArray[j24];
                if (npc != null) {
                    for (int j29 = 0; j29 &lt; 10; j29++) {
                        npc.smallX[j29] -= i17;
                        npc.smallY[j29] -= j21;
                    }

                    npc.x -= i17 * 128;
                    npc.y -= j21 * 128;
                }
            }

            for (int i27 = 0; i27 &lt; maxPlayers; i27++) {
                Player player = playerArray[i27];
                if (player != null) {
                    for (int i31 = 0; i31 &lt; 10; i31++) {
                        player.smallX[i31] -= i17;
                        player.smallY[i31] -= j21;
                    }

                    player.x -= i17 * 128;
                    player.y -= j21 * 128;
                }
            }

            aBoolean1080 = true;
            byte byte1 = 0;
            byte byte2 = 104;
            byte byte3 = 1;
            if (i17 &lt; 0) {
                byte1 = 103;
                byte2 = -1;
                byte3 = -1;
            }
            byte byte4 = 0;
            byte byte5 = 104;
            byte byte6 = 1;
            if (j21 &lt; 0) {
                byte4 = 103;
                byte5 = -1;
                byte6 = -1;
            }
            for (int k33 = byte1; k33 != byte2; k33 += byte3) {
                for (int l33 = byte4; l33 != byte5; l33 += byte6) {
                    int i34 = k33 + i17;
                    int j34 = l33 + j21;
                    for (int k34 = 0; k34 &lt; 4; k34++)
                        if (i34 &gt;= 0 &amp;&amp; j34 &gt;= 0 &amp;&amp; i34 &lt; 104 &amp;&amp; j34 &lt; 104)
                            groundArray[k34][k33][l33] = groundArray[k34][i34][j34];
                        else
                            groundArray[k34][k33][l33] = null;

                }

            }

            for (Class30_Sub1 class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetFirst(); class30_sub1_1 != null; class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetNext()) {
                class30_sub1_1.anInt1297 -= i17;
                class30_sub1_1.anInt1298 -= j21;
                if (class30_sub1_1.anInt1297 &lt; 0 || class30_sub1_1.anInt1298 &lt; 0 || class30_sub1_1.anInt1297 &gt;= 104 || class30_sub1_1.anInt1298 &gt;= 104)
                    class30_sub1_1.unlink();
            }

            if (destX != 0) {
                destX -= i17;
                destY -= j21;
            }
            aBoolean1160 = false;
            pktType = -1;
            return true;
        }[/code]
</code></pre>
</blockquote>
</aside>
<p>[code=java]            if (pktType == 73 || pktType == 241) {</p>
<pre><code>            // mapReset();
            int l2 = anInt1069;
            int i11 = anInt1070;
            if (pktType == 73) {
                l2 = inStream.method435();
                i11 = inStream.readUnsignedWord();
                aBoolean1159 = false;
            }
            if (pktType == 241) {
                i11 = inStream.method435();
                inStream.initBitAccess();
                for (int j16 = 0; j16 &lt; 4; j16++) {
                    for (int l20 = 0; l20 &lt; 13; l20++) {
                        for (int j23 = 0; j23 &lt; 13; j23++) {
                            int i26 = inStream.readBits(1);
                            if (i26 == 1)
                                anIntArrayArrayArray1129[j16][l20][j23] = inStream.readBits(26);
                            else
                                anIntArrayArrayArray1129[j16][l20][j23] = -1;
                        }

                    }

                }
                inStream.finishBitAccess();
                l2 = inStream.readUnsignedWord();
                aBoolean1159 = true;
            }
            if (anInt1069 == l2 &amp;&amp; anInt1070 == i11 &amp;&amp; loadingStage == 2) {
                pktType = -1;
                //return true;
            }
            anInt1069 = l2;
            anInt1070 = i11;
            baseX = (anInt1069 - 6) * 8;
            baseY = (anInt1070 - 6) * 8;
            aBoolean1141 = (anInt1069 / 8 == 48 || anInt1069 / 8 == 49) &amp;&amp; anInt1070 / 8 == 48;
            if (anInt1069 / 8 == 48 &amp;&amp; anInt1070 / 8 == 148)
                aBoolean1141 = true;
            loadingStage = 1;
            aLong824 = System.currentTimeMillis();
            aRSImageProducer_1165.initDrawingArea();
            aTextDrawingArea_1271.drawText(0, "Loading - please wait.", 151, 257);
            aTextDrawingArea_1271.drawText(0xffffff, "Loading - please wait.", 150, 256);
            aRSImageProducer_1165.drawGraphics(4, super.graphics, 4);
            if (pktType == 73) {
                int k16 = 0;
                for (int i21 = (anInt1069 - 6) / 8; i21 &lt;= (anInt1069 + 6) / 8; i21++) {
                    for (int k23 = (anInt1070 - 6) / 8; k23 &lt;= (anInt1070 + 6) / 8; k23++)
                        k16++;

                }

                aByteArrayArray1183 = new byte[k16][];
                aByteArrayArray1247 = new byte[k16][];
                anIntArray1234 = new int[k16];
                anIntArray1235 = new int[k16];
                anIntArray1236 = new int[k16];
                k16 = 0;
                for (int l23 = (anInt1069 - 6) / 8; l23 &lt;= (anInt1069 + 6) / 8; l23++) {
                    for (int j26 = (anInt1070 - 6) / 8; j26 &lt;= (anInt1070 + 6) / 8; j26++) {
                        anIntArray1234[k16] = (l23 &lt;&lt; 8) + j26;
                        if (aBoolean1141 &amp;&amp; (j26 == 49 || j26 == 149 || j26 == 147 || l23 == 50 || l23 == 49 &amp;&amp; j26 == 47)) {
                            anIntArray1235[k16] = -1;
                            anIntArray1236[k16] = -1;
                            k16++;
                        } else {
                            int k28 = anIntArray1235[k16] = onDemandFetcher.method562(0, j26, l23);
                            if (k28 != -1)
                                onDemandFetcher.method558(3, k28);
                            int j30 = anIntArray1236[k16] = onDemandFetcher.method562(1, j26, l23);
                            if (j30 != -1)
                                onDemandFetcher.method558(3, j30);
                            k16++;
                        }
                    }

                }

            }
            if (pktType == 241) {
                int l16 = 0;
                int ai[] = new int[676];
                for (int i24 = 0; i24 &lt; 4; i24++) {
                    for (int k26 = 0; k26 &lt; 13; k26++) {
                        for (int l28 = 0; l28 &lt; 13; l28++) {
                            int k30 = anIntArrayArrayArray1129[i24][k26][l28];
                            if (k30 != -1) {
                                int k31 = k30 &gt;&gt; 14 &amp; 0x3ff;
                                int i32 = k30 &gt;&gt; 3 &amp; 0x7ff;
                                int k32 = (k31 / 8 &lt;&lt; 8) + i32 / 8;
                                for (int j33 = 0; j33 &lt; l16; j33++) {
                                    if (ai[j33] != k32)
                                        continue;
                                    k32 = -1;
                                    break;
                                }

                                if (k32 != -1)
                                    ai[l16++] = k32;
                            }
                        }

                    }

                }

                aByteArrayArray1183 = new byte[l16][];
                aByteArrayArray1247 = new byte[l16][];
                anIntArray1234 = new int[l16];
                anIntArray1235 = new int[l16];
                anIntArray1236 = new int[l16];
                for (int l26 = 0; l26 &lt; l16; l26++) {
                    int i29 = anIntArray1234[l26] = ai[l26];
                    int l30 = i29 &gt;&gt; 8 &amp; 0xff;
                    int l31 = i29 &amp; 0xff;
                    int j32 = anIntArray1235[l26] = onDemandFetcher.method562(0, l31, l30);
                    if (j32 != -1)
                        onDemandFetcher.method558(3, j32);
                    int i33 = anIntArray1236[l26] = onDemandFetcher.method562(1, l31, l30);
                    if (i33 != -1)
                        onDemandFetcher.method558(3, i33);
                }

            }
            int i17 = baseX - anInt1036;
            int j21 = baseY - anInt1037;
            anInt1036 = baseX;
            anInt1037 = baseY;
            for (int j24 = 0; j24 &lt; 16384; j24++) {
                NPC npc = npcArray[j24];
                if (npc != null) {
                    for (int j29 = 0; j29 &lt; 10; j29++) {
                        npc.smallX[j29] -= i17;
                        npc.smallY[j29] -= j21;
                    }

                    npc.x -= i17 * 128;
                    npc.y -= j21 * 128;
                }
            }

            for (int i27 = 0; i27 &lt; maxPlayers; i27++) {
                Player player = playerArray[i27];
                if (player != null) {
                    for (int i31 = 0; i31 &lt; 10; i31++) {
                        player.smallX[i31] -= i17;
                        player.smallY[i31] -= j21;
                    }

                    player.x -= i17 * 128;
                    player.y -= j21 * 128;
                }
            }

            aBoolean1080 = true;
            byte byte1 = 0;
            byte byte2 = 104;
            byte byte3 = 1;
            if (i17 &lt; 0) {
                byte1 = 103;
                byte2 = -1;
                byte3 = -1;
            }
            byte byte4 = 0;
            byte byte5 = 104;
            byte byte6 = 1;
            if (j21 &lt; 0) {
                byte4 = 103;
                byte5 = -1;
                byte6 = -1;
            }
            for (int k33 = byte1; k33 != byte2; k33 += byte3) {
                for (int l33 = byte4; l33 != byte5; l33 += byte6) {
                    int i34 = k33 + i17;
                    int j34 = l33 + j21;
                    for (int k34 = 0; k34 &lt; 4; k34++)
                        if (i34 &gt;= 0 &amp;&amp; j34 &gt;= 0 &amp;&amp; i34 &lt; 104 &amp;&amp; j34 &lt; 104)
                            groundArray[k34][k33][l33] = groundArray[k34][i34][j34];
                        else
                            groundArray[k34][k33][l33] = null;

                }

            }

            for (Class30_Sub1 class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetFirst(); class30_sub1_1 != null; class30_sub1_1 = (Class30_Sub1) aClass19_1179.reverseGetNext()) {
                class30_sub1_1.anInt1297 -= i17;
                class30_sub1_1.anInt1298 -= j21;
                if (class30_sub1_1.anInt1297 &lt; 0 || class30_sub1_1.anInt1298 &lt; 0 || class30_sub1_1.anInt1297 &gt;= 104 || class30_sub1_1.anInt1298 &gt;= 104)
                    class30_sub1_1.unlink();
            }

            if (destX != 0) {
                destX -= i17;
                destY -= j21;
            }
            aBoolean1160 = false;
            pktType = -1;
            return true;
        }[/code]
</code></pre>
<p>replace it with this and im pretty sure it’ll work<br>
[/quote]From the first 200 or so lines I looked at, they seem identical…[/quote]</p>
<p>ok well only 1 line is changed so…</p>
<aside class="quote" data-post="26" data-topic="542919">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/hcojustin/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> HcoJustin:</div>
<blockquote>
<p>If that is the problem then OP needs to not send the map region before sending the new packet, or make sure he sends a different region X/Y</p>
</blockquote>
</aside>
<p>i had this problem before so i think it’ll fix it</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T07:50:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:35Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#29</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="26" data-topic="542919">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/hcojustin/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> HcoJustin:</div>
<blockquote>
<p>If that is the problem then OP needs to not send the map region before sending the new packet, or make sure he sends a different region X/Y</p>
</blockquote>
</aside>
<p>wait so I shouldn’t be sending the map region before the packet?</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Dan0194.html'><span itemprop='name'>Dan0194</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T14:57:55Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:37Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#30</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lare69, post:29, topic:542919”][quote author=HcoJustin link=topic=661796.msg4424698#msg4424698 date=1400288170]<br>
If that is the problem then OP needs to not send the map region before sending the new packet, or make sure he sends a different region X/Y<br>
[/quote]<br>
wait so I shouldn’t be sending the map region before the packet?[/quote]<br>
I send the map region before the packet and it still works for me.  <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T16:03:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:38Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#31</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lare69, post:29, topic:542919”][quote author=HcoJustin link=topic=661796.msg4424698#msg4424698 date=1400288170]<br>
If that is the problem then OP needs to not send the map region before sending the new packet, or make sure he sends a different region X/Y<br>
[/quote]<br>
wait so I shouldn’t be sending the map region before the packet?[/quote]<br>
According to the code, no. If the region X/Y are the same as from the last time the packet was received it will ignore it.</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/strucker.html'><span itemprop='name'>strucker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T19:36:51Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:41Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#32</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How would i go around doing this??? <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"> <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T19:38:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:41Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#33</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="32" data-topic="542919">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/strucker/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Strucker:</div>
<blockquote>
<p>How would i go around doing this??? <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"> <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
</blockquote>
</aside>
<p><a href="http://www.rune-server.org/runescape-development/rs2-server/tutorials/518679-pi-real-construction-using-construct-map-region-packet.html" class="onebox" target="_blank" rel="nofollow noopener">http://www.rune-server.org/runescape-development/rs2-server/tutorials/518679-pi-real-construction-using-construct-map-region-packet.html</a><br>
Might help.</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/strucker.html'><span itemprop='name'>strucker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T21:19:50Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:41Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#34</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>what would this packet be in pi[code] public PacketEncoder sendCustomMapRegion(Palette palette) {<br>
this.sendMapRegion();<br>
PacketBuffer.WriteBuffer out = PacketBuffer.newWriteBuffer(100);<br>
out.writeVariableShortPacketHeader(241);<br>
out.writeShort(player.getPosition().getRegionY() + 6, ValueType.A);<br>
out.setAccessType(AccessType.BIT_ACCESS);</p>
<pre><code>    for (int z = 0; z &lt; 4; z++) {
        for (int x = 0; x &lt; 13; x++) {
            for (int y = 0; y &lt; 13; y++) {
                PaletteTile tile = palette.getTile(x, y, z);
                out.writeBits(1, tile != null ? 1 : 0);
                if (tile != null) {
                    out.writeBits(26, tile.getX() &lt;&lt; 14 | tile.getY() &lt;&lt; 3 | tile.getZ() &lt;&lt; 24 | tile.getRotation() &lt;&lt; 1);
                }
            }
        }
    }
    out.setAccessType(AccessType.BYTE_ACCESS);
    out.writeShort(player.getPosition().getRegionX() + 6);
    out.finishVariableShortPacketHeader();
    player.getSession().encode(out);
    return this;
}[/code] 
</code></pre>
<p>edit found this in my packet handler<br>
packetId[241] = new ClickingInGame();<br>
is it by anychance wrong? the ClickingInGame class is empty…</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T21:30:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:41Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#35</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Strucker, post:34, topic:542919”]what would this packet be in pi[code] public PacketEncoder sendCustomMapRegion(Palette palette) {<br>
this.sendMapRegion();<br>
PacketBuffer.WriteBuffer out = PacketBuffer.newWriteBuffer(100);<br>
out.writeVariableShortPacketHeader(241);<br>
out.writeShort(player.getPosition().getRegionY() + 6, ValueType.A);<br>
out.setAccessType(AccessType.BIT_ACCESS);</p>
<pre><code>    for (int z = 0; z &lt; 4; z++) {
        for (int x = 0; x &lt; 13; x++) {
            for (int y = 0; y &lt; 13; y++) {
                PaletteTile tile = palette.getTile(x, y, z);
                out.writeBits(1, tile != null ? 1 : 0);
                if (tile != null) {
                    out.writeBits(26, tile.getX() &lt;&lt; 14 | tile.getY() &lt;&lt; 3 | tile.getZ() &lt;&lt; 24 | tile.getRotation() &lt;&lt; 1);
                }
            }
        }
    }
    out.setAccessType(AccessType.BYTE_ACCESS);
    out.writeShort(player.getPosition().getRegionX() + 6);
    out.finishVariableShortPacketHeader();
    player.getSession().encode(out);
    return this;
}[/code][/quote]
</code></pre>
<p>Hey bud, I know you’re wanting to get this to work and all… But this isn’t your topic…</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ashi.html'><span itemprop='name'>Ashi</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T21:31:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:41Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#36</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:35, topic:542919”][quote author=Strucker link=topic=661796.msg4424867#msg4424867 date=1400361590]<br>
what would this packet be in pi[code] public PacketEncoder sendCustomMapRegion(Palette palette) {<br>
this.sendMapRegion();<br>
PacketBuffer.WriteBuffer out = PacketBuffer.newWriteBuffer(100);<br>
out.writeVariableShortPacketHeader(241);<br>
out.writeShort(player.getPosition().getRegionY() + 6, ValueType.A);<br>
out.setAccessType(AccessType.BIT_ACCESS);</p>
<pre><code>    for (int z = 0; z &lt; 4; z++) {
        for (int x = 0; x &lt; 13; x++) {
            for (int y = 0; y &lt; 13; y++) {
                PaletteTile tile = palette.getTile(x, y, z);
                out.writeBits(1, tile != null ? 1 : 0);
                if (tile != null) {
                    out.writeBits(26, tile.getX() &lt;&lt; 14 | tile.getY() &lt;&lt; 3 | tile.getZ() &lt;&lt; 24 | tile.getRotation() &lt;&lt; 1);
                }
            }
        }
    }
    out.setAccessType(AccessType.BYTE_ACCESS);
    out.writeShort(player.getPosition().getRegionX() + 6);
    out.finishVariableShortPacketHeader();
    player.getSession().encode(out);
    return this;
}[/code]
</code></pre>
<p>[/quote]<br>
Hey bud, I know you’re wanting to get this to work and all… But this isn’t your topic…[/quote]<br>
Are you trying to get your post count up by posting useless things?</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T21:33:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:42Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#37</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Ashi, post:36, topic:542919”][quote author=sk8rdude461 link=topic=661796.msg4424870#msg4424870 date=1400362223]</p>
<aside class="quote">
<blockquote>
<p>what would this packet be in pi[code] public PacketEncoder sendCustomMapRegion(Palette palette) {<br>
this.sendMapRegion();<br>
PacketBuffer.WriteBuffer out = PacketBuffer.newWriteBuffer(100);<br>
out.writeVariableShortPacketHeader(241);<br>
out.writeShort(player.getPosition().getRegionY() + 6, ValueType.A);<br>
out.setAccessType(AccessType.BIT_ACCESS);</p>
<pre><code>    for (int z = 0; z &lt; 4; z++) {
        for (int x = 0; x &lt; 13; x++) {
            for (int y = 0; y &lt; 13; y++) {
                PaletteTile tile = palette.getTile(x, y, z);
                out.writeBits(1, tile != null ? 1 : 0);
                if (tile != null) {
                    out.writeBits(26, tile.getX() &lt;&lt; 14 | tile.getY() &lt;&lt; 3 | tile.getZ() &lt;&lt; 24 | tile.getRotation() &lt;&lt; 1);
                }
            }
        }
    }
    out.setAccessType(AccessType.BYTE_ACCESS);
    out.writeShort(player.getPosition().getRegionX() + 6);
    out.finishVariableShortPacketHeader();
    player.getSession().encode(out);
    return this;
}[/code]
</code></pre>
</blockquote>
</aside>
<p>Hey bud, I know you’re wanting to get this to work and all… But this isn’t your topic…<br>
[/quote]<br>
Are you trying to get your post count up by posting useless things?[/quote]<br>
No. He is technically off topic by posting his own issue(s).</p>
<p>If he wants help with the construct region packet, he should make his own topic about it. That way it doesn’t interfere with lare96 getting help.</p>
<p>Also, by stating I posted a useless reply, you posted a useless reply as well.</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Dan0194.html'><span itemprop='name'>Dan0194</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T21:35:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:42Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#38</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Strucker, post:34, topic:542919”]what would this packet be in pi[code] public PacketEncoder sendCustomMapRegion(Palette palette) {<br>
this.sendMapRegion();<br>
PacketBuffer.WriteBuffer out = PacketBuffer.newWriteBuffer(100);<br>
out.writeVariableShortPacketHeader(241);<br>
out.writeShort(player.getPosition().getRegionY() + 6, ValueType.A);<br>
out.setAccessType(AccessType.BIT_ACCESS);</p>
<pre><code>    for (int z = 0; z &lt; 4; z++) {
        for (int x = 0; x &lt; 13; x++) {
            for (int y = 0; y &lt; 13; y++) {
                PaletteTile tile = palette.getTile(x, y, z);
                out.writeBits(1, tile != null ? 1 : 0);
                if (tile != null) {
                    out.writeBits(26, tile.getX() &lt;&lt; 14 | tile.getY() &lt;&lt; 3 | tile.getZ() &lt;&lt; 24 | tile.getRotation() &lt;&lt; 1);
                }
            }
        }
    }
    out.setAccessType(AccessType.BYTE_ACCESS);
    out.writeShort(player.getPosition().getRegionX() + 6);
    out.finishVariableShortPacketHeader();
    player.getSession().encode(out);
    return this;
}[/code] 
</code></pre>
<p>edit found this in my packet handler<br>
packetId[241] = new ClickingInGame();<br>
is it by anychance wrong? the ClickingInGame class is empty…[/quote]<br>
This is a outgoing packet not an incoming packet.</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/strucker.html'><span itemprop='name'>strucker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T21:40:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:42Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#39</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:35, topic:542919”][quote author=Strucker link=topic=661796.msg4424867#msg4424867 date=1400361590]<br>
what would this packet be in pi[code] public PacketEncoder sendCustomMapRegion(Palette palette) {<br>
this.sendMapRegion();<br>
PacketBuffer.WriteBuffer out = PacketBuffer.newWriteBuffer(100);<br>
out.writeVariableShortPacketHeader(241);<br>
out.writeShort(player.getPosition().getRegionY() + 6, ValueType.A);<br>
out.setAccessType(AccessType.BIT_ACCESS);</p>
<pre><code>    for (int z = 0; z &lt; 4; z++) {
        for (int x = 0; x &lt; 13; x++) {
            for (int y = 0; y &lt; 13; y++) {
                PaletteTile tile = palette.getTile(x, y, z);
                out.writeBits(1, tile != null ? 1 : 0);
                if (tile != null) {
                    out.writeBits(26, tile.getX() &lt;&lt; 14 | tile.getY() &lt;&lt; 3 | tile.getZ() &lt;&lt; 24 | tile.getRotation() &lt;&lt; 1);
                }
            }
        }
    }
    out.setAccessType(AccessType.BYTE_ACCESS);
    out.writeShort(player.getPosition().getRegionX() + 6);
    out.finishVariableShortPacketHeader();
    player.getSession().encode(out);
    return this;
}[/code]
</code></pre>
<p>[/quote]<br>
Hey bud, I know you’re wanting to get this to work and all… But this isn’t your topic…[/quote]<a href="https://www.moparisthebest.com/smf/index.php?topic=662016.new#new" rel="nofollow noopener">https://www.moparisthebest.com/smf/index.php?topic=662016.new#new</a><br>
help me now?lolol</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/TabbyKiller.html'><span itemprop='name'>TabbyKiller</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-17T23:53:46Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:08:42Z' class='post-time'>
              August 4, 2016,  1:08pm
            </time>
        <span itemprop='position'>#40</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I seemed to have screwed up this post, sorry about that. Apparently when I split the topic it completely removed other parts of the topic?</p>
<p>EDIT: all fixed, mostly, sorry about that.</p>
      </div>

      <meta itemprop='headline' content='Construct map region packet'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="542919.html">← previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="5429199ba9.html?page=3">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/construct-map-region-packet/542919?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 01:22:32 GMT -->
</html>
