<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/already-searched-this-sarcophagus/554656 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Already searched this sarcophagus - Runescape - moparisthebest.com</title>
    <meta name="description" content="I&amp;#39;m working on barrows trying to figure out why i keep getting this Already searched this sarcophagus when i clearly never even started the mini-game! I changed my coffin id&amp;#39;s ect.. to match my server and it&amp;#39;s still assu&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="554656.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Already searched this sarcophagus&#39;" href="554656.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/already-searched-this-sarcophagus/554656" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/already-searched-this-sarcophagus/554656" />
<meta property="og:title" content="Already searched this sarcophagus" />
<meta name="twitter:title" content="Already searched this sarcophagus" />
<meta property="og:description" content="I’m working on barrows trying to figure out why i keep getting this Already searched this sarcophagus when i clearly never even started the mini-game! I changed my coffin id’s ect… to match my server and it’s still assuming that i done did that barrows i don’t know if it has something to do with how it’s saving or what but here’s some codes that could be useful. Reason for the Ahrims being different from others is because its the one i’m working with until i figure it out so i can fix the rest.  ..." />
<meta name="twitter:description" content="I’m working on barrows trying to figure out why i keep getting this Already searched this sarcophagus when i clearly never even started the mini-game! I changed my coffin id’s ect… to match my server and it’s still assuming that i done did that barrows i don’t know if it has something to do with how it’s saving or what but here’s some codes that could be useful. Reason for the Ahrims being different from others is because its the one i’m working with until i figure it out so i can fix the rest.  ..." />
<meta property="article:published_time" content="2016-02-06T08:17:43+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="554656.html">Already searched this sarcophagus</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/tank_nation.html'><span itemprop='name'>tank_nation</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-06T08:17:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:35Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m working on barrows trying to figure out why i keep getting this Already searched this sarcophagus when i clearly never even started the mini-game! I changed my coffin id’s ect… to match my server and it’s still assuming that i done did that barrows i don’t know if it has something to do with how it’s saving or what but here’s some codes that could be useful. Reason for the Ahrims being different from others is because its the one i’m working with until i figure it out so i can fix the rest.</p>
<p>Barrows.java</p>
<p><code>public static int[][] barrowData = {
	/** ID Coffin X Y Stair X Y */
	{ 2026, 6771, 3556, 9716, 6703, 3574, 3297 }, /** Dharoks */
	{ 2030, 6823, 3575, 9706, 6707, 3557, 3297 }, /** Veracs */
	{ 1672, 20770, 3557, 9700, 6702, 3565, 3288 }, /** Ahrims */
	{ 2029, 6772, 3568, 9685, 6706, 3554, 3282 }, /** Torags */
	{ 2027, 6773, 3537, 9703, 6704, 3577, 3282 }, /** Guthans */
	{ 2028, 6822, 3549, 9682, 6705, 3566, 3275 } /** Karils */
	};</code></p>
<p>Actionhandler.java this is handling where the coffin is clicked on i wasnt sure if the x and y coords could have been different.</p>
<p><code>case 20770:
		if(c.barrowsNpcs[5][1] == 0) {
			Server.npcHandler.spawnNpc(c, 2025, c.getX()-1, c.getY(), 3, 0, 90, 19, 200, 200, true, true);
			c.barrowsNpcs[5][1] = 1;
		} else {
			c.sendMessage("You have already searched in this sarcophagus.");
		}
		break;</code></p>
<p>Barrows.java</p>
<p><code>public void checkCoffins() {
		if (c.barrowsKillCount &lt; 5) {
			c.getPA().removeAllWindows();
			c.sendMessage("Finish killing these brothers to get to the chest room!");
			if (c.barrowsNpcs[2][1] == 0) {
				c.sendMessage("- Karils");
			}
			if (c.barrowsNpcs[3][1] == 0) {
				c.sendMessage("- Guthans");
			}
			if (c.barrowsNpcs[1][1] == 0) {
				c.sendMessage("- Torags");
			}
			if (c.barrowsNpcs[5][1] == 0) {
				c.sendMessage("- Ahrims");
			}
			if (c.barrowsNpcs[0][1] == 0) {
				c.sendMessage("- Veracs");
			}
			c.getPA().removeAllWindows();
		} else if (c.barrowsKillCount == 5) {
			c.getPA().movePlayer(3551, 9694, 0);
			c.sendMessage("You teleport to the chest.");
			// Server.npcHandler.spawnNpc(c, 2026, c.getX(), c.getY()-1, 3, 0,
			// 120, 25, 200, 200, true, true);
			// c.getPA().removeAllWindows();
		} else if (c.barrowsKillCount &gt; 5) {
			// c.getPA().movePlayer(3551, 9694, 0);
			// c.sendMessage("You teleport to the chest.");
			c.getPA().removeAllWindows();
		}
	}</code></p>
      </div>

      <meta itemprop='headline' content='Already searched this sarcophagus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-06T08:50:49Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:35Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Please do not use an array for data like this.<br>
As you can clearly see, it’s messy.<br>
You also have to comment what each of the values are so you don’t get confused.</p>
<p>An example of what you <span class="bbcode-i">could</span> use instead, and get the exact same results (If not better), is an enum:</p>
<p>[code=java]<br>
public enum BarrowsBrother {<br>
DHAROK,<br>
VERAC,<br>
AHRIM,<br>
TORAG,<br>
GUTHAN,<br>
KARIL;</p>
<pre><code> BarrowsBrother() {
  
 }
</code></pre>
<p>}[/code]</p>
<p>Then you populate it with data…</p>
<p>[code=java]public enum BarrowsBrother {<br>
DHAROK(1,2,3,4,5,6),<br>
VERAC(1,2,3,4,5,6),<br>
AHRIM(1,2,3,4,5,6),<br>
TORAG(1,2,3,4,5,6),<br>
GUTHAN(1,2,3,4,5,6),<br>
KARIL(1,2,3,4,5,6);<br>
public int npcId, coffinX, coffinY, stairsId, stairX, stairY;</p>
<pre><code>BarrowsBrother(int npcId, int coffinX, int coffinY, int stairsId, int stairX, int stairY) {
	this.npcId = npcId;
	this.coffinX = coffinX;
	this.coffinY = coffinY;
	this.stairsId = stairsId;
	this.stairX = stairX;
	this.stairY = stairY;
}
</code></pre>
<p>}[/code]</p>
<p>Now you want to use a <span class="bbcode-b">for loop</span> so you can grab the enum data by the npcId (You can use other values to get the data, this is an example).</p>
<p><code>public static BarrowsBrother getForNpcId(int npcId) {
    for(BarrowsBrother b : BarrowsBrother.values()) {
        if(b != null &amp;&amp; b.npcId == npcId);
            return b;
    }
    return null;
}</code></p>
<p>Now that you have that, you can check for the specified npc, instead of checking all the npcs and making sure that’s what one it is:</p>
<p><code>if(BarrowsBrother.getForNpcId(npcId) != null) {
     // The data isn't null so they're interacting with a barrows brother. Can now check if the object x/y is correct or whatever is needed.
}</code></p>
<p>An example of getting the barrowsbrother data using object x/y:</p>
<p><code>public static BarrowsBrother getForCoffinPos(int objectX, int objectY) {
    for(BarrowsBrother b : BarrowsBrother.values()) {
        if(b != null &amp;&amp; b.coffinX == objectX &amp;&amp; b.coffinY == objectY);
            return b;
    }
    return null;
}</code><br>
^That could be used when you click a sarcophagus.</p>
<p>Note: Post the rest of the code related to your barrows. Not just the ‘bits and pieces’ you think helps.</p>
      </div>

      <meta itemprop='headline' content='Already searched this sarcophagus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/X-J-K-X.html'><span itemprop='name'>X-J-K-X</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-06T12:57:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:35Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>^</p>
<p>The reason it’s not working is because</p>
<blockquote>if(c.barrowsNpcs[5][1] == 0) {</blockquote>
<p>You are checking if the id of the npc is equal to 0, which it never is so it will never execute the code inside.</p>
<p>Then you’re setting it to 1 after the npc is being spawned?</p>
<blockquote>c.barrowsNpcs[5][1] = 1;</blockquote>
<p>You should only set the “killed brother” flag to true when you have actually killed the npc or all sorts of problems arise.</p>
<p>Scenario: I click the coffin, it spawns me an npc and sets my id to 1. I teleport out because I forgot food, go back and can no longer click the coffin?</p>
      </div>

      <meta itemprop='headline' content='Already searched this sarcophagus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/already-searched-this-sarcophagus/554656 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:45 GMT -->
</html>
