<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/build-and-send-an-object-through-a-socket/544752 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 23:46:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Build and send an object through a socket? - Runescape - moparisthebest.com</title>
    <meta name="description" content="Alright, I&amp;#39;ve got the base of this working, but nothing else. I have a socket system working, with my source set up as a client, and a running application built with PHP as the server. When a use logs in our out, it crea&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="544752.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Build and send an object through a socket?&#39;" href="544752.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/build-and-send-an-object-through-a-socket/544752" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/build-and-send-an-object-through-a-socket/544752" />
<meta property="og:title" content="Build and send an object through a socket?" />
<meta name="twitter:title" content="Build and send an object through a socket?" />
<meta property="og:description" content="Alright, I’ve got the base of this working, but nothing else. I have a socket system working, with my source set up as a client, and a running application built with PHP as the server. When a use logs in our out, it creates a socket connection to the web host, then sends it to the PHP script so it can be stored in a database. It also monitors how many players are online and stores to SQL every minute, then builds a graph for server analytics or whatever the hell you want. Now, sense you can only..." />
<meta name="twitter:description" content="Alright, I’ve got the base of this working, but nothing else. I have a socket system working, with my source set up as a client, and a running application built with PHP as the server. When a use logs in our out, it creates a socket connection to the web host, then sends it to the PHP script so it can be stored in a database. It also monitors how many players are online and stores to SQL every minute, then builds a graph for server analytics or whatever the hell you want. Now, sense you can only..." />
<meta property="article:published_time" content="2014-07-08T16:30:34+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="5447524658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="544752.html">Build and send an object through a socket?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T16:30:34Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:34Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alright, I’ve got the base of this working, but nothing else. I have a socket system working, with my source set up as a client, and a running application built with PHP as the server. When a use logs in our out, it creates a socket connection to the web host, then sends it to the PHP script so it can be stored in a database. It also monitors how many players are online and stores to SQL every minute, then builds a graph for server analytics or whatever the hell you want. Now, sense you can only send one string a time through sockets, this system doesn’t necessarily work well for saving banks (for instance). I’m wondering how I can send whole objects through sockets, and then process them PHP-sided. Ideally, i’d like to build a new object for all bank items, then send it to the PHP script, so it can be properly processed. Currently, the system is called in the initialize() method like so:</p>
<pre><code class="lang-auto"></code></pre>
<p>or in the destruct() method like so:</p>
<pre><code class="lang-auto"></code></pre>
<p>Here is an example of how it sends information to the webserver, from the SocketClient class.</p>
<p><code>public static boolean LoggedIn(Client c) {
		try {
			Socket s = new Socket("127.0.0.1", 1300);
			BufferedReader br = new BufferedReader(new InputStreamReader(s.getInputStream()));
			BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));
			bw.write("I"+playerName+"\n");
			bw.flush();
			System.out.println("[SOCKET-CLIENT]: Player information was sent to socket.");
			String line = "";
			while ((line = br.readLine()) != null) {
				System.out.println(line);
			}
			bw.close();
			br.close();
			s.close();
		} catch (IOException ex) {
			ex.printStackTrace();
			return false;
		}
		return true;
	}</code></p>
<p>This all works just fine. However, I want to build an object from a loop adding c.bankItems[i] and c.bankItemsN[i] to the object with each loop (for each bank item) and then send it to the webserver for processing.</p>
<p>Any tips, suggestions, methods, snippets, whatever, are greatly appreciated! Thanks in advance to anyone that can help. -TWG</p>
<p><span class="bbcode-i"><span class="bbcode-b">Edit: I know of ObjectOutputStream() but I haven’t been able to get it working properly. Also, I would hate to send a concatenated string. </span></span></p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/matzie.html'><span itemprop='name'>matzie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T16:37:45Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:34Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>For ObjectOutputStream you would have to have java reading it as well.<br>
This would come down to someone who is good with PHP read/write (: (Not me lol)</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T16:40:52Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:34Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“matzie, post:2, topic:544752”]For ObjectOutputStream you would have to have java reading it as well.<br>
This would come down to someone who is good with PHP read/write (: (Not me lol)[/quote]</p>
<p>I can manage it PHP-sided no problem, I’m a noob with Java. <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"> And I don’t want to send the current object as a whole because it has unneeded information associated with it.</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T17:19:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:34Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Serialize and send the entire object, only parse the information you need on your website.</p>
<p>Also may I ask what the purpose of this is? Wouldn’t a database be sufficient for this sort of thing?</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T17:36:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:34Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="544752">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>Serialize and send the entire object, only parse the information you need on your website.</p>
</blockquote>
</aside>
<p>Unfortunately Java and PHP serialization isn’t compatible iirc. You would have to construct your own format for communicating objects.</p>
<p>Perhaps this may help: <a href="http://stackoverflow.com/questions/18104274/serialize-php-unserialize-java-serialize-for-php-in-string-format" rel="nofollow noopener">http://stackoverflow.com/questions/18104274/serialize-php-unserialize-java-serialize-for-php-in-string-format</a></p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T18:37:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:35Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for the suggestions you guys.</p>
<p><a class="mention" href="../../u/atomic.html">@Atomic</a> - I’ve been messing around with stuff and building some analytic tools. The site logs how many servers are on, checks every five seconds. Performing an SQL query straight from the server every five seconds would be very slow.</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T18:43:20Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:35Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:6, topic:544752”]Thanks for the suggestions you guys.</p>
<p><a class="mention" href="../../u/atomic.html">@Atomic</a> - I’ve been messing around with stuff and building some analytic tools. The site logs how many servers are on, checks every five seconds. Performing an SQL query straight from the server every five seconds would be very slow.[/quote]</p>
<p>Is that really necessary to do? I think you need to re-think the design.</p>
<p>If all you’re doing it just performing a ping then maybe you should ping your servers from straight PHP on request, not every 5 seconds.</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T19:00:22Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:35Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorry, I made a typo, it doesn’t check whether or not the server is online, I could have just done a simple ping from PHP if I wanted to do that. The server tells the website how many players are on each second, with no lag/delay/etc. I was only doing this to test out and see what I can do, I want it to be able to send full objects to the website, so that I can log player banks, private messages, trades, etc. I’m really just working on a server logging/moderating system. Here is a short little video.</p>
<p><a href="http://tinypic.com/player.php?v=2jdqoee%3E&amp;s=8#.U7w-N_ldWT0" class="onebox" target="_blank" rel="nofollow noopener">http://tinypic.com/player.php?v=2jdqoee&gt;&amp;s=8#.U7w-N_ldWT0</a></p>
<p>(Ignore the extra recording at the end, Hypercam isn’t the nicest tool.)</p>
<p><span class="bbcode-b"><span class="bbcode-i"><span class="bbcode-u">Current Features/Setup</span></span></span></p>
<ul>
<li>Logging when a user logs in.</li>
<li>Logging when a user logs out.</li>
<li>How many players are online at all times.</li>
<li>Building a visual (polygon line graph) of users online, at what times.</li>
<li>SocketServer is PHP and can be ran (for this purpose) with a batch file, so that the server is always listening.</li>
<li>SocketClient is just a class Java-sided and can be called on actions, which it then sends some information to the server.</li>
<li>SocketServer either processes the data and sends a response, or inserts data into SQL.</li>
</ul>
<p>I’m really just messing around with stuff, trying to find new and faster ways to connect servers and sites, so that I can use it to build new systems later on. (ie. Faster Highscores, Automatic Donations, Voting Systems, SQL-Based Player saving/loading, etc.)</p>
<p>Only been working on this for a day or two, just messing around with crap. But would it be better to…<br>
a) Send a concatenated string.<br>
b) Build a new object Java-sided and send the object.<br>
c) Send the current object (Client) and then pick out what’s needed website-sided.</p>
<p>The whole idea of this is to make stuff faster server-sided. I’ve seen servers where you log-out and it spends 10-15 seconds logging out just to save highscores to SQL.</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ashi.html'><span itemprop='name'>Ashi</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T19:05:38Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:35Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You can set flags to do this and don’t create a new socket when a player logs in! You happily reuse one.</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T19:06:45Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:35Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="9" data-topic="544752">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ashi/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ashi:</div>
<blockquote>
<p>You can set flags to do this and don’t create a new socket when a player logs in! You happily reuse one.</p>
</blockquote>
</aside>
<p>It doesn’t create a new one, since Java is client-sided, it just reconnects to the socket server, sends info, and disconnects. A complete and constant website to Java bridge would be nice, but meh.</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T19:09:45Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:36Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:10, topic:544752”][quote author=Ashi link=topic=663629.msg4435157#msg4435157 date=1404846338]<br>
You can set flags to do this and don’t create a new socket when a player logs in! You happily reuse one.<br>
[/quote]</p>
<p>It doesn’t create a new one, since Java is client-sided, it just reconnects to the socket server, sends info, and disconnects. A complete and constant website to Java bridge would be nice, but meh.[/quote]</p>
<p>A database would be fine for this update on login and logout, reuse the same connection and statement</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ashi.html'><span itemprop='name'>Ashi</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T19:16:27Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:36Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:10, topic:544752”][quote author=Ashi link=topic=663629.msg4435157#msg4435157 date=1404846338]<br>
You can set flags to do this and don’t create a new socket when a player logs in! You happily reuse one.<br>
[/quote]</p>
<p>It doesn’t create a new one, since Java is client-sided, it just reconnects to the socket server, sends info, and disconnects. A complete and constant website to Java bridge would be nice, but meh.[/quote]<br>
Keep the socket open if you want to keep the connection alive lol</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T19:42:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:36Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Is something like this doable?</p>
<p><code> outputStream = new ObjectOutputStream(socket.getOutputStream());
	Player player = new Player(c.playerName, c.playerBank[1], c.playerBank[2] ... );
			outputStream.writeObject(Player);</code></p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T19:50:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:36Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why not use JSON?</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T23:30:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:41Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I didn’t <span class="bbcode-i">want</span> to do it this way, but I couldn’t find a better solution…</p>
<p><span class="bbcode-i"><span class="bbcode-b"><span class="bbcode-u">Process for saving bank…</span></span></span></p>
<ul>
<li>Player logs out, takes ~25ms for a full logout.</li>
<li>Concatenated string is built client-sided.</li>
<li>String is sent as a whole to PHP server. (PlayerName slot1,item1,amt1 slot2,item2,amt2)</li>
<li>PHP script takes apart the string and breaks it into item sets (slot1, item1, amt1)</li>
<li>Loop takes each item set and breaks it up further (slot1 - item1 - amt1)</li>
<li>Loop inserts each item into database as a different row.</li>
<li>Finishes.</li>
</ul>
<p><span class="bbcode-i"><span class="bbcode-b"><span class="bbcode-u">Timing the processes…</span></span></span><br>
<span class="bbcode-b">Player Logout:</span> <span class="bbcode-i">25ms (Average)</span><br>
<span class="bbcode-b">Saving to database:</span> <span class="bbcode-i">94ms (Average)</span><br>
<span class="bbcode-b">Fastest save to database:</span> <span class="bbcode-i">6ms</span><br>
<span class="bbcode-b">Slowest save to database:</span> <span class="bbcode-i">314ms</span> (this really messed up the average)</p>
<p>The above results are based on 1 player online, with 250 bank items, and 10 log outs (for finding the averages). The complete user log out and completely deregistering the player has gotten down to as fast as 26ms (this includes saving each of the 250 bank items to SQL)</p>
<p>Are these good results? Bad results? Image of the socket server command prompt/runner…</p>
<p><img src="http://i.imgur.com/8cfNqbT.png" alt width="" height=""></p>
<p>That is echoed by the PHP script after everything has been completely processed.</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pure2ownage.html'><span itemprop='name'>pure2ownage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T23:37:01Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:41Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Or you can just send the integer values, pending to be organized at the PHP host. Would save you a ton of time.<br>
short id, int amt, short id, int amt …</p>
<p>500 items would be 3,000 bytes (3kb).<br>
Whereas your current solution is probably more like 20-50kb.</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-09T00:34:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:42Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Pure_, post:16, topic:544752”]Or you can just send the integer values, pending to be organized at the PHP host. Would save you a ton of time.<br>
short id, int amt, short id, int amt …</p>
<p>500 items would be 3,000 bytes (3kb).<br>
Whereas your current solution is probably more like 20-50kb.[/quote]</p>
<p>But it’s averaging 94ms. o.o</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Death_Style.html'><span itemprop='name'>Death_Style</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-09T00:43:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:42Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>json</p>
<p>and if you’re going to repeatedly close and open the socket just post the data instead</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pure2ownage.html'><span itemprop='name'>pure2ownage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-09T00:44:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:42Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:17, topic:544752”][quote author=Pure_ link=topic=663629.msg4435239#msg4435239 date=1404862621]<br>
Or you can just send the integer values, pending to be organized at the PHP host. Would save you a ton of time.<br>
short id, int amt, short id, int amt …</p>
<p>500 items would be 3,000 bytes (3kb).<br>
Whereas your current solution is probably more like 20-50kb.<br>
[/quote]</p>
<p>But it’s averaging 94ms. o.o[/quote]Let’s say if you had to send 10 banks in one cycle - OH YEAH…</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-09T03:10:40Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:43Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Each session can be handled separately.</p>
      </div>

      <meta itemprop='headline' content='Build and send an object through a socket?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="5447524658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/build-and-send-an-object-through-a-socket/544752 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 23:46:21 GMT -->
</html>
