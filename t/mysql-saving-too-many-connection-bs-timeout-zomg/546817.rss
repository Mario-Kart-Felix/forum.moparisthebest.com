<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>MySQL Saving - Too many connection bs timeout zomg</title>
    <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817</link>
    <description>Okay, I&#39;m saving my users every 100ms to a mysql database. 

I&#39;m reusing the connection so after a while I&#39;ll get an error something along the lines &#39;max connections from ip reached&#39; then I can&#39;t connect to the database anymore unless I open a new connection.

I&#39;m using Hibernate by JBoss to handle all my services. 

My save method:

[code=java]
    Session s = HibernateUtil.getSessionFactory().openSession();
    s.beginTransaction();

    try {
        Player p = HibernateUtil.getPlayer(s, username);
	if (p != null) {
	    s.merge(this);
	}
    } finally {
	s.getTransaction().commit();
    }
[/code]


What can I do?</description>
    
    <lastBuildDate>Fri, 19 Sep 2014 08:14:04 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="37" data-topic="546817">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/hcojustin/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> HcoJustin:</div>
<blockquote>
<p>I swear Redis has eaten your soul</p>
</blockquote>
</aside>
<p>It’s a cool utility.</p>
<p>[quote=“Ashi, post:38, topic:546817”][quote author=sinisoul link=topic=665713.msg4450665#msg4450665 date=1411110249]<br>
You don’t need it. Please explain your premises about why you want to have players serialized in real time.</p>
<p>Performance, over engineering?  <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>Here’s a single solution you could do, You could cache changes to the player in memory, write the fields you changed to a JSON object, write it over Redis in bulk (Use their PUBLISH/SUBSCRIBE commands), have an external server write it to the database and send back which entries failed back to the channel the server is listening to.</p>
<p>Please just save on disconnect or on termination (Capture the termination signal).<br>
[/quote]<br>
No, the<span class="bbcode-b"> initial idea</span> was that if the player was modified in the database, the changes would be instantly shown.</p>
<p>Maybe not save with each tick, but I would still need something to load the player which insense would still resolve to needing to keep an active connection.</p>
<p>I’ve changed what I have to save on disconnect (time being, I’m going to run some tests to see how different worse case scenarios would be effected).</p>
<p>I don’t understand your solution. [/quote]</p>
<p>Reevaluate that.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/39">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/39</link>
        <pubDate>Fri, 19 Sep 2014 08:14:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-39</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@Ashi Ashi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ashi">@Ashi</a> wrote:</p>
          <blockquote>
              <p>[quote=“sinisoul, post:36, topic:546817”]You don’t need it. Please explain your premises about why you want to have players serialized in real time.</p>
<p>Performance, over engineering?  <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>Here’s a single solution you could do, You could cache changes to the player in memory, write the fields you changed to a JSON object, write it over Redis in bulk (Use their PUBLISH/SUBSCRIBE commands), have an external server write it to the database and send back which entries failed back to the channel the server is listening to.</p>
<p>Please just save on disconnect or on termination (Capture the termination signal).[/quote]<br>
No, the initial idea was that if the player was modified in the database, the changes would be instantly shown.</p>
<p>Maybe not save with each tick, but I would still need something to load the player which insense would still resolve to needing to keep an active connection.</p>
<p>I’ve changed what I have to save on disconnect (time being, I’m going to run some tests to see how different worse case scenarios would be effected).</p>
<p>I don’t understand your solution.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/38">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/38</link>
        <pubDate>Fri, 19 Sep 2014 07:52:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-38</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@HcoJustin HcoJustin]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/hcojustin">@HcoJustin</a> wrote:</p>
          <blockquote>
              <p>I swear Redis has eaten your soul</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/37">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/37</link>
        <pubDate>Fri, 19 Sep 2014 07:42:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-37</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>[quote=“Ashi, post:35, topic:546817”][quote author=sinisoul link=topic=665713.msg4450638#msg4450638 date=1411081643]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Okay, I’m saving my users every 100ms to a mysql database.<br>
[/quote][size=36pt]<span class="bbcode-b">You’re nuts.</span>[/size]</p>
</blockquote>
</aside>
<p>Why would you do that? Like seriously though. Why not trigger a save on disconnect?</p>
</blockquote>
</aside>
<p><span class="bbcode-b">I want to be able to update the player in realtime. </span>When the player is modify from the db I want it to update instantly without it being overridden. How would you do this?</p>
<p><span class="bbcode-b">I could trigger a save on disconnect, I still won’t gain anything?</span>[/quote]</p>
<p>You don’t need it. Please explain your premises about why you want to have players serialized in real time.</p>
<p>Performance, over engineering?  <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>Here’s a single solution you could do, You could cache changes to the player in memory, write the fields you changed to a JSON object, write it over Redis in bulk (Use their PUBLISH/SUBSCRIBE commands), have an external server write it to the database and send back which entries failed back to the channel the server is listening to.</p>
<p>Please just save on disconnect or on termination (Capture the termination signal).</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/36">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/36</link>
        <pubDate>Fri, 19 Sep 2014 07:04:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-36</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@Ashi Ashi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ashi">@Ashi</a> wrote:</p>
          <blockquote>
              <p>[quote=“sinisoul, post:27, topic:546817”][quote author=Davidi2 link=topic=665713.msg4450406#msg4450406 date=1410963483]</p>
<aside class="quote">
<blockquote>
<p>Okay, I’m saving my users every 100ms to a mysql database.<br>
[/quote][size=36pt]<span class="bbcode-b">You’re nuts.</span>[/size]</p>
</blockquote>
</aside>
<p>Why would you do that? Like seriously though. Why not trigger a save on disconnect?[/quote]<br>
I want to be able to update the player in realtime. When the player is modify from the db I want it to update instantly without it being overridden. How would you do this?</p>
<p>I could trigger a save on disconnect, I still won’t gain anything?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/35">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/35</link>
        <pubDate>Fri, 19 Sep 2014 06:54:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-35</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>[quote=“sinisoul, post:33, topic:546817”]?</p>
<p>I fail to see how your example is helpful to explaining your train of thought.</p>
<p>Final is an excessive keyword that is required for specific cases such as anonymous class references or implying immutability.</p>
<p>Code should be as simple as possible to better enhance the rate of comprehension by other programmers.</p>
<p>Using final in a case to promote the distinction of a field and parameter is unnecessary because it isn’t required and is therefore a distraction.</p>
<p>so with that in mind, please learn and work on your comprehension/ability. You’ve got a ways to go to explain yourself/reference primary resources effectively. :[/quote]</p>
<p>Ultimately, every contract I’ve had in the field, has stressed the use of the final keyword. And there have been no problems with comprehension, and helps with making the code maintainable with future readers. Anyone who is thrown of, or has trouble reading the code when viewing the final keyword frequently, should just take it for what it’s worth. All in all, it’s a matter of preference. If you don’t prefer using the final keyword, then don’t use it. If you don’t want to use it liberally, then don’t, but don’t be surprised if you run into an error that takes you longer to debug.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/34">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/34</link>
        <pubDate>Fri, 19 Sep 2014 01:45:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-34</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>?</p>
<p>I fail to see how your example is helpful to explaining your train of thought.</p>
<p>Final is an excessive keyword that is required for specific cases such as anonymous class references or implying immutability.</p>
<p>Code should be as simple as possible to better enhance the rate of comprehension by other programmers.</p>
<p>Using final in a case to promote the distinction of a field and parameter is unnecessary because it isn’t required and is therefore a distraction.</p>
<p>so with that in mind, please learn and work on your comprehension/ability. You’ve got a ways to go to explain yourself/reference primary resources effectively. :\</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/33">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/33</link>
        <pubDate>Fri, 19 Sep 2014 00:44:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-33</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>[quote=“sinisoul, post:31, topic:546817”][quote author=zyle1992 link=topic=665713.msg4450641#msg4450641 date=1411083266]</p>
<aside class="quote">
<blockquote>
<p>That’s pretty rare and it’s really redundant calling final explicitly for that purpose especially when you could just do a search to check for self assignment of parameters.</p>
<p>CTRL + F: [\w\d_]+[ ]?=[ ]?[\w\d_]+;</p>
<p><img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>What if you need to modify the parameter? Then you can’t use that as a fail safe. Please stop doing that.</p>
</blockquote>
</aside>
<p>Modifying the parameter, if it’s passed by reference, can cause changes outside of the scope of the method.</p>
<p>Also, doing it this way, I have never had to modify the parameter. Ever.</p>
<p>See <a href="http://programmers.stackexchange.com/questions/98691/excessive-use-final-keyword-in-java" data-bbcode="true">http://programmers.stackexchange.com/questions/98691/excessive-use-final-keyword-in-java</a><br>
[/quote]</p>
<aside class="quote">
<blockquote>
<p>There are many references suggesting a liberal use of final. The Java Language Specification even has a section on final variables. Various rules in static analysis tools also support this - PMD even has a number of rules to detect when final can be used. The pages that I linked to provide a number of points as to what final does and why you should use it liberally.</p>
</blockquote>
</aside>
<p>Liberally. <span class="bbcode-b">Liberally</span>.</p>
<p>What? Are you saying if I do this:</p>
<pre><code class="lang-auto">c = func(a)
   a = 5;
end

int d = 5;
c(d);</code></pre>
<p>D will be modified? What? Please tell me you know more than this.[/quote]</p>
<p>See <a href="http://www.merriam-webster.com/thesaurus/liberally" data-bbcode="true">http://www.merriam-webster.com/thesaurus/liberally</a></p>
<blockquote>in a generous manner</blockquote>
Also:
<pre><code class="lang-auto">    
    static int value = 5;
    
    public static void main(final String[] args) {
        check();
        System.out.println(value);
    }
    
    public static void check() {
        new Thread() {
            @Override
            public void run() {
                value = 12;
            }
        }.start();
        try {
            Thread.sleep(1000);
        }
        catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
</code></pre>
<p><span class="bbcode-i">value</span> is now 12.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/32">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/32</link>
        <pubDate>Thu, 18 Sep 2014 23:49:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-32</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>[quote=“zyle1992, post:30, topic:546817”][quote author=sinisoul link=topic=665713.msg4450640#msg4450640 date=1411083149]<br>
That’s pretty rare and it’s really redundant calling final explicitly for that purpose especially when you could just do a search to check for self assignment of parameters.</p>
<p>CTRL + F: [\w\d_]+[ ]?=[ ]?[\w\d_]+;</p>
<p><img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>What if you need to modify the parameter? Then you can’t use that as a fail safe. Please stop doing that.<br>
[/quote]</p>
<p>Modifying the parameter, if it’s passed by reference, can cause changes outside of the scope of the method.</p>
<p>Also, doing it this way, I have never had to modify the parameter. Ever.</p>
<p>See <a href="http://programmers.stackexchange.com/questions/98691/excessive-use-final-keyword-in-java" data-bbcode="true" rel="nofollow noopener">http://programmers.stackexchange.com/questions/98691/excessive-use-final-keyword-in-java</a>[/quote]</p>
<blockquote>There are many references suggesting a liberal use of final. The Java Language Specification even has a section on final variables. Various rules in static analysis tools also support this - PMD even has a number of rules to detect when final can be used. The pages that I linked to provide a number of points as to what final does and why you should use it liberally.</blockquote>
<p>Liberally. <span class="bbcode-b">Liberally</span>.</p>
<p>What? Are you saying if I do this:</p>
<pre><code class="lang-auto">c = func(a)
   a = 5;
end

int d = 5;
c(d);</code></pre>
<p>D will be modified? What? Please tell me you know more than this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/31">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/31</link>
        <pubDate>Thu, 18 Sep 2014 23:45:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-31</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>[quote=“sinisoul, post:29, topic:546817”]That’s pretty rare and it’s really redundant calling final explicitly for that purpose especially when you could just do a search to check for self assignment of parameters.</p>
<p>CTRL + F: [\w\d_]+[ ]?=[ ]?[\w\d_]+;</p>
<p><img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>What if you need to modify the parameter? Then you can’t use that as a fail safe. Please stop doing that.[/quote]</p>
<p>Modifying the parameter, if it’s passed by reference, can cause changes outside of the scope of the method.</p>
<p>Also, doing it this way, I have never had to modify the parameter. Ever.</p>
<p>See <a href="http://programmers.stackexchange.com/questions/98691/excessive-use-final-keyword-in-java" data-bbcode="true">http://programmers.stackexchange.com/questions/98691/excessive-use-final-keyword-in-java</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/30">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/30</link>
        <pubDate>Thu, 18 Sep 2014 23:34:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-30</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>That’s pretty rare and it’s really redundant calling final explicitly for that purpose especially when you could just do a search to check for self assignment of parameters.</p>
<p>CTRL + F: [\w\d_]+[ ]?=[ ]?[\w\d_]+;</p>
<p><img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>What if you need to modify the parameter? Then you can’t use that as a fail safe. Please stop doing that.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/29">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/29</link>
        <pubDate>Thu, 18 Sep 2014 23:32:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-29</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="27" data-topic="546817">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/sinisoul/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sinisoul:</div>
<blockquote>
<p>Also, why the fudge do people use final for parameters when you don’t need to. RAGGEEE</p>
</blockquote>
</aside>
<p>To ensure that anyone possibly modifying the code doesn’t unintentionally modify the parameter, instead of a field by the same name</p>
<pre><code class="lang-auto">
public void setName(String name) {
    name = name;
}
private String name;</code></pre>
<p>This shows a redundant assignment of the parameter. If the code were</p>
<pre><code class="lang-auto">public void setName(final String name) {
    name = name;
}</code></pre>
<p>It would throw a compilation error, immediately notifying the developer that something is wrong. Namely, that the code should be</p>
<pre><code class="lang-auto">public void setName(final String name) {
    this.name = name;
}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/28">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/28</link>
        <pubDate>Thu, 18 Sep 2014 23:25:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-28</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>[quote=“Davidi2, post:2, topic:546817”][quote author=Ashi link=topic=665713.msg4450402#msg4450402 date=1410958768]<br>
Okay, I’m saving my users every 100ms to a mysql database.<br>
[/quote][size=36pt]<span class="bbcode-b">You’re nuts.</span>[/size][/quote]</p>
<p>Why would you do that? Like seriously though. Why not trigger a save on disconnect?</p>
<p>Also, why the fudge do people use final for parameters when you don’t need to. RAGGEEE</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/27">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/27</link>
        <pubDate>Thu, 18 Sep 2014 23:07:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-27</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@Ashi Ashi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ashi">@Ashi</a> wrote:</p>
          <blockquote>
              <p>[quote=“Eyeownyew, post:24, topic:546817”][quote author=Ashi link=topic=665713.msg4450581#msg4450581 date=1411057084]</p>
<aside class="quote">
<blockquote>
<p>why would them x logging matter?</p>
</blockquote>
</aside>
<p>I’m storing each player into a list. Once they close the connection they’re removed from it.<br>
I’m using the stored objects for saving.<br>
[/quote]<br>
Then save the information right before you remove them from the list? There’s ways to get around this so you don’t have to have such operations performed so ridiculously often[/quote]<br>
I’m fine with saving everybody at once instead of saving individuals at different times.</p>
<aside class="quote" data-post="25" data-topic="546817">
<div class="title">
<div class="quote-controls"></div>
 Justin Bieber:</div>
<blockquote>
<p>what’s the point in wasting huge amounts of computing power on something you can avoid with a few lines of code…</p>
</blockquote>
</aside>
<p>Hardly wasting any computing power. I’d like to see how you’d implement this.</p>
<p>Just a side note, the connection is always active. Just an active stream sending data. There is no overhead, performance is good, much better then how rs kiddys do it. It computes fine, I’ve already ran a few test and I could probably leave this running for 100 years (exaggerated) without it being an issue.</p>
<p>Somebody give me a solid reason why I should create a seperate task for saving and how you would handle it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/26">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/26</link>
        <pubDate>Thu, 18 Sep 2014 22:50:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-26</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@xx_matty_xx Justin Bieber]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xx_matty_xx">@xx_matty_xx</a> wrote:</p>
          <blockquote>
              <p>what’s the point in wasting huge amounts of computing power on something you can avoid with a few lines of code…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/25">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/25</link>
        <pubDate>Thu, 18 Sep 2014 22:31:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-25</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <p>[quote=“Ashi, post:10, topic:546817”][quote author=Mopman link=topic=665713.msg4450574#msg4450574 date=1411053513]<br>
why would them x logging matter?<br>
[/quote]<br>
I’m storing each player into a list. Once they close the connection they’re removed from it.<br>
I’m using the stored objects for saving.[/quote]<br>
Then save the information right before you remove them from the list? There’s ways to get around this so you don’t have to have such operations performed so ridiculously often</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/24</link>
        <pubDate>Thu, 18 Sep 2014 22:22:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-24</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@Ashi Ashi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ashi">@Ashi</a> wrote:</p>
          <blockquote>
              <p>[quote=“Davidi2, post:20, topic:546817”][quote author=Ashi link=topic=665713.msg4450621#msg4450621 date=1411072656]</p>
<aside class="quote">
<blockquote>
<p>server ticks once 600ms<br>
players can do one thing per 600ms<br>
we save 100ms (6 times per second)<br>
that is your issue rofl</p>
</blockquote>
</aside>
<p>It’s not a rsps tho. My app ticks every 100ms so I’m using that.<br>
[/quote][quote author=Ashi link=topic=665713.msg4450450#msg4450450 date=1410983806]</p>
<aside class="quote">
<blockquote>
<p>I assumed this was for RSPS, whether or not it is insane depends on the application I guess. If it is RSPS it is quite insane, especially as you get more players logged in <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
</blockquote>
</aside>
<p>Yes it is!<br>
[/quote]Well that was confusing. It sounded like you were saying ‘yes it is a rsps’ lol[/quote]<br>
Sorry lol, I was using my phone and got lazy typing. Was hoping you all got what I meant <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<aside class="quote" data-post="21" data-topic="546817">
<div class="title">
<div class="quote-controls"></div>
 Justin Bieber:</div>
<blockquote>
<p>committing to the db every 100ms is batshit crazy whatever your appliation</p>
</blockquote>
</aside>
<p>Why is saving every 100ms crazy though? It was much easier just to run it as a background service on my applications tick then scheduling a job for it. I don’t lose anything.</p>
<p>[quote=“zyle1992, post:22, topic:546817”][code=Java]<br>
public interface PlayerRepository {</p>
<pre><code>void fetch(final String name);

void commit(final Player player);
</code></pre>
<p>}<br>
[/code]</p>
<p>[code=Java]<br>
public class SQLPlayerRepository implements PlayerRepository {</p>
<pre><code>public SQLPlayerRepository(final Connection connection) {
    if (connection == null) {
        throw new IllegalArgumentException("connection must not be null");
    }
    if (connection.isClosed()) {
        throw new IllegalStateException("connection must be open prior to using");
    }
    this.connection = connection;
}

public void fetch(final String playerName) {
    // call fetch player stored procedure
}

public void commit(final Player player) {
    if (player == null) {
        throw new IllegalArgumentException("player must not be null");
    }
    final String playerName = player.getName();
    // get other variables, and send to commit player stored procedure
}

public void commitAll(final Set&lt;Player&gt; players) {
    if (players == null) {
        throw new IllegalArgumentException("players set must not be null");
    }
    for (final Player player : players) {
        final String statementString = "EXEC commit_player ? ? ? ? ? ? ? ? ? "; // ideally, load this from a plain text file
        final PreparedStatement statement = connection.prepareStatement(statementString);
        statement.setString(1, player.getName());
        statement.setInt(2, player.getLocation().getX());
        statement.setInt(3, player.getLocation().getY());
        // ...
        statement.executeUpdate();
    }
}

private final Connection connection;
</code></pre>
<p>}<br>
[/code][/quote]<br>
That’s some cute code you have over there.</p>
<p>I like the way Hibernate does things. Mapping is so awsum!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/23">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/23</link>
        <pubDate>Thu, 18 Sep 2014 22:15:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-23</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">public interface PlayerRepository {

    void fetch(final String name);

    void commit(final Player player);
}</code></pre>
<pre><code class="lang-auto">public class SQLPlayerRepository implements PlayerRepository {

    public SQLPlayerRepository(final Connection connection) {
        if (connection == null) {
            throw new IllegalArgumentException("connection must not be null");
        }
        if (connection.isClosed()) {
            throw new IllegalStateException("connection must be open prior to using");
        }
        this.connection = connection;
    }

    public void fetch(final String playerName) {
        // call fetch player stored procedure
    }

    public void commit(final Player player) {
        if (player == null) {
            throw new IllegalArgumentException("player must not be null");
        }
        final String playerName = player.getName();
        // get other variables, and send to commit player stored procedure
    }

    public void commitAll(final Set&lt;Player&gt; players) {
        if (players == null) {
            throw new IllegalArgumentException("players set must not be null");
        }
        for (final Player player : players) {
            final String statementString = "EXEC commit_player ? ? ? ? ? ? ? ? ? "; // ideally, load this from a plain text file
            final PreparedStatement statement = connection.prepareStatement(statementString);
            statement.setString(1, player.getName());
            statement.setInt(2, player.getLocation().getX());
            statement.setInt(3, player.getLocation().getY());
            // ...
            statement.executeUpdate();
        }
    }

    private final Connection connection;
}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/22">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/22</link>
        <pubDate>Thu, 18 Sep 2014 21:53:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-22</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@xx_matty_xx Justin Bieber]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xx_matty_xx">@xx_matty_xx</a> wrote:</p>
          <blockquote>
              <p>committing to the db every 100ms is batshit crazy whatever your appliation</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/21</link>
        <pubDate>Thu, 18 Sep 2014 21:00:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-21</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>[quote=“Ashi, post:18, topic:546817”][quote author=Pure_ link=topic=665713.msg4450611#msg4450611 date=1411067487]<br>
server ticks once 600ms<br>
players can do one thing per 600ms<br>
we save 100ms (6 times per second)<br>
that is your issue rofl<br>
[/quote]<br>
It’s not a rsps tho. My app ticks every 100ms so I’m using that.[/quote][quote=“Ashi, post:8, topic:546817”][quote author=Davidi2 link=topic=665713.msg4450444#msg4450444 date=1410982614]<br>
I assumed this was for RSPS, whether or not it is insane depends on the application I guess. If it is RSPS it is quite insane, especially as you get more players logged in <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
[/quote]<br>
Yes it is![/quote]Well that was confusing. It sounded like you were saying ‘yes it is a rsps’ lol</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/20</link>
        <pubDate>Thu, 18 Sep 2014 21:00:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-20</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@pure2ownage Pure_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure2ownage">@pure2ownage</a> wrote:</p>
          <blockquote>
              <p>You said it was earlier, btw my bad, I meant 6 saves a tick.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/19</link>
        <pubDate>Thu, 18 Sep 2014 20:53:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-19</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@Ashi Ashi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ashi">@Ashi</a> wrote:</p>
          <blockquote>
              <p>[quote=“Pure_, post:17, topic:546817”]server ticks once 600ms<br>
players can do one thing per 600ms<br>
we save 100ms (6 times per second)<br>
that is your issue rofl[/quote]<br>
It’s not a rsps tho. My app ticks every 100ms so I’m using that.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/18</link>
        <pubDate>Thu, 18 Sep 2014 20:37:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-18</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@pure2ownage Pure_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure2ownage">@pure2ownage</a> wrote:</p>
          <blockquote>
              <p>server ticks once 600ms<br>
players can do one thing per 600ms<br>
we save 100ms (6 times per second)<br>
that is your issue rofl</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/17</link>
        <pubDate>Thu, 18 Sep 2014 19:11:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-17</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@Nothing1 -Nothing]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nothing1">@Nothing1</a> wrote:</p>
          <blockquote>
              <p>[quote=“Ashi, post:10, topic:546817”][quote author=Mopman link=topic=665713.msg4450574#msg4450574 date=1411053513]<br>
why would them x logging matter?<br>
[/quote]<br>
I’m storing each player into a list. Once they close the connection they’re removed from it.<br>
I’m using the stored objects for saving.[/quote]<br>
Save their data before removing from the list, at the same place as the connection close is handled.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/16</link>
        <pubDate>Thu, 18 Sep 2014 19:05:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-16</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
      <item>
        <title>MySQL Saving - Too many connection bs timeout zomg</title>
        <dc:creator><![CDATA[@xx_matty_xx Justin Bieber]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xx_matty_xx">@xx_matty_xx</a> wrote:</p>
          <blockquote>
              <p>[quote=“Ashi, post:10, topic:546817”][quote author=Mopman link=topic=665713.msg4450574#msg4450574 date=1411053513]<br>
why would them x logging matter?<br>
[/quote]<br>
I’m storing each player into a list. Once they close the connection they’re removed from it.<br>
I’m using the stored objects for saving.[/quote]So have a list of unsaved players?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817/15</link>
        <pubDate>Thu, 18 Sep 2014 18:59:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-546817-15</guid>
        <source url="https://forum.moparisthebest.com/t/mysql-saving-too-many-connection-bs-timeout-zomg/546817.rss">MySQL Saving - Too many connection bs timeout zomg</source>
      </item>
  </channel>
</rss>
