<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Announcements</title>
    <link>https://forum.moparisthebest.com/t/pi-announcements/551450</link>
    <description>Hello there, I have started to like the idea of announcements... 
Basically, I thought about adding announcements for certain cool things that came to mind.
Now here&#39;s what i&#39;m thinking...
I would like to add announcements for the following;
[CODE]
adding rare drop announcements,
adding rare item annoucements,
adding boss kill announcements,
adding dicing announcements.
[/CODE]
If anyone has any clue about announcements please comment here, i&#39;m stuck on this one.
I&#39;ve already added &quot;timed server announcements about forums, voting etc...&quot; I can&#39;t seem to get my head wrap around these though.
So really, any and every help is greatly appreciated.</description>
    
    <lastBuildDate>Tue, 12 May 2015 04:18:14 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-announcements/551450.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Announcements</title>
        <dc:creator><![CDATA[@malimt malimt]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/malimt">@malimt</a> wrote:</p>
          <blockquote>
              <p>[quote=“sk8rdude461, post:7, topic:551450”]For the dicing one to work… You’d have to have some form of a system that ‘pairs’ the players.</p>
<p>Like if I challenged you to a dice game… There’d need to be a variable that ‘saves’ to the player (Not saving to file). Perhaps you could add a command or two for it.<br>
::dice PLAYER_NAME<br>
and then it would send a message to player B like "Player A challenges you to dice. do you accept? type ::accept or ::decline to continue"<br>
Then if the user typed ::accept it would send a message back to player A saying something like “Player B accepted your challenge. You may now roll the dice”.</p>
<p>You’d probably need to use an integer and a boolean for this. The integer to save the player id of the opposing dicer, and then the boolean to say whether or not they accepted the challenge.</p>
<p>The hardest part, honestly, will be setting up the above (Or some form of a similar…) dicing system. My key point here is: You need to somehow store the player ID of the opposing dicer.</p>
<p>From there it’s really simple. When the player rolls the dice (Probably will be in your ClickItem packets), check if the player ID is a valid Client. If it is, then you can send a message based on the number.</p>
<p>This is only tricky if you set it up for multiple game types… Ex: Dice Duel, 55x2, 65x3, so on. (However a solution for that would be different commands for different game types)<br>
The host always have 0-54 as their winning numbers in dice duel. and the challenger always has 56-100 as theirs. What 55 does is typically up to the host or challenger (some say redo, some say host win.)</p>
<p>So basically… With that knowledge, you can use a simple ternary to “trim” the code used to shout the message… Here’s an example:</p>
<p><code>int numRolled = 22;
// Lets assume I have a variable called "dicerID" that is a value of a player id that is currently online..
Player challenger = PlayerHandler.players[dicerID];
if(challenger != null) {
	messageToAll(c.getPlayerName() + " Rolled a " + numRolled 
				+ " on the dice and " 
				+ (numRolled &lt; 55 ? "won" : numRolled &gt; 55 ? "lost" : "tied")
				+ " against " + challenger.getPlayerName());
}</code></p>
<p>If you don’t know how a ternary statement works, that code will look a bit confusing.</p>
<aside class="quote">
<blockquote>
<p>condition     question mark        true value      colon      false value</p>
<p>[code=Java]boolean a;<br>
a == true ? “yes” : “no”; //if a is true, print yes, if not, print no</p>
<p>int i;<br>
i &gt; 0 ? “yes” : “no”; //if i is greater than 0, print yes, if not, print no[/code]<br>
etc</p>
</blockquote>
</aside>
<p>^Vain did a pretty good job of explaining it here (To me, at least), so I hope that will clear it up if you’re confused.<br>
They’re basically if else statements, but not.[/quote] Thanks man. You’ve been great, helped me a lot. I appreciate it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-announcements/551450/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-announcements/551450/8</link>
        <pubDate>Tue, 12 May 2015 04:18:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551450-8</guid>
        <source url="https://forum.moparisthebest.com/t/pi-announcements/551450.rss">[PI] Announcements</source>
      </item>
      <item>
        <title>[PI] Announcements</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>For the dicing one to work… You’d have to have some form of a system that ‘pairs’ the players.</p>
<p>Like if I challenged you to a dice game… There’d need to be a variable that ‘saves’ to the player (Not saving to file). Perhaps you could add a command or two for it.<br>
::dice PLAYER_NAME<br>
and then it would send a message to player B like "Player A challenges you to dice. do you accept? type ::accept or ::decline to continue"<br>
Then if the user typed ::accept it would send a message back to player A saying something like “Player B accepted your challenge. You may now roll the dice”.</p>
<p>You’d probably need to use an integer and a boolean for this. The integer to save the player id of the opposing dicer, and then the boolean to say whether or not they accepted the challenge.</p>
<p>The hardest part, honestly, will be setting up the above (Or some form of a similar…) dicing system. My key point here is: You need to somehow store the player ID of the opposing dicer.</p>
<p>From there it’s really simple. When the player rolls the dice (Probably will be in your ClickItem packets), check if the player ID is a valid Client. If it is, then you can send a message based on the number.</p>
<p>This is only tricky if you set it up for multiple game types… Ex: Dice Duel, 55x2, 65x3, so on. (However a solution for that would be different commands for different game types)<br>
The host always have 0-54 as their winning numbers in dice duel. and the challenger always has 56-100 as theirs. What 55 does is typically up to the host or challenger (some say redo, some say host win.)</p>
<p>So basically… With that knowledge, you can use a simple ternary to “trim” the code used to shout the message… Here’s an example:</p>
<p><code>int numRolled = 22;
// Lets assume I have a variable called "dicerID" that is a value of a player id that is currently online..
Player challenger = PlayerHandler.players[dicerID];
if(challenger != null) {
	messageToAll(c.getPlayerName() + " Rolled a " + numRolled 
				+ " on the dice and " 
				+ (numRolled &lt; 55 ? "won" : numRolled &gt; 55 ? "lost" : "tied")
				+ " against " + challenger.getPlayerName());
}</code></p>
<p>If you don’t know how a ternary statement works, that code will look a bit confusing.</p>
<p>[quote=“Vain_”]condition     question mark        true value      colon      false value</p>
<p>[code=Java]boolean a;<br>
a == true ? “yes” : “no”; //if a is true, print yes, if not, print no</p>
<p>int i;<br>
i &gt; 0 ? “yes” : “no”; //if i is greater than 0, print yes, if not, print no[/code]<br>
etc[/quote]<br>
^Vain did a pretty good job of explaining it here (To me, at least), so I hope that will clear it up if you’re confused.<br>
They’re basically if else statements, but not.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-announcements/551450/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-announcements/551450/7</link>
        <pubDate>Mon, 11 May 2015 22:41:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551450-7</guid>
        <source url="https://forum.moparisthebest.com/t/pi-announcements/551450.rss">[PI] Announcements</source>
      </item>
      <item>
        <title>[PI] Announcements</title>
        <dc:creator><![CDATA[@malimt malimt]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/malimt">@malimt</a> wrote:</p>
          <blockquote>
              <p>[quote=“sk8rdude461, post:5, topic:551450”]Aren’t rare drops and rare items the same thing? Or am I missing your point with that?<br>
Nor do I get what you mean by “dicing announcements”. Do you mean you want it to tell the server who won? Or what a person rolled?</p>
<p>to add an annoucement for rare drops:<br>
find the dropItems(int index) method (Assuming you use the standard pi that has this method) in the NPCHandler.<br>
In the code that handles the part with picking a rare item (my system is a bit diff so I can’t exactly post code examples) to be dropped you need to either A) add a for loop that loops all Players online, and then message each one… or B) use a “messageToAll” method you created (which does the exact same thing, but without adding 100000 for loops around the code). I <span class="bbcode-b">highly</span> recommend making a messageToAll method if you do not have it already, as you’re going to be using it for everything you want done here.</p>
<p>For boss kills:<br>
Kinda basically the exact same thing as above. First, create a method like “checkBossKills(int npcIndex)”. Then look for “dropItems(i);” in the process method of NPCHandler.java. Above/Under that (As long as you’re still in that if statement) you would put “checkBossKills(i)”.<br>
Here’s where it gets only a ‘little’ tricky. Within that checkBossKills method, you need to check if the npc at the npcIndex is null… You’ll see an example of how to do that in the dropItems method. Note that the value of ‘i’ in the process method is the INDEX of the npc, not their ID. Under the code that checks if it is null (And returns if it is, as we don’t want to try and interact with a null object), you need to check the npcId of the npc. To do this, you should create 2 arrays (Other ways you can handle this, arrays are just easy here). One for BOSS_IDS (It should be a constant, these values will NEVER change while running the server.) and another for BOSS_NAMES (Again, constant) (And also this assumes you use the old NPC.cfg, which most people seem to and it’s never “up to date” on the npc ids. So the solution is to not use the npc names from it. If you want, you can not use the BOSS_NAMES array and just use getNpcName(int npcId) or whatever). Populate the array(s). Now you need to add another for loop into the checkBossKills method. This part should be obvious. If the npc id of the npc is the same as the value in the array, send the global message. If it’s not, do nothing.[/quote]<br>
Alright cool. Thanks, I appreciate it man.<br>
Anyways, yeah</p>
<p><code>
Aren't rare drops and rare items the same thing? Or am I missing your point with that?
Nor do I get what you mean by "dicing announcements". Do you mean you want it to tell the server who won? Or what a person rolled?
</code><br>
Dicing announcements; Telling the server who won the match between the the people bidding.<br>
Rare Drops; When an npc/boss/any npc drops anything rare, I would consider it a rare drop.<br>
I’m sorry, I confused some of you. Your right they’re the same thing.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-announcements/551450/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-announcements/551450/6</link>
        <pubDate>Mon, 11 May 2015 21:39:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551450-6</guid>
        <source url="https://forum.moparisthebest.com/t/pi-announcements/551450.rss">[PI] Announcements</source>
      </item>
      <item>
        <title>[PI] Announcements</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>Aren’t rare drops and rare items the same thing? Or am I missing your point with that?<br>
Nor do I get what you mean by “dicing announcements”. Do you mean you want it to tell the server who won? Or what a person rolled?</p>
<p>to add an annoucement for rare drops:<br>
find the dropItems(int index) method (Assuming you use the standard pi that has this method) in the NPCHandler.<br>
In the code that handles the part with picking a rare item (my system is a bit diff so I can’t exactly post code examples) to be dropped you need to either A) add a for loop that loops all Players online, and then message each one… or B) use a “messageToAll” method you created (which does the exact same thing, but without adding 100000 for loops around the code). I <span class="bbcode-b">highly</span> recommend making a messageToAll method if you do not have it already, as you’re going to be using it for everything you want done here.</p>
<p>For boss kills:<br>
Kinda basically the exact same thing as above. First, create a method like “checkBossKills(int npcIndex)”. Then look for “dropItems(i);” in the process method of NPCHandler.java. Above/Under that (As long as you’re still in that if statement) you would put “checkBossKills(i)”.<br>
Here’s where it gets only a ‘little’ tricky. Within that checkBossKills method, you need to check if the npc at the npcIndex is null… You’ll see an example of how to do that in the dropItems method. Note that the value of ‘i’ in the process method is the INDEX of the npc, not their ID. Under the code that checks if it is null (And returns if it is, as we don’t want to try and interact with a null object), you need to check the npcId of the npc. To do this, you should create 2 arrays (Other ways you can handle this, arrays are just easy here). One for BOSS_IDS (It should be a constant, these values will NEVER change while running the server.) and another for BOSS_NAMES (Again, constant) (And also this assumes you use the old NPC.cfg, which most people seem to and it’s never “up to date” on the npc ids. So the solution is to not use the npc names from it. If you want, you can not use the BOSS_NAMES array and just use getNpcName(int npcId) or whatever). Populate the array(s). Now you need to add another for loop into the checkBossKills method. This part should be obvious. If the npc id of the npc is the same as the value in the array, send the global message. If it’s not, do nothing.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-announcements/551450/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-announcements/551450/5</link>
        <pubDate>Sun, 10 May 2015 22:13:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551450-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-announcements/551450.rss">[PI] Announcements</source>
      </item>
      <item>
        <title>[PI] Announcements</title>
        <dc:creator><![CDATA[@malimt malimt]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/malimt">@malimt</a> wrote:</p>
          <blockquote>
              <p>hmmh. I’d have to check. Thanks for the reply though.<br>
And hey, I would pm my skype, but i’d rather have it done here, so if others ever need it, they can simply find it.<br>
Does anyone know about the rest?</p>
<p>adding rare drop announcements,<br>
adding rare item annoucements,<br>
adding boss kill announcements,<br>
adding dicing announcements.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-announcements/551450/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-announcements/551450/4</link>
        <pubDate>Sun, 10 May 2015 18:26:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551450-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-announcements/551450.rss">[PI] Announcements</source>
      </item>
      <item>
        <title>[PI] Announcements</title>
        <dc:creator><![CDATA[@hely hely]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/hely">@hely</a> wrote:</p>
          <blockquote>
              <p>find the methods where the drops etc… are handled and add the same code for the other notifications just adjust it with the variables for the drops etc… if u need help pm ur skype</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-announcements/551450/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-announcements/551450/3</link>
        <pubDate>Sun, 10 May 2015 13:02:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551450-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-announcements/551450.rss">[PI] Announcements</source>
      </item>
      <item>
        <title>[PI] Announcements</title>
        <dc:creator><![CDATA[@Welliton_inc Welliton_inc]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/welliton_inc">@Welliton_inc</a> wrote:</p>
          <blockquote>
              <p>Well, regarding the boss killing announcements, you will need to be adding it in your NPCHandler class. You may need to change the code a little bit for a PI, but for Delta/Czar:</p>
<p><code> if (npcs[NPCID].npcType == xxxx)
  {
        int Player = npcs[NPCID].StartKilling;
        client ppl = (client)server.playerHandler.players[Player];
PlayerHandler.messageToAll = ("bla bla bla");     
       }</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-announcements/551450/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-announcements/551450/2</link>
        <pubDate>Sun, 10 May 2015 12:24:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551450-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-announcements/551450.rss">[PI] Announcements</source>
      </item>
      <item>
        <title>[PI] Announcements</title>
        <dc:creator><![CDATA[@malimt malimt]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/malimt">@malimt</a> wrote:</p>
          <blockquote>
              <p>Hello there, I have started to like the idea of announcements…<br>
Basically, I thought about adding announcements for certain cool things that came to mind.<br>
Now here’s what i’m thinking…<br>
I would like to add announcements for the following;</p>
<p><code>
adding rare drop announcements,
adding rare item annoucements,
adding boss kill announcements,
adding dicing announcements.
</code><br>
If anyone has any clue about announcements please comment here, i’m stuck on this one.<br>
I’ve already added “timed server announcements about forums, voting etc…” I can’t seem to get my head wrap around these though.<br>
So really, any and every help is greatly appreciated.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-announcements/551450/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-announcements/551450/1</link>
        <pubDate>Sun, 10 May 2015 07:16:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551450-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-announcements/551450.rss">[PI] Announcements</source>
      </item>
  </channel>
</rss>
