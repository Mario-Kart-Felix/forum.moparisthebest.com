<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Tut] Making an IRC bot in Java with PircBot and BeanShell</title>
    <link>https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646</link>
    <description>[b][u]Needed:[/u][/b]
1. Properly Installed/Configured JDK
2. A Text Editor/IDE (I prefer [url=http://ftp://ftp.editplus.com/epp221_en.exe]EditPlus[/url], but [url=http://download.textpad.com/download/v47/txpeng473.exe]TextPad[/url] will work.)
3. [url=http://jibble.org/files/pircbot-1.4.4.zip]PircBot Framework[/url] and [url=http://www.beanshell.org/bsh-2.0b4.jar]BeanShell[/url]
4. A Project folder with the [url=http://img125.imageshack.us/img125/8308/rhfj2.png]recommended hierarchy[/url].
5. An IRC server to test on.
6. The ability to read.

Now let&#39;s begin to write our bot.
Download the PircBot Framework and BeanShell if you haven&#39;t already.  Rename them to &quot;pircbot.jar&quot; and &quot;bsh.jar&quot;, not necessary, but it&#39;s easier to keep track of.

Place these into the &quot;Bot&quot; folder.

Open up your editor and make a new Java file.
Name the class &quot;BotMethods&quot; or &quot;BotCore&quot; or something, import org.jibble.pircbot.* and have it extend &quot;PircBot&quot;.

It should look like this:
[code]import org.jibble.pircbot.*;
public class BotCore extends PircBot
{

}[/code]
Save the class.

Make another class named &quot;BotMain&quot; or &quot;BotStart&quot;, import org.jibble.pircbot.* again.  This class will have our main.  In the main method, make a new instance of the class we made earlier. Like this:
[code]import org.jibble.pircbot.*;
public class BotMain
{
	public static void main(String[] args)
	{
		BotMethods bot = new BotMethods();
	}
}[/code]

Now we need to add some stuff in order to get the bot onto the server.
So, in main() under the statement we put in, add this:
[code]bot.setVerbose(true);
bot.setName(&quot;MyBot&quot;);
bot.connect(&quot;irc.server.net&quot;);
bot.joinChannel(&quot;#channel&quot;);[/code]

Ok, good.  However connect() throws an Exception, so either put the code in a try/catch block, or have main() throw an Exception.

Right now the bot doesn&#39;t do anything, so we have to add some stuff.

Go back into BotMethods or BotCore, and declare a method named &quot;onMessage&quot; with the following arguments:
[code]public void onMessage(String channel, String sender, String login, String hostname, String message)[/code]

Easy, right?

Now let&#39;s make a command.
In the method we just made, add an if statement to see if method is equal to &quot;time&quot;. Like this:
[code]if (message.equalsIgnoreCase(&quot;time&quot;))
{

}[/code]

Let&#39;s make that do something, add this to the body of the method:
[code]String time = new java.util.Date().toString();
sendMessage(channel, sender + &quot;: The time is now &quot; + time);[/code]

Now when someone says &quot;time&quot;, the bot will tell them the time/date.

Since you know how to add commands now, let&#39;s make it use BeanShell.  BeanShell will allow us to incorporate in-line java execution, such as
[code]!java System.out.println((Math.PI + 99) * 11 + 5 + &quot;&quot;);[/code]
This will make the bot print out the value of PI plus 99, multiplied by eleven plus 5 in the console (or in the channel if you make a custom class to print to a channel :) ).

So, let&#39;s add it.

In BotMethods or BotCore, add this to the imports:
[code]import bsh.*;[/code]
This will allow us to use the beanshell interpreter.

Before any code, but after the class declaration, make a new Interpreter variable named bean or something, like this:
[code]public Interpreter bean;[/code]


Make a null-arg constructor for the class, and in it make bean a new Interpreter instance:
[code]public BotCore()
{
	bean = new Interpreter();
}[/code]

Easy, eh?

Now let&#39;s add a &quot;java&quot; command.

Back in onMessage(), add this:
[code]else if (message.startsWith(&quot;!java&quot;))
{
	try
	{
		bean.eval(message.substring(6));
	}
	catch (Exception e) {e.printStackTrace();}
}[/code]

Wewt, now when we say &quot;java System.out.println(&quot;test&quot;);&quot; it will print &quot;test&quot; in the console window.

Secksy, now let&#39;s make our compile/run batch files.
You can just copy and paste these, but you might have to change a little bit.

Run.bat:
[code]@echo off
cd Class
java -cp ../pircbot.jar;../beanshell.jar;. Bot
pause[/code]

Compile.bat:
[code]@echo off
cd Source
javac -d ../Class -cp ../pircbot.jar;../beanshell.jar;. *.java
pause[/code]


Now just compile, and run.


If you get ANY errors while compiling, PLEASE check your syntax and spelling first!!!! If your spelling is fine, try to fix the error by yourself.  THIS ISN&#39;T A COPY AND PASTE TUTORIAL!!  If you are completely clueless as to what the problem is, then post here.</description>
    
    <lastBuildDate>Thu, 31 Aug 2006 22:56:05 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Tut] Making an IRC bot in Java with PircBot and BeanShell</title>
        <dc:creator><![CDATA[@Cheese_Police c|p]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cheese_police">@Cheese_Police</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="1" data-topic="11979">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/lawl/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"><a href="https://forum.moparisthebest.com/t/11979/1">On another topic</a>
</div>
<blockquote>
<p>you dont need 2 seperate classes, tahts how those idiots tell you to do it, you can just make a main method in the core one.</p>
</blockquote>
</aside>
<p>OOP &gt; You</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/8</link>
        <pubDate>Thu, 31 Aug 2006 22:56:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-11646-8</guid>
        <source url="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646.rss">[Tut] Making an IRC bot in Java with PircBot and BeanShell</source>
      </item>
      <item>
        <title>[Tut] Making an IRC bot in Java with PircBot and BeanShell</title>
        <dc:creator><![CDATA[@Ollie Ollie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ollie">@Ollie</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="1" data-topic="11979">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/lawl/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"><a href="https://forum.moparisthebest.com/t/11979/1">On another topic</a>
</div>
<blockquote>
<p>you dont need 2 seperate classes, tahts how those idiots tell you to do it, you can just make a main method in the core one.</p>
</blockquote>
</aside>
<p>thats how my old bot was (tho code was much messyer lol)</p>
<p>edit: 2 classes looks cleaner also</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/7</link>
        <pubDate>Thu, 31 Aug 2006 22:52:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-11646-7</guid>
        <source url="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646.rss">[Tut] Making an IRC bot in Java with PircBot and BeanShell</source>
      </item>
      <item>
        <title>[Tut] Making an IRC bot in Java with PircBot and BeanShell</title>
        <dc:creator><![CDATA[@Cheese_Police c|p]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cheese_police">@Cheese_Police</a> wrote:</p>
          <blockquote>
              <p>Yeah, I think you have to put “setName(String)” in BotCore…</p>
<p>Sorry xD</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/6</link>
        <pubDate>Thu, 31 Aug 2006 21:27:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-11646-6</guid>
        <source url="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646.rss">[Tut] Making an IRC bot in Java with PircBot and BeanShell</source>
      </item>
      <item>
        <title>[Tut] Making an IRC bot in Java with PircBot and BeanShell</title>
        <dc:creator><![CDATA[@Ollie Ollie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ollie">@Ollie</a> wrote:</p>
          <blockquote>
              <p>Bot.java:16: setName(java.lang.String) has protected access in org.jibble.pircbot.PircBot<br>
bot.setName(“Bot”);</p>
<p>Why?[br][size=1]Posted at: August 31, 2006, 11:02:40 AM[/size][hr]Heres Mine:<br>
<span class="bbcode-i">Bot.java</span></p>
<p>[code]<br>
import org.jibble.pircbot.<em>;<br>
import java.util.</em>;<br>
import <a href="http://java.io" rel="nofollow noopener">java.io</a>.*;</p>
<p>public class Bot<br>
{<br>
public static String channel;</p>
<pre><code>public static void main(String[] args)
{
	BotCore bot = new BotCore();
	try{
	Properties p = new Properties();
   		p.load(new FileInputStream(new File("./Settings.ini")));
	bot.setVerbose(true);
	bot.connect(p.getProperty("server"));
    	bot.channel = p.getProperty("channel");
    	bot.joinChannel(p.getProperty("channel"));
	}catch(Exception e){ e.printStackTrace(); }
}
</code></pre>
<p>}[/code]</p>
<p><span class="bbcode-i">BotCore.java</span></p>
<p>[code]<br>
import org.jibble.pircbot.<em>;<br>
import java.util.Properties;<br>
import <a href="http://java.io" rel="nofollow noopener">java.io</a>.</em>;<br>
import bsh.*;</p>
<p>public class BotCore extends PircBot<br>
{<br>
public Interpreter bean;<br>
public static String channel = Bot.channel;<br>
public String chan;<br>
public String chanbkup;</p>
<pre><code>public void onMessage(String channel, String sender, String login, String hostname, String message)
{
      if(hostname.contains("") || sender.equals(""))
        {
	if (message.equalsIgnoreCase("!time"))
	{
		String time = new java.util.Date().toString();
		sendMessage(channel, sender + ": The time is now to be GAY" + time);
	}
	else if (message.startsWith("!java"))
	{
		try
		{
			bean.eval(message.substring(6));
		}catch (Exception e) {
		e.printStackTrace();
		sendMessage(channel, sender + ": There is an GAY Error With your Command");
		}
	}
	else if(message.toLowerCase().startsWith("!thebot"))
		{
			String sayit = message.substring(message.indexOf(" ") + 1);
			sendMessage(channel, "ACTION "+ sayit + ""); 
		}
		else if(message.equalsIgnoreCase("!exit")) { System.exit(0); }
		else if(message.toLowerCase().startsWith("!say")) 
		{ 
			String say = message.substring(message.indexOf(" ") + 1);
			sendMessage(channel, say); 
		}
		else if(message.toLowerCase().startsWith("!notice")) 
		{ 
			String notice = message.substring(message.indexOf(" ") + 1);
			sendRawLine("NOTICE "+channel+" :"+notice); 
    	}
    	else if(message.toLowerCase().startsWith("!kick")) 
		{ 
			String kuser = message.substring(message.indexOf(" ") + 1);
			kick(channel,kuser); 
    	}
    	else if(message.toLowerCase().startsWith("!nick")) 
		{ 
			String nuser = message.substring(message.indexOf(" ") + 1);
			sendRawLine("NICK "+nuser);  
    	}
		else if(message.toLowerCase().startsWith("!op")) 
		{ 
			String ouser = message.substring(message.indexOf(" ") + 1);
			op(channel,ouser); 
    	}
    	else if(message.toLowerCase().startsWith("!deop")) 
		{ 
			String douser = message.substring(message.indexOf(" ") + 1);
			sendRawLine("MODE "+channel+" -o "+douser); 
    	}
    	else if(message.toLowerCase().startsWith("!voice")) 
		{ 
			String vuser = message.substring(message.indexOf(" ") + 1);
			voice(channel,vuser); 
    	}
    	else if(message.toLowerCase().startsWith("!devoice")) 
		{ 
			String douser = message.substring(message.indexOf(" ") + 1);
			sendRawLine("MODE "+channel+" -v "+douser); 
    	}
    	else if(message.toLowerCase().startsWith("!ban")) 
		{ 
			String douser = message.substring(message.indexOf(" ") + 1);
			sendRawLine("MODE "+channel+" +b "+douser); 
    	}
    	else if(message.toLowerCase().startsWith("!unban")) 
		{ 
			String ubuser = message.substring(message.indexOf(" ") + 1);
			unBan(channel,ubuser); 
    	}
		else if(message.equalsIgnoreCase("!reconnect")) 
		{ 
			partChannel(channel); 
			joinChannel(channel); 
		}
		else if(message.equalsIgnoreCase("!hop")) 
		{ 
			partChannel(channel); 
			String newchannel = message.substring(message.indexOf(" ") + 1);
			channel = newchannel;
			joinChannel(channel); 
		}
		else if(message.toLowerCase().startsWith("!raw")) 
		{ 
    		String rawstuff = message.substring(message.indexOf(" ") + 1);
    		sendRawLine(rawstuff); 
    	}
    	else if(message.toLowerCase().startsWith("!setchan")) 
		{ 
			chanbkup = channel;
			chan = message.substring(message.indexOf(" ") + 1);
			joinChannel(chan);
			
    	}
    	else if(message.toLowerCase().startsWith("!sendtochan")) 
		{ 
			String msg = message.substring(message.indexOf(" ") + 1);
			sendMessage(chan, msg); 
			sendMessage(channel, "Sent: "+msg+". To Channel: "+chan);
    	}
    	else if(message.toLowerCase().startsWith("!help"))
    	{
    	sendMessage(sender, "--Help");
    	sendMessage(sender, "-----IRC Bot By Ollie-----");
    	sendMessage(sender, "--Commands");
    	sendMessage(sender, "!time - Tells the Time");
    	sendMessage(sender, "!java &lt;command&gt; - send a java command to the Bot, e.g. 6"!java System.out.println("testing");"");
    	sendMessage(sender, "!raw &lt;command&gt; - send a RAW IRC command to the server");
    	sendMessage(sender, "!exit - exits the bot");
    	sendMessage(sender, "!notice &lt;message&gt; - sends a notice to the current channel");
    	sendMessage(sender, "!kick &lt;name&gt; - kicks a user from the current channel");
    	sendMessage(sender, "!op &lt;name&gt; - adds operator privilages to the gay user");
    	sendMessage(sender, "!deop &lt;name&gt; - takes away operator privileges from the user");
    	sendMessage(sender, "!voice &lt;name&gt; - voices the person in that channel");
    	sendMessage(sender, "!devoice &lt;name&gt; - devoices the person in that channel");
    	sendMessage(sender, "!ban &lt;name&gt; - bans a user from the channel");
    	sendMessage(sender, "!unban &lt;name&gt; - unbans gay user from the channel");
    	sendMessage(sender, "!thebot &lt;message&gt; - Same as You Doing "/me &lt;message&gt;"");
    	sendMessage(sender, "!say &lt;message&gt; - the bot sends a message in the current channel");
    	sendMessage(sender, "!setchan &lt;channel&gt; - the bot opens a secondary channel");
    	sendMessage(sender, "!sendtochan &lt;message&gt; - the bot sends a message to the secondary channel");
    	sendMessage(sender, "!reconnect - reconnects to the server and channel");
    	sendMessage(sender, "!hop &lt;channel&gt; - hops to gay different channel on the server");
    	sendMessage(sender, "--End");
    	}
       }else
       { 
       	if(message.toLowerCase().startsWith("!"))
       	{
       		sendMessage(channel, "Sorry " + sender + " you cannot Control me!");
       	}
       }		
}

public void onConnect()
	{
	    
        sendMessage(channel, "4Hi");
	}
	public void noControl()
	{
		sendMessage(channel, "4LOL you dont have control over me GAY noob!!!");
	}


public BotCore()
{
	bean = new Interpreter();
	try{
	Properties p = new Properties();
   		p.load(new FileInputStream(new File("./Settings.ini")));
   		setName(p.getProperty("nick"));
   		}catch(Exception e){}
}
</code></pre>
<p>}<br>
[/code][br][size=1]Posted at: August 31, 2006, 11:16:11 AM[/size][hr]when i put properties in botcore.java it works</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/5</link>
        <pubDate>Thu, 31 Aug 2006 20:17:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-11646-5</guid>
        <source url="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646.rss">[Tut] Making an IRC bot in Java with PircBot and BeanShell</source>
      </item>
      <item>
        <title>[Tut] Making an IRC bot in Java with PircBot and BeanShell</title>
        <dc:creator><![CDATA[@Cheese_Police c|p]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cheese_police">@Cheese_Police</a> wrote:</p>
          <blockquote>
              <p>I love BeanShell, 'tis secksy for Java bots.</p>
<p>If you use it in something that another person has control of, make sure you disable any statement that has Runtime.getRuntime().exec() in it <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/4</link>
        <pubDate>Wed, 30 Aug 2006 03:55:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-11646-4</guid>
        <source url="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646.rss">[Tut] Making an IRC bot in Java with PircBot and BeanShell</source>
      </item>
      <item>
        <title>[Tut] Making an IRC bot in Java with PircBot and BeanShell</title>
        <dc:creator><![CDATA[@Kryptizzler Kryptizzler]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kryptizzler">@Kryptizzler</a> wrote:</p>
          <blockquote>
              <p>Lol, same. Nice though :o. I might start playing with BeanShell.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/3</link>
        <pubDate>Wed, 30 Aug 2006 03:18:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-11646-3</guid>
        <source url="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646.rss">[Tut] Making an IRC bot in Java with PircBot and BeanShell</source>
      </item>
      <item>
        <title>[Tut] Making an IRC bot in Java with PircBot and BeanShell</title>
        <dc:creator><![CDATA[@Pwnd Pwnd]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pwnd">@Pwnd</a> wrote:</p>
          <blockquote>
              <p><img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=9" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>I’ve made a really shitty one ages ago ;D</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/2</link>
        <pubDate>Wed, 30 Aug 2006 02:26:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-11646-2</guid>
        <source url="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646.rss">[Tut] Making an IRC bot in Java with PircBot and BeanShell</source>
      </item>
      <item>
        <title>[Tut] Making an IRC bot in Java with PircBot and BeanShell</title>
        <dc:creator><![CDATA[@Cheese_Police c|p]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cheese_police">@Cheese_Police</a> wrote:</p>
          <blockquote>
              <p><span class="bbcode-b"><span class="bbcode-u">Needed:</span></span></p>
<ol>
<li>Properly Installed/Configured JDK</li>
<li>A Text Editor/IDE (I prefer <a href="http://ftp://ftp.editplus.com/epp221_en.exe" data-bbcode="true" rel="nofollow noopener">EditPlus</a>, but <a href="http://download.textpad.com/download/v47/txpeng473.exe" data-bbcode="true" rel="nofollow noopener">TextPad</a> will work.)</li>
<li>
<a href="http://jibble.org/files/pircbot-1.4.4.zip" data-bbcode="true" rel="nofollow noopener">PircBot Framework</a> and <a href="http://www.beanshell.org/bsh-2.0b4.jar" data-bbcode="true" rel="nofollow noopener">BeanShell</a>
</li>
<li>A Project folder with the <a href="http://img125.imageshack.us/img125/8308/rhfj2.png" data-bbcode="true" rel="nofollow noopener">recommended hierarchy</a>.</li>
<li>An IRC server to test on.</li>
<li>The ability to read.</li>
</ol>
<p>Now let’s begin to write our bot.<br>
Download the PircBot Framework and BeanShell if you haven’t already.  Rename them to “pircbot.jar” and “bsh.jar”, not necessary, but it’s easier to keep track of.</p>
<p>Place these into the “Bot” folder.</p>
<p>Open up your editor and make a new Java file.<br>
Name the class “BotMethods” or “BotCore” or something, import org.jibble.pircbot.* and have it extend “PircBot”.</p>
<p>It should look like this:</p>
<p>[code]import org.jibble.pircbot.*;<br>
public class BotCore extends PircBot<br>
{</p>
<p>}[/code]<br>
Save the class.</p>
<p>Make another class named “BotMain” or “BotStart”, import org.jibble.pircbot.* again.  This class will have our main.  In the main method, make a new instance of the class we made earlier. Like this:</p>
<p><code>import org.jibble.pircbot.*;
public class BotMain
{
	public static void main(String[] args)
	{
		BotMethods bot = new BotMethods();
	}
}</code></p>
<p>Now we need to add some stuff in order to get the bot onto the server.<br>
So, in main() under the statement we put in, add this:</p>
<p><code>bot.setVerbose(true);
bot.setName("MyBot");
bot.connect("irc.server.net");
bot.joinChannel("#channel");</code></p>
<p>Ok, good.  However connect() throws an Exception, so either put the code in a try/catch block, or have main() throw an Exception.</p>
<p>Right now the bot doesn’t do anything, so we have to add some stuff.</p>
<p>Go back into BotMethods or BotCore, and declare a method named “onMessage” with the following arguments:</p>
<pre><code class="lang-auto">public void onMessage(String channel, String sender, String login, String hostname, String message)</code></pre>
<p>Easy, right?</p>
<p>Now let’s make a command.<br>
In the method we just made, add an if statement to see if method is equal to “time”. Like this:</p>
<p>[code]if (message.equalsIgnoreCase(“time”))<br>
{</p>
<p>}[/code]</p>
<p>Let’s make that do something, add this to the body of the method:</p>
<p><code>String time = new java.util.Date().toString();
sendMessage(channel, sender + ": The time is now " + time);</code></p>
<p>Now when someone says “time”, the bot will tell them the time/date.</p>
<p>Since you know how to add commands now, let’s make it use BeanShell.  BeanShell will allow us to incorporate in-line java execution, such as</p>
<pre><code class="lang-auto">!java System.out.println((Math.PI + 99) * 11 + 5 + "");</code></pre>
<p>This will make the bot print out the value of PI plus 99, multiplied by eleven plus 5 in the console (or in the channel if you make a custom class to print to a channel <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> ).</p>
<p>So, let’s add it.</p>
<p>In BotMethods or BotCore, add this to the imports:</p>
<pre><code class="lang-auto">import bsh.*;</code></pre>
<p>This will allow us to use the beanshell interpreter.</p>
<p>Before any code, but after the class declaration, make a new Interpreter variable named bean or something, like this:</p>
<pre><code class="lang-auto">public Interpreter bean;</code></pre>
<p>Make a null-arg constructor for the class, and in it make bean a new Interpreter instance:</p>
<p><code>public BotCore()
{
	bean = new Interpreter();
}</code></p>
<p>Easy, eh?</p>
<p>Now let’s add a “java” command.</p>
<p>Back in onMessage(), add this:</p>
<p><code>else if (message.startsWith("!java"))
{
	try
	{
		bean.eval(message.substring(6));
	}
	catch (Exception e) {e.printStackTrace();}
}</code></p>
<p>Wewt, now when we say “java System.out.println(“test”);” it will print “test” in the console window.</p>
<p>Secksy, now let’s make our compile/run batch files.<br>
You can just copy and paste these, but you might have to change a little bit.</p>
<p>Run.bat:</p>
<p><code>@echo off
cd Class
java -cp ../pircbot.jar;../beanshell.jar;. Bot
pause</code></p>
<p>Compile.bat:</p>
<p><code>@echo off
cd Source
javac -d ../Class -cp ../pircbot.jar;../beanshell.jar;. *.java
pause</code></p>
<p>Now just compile, and run.</p>
<p>If you get ANY errors while compiling, PLEASE check your syntax and spelling first!!! If your spelling is fine, try to fix the error by yourself.  THIS ISN’T A COPY AND PASTE TUTORIAL!!  If you are completely clueless as to what the problem is, then post here.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646/1</link>
        <pubDate>Wed, 30 Aug 2006 02:21:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-11646-1</guid>
        <source url="https://forum.moparisthebest.com/t/tut-making-an-irc-bot-in-java-with-pircbot-and-beanshell/11646.rss">[Tut] Making an IRC bot in Java with PircBot and BeanShell</source>
      </item>
  </channel>
</rss>
