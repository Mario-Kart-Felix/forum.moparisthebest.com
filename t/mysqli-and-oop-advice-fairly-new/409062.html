<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/mysqli-and-oop-advice-fairly-new/409062 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 13:28:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Mysqli and OOP advice [Fairly New] - General Programming - moparisthebest.com</title>
    <meta name="description" content="I&amp;#39;m used to simple mysql and procedural style, but I have switched to Mysqli and OOP. I just need a little advice on how I can write my code more efficiently, as I know it&amp;#39;s messy. 

As for calling mysqli, could someone &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="409062.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Mysqli and OOP advice [Fairly New]&#39;" href="409062.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/mysqli-and-oop-advice-fairly-new/409062" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/mysqli-and-oop-advice-fairly-new/409062" />
<meta property="og:title" content="Mysqli and OOP advice [Fairly New]" />
<meta name="twitter:title" content="Mysqli and OOP advice [Fairly New]" />
<meta property="og:description" content="I’m used to simple mysql and procedural style, but I have switched to Mysqli and OOP. I just need a little advice on how I can write my code more efficiently, as I know it’s messy.  As for calling mysqli, could someone list a better way for me to use it? Mine’s horrible.  &lt;?php class Profile {  public function get_uid() { 	$sql = new mysqli(&#39;localhost&#39;,&#39;root&#39;,&#39;&#39;,&#39;db_1&#39;); 	$uid = (int)$_GET[&#39;uid&#39;]; 	$res = $sql-&gt;query(&#39;SELECT * FROM `users` WHERE `uid` =&#39;. $uid .&#39;&#39;); 	if($res-&gt;num_rows &gt; 0) { 		w..." />
<meta name="twitter:description" content="I’m used to simple mysql and procedural style, but I have switched to Mysqli and OOP. I just need a little advice on how I can write my code more efficiently, as I know it’s messy.  As for calling mysqli, could someone list a better way for me to use it? Mine’s horrible.  &lt;?php class Profile {  public function get_uid() { 	$sql = new mysqli(&#39;localhost&#39;,&#39;root&#39;,&#39;&#39;,&#39;db_1&#39;); 	$uid = (int)$_GET[&#39;uid&#39;]; 	$res = $sql-&gt;query(&#39;SELECT * FROM `users` WHERE `uid` =&#39;. $uid .&#39;&#39;); 	if($res-&gt;num_rows &gt; 0) { 		w..." />
<meta property="article:published_time" content="2011-08-09T06:46:05+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="409062.html">Mysqli and OOP advice [Fairly New]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Muroth.html'><span itemprop='name'>Muroth</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-09T06:46:05Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:55:50Z' class='post-time'>
              August 1, 2016,  1:55pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m used to simple mysql and procedural style, but I have switched to Mysqli and OOP. I just need a little advice on how I can write my code more efficiently, as I know it’s messy.</p>
<p>As for calling mysqli, could someone list a better way for me to use it? Mine’s horrible.</p>
<pre><code class="lang-auto">&lt;?php
class Profile {

public function get_uid() {
	$sql = new mysqli('localhost','root','','db_1');
	$uid = (int)$_GET['uid'];
	$res = $sql-&gt;query('SELECT * FROM `users` WHERE `uid` ='. $uid .'');
	if($res-&gt;num_rows &gt; 0) {
		while($row = $res-&gt;fetch_assoc()){
		echo '&lt;h1&gt;Welcome to '.$row['username'].'\'s profile&lt;/h1&gt;&lt;br /&gt;His UID is '.$row['uid'].'';
		}
	} else {
	echo 'Invalid UID.';
	}
	$res-&gt;close();
	$sql-&gt;close();
	}
}
$db = new Profile();
$db-&gt;get_uid();
?&gt;</code></pre>
<p>EDIT: To explain the code, it connects to a database, it does a query and displays uid and username from a table.</p>
      </div>

      <meta itemprop='headline' content='Mysqli and OOP advice [Fairly New]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kono-chan.html'><span itemprop='name'>Kono-chan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-09T07:08:00Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:55:50Z' class='post-time'>
              August 1, 2016,  1:55pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[code]class TestClass {<br>
private $con;</p>
<pre><code>public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
	$this-&gt;con = new mysqli($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
}

public function __destruct() {
	$this-&gt;con-&gt;close();
}
</code></pre>
<p>}[/code]</p>
<p>Usage:</p>
<pre><code class="lang-auto"></code></pre>
<p>As for the other messy stuff.</p>
<p><code>public function getUid() {
	$uid = $_GET['uid'];
	if(!isset($uid)) {
		return false;
	}
	if(!is_numeric($uid)) {
		return false;
	}
	$query = 'SELECT * FROM `users` WHERE `uid` ='. $uid;
	$result = $this-&gt;con-&gt;query($query);
	if($result-&gt;num_rows &lt;= 0) {
		return false;
	}
	return $result;
}</code></p>
<p><code>$check = $test-&gt;getUid();
if(!$check) {
	exit();
}
$user = $check-&gt;fetch_assoc();
$check-&gt;close();</code></p>
      </div>

      <meta itemprop='headline' content='Mysqli and OOP advice [Fairly New]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Muroth.html'><span itemprop='name'>Muroth</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-09T07:10:05Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:55:50Z' class='post-time'>
              August 1, 2016,  1:55pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Kono-chan, post:2, topic:409062”][code]class TestClass {<br>
private $con;</p>
<pre><code>public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
	$this-&gt;con = new mysqli($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
}

public function __destruct() {
	$this-&gt;con-&gt;close();
}
</code></pre>
<p>}[/code]</p>
<p>Usage:</p>
<pre><code class="lang-auto"></code></pre>
<p>As for the other messy stuff.</p>
<p><code>public function getUid() {
	$uid = $_GET['uid'];
	if(!isset($uid)) {
		return false;
	}
	if(!is_numeric($uid)) {
		return false;
	}
	$query = 'SELECT * FROM `users` WHERE `uid` ='. $uid;
	$result = $this-&gt;con-&gt;query($query);
	if($result-&gt;num_rows &lt;= 0) {
		return false;
	}
	return $result;
}</code></p>
<p><code>$check = $test-&gt;getUid();
if(!$check) {
	exit();
}
$user = $check-&gt;fetch_assoc();
$check-&gt;close();</code>[/quote]</p>
<p>Thanks Dawn, helpful as always. <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> I guess i’ll spend all night reading about OOP.</p>
      </div>

      <meta itemprop='headline' content='Mysqli and OOP advice [Fairly New]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kono-chan.html'><span itemprop='name'>Kono-chan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-09T07:13:48Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:55:50Z' class='post-time'>
              August 1, 2016,  1:55pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Though I suggest you make an SqlHandler class for classes to extend that will handle the database connection, and only have one connection per page (if needed). You can also use it for things like query counting and stuff if you wanted. Or just name it “Basic” and throw in methods that a lot of pages use and you don’t want to go putting those methods in every class.</p>
<p>[code]class TestClass extends MysqlHandler {<br>
public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {<br>
parent::__construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);<br>
}</p>
<pre><code>public function __destruct() {
	parent::__destruct();
}
</code></pre>
<p>}</p>
<p>class MysqlHandler {<br>
private $con;</p>
<pre><code>public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
	$this-&gt;con = new mysqli($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
}

public function __destruct() {
	$this-&gt;con-&gt;close();
}
</code></pre>
<p>}[/code]</p>
      </div>

      <meta itemprop='headline' content='Mysqli and OOP advice [Fairly New]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Muroth.html'><span itemprop='name'>Muroth</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-09T07:48:11Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:55:51Z' class='post-time'>
              August 1, 2016,  1:55pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Like this?</p>
<pre><code class="lang-auto">&lt;?php
class TestClass extends MysqlHandler{

       public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
                parent::__construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
        }
        
        public function __destruct() {
                parent::__destruct();
        }
		
	public function getUid() {
        $uid = (int)$_GET['uid'];
        if(!isset($uid)) {
				echo "Invalid UID";
                return false;
        }
        $query = 'SELECT * FROM `users` WHERE `uid` ='. $uid;
        $result = $this-&gt;con-&gt;query($query);
        if($result-&gt;num_rows &lt;= 0) {
		echo "Invalid UID";
		return false;
        }
        return $result;
}

}

class MysqlHandler {
        public $con;
        
        public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
                $this-&gt;con = new mysqli($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
        }
        
        public function __destruct() {
                $this-&gt;con-&gt;close();
        }
}

$test = new TestClass('localhost','root','','db_1');
$check = $test-&gt;getUid();
if(!$check) {
        exit();
}
$user = $check-&gt;fetch_assoc();
echo $user['username'];
$check-&gt;close();
?&gt;</code></pre>
      </div>

      <meta itemprop='headline' content='Mysqli and OOP advice [Fairly New]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kono-chan.html'><span itemprop='name'>Kono-chan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-09T08:30:11Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:55:54Z' class='post-time'>
              August 1, 2016,  1:55pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>if(!$test-&gt;getUid()) {<br>
echo ‘invalid Id’;<br>
}</p>
<p>Don’t put echos inside of functions. Looks bad. :L</p>
<p>But no, more like…</p>
<p>[code]class TestClass extends MysqlHandler{</p>
<pre><code>   public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
            parent::__construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
    }
   
    public function __destruct() {
            parent::__destruct();
    }
           
    public function getUid() {
		$uid = (int)$_GET['uid'];
		if(!isset($uid)) {
				return false;
		}
		$query = 'SELECT * FROM `users` WHERE `uid` ='. $uid;
		$result = parent::con()-&gt;query($query);
		if($result-&gt;num_rows &lt;= 0) {
				return false;
		}
		return $result;
}
</code></pre>
<p>}</p>
<p>class MysqlHandler {<br>
public $con;</p>
<pre><code>    public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
            $this-&gt;con = new mysqli($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
    }
   
    public function __destruct() {
            $this-&gt;con-&gt;close();
    }
	
	public function con() {
		return $this-&gt;con;
	}
</code></pre>
<p>}[/code]</p>
<p>I guess you could use $this-&gt;con in the class that extends the sql handler, though I like to do it this way, not sure why. :L</p>
      </div>

      <meta itemprop='headline' content='Mysqli and OOP advice [Fairly New]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Muroth.html'><span itemprop='name'>Muroth</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-09T08:33:52Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:55:54Z' class='post-time'>
              August 1, 2016,  1:55pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Kono-chan, post:6, topic:409062”]if(!$test-&gt;getUid()) {<br>
echo ‘invalid Id’;<br>
}</p>
<p>Don’t put echos inside of functions. Looks bad. :L</p>
<p>But no, more like…</p>
<p>[code]class TestClass extends MysqlHandler{</p>
<pre><code>   public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
            parent::__construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
    }
   
    public function __destruct() {
            parent::__destruct();
    }
           
    public function getUid() {
		$uid = (int)$_GET['uid'];
		if(!isset($uid)) {
				return false;
		}
		$query = 'SELECT * FROM `users` WHERE `uid` ='. $uid;
		$result = parent::con()-&gt;query($query);
		if($result-&gt;num_rows &lt;= 0) {
				return false;
		}
		return $result;
}
</code></pre>
<p>}</p>
<p>class MysqlHandler {<br>
public $con;</p>
<pre><code>    public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
            $this-&gt;con = new mysqli($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
    }
   
    public function __destruct() {
            $this-&gt;con-&gt;close();
    }
	
	public function con() {
		return $this-&gt;con;
	}
</code></pre>
<p>}[/code]</p>
<p>I guess you could use $this-&gt;con in the class that extends the sql handler, though I like to do it this way, not sure why. :L[/quote]<br>
So what would I use in terms to advising the users that they went to an invalid place? Just a header redirect?</p>
      </div>

      <meta itemprop='headline' content='Mysqli and OOP advice [Fairly New]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kono-chan.html'><span itemprop='name'>Kono-chan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-09T08:37:15Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:55:55Z' class='post-time'>
              August 1, 2016,  1:55pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Muroth, post:7, topic:409062”][quote author=Kono-chan link=topic=510345.msg3703313#msg3703313 date=1312878611]<br>
if(!$test-&gt;getUid()) {<br>
echo ‘invalid Id’;<br>
}</p>
<p>Don’t put echos inside of functions. Looks bad. :L</p>
<p>But no, more like…</p>
<p>[code]class TestClass extends MysqlHandler{</p>
<pre><code>   public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
            parent::__construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
    }
   
    public function __destruct() {
            parent::__destruct();
    }
           
    public function getUid() {
		$uid = (int)$_GET['uid'];
		if(!isset($uid)) {
				return false;
		}
		$query = 'SELECT * FROM `users` WHERE `uid` ='. $uid;
		$result = parent::con()-&gt;query($query);
		if($result-&gt;num_rows &lt;= 0) {
				return false;
		}
		return $result;
}
</code></pre>
<p>}</p>
<p>class MysqlHandler {<br>
public $con;</p>
<pre><code>    public function __construct($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase) {
            $this-&gt;con = new mysqli($mysqlHost, $mysqlUser, $mysqlPassword, $mysqlDatabase);
    }
   
    public function __destruct() {
            $this-&gt;con-&gt;close();
    }
	
	public function con() {
		return $this-&gt;con;
	}
</code></pre>
<p>}[/code]</p>
<p>I guess you could use $this-&gt;con in the class that extends the sql handler, though I like to do it this way, not sure why. :L<br>
[/quote]<br>
So what would I use in terms to advising the users that they went to an invalid place? Just a header redirect?[/quote]</p>
<p>Returns or error setters? Or redirects if you want to do it that way…</p>
<p>But anyways I’m going to bed now, g’night. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Mysqli and OOP advice [Fairly New]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/slavemaster.html'><span itemprop='name'>slavemaster</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-12T20:25:50Z'>
            <time itemprop='dateModified' datetime='2016-08-01T14:01:52Z' class='post-time'>
              August 1, 2016,  2:01pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><em>yawn</em>… people still manually hard-code SQL queries? <img src="../../images/emoji/twitter/expressionlessae52.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"><br>
Take a look at database abstraction layers, object-relational mapping, and data-access objects <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>A popular example I have experience with is <a href="http://www.doctrine-project.org/" data-bbcode="true" rel="nofollow noopener">Doctrine</a> for PHP.</p>
      </div>

      <meta itemprop='headline' content='Mysqli and OOP advice [Fairly New]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Muroth.html'><span itemprop='name'>Muroth</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-12T21:00:22Z'>
            <time itemprop='dateModified' datetime='2016-08-01T14:01:55Z' class='post-time'>
              August 1, 2016,  2:01pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“slavemaster, post:9, topic:409062”]<em>yawn</em>… people still manually hard-code SQL queries? <img src="../../images/emoji/twitter/expressionlessae52.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"><br>
Take a look at database abstraction layers, object-relational mapping, and data-access objects <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>A popular example I have experience with is <a href="http://www.doctrine-project.org/" data-bbcode="true" rel="nofollow noopener">Doctrine</a> for PHP.[/quote]</p>
<p>Well I switched to prepared statements, it’s better in the long run.</p>
      </div>

      <meta itemprop='headline' content='Mysqli and OOP advice [Fairly New]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/mysqli-and-oop-advice-fairly-new/409062 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 13:28:22 GMT -->
</html>
