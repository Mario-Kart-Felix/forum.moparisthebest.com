<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/ruse-playerhandler-java-is-this-necessary/553621 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Ruse - PlayerHandler.java // Is this necessary? - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hey, 

I&amp;#39;ve added an automatic double EXP Weekend system by following this tutorial. In there it says   And, still in PlayerHandler add this below updatePlayerNames();: 

 
getDoubleEXPWeekend();



But the thing is, the&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="553621.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Ruse - PlayerHandler.java // Is this necessary?&#39;" href="553621.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/ruse-playerhandler-java-is-this-necessary/553621" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/ruse-playerhandler-java-is-this-necessary/553621" />
<meta property="og:title" content="Ruse - PlayerHandler.java // Is this necessary?" />
<meta name="twitter:title" content="Ruse - PlayerHandler.java // Is this necessary?" />
<meta property="og:description" content="Hey,  I’ve added an automatic double EXP Weekend system by following this tutorial.  In there it says  And, still in PlayerHandler add this below updatePlayerNames();: [code] getDoubleEXPWeekend(); [/code] But the thing is, there’s no updatePlayerNames(); in my PlayerHandler.  I’ve found this:  World.updatePlayersOnline(); but i don’t think it’s the same, and if i add getDoubleEXPWeekend(); below it i get the following error:  src\com\ruseps\world\entity\impl\player\PlayerHandler.java:254: error..." />
<meta name="twitter:description" content="Hey,  I’ve added an automatic double EXP Weekend system by following this tutorial.  In there it says  And, still in PlayerHandler add this below updatePlayerNames();: [code] getDoubleEXPWeekend(); [/code] But the thing is, there’s no updatePlayerNames(); in my PlayerHandler.  I’ve found this:  World.updatePlayersOnline(); but i don’t think it’s the same, and if i add getDoubleEXPWeekend(); below it i get the following error:  src\com\ruseps\world\entity\impl\player\PlayerHandler.java:254: error..." />
<meta property="article:published_time" content="2015-10-22T09:23:56+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="553621.html">Ruse - PlayerHandler.java // Is this necessary?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-22T09:23:56Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:37Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey,</p>
<p>I’ve added an automatic double EXP Weekend system by following <a href="http://www.rune-server.org/runescape-development/rs2-server/tutorials/267319-automatic-double-exp-weekend-project-insanity.html" data-bbcode="true" rel="nofollow noopener">this</a> tutorial.<br>
In there it says</p>
<blockquote>And, still in PlayerHandler add this below updatePlayerNames();:
[code]
getDoubleEXPWeekend();
[/code]</blockquote>
<p>But the thing is, there’s no updatePlayerNames(); in my PlayerHandler.<br>
I’ve found this:</p>
<pre><code class="lang-auto">World.updatePlayersOnline();</code></pre>
<p>but i don’t think it’s the same, and if i add getDoubleEXPWeekend(); below it i get the following error:</p>
<p><code>src\com\ruseps\world\entity\impl\player\PlayerHandler.java:254: error: cannot find symbol
                                getdoubleEXPWeekend();
                                ^
  symbol:   method getdoubleEXPWeekend()
  location: class PlayerHandler
</code></p>
<p>This is the code related to the automaticl double exp system in every file:</p>
<p>[spoiler=GameSettings.java]</p>
<pre><code class="lang-auto">	/**
	* Double EXP Weekend
	*/
	public static boolean doubleEXPWeekend = false;
	/**
	 * Is it currently bonus xp?
	 */
	public static boolean BONUS_EXP = false;//Misc.isWeekend();</code></pre>
<p>[/spoiler]</p>
<p>[spoiler=PlayerHandler.java]</p>
<pre><code class="lang-auto">if(GameSettings.doubleEXPWeekend) {
			player.getPacketSender().sendMessage("&lt;img=10&gt; &lt;col=008FB2&gt;It's weekend! That means there is a bonus EXP event going on!");
		} 
		if((GameSettings.BONUS_EXP) &amp;&amp; (!GameSettings.doubleEXPWeekend)) {
			player.getPacketSender().sendMessage("&lt;img=10&gt; &lt;col=008FB2&gt;There's currently a bonus EXP event going on!");
		}</code></pre>
<p>And:</p>
<pre><code class="lang-auto">public final void getDoubleEXPWeekend() {
		Calendar calendar = new GregorianCalendar();
		int day = calendar.get(Calendar.DAY_OF_WEEK);
		GameSettings.doubleEXPWeekend = false;
		if (day &gt; 6) {
			GameSettings.doubleEXPWeekend = true;
			GameSettings.BONUS_EXP = true;
			return;
		} else if (day &lt; 2) {
			GameSettings.doubleEXPWeekend = true;
			GameSettings.BONUS_EXP = true;
			return;
		}
		GameSettings.BONUS_EXP = false;
	}</code></pre>
<p>And:</p>
<pre><code class="lang-auto">boolean exception = GameServer.isUpdating() || World.getLogoutQueue().contains(player) &amp;&amp; player.getLogoutTimer().elapsed(90000);
		if(player.logout() || exception) {
				System.out.println("[World] Deregistering player - [username, host] : [" + player.getUsername() + ", " + player.getHostAddress() + "]");
				player.getSession().setState(SessionState.LOGGING_OUT);
				ConnectionHandler.remove(player.getHostAddress());
				player.setTotalPlayTime(player.getTotalPlayTime() + player.getRecordedLogin().elapsed());
				player.getPacketSender().sendInterfaceRemoval();
				if(player.getCannon() != null) {
					DwarfMultiCannon.pickupCannon(player, player.getCannon(), true);
				}
				if(exception &amp;&amp; player.getResetPosition() != null) {
					player.moveTo(player.getResetPosition());
					player.setResetPosition(null);
				}
				if(player.getRegionInstance() != null) {
					player.getRegionInstance().destruct();
				}
				Hunter.handleLogout(player);
				Locations.logout(player);
				player.getSummoning().unsummon(false, false);
				player.getFarming().save();
				Hiscores.save(player);
				BountyHunter.handleLogout(player);
				ClanChatManager.leave(player, false);
				player.getRelations().updateLists(false);
				PlayersOnlineInterface.remove(player);
				TaskManager.cancelTasks(player.getCombatBuilder());
				TaskManager.cancelTasks(player);
				player.save();
				World.getPlayers().remove(player);
				session.setState(SessionState.LOGGED_OUT);
				World.updatePlayersOnline();
				getdoubleEXPWeekend(); // ------------------------ THE LINE I'M TALKING ABOUT ------------------------------------
				return true;
			} else {
				return false;
			}
		} catch(Exception e) {
			e.printStackTrace();
		}
		return true;
	}</code></pre>
<p>And yes i did import the following things:</p>
<pre><code class="lang-auto">import java.util.Calendar;
import java.util.GregorianCalendar;</code></pre>
<p>[/spoiler]</p>
<p>So i was wondering, is getdoubleEXPWeekend(); in PlayerHandler necessary for this to work? If so, where should i put it?..</p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-22T17:13:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:37Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Let me first explain why you were getting an error:</p>
<p><code>public final void getDoubleEXPWeekend() {
		Calendar calendar = new GregorianCalendar();
		int day = calendar.get(Calendar.DAY_OF_WEEK);
		GameSettings.doubleEXPWeekend = false;
		if (day &gt; 6) {
			GameSettings.doubleEXPWeekend = true;
			GameSettings.BONUS_EXP = true;
			return;
		} else if (day &lt; 2) {
			GameSettings.doubleEXPWeekend = true;
			GameSettings.BONUS_EXP = true;
			return;
		}
		GameSettings.BONUS_EXP = false;
	}</code><br>
^That is your get<span class="bbcode-b">D</span>oubleEXPWeekend() method.<br>
If you would take a look, the D, the EXP, and W, are all capitalized.</p>
<p>However, in your error:</p>
<p><code>src\com\ruseps\world\entity\impl\player\PlayerHandler.java:254: error: cannot find symbol
                                getdoubleEXPWeekend();
                                ^
  symbol:   method getdoubleEXPWeekend()
  location: class PlayerHandler</code><br>
There seems to be a letter that isn’t capitalized (D).<br>
Java is case sensitive. If your variable has capitals, you must type it exactly like that when using it. Same with methods, classes, etc.</p>
<p>As for “if it’s necessary”.<br>
Yes. The method sets the weekend to true if the day is currently a weekend day. If you don’t use the method, your exp weekends will never be “automatic”.</p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-22T17:42:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:38Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <ol>
<li>Thanks.</li>
<li>I changed it to <code>getdoubleEXPWeekend();</code>
</li>
</ol>
<p>but now it gives me this error:</p>
<p><code>src\com\ruseps\world\entity\impl\player\PlayerHandler.java:254: error: non-static method getdoubleEXPWeekend() cannot be referenced from a static context
                                getdoubleEXPWeekend();
                                ^
</code><br>
That means i would have to rewrite the entire method to make it instance instead of static right? There’s no way i can do that myself ^.^ Is there any way to make the method getdoubleEXPWeekend static? Or would that ruin it too?</p>
<p>In other words, how do i fix the errors <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> I was just writing down what came to my mind when i saw the error.</p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-22T18:05:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:38Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>No, that error means you cannot access the non-static method “getdoubleEXPWeekend” from a static context.</p>
<p>You placed getdoubleEXPWeekend(); in a static method, however, the method itself is not static (Which is confusing as they labeled it as final.).</p>
<p>What you should do here is replace the “final” keyword with “static”:</p>
<pre><code class="lang-auto"></code></pre>
<p>Or, you can leave it how it is and put the instance into a non-static method (So one that doesn’t have the static keyword)</p>
<p><a href="http://stackoverflow.com/questions/3903537/i-want-to-know-the-difference-between-static-method-and-non-static-method" data-bbcode="true" rel="nofollow noopener">Java - I want to know the difference between static method and non-static method</a></p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-22T18:50:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:38Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks, fixed it.<br>
EDIT: There’s still some problems though with a command i’ve added (togglebonusxp) so i fear that doubleEXPWeekend won’t work either…<br>
There’s a boolean in GameSettings.Java:</p>
<pre><code class="lang-auto">	/**
	* Double EXP Weekend
	*/
	public static boolean doubleEXPWeekend = false;
	/**
	 * Is it currently bonus xp?
	 */
	public static boolean BONUS_EXP = false;//Misc.isWeekend();</code></pre>
<p>If a player login, it sends a message saying that the server currently has a bonus exp event going on. However, if i disable it using this command:</p>
<pre><code class="lang-auto">if (command[0].equalsIgnoreCase("togglebonusxp")) {
			if(GameSettings.BONUS_EXP) {
				GameSettings.BONUS_EXP = false;
				player.getPacketSender().sendMessage("Bonus EXP is now disabled!");
				World.sendMessage("Bonus EXP has just been turned off by a staffmember!");
			} else {
				GameSettings.BONUS_EXP = true;
				player.getPacketSender().sendMessage("Bonus EXP is now enabled!");
				World.sendMessage("Bonus EXP has just been turned on by a staffmember!");
			}
		}</code></pre>
<p>And then i relog, it doesn’t send that message. If i enable it with that command it doesn’t send the bonus xp message either… So yeah, what’s going wrong here?</p>
<p>If it’s needed, here’s the code that displays the message if there’s bonus EXP:</p>
<pre><code class="lang-auto">if(GameSettings.doubleEXPWeekend) {
			player.getPacketSender().sendMessage("&lt;img=10&gt; &lt;col=008FB2&gt;It's weekend! That means there is a bonus EXP event going on!");
		} 
		if((GameSettings.BONUS_EXP) &amp;&amp; (!GameSettings.doubleEXPWeekend)) {
			player.getPacketSender().sendMessage("&lt;img=10&gt; &lt;col=008FB2&gt;There's currently a bonus EXP event going on!");
		}</code></pre>
<p>No errors, just doesn’t send the message… I’m pretty sure it doesn’t change the value that is declared in GameSettings.java and therefore not working…</p>
<p>Another edit:<br>
If i do ::server (code down below):</p>
<pre><code class="lang-auto">if (command[0].equalsIgnoreCase("server")) {
			if (GameSettings.STAKE_ENABLED) {
			player.getPacketSender().sendMessage("Staking is currently enabled!");
			} else {
				player.getPacketSender().sendMessage("Staking is currently disabled!");
			} if (GameSettings.TRADE_ENABLED) {
			player.getPacketSender().sendMessage("Trading is currently enabled!");
			} else {
				player.getPacketSender().sendMessage("Trading is currently disabled!");
			} if (GameSettings.SHOPS_ENABLED) {
			player.getPacketSender().sendMessage("The shops are currently enabled!");
			} else {
				player.getPacketSender().sendMessage("The shops are currently disabled!");
			}
			if (GameSettings.BONUS_EXP) {
				player.getPacketSender().sendMessage("Bonus EXP is currently enabled!");
			} else {
				player.getPacketSender().sendMessage("Bonus EXP is currently disabled!");
			}
		}</code></pre>
<p>it does correctly say wether or not it’s bonus exp, but if i relog it will always reset back to disabled. Even though i haven’t done ::toggleshops again…</p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-22T22:00:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:38Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Your problem here is you’re trying to control 2 elements with 1 flag.</p>
<p>You use both:</p>
<p><code>	doubleEXPWeekend;
	BONUS_EXP;</code><br>
for your double exp weekend. However, you only modify one using that command.<br>
Not only that, I’m pretty sure that your server also only uses BONUS_EXP to give a player increased EXP.</p>
<p>What you should do is change this and the code that gives the bonus exp, to check for <span class="bbcode-b">either BONUS_EXP or doubleEXPWeekend</span> is set to true.</p>
<p>And I mean this for all of them.<br>
You could create a simple method to return whether or not it is enabled:</p>
<p><code>public static boolean isBonusXP() {
     return GameSettings.BONUS_EXP || GameSettings.doubleExpWeekend;
}</code></p>
<p>Now if you use isBonusXP() - it will return true when either of the variables are set to true.</p>
<p>Also, your settings command can use a <span class="bbcode-b">huge</span> cleanup by using ternary statements:</p>
<p><code>if (command[0].equalsIgnoreCase("server")) {	
	player.getPacketSender().sendMessage("Staking is currently " + (GameSettings.STAKE_ENABLED ? "Enabled" : "Disabled") + "!");
	player.getPacketSender().sendMessage("Trading is currently " + (GameSettings.TRADE_ENABLED ? "Enabled" : "Disabled") + "!");
	player.getPacketSender().sendMessage("Shopping is currently " + (GameSettings.SHOPS_ENABLED ? "Enabled" : "Disabled") + "!");
	player.getPacketSender().sendMessage("Bonus EXP is currently " + (GameSettings.BONUS_EXP ? "Enabled" : "Disabled") + "!");
}</code></p>
<p>Ternarys are basically condensed if-statements:</p>
<p><code>int p = 0;
if(p &gt; 0) {
     System.out.println("The number is above 0");
} else {
     System.out.println("The number is NOT above 0");
}
// The above can be converted to:
System.out.println("The number " + (p &gt; 0 ? "is" : "is NOT") + " above 0");
</code></p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-23T03:59:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:39Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>EDIT: I’ve tryed this in GameSettings.java</p>
<pre><code class="lang-auto">	/**
	* Checks to see if BONUS_EXP or doubleEXPWeekend is active
	*/
	public static boolean isBonusXP() {
		return GameSettings.BONUS_EXP || GameSettings.doubleExpWeekend;
    }</code></pre>
<p>and this in SkillManager.java</p>
<pre><code class="lang-auto">if(GameSettings.isBonusXP) {
			experience *= 2.0;
		}</code></pre>
<p>(The original code in SkillManager.java was):</p>
<pre><code class="lang-auto">if(GameSettings.BONUS_EXP) {
			experience *= 1.15; //15
		}</code></pre>
<p>And SkillManager does import GameSettings.java, but i get these errors:</p>
<pre><code class="lang-auto">src\com\ruseps\world\content\skill\SkillManager.java:87: error: cannot find symbol
                if(GameSettings.isBonusXP) {
                               ^
  symbol:   variable isBonusXP
  location: class GameSettings
src\com\ruseps\world\content\skill\SkillManager.java:87: error: illegal start of type
                if(GameSettings.isBonusXP) {
                  ^
src\com\ruseps\GameSettings.java:105: error: cannot find symbol
                return GameSettings.BONUS_EXP || GameSettings.doubleExpWeekend;
                                                             ^
  symbol:   variable doubleExpWeekend
  location: class GameSettings
3 errors</code></pre>
<p>I have no idea why it’s not working… This is my import in SkillManager.java:</p>
<pre><code class="lang-auto">import com.ruseps.GameSettings;</code></pre>
<p>What’s going on wrong?</p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-23T20:40:14Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:41Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The first error is because you didn’t add the ending parenthesis to the method instance.</p>
<pre><code class="lang-auto"></code></pre>
<p>Needs to be:</p>
<pre><code class="lang-auto"></code></pre>
<p>You need the parenthesis because it’s a method (Nothing goes in them as it has no arguments), not a variable.</p>
<p>Also, if you are placing this method:</p>
<p><code>	/**
	* Checks to see if BONUS_EXP or doubleEXPWeekend is active
	*/
	public static boolean isBonusXP() {
		return GameSettings.BONUS_EXP || GameSettings.doubleExpWeekend;
    }</code><br>
Into GameSettings.java, you do not need “GameSettings.” in front of the variable names. I simply put those there in case you placed the method outside of that class.</p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-23T21:00:04Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:41Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>That did fix the errors, but if i toggle bonusxp on with the command and then relog, it doesn’t show: “There’s currently a bonus XP event going on” so it doesn’t work… also the ::server command will say disabled again, so it didn’t actually fix anything ^.^</p>
<p>EDIT: It was turned on when i logged on, it did disable it, but when i try to toggle it back on it doesn’t work. So disabling works, turning it back on doesn’t.</p>
<p>Why is that? Any idea?</p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-23T21:09:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:41Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Did you make sure to update this code:</p>
<p><code>		if((GameSettings.BONUS_EXP) &amp;&amp; (!GameSettings.doubleEXPWeekend)) {
			player.getPacketSender().sendMessage("&lt;img=10&gt; &lt;col=008FB2&gt;There's currently a bonus EXP event going on!");
		}</code></p>
<p>To use the new boolean?</p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-23T21:16:30Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:41Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I did not, but i still want it to say there’s currently a double XP weekend event going on, and not there’s a bonus XP event going on. And in the boolean it uses both of them…</p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-23T21:24:49Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:41Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="11" data-topic="553621">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/soulxs/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Soulxs:</div>
<blockquote>
<p>I did not, but i still want it to say there’s currently a double XP weekend event going on, and not there’s a bonus XP event going on. And in the boolean it uses both of them…</p>
</blockquote>
</aside>
<p>Then you need to use debugging to figure out why the statement is setting to false.<br>
I would also check your getDoubleEXPWeekend() as it does this:</p>
<pre><code class="lang-auto"></code></pre>
<p>If it reaches the end of the method.<br>
You could probably remove that line (It’s the last line in the method), and it’d solve it.</p>
<p>Also, you can use a ternary to “clean up” the exp message on login:</p>
<p><code>if(GameSettings.isBonusXP()) {
      player.getPacketSender().sendMessage("&lt;img=10&gt;" + (GameSettings.doubleEXPWeekend ? "It's the weekend! " : "") + "&lt;col=008FB2&gt;There is currently a bonus EXP event going on!");
}</code></p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Soulxs.html'><span itemprop='name'>Soulxs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-24T09:56:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:33:56Z' class='post-time'>
              August 4, 2016,  4:33pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Did everything you said, but since it’s weekend it will always say There’s a bonus xp event going on, so i can try it on monday/tuesday <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Ruse - PlayerHandler.java // Is this necessary?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/ruse-playerhandler-java-is-this-necessary/553621 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:13 GMT -->
</html>
