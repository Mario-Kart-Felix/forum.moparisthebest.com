<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Npc dialogue</title>
    <link>https://forum.moparisthebest.com/t/npc-dialogue/241327</link>
    <description>Well, I&#39;ve added a lot of NPC dialogue in my blank 317 base. But, when I use more than 3 cases linked together via case 40 it doesn&#39;t work, well the options don&#39;t work. (Case 9157 and 9158)
Here is what I did;
So i added these in UpdateNPCCHAT().
[code]
			case 31:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126(&quot;Please, can you help me? I&#39;m in trouble?&quot;, 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
			break;
			case 32:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126(&quot;The King, he wants me to make a cake for him.&quot;, 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
			break;
			case 33:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126(&quot;The thing is, I lack the ingredients!&quot;, 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
			break;
			case 34:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126(&quot;Do you mind getting them for me? (Egg,flour,milk)&quot;, 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
				break;
			case 35:
				sendFrame171(1, 2465);
				sendFrame171(0, 2468);
				sendFrame126(&quot;Help the cook?&quot;, 2460);
				sendFrame126(&quot;Yes, I&#39;d love to help.&quot;, 2461);
				sendFrame126(&quot;Sorry, I have better things to do.&quot;, 2462);
				sendFrame164(2459);
				NpcDialogueSend = true;
			break;
			case 36:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126(&quot;Great, please get me a egg, some milk and some flour! &quot;, 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
			break;
			case 37:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126(&quot;Oh, OK. Goodbye.&quot;, 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
			break;[/code]

Then I added the 1st click NPC in case 155, which was;
			[code]if(NPCID == 278) { // Cook
			skillX = server.npcHandler.npcs[NPCSlot].absX;
			skillY = server.npcHandler.npcs[NPCSlot].absY;
			NpcWanneTalk = 31; // Starting dialogue for cook.
			}	[/code]

Then, I added the case 40 thingys;
[code]|| NpcDialogue == 31 | NpcDialogue == 32 | NpcDialogue == 33 || NpcDialogue == 34[/code]
Then in the one where you put the options;
[code]|| NpcDialogue == 35[/code]
OK, then in case 9157 and 9158 I added;
YES:
[code]			if (NpcDialogue == 35) {
			NpcDialogue = 36;
			NpcDialogueSend = true;
			}[/code]
NO:
[code]			if (NpcDialogue == 35) {
			NpcDialogue = 37;
			NpcDialogueSend = true;
			}[/code]
Lastly, here is what the NPC dialogue cases do;
[code]Here is what the cases do;
case 31 - 1st speech (start)
case 32 - 2nd speech
case 33 - 3rd speech
case 34 - 4th speech
case 35 - Options
case 36 - Said yes
case 37 - Said no[/code]
@The UpdateNPCChat(), I don&#39;t know how to add multiple lines in one dialogue, so I had to use a lot of cases.</description>
    
    <lastBuildDate>Tue, 04 Nov 2008 21:28:54 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/npc-dialogue/241327.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Npc dialogue</title>
        <dc:creator><![CDATA[@Jordiescape Jordiescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jordiescape">@Jordiescape</a> wrote:</p>
          <blockquote>
              <p>Lol, OK.</p>
<p>EDIT: Jamie owns, he got it working. Just had to change;</p>
<pre><code class="lang-auto">NpcDialogueSend = true;</code></pre>
<p>To;</p>
<pre><code class="lang-auto">NpcDialogueSend = false;</code></pre>
<p>(IluJamie) Lol.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-dialogue/241327/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-dialogue/241327/5</link>
        <pubDate>Tue, 04 Nov 2008 21:28:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-241327-5</guid>
        <source url="https://forum.moparisthebest.com/t/npc-dialogue/241327.rss">Npc dialogue</source>
      </item>
      <item>
        <title>Npc dialogue</title>
        <dc:creator><![CDATA[@Rog3r Rog3r]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/rog3r">@Rog3r</a> wrote:</p>
          <blockquote>
              <p>Hold on, I forgot to explain a bit more LOL</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-dialogue/241327/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-dialogue/241327/4</link>
        <pubDate>Tue, 04 Nov 2008 21:28:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-241327-4</guid>
        <source url="https://forum.moparisthebest.com/t/npc-dialogue/241327.rss">Npc dialogue</source>
      </item>
      <item>
        <title>Npc dialogue</title>
        <dc:creator><![CDATA[@Jordiescape Jordiescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jordiescape">@Jordiescape</a> wrote:</p>
          <blockquote>
              <p>Aight, thanks Rog3r, I’ll try it now.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-dialogue/241327/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-dialogue/241327/3</link>
        <pubDate>Tue, 04 Nov 2008 21:27:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-241327-3</guid>
        <source url="https://forum.moparisthebest.com/t/npc-dialogue/241327.rss">Npc dialogue</source>
      </item>
      <item>
        <title>Npc dialogue</title>
        <dc:creator><![CDATA[@Rog3r Rog3r]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/rog3r">@Rog3r</a> wrote:</p>
          <blockquote>
              <p>When you talk you would be best making something turn true.</p>
<p>For example:</p>
<blockquote>case 53:
blah blah blah
cookTalking = true;
break;</blockquote>
<p>Then, for the multiple options in packet 9157, and 9158</p>
<blockquote>if (cookTalking) {
NpcDialogue = 37;
NpcDialogueSend = true;
cookTalking = false;
}</blockquote>
<p>So when it comes true, which it does when we talked to the guy, since lets say we put that code in 9157 which is on top…<br>
If we click ontop, it will set it to false so it won’t stay on the screen, and switch to the dialogue 37.  Get it?</p>
<p>For <span class="bbcode-i">case 40:</span>, you would make it all connect together.<br>
Lets say that case 53 is right before the Yes or No option.</p>
<p>Well, connect everything except the options (example) 50, 51, 52, 53<br>
We do that because when the cookTalking turns true, it’ll do the switch for us.</p>
<p>So when it switches to true, it’ll give us case 54.<br>
And then the 9157 will handle it switching to 55.</p>
<p>Or, 9158 can end the conversation and nothing will be linked.<br>
However; if you want both to go to some type of conversation, you would make separate cases in the dialogue section.</p>
<p>And repeat the process over again, linking.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-dialogue/241327/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-dialogue/241327/2</link>
        <pubDate>Tue, 04 Nov 2008 21:25:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-241327-2</guid>
        <source url="https://forum.moparisthebest.com/t/npc-dialogue/241327.rss">Npc dialogue</source>
      </item>
      <item>
        <title>Npc dialogue</title>
        <dc:creator><![CDATA[@Jordiescape Jordiescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jordiescape">@Jordiescape</a> wrote:</p>
          <blockquote>
              <p>Well, I’ve added a lot of NPC dialogue in my blank 317 base. But, when I use more than 3 cases linked together via case 40 it doesn’t work, well the options don’t work. (Case 9157 and 9158)<br>
Here is what I did;<br>
So i added these in UpdateNPCCHAT().</p>
<p><code>
			case 31:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126("Please, can you help me? I'm in trouble?", 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
			break;
			case 32:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126("The King, he wants me to make a cake for him.", 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
			break;
			case 33:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126("The thing is, I lack the ingredients!", 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
			break;
			case 34:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126("Do you mind getting them for me? (Egg,flour,milk)", 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
				break;
			case 35:
				sendFrame171(1, 2465);
				sendFrame171(0, 2468);
				sendFrame126("Help the cook?", 2460);
				sendFrame126("Yes, I'd love to help.", 2461);
				sendFrame126("Sorry, I have better things to do.", 2462);
				sendFrame164(2459);
				NpcDialogueSend = true;
			break;
			case 36:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126("Great, please get me a egg, some milk and some flour! ", 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
			break;
			case 37:
				sendFrame200(4883, 591);
				sendFrame126(GetNpcName(NpcTalkTo), 4884);
				sendFrame126("Oh, OK. Goodbye.", 4885);
				sendFrame75(NpcTalkTo, 4883);
				sendFrame164(4882);
				NpcDialogueSend = true;
			break;</code></p>
<p>Then I added the 1st click NPC in case 155, which was;<br>
<code>if(NPCID == 278) { // Cook
			skillX = server.npcHandler.npcs[NPCSlot].absX;
			skillY = server.npcHandler.npcs[NPCSlot].absY;
			NpcWanneTalk = 31; // Starting dialogue for cook.
			}	</code></p>
<p>Then, I added the case 40 thingys;</p>
<pre><code class="lang-auto">|| NpcDialogue == 31 | NpcDialogue == 32 | NpcDialogue == 33 || NpcDialogue == 34</code></pre>
<p>Then in the one where you put the options;</p>
<pre><code class="lang-auto">|| NpcDialogue == 35</code></pre>
<p>OK, then in case 9157 and 9158 I added;<br>
YES:</p>
<p><code>			if (NpcDialogue == 35) {
			NpcDialogue = 36;
			NpcDialogueSend = true;
			}</code><br>
NO:</p>
<p><code>			if (NpcDialogue == 35) {
			NpcDialogue = 37;
			NpcDialogueSend = true;
			}</code><br>
Lastly, here is what the NPC dialogue cases do;</p>
<p><code>Here is what the cases do;
case 31 - 1st speech (start)
case 32 - 2nd speech
case 33 - 3rd speech
case 34 - 4th speech
case 35 - Options
case 36 - Said yes
case 37 - Said no</code><br>
<a class="mention" href="/u/the">@The</a> UpdateNPCChat(), I don’t know how to add multiple lines in one dialogue, so I had to use a lot of cases.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-dialogue/241327/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-dialogue/241327/1</link>
        <pubDate>Tue, 04 Nov 2008 20:05:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-241327-1</guid>
        <source url="https://forum.moparisthebest.com/t/npc-dialogue/241327.rss">Npc dialogue</source>
      </item>
  </channel>
</rss>
