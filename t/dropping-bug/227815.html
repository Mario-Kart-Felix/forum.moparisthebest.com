<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/dropping-bug/227815 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 07:08:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Dropping Bug - Runescape - moparisthebest.com</title>
    <meta name="description" content="Well I enabled dropping on my server since i&amp;#39;m putting it up today with dos protection etc.. When I put dropping in everyone knows about that one dupe aye. 

&amp;quot;drop Item eat shark&amp;quot; Item drops shark moves item in inventory&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="227815.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Dropping Bug&#39;" href="227815.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/dropping-bug/227815" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/dropping-bug/227815" />
<meta property="og:title" content="Dropping Bug" />
<meta name="twitter:title" content="Dropping Bug" />
<meta property="og:description" content="Well I enabled dropping on my server since i’m putting it up today with dos protection etc…  When I put dropping in everyone knows about that one dupe aye.  &quot;drop Item eat shark&quot; Item drops shark moves item in inventory&quot;you keep item and it also drops&quot; to make a dupe&quot; Well I have been trying to fix this before it goes up (5 hrs or so) I know what I have to do but I don’t Know which files,  I have to set a delay on dropping and eating the food.  Would anyone know how to do this.  Ps. If you don’t..." />
<meta name="twitter:description" content="Well I enabled dropping on my server since i’m putting it up today with dos protection etc…  When I put dropping in everyone knows about that one dupe aye.  &quot;drop Item eat shark&quot; Item drops shark moves item in inventory&quot;you keep item and it also drops&quot; to make a dupe&quot; Well I have been trying to fix this before it goes up (5 hrs or so) I know what I have to do but I don’t Know which files,  I have to set a delay on dropping and eating the food.  Would anyone know how to do this.  Ps. If you don’t..." />
<meta property="article:published_time" content="2008-08-24T22:57:34+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="227815.html">Dropping Bug</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/anc13nts1.html'><span itemprop='name'>anc13nts1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-08-24T22:57:34Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:10:09Z' class='post-time'>
              July 31, 2016,  1:10am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well I enabled dropping on my server since i’m putting it up today with dos protection etc…<br>
When I put dropping in everyone knows about that one dupe aye.</p>
<blockquote>"drop Item eat shark" Item drops shark moves item in inventory"you keep item and it also drops" to make a dupe"</blockquote>
<p>Well I have been trying to fix this before it goes up (5 hrs or so) I know what I have to do but I don’t Know which files,<br>
I have to set a delay on dropping and eating the food.<br>
Would anyone know how to do this.</p>
<p>Ps. If you don’t know then just don’t post as simple as that.</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cr0ss.html'><span itemprop='name'>cr0ss</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-08-25T00:26:40Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:10:12Z' class='post-time'>
              July 31, 2016,  1:10am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I assume you are using demonik.<br>
At DropEvent.java(at Event folder) add this under ‘run’ method:</p>
<p>[code]       if(System.currentTimeMillis()-owner.getLastDrop()&lt;500){<br>
super.running = false;<br>
return;<br>
}</p>
<pre><code>	owner.setLastDrop();
	if(owner.isBusy()) {
		owner.resetPath();
		super.running = false;
		return;
	}[/code]</code></pre>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Krypton1.html'><span itemprop='name'>Krypton1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-08-25T01:29:43Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:10:15Z' class='post-time'>
              July 31, 2016,  1:10am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just make the inventory close after you drop an item.</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/anc13nts1.html'><span itemprop='name'>anc13nts1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-08-25T02:41:51Z'>
            <time itemprop='dateModified' datetime='2019-01-27T08:12:48Z' class='post-time'>
              January 27, 2019,  8:12am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>lol thats what I was trying to do before in the mudclient.java ill try it again later</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-08-25T07:21:24Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:10:25Z' class='post-time'>
              July 31, 2016,  1:10am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“anc13nts1, post:4, topic:227815”][quote author=Krypton link=topic=299414.msg2404407#msg2404407 date=1219627783]<br>
Just make the inventory close after you drop an item.<br>
[/quote]<br>
lol thats what I was trying to do before in the mudclient.java ill try it again later[/quote]</p>
<p>And that wont change a thing. If everyone and their mother didn’t have the client source, then it’d be a fix: a bad one, but still a fix.</p>
<p>Simply set the player busy for a X amount of time before the actual drop.</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xEnt.html'><span itemprop='name'>xEnt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-08-26T00:22:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:11:21Z' class='post-time'>
              July 31, 2016,  1:11am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Peter, post:5, topic:227815”][quote author=anc13nts1 link=topic=299414.msg2404505#msg2404505 date=1219632111]</p>
<aside class="quote no-group">
<blockquote>
<p>Just make the inventory close after you drop an item.</p>
</blockquote>
</aside>
<p>lol thats what I was trying to do before in the mudclient.java ill try it again later<br>
[/quote]</p>
<p>And that wont change a thing. If everyone and their mother didn’t have the client source, then it’d be a fix: a bad one, but still a fix.</p>
<p><span class="bbcode-b">Simply</span> set the player busy for a X amount of time before the actual drop.[/quote]<br>
Simply? this is moparscape, Simply comes with 100 questions, 4 tutorials, 1 black wannabe 50 cent and a penis up your ass.</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Kyle.html'><span itemprop='name'>_Kyle</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-08-26T02:01:19Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:11:34Z' class='post-time'>
              July 31, 2016,  1:11am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Lmao.</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-08-26T10:45:17Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:11:52Z' class='post-time'>
              July 31, 2016,  1:11am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“xEnt, post:6, topic:227815”][quote author=Peter link=topic=299414.msg2404664#msg2404664 date=1219648884]</p>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<p>Just make the inventory close after you drop an item.</p>
</blockquote>
</aside>
<p>lol thats what I was trying to do before in the mudclient.java ill try it again later</p>
</blockquote>
</aside>
<p>And that wont change a thing. If everyone and their mother didn’t have the client source, then it’d be a fix: a bad one, but still a fix.</p>
<p><span class="bbcode-b">Simply</span> set the player busy for a X amount of time before the actual drop.<br>
[/quote]<br>
Simply? this is moparscape, Simply comes with 100 questions, 4 tutorials, 1 black wannabe 50 cent and a penis up your ass.[/quote]</p>
<p>QFT <img src="../../images/emoji/twitter/frowning1bce.png?v=6" title=":frowning:" class="emoji" alt=":frowning:"></p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KO9.html'><span itemprop='name'>KO9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-08-26T14:37:31Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:12:08Z' class='post-time'>
              July 31, 2016,  1:12am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“xEnt, post:6, topic:227815”][quote author=Peter link=topic=299414.msg2404664#msg2404664 date=1219648884]</p>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<p>Just make the inventory close after you drop an item.</p>
</blockquote>
</aside>
<p>lol thats what I was trying to do before in the mudclient.java ill try it again later</p>
</blockquote>
</aside>
<p>And that wont change a thing. If everyone and their mother didn’t have the client source, then it’d be a fix: a bad one, but still a fix.</p>
<p><span class="bbcode-b">Simply</span> set the player busy for a X amount of time before the actual drop.<br>
[/quote]<br>
Simply? this is moparscape, Simply comes with 100 questions, 4 tutorials, 1 black wannabe 50 cent and a penis up your ass.[/quote]</p>
<p>lol’d</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/anc13nts1.html'><span itemprop='name'>anc13nts1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-04T05:00:18Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:24:59Z' class='post-time'>
              July 31, 2016,  1:24am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well I still cant figure this out lol I added a “x” amount of time and it still lets you dupe<br>
by</p>
<blockquote>dropping a item fast then eat a shark fast then it moves the item in the next inventory slot while item drops performing a dupe</blockquote>
<p>Ill show you all the ways I tried lol…</p>
<ol>
<li>my first way</li>
</ol>
<p>[code]package com.rscd.event;</p>
<p>import com.rscd.util.DataConversions;<br>
import com.rscd.DelayedEventHandler;<br>
import com.rscd.model.*;</p>
<p>public class DropEvent extends DelayedEvent {<br>
public static final World world = World.getWorld();<br>
private InvItem item;<br>
private int slot;</p>
<pre><code>public DropEvent(Player owner, int slot) {
	super(owner, 500);
	this.slot = slot;
	item = owner.getInventory().get(slot);
	if(item == null) {
		owner.setSuspicious(true);
		super.running = false;
	}
}

public void run() {
   if(System.currentTimeMillis()-owner.getLastDrop()&lt;500){
   super.running = false;
   return;
   }

	owner.setLastDrop();
	if(owner.isBusy()) {
		owner.resetPath();
		super.running = false;
		return;
	}
	if(owner.isBusy()) {
		owner.resetPath();
		super.running = false;
		return;
	}
	if(owner.hasMoved()) {
		return; // We're still moving
	}
	if(item.isWielded()) {
		owner.getActionSender().sendSound("click");
		item.setWield(false);
		owner.updateWornItems(item.getWieldableDef().getWieldPos(), owner.getPlayerAppearance().getSprite(item.getWieldableDef().getWieldPos()));
		owner.getActionSender().sendEquipmentStats();
	}
	owner.getActionSender().sendSound("dropobject");
	owner.getInventory().remove(slot);
	owner.getActionSender().sendRemoveItem(slot);
	world.registerItem(new Item(item.getId(), owner.getX(), owner.getY(), item.getAmount(), true, owner));

	super.running = false;
}

public boolean equals(Object o) {
	if(o instanceof DropEvent) {
		DropEvent e = (DropEvent)o;
		return e.belongsTo(getOwner()) &amp;&amp; e.getItem().equals(getItem());
	}
	return false;
}

public InvItem getItem() {
	return item;
}
</code></pre>
<p>}[/code]</p>
<ol start="2">
<li>
</li>
</ol>
<p>[code]package com.rscd.event;</p>
<p>import com.rscd.util.DataConversions;<br>
import com.rscd.DelayedEventHandler;<br>
import com.rscd.model.*;</p>
<p>public class DropEvent extends DelayedEvent {<br>
public static final World world = World.getWorld();<br>
private InvItem item;<br>
private int slot;</p>
<pre><code>public DropEvent(Player owner, int slot) {
	super(owner, 500);
	this.slot = slot;
	item = owner.getInventory().get(slot);
	if(item == null) {
		owner.setSuspicious(true);
		super.running = false;
	}
}

public void run() {
   if(System.currentTimeMillis()-owner.getLastDrop()&lt;500){
   super.running = false;
   return;
   }

	owner.setLastDrop();
	if(owner.isBusy()) {
		owner.resetPath();
		super.running = false;
		return;
	}
	if(owner.hasMoved()) {
		return; // We're still moving
	}
	if(item.isWielded()) {
		owner.getActionSender().sendSound("click");
		item.setWield(false);
		owner.updateWornItems(item.getWieldableDef().getWieldPos(), owner.getPlayerAppearance().getSprite(item.getWieldableDef().getWieldPos()));
		owner.getActionSender().sendEquipmentStats();
	}
	owner.getActionSender().sendSound("dropobject");
	owner.getInventory().remove(slot);
	owner.getActionSender().sendRemoveItem(slot);
	world.registerItem(new Item(item.getId(), owner.getX(), owner.getY(), item.getAmount(), true, owner));

	super.running = false;
}

public boolean equals(Object o) {
	if(o instanceof DropEvent) {
		DropEvent e = (DropEvent)o;
		return e.belongsTo(getOwner()) &amp;&amp; e.getItem().equals(getItem());
	}
	return false;
}

public InvItem getItem() {
	return item;
}
</code></pre>
<p>}[/code]</p>
<p>My 3rd way…</p>
<p>[code]package com.rscd.event;</p>
<p>import com.rscd.util.DataConversions;<br>
import com.rscd.DelayedEventHandler;<br>
import com.rscd.model.*;</p>
<p>public class DropEvent extends DelayedEvent {<br>
public static final World world = World.getWorld();<br>
private InvItem item;<br>
private int slot;</p>
<pre><code>public DropEvent(Player owner, int slot) {
	super(owner, 500);
	this.slot = slot;
	item = owner.getInventory().get(slot);
	if(item == null) {
		owner.setSuspicious(true);
		super.running = false;
	}
}

public void run() {
   if(System.currentTimeMillis()-owner.getLastDrop()&lt;500){
	owner.setLastDrop();
	if(owner.isBusy()) {
		owner.resetPath();
		super.running = false;
		return;
	}
	if(owner.hasMoved()) {
		return; // We're still moving
	}
	if(item.isWielded()) {
		owner.getActionSender().sendSound("click");
		item.setWield(false);
		owner.updateWornItems(item.getWieldableDef().getWieldPos(), owner.getPlayerAppearance().getSprite(item.getWieldableDef().getWieldPos()));
		owner.getActionSender().sendEquipmentStats();
	}
	owner.getActionSender().sendSound("dropobject");
	owner.getInventory().remove(slot);
	owner.getActionSender().sendRemoveItem(slot);
	world.registerItem(new Item(item.getId(), owner.getX(), owner.getY(), item.getAmount(), true, owner));

	super.running = false;
}

public boolean equals(Object o) {
	if(o instanceof DropEvent) {
		DropEvent e = (DropEvent)o;
		return e.belongsTo(getOwner()) &amp;&amp; e.getItem().equals(getItem());
	}
	return false;
}

public InvItem getItem() {
	return item;
}
</code></pre>
<p>}[/code]</p>
<p>But none of them worked and sometimes when I added them in and I tried dropping a item I just got a client crash or a stuck in db</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Alecks.html'><span itemprop='name'>Alecks</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-05T03:11:21Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:25:57Z' class='post-time'>
              July 31, 2016,  1:25am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Or you can do it the correct way and look at RSCD?</p>
<p>[code]<br>
package org.rscdaemon.server.packethandler.client;</p>
<p>import org.rscdaemon.server.packethandler.PacketHandler;<br>
import org.rscdaemon.server.model.*;<br>
import org.rscdaemon.server.net.Packet;<br>
import org.rscdaemon.server.event.DelayedEvent;<br>
import org.rscdaemon.server.states.Action;<br>
import org.apache.mina.common.IoSession;</p>
<p>public class DropHandler implements PacketHandler {<br>
/**<br>
* World instance<br>
*/<br>
public static final World world = World.getWorld();</p>
<pre><code>public void handlePacket(Packet p, IoSession session) throws Exception {
	Player player = (Player)session.getAttachment();
	if(player.isBusy()) {
		player.resetPath();
		return;
	}
	player.resetAll();
	final int idx = (int)p.readShort();
	if(idx &lt; 0 || idx &gt;= player.getInventory().size()) {
		player.setSuspiciousPlayer(true);
		return;
	}
	final InvItem item = player.getInventory().get(idx);
	if(item == null) {
		player.setSuspiciousPlayer(true);
		return;
	}
	player.setStatus(Action.DROPPING_GITEM);
	world.getDelayedEventHandler().add(new DelayedEvent(player, 500) {
		public void run() {
			if(owner.isBusy() || !owner.getInventory().contains(item) || owner.getStatus() != Action.DROPPING_GITEM) {
				running = false;
				return;
			}
			if(owner.hasMoved()) {
				return;
			}
			owner.getActionSender().sendSound("dropobject");
			owner.getInventory().remove(item);
			owner.getActionSender().sendInventory();
			world.registerItem(new Item(item.getID(), owner.getX(), owner.getY(), item.getAmount(), owner));
			running = false;
		}
	});
}
</code></pre>
<p>}[/code]</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Holy-Wings.html'><span itemprop='name'>Holy-Wings</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-05T13:12:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:26:12Z' class='post-time'>
              July 31, 2016,  1:26am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="7" data-topic="227815">
<div class="title">
<div class="quote-controls"></div>
 ~Kyle:</div>
<blockquote>
<p>Lmao.</p>
</blockquote>
</aside>
<p>^ what he said</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BuyMyJunk.html'><span itemprop='name'>BuyMyJunk</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-05T21:12:22Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:26:36Z' class='post-time'>
              July 31, 2016,  1:26am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Holy-Wings, post:12, topic:227815”][quote author=~Kyle link=topic=299414.msg2406146#msg2406146 date=1219716079]<br>
Lmao.<br>
[/quote]<br>
^ what he said[/quote]<br>
gtfo out with your spam</p>
<p>back on topic, you could make it just so when items are droped they dont appear, lame fix but a fix kinda<br>
and do to do the way you wanted with the mudclient, change packets around so they need your client</p>
      </div>

      <meta itemprop='headline' content='Dropping Bug'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/dropping-bug/227815 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 07:08:58 GMT -->
</html>
