<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/wave-sounds-in-the-cache/445725?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 06:02:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Wave sounds in the cache - Runescape - moparisthebest.com</title>
    <meta name="description" content="The wave sounds are very large so how do they fit in a 60mb cache?">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="4457254658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Wave sounds in the cache&#39;" href="445725.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/wave-sounds-in-the-cache/445725?page=2" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/wave-sounds-in-the-cache/445725?page=2" />
<meta property="og:title" content="Wave sounds in the cache" />
<meta name="twitter:title" content="Wave sounds in the cache" />
<meta property="og:description" content="[quote=“n10si t, post:20, topic:445725”][quote author=eyeownyew link=topic=548561.msg4022631#msg4022631 date=1340127956]   I thought “on demand” simply meant the files were sent on request (but they’re still cached). The cache does store music and sound effect files – quite a lot of them – so I see no reason why specific ones would be left out.    They are sent on request. The client only grabs stuff when it’s needed, so songs aren’t in the cache until they are unlocked. Once they’re unlocked, t..." />
<meta name="twitter:description" content="[quote=“n10si t, post:20, topic:445725”][quote author=eyeownyew link=topic=548561.msg4022631#msg4022631 date=1340127956]   I thought “on demand” simply meant the files were sent on request (but they’re still cached). The cache does store music and sound effect files – quite a lot of them – so I see no reason why specific ones would be left out.    They are sent on request. The client only grabs stuff when it’s needed, so songs aren’t in the cache until they are unlocked. Once they’re unlocked, t..." />
<meta property="article:published_time" content="2012-06-20T06:24:46+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="445725.html">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="445725.html">Wave sounds in the cache</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/eyeownyew.html'><span itemprop='name'>eyeownyew</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-20T06:24:46Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:23:25Z' class='post-time'>
              August 3, 2016,  3:23am
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“n10si t, post:20, topic:445725”][quote author=eyeownyew link=topic=548561.msg4022631#msg4022631 date=1340127956]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I also thought that a large number of the sounds were only heard on occassion (using the ondemand protocol) to keep the cache size fairly limited?</p>
</blockquote>
</aside>
<p>I thought “on demand” simply meant the files were sent on request (but they’re still cached). The cache does store music and sound effect files – quite a lot of them – so I see no reason why specific ones would be left out.</p>
</blockquote>
</aside>
<p>They are sent on request. The client only grabs stuff when it’s needed, so songs aren’t in the cache until they are unlocked. Once they’re unlocked, they request the song from the OnDemand server (probably port 43595) and then they pack them into the cache for later use.<br>
[/quote]</p>
<p>You’re not wrong, but RuneScape’s regular servers run on port 43595[/quote]No, they run on 43594.</p>
      </div>

      <meta itemprop='headline' content='Wave sounds in the cache'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/slavemaster.html'><span itemprop='name'>slavemaster</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-20T07:07:56Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:23:28Z' class='post-time'>
              August 3, 2016,  3:23am
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>For one, the client does not store generated audio in WAV containers, but rather synthesizes said data at run-time using a homebrew wavetable synthesizer, and thus only stores relatively little data on-disk, e.g. for encoded pitch/amplitude envelopes, envelopes for pitch/amplitude modulation, impulse-response filter poles…</p>
<p><a href="http://musicdsp.org/files/Wavetable-101.pdf" data-bbcode="true" rel="nofollow noopener">Wavetable Synthesis 101, A Fundamental Perspective</a></p>
<blockquote>In any case, the amount of data being stored and used for this synthesis method is far less than just the PCM sample file of the note. This is because wavetable synthesis takes advantage of the quasiperiodic nature of the waveform to remove redundancies and to reduce the data set.</blockquote>
<p>While this is more CPU-intensive, it greatly saves space, though the client only generates 8-bit PCM at 22050 Hz and WAV is a fairly light-weight RIFF container.</p>
<p>P.S. All the data required for the WAV file is included in sounds.dat, which is a part of the mandatory config archive (<span class="hashtag">#2</span>), so all of this audio is in fact there. The audio that is requested on-demand in these old clients is actually only MIDI. The more you know.</p>
      </div>

      <meta itemprop='headline' content='Wave sounds in the cache'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iKilem.html'><span itemprop='name'>iKilem</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-20T13:01:29Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:23:40Z' class='post-time'>
              August 3, 2016,  3:23am
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="20" data-topic="445725">
<div class="title">
<div class="quote-controls"></div>
 n10si t:</div>
<blockquote>
<p>You’re not wrong, but RuneScape’s regular servers run on port 43595</p>
</blockquote>
</aside>
<p>The game server listens on port 43594. The update server (what eyeownyew was talking about) does actually listen on port 43595.</p>
<p>veer, is this something that’s relatively new or only with sound effects? For music, the format AFAIK is midi, but they’ve been using a custom soundbank ever since this update: <a href="http://services.runescape.com/m=news/the-feldip-hills-are-alive-with-the-sound-of-muuuusic" data-bbcode="true" rel="nofollow noopener">http://services.runescape.com/m=news/the-feldip-hills-are-alive-with-the-sound-of-muuuusic</a>.</p>
      </div>

      <meta itemprop='headline' content='Wave sounds in the cache'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/slavemaster.html'><span itemprop='name'>slavemaster</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-20T15:08:21Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:24:02Z' class='post-time'>
              August 3, 2016,  3:24am
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Only with sound effects I believe, and only in the older engine clients. I believe that update transitioned from just pumping MIDI files to the loader to synthesizing sampled audio from them in the client.</p>
      </div>

      <meta itemprop='headline' content='Wave sounds in the cache'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="445725.html">← previous page</a></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/wave-sounds-in-the-cache/445725?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 06:02:07 GMT -->
</html>
