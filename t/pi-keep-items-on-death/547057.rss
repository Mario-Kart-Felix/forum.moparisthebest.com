<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>PI Keep items on death</title>
    <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057</link>
    <description>So i&#39;m still sitting with the problem that if u die u lose Fire cape.

but if you die with a Rune Defender it&#39;s just simple laying on the ground.

so i searched for the Rune defender code but i couldn&#39;t find the code in the files that the defender puts hisself on the ground after dieing.

does somebody know how i fix that if you die with a fire cape u keep the firecape on ground or in ur inventory</description>
    
    <lastBuildDate>Thu, 09 Oct 2014 11:29:16 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@runeball runeball]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runeball">@runeball</a> wrote:</p>
          <blockquote>
              <p>it works you keep the f cape now i only need to get the f cape away from drops but i will look for that on google.</p>
<p>thankyou sk8r <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/13</link>
        <pubDate>Thu, 09 Oct 2014 11:29:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-13</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>[quote=“runeball, post:11, topic:547057”]its giving me no errors but if i want to run the server it gives me this.</p>
<p><img src="http://i.gyazo.com/dea5699ce011d5cebef7f40f2920c458.png" alt width="" height="">[/quote]<br>
Looks like it’s related to a value in your shop cfg…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/12</link>
        <pubDate>Wed, 08 Oct 2014 17:52:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-12</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@runeball runeball]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runeball">@runeball</a> wrote:</p>
          <blockquote>
              <p>its giving me no errors but if i want to run the server it gives me this.</p>
<p><img src="http://i.gyazo.com/dea5699ce011d5cebef7f40f2920c458.png" alt width="" height=""></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/11</link>
        <pubDate>Wed, 08 Oct 2014 17:08:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-11</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p><a href="http://pastebin.com/Rd0qhXqC" rel="nofollow noopener">http://pastebin.com/Rd0qhXqC</a> - ItemAssistant<br>
<a href="http://pastebin.com/9NC27Z72" rel="nofollow noopener">http://pastebin.com/9NC27Z72</a> - PlayerAssistant.</p>
<p>All I did was add more if statements to the code, checking if the item being removed/dropped/deleted is the items in the KEPT_ITEMS array.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/10</link>
        <pubDate>Wed, 08 Oct 2014 16:01:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-10</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@runeball runeball]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runeball">@runeball</a> wrote:</p>
          <blockquote>
              <p>i did what dan said i don’t have any errors anymore but its still doesnt working.</p>
<p>account 1 is still getting the fire cape at drop</p>
<p>and account 2 still losing the f cape</p>
<p>this are the files i coded.</p>
<p><a href="http://pastebin.com/RXhT8bKc" rel="nofollow noopener">http://pastebin.com/RXhT8bKc</a> &lt;- Config</p>
<p><a href="http://pastebin.com/2FmTE2TU" rel="nofollow noopener">http://pastebin.com/2FmTE2TU</a> &lt;- PlayerAssist</p>
<p><a href="http://pastebin.com/CkrW7EX9" rel="nofollow noopener">http://pastebin.com/CkrW7EX9</a> &lt;- ItemAssist</p>
<p>maybe this would make it easyer to solve the problem <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/9</link>
        <pubDate>Wed, 08 Oct 2014 14:14:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-9</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>[quote=“runeball, post:7, topic:547057”]okay wait.</p>
<p>the first one gave me allot of errors.</p>
<p>i try the 2nd one[/quote]<br>
Use what Dan said.<br>
The code is incorrect on my part.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/8</link>
        <pubDate>Fri, 03 Oct 2014 14:15:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-8</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@runeball runeball]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runeball">@runeball</a> wrote:</p>
          <blockquote>
              <p>okay wait.</p>
<p>the first one gave me allot of errors.</p>
<p>i try the 2nd one</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/7</link>
        <pubDate>Fri, 03 Oct 2014 14:13:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-7</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>[quote=“runeball, post:5, topic:547057”]i got it fixed by make the code like this.</p>
<p><code>        /**
        * Checking if player can keep item...
        * @item the item to check
        * @return whether they can or not.
        **/
        private boolean keptItem(int item) {;
                for(int i : Config.KEPT_ON_DEATH); {
                        return (item - 1) == i;
                }
        }</code></p>
<p>but ingame it still drops Fcape for the attacker[/quote]</p>
<p>That’s wrong use what I showed you or use this.</p>
<p><code>private boolean keptItem(int item) {
           for(int i : Config.KEPT_ON_DEATH) {
                        if((item - 1) == i) {
                         return true;
                        }
                }
                return false;
}</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/6</link>
        <pubDate>Fri, 03 Oct 2014 14:09:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-6</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@runeball runeball]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runeball">@runeball</a> wrote:</p>
          <blockquote>
              <p>i got it fixed by make the code like this.</p>
<p><code>        /**
        * Checking if player can keep item...
        * @item the item to check
        * @return whether they can or not.
        **/
        private boolean keptItem(int item) {;
                for(int i : Config.KEPT_ON_DEATH); {
                        return (item - 1) == i;
                }
        }</code></p>
<p>but ingame it still drops Fcape for the attacker</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/5</link>
        <pubDate>Fri, 03 Oct 2014 14:04:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p><code>private boolean keptItem(int item) {
return Arrays.stream(Config.KEPT_ON_DEATH).anyMatch(i -&gt; (i - 1) == item);
}</code></p>
<p>you need to have java 8 to use this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/4</link>
        <pubDate>Fri, 03 Oct 2014 13:59:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@runeball runeball]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runeball">@runeball</a> wrote:</p>
          <blockquote>
              <p>this is the only error it gives.</p>
<p><img src="http://i.gyazo.com/25c9fe053dd7da72623548859ba66d28.png" alt width="" height=""></p>
<p>its saying ‘;’ expected</p>
<p>i tryed everything but i can’t get it fixed</p>
<p>the rest does work perfectly no errors yet</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/3</link>
        <pubDate>Fri, 03 Oct 2014 13:49:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>[quote=“runeball, post:1, topic:547057”]So i’m still sitting with the problem that if u die u lose Fire cape.</p>
<p>but if you die with a Rune Defender it’s just simple laying on the ground.</p>
<p>so i searched for the Rune defender code but i couldn’t find the code in the files that the defender puts hisself on the ground after dieing.</p>
<p>does somebody know how i fix that if you die with a fire cape u keep the firecape on ground or in ur inventory[/quote]<br>
The rune defender acts like a regular item…</p>
<p>The fire cape doesn’t. I’d suggest looking for code related to the firecape, and not the defender.<br>
Remove the code that deletes it upon death.</p>
<p>Now lets make items “keepable”.<br>
First, make an array. You can put it where ever you wish, but most people like to put it in Config.java as a constant…</p>
<p><code>
public static int[] KEPT_ON_DEATH = {
     6570
};</code><br>
I only added one item, you can add as many as you please…</p>
<p>Now, I feel like you have some code in your giveLife or applyDead method that deletes all items…<br>
Something like this…</p>
<p><code>
			if (!c.isSkulled) { // what items to keep
				toGive = 3;
				c.getItems().keepItem(0, true);
				c.getItems().keepItem(1, true);
				c.getItems().keepItem(2, true);
			}
			if (c.prayerActive[10]
					|| (System.currentTimeMillis() - c.lastProtItem &lt;= 1000)) {
				toGive = 4;
				c.getItems().keepItem(3, true);
			}
			c.getItems().dropAllItems(); // drop all items
			c.getItems().deleteAllItems(); // delete all items
			for (int i1 = 0; i1 &lt; toGive; i1++) {
				if (c.itemKeptId[i1] &gt; 0) {
					c.getItems().addItem(c.itemKeptId[i1], 1);
				}
			}
			c.getItems().resetKeepItems();</code></p>
<p>See the method, deleteAllItems? That’s the one we’re going to change. So rename it, I’ll be calling it “deleteItemsOnDeath” as that is literally what you’re doing…</p>
<p>Now in ItemAssistant, we have to create the method deleteItemsOnDeath.</p>
<pre><code class="lang-auto">	/**
	* Deleting all items on death...
	*
	**/
	public void deleteItemsOnDeath() {
		for (int i1 = 0; i1 &lt; c.playerEquipment.length; i1++) {
			if (!keptItem(c.playerEquipment[i1]))
				deleteEquipment(c.playerEquipment[i1], i1);

		}
		for (int i = 0; i &lt; c.playerItems.length; i++) {
			if (!keptItem(c.playerItems[i]))
				deleteItem(c.playerItems[i] - 1,
						getItemSlot(c.playerItems[i] - 1), c.playerItemsN[i]);
		}
	}
	
	/**
	* Checking if player can keep item...
	* @item the item to check
	* @return whether they can or not.
	**/
	private boolean keptItem(int item) {
		for(int i : Config.KEPT_ON_DEATH) {
			return (item - 1) == i);
		}
	}</code></pre>
<p>Hope this helps…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/2</link>
        <pubDate>Fri, 03 Oct 2014 13:26:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
      <item>
        <title>PI Keep items on death</title>
        <dc:creator><![CDATA[@runeball runeball]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runeball">@runeball</a> wrote:</p>
          <blockquote>
              <p>So i’m still sitting with the problem that if u die u lose Fire cape.</p>
<p>but if you die with a Rune Defender it’s just simple laying on the ground.</p>
<p>so i searched for the Rune defender code but i couldn’t find the code in the files that the defender puts hisself on the ground after dieing.</p>
<p>does somebody know how i fix that if you die with a fire cape u keep the firecape on ground or in ur inventory</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057/1</link>
        <pubDate>Fri, 03 Oct 2014 12:46:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547057-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-keep-items-on-death/547057.rss">PI Keep items on death</source>
      </item>
  </channel>
</rss>
