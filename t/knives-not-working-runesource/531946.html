<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/knives-not-working-runesource/531946 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 13:17:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Knives not working {runesource} - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hello, 

So I just encountered an problem, my knives don&amp;#39;t seem to work. I am getting this error when I am trying to throw a knife, it then dc&amp;#39;s me out the server. 

Error: 

 java.lang.NullPointerException
	at com.rs2.m&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="531946.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Knives not working {runesource}&#39;" href="531946.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/knives-not-working-runesource/531946" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/knives-not-working-runesource/531946" />
<meta property="og:title" content="Knives not working {runesource}" />
<meta name="twitter:title" content="Knives not working {runesource}" />
<meta property="og:description" content="Hello,  So I just encountered an problem, my knives don’t seem to work.  I am getting this error when I am trying to throw a knife, it then dc’s me out the server.  Error: java.lang.NullPointerException 	at com.rs2.model.combat.attack.range.RangeAttack.getStartGfx(RangeAttack.java:161) 	at com.rs2.model.combat.attack.range.RangeAttack.startAttack(RangeAttack.java:31) 	at com.rs2.model.combat.AttackHandler.startAttack(AttackHandler.java:139) 	at com.rs2.model.combat.AttackHandler.attackProcess(At..." />
<meta name="twitter:description" content="Hello,  So I just encountered an problem, my knives don’t seem to work.  I am getting this error when I am trying to throw a knife, it then dc’s me out the server.  Error: java.lang.NullPointerException 	at com.rs2.model.combat.attack.range.RangeAttack.getStartGfx(RangeAttack.java:161) 	at com.rs2.model.combat.attack.range.RangeAttack.startAttack(RangeAttack.java:31) 	at com.rs2.model.combat.AttackHandler.startAttack(AttackHandler.java:139) 	at com.rs2.model.combat.AttackHandler.attackProcess(At..." />
<meta property="article:published_time" content="2013-09-22T19:23:37+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="531946.html">Knives not working {runesource}</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/luna-scape.html'><span itemprop='name'>luna-scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-09-22T19:23:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:36:57Z' class='post-time'>
              August 4, 2016, 10:36am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello,</p>
<p>So I just encountered an problem, my knives don’t seem to work.<br>
I am getting this error when I am trying to throw a knife, it then dc’s me out the server.</p>
<p>Error:<code>
java.lang.NullPointerException
	at com.rs2.model.combat.attack.range.RangeAttack.getStartGfx(RangeAttack.java:161)
	at com.rs2.model.combat.attack.range.RangeAttack.startAttack(RangeAttack.java:31)
	at com.rs2.model.combat.AttackHandler.startAttack(AttackHandler.java:139)
	at com.rs2.model.combat.AttackHandler.attackProcess(AttackHandler.java:151)
	at com.rs2.model.players.Player.process(Player.java:186)
	at com.rs2.model.World.process(World.java:53)
	at com.rs2.Server.cycle(Server.java:202)
	at com.rs2.Server.run(Server.java:114)
	at java.lang.Thread.run(Unknown Source)
Player(Tester:tester - 127.0.0.1) disconnecting.</code></p>
<p>Now it’s defined on the same places as my darts, throwing axes and javelins are but they don’t have any problems.</p>
      </div>

      <meta itemprop='headline' content='Knives not working {runesource}'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Docent.html'><span itemprop='name'>Docent</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-09-22T19:27:24Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:36:57Z' class='post-time'>
              August 4, 2016, 10:36am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well it looks like it is having an issue running the “getStartGfx” method in RangeAttack.java.</p>
<p>Props for using RuneSource</p>
      </div>

      <meta itemprop='headline' content='Knives not working {runesource}'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/luna-scape.html'><span itemprop='name'>luna-scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-09-22T19:31:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:36:57Z' class='post-time'>
              August 4, 2016, 10:36am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Docent, post:2, topic:531946”]Well it looks like it is having an issue running the “getStartGfx” method in RangeAttack.java.</p>
<p>Props for using RuneSource[/quote]</p>
<p>Yes I saw that and I looked there but didn’t noticed anything strange.<br>
this is the method:</p>
<p>[code]	private int getStartGfx() {<br>
if (ATTACKER instanceof Player) {<br>
Player player = (Player) ATTACKER;<br>
Item arrow;<br>
Item weapon;<br>
arrow = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_ARROWS);<br>
weapon = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_WEAPON);<br>
if (weapon == null || arrow == null &amp;&amp; !Equipment.isThrownWeapon(weapon.getId()) &amp;&amp; weapon.getId() != 4212)<br>
return -1;<br>
if (weapon.getId() == 4212) {<br>
return 250;<br>
}<br>
if (weapon.getRangedInfo() != null)<br>
return weapon.getRangedInfo().getStartGfx();<br>
else if (arrow.getRangedInfo() != null)<br>
return arrow.getRangedInfo().getStartGfx();<br>
} else {</p>
<pre><code>		return -1;
	}
	return -1;
}
</code></pre>
<p>[/code]</p>
      </div>

      <meta itemprop='headline' content='Knives not working {runesource}'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-09-22T19:50:25Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:36:58Z' class='post-time'>
              August 4, 2016, 10:36am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>post your getStartGfx method in the RangeAttack class</p>
      </div>

      <meta itemprop='headline' content='Knives not working {runesource}'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/luna-scape.html'><span itemprop='name'>luna-scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-09-22T19:59:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:36:58Z' class='post-time'>
              August 4, 2016, 10:36am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="531946">
<div class="title">
<div class="quote-controls"></div>
 Clawz fury:</div>
<blockquote>
<p>post your getStartGfx method in the RangeAttack class</p>
</blockquote>
</aside>
<p>here it is:</p>
<p>[code]      private int getStartGfx() {<br>
if (ATTACKER instanceof Player) {<br>
Player player = (Player) ATTACKER;<br>
Item arrow;<br>
Item weapon;<br>
arrow = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_ARROWS);<br>
weapon = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_WEAPON);<br>
if (weapon == null || arrow == null &amp;&amp; !Equipment.isThrownWeapon(weapon.getId()) &amp;&amp; weapon.getId() != 4212)<br>
return -1;<br>
if (weapon.getId() == 4212) {<br>
return 250;<br>
}<br>
if (weapon.getRangedInfo() != null)<br>
return weapon.getRangedInfo().getStartGfx();<br>
else if (arrow.getRangedInfo() != null)<br>
return arrow.getRangedInfo().getStartGfx();<br>
} else {</p>
<pre><code>                    return -1;
            }
            return -1;
    }[/code]</code></pre>
      </div>

      <meta itemprop='headline' content='Knives not working {runesource}'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/strucker.html'><span itemprop='name'>strucker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-09-22T20:21:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:36:58Z' class='post-time'>
              August 4, 2016, 10:36am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>post the whole class</p>
      </div>

      <meta itemprop='headline' content='Knives not working {runesource}'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/luna-scape.html'><span itemprop='name'>luna-scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-09-22T20:25:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:36:59Z' class='post-time'>
              August 4, 2016, 10:36am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="531946">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/strucker/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Strucker:</div>
<blockquote>
<p>post the whole class</p>
</blockquote>
</aside>
<p>There u go</p>
<p>[code]package com.rs2.model.combat.attack.range;</p>
<p>import com.rs2.Constants;<br>
import com.rs2.model.Entity;<br>
import com.rs2.model.World;<br>
import com.rs2.model.Entity.AttackTypes;<br>
import com.rs2.model.combat.attack.Attack;<br>
import com.rs2.model.content.Prayer;<br>
import com.rs2.model.npcs.Npc;<br>
import com.rs2.model.players.Item;<br>
import com.rs2.model.players.Player;<br>
import com.rs2.model.players.Skill;<br>
import com.rs2.model.players.item.Equipment;<br>
import com.rs2.util.Misc;</p>
<p>public class RangeAttack extends Attack {</p>
<pre><code>public RangeAttack(Entity entity, Entity victim) {
	super(entity, victim);
}

@Override
public void startAttack() {
	if (!checkArrows()) {
		if (ATTACKER instanceof Player)
			((Player)ATTACKER).getActionSender().sendMessage("You need arrows to fire this bow");
		ATTACKER.getAttackHandler().resetAttackOnMove();
		return;
	}
	ATTACKER.getAttackHandler().addHit(victim, AttackTypes.RANGE, -1, -1, -1);
	ATTACKER.getUpdateFlags().sendGraphic(getStartGfx(), 100 &lt;&lt; 16);
	ATTACKER.getUpdateFlags().sendAnimation(ATTACKER.grabAttackAnimation(), 0);
	ATTACKER.getAttackHandler().setAttackTimer(ATTACKER.grabAttackSpeed());
	createRangedProjectile();
	deleteArrow();	
}

/**
 * A method which creates a ranged projectile
 */
private void createRangedProjectile() {
	int angle = 50;
	int time = 50;
	if (ATTACKER instanceof Player) {
		Player player = (Player) ATTACKER;
		if (Equipment.isThrownWeapon(player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_WEAPON).getId())) {
			time = 45;
		}
	}
	int speed = getSpeed();
	int gfxMoving = getProjectileGfx();
	int offsetY = (victim.getPosition().getY() - ATTACKER.getPosition().getY()) ;//Might need to swap for player and npc projectiles
	int offsetX = (victim.getPosition().getX() - ATTACKER.getPosition().getX());
	for (Player players : World.getPlayers()) {
		if (players == null) {
			continue;
		}
		if (Misc.getDistance(ATTACKER.getPosition(), players.getPosition()) &lt;= 25) {
			players.getActionSender().sendProjectile(ATTACKER.getPosition(), victim.getPosition(), offsetY, offsetX, angle, time, speed, gfxMoving,
					50, 50, victim);
		}
	}
}

/**
 * A method which checks whether a player has arrows
 */
private boolean checkArrows() {
	if (ATTACKER instanceof Npc)
		return true;
	else {
		Player player = (Player) ATTACKER;
		if (player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_ARROWS) != null)
			return true;
		if (player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_WEAPON) != null) {
			Item weapon = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_WEAPON);
			if(Equipment.isThrownWeapon(weapon.getId()))
				return true;
			switch(weapon.getId()) {
			case 4212:
				return true;
			}
		}

	}
	return false;
}

@Override
public void addExp(Player attackingPlayer, int nextDamage) {
	if (attackingPlayer.getExpType() == Constants.EXP_MODE_RANGE) {
		attackingPlayer.getSkill().addExp(Skill.RANGE, (nextDamage * 4));
		attackingPlayer.getSkill().addExp(Skill.HITPOINTS, (nextDamage * 1.33));
	} else if (attackingPlayer.getExpType() == Constants.EXP_MODE_RANGE_DEFENCE) {
		attackingPlayer.getSkill().addExp(Skill.RANGE, (nextDamage * 2));
		attackingPlayer.getSkill().addExp(Skill.DEFENCE, (nextDamage * 2));
		attackingPlayer.getSkill().addExp(Skill.HITPOINTS, (nextDamage * 1.33));
	}
}

/**
 * Method which reduces the players ammunition
 */
private void deleteArrow() {
	if (ATTACKER instanceof Player) {
		Player player = (Player) ATTACKER;
		Item arrows = null;
		Item weapon = null;
		try {
			arrows = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_ARROWS);
			weapon = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_WEAPON);
		} catch(Exception e) {
		}
		if (weapon != null) {
			if (Equipment.isThrownWeapon(weapon.getId())) {
				if (weapon.getCount() &gt; 1) {
					weapon.setCount(weapon.getCount() - 1);
					player.getEquipment().refresh();
				} else if (weapon.getCount() == 1) {
					player.getEquipment().deleteItem(Constants.EQUIPMENT_SLOT_WEAPON);
					player.getActionSender().sendMessage("You have run out of ammunition");
					player.getAttackHandler().resetAttackOnMove();
				}
			}
			switch (weapon.getId()) {
			case 4212:
				return;
			}
		}
		if (arrows != null &amp;&amp; !Equipment.isThrownWeapon(weapon.getId())) {
			if (arrows.getCount() &gt; 1) {
				arrows.setCount(arrows.getCount() - 1);
				player.getEquipment().refresh();
			} else if (arrows.getCount() == 1) {
				player.getEquipment().deleteItem(Constants.EQUIPMENT_SLOT_ARROWS);
				player.getActionSender().sendMessage("You have run out of ammunition");
				player.getAttackHandler().resetAttackOnMove();
			}
		}
	}
}

/**
 * Method which returns the starting gfx to appear
 * on the attacker's position.
 */
private int getStartGfx() {
	if (ATTACKER instanceof Player) {
		Player player = (Player) ATTACKER;
		Item arrow;
		Item weapon;
		arrow = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_ARROWS);
		weapon = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_WEAPON);
		if (weapon == null || arrow == null &amp;&amp; !Equipment.isThrownWeapon(weapon.getId()) &amp;&amp; weapon.getId() != 4212)
			return -1;
		if (weapon.getId() == 4212) {
			return 250;
		}
		if (weapon.getRangedInfo() != null)
			return weapon.getRangedInfo().getStartGfx();
		else if (arrow.getRangedInfo() != null)
			return arrow.getRangedInfo().getStartGfx();
	} else {
		//ADD NPC SHIT HERE
		return -1;
	}
	return -1;
}

/**
 * Method which returns the projectile for a
 * specific weapon/ammunition.
 */
private int getProjectileGfx() {
	if (ATTACKER instanceof Player) {
		Player player = (Player) ATTACKER;
		Item arrow;
		Item weapon;
		try {
			arrow = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_ARROWS);
			weapon = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_WEAPON);
		} catch(Exception e) {
			return -1;
		}
		//Add special weapons here
		if (weapon.getId() == 4212) {
			return 249;
		}
		if (weapon.getRangedInfo() != null)
			return weapon.getRangedInfo().getProjectileGfx();
		else if (arrow.getRangedInfo() != null)
			return arrow.getRangedInfo().getProjectileGfx();
	} else {
		//ADD NPC SHIT HERE
		return -1;
	}
	return -1;
}

/**
 * Method which returns the speed at which a
 * projectile must travel for a given distance.
 */
private int getSpeed() {
	switch (Misc.getDistance(victim.getPosition(), ATTACKER.getPosition())) {
	case 1:
		return 65;
	case 2:
		return 67;
	case 3:
		return 69;
	case 4:
		return 71;
	case 5:
		return 73;
	case 6:
		return 75;
	case 7:
		return 77;
	}
	return -1;
}

/**
 * Method which returns the strength of a 
 * particular ranged weapon/ammunition
 */
private int arrowStrength() {
	if (ATTACKER instanceof Player) {
		Player player = (Player) ATTACKER;
		Item arrow;
		Item weapon;
		try {
			arrow = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_ARROWS);
			weapon = player.getEquipment().getItemContainer().get(Constants.EQUIPMENT_SLOT_WEAPON);
		} catch(Exception e) {
			return -1;
		}
		if (arrow == null || weapon == null)
			return 0;
		//Add special weapons here
		switch (weapon.getId()) {
		case 4212:
			return 70;
		}
		if (weapon.getRangedInfo() != null) {
			return weapon.getRangedInfo().getRangedStrength();
		} else if (arrow.getRangedInfo() != null) {
			return arrow.getRangedInfo().getRangedStrength();
		}
	}
	return 0;
}

@Override
public int maxHit() {
	if (ATTACKER instanceof Player) {
		Player player = (Player) ATTACKER;
		double rangedLevel = player.getSkill().getLevel()[Skill.RANGE];
		double prayerMultiplier = 1;
		double effectiveStrength;

		if (player.getIsUsingPrayer()[Prayer.SHARP_EYE])
			prayerMultiplier = 1.05;
		else if (player.getIsUsingPrayer()[Prayer.HAWK_EYE])
			prayerMultiplier = 1.1;
		else if (player.getIsUsingPrayer()[Prayer.EAGLE_EYE])
			prayerMultiplier = 1.15;

		effectiveStrength = Math.floor((rangedLevel * prayerMultiplier));

		//TODO: Add Void here

		double rangedStrength = arrowStrength();

		double maxHit = 1.3 + (effectiveStrength / 10) + (rangedStrength / 80) + 
				((effectiveStrength * rangedStrength / 640));

		Math.floor(maxHit);

		if (maxHit &lt;= 0)
			maxHit = 1;

		return (int) maxHit;
	} else {
		Npc npc = (Npc) ATTACKER;
		return npc.getDefinition().getMaxHit(AttackTypes.RANGE);
	}
}
</code></pre>
<p>}<br>
[/code]</p>
      </div>

      <meta itemprop='headline' content='Knives not working {runesource}'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/knives-not-working-runesource/531946 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 13:17:21 GMT -->
</html>
