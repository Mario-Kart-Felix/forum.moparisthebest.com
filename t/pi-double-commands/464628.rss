<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Double Commands</title>
    <link>https://forum.moparisthebest.com/t/pi-double-commands/464628</link>
    <description>Ahkay I am trying to add a command button that jails and/or unjails a player.
I&#39;ve come along way and this is the code that works for jailing a player:

[code]if(c.jail) {
	try {
				String targetedPlayer = textSent;
					for(int i = 0; i &lt; Config.MAX_PLAYERS; i++) {
					if(Server.playerHandler.players[i] != null) {
					if(Server.playerHandler.players[i].playerName.equalsIgnoreCase(targetedPlayer)) {
					Client c2 = (Client)Server.playerHandler.players[i];
                                        int randomjail = Misc.random(3);
					if (randomjail == 1) {
						c2.getPA().startTeleport(2773, 2794, 0, &quot;modern&quot;);

					}
					if (randomjail == 2) {
					c2.getPA().startTeleport(2775, 2796, 0, &quot;modern&quot;);
					
					}
					if (randomjail == 3) {
					c2.getPA().startTeleport(2775, 2798, 0, &quot;modern&quot;);
					
					}
					if (randomjail == 0) {
					c2.getPA().startTeleport(2775, 2800, 0, &quot;modern&quot;);
					
					}
                                        c2.Jail = true;
					c2.sendMessage(&quot;You have been jailed by &quot;+c.playerName+&quot;&quot;);
					c.sendMessage(&quot;You have Jailed &quot;+c2.playerName+&quot;.&quot;);
							} 
						}
					}
				} catch(Exception e) {
					c.sendMessage(&quot;Player Must Be Offline.&quot;);
				}
				
			}[/code]
That code works perfectly for jailing a player, but we also want it to be like if the player is already in jail, it unjails them.

Here is the code I&#39;ve tried for that:

[code]if(c.jail &amp;&amp; c.jail1) {
	try {
				String targetedPlayer = textSent;
					for(int i = 0; i &lt; Config.MAX_PLAYERS; i++) {
					if(Server.playerHandler.players[i] != null) {
					if(Server.playerHandler.players[i].playerName.equalsIgnoreCase(targetedPlayer)) {
					Client c2 = (Client)Server.playerHandler.players[i];
                                        int randomjail = Misc.random(3);
					if (randomjail == 1) {
						c2.getPA().startTeleport(2773, 2794, 0, &quot;modern&quot;);

					}
					if (randomjail == 2) {
					c2.getPA().startTeleport(2775, 2796, 0, &quot;modern&quot;);
					
					}
					if (randomjail == 3) {
					c2.getPA().startTeleport(2775, 2798, 0, &quot;modern&quot;);
					
					}
					if (randomjail == 0) {
					c2.getPA().startTeleport(2775, 2800, 0, &quot;modern&quot;);
					
					}
                                        c2.Jail = true;
										c2.jail1 = true;
					c2.sendMessage(&quot;You have been jailed by &quot;+c.playerName+&quot;&quot;);
					c.sendMessage(&quot;You have Jailed &quot;+c2.playerName+&quot;.&quot;);
							} 
						}
					}
				} catch(Exception e) {
					c.sendMessage(&quot;Player Must Be Offline.&quot;);
				}
				
			} else if (c.jail1 == false) {
				c.Jailed = true;
                               try {
					String targetedPlayer = textSent;
					for(int i = 0; i &lt; Config.MAX_PLAYERS; i++) {
					if(Server.playerHandler.players[i] != null) {
					if(Server.playerHandler.players[i].playerName.equalsIgnoreCase(targetedPlayer)) {
					Client c2 = (Client)Server.playerHandler.players[i];
                                        c2.Jail = false;
										c2.jail1 = false;
										c2.getPA().startTeleport(3086, 3493, 0, &quot;modern&quot;);
					c2.sendMessage(&quot;You have been unjailed by &quot;+c.playerName+&quot;.&quot;);
					c.sendMessage(&quot;Successfully unjailed &quot;+c2.playerName+&quot;.&quot;);
							} 
						}
					}
				} catch(Exception e) {
					c.sendMessage(&quot;Player Must Be Offline.&quot;);
				}
			}[/code]
Now for some reason, that code only unjails the player. Doesn&#39;t put them in jail at all..?

Here are some other codes that are in place:

[code=ClickingButtons.java]case 82120: //JAIL
	if(!c.jail) {
				if(c.getInStream() != null &amp; c != null) {
		    		c.getOutStream().createFrame(187);
		    	    }
		    	    c.jail = true;
					c.jail1 = false;
		    	    c.jail2 = false;
		    	} else {
		    	    c.jail = false;
					c.jail1 = true;
		    	    c.jail2 = true;
		    	}
		break;[/code]

[code=Player.java]	/**
	* Start of staff command booleans
	*/
	public boolean kick;
	public boolean kick2;
	public boolean jail;
	public boolean jail1;
	public boolean jail2;
	public boolean Jailed;[/code]

Any help is greatly appreciated, thank you all so much.</description>
    
    <lastBuildDate>Sat, 20 Oct 2012 05:48:00 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-double-commands/464628.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Double Commands</title>
        <dc:creator><![CDATA[@matzie matzie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/matzie">@matzie</a> wrote:</p>
          <blockquote>
              <p>make jail split in to two halves, one half for jail other for unjail. have the unjail section called through if x_1&lt;=absx&lt;=x_2 and y_1&lt;=absy&lt;=y_2</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-double-commands/464628/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-double-commands/464628/4</link>
        <pubDate>Sat, 20 Oct 2012 05:48:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-464628-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-double-commands/464628.rss">[PI] Double Commands</source>
      </item>
      <item>
        <title>[PI] Double Commands</title>
        <dc:creator><![CDATA[@EvoIllusions EvoIllusions]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/evoillusions">@EvoIllusions</a> wrote:</p>
          <blockquote>
              <p>Because it isn’t a command. It’s a button &amp; I only have one ‘jail’ button so I got to make it do both of them… So could anyone give me any hints or ideas?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-double-commands/464628/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-double-commands/464628/3</link>
        <pubDate>Fri, 19 Oct 2012 23:46:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-464628-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-double-commands/464628.rss">[PI] Double Commands</source>
      </item>
      <item>
        <title>[PI] Double Commands</title>
        <dc:creator><![CDATA[@Ian1045 Ian1045]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ian1045">@Ian1045</a> wrote:</p>
          <blockquote>
              <p>Why not change it to “::unjail [player]”<br>
Then it wouldn’t interfere right? <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-double-commands/464628/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-double-commands/464628/2</link>
        <pubDate>Fri, 19 Oct 2012 23:38:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-464628-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-double-commands/464628.rss">[PI] Double Commands</source>
      </item>
      <item>
        <title>[PI] Double Commands</title>
        <dc:creator><![CDATA[@EvoIllusions EvoIllusions]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/evoillusions">@EvoIllusions</a> wrote:</p>
          <blockquote>
              <p>Ahkay I am trying to add a command button that jails and/or unjails a player.<br>
I’ve come along way and this is the code that works for jailing a player:</p>
<p>[code]if(c.jail) {<br>
try {<br>
String targetedPlayer = textSent;<br>
for(int i = 0; i &lt; Config.MAX_PLAYERS; i++) {<br>
if(Server.playerHandler.players[i] != null) {<br>
if(Server.playerHandler.players[i].playerName.equalsIgnoreCase(targetedPlayer)) {<br>
Client c2 = (Client)Server.playerHandler.players[i];<br>
int randomjail = Misc.random(3);<br>
if (randomjail == 1) {<br>
c2.getPA().startTeleport(2773, 2794, 0, “modern”);</p>
<pre><code>				}
				if (randomjail == 2) {
				c2.getPA().startTeleport(2775, 2796, 0, "modern");
				
				}
				if (randomjail == 3) {
				c2.getPA().startTeleport(2775, 2798, 0, "modern");
				
				}
				if (randomjail == 0) {
				c2.getPA().startTeleport(2775, 2800, 0, "modern");
				
				}
                                    c2.Jail = true;
				c2.sendMessage("You have been jailed by "+c.playerName+"");
				c.sendMessage("You have Jailed "+c2.playerName+".");
						} 
					}
				}
			} catch(Exception e) {
				c.sendMessage("Player Must Be Offline.");
			}
			
		}[/code]
</code></pre>
<p>That code works perfectly for jailing a player, but we also want it to be like if the player is already in jail, it unjails them.</p>
<p>Here is the code I’ve tried for that:</p>
<p>[code]if(c.jail &amp;&amp; c.jail1) {<br>
try {<br>
String targetedPlayer = textSent;<br>
for(int i = 0; i &lt; Config.MAX_PLAYERS; i++) {<br>
if(Server.playerHandler.players[i] != null) {<br>
if(Server.playerHandler.players[i].playerName.equalsIgnoreCase(targetedPlayer)) {<br>
Client c2 = (Client)Server.playerHandler.players[i];<br>
int randomjail = Misc.random(3);<br>
if (randomjail == 1) {<br>
c2.getPA().startTeleport(2773, 2794, 0, “modern”);</p>
<pre><code>				}
				if (randomjail == 2) {
				c2.getPA().startTeleport(2775, 2796, 0, "modern");
				
				}
				if (randomjail == 3) {
				c2.getPA().startTeleport(2775, 2798, 0, "modern");
				
				}
				if (randomjail == 0) {
				c2.getPA().startTeleport(2775, 2800, 0, "modern");
				
				}
                                    c2.Jail = true;
									c2.jail1 = true;
				c2.sendMessage("You have been jailed by "+c.playerName+"");
				c.sendMessage("You have Jailed "+c2.playerName+".");
						} 
					}
				}
			} catch(Exception e) {
				c.sendMessage("Player Must Be Offline.");
			}
			
		} else if (c.jail1 == false) {
			c.Jailed = true;
                           try {
				String targetedPlayer = textSent;
				for(int i = 0; i &lt; Config.MAX_PLAYERS; i++) {
				if(Server.playerHandler.players[i] != null) {
				if(Server.playerHandler.players[i].playerName.equalsIgnoreCase(targetedPlayer)) {
				Client c2 = (Client)Server.playerHandler.players[i];
                                    c2.Jail = false;
									c2.jail1 = false;
									c2.getPA().startTeleport(3086, 3493, 0, "modern");
				c2.sendMessage("You have been unjailed by "+c.playerName+".");
				c.sendMessage("Successfully unjailed "+c2.playerName+".");
						} 
					}
				}
			} catch(Exception e) {
				c.sendMessage("Player Must Be Offline.");
			}
		}[/code]
</code></pre>
<p>Now for some reason, that code only unjails the player. Doesn’t put them in jail at all…?</p>
<p>Here are some other codes that are in place:</p>
<p><code>case 82120: //JAIL
	if(!c.jail) {
				if(c.getInStream() != null &amp; c != null) {
		    		c.getOutStream().createFrame(187);
		    	    }
		    	    c.jail = true;
					c.jail1 = false;
		    	    c.jail2 = false;
		    	} else {
		    	    c.jail = false;
					c.jail1 = true;
		    	    c.jail2 = true;
		    	}
		break;</code></p>
<p><code>	/**
	* Start of staff command booleans
	*/
	public boolean kick;
	public boolean kick2;
	public boolean jail;
	public boolean jail1;
	public boolean jail2;
	public boolean Jailed;</code></p>
<p>Any help is greatly appreciated, thank you all so much.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-double-commands/464628/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-double-commands/464628/1</link>
        <pubDate>Fri, 19 Oct 2012 23:24:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-464628-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-double-commands/464628.rss">[PI] Double Commands</source>
      </item>
  </channel>
</rss>
