<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/rs317-item-cfg-syntax-checker/463903 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:20:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>RS317 ITEM.CFG Syntax Checker - General Discussion - moparisthebest.com</title>
    <meta name="description" content="Yea, this is probably super old and probably has been done by numerous people on numerous occasions, but whatever. I am new to the Ruby programming language and I thought this might be of some use to others (hopefully).  &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="463903.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;RS317 ITEM.CFG Syntax Checker&#39;" href="463903.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/rs317-item-cfg-syntax-checker/463903" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/rs317-item-cfg-syntax-checker/463903" />
<meta property="og:title" content="RS317 ITEM.CFG Syntax Checker" />
<meta name="twitter:title" content="RS317 ITEM.CFG Syntax Checker" />
<meta property="og:description" content="Yea, this is probably super old and probably has been done by numerous people on numerous occasions, but whatever. I am new to the Ruby programming language and I thought this might be of some use to others (hopefully).  This snippet might help some of you find syntax errors in your abhorrent item.cfg’s.  Note: If you’re still using this data format for item definitions, please switch to something else. The standard item.cfg format used in many 317 servers (I’m not sure if they are outdated yet,..." />
<meta name="twitter:description" content="Yea, this is probably super old and probably has been done by numerous people on numerous occasions, but whatever. I am new to the Ruby programming language and I thought this might be of some use to others (hopefully).  This snippet might help some of you find syntax errors in your abhorrent item.cfg’s.  Note: If you’re still using this data format for item definitions, please switch to something else. The standard item.cfg format used in many 317 servers (I’m not sure if they are outdated yet,..." />
<meta property="article:published_time" content="2012-10-12T15:44:03+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="463903.html">RS317 ITEM.CFG Syntax Checker</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-discussion.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Discussion</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/whackatre.html'><span itemprop='name'>whackatre</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-12T15:44:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:38:42Z' class='post-time'>
              August 4, 2016, 12:38am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yea, this is probably super old and probably has been done by numerous people on numerous occasions, but whatever. I am new to the Ruby programming language and I thought this might be of some use to others (hopefully).</p>
<p>This snippet <span class="bbcode-i">might</span> help some of you find syntax errors in your abhorrent item.cfg’s.</p>
<p>Note: If you’re still using this data format for item definitions, please switch to something else. The standard item.cfg format used in many 317 servers (I’m not sure if they are outdated yet, so I apologize if I’m incorrect) is terrible and relatively difficult to manage unless you actually know something about programming. For other formats, take a look at binary or SQL for starters. But yea, if you’re having errors because you’re an idiot and you like to put spaces where tabs should belong, you might want to look at this.</p>
<p>To run it, download Ruby and this script and evoke it with the command line:</p>
<p><code>
@echo off
ruby whatever_you_named_this_file.rb
pause</code></p>
<p>The script:</p>
<p>[code=ruby]</p>
<h1>RS317 ITEM.CFG Reader</h1>
<h1>
<span class="mention">@author</span> Mew/Whac</h1>
<h1>
<a class="mention" href="../../u/date.html">@date</a> October 12, 2012</h1>
<p>FILE_NAME = “item.cfg”<br>
EOF = “[ENDOFITEMLIST]”<br>
DELIM = “\t”<br>
COMMENT = “//”<br>
EXPECTED_ARGC = 18</p>
<h1>Represents the definitions for an item.</h1>
<p>class ItemDefinition<br>
attr_reader :item_id, :name, :desc, :prices, :bonuses</p>
<pre><code>def initialize(item_id, name, desc, prices, bonuses)
	@item_id = item_id
	@name = name
	@desc = desc
	@prices = prices
	@bonuses = bonuses
end

# Return a String representation.
def to_s
	"ItemDef[#{@item_id}]-#{@name}|#{@desc}|#{@prices.join(' ')}|#{@bonuses.join(' ')}"
end
</code></pre>
<p>end</p>
<h1>The list of item definitions.</h1>
<p>item_definitions = Hash.new</p>
<h1>Reads the file.</h1>
<p>puts “Reading file ‘#{FILE_NAME}’…”<br>
begin<br>
lines = IO.readlines(FILE_NAME)<br>
rescue<br>
puts “The file was not found.”<br>
exit<br>
end</p>
<p>puts “Lines read: #{lines.size}.”</p>
<p>line_number = 0</p>
<h1>Loop through each line.</h1>
<p>lines.each do |line|<br>
line_number += 1</p>
<pre><code># Ignore comments or EOF.
next if line.start_with?(COMMENT) or line == EOF

# Strip whitespace.
line.strip!

begin
	# Split the line into arguments using the defined delimiter.
	args = line.split(DELIM)

	# Does the size not equal the expected argument count?
	# If so, do not add the definition to the Hash.
	if args.size != EXPECTED_ARGC
		puts "Warning: Line #{line_number} has an invalid number of arguments: #{args.size}."
		next
	end

	item_id = /item = (.*)/.match(args[0])[1].to_i
	name = args[1]
	desc = args[2]

	# Check for syntax errors (any non-integer) or
	# simply redefined item definitions.
	if item_definitions[item_id] != nil
		old_id = item_definitions[item_id].item_id
		puts "Warning: Line #{line_number} is redefining an item definition of ID: #{old_id}."
	end

	# Shop value, low level alch, high level alch.
	prices = []
	for i in 3..5
		prices.push(args[i].to_f)
	end

	# Stat bonuses (2 * (stab, slash, crush, magic, ranged), strength, prayer)
	bonuses = []
	12.times do |i|
		bonuses.push(args[i].to_i)
	end

	# Create a new instance of ItemDefinition and put it
	# into the Hash of item definitions.
	item_definitions[item_id] = ItemDefinition.new(item_id, name, desc, prices, bonuses)
rescue
	puts "Error whilst reading line #{line_number}: #{$!}"
end
</code></pre>
<p>end</p>
<p>puts “Loaded #{item_definitions.size} item definitions!”</p>
<h1>Do something here I guess.[/code]</h1>
<p>Or <a href="http://pastie.org/private/drbe0nvfjznyfynazav3dw" rel="nofollow noopener">http://pastie.org/private/drbe0nvfjznyfynazav3dw</a> which has superior syntax highlighting (try the Blackboard theme).</p>
<p>Example output:</p>
<blockquote>Reading file 'item.cfg'...
Lines read: 7371.
Warning: Line 7 is redefining an item definition of ID: 0.
Warning: Line 20 has an invalid number of arguments: 2.
Warning: Line 21 has an invalid number of arguments: 1.
Warning: Line 22 has an invalid number of arguments: 1.
Warning: Line 23 has an invalid number of arguments: 1.
Warning: Line 24 has an invalid number of arguments: 1.
Warning: Line 25 has an invalid number of arguments: 19.
Warning: Line 28 has an invalid number of arguments: 20.
Warning: Line 978 has an invalid number of arguments: 19.
Warning: Line 1138 has an invalid number of arguments: 19.
Warning: Line 1166 has an invalid number of arguments: 19.
Warning: Line 1186 has an invalid number of arguments: 19.
Warning: Line 1200 has an invalid number of arguments: 19.
Warning: Line 3085 has an invalid number of arguments: 19.
Warning: Line 3631 has an invalid number of arguments: 19.
Warning: Line 3633 has an invalid number of arguments: 19.
Loaded 7354 item definitions!
<p>real	0m0.367s<br>
user	0m0.354s<br>
sys	0m0.011s</p>
</blockquote>
<p>Enjoy, give constructive criticism (I am very new to Ruby), or modify it and make something greater.</p>
      </div>

      <meta itemprop='headline' content='RS317 ITEM.CFG Syntax Checker'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ruby_Forums_Coder.html'><span itemprop='name'>Ruby_Forums_Coder</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-12T18:13:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:38:45Z' class='post-time'>
              August 4, 2016, 12:38am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You programmed in me? OMGZ MEN</p>
      </div>

      <meta itemprop='headline' content='RS317 ITEM.CFG Syntax Checker'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/darkangel996.html'><span itemprop='name'>darkangel996</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-12T18:58:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:38:45Z' class='post-time'>
              August 4, 2016, 12:38am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="463903">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ruby/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ruby:</div>
<blockquote>
<p>You programmed in me? OMGZ MEN</p>
</blockquote>
</aside>
<p>lmao</p>
<p>OT: nice work keep going with it you will end up somewhere good eventually</p>
      </div>

      <meta itemprop='headline' content='RS317 ITEM.CFG Syntax Checker'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/tyb97.html'><span itemprop='name'>tyb97</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-12T20:57:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:38:47Z' class='post-time'>
              August 4, 2016, 12:38am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i lik it mayne.</p>
      </div>

      <meta itemprop='headline' content='RS317 ITEM.CFG Syntax Checker'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pink_Phat.html'><span itemprop='name'>Pink_Phat</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-19T13:57:14Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:16:15Z' class='post-time'>
              August 4, 2016,  1:16am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Bump</p>
      </div>

      <meta itemprop='headline' content='RS317 ITEM.CFG Syntax Checker'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/rs317-item-cfg-syntax-checker/463903 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:20:51 GMT -->
</html>
