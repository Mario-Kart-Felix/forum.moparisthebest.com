<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Right-Clicking Players?</title>
    <link>https://forum.moparisthebest.com/t/right-clicking-players/432106</link>
    <description>Hey guys.

I have 2 problems in regards to this topic.

I have arranged my right-click player menu so that when a player is waiting at the duel arena, the menu shows:

[code]Challenge (Playername)
Trade with (Playername)
Follow (Playername)
Walk Here (Playername)[/code]

My problem here is that Walk Here is not the first option in the list, so clicking the player challenges, rather than walks. 

Here are my methods which govern this behaviour:

[code]	public void UpdateArea()
	{	
		if (WildArea()) {
			ShowOption(1, &quot;Attack&quot;);
		}
		if (duelArea() &amp;&amp; duelStatus != 3)
		{
			ShowOption(1, &quot;Walk Here&quot;);
			ShowOption(2, &quot;Challenge&quot;);
			ShowOption(3, &quot;Trade With&quot;);
                                          ShowOption(4, &quot;Follow&quot;);
		}
		if (duelStatus == 3) {
			ShowOption(1, &quot;Attack&quot;);
			ShowOption(2, &quot;Trade With&quot;);
			ShowOption(3, &quot;Follow&quot;);
		}
		updateRequired = true;
		appearanceUpdateRequired = true;
	}[/code]

[code]	public void ShowOption(int Slot, String Text) {
		if (Server.s.playerHandler.players[playerId] == null || disconnected || in == null || out == null) {
			if (combatDelay &lt;= 0 &amp;&amp; deathDelay &lt; 0)
				disconnected = true;
			return;
		}
		outStream.createFrameVarSize(104);
		outStream.writeByteC(Slot);
		outStream.writeByteA(1);
		outStream.writeString(Text);
		outStream.endFrameVarSize();
	}
	public void SetWalkableFrame(int FrameId) {
		if (Server.s.playerHandler.players[playerId] == null || disconnected || in == null || out == null) {
			if (combatDelay &lt;= 0 &amp;&amp; deathDelay &lt; 0)
				disconnected = true;
			return;
		}
		outStream.createFrame(208);
		outStream.writeWordBigEndian_dup(FrameId);
	}[/code]

In regards to my first problem, not being able to click on a player and walking to them, no matter the position of &quot;Walk Here&quot; within the list it never goes to the top as i wish it to, even if I set it&#39;s slot to 1. I don&#39;t even have to set it at all, and it still appears, obviously not up the top. 

In regards to defining my problem, it is that with &quot;Walk here&quot; aside, my menus work perfectly just how they are. As previously shown the right-click menu is to my desire, and when fighting in the arena, &quot;Challenge&quot; is replaced by &quot;Attack&quot;, which is just what I want. However, once the duel is over, the attack option stays, even though if it is clicked it sends a challenge offer. The only way to make the challenge option reappear is to log out and in, and then it returns to the menu. At first I thought it was me not updating the right-click menu after the duel, however, the updateArea() function is called immediately after the duel, yet it does not change the options from attack to challenge unless the players log out and in.

Thank you for your time.

Thank you in advance for you assistance.

All help is appreciated, Thank you.</description>
    
    <lastBuildDate>Tue, 07 Feb 2012 07:46:59 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/right-clicking-players/432106.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Right-Clicking Players?</title>
        <dc:creator><![CDATA[@razorback razorback]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/razorback">@razorback</a> wrote:</p>
          <blockquote>
              <p>Hey guys.</p>
<p>I have 2 problems in regards to this topic.</p>
<p>I have arranged my right-click player menu so that when a player is waiting at the duel arena, the menu shows:</p>
<p><code>Challenge (Playername)
Trade with (Playername)
Follow (Playername)
Walk Here (Playername)</code></p>
<p>My problem here is that Walk Here is not the first option in the list, so clicking the player challenges, rather than walks.</p>
<p>Here are my methods which govern this behaviour:</p>
<p><code>	public void UpdateArea()
	{	
		if (WildArea()) {
			ShowOption(1, "Attack");
		}
		if (duelArea() &amp;&amp; duelStatus != 3)
		{
			ShowOption(1, "Walk Here");
			ShowOption(2, "Challenge");
			ShowOption(3, "Trade With");
                                          ShowOption(4, "Follow");
		}
		if (duelStatus == 3) {
			ShowOption(1, "Attack");
			ShowOption(2, "Trade With");
			ShowOption(3, "Follow");
		}
		updateRequired = true;
		appearanceUpdateRequired = true;
	}</code></p>
<p><code>	public void ShowOption(int Slot, String Text) {
		if (Server.s.playerHandler.players[playerId] == null || disconnected || in == null || out == null) {
			if (combatDelay &lt;= 0 &amp;&amp; deathDelay &lt; 0)
				disconnected = true;
			return;
		}
		outStream.createFrameVarSize(104);
		outStream.writeByteC(Slot);
		outStream.writeByteA(1);
		outStream.writeString(Text);
		outStream.endFrameVarSize();
	}
	public void SetWalkableFrame(int FrameId) {
		if (Server.s.playerHandler.players[playerId] == null || disconnected || in == null || out == null) {
			if (combatDelay &lt;= 0 &amp;&amp; deathDelay &lt; 0)
				disconnected = true;
			return;
		}
		outStream.createFrame(208);
		outStream.writeWordBigEndian_dup(FrameId);
	}</code></p>
<p>In regards to my first problem, not being able to click on a player and walking to them, no matter the position of “Walk Here” within the list it never goes to the top as i wish it to, even if I set it’s slot to 1. I don’t even have to set it at all, and it still appears, obviously not up the top.</p>
<p>In regards to defining my problem, it is that with “Walk here” aside, my menus work perfectly just how they are. As previously shown the right-click menu is to my desire, and when fighting in the arena, “Challenge” is replaced by “Attack”, which is just what I want. However, once the duel is over, the attack option stays, even though if it is clicked it sends a challenge offer. The only way to make the challenge option reappear is to log out and in, and then it returns to the menu. At first I thought it was me not updating the right-click menu after the duel, however, the updateArea() function is called immediately after the duel, yet it does not change the options from attack to challenge unless the players log out and in.</p>
<p>Thank you for your time.</p>
<p>Thank you in advance for you assistance.</p>
<p>All help is appreciated, Thank you.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/right-clicking-players/432106/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/right-clicking-players/432106/1</link>
        <pubDate>Tue, 07 Feb 2012 07:46:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-432106-1</guid>
        <source url="https://forum.moparisthebest.com/t/right-clicking-players/432106.rss">Right-Clicking Players?</source>
      </item>
  </channel>
</rss>
