<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
    <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456</link>
    <description>Well I figured since I&#39;m going to take a break from rsps&#39;s for a while might as well release this for all the people who are struggling trying to add content to their hyperion sources. I did rip the interfaces and the loading of the interfaces from some other client but I did create all of the code server-sided and as well as some of the code client-sided. This tutorial will be spoonfed.

[B]CLIENT-SIDED: [PLEASE DONT CRITICIZE ME ON CLIENT IT&#39;S ALREADY A MESS] [/B]

[spoiler]First thing we need to do is add the interfaces so download: [url=https://dl.dropboxusercontent.com/u/35907711/clan%20chat.zip]https://dl.dropboxusercontent.com/u/35907711/clan%20chat.zip[/url] and put that in your cache sprites or if you want pack them into your cache.

Next thing is in RSInterface add these methods


[CODE=JAVA]	public static void clanChatSetup(TextDrawingArea[] tda) {
		RSInterface rsi = addInterface(18300);
		rsi.totalChildren(25);
		int count = 0;
		/* Background */
		addSprite(18301, 1, &quot;/Clan Chat/sprite&quot;);
		rsi.child(count++, 18301, 14, 18);
		/* Close button */
		addButton(18302, 0, &quot;/Clan Chat/close&quot;, &quot;Close&quot;);
		interfaceCache[18302].atActionType = 3;
		rsi.child(count++, 18302, 475, 26);
		/* Clan Setup title */
		addText(18303, &quot;Clan Setup&quot;, tda, 2, 0xFF981F, true, true);
		rsi.child(count++, 18303, 256, 26);
		/* Setup buttons */
		String[] titles = { &quot;Clan name:&quot;, &quot;Who can enter chat?&quot;,
				&quot;Who can talk on chat?&quot;, &quot;Who can kick on chat?&quot;,
		&quot;Who can ban on chat?&quot; };
		String[] defaults = { &quot;Not set&quot;, &quot;Anyone&quot;, &quot;Anyone&quot;, &quot;Only me&quot;,
		&quot;Only me&quot; };
		String[] whoCan = { &quot;Anyone&quot;, &quot;Recruit&quot;, &quot;Corporal&quot;, &quot;Sergeant&quot;,
				&quot;Lieutenant&quot;, &quot;Captain&quot;, &quot;General&quot;, &quot;Only Me&quot; };
		for (int index = 0, id = 18304, y = 50; index &lt; titles.length; index++, id += 3, y += 40) {
			addButton(id, 2, &quot;/Clan Chat/sprite&quot;, &quot;&quot;);
			interfaceCache[id].atActionType = 0;
			if (index &gt; 0) {
				interfaceCache[id].actions = whoCan;
			} else {
				interfaceCache[id].actions = new String[] { &quot;Change title&quot;,
				&quot;Delete clan&quot; };
				;
			}
			addText(id + 1, titles[index], tda, 0, 0xFF981F, true, true);
			addText(id + 2, defaults[index], tda, 1, 0xFFFFFF, true, true);
			rsi.child(count++, id, 25, y);
			rsi.child(count++, id + 1, 100, y + 4);
			rsi.child(count++, id + 2, 100, y + 17);
		}
		/* Table */
		addSprite(18319, 5, &quot;/Clan Chat/sprite&quot;);
		rsi.child(count++, 18319, 197, 70);
		/* Labels */
		int id = 18320;
		int y = 74;
		

		addText(id, &quot;Clan Members&quot;, tda, 2, 0xFF981F, false, true);
		rsi.child(count++, id++, 202, y);
		addText(id, &quot;Banned Members&quot;, tda, 2, 0xFF981F, false, true);
		rsi.child(count++, id++, 339, y);
		/* Ranked members list */
		RSInterface list = addInterface(id++);
		int lines = 100;
		list.totalChildren(lines);
		String[] ranks = { &quot;Demote&quot;, &quot;Recruit&quot;, &quot;Corporal&quot;, &quot;Sergeant&quot;,
				&quot;Lieutenant&quot;, &quot;Captain&quot;, &quot;General&quot;, &quot;Owner&quot; };
		list.childY[0] = 2;
		// System.out.println(id);
		for (int index = id; index &lt; id + lines; index++) {
			addText(index, &quot;&quot;, tda, 1, 0xffffff, false, true);
			interfaceCache[index].actions = ranks;
			list.children[index - id] = index;
			list.childX[index - id] = 2;
			list.childY[index - id] = (index - id &gt; 0 ? list.childY[index - id
			                                                        - 1] + 14 : 0);
		}
		id += lines;
		list.width = 119;
		list.height = 210;
		list.scrollMax = (lines * 14) + 2;
		rsi.child(count++, list.id, 199, 92);
		/* Banned members list */
		list = addInterface(id++);
		list.totalChildren(lines);
		list.childY[0] = 2;
		// System.out.println(id);
		for (int index = id; index &lt; id + lines; index++) {
			addText(index, &quot;&quot;, tda, 1, 0xffffff, false, true);
			interfaceCache[index].actions = new String[] { &quot;Unban&quot; };
			list.children[index - id] = index;
			list.childX[index - id] = 0;
			list.childY[index - id] = (index - id &gt; 0 ? list.childY[index - id
			                                                        - 1] + 14 : 0);
		}
		id += lines;
		list.width = 119;
		list.height = 210;
		list.scrollMax = (lines * 14) + 2;
		rsi.child(count++, list.id, 339, 92);
		/* Table info text */
		y = 47;
		addText(id, &quot;You can manage both ranked and banned members here.&quot;, tda,
				0, 0xFF981F, true, true);
		rsi.child(count++, id++, 337, y);
		addText(id, &quot;Right click on a name to edit the member.&quot;, tda, 0,
				0xFF981F, true, true);
		rsi.child(count++, id++, 337, y + 11);
		/* Add ranked member button */
		y = 75;

		/* Hovers */
		int[] clanSetup = { 18302, 18304, 18307, 18310, 18313, 18316 };
		String[] names = { &quot;close&quot;, &quot;sprite&quot;, &quot;sprite&quot;, &quot;sprite&quot;, &quot;sprite&quot;,
				&quot;sprite&quot; };
		int[] ids = { 1, 3, 3, 3, 3, 3, 1, 1 };
		for (int index = 0; index &lt; clanSetup.length; index++) {
			rsi = interfaceCache[clanSetup[index]];
			rsi.disabledHover = imageLoader(ids[index],
					&quot;/Clan Chat/&quot; + names[index]);
		}

}

	public static void clanChatTab(TextDrawingArea[] tda) {
        RSInterface tab = addTabInterface(18128);
        addHoverButton(18129, &quot;/Clan Chat/SPRITE&quot;, 6, 72, 32, &quot;Join Chat&quot;, 550, 18130, 5);
        addHoveredButton(18130, &quot;/Clan Chat/SPRITE&quot;, 7, 72, 32, 18131);
        addHoverButton(18132, &quot;/Clan Chat/SPRITE&quot;, 6, 72, 32, &quot;Edit Clan&quot;, -1, 18133, 5);
        addHoveredButton(18133, &quot;/Clan Chat/SPRITE&quot;, 7, 72, 32, 18134);
        addText(18135, &quot;Join Chat&quot;, tda, 0, 0xff9b00, true, true);
        addText(18136, &quot;Clan Setup&quot;, tda, 0, 0xff9b00, true, true);
        addSprite(18137, 37, &quot;/Clan Chat/SPRITE&quot;);
        addText(18138, &quot;Clan Chat&quot;, tda, 1, 0xff9b00, true, true);
        addText(18139, &quot;Talking in: Not in chat&quot;, tda, 0, 0xff9b00, false, true);
        addText(18140, &quot;Owner: None&quot;, tda, 0, 0xff9b00, false, true);
        addSprite(16126, 4, &quot;/Clan Chat/SPRITE&quot;);
		tab.totalChildren(13);
		tab.child(0, 16126, 0, 221);
		tab.child(1, 16126, 0, 59);
        tab.child(2, 18137, 0, 62);
        tab.child(3, 18143, 0, 62);
        tab.child(4, 18129, 15, 226);
        tab.child(5, 18130, 15, 226);
        tab.child(6, 18132, 103, 226);
        tab.child(7, 18133, 103, 226);
        tab.child(8, 18135, 51, 237);
        tab.child(9, 18136, 139, 237);
        tab.child(10, 18138, 95, 1);
        tab.child(11, 18139, 10, 23);
        tab.child(12, 18140, 25, 38);
        /* Text area */
        RSInterface list = addTabInterface(18143);
        list.totalChildren(100);
        for(int i = 18144; i &lt;= 18244; i++) {
            addText(i, &quot;&quot;, tda, 0, 0xffffff, false, true);
        }
        for(int id = 18144, i = 0; id &lt;= 18243 &amp;&amp; i &lt;= 99; id++, i++) {
        	interfaceCache[id].actions = new String[]{ &quot;Edit Rank&quot;, &quot;Kick&quot;, &quot;Ban&quot; };
            list.children[i] = id; list.childX[i] = 5;
            for(int id2 = 18144, i2 = 1; id2 &lt;= 18243 &amp;&amp; i2&lt;= 99; id2++, i2++) {
                list.childY[0] = 2;
                list.childY[i2] = list.childY[i2 - 1] + 14;
            }
        }
        list.height = 158; list.width = 174;
        list.scrollMax = 1405;
    }[/CODE]

And load them up with all your other custom interfaces in the client.

Now open up Client.java and add this method

[CODE=JAVA]	public boolean inClan(String name) {
		Predicate&lt;String&gt; a = (String s) -&gt; s.toLowerCase().contains(name.toLowerCase());
		return Arrays.stream(clanList).filter(Objects::nonNull).anyMatch(a);
	}[/CODE]

Add this string array

	private String[] clanList = new String[100];

look up case 126:

under 

[CODE=JAVA]					if (text.startsWith(&quot;www.&quot;)) {
						launchURL(text);
						pktType = -1;
						return true;
					}[/CODE]

add 

[CODE=JAVA]					if (frame &gt;= 18144 &amp;&amp; frame &lt;= 18244) {
						clanList[frame - 18144] = text;
						RSInterface.interfaceCache[frame].actions = new String[5];
						RSInterface.interfaceCache[frame].actions[0] = &quot;Kick&quot;;
						RSInterface.interfaceCache[frame].actions[1] = &quot;Ban&quot;;
					}[/CODE]
 
add this packet in your client [this is for sending messages]

[CODE=JAVA]case 217:
				try {
					clanName = inStream.readString();
					clanMessage = inStream.readString();
					clanTitle = inStream.readString();
					clanRights = inStream.readUnsignedWord();
					
					pushMessage(clanMessage, 12, clanName);
				} catch(Exception e) {
					e.printStackTrace();
				}
				pktType = -1;
				return true;
[/CODE]

above [CODE=JAVA]if(chatType == 16) {[/CODE] add

[CODE=JAVA]if (chatType == 12) {
						if (chatTypeView == 5 || chatTypeView == 0) {
							if (yPos &gt; 0 &amp;&amp; yPos &lt; 210) {
								System.out.println(&quot;3&quot;);
								String title = &quot;&lt;col=0000FF&gt;&quot;
										+ clanTitles[k] + &quot;&lt;/col&gt;&quot;;
								String username = (chatRights[k] &gt; 0 ? &quot;&lt;img=&quot;
										+ (chatRights[k] - 1) + &quot;&gt;&quot;
										: &quot;&quot;)
										+ TextClass.fixName(chatNames[k]);
								String message = &quot;&lt;col=800000&gt;&quot;
										+ chatMessages[k] + &quot;&lt;/col&gt;&quot;;
								newRegularFont.drawBasicString(&quot;[&quot; + title
										+ &quot;] &quot; + username + &quot;: &quot; + message,
										11, yPos, 0, -1);
							}
							j++;
							j77++;
						}
					}[/CODE]


Search for[CODE=JAVA] if (l == 1050) { [/CODE]and above it add

[CODE=JAVA]				if (l == 647) {
					stream.createFrame(213);
					stream.writeWord(k);
					stream.writeWord(j);
					}[/CODE]


and finally (last thing to do client-sided) look for 			[CODE=JAVA]Player player = playerArray[playerIndices[j6]];[/CODE]

Under that add

			[CODE=JAVA]flag3 = inClan(player.name);[/CODE]

now a little under you will see something like

[CODE=JAVA]if (flag1) {
					markMinimap(mapDotFriend, j1, l3);
				} else {
					markMinimap(mapDotPlayer, j1, l3);
				}[/CODE]

replace that with

[CODE=JAVA]				if (flag1) {
					markMinimap(mapDotFriend, j1, l3);
				} else if(flag3) {
					markMinimap(mapDotTeam, j1, l3);
				} else {
					markMinimap(mapDotPlayer, j1, l3);
				}[/CODE]

AND THAT&#39;S IT CLIENT-SIDED [/spoiler]


[b]BELOW IS MORE OF TUTORIAL[/b]</description>
    
    <lastBuildDate>Mon, 05 Oct 2015 14:40:35 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@Tree Tree]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tree">@Tree</a> wrote:</p>
          <blockquote>
              <p>Whitespace next time.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/16</link>
        <pubDate>Mon, 05 Oct 2015 14:40:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-16</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="14" data-topic="550456">
<div class="title">
<div class="quote-controls"></div>
 Zymus:</div>
<blockquote>
<p>What’s the purpose of the generic type in there?</p>
</blockquote>
</aside>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/15</link>
        <pubDate>Thu, 04 Jun 2015 21:10:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-15</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>What’s the purpose of the generic type in there?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/14</link>
        <pubDate>Tue, 14 Apr 2015 18:40:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-14</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@N_V_B N V B]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/n_v_b">@N_V_B</a> wrote:</p>
          <blockquote>
              <p>awesome, thanks for the release.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/13</link>
        <pubDate>Mon, 13 Apr 2015 10:39:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-13</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>[quote=“lare69, post:10, topic:550456”][quote author=Dan0194 link=topic=669365.msg4476171#msg4476171 date=1426016901]<br>
The set does not have the get(index) feature though and I was thinking maybe doing this or is this way too overkill. (I saw something where extending classes like ArrayList isn’t always the best idea) I don’t know like now I feel like this overcomplicates what I wanted to do.<br>
[/quote]<br>
My mistake, wasn’t aware that you needed the index. What you’re doing is still inheritance, I said that in this situation it’d probably be best to use imposition.</p>
<p>[code=java]public abstract class ClanList {</p>
<p>private final List internalList = new ArrayList&lt;&gt;();</p>
<p>public final void add(T t) {<br>
internalList.add(t);<br>
update();<br>
}</p>
<p>public final void remove(T t) {<br>
internalList.remove(t);<br>
update();<br>
}</p>
<p>public abstract void update();</p>
<p>…<br>
}[/code]</p>
<p>That’s imposition, I’m sure from that snippet you can understand the difference between the two.[/quote]</p>
<p>I’m pretty sure you mean something like this right</p>
<p>[code=java]package org.hyperion.rs2.content.clan;</p>
<p>import java.util.ArrayList;<br>
import java.util.Collection;<br>
import java.util.HashSet;<br>
import java.util.Iterator;<br>
import java.util.List;<br>
import java.util.Optional;<br>
import java.util.function.IntConsumer;<br>
import java.util.stream.IntStream;</p>
<p>import org.hyperion.rs2.model.Player;</p>
<p>/**</p>
<ul>
<li>
<p>A clan collection</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Dan0194<br>
*/<br>
public abstract class ClanList {</p>
<p>/**</p>
<ul>
<li>The list containing the data<br>
*/<br>
private final List list;</li>
</ul>
<p>/**</p>
<ul>
<li>The first line id in the list<br>
*/<br>
private int first;</li>
</ul>
<p>/**</p>
<ul>
<li>The second line id in the list<br>
*/<br>
private int second;</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> first to the first</li>
<li>
<a class="mention" href="/u/param">@param</a> second to the second<br>
*/<br>
public ClanList(int first, int second, int size) {<br>
this.list = new ArrayList(size);<br>
this.first = first;<br>
this.second = second;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Called when there is an update</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> owner The owner recieving the update</li>
<li>
<a class="mention" href="/u/param">@param</a> value The optional value given on update</li>
<li>
<a class="mention" href="/u/param">@param</a> slot The slot is the line id of the update<br>
*/<br>
public abstract void onUpdate(Player owner, Optional value, int slot);</li>
</ul>
<p>/**</p>
<ul>
<li>Sends an update that has no owner value<br>
*/<br>
public void update() {<br>
update(null);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<p>Starts the updating of the list</p>
</li>
<li>
</li>
<li>
<p><a class="mention" href="/u/param">@param</a> owner The person recieving the update<br>
*/<br>
public void update(Player owner) {</p>
<p>/** Loops through all the line ids */<br>
IntStream.range(first, second).forEach(new IntConsumer() {</p>
<pre><code> @Override
 public void accept(int value) {
 	
 	/** The slot of the line id */
 	int slot = value - first;
 	
 	/** The Optional value */
 	Optional&lt;T&gt; name = slot &lt; list.size() ? Optional.of(list.get(slot)) : Optional.empty();
 	
 	/** Calls the update method */
 	onUpdate(owner, name, value);
 	
 }
</code></pre>
<p>});<br>
}</p>
</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the list</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> list<br>
*/<br>
public List getList() {<br>
return list;<br>
}<br>
}[/code]</li>
</ul>
</li>
</ul>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/12</link>
        <pubDate>Tue, 10 Mar 2015 20:54:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-12</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <p>Well, I’d say pretty well done – I didn’t look over all of it, but nice job</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/11</link>
        <pubDate>Tue, 10 Mar 2015 20:50:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-11</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="9" data-topic="550456">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/dan0194/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Dan0194:</div>
<blockquote>
<p>The set does not have the get(index) feature though and I was thinking maybe doing this or is this way too overkill. (I saw something where extending classes like ArrayList isn’t always the best idea) I don’t know like now I feel like this overcomplicates what I wanted to do.</p>
</blockquote>
</aside>
<p>My mistake, wasn’t aware that you needed the index. What you’re doing is still inheritance, I said that in this situation it’d probably be best to use imposition.</p>
<p>[code=java]public abstract class ClanList {</p>
<p>private final List internalList = new ArrayList&lt;&gt;();</p>
<p>public final void add(T t) {<br>
internalList.add(t);<br>
update();<br>
}</p>
<p>public final void remove(T t) {<br>
internalList.remove(t);<br>
update();<br>
}</p>
<p>public abstract void update();</p>
<p>…<br>
}[/code]</p>
<p>That’s imposition, I’m sure from that snippet you can understand the difference between the two.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/10</link>
        <pubDate>Tue, 10 Mar 2015 20:04:10 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-10</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>[quote=“lare69, post:8, topic:550456”]<code>abstract class ClanList&lt;T&gt; extends ArrayList&lt;T&gt; {</code></p>
<p>imposition &gt; inheritance, in this context</p>
<p>a set would probably work better to avoid duplicate entries and would also probably provide better performance[/quote]</p>
<p>The set does not have the get(index) feature though and I was thinking maybe doing this or is this way too overkill. (I saw something where extending classes like ArrayList isn’t always the best idea) I don’t know like now I feel like this overcomplicates what I wanted to do.</p>
<p>[code=java5]package org.hyperion.rs2.content.clan;</p>
<p>import java.util.ArrayList;<br>
import java.util.Collection;<br>
import java.util.Iterator;<br>
import java.util.Optional;<br>
import java.util.function.IntConsumer;<br>
import java.util.stream.IntStream;</p>
<p>import org.hyperion.rs2.model.Player;</p>
<p>/**</p>
<ul>
<li>
<p>A clan collection</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Dan0194<br>
*/<br>
public abstract class ClanList implements Collection {</p>
<p>/**</p>
<ul>
<li>The elements in the collection<br>
*/<br>
private ArrayList elements;</li>
</ul>
<p>/**</p>
<ul>
<li>The first line id in the list<br>
*/<br>
private int first;</li>
</ul>
<p>/**</p>
<ul>
<li>The second line id in the list<br>
*/<br>
private int second;</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> first to the first</li>
<li>
<a class="mention" href="/u/param">@param</a> second to the second<br>
*/<br>
public ClanList(int first, int second, int size) {<br>
this.elements = new ArrayList&lt;&gt;(size);<br>
this.first = first;<br>
this.second = second;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets a specific element in the list</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> elements<br>
*/<br>
public T get(int index) {<br>
return elements.get(index);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#add(java.lang.Object)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public boolean add(T t) {<br>
boolean added = elements.add(t);<br>
return added;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#addAll(java.util.Collection)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public boolean addAll(Collection&lt;? extends T&gt; arg0) {<br>
boolean addAll = elements.addAll(arg0);<br>
return addAll;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#clear()<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public void clear() {<br>
elements.clear();<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#contains(java.lang.Object)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public boolean contains(Object arg0) {<br>
boolean contain = elements.contains(arg0);<br>
return contain;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#containsAll(java.util.Collection)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public boolean containsAll(Collection&lt;?&gt; arg0) {<br>
boolean failed = elements.containsAll(arg0);<br>
return failed;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#isEmpty()<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public boolean isEmpty() {<br>
return size() == 0;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#iterator()<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public Iterator iterator() {<br>
return elements.iterator();<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#remove(java.lang.Object)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public boolean remove(Object arg0) {<br>
boolean failed = elements.remove(arg0);<br>
return failed;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#removeAll(java.util.Collection)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public boolean removeAll(Collection&lt;?&gt; arg0) {<br>
boolean failed = elements.removeAll(arg0);<br>
return failed;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#retainAll(java.util.Collection)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public boolean retainAll(Collection&lt;?&gt; arg0) {<br>
boolean changed = elements.retainAll(arg0);<br>
return changed;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#size()<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public int size() {<br>
return elements.size();<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#toArray()<br>
*/<br>
<span class="mention">@SuppressWarnings</span>(“unchecked”)<br>
<a class="mention" href="/u/override">@Override</a><br>
public T[] toArray() {<br>
return (T[]) elements.toArray();<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> java.util.Collection#toArray(java.lang.Object[])<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public  E[] toArray(E[] arg0) {<br>
return elements.toArray(arg0);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Called when there is an update</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> owner The owner recieving the update</li>
<li>
<a class="mention" href="/u/param">@param</a> value The optional value given on update</li>
<li>
<a class="mention" href="/u/param">@param</a> slot The slot is the line id of the update<br>
*/<br>
public abstract void onUpdate(Player owner, Optional value, int slot);</li>
</ul>
<p>/**</p>
<ul>
<li>Sends an update that has no owner value<br>
*/<br>
public void update() {<br>
update(null);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<p>Starts the updating of the list</p>
</li>
<li>
</li>
<li>
<p><a class="mention" href="/u/param">@param</a> owner The person recieving the update<br>
*/<br>
public void update(Player owner) {</p>
<p>/** Loops through all the line ids */<br>
IntStream.range(first, second).forEach(new IntConsumer() {</p>
<pre><code> @Override
 public void accept(int value) {
 	
 	/** The slot of the line id */
 	int slot = value - first;
 	
 	/** The Optional value */
 	Optional&lt;T&gt; name = slot &lt; size() ? Optional.of(get(slot)) : Optional.empty();
 	
 	/** Calls the update method */
 	onUpdate(owner, name, value);
 	
 }
</code></pre>
<p>});<br>
}<br>
}[/code]</p>
</li>
</ul>
</li>
</ul>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/9</link>
        <pubDate>Tue, 10 Mar 2015 19:48:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-9</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">
imposition &gt; inheritance, in this context

a set would probably work better to avoid duplicate entries and would also probably provide better performance</code></pre>
<p>imposition &gt; inheritance, in this context</p>
<p>a set would probably work better to avoid duplicate entries and would also probably provide better performance</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/8</link>
        <pubDate>Tue, 10 Mar 2015 17:57:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-8</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>I don’t use hyperion but I definitely want that interface, so thanks <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/7</link>
        <pubDate>Tue, 10 Mar 2015 13:09:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-7</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>[quote=“Eyeownyew, post:5, topic:550456”][quote author=Dan0194 link=topic=669365.msg4476050#msg4476050 date=1425964135]</p>
<aside class="quote">
<blockquote>
<p>You didn’t hit the character limit, that was really unnecessary</p>
</blockquote>
</aside>
<p>yes I did lol. My first post was like 10000 characters and my second was around 18500 characters.<br>
[/quote]<br>
then you should’ve used pastebin lol[/quote]</p>
<p>Alright ill try to put some more classes in pastebin and try to combine them into one post.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/6</link>
        <pubDate>Tue, 10 Mar 2015 05:29:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-6</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <p>[quote=“Dan0194, post:4, topic:550456”][quote author=Eyeownyew link=topic=669365.msg4476049#msg4476049 date=1425963956]<br>
You didn’t hit the character limit, that was really unnecessary<br>
[/quote]</p>
<p>yes I did lol. My first post was like 10000 characters and my second was around 18500 characters.[/quote]<br>
then you should’ve used pastebin lol</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/5</link>
        <pubDate>Tue, 10 Mar 2015 05:19:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-5</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="3" data-topic="550456">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/eyeownyew/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Eyeownyew:</div>
<blockquote>
<p>You didn’t hit the character limit, that was really unnecessary</p>
</blockquote>
</aside>
<p>yes I did lol. My first post was like 10000 characters and my second was around 18500 characters.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/4</link>
        <pubDate>Tue, 10 Mar 2015 05:08:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-4</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <p>You didn’t hit the character limit, that was really unnecessary</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/3</link>
        <pubDate>Tue, 10 Mar 2015 05:05:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-3</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>[B]SERVER-SIDED[/B]<br>
[spoiler]</p>
<p><span class="bbcode-b">Clan</span></p>
<p>Too big to put on here so <a href="http://pastebin.com/TxyMLt5E" data-bbcode="true" rel="nofollow noopener">Clan Chat</a></p>
<p><span class="bbcode-b">ClanManager</span></p>
<p>Too big to put on here also <a href="http://pastebin.com/cMKw57Dz" data-bbcode="true" rel="nofollow noopener">Clan Manager</a></p>
<p><span class="bbcode-b">ClanList</span></p>
<p>Too big to put on here also <a href="http://pastebin.com/HL0T3mQg" data-bbcode="true" rel="nofollow noopener">Clan List</a></p>
<p><span class="bbcode-b">ClanConstants class</span></p>
<p>[CODE=JAVA]package org.hyperion.rs2.content.clan;</p>
<p>/**</p>
<ul>
<li>
<p>All of the clan constants</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Dan0194<br>
*/<br>
public final class ClanConstants {</p>
<p>/**</p>
<ul>
<li>The private constructor trying to keep it from being initiliazed</li>
<li>
</li>
<li>
<span class="mention">@throws</span> an AssertionError if the class is initliazed<br>
*/<br>
private ClanConstants() {<br>
throw new AssertionError();<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>The help clan<br>
*/<br>
public static final Clan HELP_CLAN = new Clan("", “Help Chat”);</li>
</ul>
<p>/**</p>
<ul>
<li>The clan setup interface id<br>
*/<br>
public static final int CLAN_SETUP = 18300;</li>
</ul>
<p>/**</p>
<ul>
<li>The maximum amount of players allowed in a clan<br>
*/<br>
public static final int MAX_PLAYERS_IN_CLAN = 100;</li>
</ul>
<p>/**</p>
<ul>
<li>The maximum amount of players in a clan chat at once<br>
*/<br>
public static final int MAX_PLAYERS = 50;</li>
</ul>
<p>/**</p>
<ul>
<li>The kick timer in seconds<br>
*/<br>
public static final int KICK_TIMER = 600;</li>
</ul>
<p>/**</p>
<ul>
<li>The path to the XML file that holds all data on the clans<br>
*/<br>
public static final String CLAN_PATH = “./data/clans.xml”;<br>
}[/CODE]</li>
</ul>
</li>
</ul>
<p><span class="bbcode-b">ClanPlayer class</span></p>
<p>[CODE=JAVA]package org.hyperion.rs2.content.clan;</p>
<p>/**</p>
<ul>
<li>
<p>A player in a clan</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Dan0194<br>
*/<br>
public final class ClanPlayer {</p>
<p>/**</p>
<ul>
<li>The name of the player<br>
*/<br>
private String name;</li>
</ul>
<p>/**</p>
<ul>
<li>The player’s rank in the clan<br>
*/<br>
private ClanRank rank;</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> name to the name</li>
<li>
<a class="mention" href="/u/param">@param</a> rank to the rank<br>
*/<br>
public ClanPlayer(String name, ClanRank rank) {<br>
this.name = name;<br>
this.rank = rank;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the name of the player</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> name<br>
*/<br>
public String getName() {<br>
return name;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the rank of the player</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> rank<br>
*/<br>
public ClanRank getRank() {<br>
return rank;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Sets a new rank for the player</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> rank to the rank<br>
*/<br>
public void setRank(ClanRank rank) {<br>
this.rank = rank;<br>
}</li>
</ul>
</li>
</ul>
<p>}[/CODE]</p>
<p><span class="bbcode-b">Clan Rank enum</span></p>
<p>[CODE=JAVA]<br>
package org.hyperion.rs2.content.clan;</p>
<p>import java.util.Arrays;<br>
import java.util.Optional;<br>
import java.util.function.Predicate;</p>
<p>/**</p>
<ul>
<li>
<p>All of the clan ranks</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Dan0194<br>
*/<br>
public enum ClanRank {</p>
<p>/**</p>
<ul>
<li>A normal rank in the clan<br>
*/<br>
NORMAL(-1, “Anyone”),</li>
</ul>
<p>/**</p>
<ul>
<li>A friend rank in the clan<br>
*/<br>
FRIEND(0, “Friends”),</li>
</ul>
<p>/**</p>
<ul>
<li>A recruit rank in the clan<br>
*/<br>
RECRUIT(1, “Recruits”),</li>
</ul>
<p>/**</p>
<ul>
<li>A corporal rank in the clan<br>
*/<br>
CORPORAL(2, “Corporals”),</li>
</ul>
<p>/**</p>
<ul>
<li>A sergeant rank in the clan<br>
*/<br>
SERGEANT(3, “Sergeants”),</li>
</ul>
<p>/**</p>
<ul>
<li>A lieutenant rank in the clan<br>
*/<br>
LIEUTENANT(4, “Lieutenants”),</li>
</ul>
<p>/**</p>
<ul>
<li>A captain in the clan<br>
*/<br>
CAPTAIN(5, “Captains”),</li>
</ul>
<p>/**</p>
<ul>
<li>A general in the clan<br>
*/<br>
GENERAL(6, “Generals”),</li>
</ul>
<p>/**</p>
<ul>
<li>An owner in the clan<br>
*/<br>
OWNER(7, “Only me”),</li>
</ul>
<p>/**</p>
<ul>
<li>An admin in the game<br>
*/<br>
ADMIN(8, “Administrator”);</li>
</ul>
<p>/**</p>
<ul>
<li>The position of the rank<br>
*/<br>
private int position;<span class="bbcode-b"></span>
</li>
</ul>
<p>/**</p>
<ul>
<li>The text of the position<br>
*/<br>
private String text;</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> the position to the position<br>
*/<br>
ClanRank(int position, String text) {<br>
this.position = position;<br>
this.text = text;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets a clan rank on what position it is in</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> A optional with a value of a clan rank or an empty optional<br>
*/<br>
public static Optional forPosition(int position) {<br>
Predicate rank = (ClanRank c) -&gt; c.getPosition() == position;<br>
return Arrays.stream(values()).filter(rank).findFirst();<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the position of the rank</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> position<br>
*/<br>
public int getPosition() {<br>
return position;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the position text</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> text<br>
*/<br>
public String getText() {<br>
return text;<br>
}</li>
</ul>
</li>
</ul>
<p>}[/CODE]</p>
<p>[B]For the Clan loading I decided to use xml however if you wish to change you may do so freely[/B]</p>
<p><span class="bbcode-b">ClanLoader</span></p>
<p>[CODE=JAVA]package org.hyperion.rs2.content.clan.xml;</p>
<p>import java.util.Arrays;</p>
<p>import org.hyperion.rs2.content.clan.Clan;<br>
import org.hyperion.rs2.content.clan.ClanPlayer;<br>
import org.hyperion.rs2.content.clan.ClanRank;<br>
import org.hyperion.rs2.model.World;<br>
import org.hyperion.rs2.util.xml.XMLHandler;</p>
<p>import com.thoughtworks.xstream.XStream;</p>
<p>/**</p>
<ul>
<li>
<p>Loads all clans from the XML file</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Dan0194<br>
*/<br>
public final class ClanLoader extends XMLHandler {</p>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> org.hyperion.rs2.util.xml.XMLHandler#getKey()<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public String getKey() {<br>
return “clan”;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> org.hyperion.rs2.util.xml.XMLHandler#getClassName()<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public Class&lt;?&gt; getClassName() {<br>
return ClanXML.class;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> org.hyperion.rs2.util.xml.XMLHandler#getPath()<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public String getPath() {<br>
return “clans.xml”;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>(non-Javadoc)</li>
<li>
<span class="mention">@see</span> org.hyperion.rs2.util.xml.XMLHandler#load(com.thoughtworks.xstream.XStream)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public void load(XStream xstream) {<br>
xstream.addImplicitCollection(ClanXML.class, “clanPlayer”);</li>
</ul>
<p>}</p>
<p>/**</p>
<ul>
<li>
<p>(non-Javadoc)</p>
</li>
<li>
<p><span class="mention">@see</span> org.hyperion.rs2.util.xml.XMLHandler#bind(java.lang.Object, int)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public void bind(ClanXML t, int i) {</p>
<p>/** Creates a new clan based on the XML data*/<br>
Clan clan = new Clan(t.getOwner(), t.getTitle());</p>
<p>/** Sets all the privalages ranks */<br>
clan.setEnterRank(ClanRank.valueOf(t.getEnterRank()));<br>
clan.setTalkRank(ClanRank.valueOf(t.getTalkRank()));<br>
clan.setKickRank(ClanRank.valueOf(t.getKickRank()));<br>
clan.setBanRank(ClanRank.valueOf(t.getBanRank()));</p>
<p>/** Adds all the clan players and banned players to the chat */<br>
Arrays.stream(t.getClanPlayer()).forEach((String[] s) -&gt; clan.getClanPlayers().add(new ClanPlayer(s[0], ClanRank.valueOf(s[1]))));<br>
Arrays.stream(t.getBannedPlayers()).forEach((String s) -&gt; clan.getBannedPlayers().add(s));</p>
<p>/** Adds the chat to global chats in the game */<br>
World.getWorld().getClans().add(clan);<br>
}</p>
</li>
</ul>
</li>
</ul>
<p>}[/CODE]</p>
<p><span class="bbcode-b">ClanXML</span></p>
<p>[CODE=JAVA]package org.hyperion.rs2.content.clan.xml;</p>
<p>import com.thoughtworks.xstream.annotations.XStreamImplicit;</p>
<p>/**</p>
<ul>
<li>
<p>All of the clan data in the XML file</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Dan0194<br>
*/<br>
public final class ClanXML {</p>
<p>/**</p>
<ul>
<li>The owner of the clan<br>
*/<br>
private String owner;</li>
</ul>
<p>/**</p>
<ul>
<li>The title of the clan<br>
*/<br>
private String title;</li>
</ul>
<p>/**</p>
<ul>
<li>The ability to enter in the clan rank<br>
*/<br>
private String enterRank;</li>
</ul>
<p>/**</p>
<ul>
<li>The ability to talk in the clan rank<br>
*/<br>
private String talkRank;</li>
</ul>
<p>/**</p>
<ul>
<li>The ability to kick in the clan rank<br>
*/<br>
private String kickRank;</li>
</ul>
<p>/**</p>
<ul>
<li>The ability to ban in the clan rank<br>
*/<br>
private String banRank;</li>
</ul>
<p>/**</p>
<ul>
<li>All of the players in the clan<br>
*/<br>
<span class="mention">@XStreamImplicit</span><br>
private String[][] clanPlayer;</li>
</ul>
<p>/**</p>
<ul>
<li>All of the banned players in the clan<br>
*/<br>
private String[] bannedPlayers;</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the owner of the clan</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> owner<br>
*/<br>
public String getOwner() {<br>
return owner;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the title of the clan</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> title<br>
*/<br>
public String getTitle() {<br>
return title;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the enter rank of the clan</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> enterRank<br>
*/<br>
public String getEnterRank() {<br>
return enterRank;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the talk rank of the clan</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> talkRank<br>
*/<br>
public String getTalkRank() {<br>
return talkRank;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the kick rank of the clan</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> kickRank<br>
*/<br>
public String getKickRank() {<br>
return kickRank;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the ban rank of the clan</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> banRank<br>
*/<br>
public String getBanRank() {<br>
return banRank;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the players in the clan</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> clanPlayer<br>
*/<br>
public String[][] getClanPlayer() {<br>
return clanPlayer;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the banned players in the clan</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> bannedPlayers<br>
*/<br>
public String[] getBannedPlayers() {<br>
return bannedPlayers;<br>
}</li>
</ul>
</li>
</ul>
<p>}<br>
[/CODE]</p>
<p><span class="bbcode-b"><span class="bbcode-b">Clan Writer Event</span></span></p>
<p>[CODE=JAVA]package org.hyperion.rs2.content.clan.xml;</p>
<p>import java.util.function.Consumer;</p>
<p>import org.hyperion.rs2.content.clan.Clan;<br>
import org.hyperion.rs2.content.clan.ClanConstants;<br>
import org.hyperion.rs2.content.clan.ClanPlayer;<br>
import org.hyperion.rs2.model.World;<br>
import org.hyperion.rs2.util.xml.writer.XMLWriterEvent;<br>
import org.w3c.dom.Document;<br>
import org.w3c.dom.Element;</p>
<p>/**</p>
<ul>
<li>
<p>Writes all the clan data to the XML file</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Dan0194<br>
*/<br>
public final class ClanWriterEvent extends XMLWriterEvent {</p>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> clan to the clan<br>
*/<br>
public ClanWriterEvent() {<br>
super(ClanConstants.CLAN_PATH);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<p>(non-Javadoc)</p>
</li>
<li>
<p><span class="mention">@see</span> org.hyperion.rs2.util.xml.writer.XMLWriterEvent#write(org.w3c.dom.Document)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public boolean write(Document doc) {</p>
<p>/** If there are no clans */<br>
if(World.getWorld().getClans().isEmpty()) {<br>
return false;<br>
}</p>
<p>/** Creates the root element list */<br>
Element list = doc.createElement(“list”);<br>
doc.appendChild(list);</p>
<p>World.getWorld().getClans().stream().forEach(new Consumer() {</p>
<pre><code> @Override
 public void accept(Clan clan) {
 	
 	/** Creates the clan root */
 	Element clanz = doc.createElement("clan");
 	list.appendChild(clanz);

 	/** Writes the owner of the clan data to file */
 	Element firstname = doc.createElement("owner");
 	firstname.appendChild(doc.createTextNode(clan.getOwner()));
 	clanz.appendChild(firstname);
 	
 	/** Wrties the title of the clan to file */
 	Element title = doc.createElement("title");
 	title.appendChild(doc.createTextNode(clan.getTitle()));
 	clanz.appendChild(title);
 	
 	/** Writes the enter rank of the clan to the file */
 	Element enterRank = doc.createElement("enterRank");
 	enterRank.appendChild(doc.createTextNode(clan.getEnterRank().toString()));
 	clanz.appendChild(enterRank);
 	
 	/** Writes the talk rank of the clan to the file */
 	Element talkRank = doc.createElement("talkRank");
 	talkRank.appendChild(doc.createTextNode(clan.getTalkRank().toString()));
 	clanz.appendChild(talkRank);
 	
 	/** Writes the kick rank of the clan to the file */
 	Element kickRank = doc.createElement("kickRank");
 	kickRank.appendChild(doc.createTextNode(clan.getKickRank().toString()));
 	clanz.appendChild(kickRank);
 	
 	/** Writes the bank rank of the clan to the file */
 	Element banRank = doc.createElement("banRank");
 	banRank.appendChild(doc.createTextNode(clan.getBanRank().toString()));
 	clanz.appendChild(banRank);
 	
 	/** Writes all of the players in the clan to the file */
 	clan.getClanPlayers().stream().forEach(new Consumer&lt;ClanPlayer&gt;() {

 		@Override
 		public void accept(ClanPlayer t) {
 			Element clanPlayer = doc.createElement("clanPlayer");
 			Element clanPlayerName = doc.createElement("string");
 			Element clanPlayerRank = doc.createElement("string");
 			clanPlayerName.appendChild(doc.createTextNode(t.getName()));
 			clanPlayerRank.appendChild(doc.createTextNode("" + t.getRank().toString()));
 			clanPlayer.appendChild(clanPlayerName);
 			clanPlayer.appendChild(clanPlayerRank);
 			clanz.appendChild(clanPlayer);
 		}
 		
 	});
 	
 	/** Creates banned players element */
 	Element bannedPlayers = doc.createElement("bannedPlayers");

 	/** Writes all the banned players to the file */
 	clan.getBannedPlayers().stream().forEach(new Consumer&lt;String&gt;() {

 		@Override
 		public void accept(String t) {
 			Element bannedPlayer = doc.createElement("string");
 			bannedPlayer.appendChild(doc.createTextNode(t));
 			bannedPlayers.appendChild(bannedPlayer);
 		}
 		
 	});
 	
 	clanz.appendChild(bannedPlayers);
 	
 }
</code></pre>
<p>});<br>
return true;</p>
</li>
</ul>
<p>}<br>
}<br>
[/CODE]</p>
</li>
</ul>
<p>Now to add the new <span class="bbcode-b">ComponentPacketHandler</span></p>
<p>[CODE=JAVA]package org.hyperion.rs2.packet;</p>
<p>import java.util.Optional;<br>
import java.util.logging.Logger;</p>
<p>import org.hyperion.rs2.content.clan.Clan;<br>
import org.hyperion.rs2.content.clan.ClanPlayer;<br>
import org.hyperion.rs2.content.clan.ClanRank;<br>
import org.hyperion.rs2.model.Player;<br>
import org.hyperion.rs2.model.World;<br>
import org.hyperion.rs2.net.Packet;</p>
<p>/**</p>
<ul>
<li>
<p>Handles all component buttons actions</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Dan0194<br>
*/<br>
public final class ComponentPacketHandler implements PacketHandler {</p>
<p>/**</p>
<ul>
<li>The logger<br>
*/<br>
private static final Logger LOGGER = Logger.getLogger(ComponentPacketHandler.class.getName());</li>
</ul>
<p>/**</p>
<ul>
<li>
<p>(non-Javadoc)</p>
</li>
<li>
<p><span class="mention">@see</span> org.hyperion.rs2.packet.PacketHandler#handle(org.hyperion.rs2.model.Player, org.hyperion.rs2.net.Packet)<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public void handle(Player player, Packet packet) {<br>
int button = packet.getShort();<br>
int component = packet.getShort();</p>
<p>LOGGER.info("The button id " + button + " The component " + component);</p>
<p>if (button &gt;= 18144 &amp;&amp; button &lt;= 18244) {</p>
<pre><code> Clan clan = player.getClanManager().getCurrentClan();
 Player clanPlayer = clan.getPlayers().get(button - 18144);
 
 if(component == 0) {
 	
 	clan.kick(player, clanPlayer);
 	
 } else {
 	
 	clan.ban(player, clanPlayer);
 }
</code></pre>
<p>}</p>
<p>if(button &gt;= 18323 &amp;&amp; button &lt;= 18423) {</p>
<pre><code> Optional&lt;Clan&gt; currentClan = World.getWorld().getClanByOwner(player.getName());
 
 if(currentClan.isPresent()) {
 	
 	ClanPlayer clanPlayer = currentClan.get().getClanPlayers().get(button - 18323);
 	
 	Optional&lt;ClanRank&gt; newRank = component == 0 ? ClanRank.forPosition(clanPlayer.getRank().getPosition() - 1)
 			: ClanRank.forPosition(component);
 	
 	if(newRank.isPresent()) {
 		currentClan.get().rank(player, clanPlayer, newRank.get());
 		return;
 	} 
 	
 	player.getActionSender().sendMessage("That player cannot be set to that rank.");
 	
 	return;
 }
</code></pre>
<p>}</p>
<p>if(button &gt;= 18424 &amp;&amp; button &lt;= 18523) {</p>
<pre><code> Optional&lt;Clan&gt; currentClan = World.getWorld().getClanByOwner(player.getName());
 
 if(currentClan.isPresent()) {
 	String bannedPlayer = currentClan.get().getBannedPlayers().get(button - 18424);
 	currentClan.get().unban(player, bannedPlayer);
 	return;
 }
</code></pre>
<p>}</p>
<p>switch(button) {</p>
<p>/** The clan set title button*/<br>
case 18304:</p>
<pre><code> if(component == 0) {
 	player.getClanManager().setTitle();
 	
 } else {

 	Optional&lt;Clan&gt; clan = World.getWorld().getClanByOwner(player.getName());
 	
 	if(clan.isPresent()) {
 		clan.get().delete(player);
 		return;
 	}
 	
 	player.getActionSender().sendMessage("You don't have a clan.");
 }
 break;
</code></pre>
<p>case 18307:<br>
Optional clan = World.getWorld().getClanByOwner(player.getName());</p>
<pre><code> 	if(clan.isPresent()) {
 		
 		int position = component;
 		
 		Optional&lt;ClanRank&gt; rank = ClanRank.forPosition(position == 0 ? -1 : position);
 
 		if(rank.isPresent()) {
 			clan.get().setEnterRank(rank.get());
 			player.getClanManager().updateSetup();
 		}
 		return;
 	}
 	
 player.getActionSender().sendMessage("You don't have a clan.");
 break;
</code></pre>
<p>case 18310:<br>
clan = World.getWorld().getClanByOwner(player.getName());</p>
<pre><code> 	if(clan.isPresent()) {
 		
 		int position = component;
 		
 		Optional&lt;ClanRank&gt; rank = ClanRank.forPosition(position == 0 ? -1 : position);
 
 		if(rank.isPresent()) {
 			clan.get().setTalkRank(rank.get());
 			player.getClanManager().updateSetup();
 		}
 		return;
 	}
 	
 player.getActionSender().sendMessage("You don't have a clan.");
 break;
</code></pre>
<p>case 18313:</p>
<pre><code> 	clan = World.getWorld().getClanByOwner(player.getName());
 	
 	if(clan.isPresent()) {
 		
 		int position = component;
 		
 		Optional&lt;ClanRank&gt; rank = ClanRank.forPosition(position == 0 ? -1 : position);
 
 		if(rank.isPresent()) {
 			clan.get().setKickRank(rank.get());
 			player.getClanManager().updateSetup();
 		}
 		return;
 	}
 	
 player.getActionSender().sendMessage("You don't have a clan.");
 break;
</code></pre>
<p>case 18316:<br>
clan = World.getWorld().getClanByOwner(player.getName());</p>
<pre><code> 	if(clan.isPresent()) {
 		
 		int position = component;
 		
 		Optional&lt;ClanRank&gt; rank = ClanRank.forPosition(position == 0 ? -1 : position);
 
 		if(rank.isPresent()) {
 			clan.get().setBanRank(rank.get());
 			player.getClanManager().updateSetup();
 		}
 		return;
 	}
 	
 player.getActionSender().sendMessage("You don't have a clan.");
 break;
 
 }
</code></pre>
</li>
</ul>
<p>}<br>
}[/CODE]</p>
</li>
</ul>
<p>Add in your packet.cfg</p>
<p><code>packetHandlers[213]: org.hyperion.rs2.packet.ComponentPacketHandler</code></p>
<p>Now in your <span class="bbcode-b">ActionButtonPacketHandler class</span> add</p>
<p>[CODE=JAVA]		/** Edit Clan button */<br>
case 18132:<br>
player.getClanManager().initSetup();<br>
break;</p>
<pre><code>	/** Join Chat button */
	case 18129:
		Optional&lt;Clan&gt; clan = Optional.ofNullable(player.getClanManager().getCurrentClan());
		
		if(clan.isPresent()) {
			clan.get().eject(player, "You leave the chat.");
			player.getClanManager().clear();
			return;
		}
		
		player.getClanManager().join();
		break;[/CODE]
</code></pre>
<p>In your<span class="bbcode-b"> ActionSender class</span> in the sendLogin method add</p>
<p><code>		player.getClanManager().clear();
		player.getClanManager().join(ClanConstants.HELP_CLAN);</code></p>
<p>Also add this packet</p>
<p><code>/**
	 * Clan chat
	 * 
	 * @param name
	 * @param message
	 * @param clan
	 * @param rights
	 */
	public ActionSender sendClanMessage(String name, String message, String clan, int rights) {
		if (rights &gt;= 3) {
			rights--;
		}
		PacketBuilder builder = new PacketBuilder(217, Type.VARIABLE_SHORT);
		builder.putRS2String(name);
		builder.putRS2String(message);
		builder.putRS2String(clan);
		builder.putShort(rights);
		player.write(builder.toPacket());
		return this;
	}</code></p>
<p>Now finally in your <span class="bbcode-b">World class</span> add this stuff in it’s appropriate places</p>
<p>[CODE=JAVA]<br>
/**<br>
* All of the clans<br>
*/<br>
public List clans = new ArrayList&lt;&gt;();</p>
<pre><code>/**
 * Gets a clan by the owner's name
 * 
 * @return an optional containing either the clan or empty
 */
public Optional&lt;Clan&gt; getClanByOwner(String owner) {
	Predicate&lt;Clan&gt; player = (Clan c) -&gt; c.getOwner().equals(owner);
	return clans.stream().filter(player).findFirst();
}

/**
 * Gets the all of the clans in the world
 * 
 * @return clans
 */
public List&lt;Clan&gt; getClans() {
	return clans;
}
</code></pre>
<p>[/CODE]</p>
<p>[/spoiler]</p>
<p><span class="bbcode-b">FINAL PRODUCT [COULDN’T SHOW ALL]</span></p>
<p>[youtube]<a href="https://www.youtube.com/watch?v=HU-HyLmntx4%5B/youtube%5D" rel="nofollow noopener">https://www.youtube.com/watch?v=HU-HyLmntx4[/youtube]</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/2</link>
        <pubDate>Tue, 10 Mar 2015 05:02:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-2</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
      <item>
        <title>[Hyperion] 95% Clan Chats [Hyperion]</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>Well I figured since I’m going to take a break from rsps’s for a while might as well release this for all the people who are struggling trying to add content to their hyperion sources. I did rip the interfaces and the loading of the interfaces from some other client but I did create all of the code server-sided and as well as some of the code client-sided. This tutorial will be spoonfed.</p>
<p>[B]CLIENT-SIDED: [PLEASE DONT CRITICIZE ME ON CLIENT IT’S ALREADY A MESS] [/B]</p>
<p>[spoiler]First thing we need to do is add the interfaces so download: <a href="https://dl.dropboxusercontent.com/u/35907711/clan%20chat.zip" data-bbcode="true" rel="nofollow noopener">https://dl.dropboxusercontent.com/u/35907711/clan%20chat.zip</a> and put that in your cache sprites or if you want pack them into your cache.</p>
<p>Next thing is in RSInterface add these methods</p>
<p>[CODE=JAVA]	public static void clanChatSetup(TextDrawingArea[] tda) {<br>
RSInterface rsi = addInterface(18300);<br>
rsi.totalChildren(25);<br>
int count = 0;<br>
/* Background <em>/<br>
addSprite(18301, 1, “/Clan Chat/sprite”);<br>
rsi.child(count++, 18301, 14, 18);<br>
/</em> Close button <em>/<br>
addButton(18302, 0, “/Clan Chat/close”, “Close”);<br>
interfaceCache[18302].atActionType = 3;<br>
rsi.child(count++, 18302, 475, 26);<br>
/</em> Clan Setup title <em>/<br>
addText(18303, “Clan Setup”, tda, 2, 0xFF981F, true, true);<br>
rsi.child(count++, 18303, 256, 26);<br>
/</em> Setup buttons <em>/<br>
String[] titles = { “Clan name:”, “Who can enter chat?”,<br>
“Who can talk on chat?”, “Who can kick on chat?”,<br>
“Who can ban on chat?” };<br>
String[] defaults = { “Not set”, “Anyone”, “Anyone”, “Only me”,<br>
“Only me” };<br>
String[] whoCan = { “Anyone”, “Recruit”, “Corporal”, “Sergeant”,<br>
“Lieutenant”, “Captain”, “General”, “Only Me” };<br>
for (int index = 0, id = 18304, y = 50; index &lt; titles.length; index++, id += 3, y += 40) {<br>
addButton(id, 2, “/Clan Chat/sprite”, “”);<br>
interfaceCache[id].atActionType = 0;<br>
if (index &gt; 0) {<br>
interfaceCache[id].actions = whoCan;<br>
} else {<br>
interfaceCache[id].actions = new String[] { “Change title”,<br>
“Delete clan” };<br>
;<br>
}<br>
addText(id + 1, titles[index], tda, 0, 0xFF981F, true, true);<br>
addText(id + 2, defaults[index], tda, 1, 0xFFFFFF, true, true);<br>
rsi.child(count++, id, 25, y);<br>
rsi.child(count++, id + 1, 100, y + 4);<br>
rsi.child(count++, id + 2, 100, y + 17);<br>
}<br>
/</em> Table <em>/<br>
addSprite(18319, 5, “/Clan Chat/sprite”);<br>
rsi.child(count++, 18319, 197, 70);<br>
/</em> Labels */<br>
int id = 18320;<br>
int y = 74;</p>
<pre><code>	addText(id, "Clan Members", tda, 2, 0xFF981F, false, true);
	rsi.child(count++, id++, 202, y);
	addText(id, "Banned Members", tda, 2, 0xFF981F, false, true);
	rsi.child(count++, id++, 339, y);
	/* Ranked members list */
	RSInterface list = addInterface(id++);
	int lines = 100;
	list.totalChildren(lines);
	String[] ranks = { "Demote", "Recruit", "Corporal", "Sergeant",
			"Lieutenant", "Captain", "General", "Owner" };
	list.childY[0] = 2;
	// System.out.println(id);
	for (int index = id; index &lt; id + lines; index++) {
		addText(index, "", tda, 1, 0xffffff, false, true);
		interfaceCache[index].actions = ranks;
		list.children[index - id] = index;
		list.childX[index - id] = 2;
		list.childY[index - id] = (index - id &gt; 0 ? list.childY[index - id
		                                                        - 1] + 14 : 0);
	}
	id += lines;
	list.width = 119;
	list.height = 210;
	list.scrollMax = (lines * 14) + 2;
	rsi.child(count++, list.id, 199, 92);
	/* Banned members list */
	list = addInterface(id++);
	list.totalChildren(lines);
	list.childY[0] = 2;
	// System.out.println(id);
	for (int index = id; index &lt; id + lines; index++) {
		addText(index, "", tda, 1, 0xffffff, false, true);
		interfaceCache[index].actions = new String[] { "Unban" };
		list.children[index - id] = index;
		list.childX[index - id] = 0;
		list.childY[index - id] = (index - id &gt; 0 ? list.childY[index - id
		                                                        - 1] + 14 : 0);
	}
	id += lines;
	list.width = 119;
	list.height = 210;
	list.scrollMax = (lines * 14) + 2;
	rsi.child(count++, list.id, 339, 92);
	/* Table info text */
	y = 47;
	addText(id, "You can manage both ranked and banned members here.", tda,
			0, 0xFF981F, true, true);
	rsi.child(count++, id++, 337, y);
	addText(id, "Right click on a name to edit the member.", tda, 0,
			0xFF981F, true, true);
	rsi.child(count++, id++, 337, y + 11);
	/* Add ranked member button */
	y = 75;

	/* Hovers */
	int[] clanSetup = { 18302, 18304, 18307, 18310, 18313, 18316 };
	String[] names = { "close", "sprite", "sprite", "sprite", "sprite",
			"sprite" };
	int[] ids = { 1, 3, 3, 3, 3, 3, 1, 1 };
	for (int index = 0; index &lt; clanSetup.length; index++) {
		rsi = interfaceCache[clanSetup[index]];
		rsi.disabledHover = imageLoader(ids[index],
				"/Clan Chat/" + names[index]);
	}
</code></pre>
<p>}</p>
<pre><code>public static void clanChatTab(TextDrawingArea[] tda) {
    RSInterface tab = addTabInterface(18128);
    addHoverButton(18129, "/Clan Chat/SPRITE", 6, 72, 32, "Join Chat", 550, 18130, 5);
    addHoveredButton(18130, "/Clan Chat/SPRITE", 7, 72, 32, 18131);
    addHoverButton(18132, "/Clan Chat/SPRITE", 6, 72, 32, "Edit Clan", -1, 18133, 5);
    addHoveredButton(18133, "/Clan Chat/SPRITE", 7, 72, 32, 18134);
    addText(18135, "Join Chat", tda, 0, 0xff9b00, true, true);
    addText(18136, "Clan Setup", tda, 0, 0xff9b00, true, true);
    addSprite(18137, 37, "/Clan Chat/SPRITE");
    addText(18138, "Clan Chat", tda, 1, 0xff9b00, true, true);
    addText(18139, "Talking in: Not in chat", tda, 0, 0xff9b00, false, true);
    addText(18140, "Owner: None", tda, 0, 0xff9b00, false, true);
    addSprite(16126, 4, "/Clan Chat/SPRITE");
	tab.totalChildren(13);
	tab.child(0, 16126, 0, 221);
	tab.child(1, 16126, 0, 59);
    tab.child(2, 18137, 0, 62);
    tab.child(3, 18143, 0, 62);
    tab.child(4, 18129, 15, 226);
    tab.child(5, 18130, 15, 226);
    tab.child(6, 18132, 103, 226);
    tab.child(7, 18133, 103, 226);
    tab.child(8, 18135, 51, 237);
    tab.child(9, 18136, 139, 237);
    tab.child(10, 18138, 95, 1);
    tab.child(11, 18139, 10, 23);
    tab.child(12, 18140, 25, 38);
    /* Text area */
    RSInterface list = addTabInterface(18143);
    list.totalChildren(100);
    for(int i = 18144; i &lt;= 18244; i++) {
        addText(i, "", tda, 0, 0xffffff, false, true);
    }
    for(int id = 18144, i = 0; id &lt;= 18243 &amp;&amp; i &lt;= 99; id++, i++) {
    	interfaceCache[id].actions = new String[]{ "Edit Rank", "Kick", "Ban" };
        list.children[i] = id; list.childX[i] = 5;
        for(int id2 = 18144, i2 = 1; id2 &lt;= 18243 &amp;&amp; i2&lt;= 99; id2++, i2++) {
            list.childY[0] = 2;
            list.childY[i2] = list.childY[i2 - 1] + 14;
        }
    }
    list.height = 158; list.width = 174;
    list.scrollMax = 1405;
}[/CODE]
</code></pre>
<p>And load them up with all your other custom interfaces in the client.</p>
<p>Now open up Client.java and add this method</p>
<p><code>	public boolean inClan(String name) {
		Predicate&lt;String&gt; a = (String s) -&gt; s.toLowerCase().contains(name.toLowerCase());
		return Arrays.stream(clanList).filter(Objects::nonNull).anyMatch(a);
	}</code></p>
<p>Add this string array</p>
<pre><code>private String[] clanList = new String[100];
</code></pre>
<p>look up case 126:</p>
<p>under</p>
<p><code>					if (text.startsWith("www.")) {
						launchURL(text);
						pktType = -1;
						return true;
					}</code></p>
<p>add</p>
<p><code>					if (frame &gt;= 18144 &amp;&amp; frame &lt;= 18244) {
						clanList[frame - 18144] = text;
						RSInterface.interfaceCache[frame].actions = new String[5];
						RSInterface.interfaceCache[frame].actions[0] = "Kick";
						RSInterface.interfaceCache[frame].actions[1] = "Ban";
					}</code></p>
<p>add this packet in your client [this is for sending messages]</p>
<p>[CODE=JAVA]case 217:<br>
try {<br>
clanName = inStream.readString();<br>
clanMessage = inStream.readString();<br>
clanTitle = inStream.readString();<br>
clanRights = inStream.readUnsignedWord();</p>
<pre><code>				pushMessage(clanMessage, 12, clanName);
			} catch(Exception e) {
				e.printStackTrace();
			}
			pktType = -1;
			return true;
</code></pre>
<p>[/CODE]</p>
<p>above <code>if(chatType == 16) {</code> add</p>
<p><code>if (chatType == 12) {
						if (chatTypeView == 5 || chatTypeView == 0) {
							if (yPos &gt; 0 &amp;&amp; yPos &lt; 210) {
								System.out.println("3");
								String title = "&lt;col=0000FF&gt;"
										+ clanTitles[k] + "&lt;/col&gt;";
								String username = (chatRights[k] &gt; 0 ? "&lt;img="
										+ (chatRights[k] - 1) + "&gt;"
										: "")
										+ TextClass.fixName(chatNames[k]);
								String message = "&lt;col=800000&gt;"
										+ chatMessages[k] + "&lt;/col&gt;";
								newRegularFont.drawBasicString("[" + title
										+ "] " + username + ": " + message,
										11, yPos, 0, -1);
							}
							j++;
							j77++;
						}
					}</code></p>
<p>Search for<code> if (l == 1050) { </code>and above it add</p>
<p><code>				if (l == 647) {
					stream.createFrame(213);
					stream.writeWord(k);
					stream.writeWord(j);
					}</code></p>
<p>and finally (last thing to do client-sided) look for 			<code>Player player = playerArray[playerIndices[j6]];</code></p>
<p>Under that add</p>
<pre><code>		[CODE=JAVA]flag3 = inClan(player.name);[/CODE]
</code></pre>
<p>now a little under you will see something like</p>
<p><code>if (flag1) {
					markMinimap(mapDotFriend, j1, l3);
				} else {
					markMinimap(mapDotPlayer, j1, l3);
				}</code></p>
<p>replace that with</p>
<p><code>				if (flag1) {
					markMinimap(mapDotFriend, j1, l3);
				} else if(flag3) {
					markMinimap(mapDotTeam, j1, l3);
				} else {
					markMinimap(mapDotPlayer, j1, l3);
				}</code></p>
<p>AND THAT’S IT CLIENT-SIDED [/spoiler]</p>
<p><span class="bbcode-b">BELOW IS MORE OF TUTORIAL</span></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456/1</link>
        <pubDate>Tue, 10 Mar 2015 04:59:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-550456-1</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-95-clan-chats-hyperion/550456.rss">[Hyperion] 95% Clan Chats [Hyperion]</source>
      </item>
  </channel>
</rss>
