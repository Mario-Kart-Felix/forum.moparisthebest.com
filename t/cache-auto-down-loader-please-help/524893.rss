<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Cache auto down loader! please help!</title>
    <link>https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893</link>
    <description>i get this error while trying to download my cache on my client please help me!

java.io.FileNotFoundException: C:\Cache.rar (Access is denied)
        at java.io.FileOutputStream.open(Native Method)
        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)
        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)
        at CacheDownloader.downloadFile(CacheDownloader.java:125)
        at CacheDownloader.downloadCache(CacheDownloader.java:105)
        at client.startUp(client.java:10117)
        at RSApplet.run(RSApplet.java:78)
        at client.run(client.java:6791)
        at java.lang.Thread.run(Unknown Source)
The cache was not downloaded correctly.
Please download it manually at:
C:/Cache.rar
File Directory:
C:/</description>
    
    <lastBuildDate>Tue, 16 Jul 2013 01:40:22 +0000</lastBuildDate>
    <category>Game Development</category>
    <atom:link href="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Cache auto down loader! please help!</title>
        <dc:creator><![CDATA[@u_loose u loose]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/u_loose">@u_loose</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="5" data-topic="524893">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/doomah99/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Doomah99:</div>
<blockquote>
<p>hmm ok thanks i really need this fixed</p>
</blockquote>
</aside>
<p>When I get on the computer I’ll try help you as I’m currently on my phone, can’t help much atm</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/6</link>
        <pubDate>Tue, 16 Jul 2013 01:40:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524893-6</guid>
        <source url="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893.rss">Cache auto down loader! please help!</source>
      </item>
      <item>
        <title>Cache auto down loader! please help!</title>
        <dc:creator><![CDATA[@Doomah99 Doomah99]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/doomah99">@Doomah99</a> wrote:</p>
          <blockquote>
              <p>hmm ok thanks i really need this fixed</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/5</link>
        <pubDate>Sat, 13 Jul 2013 23:43:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524893-5</guid>
        <source url="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893.rss">Cache auto down loader! please help!</source>
      </item>
      <item>
        <title>Cache auto down loader! please help!</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>nowhere in the cachedownloader does it include “.rar”</p>
<p>therefore i am lead to believe the cachedownloader isn’t used and the method is somewhere else</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/4</link>
        <pubDate>Sat, 13 Jul 2013 23:42:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524893-4</guid>
        <source url="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893.rss">Cache auto down loader! please help!</source>
      </item>
      <item>
        <title>Cache auto down loader! please help!</title>
        <dc:creator><![CDATA[@Doomah99 Doomah99]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/doomah99">@Doomah99</a> wrote:</p>
          <blockquote>
              <p>Here is my cachedownloader.java folder.</p>
<p>/**********************************************</p>
<p><span class="mention">@author</span>: Google411</p>
<p>06/11/2011 – 9/19/2011</p>
<p>CacheDownloader.java<br>
Version: 2.00.12</p>
<p>$$ If you want to disable the pipup messages just null out these lines</p>
<p>Line: 102 -<br>
cacheHasUpdated();<br>
Line: 108 -<br>
cacheHasUpdated();<br>
With<br>
Line: 102 -<br>
//cacheHasUpdated();<br>
Line: 108 -<br>
//cacheHasUpdated();</p>
<p>&lt;¤&gt;¿&lt;¤&gt; Google411 Me - Revised by Kozs</p>
<p>**********************************************/</p>
<p>import java.io.File;<br>
import java.io.IOException;<br>
import java.io.OutputStream;<br>
import java.io.FileWriter;<br>
import java.io.BufferedWriter;<br>
import java.io.BufferedOutputStream;<br>
import java.io.BufferedInputStream;<br>
import java.io.FileOutputStream;<br>
import java.io.FileInputStream;<br>
import java.io.InputStream;<br>
import java.net.URLConnection;<br>
import java.net.URL;<br>
import java.util.zip.ZipFile;<br>
import java.util.zip.ZipEntry;<br>
import java.util.zip.ZipInputStream;<br>
import java.util.Enumeration;<br>
import javax.swing.<em>;<br>
import java.awt.event.</em>;<br>
import <a href="http://java.net" rel="nofollow noopener">java.net</a>.<em>;<br>
import <a href="http://java.io" rel="nofollow noopener">java.io</a>.</em>;<br>
import sign.signlink;</p>
<p>public class CacheDownloader {</p>
<pre><code>    private client client;
            client frame;
    private final int BUFFER = 1024;
            /* OPTIONS START HERE *///----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    /* OPTION 1 */private final int VERSION = 1 ;   // Version of cache, make it +1 if you updated your cache on your remote server
            /* OPTION 2 */private final int pauseHandlerDelay = 1000 ;   // 1000  = 1 second. This is for when ever the pauseHandler void is called. It just pauses the entire code for the amount of time set.
    /* OPTION 3*/private String cacheLink = "https://www.dropbox.com/s/nhk5mpi775jihki/Cache1.zip" ;   // URL of cache on remote server. IE: "https://www.dropbox.com/s/nhk5mpi775jihki/Cache1.zip" Add to dropbox or FileDen
            /* OPTION 4 */private String cacheDir = "C:/" ;   // Local link to cache directory - Same as sign.signlink.findcachedir() - Remember trailing '/' 
            /* OPTIONS END HERE *///--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    private String fileToExtract = getCacheDir() + getArchivedName();
    public CacheDownloader(client client) {
            this.client = client;
    }

    private void drawLoadingText(String text) {
            client.drawLoadingText(35, text);
    }
            
    private void drawLoadingText(int amount, String text) {
            client.drawLoadingText(amount, text);
    }

    private String getCacheLink() {
            return cacheLink;
    }
            
    private String getCacheDir() {
            return cacheDir;
    }

    private int getCacheVersion() {
            return VERSION;
    }
            
            private int pauseHandlerDelay1000Equals1Second() {
                            return pauseHandlerDelay;
            }
    
            private String localCacheFile() {
                            return getCacheDir() + getArchivedName();
            }
    public CacheDownloader downloadCache() {
            try {
            File location = new File(getCacheDir());
            File version = new File(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat");
            if(!location.exists()) {
                                            cacheHasUpdated();
                    downloadFile(getCacheLink(), getArchivedName());
                    BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat"));
                    versionFile.close();
            } else {
                    if(!version.exists()) {
                                                            cacheHasUpdated();
                            downloadFile(getCacheLink(), getArchivedName());
                            BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat"));
                            versionFile.close();
                    } else {
                            return null;
                    }
            }
            } catch(Exception e) {
            }
            return null;
    }                        
                    public void cacheHasUpdated() {
                            JOptionPane.showMessageDialog(frame, "It seems you either, 1. Have no cache on localhost or, 2. You have an older version of the cache. Click OK to download the new cache.", "Cache Version Invalid", JOptionPane.WARNING_MESSAGE);
                            }
    private void downloadFile(String adress, String localFileName) {
            OutputStream out = null;
            URLConnection conn;
            InputStream in = null;
            try {
                    URL url = new URL(adress);
                    out = new BufferedOutputStream(
                    new FileOutputStream(getCacheDir() + "/" +localFileName)); 
                    conn = url.openConnection();
                    in = conn.getInputStream(); 
                    byte[] data = new byte[BUFFER]; 
                    int numRead;
                    long numWritten = 0;
                    int length = conn.getContentLength();
                    while((numRead = in.read(data)) != -1) {
                            out.write(data, 0, numRead);
                            numWritten += numRead;
                            int percentage = (int)(((double)numWritten / (double)length) * 100D);
                            drawLoadingText(percentage, "Downloading Cache " + percentage + "%");
                    }
                    System.out.println(localFileName + "\t" + numWritten);
                    drawLoadingText("Finished downloading "+getArchivedName()+"!");
            } catch (Exception exception) {
                    exception.printStackTrace();
            } finally {
                    try {
                            if (in != null) {
                                    in.close();
                            }
                            if (out != null) {
                                    out.close();
                            }
                    } catch (IOException ioe) {
                    }
            }
                            fileExists();
    }
    private String getArchivedName() {
            int lastSlashIndex = getCacheLink().lastIndexOf('/');
            if (lastSlashIndex &gt;= 0 
                    &amp;&amp; lastSlashIndex &lt; getCacheLink().length() -1) { 
                    return getCacheLink().substring(lastSlashIndex + 1);
            } else {
                    System.err.println("error retreiving archivaed name.");
            }
            return "";
    }
    public void fileExists() {
File file=new File(localCacheFile());
boolean exists = file.exists();
if (!exists) {
  System.out.println("The cache was not downloaded correctly.");
      System.out.println("Please download it manually at:");
      System.out.println(localCacheFile());
      System.out.println("File Directory:");
      System.out.println(getCacheDir());
      pauseHandler();
    cacheDownloadError();
}else {
  drawLoadingText("Your cache is downloaded and ready to un-zip!");
      pauseHandler();
      unZip();          
}
    }
            private void unZip() {
        try {
                InputStream in = 
                new BufferedInputStream(new FileInputStream(fileToExtract));
            ZipInputStream zin = new ZipInputStream(in);
            ZipEntry e;
            while((e=zin.getNextEntry()) != null) {
                           if(e.isDirectory()) {
                    (new File(getCacheDir() + e.getName())).mkdir();
                           } else {
                if (e.getName().equals(fileToExtract)) {
                    unzip(zin, fileToExtract);
                    break;
                }
                           unzip(zin, getCacheDir() + e.getName());
                }
                                    drawLoadingText("[UN-ZIP]: " + e.getName());
            }
            zin.close();
        } catch(Exception e) {
            e.printStackTrace();
        }
                    pauseHandler();
                    unNeededCacheExists();
    }
    private void unzip(ZipInputStream zin, String s) 
            throws IOException {
            FileOutputStream out = new FileOutputStream(s);
            byte [] b = new byte[BUFFER];
            int len = 0;

            while ((len = zin.read(b)) != -1) {
                    out.write(b,0,len);
                            }
    }
    public void unNeededCacheExists() {
File file=new File(localCacheFile());
boolean exists = file.exists();
if (!exists) {
  System.out.println("Your cache was not downloaded correctly.");
      System.out.println("Please try to re re run the client.");
}else {
  System.out.println("Your cache is on your HDD");
      System.out.println("Auto Cache Deleter Attempting to delete...");
      delete();          
}
    }
        public void delete() {        
        try{
                File file = new File(localCacheFile());
                if(file.delete()){
                        drawLoadingText("[SUCCESS]" +file.getName()+ " was deleted!");
                            System.out.println("[SUCCESS]" +file.getName()+ " was deleted!");
                }else{
                        drawLoadingText("[ERROR]" +file.getName()+ " was not deleted.");
                            System.out.println("[ERROR]" +file.getName()+ " was not deleted.");
                }
        }catch(Exception e){
                e.printStackTrace();
        }
}
    public void cacheDownloadError() {
            try {
        drawLoadingText("Cache Download Error - Contact an admin");
                    }
                    catch(Exception e){
                e.printStackTrace();
        }
                    }
</code></pre>
<p>public void pauseHandler() {<br>
try {<br>
Thread.currentThread().sleep(pauseHandlerDelay1000Equals1Second());<br>
}<br>
catch (InterruptedException e) {<br>
e.printStackTrace();<br>
}<br>
}<br>
}<br>
/*************************<br>
<span class="mention">@author</span> Google - Revised by Kozs<br>
*************************/</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/3</link>
        <pubDate>Sat, 13 Jul 2013 23:37:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524893-3</guid>
        <source url="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893.rss">Cache auto down loader! please help!</source>
      </item>
      <item>
        <title>Cache auto down loader! please help!</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>download it from a website. not from your hd</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/2</link>
        <pubDate>Sat, 13 Jul 2013 23:29:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524893-2</guid>
        <source url="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893.rss">Cache auto down loader! please help!</source>
      </item>
      <item>
        <title>Cache auto down loader! please help!</title>
        <dc:creator><![CDATA[@Doomah99 Doomah99]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/doomah99">@Doomah99</a> wrote:</p>
          <blockquote>
              <p>i get this error while trying to download my cache on my client please help me!</p>
<p>java.io.FileNotFoundException: C:\Cache.rar (Access is denied)<br>
at java.io.FileOutputStream.open(Native Method)<br>
at java.io.FileOutputStream.(Unknown Source)<br>
at java.io.FileOutputStream.(Unknown Source)<br>
at CacheDownloader.downloadFile(CacheDownloader.java:125)<br>
at CacheDownloader.downloadCache(CacheDownloader.java:105)<br>
at client.startUp(client.java:10117)<br>
at RSApplet.run(RSApplet.java:78)<br>
at client.run(client.java:6791)<br>
at java.lang.Thread.run(Unknown Source)<br>
The cache was not downloaded correctly.<br>
Please download it manually at:<br>
C:/Cache.rar<br>
File Directory:<br>
C:/</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893/1</link>
        <pubDate>Sat, 13 Jul 2013 23:27:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524893-1</guid>
        <source url="https://forum.moparisthebest.com/t/cache-auto-down-loader-please-help/524893.rss">Cache auto down loader! please help!</source>
      </item>
  </channel>
</rss>
