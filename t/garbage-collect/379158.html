<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/garbage-collect/379158 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 07:29:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Garbage collect - Runescape - moparisthebest.com</title>
    <meta name="description" content="Add in GameEngine class:  

 	public synchronized void garbageCollect() {
		Logger.print(&amp;quot;Executing Memory Cleanup&amp;quot;, 3);
		long startTime = System.currentTimeMillis();
		int curMemory = (int) (Runtime.getRuntime().totalM&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="379158.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Garbage collect&#39;" href="379158.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/garbage-collect/379158" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/garbage-collect/379158" />
<meta property="og:title" content="Garbage collect" />
<meta name="twitter:title" content="Garbage collect" />
<meta property="og:description" content="Add in GameEngine class:  	public synchronized void garbageCollect() { 		Logger.print(&quot;Executing Memory Cleanup&quot;, 3); 		long startTime = System.currentTimeMillis(); 		int curMemory = (int) (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) / 1000; 		int tileObjs = 0; 		int cleaned = 0; 		for (int i = 0; i &lt; World.getWorld().tiles.length; i++) { 			for (int in = 0; in &lt; World.getWorld().tiles[i].length; in++) { 				ActiveTile tile = World.getWorld().tiles[i][in]; 				if (til..." />
<meta name="twitter:description" content="Add in GameEngine class:  	public synchronized void garbageCollect() { 		Logger.print(&quot;Executing Memory Cleanup&quot;, 3); 		long startTime = System.currentTimeMillis(); 		int curMemory = (int) (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) / 1000; 		int tileObjs = 0; 		int cleaned = 0; 		for (int i = 0; i &lt; World.getWorld().tiles.length; i++) { 			for (int in = 0; in &lt; World.getWorld().tiles[i].length; in++) { 				ActiveTile tile = World.getWorld().tiles[i][in]; 				if (til..." />
<meta property="article:published_time" content="2011-01-19T22:44:40+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="3791584658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="379158.html">Garbage collect</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-19T22:44:40Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:03:32Z' class='post-time'>
              August 1, 2016,  7:03am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Add in GameEngine class:</p>
<p><code>	public synchronized void garbageCollect() {
		Logger.print("Executing Memory Cleanup", 3);
		long startTime = System.currentTimeMillis();
		int curMemory = (int) (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) / 1000;
		int tileObjs = 0;
		int cleaned = 0;
		for (int i = 0; i &lt; World.getWorld().tiles.length; i++) {
			for (int in = 0; in &lt; World.getWorld().tiles[i].length; in++) {
				ActiveTile tile = World.getWorld().tiles[i][in];
				if (tile != null) {
					tileObjs++;
					if (!tile.hasGameObject() &amp;&amp; !tile.hasItems() &amp;&amp; !tile.hasNpcs() &amp;&amp; !tile.hasPlayers()) {
						World.getWorld().tiles[i][in] = null;
						cleaned++;
					}
				}
			}
		}
		Runtime.getRuntime().gc();
		int newMemory = (int) (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) / 1000;
		Logger.print("Memory before: " + curMemory + "kb" + " Memory after: " + newMemory + " (Freed: " + (curMemory - newMemory) + "kb)", 3);
		Logger.print("Cleanup took " + (System.currentTimeMillis() - startTime) + "ms", 3);
	}</code></p>
<p>Then I added</p>
<p><code>		eventHandler.add(new DelayedEvent(null, 30 * 60000) {
			public void run() {
				garbageCollect();			
			}
		});</code><br>
in the run method of GameEngine.<br>
Runs every 30 minutes, credits to the team of RSCAngel.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/IlikeArrays.html'><span itemprop='name'>IlikeArrays</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-19T22:58:54Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:03:35Z' class='post-time'>
              August 1, 2016,  7:03am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why not just put all of the c|p into a one topic?</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/force.html'><span itemprop='name'>force</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-20T11:46:11Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:04:11Z' class='post-time'>
              August 1, 2016,  7:04am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Wtf!</p>
<p>Why not just re-write the tile function so it creates tiles WHEN needed / retrieves the tile from a pool of tile objects and deletes the tile once it is not required any more / puts it back into the pool.</p>
<p>Garbage collect will also slow your application. You can configure it to run differently instead of all in one GO you can make it increment, etc… Google it.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iKilem.html'><span itemprop='name'>iKilem</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-22T19:30:39Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:07:05Z' class='post-time'>
              August 1, 2016,  7:07am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“force, post:3, topic:379158”]Wtf!</p>
<p>Why not just re-write the tile function so it creates tiles WHEN needed / retrieves the tile from a pool of tile objects and deletes the tile once it is not required any more / puts it back into the pool.</p>
<p>Garbage collect will also slow your application. You can configure it to run differently instead of all in one GO you can make it increment, etc… Google it.[/quote]<br>
I agree, although, instead of pooling the tile objects, use a proper map structure.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/force.html'><span itemprop='name'>force</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-23T11:42:59Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:07:58Z' class='post-time'>
              August 1, 2016,  7:07am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“iKilem, post:4, topic:379158”][quote author=force link=topic=475008.msg3473923#msg3473923 date=1295523971]<br>
Wtf!</p>
<p>Why not just re-write the tile function so it creates tiles WHEN needed / retrieves the tile from a pool of tile objects and deletes the tile once it is not required any more / puts it back into the pool.</p>
<p>Garbage collect will also slow your application. You can configure it to run differently instead of all in one GO you can make it increment, etc… Google it.<br>
[/quote]<br>
I agree, although, instead of pooling the tile objects, use a proper map structure.[/quote]</p>
<p>What? I don’t think you understand what I really ment.</p>
<p>Object pooling is a design pattern.<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://sourcemaking.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank" rel="nofollow noopener">sourcemaking.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://sourcemaking.com/index.php/files/v2/content/home-tb1.png" class="thumbnail" width="" height="">

<h3><a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank" rel="nofollow noopener">Design Patterns and Refactoring</a></h3>

<p>Design Patterns and Refactoring articles and guides. Design Patterns video tutorials for newbies. Simple descriptions and full source code examples in Java, C++, C#, PHP and Delphi.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Read that article about it.</p>
<p>It will increase in size as the server gets more activity. The idea for tiles would be to place tile back into the pool once it is not required anymore thus you are able to re-use that pool again later for another tile location.</p>
<p>Ofcourse I would limit the placing of tiles back into the pool in high traffic areas. So it would be a good idea to have a lastActivated method which tells you when the last time it was used. If it has a entity on it the lastActivated would always be within the time limit.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="3" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iKilem.html'><span itemprop='name'>iKilem</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-23T12:27:27Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:07:58Z' class='post-time'>
              August 1, 2016,  7:07am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“force, post:5, topic:379158”]What? I don’t think you understand what I really ment.</p>
<p>Object pooling is a design pattern.<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://sourcemaking.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank" rel="nofollow noopener">sourcemaking.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://sourcemaking.com/index.php/files/v2/content/home-tb1.png" class="thumbnail" width="" height="">

<h3><a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank" rel="nofollow noopener">Design Patterns and Refactoring</a></h3>

<p>Design Patterns and Refactoring articles and guides. Design Patterns video tutorials for newbies. Simple descriptions and full source code examples in Java, C++, C#, PHP and Delphi.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Read that article about it.</p>
<p>It will increase in size as the server gets more activity. The idea for tiles would be to place tile back into the pool once it is not required anymore thus you are able to re-use that pool again later for another tile location.</p>
<p>Ofcourse I would limit the placing of tiles back into the pool in high traffic areas. So it would be a good idea to have a lastActivated method which tells you when the last time it was used. If it has a entity on it the lastActivated would always be within the time limit.[/quote]<br>
Yes, I knew what you were talking about. It’s not the best way to go about this, however.</p>
<p>I don’t think you understand what I meant by a “map structure”. It’s quite simple:</p>
<pre><code class="lang-auto">Map&lt;Integer, Tile&gt; tiles = new HashMap&lt;Integer, Tile&gt;(); // pseudocode</code></pre>
<p>key = (x &lt;&lt; 16) | y for example</p>
<p>So that’s zero wasted space relative to amount of Tile objects created.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/force.html'><span itemprop='name'>force</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-24T10:50:23Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:09:05Z' class='post-time'>
              August 1, 2016,  7:09am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“iKilem, post:6, topic:379158”][quote author=force link=topic=475008.msg3477003#msg3477003 date=1295782979]<br>
What? I don’t think you understand what I really ment.</p>
<p>Object pooling is a design pattern.<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://sourcemaking.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank" rel="nofollow noopener">sourcemaking.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://sourcemaking.com/index.php/files/v2/content/home-tb1.png" class="thumbnail" width="" height="">

<h3><a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank" rel="nofollow noopener">Design Patterns and Refactoring</a></h3>

<p>Design Patterns and Refactoring articles and guides. Design Patterns video tutorials for newbies. Simple descriptions and full source code examples in Java, C++, C#, PHP and Delphi.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Read that article about it.</p>
<p>It will increase in size as the server gets more activity. The idea for tiles would be to place tile back into the pool once it is not required anymore thus you are able to re-use that pool again later for another tile location.</p>
<p>Ofcourse I would limit the placing of tiles back into the pool in high traffic areas. So it would be a good idea to have a lastActivated method which tells you when the last time it was used. If it has a entity on it the lastActivated would always be within the time limit.<br>
[/quote]<br>
Yes, I knew what you were talking about. It’s not the best way to go about this, however.</p>
<p>I don’t think you understand what I meant by a “map structure”. It’s quite simple:</p>
<pre><code class="lang-auto">Map&lt;Integer, Tile&gt; tiles = new HashMap&lt;Integer, Tile&gt;(); // pseudocode</code></pre>
<p>key = (x &lt;&lt; 16) | y for example</p>
<p>So that’s zero wasted space relative to amount of Tile objects created.[/quote]</p>
<p>Touché, I thought they did it that way already? I haven’t looked at the source in a year.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-24T19:51:48Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:09:34Z' class='post-time'>
              August 1, 2016,  7:09am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“force, post:5, topic:379158”][quote author=iKilem link=topic=475008.msg3476211#msg3476211 date=1295724639]</p>
<aside class="quote no-group">
<blockquote>
<p>Wtf!</p>
<p>Why not just re-write the tile function so it creates tiles WHEN needed / retrieves the tile from a pool of tile objects and deletes the tile once it is not required any more / puts it back into the pool.</p>
<p>Garbage collect will also slow your application. You can configure it to run differently instead of all in one GO you can make it increment, etc… Google it.</p>
</blockquote>
</aside>
<p>I agree, although, instead of pooling the tile objects, use a proper map structure.<br>
[/quote]</p>
<p>What? I don’t think you understand what I really ment.</p>
<p>Object pooling is a design pattern.<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://sourcemaking.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank" rel="nofollow noopener">sourcemaking.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://sourcemaking.com/index.php/files/v2/content/home-tb1.png" class="thumbnail" width="" height="">

<h3><a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank" rel="nofollow noopener">Design Patterns and Refactoring</a></h3>

<p>Design Patterns and Refactoring articles and guides. Design Patterns video tutorials for newbies. Simple descriptions and full source code examples in Java, C++, C#, PHP and Delphi.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Read that article about it.</p>
<p>It will increase in size as the server gets more activity. The idea for tiles would be to place tile back into the pool once it is not required anymore thus you are able to re-use that pool again later for another tile location.</p>
<p>Ofcourse I would limit the placing of tiles back into the pool in high traffic areas. So it would be a good idea to have a lastActivated method which tells you when the last time it was used. If it has a entity on it the lastActivated would always be within the time limit.[/quote]</p>
<p>Object pooling in Java is not valid in most cases (threads being one of the cases that it’s valid).  Creating objects generally has little overhead, on the other hand, using the logic for pooling them uses quite a bit of resources.</p>
<p>And a lastActivated method could potentioally be slower due to calling the currentTimeMillis or nanoTime methods over and over.  It might be better to just redo the calculations and remove the ones that aren’t being used every x amount of time.  That’s just speculation though, so if you do implement it, profile it.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iKilem.html'><span itemprop='name'>iKilem</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-24T20:40:47Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:09:36Z' class='post-time'>
              August 1, 2016,  7:09am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="7" data-topic="379158">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/force/40/5_1887921562df0dabfae55079ddabeb03.png" class="avatar"> force:</div>
<blockquote>
<p>Touché, I thought they did it that way already? I haven’t looked at the source in a year.</p>
</blockquote>
</aside>
<p>Well, just from looking at the code-snippet provided by the OP, it looks as though the tile objects are stored in a 2d array. My suggestion is to use a dynamic map structure (such as a hash table (java.util.HashMap)), which would save a significant amount of space.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/force.html'><span itemprop='name'>force</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-25T08:46:22Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:10:21Z' class='post-time'>
              August 1, 2016,  7:10am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“CodeForFame, post:8, topic:379158”][quote author=force link=topic=475008.msg3477003#msg3477003 date=1295782979]</p>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<p>Wtf!</p>
<p>Why not just re-write the tile function so it creates tiles WHEN needed / retrieves the tile from a pool of tile objects and deletes the tile once it is not required any more / puts it back into the pool.</p>
<p>Garbage collect will also slow your application. You can configure it to run differently instead of all in one GO you can make it increment, etc… Google it.</p>
</blockquote>
</aside>
<p>I agree, although, instead of pooling the tile objects, use a proper map structure.</p>
</blockquote>
</aside>
<p>What? I don’t think you understand what I really ment.</p>
<p>Object pooling is a design pattern.<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://sourcemaking.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank" rel="nofollow noopener">sourcemaking.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://sourcemaking.com/index.php/files/v2/content/home-tb1.png" class="thumbnail" width="" height="">

<h3><a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank" rel="nofollow noopener">Design Patterns and Refactoring</a></h3>

<p>Design Patterns and Refactoring articles and guides. Design Patterns video tutorials for newbies. Simple descriptions and full source code examples in Java, C++, C#, PHP and Delphi.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Read that article about it.</p>
<p>It will increase in size as the server gets more activity. The idea for tiles would be to place tile back into the pool once it is not required anymore thus you are able to re-use that pool again later for another tile location.</p>
<p>Ofcourse I would limit the placing of tiles back into the pool in high traffic areas. So it would be a good idea to have a lastActivated method which tells you when the last time it was used. If it has a entity on it the lastActivated would always be within the time limit.<br>
[/quote]</p>
<p>Object pooling in Java is not valid in most cases (threads being one of the cases that it’s valid).  Creating objects generally has little overhead, on the other hand, using the logic for pooling them uses quite a bit of resources.</p>
<p>And a lastActivated method could potentioally be slower due to calling the currentTimeMillis or nanoTime methods over and over.  It might be better to just redo the calculations and remove the ones that aren’t being used every x amount of time.  That’s just speculation though, so if you do implement it, profile it.[/quote]</p>
<p>You do realise you just said the exact use of the lastActivated method… :L</p>
<p>I prob wouldn’t call it lastActivated if i was actually implementing it… I’d call it something that has to do with currently being used…</p>
<pre><code class="lang-auto">boolean inUse() {
    if(object &gt; 0 || item &gt; 0 || player &gt; 0 || npc &gt; 0 || lastEntityLeft &lt; 10 minutes) {
         return true;
    } 
    return false;
}</code></pre>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-25T12:59:33Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:10:27Z' class='post-time'>
              August 1, 2016,  7:10am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“iKilem, post:4, topic:379158”][quote author=force link=topic=475008.msg3473923#msg3473923 date=1295523971]<br>
Wtf!</p>
<p>Why not just re-write the tile function so it creates tiles WHEN needed / retrieves the tile from a pool of tile objects and deletes the tile once it is not required any more / puts it back into the pool.</p>
<p>Garbage collect will also slow your application. You can configure it to run differently instead of all in one GO you can make it increment, etc… Google it.<br>
[/quote]<br>
I agree, although, instead of pooling the tile objects, use a proper map structure.[/quote]</p>
<p>You will not really see a gain in using HashMaps. The hashmap will resize itself if there are too many objects, effectively removing your initial gain.</p>
<p>[quote=“iKilem, post:4, topic:379158”][quote author=force link=topic=475008.msg3473923#msg3473923 date=1295523971]<br>
Wtf!</p>
<p>Why not just re-write the tile function so it creates tiles WHEN needed / retrieves the tile from a pool of tile objects and deletes the tile once it is not required any more / puts it back into the pool.</p>
<p>Garbage collect will also slow your application. You can configure it to run differently instead of all in one GO you can make it increment, etc… Google it.<br>
[/quote]<br>
I agree, although, instead of pooling the tile objects, use a proper map structure.[/quote]</p>
<p>There is no need to change the arrays into hash/maps. You won’t see a performance gain.</p>
<p>[quote=“force, post:5, topic:379158”][quote author=iKilem link=topic=475008.msg3476211#msg3476211 date=1295724639]</p>
<aside class="quote no-group">
<blockquote>
<p>Wtf!</p>
<p>Why not just re-write the tile function so it creates tiles WHEN needed / retrieves the tile from a pool of tile objects and deletes the tile once it is not required any more / puts it back into the pool.</p>
<p>Garbage collect will also slow your application. You can configure it to run differently instead of all in one GO you can make it increment, etc… Google it.</p>
</blockquote>
</aside>
<p>I agree, although, instead of pooling the tile objects, use a proper map structure.<br>
[/quote]</p>
<p>What? I don’t think you understand what I really ment.</p>
<p>Object pooling is a design pattern.<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://sourcemaking.com/favicon.ico" class="site-icon" width="16" height="16">
      <a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank">sourcemaking.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://sourcemaking.com/index.php/files/v2/content/home-tb1.png" class="thumbnail" width="" height="">

<h3><a href="https://sourcemaking.com/design_patterns/object_pool" target="_blank">Design Patterns and Refactoring</a></h3>

<p>Design Patterns and Refactoring articles and guides. Design Patterns video tutorials for newbies. Simple descriptions and full source code examples in Java, C++, C#, PHP and Delphi.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>Read that article about it.</p>
<p>It will increase in size as the server gets more activity. The idea for tiles would be to place tile back into the pool once it is not required anymore thus you are able to re-use that pool again later for another tile location.</p>
<p>Ofcourse I would limit the placing of tiles back into the pool in high traffic areas. So it would be a good idea to have a lastActivated method which tells you when the last time it was used. If it has a entity on it the lastActivated would always be within the time limit.[/quote]</p>
<p>The problem with tiles is simple, there are too many tile objects with 3 empty arrays in them (created and never removed). The cost comes from keeping useless objects around instead of just dumping them. Initialization isn’t an issue.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iKilem.html'><span itemprop='name'>iKilem</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-25T16:31:20Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:10:31Z' class='post-time'>
              August 1, 2016,  7:10am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Peeter, post:11, topic:379158”]You will not really see a gain in using HashMaps. The hashmap will resize itself if there are too many objects, effectively removing your initial gain.</p>
<p>There is no need to change the arrays into hash/maps. You won’t see a performance gain.[/quote]<br>
You couldn’t be more wrong. Revise your argument. A 2d array would use much more space compared to a dynamic structure, whether I have 1 tile or 2000 tiles. The problem with an array is that you have to allocate for all potential tiles, which is something like 4096*4096 (haven’t looked at source, so it may not be accurate). A HashMap would solve this.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/hm_wtf_lol_xD.html'><span itemprop='name'>hm_wtf_lol_xD</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-25T18:29:08Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:10:41Z' class='post-time'>
              August 1, 2016,  7:10am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Idiots…</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iKilem.html'><span itemprop='name'>iKilem</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-25T18:39:09Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:10:41Z' class='post-time'>
              August 1, 2016,  7:10am
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="13" data-topic="379158">
<div class="title">
<div class="quote-controls"></div>
 hm wtf lol xD:</div>
<blockquote>
<p>Idiots…</p>
</blockquote>
</aside>
<p>You’ll have to elaborate just a little bit on what you mean by that.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/hm_wtf_lol_xD.html'><span itemprop='name'>hm_wtf_lol_xD</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-25T19:02:28Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:10:43Z' class='post-time'>
              August 1, 2016,  7:10am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“iKilem, post:14, topic:379158”][quote author=hm wtf lol xD link=topic=475008.msg3479343#msg3479343 date=1295980148]<br>
Idiots…<br>
[/quote]<br>
You’ll have to elaborate just a little bit on what you mean by that.[/quote]All I really do have to say at this is idiots, If you really knew how to do it currently you would of done it by now…</p>
<p>Here is a suggestion to you all</p>
<p>Right click RSCD… press delete. Confirm you want to delete it</p>
<p>Right Click &gt; New Folder &gt; Name &gt; RSC Remake… Even a project what has not been started it a lot better than that shit.</p>
<p>I shall not waste my time to explain how to fix or improve this stupid source because it is worth not one persons time</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iKilem.html'><span itemprop='name'>iKilem</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-25T19:08:15Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:10:43Z' class='post-time'>
              August 1, 2016,  7:10am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“hm wtf lol xD, post:15, topic:379158”][quote author=iKilem link=topic=475008.msg3479356#msg3479356 date=1295980749]</p>
<aside class="quote no-group">
<blockquote>
<p>Idiots…</p>
</blockquote>
</aside>
<p>You’ll have to elaborate just a little bit on what you mean by that.<br>
[/quote]All I really do have to say at this is idiots, If you really knew how to do it currently you would of done it by now…</p>
<p>Here is a suggestion to you all</p>
<p>Right click RSCD… press delete. Confirm you want to delete it</p>
<p>Right Click &gt; New Folder &gt; Name &gt; RSC Remake… Even a project what has not been started it a lot better than that shit.</p>
<p>I shall not waste my time to explain how to fix or improve this stupid source because it is worth not one persons time[/quote]<br>
Oh, you were talking about the actual thread… fair enough. I don’t use RSCD or any other public base, so I guess it doesn’t apply to me.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-25T20:44:19Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:10:55Z' class='post-time'>
              August 1, 2016,  7:10am
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>only keep tiles alive for ones with entities on them. problem solved.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/IlikeArrays.html'><span itemprop='name'>IlikeArrays</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-25T21:50:43Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:11:02Z' class='post-time'>
              August 1, 2016,  7:11am
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“hm wtf lol xD, post:15, topic:379158”]Right click RSCD… press delete. Confirm you want to delete it<br>
Right Click &gt; New Folder &gt; Name &gt; RSC Remake…[/quote]</p>
<p>Right on the dot.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-25T22:41:27Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:11:05Z' class='post-time'>
              August 1, 2016,  7:11am
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“iKilem, post:12, topic:379158”][quote author=Peeter link=topic=475008.msg3479193#msg3479193 date=1295960373]<br>
You will not really see a gain in using HashMaps. The hashmap will resize itself if there are too many objects, effectively removing your initial gain.</p>
<p>There is no need to change the arrays into hash/maps. You won’t see a performance gain.<br>
[/quote]<br>
You couldn’t be more wrong. Revise your argument. A 2d array would use much more space compared to a dynamic structure, whether I have 1 tile or 2000 tiles. The problem with an array is that you have to allocate for all potential tiles, which is something like 4096*4096 (haven’t looked at source, so it may not be accurate). A HashMap would solve this.[/quote]</p>
<p>You do realize a hashmap has an internal array that is rather large to prevent collisions? HashMap is good, but not everywhere.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-26T10:50:58Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:11:28Z' class='post-time'>
              August 1, 2016,  7:11am
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“force, post:10, topic:379158”][quote author=CodeForFame link=topic=475008.msg3478463#msg3478463 date=1295898708]</p>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<p>Wtf!</p>
<p>Why not just re-write the tile function so it creates tiles WHEN needed / retrieves the tile from a pool of tile objects and deletes the tile once it is not required any more / puts it back into the pool.</p>
<p>Garbage collect will also slow your application. You can configure it to run differently instead of all in one GO you can make it increment, etc… Google it.</p>
</blockquote>
</aside>
<p>I agree, although, instead of pooling the tile objects, use a proper map structure.</p>
</blockquote>
</aside>
<p>What? I don’t think you understand what I really ment.</p>
<p>Object pooling is a design pattern.<br>
<a href="http://sourcemaking.com/design_patterns/object_pool" rel="nofollow noopener">http://sourcemaking.com/design_patterns/object_pool</a></p>
<p>Read that article about it.</p>
<p>It will increase in size as the server gets more activity. The idea for tiles would be to place tile back into the pool once it is not required anymore thus you are able to re-use that pool again later for another tile location.</p>
<p>Ofcourse I would limit the placing of tiles back into the pool in high traffic areas. So it would be a good idea to have a lastActivated method which tells you when the last time it was used. If it has a entity on it the lastActivated would always be within the time limit.</p>
</blockquote>
</aside>
<p>Object pooling in Java is not valid in most cases (threads being one of the cases that it’s valid).  Creating objects generally has little overhead, on the other hand, using the logic for pooling them uses quite a bit of resources.</p>
<p>And a lastActivated method could potentioally be slower due to calling the currentTimeMillis or nanoTime methods over and over.  It might be better to just redo the calculations and remove the ones that aren’t being used every x amount of time.  That’s just speculation though, so if you do implement it, profile it.<br>
[/quote]</p>
<p>You do realise you just said the exact use of the lastActivated method… :L</p>
<p>I prob wouldn’t call it lastActivated if i was actually implementing it… I’d call it something that has to do with currently being used…</p>
<p><code>
boolean inUse() {
    if(object &gt; 0 || item &gt; 0 || player &gt; 0 || npc &gt; 0 || lastEntityLeft &lt; 10 minutes) {
         return true;
    } 
    return false;
}
</code>[/quote]<br>
No I didn’t…</p>
<p>lastActivated would be set every time a tile was used again, and you’d be do a call to get the time.  So, every time a user moves it makes an expensive call, compared to what I described, which does a recalculation of active tiles.</p>
<p>The only reason I would be hesitant to remove inactive tiles instantly is because if there are a large number of people constantly moving, along with NPCs it would probably be better to just let them stay in memory for a bit, rather than having to re-create the tiles.</p>
      </div>

      <meta itemprop='headline' content='Garbage collect'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="3791584658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/garbage-collect/379158 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 07:29:12 GMT -->
</html>
