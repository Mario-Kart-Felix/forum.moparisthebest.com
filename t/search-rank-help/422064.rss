<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Search Rank Help</title>
    <link>https://forum.moparisthebest.com/t/search-rank-help/422064</link>
    <description>How would I make a find rank search work using my code?  It&#39;s the only thing I have left, and I could hand you all my code, if you like.  I&#39;ve been thinking of how to do it, but I can&#39;t think.  I have correct paging in the hiscores: http://hiscore.sshiscores.info  Everything works but the search rank, also I have to make activities, that&#39;s easy though.  I just need a search rank option to be able to work.  Here&#39;s the code if you need it : [code=php]function SkillHiscores() 
{
        include &quot;mysql.php&quot;;
        if(!$top_hiscore) { $top_hiscore = &quot;101&quot;; }
                echo &#39;
					&lt;table border=&quot;0&quot; width=&quot;100%&quot;&gt;
					&lt;div class=&quot;tableContainer&quot;&gt;
					&lt;div class=&quot;tableHeader&quot;&gt;
					&lt;span class=&quot;rankColumn&quot;&gt;
					&lt;span class=&quot;Olde&quot;&gt;Rank&lt;/span&gt;
					&lt;/span&gt;
					&lt;span class=&quot;nameColumn&quot;&gt;
					&lt;span class=&quot;Olde&quot;&gt;Name&lt;/span&gt;
					&lt;/span&gt;
					&lt;span class=&quot;levelColumn&quot;&gt;
					&lt;span class=&quot;Olde&quot;&gt;Level&lt;/span&gt;
					&lt;/span&gt;
					&lt;span class=&quot;xpColumn&quot;&gt;
					&lt;span class=&quot;Olde&quot;&gt;XP&lt;/span&gt;
					&lt;/span&gt;
					&lt;/div&gt;&#39;;
					
		$xp = findTest($table).&quot;xp&quot;;
		$per_page = 22;
		$from_where=&quot;FROM skills&quot;;
		$sql = &quot;SELECT count(*) &quot;.$from_where;
		$res = mysql_query($sql) or trigger_error(mysql_error().&quot; in &quot;.$sql);
		$row = mysql_fetch_row($res);
		$total_rows = $row[0];


		if (isset($_GET[&#39;page&#39;])) $CUR_PAGE = intval($_GET[&#39;page&#39;]); else $CUR_PAGE=1;
		$start = abs(($CUR_PAGE-1)*$per_page);

		$sql = &quot;SELECT * $from_where ORDER BY $xp DESC LIMIT $start,$per_page&quot;;
		$res = mysql_query($sql) or trigger_error(mysql_error().&quot; in &quot;.$sql);
		while ($row = @mysql_fetch_array($res)) $DATA[++$start]=$row;

		$uri = strtok($_SERVER[&#39;REQUEST_URI&#39;],&quot;?&quot;).&quot;?&quot;;    
		$tmpget = $_GET;
		unset($tmpget[&#39;page&#39;]);
		if ($tmpget) {
			$uri .= http_build_query($tmpget).&quot;&amp;&quot;;
		}    
		$num_pages= @ceil($total_rows/$per_page);
		for($i=1;$i&lt;=$num_pages;$i++) $PAGES[$i]=$uri.&#39;page=&#39;.$i;
			foreach ($DATA as $i =&gt; $row)
			{
					//for($rank=1;$rank
					$rank = $i;
				
                if($i &lt; $top_hiscore) 
				{
					if($_GET[&#39;user&#39;] == $row[&quot;playerName&quot;] || $_GET[&#39;rank&#39;] == $i)
					{

							echo &#39;
								&lt;a href=&quot;http://hiscore.sshiscores.info/compare.php?user=&#39;.$row[&quot;playerName&quot;].&#39;&quot; class=&quot;tableRow tableRowSelected&quot;&gt;
								&lt;span class=&quot;rankColumn&quot;&gt;
								&lt;span&gt;&#39;.$rank.&#39;&lt;/span&gt;
								&lt;/span&gt;
								&lt;span class=&quot;nameColumn&quot;&gt;
								&lt;span&gt;&#39;.BBCode($row[&quot;playerName&quot;]).&#39;&lt;/span&gt;
								&lt;/span&gt;
								&lt;span class=&quot;levelColumn&quot;&gt;
								&lt;span&gt;&#39;.getLevelForXP($row[$xp]).&#39;&lt;/span&gt;
								&lt;/span&gt;
								&lt;span class=&quot;xpColumn&quot;&gt;
								&lt;span&gt;&#39;.dots($row[$xp]).&#39;&lt;/span&gt;
								&lt;/span&gt;
								&lt;/a&gt;&#39;;

					} else if($i &amp; 1) 
					{

							echo&#39;
								&lt;a href=&quot;http://hiscore.sshiscores.info/compare.php?user=&#39;.$row[&quot;playerName&quot;].&#39;&quot; class=&quot;tableRow&quot;&gt;
								&lt;span class=&quot;rankColumn&quot;&gt;
								&lt;span&gt;&#39;.$rank.&#39;&lt;/span&gt;
								&lt;/span&gt;
								&lt;span class=&quot;nameColumn&quot;&gt;
								&lt;span&gt;&#39;.BBCode($row[&quot;playerName&quot;]).&#39;&lt;/span&gt;
								&lt;/span&gt;
								&lt;span class=&quot;levelColumn&quot;&gt;
								&lt;span&gt;&#39;.getLevelForXP($row[$xp]).&#39;&lt;/span&gt;
								&lt;/span&gt;
								&lt;span class=&quot;xpColumn&quot;&gt;
								&lt;span&gt;&#39;.dots($row[$xp]).&#39;&lt;/span&gt;
								&lt;/span&gt;
								&lt;/a&gt;&#39;;
						
					} else 
					{
						echo&#39;
							&lt;a href=&quot;http://hiscore.sshiscores.info/compare.php?user=&#39;.$row[&quot;playerName&quot;].&#39;&quot; class=&quot;tableRow&quot;&gt;
							&lt;span class=&quot;rankColumn&quot;&gt;
							&lt;span&gt;&#39;.$rank.&#39;&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class=&quot;nameColumn&quot;&gt;
							&lt;span&gt;&#39;.BBCode($row[&quot;playerName&quot;]).&#39;&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class=&quot;levelColumn&quot;&gt;
							&lt;span&gt;&#39;.getLevelForXP($row[$xp]).&#39;&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class=&quot;xpColumn&quot;&gt;
							&lt;span&gt;&#39;.dots($row[$xp]).&#39;&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;&#39;;
                
                
					}
				}
            }
	 echo&quot;
		&lt;/td&gt;
		&lt;/tr&gt;
		&lt;/table&gt;&quot;;
		
		$next = $CUR_PAGE+1;
		$last = $CUR_PAGE-1;
			echo&#39;
				&lt;div class=&quot;hiscoresPagingBottom&quot;&gt;
				&lt;div class=&quot;searchRank&quot;&gt;
				&lt;form class=&quot;SearchForm&quot; action=&quot;overall.php&quot;&gt;
				&lt;input name=&quot;category_type&quot; type=&quot;hidden&quot; value=&quot;0&quot;&gt;
				&lt;input name=&quot;table&quot; type=&quot;hidden&quot; value=&quot;&#39;.$_GET[&#39;table&#39;].&#39;&quot;&gt;
			
				&lt;span class=&quot;Label&quot;&gt;Search rank:&lt;/span&gt;
				&lt;span class=&quot;Input&quot;&gt;
				&lt;input type=&quot;text&quot; name=&quot;rank&quot; placeholder=&quot;&quot; maxlength=&quot;7&quot; size=&quot;7&quot; value=&quot;&quot; id=&quot;rank&quot;&gt;
				&lt;/span&gt;
				&lt;span class=&quot;Input_right&quot;&gt;&lt;/span&gt;
				&lt;div class=&quot;SelectButton&quot;&gt;
				&lt;button type=&quot;submit&quot; value=&quot;submit&quot; name=&quot;button&quot;&gt;
				&lt;img class=&quot;&quot; alt=&quot;Search&quot; title=&quot;Search&quot; src=&quot;http://hiscore.sshiscores.info/images/PageControlSearch.png?0&quot;&gt;
				&lt;/button&gt;
				&lt;input type=&quot;hidden&quot; name=&quot;submit&quot; value=&quot;submit&quot;&gt;
				&lt;/div&gt; 
				&lt;/form&gt;
				&lt;/div&gt;&#39;;

if($CUR_PAGE &lt; $num_pages){
	echo&#39;
		&lt;div id=&quot;PageControl_2010&quot; class=&quot;PageControl&quot;&gt;
		&lt;div class=&quot;RightButtons&quot;&gt;
		&lt;a href=&quot;overall.php?page=&#39;.$next.&#39;&amp;amp;table=&#39;.$_GET[&#39;table&#39;].&#39;&amp;amp;category_type=0&quot; class=&quot;next&quot;&gt;
		&lt;img class=&quot;&quot; alt=&quot;Next&quot; title=&quot;Next&quot; src=&quot;http://hiscore.sshiscores.info/images/PageControlSearch.png?0&quot;&gt;
		&lt;/a&gt;
		&lt;a href=&quot;overall.php?page=&#39;.$num_pages.&#39;&amp;amp;table=&#39;.$_GET[&#39;table&#39;].&#39;&amp;amp;category_type=0&quot; class=&quot;last&quot;&gt;
		&lt;img class=&quot;&quot; alt=&quot;Last&quot; title=&quot;Last&quot; src=&quot;http://hiscore.sshiscores.info/images/PageControlSearch.png?0&quot;&gt;
		&lt;/a&gt;
		&lt;/div&gt;&#39;;
} else if($CUR_PAGE == $num_pages){
	echo&#39;	
		&lt;div id=&quot;PageControl_2010&quot; class=&quot;PageControl&quot;&gt;
		&lt;div class=&quot;RightButtons&quot;&gt;
		&lt;/div&gt;&#39;;
}
    echo&#39;
        &lt;form class=&quot;Dispinline&quot; action=&quot;overall.php&quot;&gt;
        &lt;input type=&quot;hidden&quot; id=&quot;numpages&quot; class=&quot;numpages&quot; value=&quot;&#39;.$num_pages.&#39;&quot;&gt;
        &lt;input type=&quot;hidden&quot; class=&quot;currentpage&quot; id=&quot;currentpage&quot; value=&quot;&#39;.$CUR_PAGE.&#39;&quot;&gt; &lt;span&gt;Page&lt;/span&gt; &lt;input type=&quot;text&quot; class=&quot;textinput Changepage&quot; id=&quot;page&quot; name=&quot;page&quot; size=&quot;2&quot; maxlength=&quot;5&quot; value=&quot;&#39;.$CUR_PAGE.&#39;&quot;&gt;&amp;nbsp;&lt;span class=&quot;numpages&quot;&gt;of &lt;b&gt;&#39;.$num_pages.&#39;&lt;/b&gt;&lt;/span&gt;
        &lt;input type=&quot;submit&quot; class=&quot;Submit&quot; value=&quot;Submit&quot;&gt;
        &lt;/form&gt;&#39;;
if($CUR_PAGE &gt; 1)
	echo&#39;
		&lt;div class=&quot;LeftButtons&quot;&gt;
		&lt;a href=&quot;overall.php?page=1&amp;amp;table=&#39;.$_GET[&#39;table&#39;].&#39;&amp;amp;category_type=0&quot; class=&quot;first&quot;&gt;
		&lt;img class=&quot;&quot; alt=&quot;First&quot; title=&quot;First&quot; src=&quot;http://hiscore.sshiscores.info/images/PageControlSearch.png?0&quot;&gt;&lt;/a&gt;
		&lt;a href=&quot;overall.php?page=&#39;.$last.&#39;&amp;amp;table=&#39;.$_GET[&#39;table&#39;].&#39;&amp;amp;category_type=0&quot; class=&quot;previous&quot;&gt;
		&lt;img class=&quot;&quot; alt=&quot;Previous&quot; title=&quot;Previous&quot; src=&quot;http://hiscore.sshiscores.info/images/PageControlSearch.png?0&quot;&gt;
		&lt;/a&gt;
		&lt;/div&gt;
		&lt;/div&gt;&lt;/div&gt;&#39;;
else
	echo&#39;
		&lt;div class=&quot;LeftButtons&quot;&gt;
		&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#39;;               
}[/code]</description>
    
    <lastBuildDate>Mon, 21 Nov 2011 02:02:23 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/search-rank-help/422064.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>[quote=“eyeownyew, post:10, topic:422064”][quote author=sageofmali link=topic=524744.msg3820471#msg3820471 date=1321734121]<br>
You never said to do that before, and it didn’t work.<br>
[/quote][quote author=eyeownyew link=topic=524744.msg3819509#msg3819509 date=1321653660]</p>
<aside class="quote">
<blockquote>
<p>Well, yeah.  I want it to go to the page the rank is on.  Like if you go to my hiscores or rs’s you’ll see.</p>
</blockquote>
</aside>
<p>floor(xxxx/20) = page number.<br>
[/quote]<br>
Ever used that in Java? Or, where’s the floor? -.- <em>Hint: Down!</em>[/quote]<br>
Floor didn’t work as well, I tried that a while ago.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/11</link>
        <pubDate>Mon, 21 Nov 2011 02:02:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-11</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="9" data-topic="422064">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/sageofmali/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sageofmali:</div>
<blockquote>
<p>You never said to do that before, and it didn’t work.</p>
</blockquote>
</aside>
<p>Well, yeah.  I want it to go to the page the rank is on.  Like if you go to my hiscores or rs’s you’ll see.<br>
[/quote]<br>
floor(xxxx/20) = page number.[/quote]<br>
Ever used that in Java? Or, where’s the floor? -.- <em>Hint: Down!</em></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/10</link>
        <pubDate>Sat, 19 Nov 2011 22:57:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-10</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>[quote=“eyeownyew, post:8, topic:422064”][quote author=sageofmali link=topic=524744.msg3820262#msg3820262 date=1321718075]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Well, yeah.  I want it to go to the page the rank is on.  Like if you go to my hiscores or rs’s you’ll see.</p>
</blockquote>
</aside>
<p>Not really sure where to put any of this… But, think logically. If there’s 20 players per page (I think), and the rank is xxxx, floor(xxxx/20) = page number.<br>
[/quote]I’ll try that, it looks like it will work.<br>
Edit: I just can’t seem to get it right. It’s hard to explain, you’ll have to look at my code and hiscores. [code=php]function roundBetter($number, $precision = 0, $mode = PHP_ROUND_HALF_UP, $direction = NULL) {<br>
if (!isset($direction) || is_null($direction)) {<br>
return round($number, $precision, $mode);<br>
}</p>
<pre><code>else { 
    $factor = pow(10, -1 * $precision); 

    return strtolower(substr($direction, 0, 1)) == 'd' 
        ? floor($number / $factor) * $factor 
        : ceil($number / $factor) * $factor; 
} 
</code></pre>
<p>}</p>
<p>// roundBetterUp(1999, -3) =&gt; 2000<br>
// roundBetterUp(1001, -3) =&gt; 2000<br>
function roundBetterUp($number, $precision = 0, $mode = PHP_ROUND_HALF_UP) {<br>
return roundBetter($number, $precision, $mode, ‘up’);<br>
}</p>
<p>// roundBetterDown(1999, -3) =&gt; 1000<br>
// roundBetterDown(1001, -3) =&gt; 1000<br>
function roundBetterDown($number, $precision = 0, $mode = PHP_ROUND_HALF_UP) {<br>
return roundBetter($number, $precision, $mode, ‘down’);<br>
}<br>
function OverallHiscore()<br>
{<br>
include “mysql.php”;<br>
if(!$top_hiscore) { $top_hiscore = “101”; }<br>
echo ’<br>
</p>
<table>
<br>
<div>
<br>
<div>
<br>
<span><br>
<span>Rank</span><br>
</span><br>
<span><br>
<span>Name</span><br>
</span><br>
<span><br>
<span>Level</span><br>
</span><br>
<span><br>
<span>XP</span><br>
</span><br>
</div>';
<pre><code>	$per_page = 22;
	$from_where="FROM skillsoverall WHERE lvl &gt; '1'";
	$sql = "SELECT count(*) ".$from_where;
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	$row = mysql_fetch_row($res);
	$total_rows = $row[0];


	if (isset($_GET['page'])) $CUR_PAGE = intval($_GET['page']); else $CUR_PAGE=1;
	$start = abs(($CUR_PAGE-1)*$per_page);

	$sql = "SELECT * $from_where ORDER BY lvl DESC, xp DESC LIMIT $start,$per_page";
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	while ($row = @mysql_fetch_array($res)) $DATA[++$start]=$row;

	$uri = strtok($_SERVER['REQUEST_URI'],"?")."?";    
	$tmpget = $_GET;
	unset($tmpget['page']);
	if ($tmpget) {
		$uri .= http_build_query($tmpget)."&amp;";
	}    
	$num_pages= @ceil($total_rows/$per_page);
	for($i=1;$i&lt;=$num_pages;$i++) $PAGES[$i]=$uri.'page='.$i;
		foreach ($DATA as $i =&gt; $row)
		{
				//for($rank=1;$rank
				$rank = $i;
			
            if($i &lt; $top_hiscore) 
			{
				if($_GET['user'] == $row["playerName"] || $_GET['rank'] == $i)
				{
					if($row["lvl"] &gt; 29)
					{
						echo '
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow tableRowSelected"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					} else if($row["lvl"] &lt; 30)
					{ 
						echo'
							&lt;span class="playerValueLeftColumn notRankedColumn"&gt;
							&lt;span&gt;Not Ranked&lt;/span&gt;
							&lt;/span&gt;';
					}
				} else if($i &amp; 1) 
				{
					if($row["lvl"] &gt; 29)
					{
						echo'
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					}else if($row["lvl"] &lt; 30)
					{ 
						echo'
							&lt;span class="playerValueLeftColumn notRankedColumn"&gt;
							&lt;span&gt;Not Ranked&lt;/span&gt;
							&lt;/span&gt;';
					}
				} else 
				{
					echo'
						&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
						&lt;span class="rankColumn"&gt;
						&lt;span&gt;'.$rank.'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="nameColumn"&gt;
						&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="levelColumn"&gt;
						&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="xpColumn"&gt;
						&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;/a&gt;';
            
            
				}
			}
        }
 echo"
	&lt;/td&gt;
	&lt;/tr&gt;
	&lt;/table&gt;";
		
		//if($work &gt;= 1.5) $CUR_PAGE = round($work, 0)+1;
		//else $CUR_PAGE = round($work, 0)+1;
		$current = $_GET['page'];
		$CUR_PAGE2 = roundBetterUp(($_GET['rank']/$per_page));
		$next = $CUR_PAGE+1;
		$last = $CUR_PAGE-1;
	
		echo'
			&lt;div class="hiscoresPagingBottom"&gt;
			&lt;div class="searchRank"&gt;
			&lt;form class="SearchForm" action="overall.php"&gt;
			&lt;input name="category_type" type="hidden" value="0"&gt;
			&lt;input name="table" type="hidden" value="0"&gt;

			&lt;span class="Label"&gt;Search rank'.$CUR_PAGE2.':&lt;/span&gt;
			&lt;span class="Input"&gt;
			&lt;input type="text" name="rank" placeholder="" maxlength="7" size="7" value="" id="rank"&gt;
			&lt;/span&gt;
			&lt;input name="page" type="hidden" value="'.$CUR_PAGE2.'"&gt;
			&lt;span class="Input_right"&gt;&lt;/span&gt;
			&lt;div class="SelectButton"&gt;
			&lt;button type="submit" value="submit" name="button"&gt;
			&lt;img class="" alt="Search" title="Search" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"&gt;
			&lt;/button&gt;
			&lt;input type="hidden" name="submit" value="submit"&gt;
			&lt;/div&gt; 
			&lt;/form&gt;
			&lt;/div&gt;';
</code></pre>
<p>if($CUR_PAGE &lt; $num_pages){<br>
echo’<br>
</p>
<div>
<br>
<div>
<br>
<a><br>
<img alt="Next" title="Next" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"><br>
</a><br>
<a><br>
<img alt="Last" title="Last" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"><br>
</a><br>
</div>‘;<br>
} else if($CUR_PAGE == $num_pages){<br>
echo’	<br>
<div>
<br>
<div>
<br>
</div>‘;<br>
}<br>
echo’<br>
<br>
<br>
 <span>Page</span>  <span>of <b>‘.$num_pages.’</b></span><br>
<br>
‘;<br>
if($CUR_PAGE &gt; 1)<br>
echo’<br>
<div>
<br>
<a><br>
<img alt="First" title="First" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"></a><br>
<a><br>
<img alt="Previous" title="Previous" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"><br>
</a><br>
</div>
<br>
</div>
</div>‘;<br>
else<br>
echo’<br>
<div>
<br>
</div>
</div>';<br>
}[/code]


<p>It worked perfectly when I tried it.</p>


<p>Not necessarily.  The pages get messed up on the page changer.   And if you search for something on page1 while you’re on the first page, it goes to the next page still.</p>


<p>Like I said, round down. Not up. If you choose a rank above 9, it would go to the second page.[/quote]<br>
You never said to do that before, and it didn’t work.</p>
</table>
</blockquote></aside>
</blockquote></aside>
</blockquote></aside>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/9</link>
        <pubDate>Sat, 19 Nov 2011 20:22:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-9</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <p>[quote=“sageofmali, post:7, topic:422064”][quote author=eyeownyew link=topic=524744.msg3820193#msg3820193 date=1321712419]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Well, yeah.  I want it to go to the page the rank is on.  Like if you go to my hiscores or rs’s you’ll see.</p>
</blockquote>
</aside>
<p>Not really sure where to put any of this… But, think logically. If there’s 20 players per page (I think), and the rank is xxxx, floor(xxxx/20) = page number.<br>
[/quote]I’ll try that, it looks like it will work.<br>
Edit: I just can’t seem to get it right. It’s hard to explain, you’ll have to look at my code and hiscores. [code=php]function roundBetter($number, $precision = 0, $mode = PHP_ROUND_HALF_UP, $direction = NULL) {<br>
if (!isset($direction) || is_null($direction)) {<br>
return round($number, $precision, $mode);<br>
}</p>
<pre><code>else { 
    $factor = pow(10, -1 * $precision); 

    return strtolower(substr($direction, 0, 1)) == 'd' 
        ? floor($number / $factor) * $factor 
        : ceil($number / $factor) * $factor; 
} 
</code></pre>
<p>}</p>
<p>// roundBetterUp(1999, -3) =&gt; 2000<br>
// roundBetterUp(1001, -3) =&gt; 2000<br>
function roundBetterUp($number, $precision = 0, $mode = PHP_ROUND_HALF_UP) {<br>
return roundBetter($number, $precision, $mode, ‘up’);<br>
}</p>
<p>// roundBetterDown(1999, -3) =&gt; 1000<br>
// roundBetterDown(1001, -3) =&gt; 1000<br>
function roundBetterDown($number, $precision = 0, $mode = PHP_ROUND_HALF_UP) {<br>
return roundBetter($number, $precision, $mode, ‘down’);<br>
}<br>
function OverallHiscore()<br>
{<br>
include “mysql.php”;<br>
if(!$top_hiscore) { $top_hiscore = “101”; }<br>
echo ’<br>
</p>
<table>
<br>
<div>
<br>
<div>
<br>
<span><br>
<span>Rank</span><br>
</span><br>
<span><br>
<span>Name</span><br>
</span><br>
<span><br>
<span>Level</span><br>
</span><br>
<span><br>
<span>XP</span><br>
</span><br>
</div>';
<pre><code>	$per_page = 22;
	$from_where="FROM skillsoverall WHERE lvl &gt; '1'";
	$sql = "SELECT count(*) ".$from_where;
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	$row = mysql_fetch_row($res);
	$total_rows = $row[0];


	if (isset($_GET['page'])) $CUR_PAGE = intval($_GET['page']); else $CUR_PAGE=1;
	$start = abs(($CUR_PAGE-1)*$per_page);

	$sql = "SELECT * $from_where ORDER BY lvl DESC, xp DESC LIMIT $start,$per_page";
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	while ($row = @mysql_fetch_array($res)) $DATA[++$start]=$row;

	$uri = strtok($_SERVER['REQUEST_URI'],"?")."?";    
	$tmpget = $_GET;
	unset($tmpget['page']);
	if ($tmpget) {
		$uri .= http_build_query($tmpget)."&amp;";
	}    
	$num_pages= @ceil($total_rows/$per_page);
	for($i=1;$i&lt;=$num_pages;$i++) $PAGES[$i]=$uri.'page='.$i;
		foreach ($DATA as $i =&gt; $row)
		{
				//for($rank=1;$rank
				$rank = $i;
			
            if($i &lt; $top_hiscore) 
			{
				if($_GET['user'] == $row["playerName"] || $_GET['rank'] == $i)
				{
					if($row["lvl"] &gt; 29)
					{
						echo '
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow tableRowSelected"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					} else if($row["lvl"] &lt; 30)
					{ 
						echo'
							&lt;span class="playerValueLeftColumn notRankedColumn"&gt;
							&lt;span&gt;Not Ranked&lt;/span&gt;
							&lt;/span&gt;';
					}
				} else if($i &amp; 1) 
				{
					if($row["lvl"] &gt; 29)
					{
						echo'
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					}else if($row["lvl"] &lt; 30)
					{ 
						echo'
							&lt;span class="playerValueLeftColumn notRankedColumn"&gt;
							&lt;span&gt;Not Ranked&lt;/span&gt;
							&lt;/span&gt;';
					}
				} else 
				{
					echo'
						&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
						&lt;span class="rankColumn"&gt;
						&lt;span&gt;'.$rank.'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="nameColumn"&gt;
						&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="levelColumn"&gt;
						&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="xpColumn"&gt;
						&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;/a&gt;';
            
            
				}
			}
        }
 echo"
	&lt;/td&gt;
	&lt;/tr&gt;
	&lt;/table&gt;";
		
		//if($work &gt;= 1.5) $CUR_PAGE = round($work, 0)+1;
		//else $CUR_PAGE = round($work, 0)+1;
		$current = $_GET['page'];
		$CUR_PAGE2 = roundBetterUp(($_GET['rank']/$per_page));
		$next = $CUR_PAGE+1;
		$last = $CUR_PAGE-1;
	
		echo'
			&lt;div class="hiscoresPagingBottom"&gt;
			&lt;div class="searchRank"&gt;
			&lt;form class="SearchForm" action="overall.php"&gt;
			&lt;input name="category_type" type="hidden" value="0"&gt;
			&lt;input name="table" type="hidden" value="0"&gt;

			&lt;span class="Label"&gt;Search rank'.$CUR_PAGE2.':&lt;/span&gt;
			&lt;span class="Input"&gt;
			&lt;input type="text" name="rank" placeholder="" maxlength="7" size="7" value="" id="rank"&gt;
			&lt;/span&gt;
			&lt;input name="page" type="hidden" value="'.$CUR_PAGE2.'"&gt;
			&lt;span class="Input_right"&gt;&lt;/span&gt;
			&lt;div class="SelectButton"&gt;
			&lt;button type="submit" value="submit" name="button"&gt;
			&lt;img class="" alt="Search" title="Search" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"&gt;
			&lt;/button&gt;
			&lt;input type="hidden" name="submit" value="submit"&gt;
			&lt;/div&gt; 
			&lt;/form&gt;
			&lt;/div&gt;';
</code></pre>
<p>if($CUR_PAGE &lt; $num_pages){<br>
echo’<br>
</p>
<div>
<br>
<div>
<br>
<a><br>
<img alt="Next" title="Next" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"><br>
</a><br>
<a><br>
<img alt="Last" title="Last" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"><br>
</a><br>
</div>‘;<br>
} else if($CUR_PAGE == $num_pages){<br>
echo’	<br>
<div>
<br>
<div>
<br>
</div>‘;<br>
}<br>
echo’<br>
<br>
<br>
 <span>Page</span>  <span>of <b>‘.$num_pages.’</b></span><br>
<br>
‘;<br>
if($CUR_PAGE &gt; 1)<br>
echo’<br>
<div>
<br>
<a><br>
<img alt="First" title="First" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"></a><br>
<a><br>
<img alt="Previous" title="Previous" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"><br>
</a><br>
</div>
<br>
</div>
</div>‘;<br>
else<br>
echo’<br>
<div>
<br>
</div>
</div>';<br>
}[/code]


<p>It worked perfectly when I tried it.</p>


<p>Not necessarily.  The pages get messed up on the page changer.   And if you search for something on page1 while you’re on the first page, it goes to the next page still.[/quote]<br>
Like I said, round down. Not up. If you choose a rank above 9, it would go to the second page.</p>
</table>
</blockquote></aside>
</blockquote></aside>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/8</link>
        <pubDate>Sat, 19 Nov 2011 18:27:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-8</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>[quote=“eyeownyew, post:6, topic:422064”][quote author=sageofmali link=topic=524744.msg3819788#msg3819788 date=1321668539]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Well, yeah.  I want it to go to the page the rank is on.  Like if you go to my hiscores or rs’s you’ll see.</p>
</blockquote>
</aside>
<p>Not really sure where to put any of this… But, think logically. If there’s 20 players per page (I think), and the rank is xxxx, floor(xxxx/20) = page number.<br>
[/quote]I’ll try that, it looks like it will work.<br>
Edit: I just can’t seem to get it right. It’s hard to explain, you’ll have to look at my code and hiscores. [code=php]function roundBetter($number, $precision = 0, $mode = PHP_ROUND_HALF_UP, $direction = NULL) {<br>
if (!isset($direction) || is_null($direction)) {<br>
return round($number, $precision, $mode);<br>
}</p>
<pre><code>else { 
    $factor = pow(10, -1 * $precision); 

    return strtolower(substr($direction, 0, 1)) == 'd' 
        ? floor($number / $factor) * $factor 
        : ceil($number / $factor) * $factor; 
} 
</code></pre>
<p>}</p>
<p>// roundBetterUp(1999, -3) =&gt; 2000<br>
// roundBetterUp(1001, -3) =&gt; 2000<br>
function roundBetterUp($number, $precision = 0, $mode = PHP_ROUND_HALF_UP) {<br>
return roundBetter($number, $precision, $mode, ‘up’);<br>
}</p>
<p>// roundBetterDown(1999, -3) =&gt; 1000<br>
// roundBetterDown(1001, -3) =&gt; 1000<br>
function roundBetterDown($number, $precision = 0, $mode = PHP_ROUND_HALF_UP) {<br>
return roundBetter($number, $precision, $mode, ‘down’);<br>
}<br>
function OverallHiscore()<br>
{<br>
include “mysql.php”;<br>
if(!$top_hiscore) { $top_hiscore = “101”; }<br>
echo ’<br>
</p>
<table>
<br>
<div>
<br>
<div>
<br>
<span><br>
<span>Rank</span><br>
</span><br>
<span><br>
<span>Name</span><br>
</span><br>
<span><br>
<span>Level</span><br>
</span><br>
<span><br>
<span>XP</span><br>
</span><br>
</div>';
<pre><code>	$per_page = 22;
	$from_where="FROM skillsoverall WHERE lvl &gt; '1'";
	$sql = "SELECT count(*) ".$from_where;
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	$row = mysql_fetch_row($res);
	$total_rows = $row[0];


	if (isset($_GET['page'])) $CUR_PAGE = intval($_GET['page']); else $CUR_PAGE=1;
	$start = abs(($CUR_PAGE-1)*$per_page);

	$sql = "SELECT * $from_where ORDER BY lvl DESC, xp DESC LIMIT $start,$per_page";
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	while ($row = @mysql_fetch_array($res)) $DATA[++$start]=$row;

	$uri = strtok($_SERVER['REQUEST_URI'],"?")."?";    
	$tmpget = $_GET;
	unset($tmpget['page']);
	if ($tmpget) {
		$uri .= http_build_query($tmpget)."&amp;";
	}    
	$num_pages= @ceil($total_rows/$per_page);
	for($i=1;$i&lt;=$num_pages;$i++) $PAGES[$i]=$uri.'page='.$i;
		foreach ($DATA as $i =&gt; $row)
		{
				//for($rank=1;$rank
				$rank = $i;
			
            if($i &lt; $top_hiscore) 
			{
				if($_GET['user'] == $row["playerName"] || $_GET['rank'] == $i)
				{
					if($row["lvl"] &gt; 29)
					{
						echo '
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow tableRowSelected"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					} else if($row["lvl"] &lt; 30)
					{ 
						echo'
							&lt;span class="playerValueLeftColumn notRankedColumn"&gt;
							&lt;span&gt;Not Ranked&lt;/span&gt;
							&lt;/span&gt;';
					}
				} else if($i &amp; 1) 
				{
					if($row["lvl"] &gt; 29)
					{
						echo'
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					}else if($row["lvl"] &lt; 30)
					{ 
						echo'
							&lt;span class="playerValueLeftColumn notRankedColumn"&gt;
							&lt;span&gt;Not Ranked&lt;/span&gt;
							&lt;/span&gt;';
					}
				} else 
				{
					echo'
						&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
						&lt;span class="rankColumn"&gt;
						&lt;span&gt;'.$rank.'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="nameColumn"&gt;
						&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="levelColumn"&gt;
						&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="xpColumn"&gt;
						&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;/a&gt;';
            
            
				}
			}
        }
 echo"
	&lt;/td&gt;
	&lt;/tr&gt;
	&lt;/table&gt;";
		
		//if($work &gt;= 1.5) $CUR_PAGE = round($work, 0)+1;
		//else $CUR_PAGE = round($work, 0)+1;
		$current = $_GET['page'];
		$CUR_PAGE2 = roundBetterUp(($_GET['rank']/$per_page));
		$next = $CUR_PAGE+1;
		$last = $CUR_PAGE-1;
	
		echo'
			&lt;div class="hiscoresPagingBottom"&gt;
			&lt;div class="searchRank"&gt;
			&lt;form class="SearchForm" action="overall.php"&gt;
			&lt;input name="category_type" type="hidden" value="0"&gt;
			&lt;input name="table" type="hidden" value="0"&gt;

			&lt;span class="Label"&gt;Search rank'.$CUR_PAGE2.':&lt;/span&gt;
			&lt;span class="Input"&gt;
			&lt;input type="text" name="rank" placeholder="" maxlength="7" size="7" value="" id="rank"&gt;
			&lt;/span&gt;
			&lt;input name="page" type="hidden" value="'.$CUR_PAGE2.'"&gt;
			&lt;span class="Input_right"&gt;&lt;/span&gt;
			&lt;div class="SelectButton"&gt;
			&lt;button type="submit" value="submit" name="button"&gt;
			&lt;img class="" alt="Search" title="Search" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"&gt;
			&lt;/button&gt;
			&lt;input type="hidden" name="submit" value="submit"&gt;
			&lt;/div&gt; 
			&lt;/form&gt;
			&lt;/div&gt;';
</code></pre>
<p>if($CUR_PAGE &lt; $num_pages){<br>
echo’<br>
</p>
<div>
<br>
<div>
<br>
<a><br>
<img alt="Next" title="Next" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"><br>
</a><br>
<a><br>
<img alt="Last" title="Last" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"><br>
</a><br>
</div>‘;<br>
} else if($CUR_PAGE == $num_pages){<br>
echo’	<br>
<div>
<br>
<div>
<br>
</div>‘;<br>
}<br>
echo’<br>
<br>
<br>
 <span>Page</span>  <span>of <b>‘.$num_pages.’</b></span><br>
<br>
‘;<br>
if($CUR_PAGE &gt; 1)<br>
echo’<br>
<div>
<br>
<a><br>
<img alt="First" title="First" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"></a><br>
<a><br>
<img alt="Previous" title="Previous" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"><br>
</a><br>
</div>
<br>
</div>
</div>‘;<br>
else<br>
echo’<br>
<div>
<br>
</div>
</div>';<br>
}[/code]


<p>It worked perfectly when I tried it.[/quote]<br>
Not necessarily.  The pages get messed up on the page changer.   And if you search for something on page1 while you’re on the first page, it goes to the next page still.</p>
</table>
</blockquote></aside>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/7</link>
        <pubDate>Sat, 19 Nov 2011 15:54:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-7</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <p>[quote=“sageofmali, post:5, topic:422064”][quote author=eyeownyew link=topic=524744.msg3819509#msg3819509 date=1321653660]</p>
<aside class="quote">
<blockquote>
<p>Well, yeah.  I want it to go to the page the rank is on.  Like if you go to my hiscores or rs’s you’ll see.</p>
</blockquote>
</aside>
<p>Not really sure where to put any of this… But, think logically. If there’s 20 players per page (I think), and the rank is xxxx, floor(xxxx/20) = page number.<br>
[/quote]I’ll try that, it looks like it will work.<br>
Edit: I just can’t seem to get it right. It’s hard to explain, you’ll have to look at my code and hiscores. [code=php]function roundBetter($number, $precision = 0, $mode = PHP_ROUND_HALF_UP, $direction = NULL) {<br>
if (!isset($direction) || is_null($direction)) {<br>
return round($number, $precision, $mode);<br>
}</p>
<pre><code>else { 
    $factor = pow(10, -1 * $precision); 

    return strtolower(substr($direction, 0, 1)) == 'd' 
        ? floor($number / $factor) * $factor 
        : ceil($number / $factor) * $factor; 
} 
</code></pre>
<p>}</p>
<p>// roundBetterUp(1999, -3) =&gt; 2000<br>
// roundBetterUp(1001, -3) =&gt; 2000<br>
function roundBetterUp($number, $precision = 0, $mode = PHP_ROUND_HALF_UP) {<br>
return roundBetter($number, $precision, $mode, ‘up’);<br>
}</p>
<p>// roundBetterDown(1999, -3) =&gt; 1000<br>
// roundBetterDown(1001, -3) =&gt; 1000<br>
function roundBetterDown($number, $precision = 0, $mode = PHP_ROUND_HALF_UP) {<br>
return roundBetter($number, $precision, $mode, ‘down’);<br>
}<br>
function OverallHiscore()<br>
{<br>
include “mysql.php”;<br>
if(!$top_hiscore) { $top_hiscore = “101”; }<br>
echo ’<br>
</p><table>
<br>
<div>
<br>
<div>
<br>
<span><br>
<span>Rank</span><br>
</span><br>
<span><br>
<span>Name</span><br>
</span><br>
<span><br>
<span>Level</span><br>
</span><br>
<span><br>
<span>XP</span><br>
</span><br>
</div>';
<pre><code>	$per_page = 22;
	$from_where="FROM skillsoverall WHERE lvl &gt; '1'";
	$sql = "SELECT count(*) ".$from_where;
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	$row = mysql_fetch_row($res);
	$total_rows = $row[0];


	if (isset($_GET['page'])) $CUR_PAGE = intval($_GET['page']); else $CUR_PAGE=1;
	$start = abs(($CUR_PAGE-1)*$per_page);

	$sql = "SELECT * $from_where ORDER BY lvl DESC, xp DESC LIMIT $start,$per_page";
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	while ($row = @mysql_fetch_array($res)) $DATA[++$start]=$row;

	$uri = strtok($_SERVER['REQUEST_URI'],"?")."?";    
	$tmpget = $_GET;
	unset($tmpget['page']);
	if ($tmpget) {
		$uri .= http_build_query($tmpget)."&amp;";
	}    
	$num_pages= @ceil($total_rows/$per_page);
	for($i=1;$i&lt;=$num_pages;$i++) $PAGES[$i]=$uri.'page='.$i;
		foreach ($DATA as $i =&gt; $row)
		{
				//for($rank=1;$rank
				$rank = $i;
			
            if($i &lt; $top_hiscore) 
			{
				if($_GET['user'] == $row["playerName"] || $_GET['rank'] == $i)
				{
					if($row["lvl"] &gt; 29)
					{
						echo '
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow tableRowSelected"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					} else if($row["lvl"] &lt; 30)
					{ 
						echo'
							&lt;span class="playerValueLeftColumn notRankedColumn"&gt;
							&lt;span&gt;Not Ranked&lt;/span&gt;
							&lt;/span&gt;';
					}
				} else if($i &amp; 1) 
				{
					if($row["lvl"] &gt; 29)
					{
						echo'
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					}else if($row["lvl"] &lt; 30)
					{ 
						echo'
							&lt;span class="playerValueLeftColumn notRankedColumn"&gt;
							&lt;span&gt;Not Ranked&lt;/span&gt;
							&lt;/span&gt;';
					}
				} else 
				{
					echo'
						&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
						&lt;span class="rankColumn"&gt;
						&lt;span&gt;'.$rank.'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="nameColumn"&gt;
						&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="levelColumn"&gt;
						&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="xpColumn"&gt;
						&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;/a&gt;';
            
            
				}
			}
        }
 echo"
	&lt;/td&gt;
	&lt;/tr&gt;
	&lt;/table&gt;";
		
		//if($work &gt;= 1.5) $CUR_PAGE = round($work, 0)+1;
		//else $CUR_PAGE = round($work, 0)+1;
		$current = $_GET['page'];
		$CUR_PAGE2 = roundBetterUp(($_GET['rank']/$per_page));
		$next = $CUR_PAGE+1;
		$last = $CUR_PAGE-1;
	
		echo'
			&lt;div class="hiscoresPagingBottom"&gt;
			&lt;div class="searchRank"&gt;
			&lt;form class="SearchForm" action="overall.php"&gt;
			&lt;input name="category_type" type="hidden" value="0"&gt;
			&lt;input name="table" type="hidden" value="0"&gt;

			&lt;span class="Label"&gt;Search rank'.$CUR_PAGE2.':&lt;/span&gt;
			&lt;span class="Input"&gt;
			&lt;input type="text" name="rank" placeholder="" maxlength="7" size="7" value="" id="rank"&gt;
			&lt;/span&gt;
			&lt;input name="page" type="hidden" value="'.$CUR_PAGE2.'"&gt;
			&lt;span class="Input_right"&gt;&lt;/span&gt;
			&lt;div class="SelectButton"&gt;
			&lt;button type="submit" value="submit" name="button"&gt;
			&lt;img class="" alt="Search" title="Search" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"&gt;
			&lt;/button&gt;
			&lt;input type="hidden" name="submit" value="submit"&gt;
			&lt;/div&gt; 
			&lt;/form&gt;
			&lt;/div&gt;';
</code></pre>
<p>if($CUR_PAGE &lt; $num_pages){<br>
echo’<br>
</p>
<div>
<br>
<div>
<br>
<a><br>
<img alt="Next" title="Next" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""><br>
</a><br>
<a><br>
<img alt="Last" title="Last" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""><br>
</a><br>
</div>‘;<br>
} else if($CUR_PAGE == $num_pages){<br>
echo’	<br>
<div>
<br>
<div>
<br>
</div>‘;<br>
}<br>
echo’<br>
<br>
<br>
 <span>Page</span>  <span>of <b>‘.$num_pages.’</b></span><br>
<br>
‘;<br>
if($CUR_PAGE &gt; 1)<br>
echo’<br>
<div>
<br>
<a><br>
<img alt="First" title="First" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""></a><br>
<a><br>
<img alt="Previous" title="Previous" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""><br>
</a><br>
</div>
<br>
</div>
</div>‘;<br>
else<br>
echo’<br>
<div>
<br>
</div>
</div>';<br>
}[/code][/quote]<br>
It worked perfectly when I tried it.</table>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/6</link>
        <pubDate>Sat, 19 Nov 2011 14:20:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-6</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>[quote=“eyeownyew, post:4, topic:422064”][quote author=sageofmali link=topic=524744.msg3819262#msg3819262 date=1321637014]<br>
Well, yeah.  I want it to go to the page the rank is on.  Like if you go to my hiscores or rs’s you’ll see.<br>
[/quote]<br>
Not really sure where to put any of this… But, think logically. If there’s 20 players per page (I think), and the rank is xxxx, floor(xxxx/20) = page number.[/quote]I’ll try that, it looks like it will work.<br>
Edit: I just can’t seem to get it right. It’s hard to explain, you’ll have to look at my code and hiscores. [code=php]function roundBetter($number, $precision = 0, $mode = PHP_ROUND_HALF_UP, $direction = NULL) {<br>
if (!isset($direction) || is_null($direction)) {<br>
return round($number, $precision, $mode);<br>
}</p>
<pre><code>else { 
    $factor = pow(10, -1 * $precision); 

    return strtolower(substr($direction, 0, 1)) == 'd' 
        ? floor($number / $factor) * $factor 
        : ceil($number / $factor) * $factor; 
} 
</code></pre>
<p>}</p>
<p>// roundBetterUp(1999, -3) =&gt; 2000<br>
// roundBetterUp(1001, -3) =&gt; 2000<br>
function roundBetterUp($number, $precision = 0, $mode = PHP_ROUND_HALF_UP) {<br>
return roundBetter($number, $precision, $mode, ‘up’);<br>
}</p>
<p>// roundBetterDown(1999, -3) =&gt; 1000<br>
// roundBetterDown(1001, -3) =&gt; 1000<br>
function roundBetterDown($number, $precision = 0, $mode = PHP_ROUND_HALF_UP) {<br>
return roundBetter($number, $precision, $mode, ‘down’);<br>
}<br>
function OverallHiscore()<br>
{<br>
include “mysql.php”;<br>
if(!$top_hiscore) { $top_hiscore = “101”; }<br>
echo ’<br>
</p><table>
<br>
<div>
<br>
<div>
<br>
<span><br>
<span>Rank</span><br>
</span><br>
<span><br>
<span>Name</span><br>
</span><br>
<span><br>
<span>Level</span><br>
</span><br>
<span><br>
<span>XP</span><br>
</span><br>
</div>';
<pre><code>	$per_page = 22;
	$from_where="FROM skillsoverall WHERE lvl &gt; '1'";
	$sql = "SELECT count(*) ".$from_where;
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	$row = mysql_fetch_row($res);
	$total_rows = $row[0];


	if (isset($_GET['page'])) $CUR_PAGE = intval($_GET['page']); else $CUR_PAGE=1;
	$start = abs(($CUR_PAGE-1)*$per_page);

	$sql = "SELECT * $from_where ORDER BY lvl DESC, xp DESC LIMIT $start,$per_page";
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	while ($row = @mysql_fetch_array($res)) $DATA[++$start]=$row;

	$uri = strtok($_SERVER['REQUEST_URI'],"?")."?";    
	$tmpget = $_GET;
	unset($tmpget['page']);
	if ($tmpget) {
		$uri .= http_build_query($tmpget)."&amp;";
	}    
	$num_pages= @ceil($total_rows/$per_page);
	for($i=1;$i&lt;=$num_pages;$i++) $PAGES[$i]=$uri.'page='.$i;
		foreach ($DATA as $i =&gt; $row)
		{
				//for($rank=1;$rank
				$rank = $i;
			
            if($i &lt; $top_hiscore) 
			{
				if($_GET['user'] == $row["playerName"] || $_GET['rank'] == $i)
				{
					if($row["lvl"] &gt; 29)
					{
						echo '
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow tableRowSelected"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					} else if($row["lvl"] &lt; 30)
					{ 
						echo'
							&lt;span class="playerValueLeftColumn notRankedColumn"&gt;
							&lt;span&gt;Not Ranked&lt;/span&gt;
							&lt;/span&gt;';
					}
				} else if($i &amp; 1) 
				{
					if($row["lvl"] &gt; 29)
					{
						echo'
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					}else if($row["lvl"] &lt; 30)
					{ 
						echo'
							&lt;span class="playerValueLeftColumn notRankedColumn"&gt;
							&lt;span&gt;Not Ranked&lt;/span&gt;
							&lt;/span&gt;';
					}
				} else 
				{
					echo'
						&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
						&lt;span class="rankColumn"&gt;
						&lt;span&gt;'.$rank.'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="nameColumn"&gt;
						&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="levelColumn"&gt;
						&lt;span&gt;'.dots($row["lvl"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="xpColumn"&gt;
						&lt;span&gt;'.dots($row["xp"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;/a&gt;';
            
            
				}
			}
        }
 echo"
	&lt;/td&gt;
	&lt;/tr&gt;
	&lt;/table&gt;";
		
		//if($work &gt;= 1.5) $CUR_PAGE = round($work, 0)+1;
		//else $CUR_PAGE = round($work, 0)+1;
		$current = $_GET['page'];
		$CUR_PAGE2 = roundBetterUp(($_GET['rank']/$per_page));
		$next = $CUR_PAGE+1;
		$last = $CUR_PAGE-1;
	
		echo'
			&lt;div class="hiscoresPagingBottom"&gt;
			&lt;div class="searchRank"&gt;
			&lt;form class="SearchForm" action="overall.php"&gt;
			&lt;input name="category_type" type="hidden" value="0"&gt;
			&lt;input name="table" type="hidden" value="0"&gt;

			&lt;span class="Label"&gt;Search rank'.$CUR_PAGE2.':&lt;/span&gt;
			&lt;span class="Input"&gt;
			&lt;input type="text" name="rank" placeholder="" maxlength="7" size="7" value="" id="rank"&gt;
			&lt;/span&gt;
			&lt;input name="page" type="hidden" value="'.$CUR_PAGE2.'"&gt;
			&lt;span class="Input_right"&gt;&lt;/span&gt;
			&lt;div class="SelectButton"&gt;
			&lt;button type="submit" value="submit" name="button"&gt;
			&lt;img class="" alt="Search" title="Search" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"&gt;
			&lt;/button&gt;
			&lt;input type="hidden" name="submit" value="submit"&gt;
			&lt;/div&gt; 
			&lt;/form&gt;
			&lt;/div&gt;';
</code></pre>
<p>if($CUR_PAGE &lt; $num_pages){<br>
echo’<br>
</p>
<div>
<br>
<div>
<br>
<a><br>
<img alt="Next" title="Next" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""><br>
</a><br>
<a><br>
<img alt="Last" title="Last" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""><br>
</a><br>
</div>‘;<br>
} else if($CUR_PAGE == $num_pages){<br>
echo’	<br>
<div>
<br>
<div>
<br>
</div>‘;<br>
}<br>
echo’<br>
<br>
<br>
 <span>Page</span>  <span>of <b>‘.$num_pages.’</b></span><br>
<br>
‘;<br>
if($CUR_PAGE &gt; 1)<br>
echo’<br>
<div>
<br>
<a><br>
<img alt="First" title="First" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""></a><br>
<a><br>
<img alt="Previous" title="Previous" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""><br>
</a><br>
</div>
<br>
</div>
</div>‘;<br>
else<br>
echo’<br>
<div>
<br>
</div>
</div>';<br>
}[/code]</table>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/5</link>
        <pubDate>Sat, 19 Nov 2011 02:08:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-5</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="3" data-topic="422064">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/sageofmali/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sageofmali:</div>
<blockquote>
<p>Well, yeah.  I want it to go to the page the rank is on.  Like if you go to my hiscores or rs’s you’ll see.</p>
</blockquote>
</aside>
<p>Not really sure where to put any of this… But, think logically. If there’s 20 players per page (I think), and the rank is xxxx, floor(xxxx/20) = page number.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/4</link>
        <pubDate>Fri, 18 Nov 2011 22:01:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-4</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>Well, yeah.  I want it to go to the page the rank is on.  Like if you go to my hiscores or rs’s you’ll see.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/3</link>
        <pubDate>Fri, 18 Nov 2011 17:23:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-3</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@justaguy justaguy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/justaguy">@justaguy</a> wrote:</p>
          <blockquote>
              <p>Can you elaborate on a “rank search?” What is being looked up, a rank number?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/2</link>
        <pubDate>Fri, 18 Nov 2011 16:44:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-2</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
      <item>
        <title>Search Rank Help</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>How would I make a find rank search work using my code?  It’s the only thing I have left, and I could hand you all my code, if you like.  I’ve been thinking of how to do it, but I can’t think.  I have correct paging in the hiscores: <a href="http://hiscore.sshiscores.info" rel="nofollow noopener">http://hiscore.sshiscores.info</a>  Everything works but the search rank, also I have to make activities, that’s easy though.  I just need a search rank option to be able to work.  Here’s the code if you need it : [code=php]function SkillHiscores()<br>
{<br>
include “mysql.php”;<br>
if(!$top_hiscore) { $top_hiscore = “101”; }<br>
echo ’<br>
</p><table>
<br>
<div>
<br>
<div>
<br>
<span><br>
<span>Rank</span><br>
</span><br>
<span><br>
<span>Name</span><br>
</span><br>
<span><br>
<span>Level</span><br>
</span><br>
<span><br>
<span>XP</span><br>
</span><br>
</div>';
<pre><code>	$xp = findTest($table)."xp";
	$per_page = 22;
	$from_where="FROM skills";
	$sql = "SELECT count(*) ".$from_where;
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	$row = mysql_fetch_row($res);
	$total_rows = $row[0];


	if (isset($_GET['page'])) $CUR_PAGE = intval($_GET['page']); else $CUR_PAGE=1;
	$start = abs(($CUR_PAGE-1)*$per_page);

	$sql = "SELECT * $from_where ORDER BY $xp DESC LIMIT $start,$per_page";
	$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);
	while ($row = @mysql_fetch_array($res)) $DATA[++$start]=$row;

	$uri = strtok($_SERVER['REQUEST_URI'],"?")."?";    
	$tmpget = $_GET;
	unset($tmpget['page']);
	if ($tmpget) {
		$uri .= http_build_query($tmpget)."&amp;";
	}    
	$num_pages= @ceil($total_rows/$per_page);
	for($i=1;$i&lt;=$num_pages;$i++) $PAGES[$i]=$uri.'page='.$i;
		foreach ($DATA as $i =&gt; $row)
		{
				//for($rank=1;$rank
				$rank = $i;
			
            if($i &lt; $top_hiscore) 
			{
				if($_GET['user'] == $row["playerName"] || $_GET['rank'] == $i)
				{

						echo '
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow tableRowSelected"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.getLevelForXP($row[$xp]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row[$xp]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';

				} else if($i &amp; 1) 
				{

						echo'
							&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
							&lt;span class="rankColumn"&gt;
							&lt;span&gt;'.$rank.'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="nameColumn"&gt;
							&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="levelColumn"&gt;
							&lt;span&gt;'.getLevelForXP($row[$xp]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;span class="xpColumn"&gt;
							&lt;span&gt;'.dots($row[$xp]).'&lt;/span&gt;
							&lt;/span&gt;
							&lt;/a&gt;';
					
				} else 
				{
					echo'
						&lt;a href="http://hiscore.sshiscores.info/compare.php?user='.$row["playerName"].'" class="tableRow"&gt;
						&lt;span class="rankColumn"&gt;
						&lt;span&gt;'.$rank.'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="nameColumn"&gt;
						&lt;span&gt;'.BBCode($row["playerName"]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="levelColumn"&gt;
						&lt;span&gt;'.getLevelForXP($row[$xp]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;span class="xpColumn"&gt;
						&lt;span&gt;'.dots($row[$xp]).'&lt;/span&gt;
						&lt;/span&gt;
						&lt;/a&gt;';
            
            
				}
			}
        }
 echo"
	&lt;/td&gt;
	&lt;/tr&gt;
	&lt;/table&gt;";
	
	$next = $CUR_PAGE+1;
	$last = $CUR_PAGE-1;
		echo'
			&lt;div class="hiscoresPagingBottom"&gt;
			&lt;div class="searchRank"&gt;
			&lt;form class="SearchForm" action="overall.php"&gt;
			&lt;input name="category_type" type="hidden" value="0"&gt;
			&lt;input name="table" type="hidden" value="'.$_GET['table'].'"&gt;
		
			&lt;span class="Label"&gt;Search rank:&lt;/span&gt;
			&lt;span class="Input"&gt;
			&lt;input type="text" name="rank" placeholder="" maxlength="7" size="7" value="" id="rank"&gt;
			&lt;/span&gt;
			&lt;span class="Input_right"&gt;&lt;/span&gt;
			&lt;div class="SelectButton"&gt;
			&lt;button type="submit" value="submit" name="button"&gt;
			&lt;img class="" alt="Search" title="Search" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0"&gt;
			&lt;/button&gt;
			&lt;input type="hidden" name="submit" value="submit"&gt;
			&lt;/div&gt; 
			&lt;/form&gt;
			&lt;/div&gt;';
</code></pre>
<p>if($CUR_PAGE &lt; $num_pages){<br>
echo’<br>
</p>
<div>
<br>
<div>
<br>
<a><br>
<img alt="Next" title="Next" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""><br>
</a><br>
<a><br>
<img alt="Last" title="Last" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""><br>
</a><br>
</div>‘;<br>
} else if($CUR_PAGE == $num_pages){<br>
echo’	<br>
<div>
<br>
<div>
<br>
</div>‘;<br>
}<br>
echo’<br>
<br>
<br>
 <span>Page</span>  <span>of <b>‘.$num_pages.’</b></span><br>
<br>
‘;<br>
if($CUR_PAGE &gt; 1)<br>
echo’<br>
<div>
<br>
<a><br>
<img alt="First" title="First" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""></a><br>
<a><br>
<img alt="Previous" title="Previous" src="http://hiscore.sshiscores.info/images/PageControlSearch.png?0" width="" height=""><br>
</a><br>
</div>
<br>
</div>
</div>‘;<br>
else<br>
echo’<br>
<div>
<br>
</div>
</div>';<br>
}[/code]</table>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/search-rank-help/422064/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/search-rank-help/422064/1</link>
        <pubDate>Fri, 18 Nov 2011 16:26:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-422064-1</guid>
        <source url="https://forum.moparisthebest.com/t/search-rank-help/422064.rss">Search Rank Help</source>
      </item>
  </channel>
</rss>
