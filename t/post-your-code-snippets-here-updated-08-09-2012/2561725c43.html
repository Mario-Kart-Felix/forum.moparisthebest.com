<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/post-your-code-snippets-here-updated-08-09-2012/256172?page=17 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 20:44:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Post your code snippets here! [Updated 08/09/2012] - Runescape - moparisthebest.com</title>
    <meta name="description" content="EDIT: This hasn&amp;#39;t been touched for a year and a half, but it&amp;#39;s worth updating now. This topic will be removed in the coming weeks/months and most of the snippets here will probably receive their own topic. If you are an &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2561725c43.html?page=17" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Post your code snippets here! [Updated 08/09/2012]&#39;" href="256172.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/post-your-code-snippets-here-updated-08-09-2012/256172?page=17" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/post-your-code-snippets-here-updated-08-09-2012/256172?page=17" />
<meta property="og:title" content="Post your code snippets here! [Updated 08/09/2012]" />
<meta name="twitter:title" content="Post your code snippets here! [Updated 08/09/2012]" />
<meta property="og:description" content="[Delta]  Adding a simple swap command  Purpose: for fun üòõ  Difficulty: 1/10  Assumed knowledge: c&amp;p and where the commands are  Open your client.java and search for   under that method add  http://pastebin.com/acLTHmnq  Sorry about the conventions, when I pasted the code it got messed up üò¶  Sorry, I forgot to use pastebin" />
<meta name="twitter:description" content="[Delta]  Adding a simple swap command  Purpose: for fun üòõ  Difficulty: 1/10  Assumed knowledge: c&amp;p and where the commands are  Open your client.java and search for   under that method add  http://pastebin.com/acLTHmnq  Sorry about the conventions, when I pasted the code it got messed up üò¶  Sorry, I forgot to use pastebin" />
<meta property="article:published_time" content="2011-09-19T10:31:05+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="25617242a7.html?page=16">
      <link rel="next" href="2561729683.html?page=18">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="256172.html">Post your code snippets here! [Updated 08/09/2012]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/galade57465746.html'><span itemprop='name'>galade57465746</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-19T10:31:05Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:01:01Z' class='post-time'>
              August 1, 2016,  3:01pm
            </time>
        <span itemprop='position'>#321</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[Delta]<br>
Adding a simple swap command</p>
<p>Purpose: for fun <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
Difficulty: 1/10<br>
Assumed knowledge: c&amp;p and where the commands are</p>
<p>Open your client.java and search for</p>
<pre><code class="lang-auto"></code></pre>
<p>under that method add<br>
<a href="http://pastebin.com/acLTHmnq" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/acLTHmnq</a></p>
<p>Sorry about the conventions, when I pasted the code it got messed up <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>Sorry, I forgot to use pastebin</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/RandQm.html'><span itemprop='name'>RandQm</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-23T14:41:44Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:06:41Z' class='post-time'>
              August 1, 2016,  3:06pm
            </time>
        <span itemprop='position'>#322</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[size=14pt]<span class="bbcode-b">Running your client,<br>
with music and opening website.<br>
</span>[/size]<br>
This is just a custom .bat I made,<br>
pretty sure its made before but I did it myself here.</p>
<p><code>@echo off
TITLE Your server
echo Loading Your server...
start "wmplayer" "Harmony (Old Music).mp3"
echo Starting...
start javaw -Xmx500m client 0 0 highmem members 0
start "iexplore.exe" "website"
exit</code><br>
start ‚Äúwmplayer‚Äù ‚ÄúHarmony (Old Music).mp3‚Äù // This runs the default music player application of the user and runs the track<br>
in your client folder (Harmony (Old Music).mp3) --old runescape track (:<br>
start ‚Äúiexplore.exe‚Äù ‚Äúwebsite‚Äù //runs the default internet browser and displays your website - Dont forget http://</p>
<p>note: this is for people whos client itself doesnt support music like mine.<br>
and i dont give a shit if u dont like it, i do (:</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Svitkona.html'><span itemprop='name'>Svitkona</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-23T14:58:04Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:06:42Z' class='post-time'>
              August 1, 2016,  3:06pm
            </time>
        <span itemprop='position'>#323</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Does anyone even use IE anymore</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/whattehp406.html'><span itemprop='name'>whattehp406</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-23T15:02:43Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:06:43Z' class='post-time'>
              August 1, 2016,  3:06pm
            </time>
        <span itemprop='position'>#324</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúRandQm, post:322, topic:256172‚Äù][size=14pt]<span class="bbcode-b">Running your client,<br>
with music and opening website.<br>
</span>[/size]<br>
This is just a custom .bat I made,<br>
pretty sure its made before but I did it myself here.</p>
<p><code>@echo off
TITLE Your server
echo Loading Your server...
start "wmplayer" "Harmony (Old Music).mp3"
echo Starting...
start javaw -Xmx500m client 0 0 highmem members 0
start "iexplore.exe" "website"
exit</code><br>
start ‚Äúwmplayer‚Äù ‚ÄúHarmony (Old Music).mp3‚Äù // This runs the default music player application of the user and runs the track<br>
in your client folder (Harmony (Old Music).mp3) --old runescape track (:<br>
start ‚Äúiexplore.exe‚Äù ‚Äúwebsite‚Äù //runs the default internet browser and displays your website - Dont forget http://</p>
<p>note: this is for people whos client itself doesnt support music like mine.<br>
and i dont give a shit if u dont like it, i do (:[/quote]Can both be done in java, more efficiently because the music would be part of the client instead of opening wmp</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Svitkona.html'><span itemprop='name'>Svitkona</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-23T15:04:19Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:06:43Z' class='post-time'>
              August 1, 2016,  3:06pm
            </time>
        <span itemprop='position'>#325</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Holy shit I was looking over my ‚Äúcustom spell‚Äù and it‚Äôs fucking horrible omg.</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-23T23:28:56Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:07:14Z' class='post-time'>
              August 1, 2016,  3:07pm
            </time>
        <span itemprop='position'>#326</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Project Insanity, fixing roll backs, and saving players on CMD exit.</p>
<pre><code class="lang-auto">	public PlayerSave save;
	public static Client cliento1;

	static {
		Runtime.getRuntime().addShutdownHook(new Thread());
		for (int i = 0; i &lt; Config.MAX_PLAYERS; i++) {
			if (PlayerHandler.players[i] != null) {
				PlayerSave.saveGame(Client.cliento2);
			}
		}
	}</code></pre>
<pre><code class="lang-auto">	public static PlayerSave save;
	public static Client cliento2;</code></pre>
<p>Figure out where it goes yourself, hint Handling players.</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-24T12:53:10Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:07:41Z' class='post-time'>
              August 1, 2016,  3:07pm
            </time>
        <span itemprop='position'>#327</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Project Insanity ; basic potions‚Ä¶<br>
BONUS : Reload potions ( saves your cb stats when you drink and loads them every 15 seconds for 5 minutes long , 30 dmg on drinking , the 30 hp gets healed when teh 5 mins are over)<br>
BONUS : Super energy potions : work entirely the same as special restores in RS.</p>
<p>Included potions :<br>
attack<br>
strength<br>
defence<br>
prayer<br>
saradomin brew<br>
ranging<br>
magic<br>
restore (not super)<br>
combat<br>
reload (custom)<br>
super attack<br>
super strength<br>
super defence<br>
super energy (works as spec restore)</p>
<p>Client sided : ItemDef class:<br>
Rename the fishing potion to reload potions:</p>
<p><code>		case 2438:
			itemDef.name = "Reload potion(4)";
		break;
		case 151:
			itemDef.name = "Reload potion(3)";
		break;
		case 153:
			itemDef.name = "Reload potion(2)";
		break;
		case 155:
			itemDef.name = "Reload potion(1)";
		break;</code></p>
<p>New class in server.model.players:</p>
<p>[code=java]package server.model.players;</p>
<p>import server.model.players.Client;</p>
<p>public class DrinkPotion {</p>
<pre><code>/**
	@author Cres
	@note listen to Blue Foundation - Eyes On Fire (Zeds Dead Remix)
*/

public final int VIAL = 229;

public DrinkPotion(Client c, int pot, int slot) {
	String p = c.getItems().getItemName(pot);
	if (p.contains("(1)") || p.contains("(2)") || p.contains("(3)") || p.contains("(4)")) {
		if (c.duelRule[5]) {
			c.sendMessage("You may not drink potions in this duel.");
			return;
		}
		if (System.currentTimeMillis() - c.potDelay &gt;= 1500) {
			c.potDelay = System.currentTimeMillis();
			c.foodDelay = c.potDelay;
			c.getCombat().resetPlayerAttack();
			c.attackTimer++;
			switch (pot) {
				case 2428: //atk4
					normalStatBoost(c, true,2428, 121, slot,0);
				break;
				case 121: //atk3
					normalStatBoost(c, true,121,123,slot,0);
				break;
				case 123: //atk2
					normalStatBoost(c, true,123,125,slot,0);
				break;
				case 125: //atk1
					normalStatBoost(c, true,125,VIAL,slot,0);
				break;
				case 113: //str4
					normalStatBoost(c, true,113,115,slot,2);
				break;
				case 115: //str3
					normalStatBoost(c, true,115,117,slot,2);
				break;
				case 117: //str2
					normalStatBoost(c, true,117,119,slot,2);
				break;
				case 119: //str1
					normalStatBoost(c, true,119,VIAL,slot,2);
				break;
				case 2432: //def4
					normalStatBoost(c, true,2432,133,slot,1);
				break;
				case 133: //def3
					normalStatBoost(c, true,133,135,slot,1);
				break;
				case 135: //def2
					normalStatBoost(c, true,135,137,slot,1);
				break;
				case 137: //def1
					normalStatBoost(c, true,137,VIAL,slot,1);
				break;
				case 2430: //rest4
					restorePotion(c,true,2430,127,slot,0);
					restorePotion(c,false,2430,127,slot,1);
					restorePotion(c,false,2430,127,slot,2);
					restorePotion(c,false,2430,127,slot,6);
					restorePotion(c,false,2430,127,slot,4);
				break;
				case 127: //rest3
					restorePotion(c,true,127,129,slot,0);
					restorePotion(c,false,127,129,slot,1);
					restorePotion(c,false,127,129,slot,2);
					restorePotion(c,false,127,129,slot,6);
					restorePotion(c,false,127,129,slot,4);
				break;
				case 129: //rest2
					restorePotion(c,true,129,131,slot,0);
					restorePotion(c,false,129,131,slot,1);
					restorePotion(c,false,129,131,slot,2);
					restorePotion(c,false,129,131,slot,6);
					restorePotion(c,false,129,131,slot,4);
				break;
				case 131: //rest1
					restorePotion(c,true,131,VIAL,slot,0);
					restorePotion(c,false,131,VIAL,slot,1);
					restorePotion(c,false,131,VIAL,slot,2);
					restorePotion(c,false,131,VIAL,slot,6);
					restorePotion(c,false,131,VIAL,slot,4);
				break;
				case 9739: //cb4
					normalStatBoost(c, true,9739,9741,slot,0);
					normalStatBoost(c, false,9739,9741,slot,2);
					normalStatBoost(c, false,9739,9741,slot,1);
				break;
				case 9741: //cb3
					normalStatBoost(c, true,9741,9743,slot,0);
					normalStatBoost(c, false,9739,9741,slot,2);
					normalStatBoost(c, false,9739,9741,slot,1);
				break;
				case 9743: //cb2
					normalStatBoost(c, true,9743,9745,slot,0);
					normalStatBoost(c, false,9739,9741,slot,2);
					normalStatBoost(c, false,9739,9741,slot,1);
				break;
				case 9745: //cb1
					normalStatBoost(c, true,9745,VIAL,slot,0);
					normalStatBoost(c, false,9739,9741,slot,2);
					normalStatBoost(c, false,9739,9741,slot,1);
				break;
				case 2434: //pry4
					prayerPotion(c,2434,139,slot);
				break;
				case 139: //pry3
					prayerPotion(c,139,141,slot);
				break;
				case 141: //pry2
					prayerPotion(c,141,143,slot);
				break;
				case 143: //pry1
					prayerPotion(c,143,VIAL,slot);
				break;
				case 2438: //rel4
					reloadPotion(c,151,slot);
				break;
				case 151: //rel3
					reloadPotion(c,153,slot);
				break;
				case 153: //rel2
					reloadPotion(c,155,slot);
				break;
				case 155: //rel1
					reloadPotion(c,VIAL,slot);
				break;
				case 6685: //sara brew4
					saradominBrew(c,6685,6687,slot);
				break;
				case 6687: //sara brew3
					saradominBrew(c,6687,6689,slot);
				break;
				case 6689: //sara brew2
					saradominBrew(c,6689,6691,slot);
				break;
				case 6691: //sara brew1
					saradominBrew(c,6691,VIAL,slot);
				break;
				case 2436: //sup atk4
					superStatBoost(c,145,slot,0);
				break;
				case 145: //sup atk3
					superStatBoost(c,147,slot,0);
				break;
				case 147: //sup atk2
					superStatBoost(c,149,slot,0);
				break;
				case 149: //sup atk1
					superStatBoost(c,VIAL,slot,0);
				break;
				case 2440: //sup str4
					superStatBoost(c,157,slot,2);
				break;
				case 157: //sup str3
					superStatBoost(c,159,slot,2);
				break;
				case 159: //sup str2
					superStatBoost(c,161,slot,2);
				break;
				case 161: //sup str1
					superStatBoost(c,VIAL,slot,2);
				break;
				case 2442: //sup def4
					superStatBoost(c,163,slot,1);
				break;
				case 163: //sup def3
					superStatBoost(c,165,slot,1);
				break;
				case 165: //sup def2
					superStatBoost(c,167,slot,1);
				break;
				case 167: //sup def1
					superStatBoost(c,VIAL,slot,1);
				break;
				case 2444: //range pot4
					rangePotion(c,169,slot);
				break;
				case 169: //range pot3
					rangePotion(c,171,slot);
				break;
				case 171: //range pot2
					rangePotion(c,173,slot);
				break;
				case 173: //range pot1
					rangePotion(c,VIAL,slot);
				break;
				case 3016: //sup energy4
					energyPotion(c,true,3018,slot);
				break;
				case 3018: //sup energy3
					energyPotion(c,true,3020,slot);
				break;
				case 3020: //sup energy2
					energyPotion(c,true,3022,slot);
				break;
				case 3022: //sup energy1
					energyPotion(c,true,VIAL,slot);
				break;
			}
		}
	}
}

public void energyPotion(Client c, boolean sup, int newPot, int slot) {
	if (sup) {
		if (System.currentTimeMillis() - c.lastSpecRestore &gt;= 30000) {
			c.startAnimation(829);
			c.playerItems[slot] = newPot+1;
			c.getItems().resetItems(3214);
			c.lastSpecRestore = System.currentTimeMillis();
			if (c.specAmount &gt;= 7.5) {
				c.specAmount = 10.0;
			} else {
				c.specAmount += 2.5;
			}
		} else {
			c.sendMessage("Your body can only handle 1 dose every 30 seconds.");
			return;
		}
	} else {
		c.startAnimation(829);
		c.playerItems[slot] = newPot+1;
		c.getItems().resetItems(3214);
		c.sendMessage("It tastes a bit like Red Bull but you feel no effect.");
		return;
	}
}

public void magicPotion(Client c, int newPot, int slot) {
	c.startAnimation(829);
	c.playerItems[slot] = newPot+1;
	c.getItems().resetItems(3214);
	int maxBoost = c.getLevelForXP(c.playerXP[6])+5;
	c.playerLevel[6] += 5;
	if (c.playerLevel[6] &gt; maxBoost) {
		c.playerLevel[6] = maxBoost;
	}
	c.getPA().refreshSkill(6);
}

public void rangePotion(Client c, int newPot, int slot) {
	c.startAnimation(829);
	c.playerItems[slot] = newPot+1;
	c.getItems().resetItems(3214);
	int rangeBoost = (int)(Math.floor(c.getLevelForXP(c.playerXP[4])*.10)+4);
	int maxBoost = c.getLevelForXP(c.playerXP[4])+rangeBoost;
	c.playerLevel[4] += rangeBoost;
	if (c.playerLevel[4] &gt; maxBoost) {
		c.playerLevel[4] = maxBoost;
	}
	c.getPA().refreshSkill(4);
}

public void superStatBoost(Client c, int newPot, int slot , int stat) {
	c.startAnimation(829);
	c.playerItems[slot] = newPot+1;
	c.getItems().resetItems(3214);
	int statBoost = (int)(Math.floor(c.getLevelForXP(c.playerXP[stat])*.15)+5);
	int maxBoost = c.getLevelForXP(c.playerXP[stat])+statBoost;
	c.playerLevel[stat] += statBoost;
	if (c.playerLevel[stat] &gt; maxBoost) {
		c.playerLevel[stat] = maxBoost;
	}
	c.getPA().refreshSkill(stat);
}

public void saradominBrew(Client c, int pot, int newPot, int slot) {
	c.startAnimation(829);
	c.playerItems[slot] = newPot+1;
	c.getItems().resetItems(3214);
	int atkDec = (int)(Math.floor(c.getLevelForXP(c.playerXP[0])*.10));
	c.playerLevel[0] -= atkDec;
	if (c.playerLevel[0] &lt;= 0) {
		c.playerLevel[0] = 1;
	}
	c.getPA().refreshSkill(0);
	int strDec = (int)(Math.floor(c.getLevelForXP(c.playerXP[2])*.10));
	c.playerLevel[2] -= strDec;
	if (c.playerLevel[2] &lt;= 0) {
		c.playerLevel[2] = 1;
	}
	c.getPA().refreshSkill(2);
	int ranDec = (int)(Math.floor(c.getLevelForXP(c.playerXP[4])*.10));
	c.playerLevel[4] -= ranDec;
	if (c.playerLevel[4] &lt;= 0) {
		c.playerLevel[4] = 1;
	}
	c.getPA().refreshSkill(4);
	int magDec = (int)(Math.floor(c.getLevelForXP(c.playerXP[6])*.10));
	c.playerLevel[6] -= magDec;
	if (c.playerLevel[6] &lt;= 0) {
		c.playerLevel[6] = 1;
	}
	c.getPA().refreshSkill(6);
	int defBoost = (int)(Math.floor(c.getLevelForXP(c.playerXP[1])*.25));
	int maxDefBoost = c.getLevelForXP(c.playerXP[1])+defBoost;
	c.playerLevel[1] += defBoost;
	if (c.playerLevel[1] &gt; maxDefBoost) {
		c.playerLevel[1] = c.getLevelForXP(c.playerXP[1]);
	}
	c.getPA().refreshSkill(1);
	int hpBoost = (int)(Math.floor(c.getLevelForXP(c.playerXP[3])*.15));
	int maxHPBoost = c.getLevelForXP(c.playerXP[3])+hpBoost;
	c.playerLevel[3] += hpBoost;
	if (c.playerLevel[3] &gt; maxHPBoost) {
		c.playerLevel[3] = maxHPBoost;
	}
	c.getPA().refreshSkill(3);
}

public void prayerPotion(Client c,int pot, int newPot, int slot) {
	c.startAnimation(829);
	c.playerItems[slot] = newPot+1;
	int prayerRestore = (int)(Math.floor(c.getLevelForXP(c.playerXP[5])*.25)+7);
	c.playerLevel[5] += prayerRestore;
	int restored = c.playerLevel[5] + prayerRestore;
	if (restored &gt; c.getLevelForXP(c.playerXP[5])) {
		c.playerLevel[5] = c.getLevelForXP(c.playerXP[5]);
	}
	c.getPA().refreshSkill(5);
	c.getItems().resetItems(3214);
}

public void normalStatBoost(Client c,boolean updateReq,int pot, int newPot, int slot, int stat) {
	c.startAnimation(829);
	if (updateReq) {
		c.playerItems[slot] = newPot+1;
	}
	int statBoost;
	statBoost = (int)(Math.floor(c.getLevelForXP(c.playerXP[stat])*.10)+3);
	c.playerLevel[stat] += statBoost;
	int maxBoost;
	maxBoost = c.getLevelForXP(c.playerXP[stat])+statBoost;
	if (c.playerLevel[stat] &gt; maxBoost) {
		c.playerLevel[stat] = maxBoost;
	}
	c.getPA().refreshSkill(stat);
	c.getItems().resetItems(3214);
}

public void restorePotion(Client c, boolean updateReq, int pot, int newPot, int slot, int stat) {
	c.startAnimation(829);
	if (updateReq) {
		c.playerItems[slot] = newPot+1;
	}
	int restore = (int)(Math.floor(c.getLevelForXP(c.playerXP[stat])*.30)+10);
	c.playerLevel[stat] += restore;
	if (c.playerLevel[stat] &gt; c.getLevelForXP(c.playerXP[stat])) {
		c.playerLevel[stat] = c.getLevelForXP(c.playerXP[stat]);
	}
	c.getPA().refreshSkill(stat);
	c.getItems().resetItems(3214);
}

public void reloadPotion(Client c, int newPot, int slot) {
	if (c.playerLevel[3] &gt; 30) {
		c.startAnimation(829);
		c.dealDamage(30);
		c.setHitDiff2(30);
		c.setHitUpdateRequired2(true);
		c.getPA().refreshSkill(3);
		c.playerItems[slot] = newPot+1;
		c.getItems().resetItems(3214);
		c.reloadAttack = c.playerLevel[0];
		c.reloadDefence = c.playerLevel[1];
		c.reloadStrength = c.playerLevel[2];
		c.reloadMagic = c.playerLevel[6];
		c.reloadRanged = c.playerLevel[4];
		c.reloadTimer = 25; //25 ticks = 15 seconds
		c.reloadAmount = 20; //20*25 ticks = 5 minutes
	} else {
		c.sendMessage("You need at least 30 hitpoints to drink this potion");
	}
}
</code></pre>
<p>}[/code]</p>
<p>In the ClickItem class :</p>
<p><code>String p = c.getItems().getItemName(itemId);
		if (p.contains("(1)") || p.contains("(2)") || p.contains("(3)") || p.contains("(4)")) {
			new DrinkPotion(c,itemId,itemSlot);
		}</code><br>
also comment out the old potions handling in the Click Item class.</p>
<p>Client.java , process method (SORRY):</p>
<p><code>if (reloadTimer &gt; 0) {
			reloadTimer--;
		}
		if (reloadTimer &lt;= 0 &amp;&amp; reloadAmount &gt; 0) {
			if (playerLevel[0] &lt; reloadAttack) {
				playerLevel[0] = reloadAttack;
			}
			if (playerLevel[1] &lt; reloadDefence) {
				playerLevel[1] = reloadDefence;
			}
			if (playerLevel[2] &lt; reloadStrength) {
				playerLevel[2] = reloadStrength;
			}
			if (playerLevel[6] &lt; reloadMagic) {
				playerLevel[6] = reloadMagic;
			}
			if (playerLevel[4] &lt; reloadRanged) {
				playerLevel[4] = reloadRanged;
			}
			getPA().refreshSkill(0);
			getPA().refreshSkill(1);
			getPA().refreshSkill(2);
			getPA().refreshSkill(4);
			getPA().refreshSkill(6);
			reloadAmount -= 1;
			if (reloadAmount &gt; 0) {
				reloadTimer = 25;
			}
			if (reloadAmount == 4) {
				sendMessage("@red@The effects of Reload will stop in 1 minute.");
			}
			if (reloadAmount == 2) {
				sendMessage("@red@The effects of Reload will stop in 30 seconds.");
			}
			if (reloadAmount == 1) {
				sendMessage("@red@The effects of Reload will stop in 15 seconds.");
			}
			if (reloadAmount &lt;= 0) {
				sendMessage("@red@The effects of Reload have stopped.");
				playerLevel[3] += 30;
				if (playerLevel[3] &gt; getLevelForXP(playerXP[3])) {
					playerLevel[3] = getLevelForXP(playerXP[3]);
				}
			}
		}</code></p>
<p>Player.java : declare these integers‚Ä¶</p>
<p><code>public int reloadAttack = 0;
	public int reloadDefence = 0;
	public int reloadStrength = 0;
	public int reloadMagic = 0;
	public int reloadRanged = 0;
	public int reloadTimer = 0;
	public int reloadAmount = 0;
	public long lastSpecRestore;</code></p>
<p>Leech on your own motherfucking risk ; il come and gun your ass down.</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-24T16:21:35Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:07:53Z' class='post-time'>
              August 1, 2016,  3:07pm
            </time>
        <span itemprop='position'>#328</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Nice, can be improved, but nice.</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imsuperman05.html'><span itemprop='name'>imsuperman05</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T00:29:33Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:11:21Z' class='post-time'>
              August 1, 2016,  3:11pm
            </time>
        <span itemprop='position'>#329</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why not use Events instead of process‚Ä¶</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T04:44:10Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:11:36Z' class='post-time'>
              August 1, 2016,  3:11pm
            </time>
        <span itemprop='position'>#330</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="329" data-topic="256172">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/imsuperman05/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> imsuperman05:</div>
<blockquote>
<p>Why not use Events instead of process‚Ä¶</p>
</blockquote>
</aside>
<p>Never even looked at the Events , or whatever class they‚Äôre being handled in , currently writing cannon for PI.</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imsuperman05.html'><span itemprop='name'>imsuperman05</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T17:35:04Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:11:52Z' class='post-time'>
              August 1, 2016,  3:11pm
            </time>
        <span itemprop='position'>#331</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúCres, post:330, topic:256172‚Äù][quote author=imsuperman05 link=topic=338418.msg3764029#msg3764029 date=1317083373]<br>
Why not use Events instead of process‚Ä¶<br>
[/quote]</p>
<p>Never even looked at the Events , or whatever class they‚Äôre being handled in , currently writing cannon for PI.[/quote]<br>
Dwarf Cannon?  I can give you mine, but it has no projectiles being created, so I‚Äôm sure you can do that :).</p>
<p>Use Graham‚Äôs CycleEvent‚Ä¶ Or someone else that released i don‚Äôt remember who release it.</p>
<p>Called like so‚Ä¶</p>
<p>CycleEventHandler.getSingleton().addEvent(c, new CycleEvent() {</p>
<p><a class="mention" href="../../u/override.html">@Override</a><br>
public void execute(CycleEventContainer container) {<br>
//TODO: Shit goes here.<br>
container.stop():<br>
}<br>
<a class="mention" href="../../u/override.html">@Override</a><br>
public void stop() {<br>
//TODO: Add a stop.<br>
}<br>
},Time here.);</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T18:57:08Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:11:55Z' class='post-time'>
              August 1, 2016,  3:11pm
            </time>
        <span itemprop='position'>#332</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚Äúimsuperman05, post:331, topic:256172‚Äù][quote author=Cres link=topic=338418.msg3764318#msg3764318 date=1317098650]</p>
<aside class="quote">
<blockquote>
<p>Why not use Events instead of process‚Ä¶</p>
</blockquote>
</aside>
<p>Never even looked at the Events , or whatever class they‚Äôre being handled in , currently writing cannon for PI.<br>
[/quote]<br>
Dwarf Cannon?  I can give you mine, but it has no projectiles being created, so I‚Äôm sure you can do that :).</p>
<p>Use Graham‚Äôs CycleEvent‚Ä¶ Or someone else that released i don‚Äôt remember who release it.</p>
<p>Called like so‚Ä¶</p>
<p>CycleEventHandler.getSingleton().addEvent(c, new CycleEvent() {</p>
<p><a class="mention" href="../../u/override.html">@Override</a><br>
public void execute(CycleEventContainer container) {<br>
//TODO: Shit goes here.<br>
container.stop():<br>
}<br>
<a class="mention" href="../../u/override.html">@Override</a><br>
public void stop() {<br>
//TODO: Add a stop.<br>
}<br>
},Time here.);[/quote]</p>
<p><span class="bbcode-b">createPlayersProjectile</span> in PlayerAssistant class.<br>
And I‚Äôm still on the building up and deconstructing phases ; I have no idea how to add the turning animation to the object though  <img src="../../images/emoji/twitter/expressionlessae52.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"><br>
And how should I make the cannon check for targets?<br>
N - NE<br>
NE - E<br>
E - SE<br>
SE - S<br>
or add the NPC‚Äôs into a chronologic array?</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imsuperman05.html'><span itemprop='name'>imsuperman05</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T19:08:29Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:11:56Z' class='post-time'>
              August 1, 2016,  3:11pm
            </time>
        <span itemprop='position'>#333</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I tried it, but I don‚Äôt know how to create a object projectile‚Ä¶  I have no idea either, but i have this‚Ä¶</p>
<p>[code=java]	private enum FacingState {<br>
NORTH(0, 515),<br>
NORTH_EAST(1, 516),<br>
EAST(2, 517),<br>
SOUTH_EAST(3, 518),<br>
SOUTH(4, 519),<br>
SOUTH_WEST(5, 520),<br>
WEST(6, 521),<br>
NORTH_WEST(7, 514);</p>
<pre><code>	/**
	 * A map of ids to facing states.
	 */
	private static List&lt;FacingState&gt; facingStates = new ArrayList&lt;FacingState&gt;();
	
	/**
	 * Populates the facing state list.
	 */
	static {
		for(FacingState facingState : FacingState.values()) {
			facingStates.add(facingState);
		}
	}
	
	public static FacingState forId(int id) {
		for(FacingState facingState : facingStates) {
			if(facingState.getId() == id) {
				return facingState;
			}
		}
		return null;
	}
	
	/**
	 * The id of this facing state.
	 */
	private int id;
	
	/**
	 * The animation id this face performs.
	 */
	private int animationId;
	
	FacingState(int id, int animationId) {
		this.id = id;
		this.animationId = animationId;
	}

	public int getId() {
		return id;
	}

	public int getAnimationId() {
		return animationId;
	}
}[/code]</code></pre>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T19:17:36Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:11:57Z' class='post-time'>
              August 1, 2016,  3:11pm
            </time>
        <span itemprop='position'>#334</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here‚Äôs how I think the cannon works :</p>
<ol>
<li>get the centre coords of the cannon.</li>
<li>create an area which represents the reach of the cannon.</li>
<li>the cannon starts radarring the area : upper left to upper right<br>
then upper righ to lower right , and so on.</li>
<li>If the cannon finds an NPC , it will shoot a projectile at every npc it found before turning to the next area to radar.</li>
</ol>
<p>hope that i explained it right‚Ä¶<br>
still , im gonna check COUE‚Äôs cannon for his hyperion‚Ä¶</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imsuperman05.html'><span itemprop='name'>imsuperman05</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T19:22:41Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:11:57Z' class='post-time'>
              August 1, 2016,  3:11pm
            </time>
        <span itemprop='position'>#335</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúCres, post:334, topic:256172‚Äù]Here‚Äôs how I think the cannon works :</p>
<ol>
<li>get the centre coords of the cannon.</li>
<li>create an area which represents the reach of the cannon.</li>
<li>the cannon starts radarring the area : upper left to upper right<br>
then upper righ to lower right , and so on.</li>
<li>If the cannon finds an NPC , it will shoot a projectile at every npc it found before turning to the next area to radar.</li>
</ol>
<p>hope that i explained it right‚Ä¶<br>
still , im gonna check COUE‚Äôs cannon for his hyperion‚Ä¶[/quote]<br>
It‚Äôs by events or ticks.</p>
<p>Look through this.</p>
<p>[code=java]package org.rs2server.rs2.model;</p>
<p>import java.util.ArrayList;<br>
import java.util.List;<br>
import java.util.Random;</p>
<p>import org.rs2server.rs2.Constants;<br>
import org.rs2server.rs2.model.region.Region;<br>
import org.rs2server.rs2.tickable.Tickable;</p>
<p>/**</p>
<ul>
<li>Represents a cannon in game</li>
<li>
<span class="mention">@author</span> Michael</li>
<li>
</li>
</ul>
<p>*/<br>
public class Cannon {</p>
<pre><code>/**
 * The random number generator.
 */
private final Random random = new Random();

/**
 * The player who owns this cannon.
 */
private Player player;

/**
 * The game object for the cannon.
 */
private GameObject gameObject;

/**
 * The parts added to this cannon.
 */
private List&lt;Item&gt; partsAdded;

/**
 * The facing state of this cannon.
 */
private FacingState facingState;

/**
 * The running tick.
 */
private Tickable runningTick;

/**
 * The amount of cannon balls currently loaded.
 */
private int cannonBalls = 0;

/**
 * Represents the states that this cannon can face.
 * @author Michael
 *
 */
private enum FacingState {
	NORTH(0, 515),
	NORTH_EAST(1, 516),
	EAST(2, 517),
	SOUTH_EAST(3, 518),
	SOUTH(4, 519),
	SOUTH_WEST(5, 520),
	WEST(6, 521),
	NORTH_WEST(7, 514);
	
	/**
	 * A map of ids to facing states.
	 */
	private static List&lt;FacingState&gt; facingStates = new ArrayList&lt;FacingState&gt;();
	
	/**
	 * Populates the facing state list.
	 */
	static {
		for(FacingState facingState : FacingState.values()) {
			facingStates.add(facingState);
		}
	}
	
	public static FacingState forId(int id) {
		for(FacingState facingState : facingStates) {
			if(facingState.getId() == id) {
				return facingState;
			}
		}
		return null;
	}
	
	/**
	 * The id of this facing state.
	 */
	private int id;
	
	/**
	 * The animation id this face performs.
	 */
	private int animationId;
	
	FacingState(int id, int animationId) {
		this.id = id;
		this.animationId = animationId;
	}

	public int getId() {
		return id;
	}

	public int getAnimationId() {
		return animationId;
	}
}

public static Item CANNON_BASE = new Item(6);

public Cannon(Player player, Location location) {
	this.player = player;
	this.facingState = FacingState.NORTH;
	this.gameObject = new GameObject(location, 7, 10, 0, false);
	this.partsAdded = new ArrayList&lt;Item&gt;();
	partsAdded.add(CANNON_BASE);
	player.getInventory().remove(CANNON_BASE);
	World.getWorld().register(this.gameObject);
}

public void destroy() {
	World.getWorld().unregister(gameObject, true);
	for(Item item : partsAdded) {
		if(!player.getInventory().add(item)) {
			if(player.getBank().add(item)) {
				player.getActionSender().sendMessage("You don't have enough inventory space to pick up the " + item.getDefinition().getName().toLowerCase() + " so");
				player.getActionSender().sendMessage("it has been deposited into your bank.");
			}
			//uh oh
		}
	}
	if(cannonBalls &gt; 0) {
		Item item = new Item(2, cannonBalls);
		if(!player.getInventory().add(item)) {
			if(player.getBank().add(item)) {
				player.getActionSender().sendMessage("You don't have enough inventory space to pick up the " + item.getDefinition().getName().toLowerCase() + " so");
				player.getActionSender().sendMessage("it has been deposited into your bank.");
			}
			//uh oh
		}
	}
	if(runningTick != null) {
		runningTick.stop();
	}
	player.setAttribute("cannon", null);
}

public void fire() {
	if(runningTick != null) {
		//already running
		return;
	}
	if(cannonBalls &lt; 1) {
		player.getActionSender().sendMessage("There are no cannonballs currently loaded.");
		return;
	}
	runningTick = new Tickable(1) {
		@Override
		public void execute() {
			if(cannonBalls &lt; 1) {
				this.stop();
				runningTick = null;
				player.getActionSender().sendMessage("Your cannon has run out of ammunition.");
				return;
			}
			for(Region r : gameObject.getRegion().getSurroundingRegions()) {
				for(Player player : r.getPlayers()) {
					player.getActionSender().animateObject(gameObject, facingState.getAnimationId());
				}
			}
			
			int id = facingState.getId();
			if(id == 7) {
				id = -1;
			}				
			facingState = FacingState.forId(id + 1);
			

			int delay = 2;
			for(Region r : gameObject.getRegion().getSurroundingRegions()) {
				for(final NPC npc : r.getNpcs()) {
					if(cannonBalls &lt; 1) {
						break;
					}
					if(delay &gt; 3) {
						break;
					}
					int newDist = gameObject.getLocation().distanceToEntity(gameObject, npc);
					if(newDist &lt;= 5 &amp;&amp; newDist &gt;= 1) {
						boolean canHit = false;
						int myX = gameObject.getCentreLocation().getX();
						int myY = gameObject.getCentreLocation().getY();
						int theirX = npc.getCentreLocation().getX();
						int theirY = npc.getCentreLocation().getY();
						switch(facingState) {
						case NORTH:
							if(theirY &gt; myY &amp;&amp; theirX &gt;= myX - 1 &amp;&amp; theirX &lt;= myX + 1) {
								canHit = true;
							}
							break;
						case NORTH_EAST:
							if(theirX &gt;= myX + 1 &amp;&amp; theirY &gt;= myY + 1) {
								canHit = true;
							}
							break;
						case EAST:
							if(theirX &gt; myX &amp;&amp; theirY &gt;= myY - 1 &amp;&amp; theirY &lt;= myY + 1) {
								canHit = true;
							}
							break;
						case SOUTH_EAST:
							if(theirY &lt;= myY - 1 &amp;&amp; theirX &gt;= myX + 1) {
								canHit = true;
							}
							break;
						case SOUTH:
							if(theirY &lt; myY &amp;&amp; theirX &gt;= myX - 1 &amp;&amp; theirX &lt;= myX + 1) {
								canHit = true;
							}
							break;
						case SOUTH_WEST:
							if(theirX &lt;= myX - 1 &amp;&amp; theirY &lt;= myY - 1) {
								canHit = true;
							}
							break;
						case WEST:
							if(theirX &lt; myX &amp;&amp; theirY &gt;= myY - 1 &amp;&amp; theirY &lt;= myY + 1) {
								canHit = true;
							}
							break;
						case NORTH_WEST:
							if(theirX &lt;= myX - 1 &amp;&amp; theirY &gt;= myY + 1) {
								canHit = true;
							}
							break;
						}
						if(!canHit) {
							continue;
						}
						if(player.getActiveCombatAction().canHit(player, npc, false, true)) {
							gameObject.playProjectile(Projectile.create(gameObject.getCentreLocation(), npc.getCentreLocation(), 53, 15 + (delay * 10), 50, 50 + (newDist * 10), 37, 37, npc.getProjectileLockonIndex(), 0, 96));
							cannonBalls--;
							delay += 1;
							World.getWorld().submit(new Tickable(delay) {
								@Override
								public void execute() {
									int damage = random.nextInt(30);
									player.getSkills().addExperience(Skills.RANGE, (4 * damage) * Constants.EXP_MODIFIER);
									npc.inflictDamage(new Hit(damage), player);
									npc.getActiveCombatAction().defend(player, npc, true);
									this.stop();
								}			
							});
						}
					}
				}
			}
		}			
	};
	World.getWorld().submit(runningTick);
}

public void addPart(Item item) {
	int id = -1;
	switch(item.getId()) {
	case 8:
		id = 8;
		break;
	case 10:
		id = 9;
		break;
	case 12:
		id = 6;
		break;
	}
	if(id != -1) {
		player.getInventory().remove(item);
		World.getWorld().unregister(gameObject, true);
		this.gameObject = new GameObject(gameObject.getLocation(), id, 10, 0, false);
		World.getWorld().register(this.gameObject);
		partsAdded.add(item);
	}
}

public GameObject getGameObject() {
	return gameObject;
}

public int getCannonBalls() {
	return cannonBalls;
}

public void addCannonBalls(int cannonBalls) {
	this.cannonBalls += cannonBalls;
}
</code></pre>
<p>}[/code]</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T19:32:34Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:11:58Z' class='post-time'>
              August 1, 2016,  3:11pm
            </time>
        <span itemprop='position'>#336</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>hmmm , a bit different then how I was planning to do it lol.<br>
you know what , I‚Äôm gonna make my own interpretation of a cannon xD</p>
<p>place cannon ;<br>
load cannon ;<br>
check if latest shot was 30 secs or longer ago ;<br>
if not , let the player select an npc to which the cannon will fire. (like selecting a spell manually).</p>
<p>yeah‚Ä¶<br>
yeah screw it , thats how im gonna do it LMAO xD</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imsuperman05.html'><span itemprop='name'>imsuperman05</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T19:40:23Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:11:59Z' class='post-time'>
              August 1, 2016,  3:11pm
            </time>
        <span itemprop='position'>#337</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>lolololol go ahead</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T20:36:29Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:12:04Z' class='post-time'>
              August 1, 2016,  3:12pm
            </time>
        <span itemprop='position'>#338</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So I did it the lazy way ; you can fire it once per minute whenever you are in combat and it will deal 20 - 40 damage.<br>
I guess this means that I‚Äôll have to make cannonballs and cannon parts a rare commodity on my server‚Ä¶(inb4dupers)‚Ä¶</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Svitkona.html'><span itemprop='name'>Svitkona</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-27T21:20:53Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:12:08Z' class='post-time'>
              August 1, 2016,  3:12pm
            </time>
        <span itemprop='position'>#339</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Couldn‚Äôt you create an area for the cannon‚Äôs range and check if a valid entity is in it, and if it is, you attack it? It would be valid if the player was in the wilderness and there were any other players in it‚Äôs range, I guess. The way I would have done it if it was my game is making the cannon attack whatever I am attacking.</p>
<p>edit: I‚Äôm assuming of course that cannons work like that in runescape as I have never been a member. In that case you would just attack whatever the player is attacking I guess.</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-28T05:58:07Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:12:49Z' class='post-time'>
              August 1, 2016,  3:12pm
            </time>
        <span itemprop='position'>#340</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚Äúytuio9`, post:339, topic:256172‚Äù]Couldn‚Äôt you create an area for the cannon‚Äôs range and check if a valid entity is in it, and if it is, you attack it? It would be valid if the player was in the wilderness and there were any other players in it‚Äôs range, I guess. The way I would have done it if it was my game is making the cannon attack whatever I am attacking.</p>
<p>edit: I‚Äôm assuming of course that cannons work like that in runescape as I have never been a member. In that case you would just attack whatever the player is attacking I guess.[/quote]</p>
<p>In normal rs , the cannon turns constantly , shooting any NPC its looking at.<br>
If you are in a multi area zone it will shoot any npc.<br>
if you are in a single cb zone it will also hit every npc  untill you enter combat with 1 npc.<br>
then it will only fire at that npc‚Ä¶</p>
<p>The way I made mine work is when you click it whilst being in battle it will deal 20-40 damage to your current target.<br>
Then requires a 1 minute cooldown.</p>
      </div>

      <meta itemprop='headline' content='Post your code snippets here! [Updated 08/09/2012]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="25617242a7.html?page=16">‚Üê previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="2561729683.html?page=18">next page ‚Üí</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/post-your-code-snippets-here-updated-08-09-2012/256172?page=17 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 20:44:01 GMT -->
</html>
