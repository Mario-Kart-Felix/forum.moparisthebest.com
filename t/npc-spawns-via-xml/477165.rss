<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>NPC Spawns via XML</title>
    <link>https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165</link>
    <description>You will need the XStream library if you don&#39;t already have it.  http://xstream.codehaus.org/download.html

[CODE]package org.hyperion.rs2.model.npc;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.util.List;
import java.util.logging.Logger;

import org.hyperion.rs2.model.Location;
import org.hyperion.rs2.model.ObjectManager;
import org.hyperion.rs2.model.World;
import org.hyperion.rs2.model.region.Region;
import org.hyperion.util.XStreamUtil;

/**
 * Handles npc spawning
 * 
 * @author Thock321
 *
 */

public class NPCSpawner {
	
	/**
	 * Logger instance.
	 */
	private static final Logger logger = Logger.getLogger(NPCSpawner.class.getName());
	
	/**
	 * Loads npcs from an xml file
	 * 
	 * @throws FileNotFoundException
	 */
    @SuppressWarnings(&quot;unchecked&quot;)
	public static void loadNpcSpawns() throws FileNotFoundException {
		logger.info(&quot;Loading npc spawns...&quot;);
		List&lt;NPCSpawn&gt; list = (List&lt;NPCSpawn&gt;) XStreamUtil.getxStream().fromXML(new FileInputStream(&quot;./Data/npc/npcSpawns.xml&quot;));
		for (NPCSpawn n : list) {
			spawnNPC(n);
		}
		logger.info(&quot;Loaded &quot; + list.size() + &quot; npc spawns&quot;);
    }
    
    /**
     * The action spawning of npcs
     * @param n The npc spawn
     */
    public static void spawnNPC(NPCSpawn n) {
		NPC npc = new NPC(NPCDefinition.forId(n.getId()));
		npc.setLocation(new Location(n.getX(), n.getY(), n.getH()));
        Region region = World.getWorld().getRegionManager().getRegionByLocation(npc.getLocation());
        region.addNpc(npc);
        World.getWorld().register(npc);
    }

}
[/CODE]

[CODE]package org.hyperion.rs2.model.npc;

/**
 * A single npc spawn.
 * @author Thock321
 *
 */
public class NPCSpawn {

	/**
	 * The npc id
	 */
	private short npcId;
	
	/**
	 * The npc x coordinate
	 */
	private short x;
	
	/**
	 * The npc y coordinate
	 */
	private short y;
	
	/**
	 * The npc height coordinate
	 */
	private byte h;
	
	/**
	 * Does the npc walk?
	 */
	private boolean walks;
	
	/**
	 * The npc maximum hit
	 */
	private byte maxHit;
	
	/**
	 * The npc&#39;s attack
	 */
	private byte attack;
	
	/**
	 * The npc&#39;s defence
	 */
	private byte defence;
	
	/**
	 * Gets the npc id
	 * @return The npc id
	 */
	public short getId() {
		return npcId;
	}
	
	/**
	 * Gets the npc x coordiante
	 * @return The npc x coordinate
	 */
	public short getX() {
		return x;
	}
	
	/**
	 * Gets the npc y coordinate
	 * @return The npc y coordinate
	 */
	public short getY() {
		return y;
	}
	
	/**
	 * Gets the npc height.
	 * @return The npc height.
	 */
	public byte getH() {
		return h;
	}
	
	/**
	 * Gets if the npc walks.
	 * @return If the npc walks.
	 */
	public boolean getWalks() {
		return walks;
	}
	
	/**
	 * Gets the npc max hit.
	 * @return The npc max hit.
	 */
	public byte getMaxHit() {
		return maxHit;
	}
	
	/**
	 * Gets the npc&#39;s attack.
	 * @return The npc&#39;s attack.
	 */
	public byte getAttack() {
		return attack;
	}
	
	/**
	 * Gets the npc&#39;s defence.
	 * @return The npc&#39;s defence.
	 */
	public byte getDefence() {
		return defence;
	}
	
}
[/CODE]

[CODE]package org.hyperion.util;

import java.io.FileNotFoundException;
import java.io.IOException;

import org.hyperion.rs2.model.npc.NPCSpawn;
import org.hyperion.rs2.model.npc.NPCSpawner;

import com.thoughtworks.xstream.XStream;
 
public class XStreamUtil {
     
    private static XStreamUtil instance = new XStreamUtil();
    private static XStream xStream = new XStream();
     
    public static XStreamUtil getInstance() {
        return instance;
    }
 
    public static XStream getxStream() {
        return xStream;
    }
 
    static {
		xStream.alias(&quot;npcSpawn&quot;, NPCSpawn.class);
    }
     
    public static void loadAllFiles() throws FileNotFoundException, IOException, ClassNotFoundException, InstantiationException, IllegalAccessException {
    	NPCSpawner.loadNpcSpawns();
    }
 
}[/CODE]</description>
    
    <lastBuildDate>Wed, 02 Jan 2013 07:44:35 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>NPC Spawns via XML</title>
        <dc:creator><![CDATA[@thock321 thock321]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/thock321">@thock321</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="6" data-topic="477165">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/m0ssyh0s/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> m0ssyh0s:</div>
<blockquote>
<p>Thanks, this is very helpful. But are you going to explain anything? :s</p>
</blockquote>
</aside>
<p>This is a snippet, not a tutorial.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/7</link>
        <pubDate>Wed, 02 Jan 2013 07:44:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477165-7</guid>
        <source url="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165.rss">NPC Spawns via XML</source>
      </item>
      <item>
        <title>NPC Spawns via XML</title>
        <dc:creator><![CDATA[@m0ssyh0s m0ssyh0s]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/m0ssyh0s">@m0ssyh0s</a> wrote:</p>
          <blockquote>
              <p>Thanks, this is very helpful. But are you going to explain anything? :s</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/6</link>
        <pubDate>Tue, 01 Jan 2013 08:32:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477165-6</guid>
        <source url="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165.rss">NPC Spawns via XML</source>
      </item>
      <item>
        <title>NPC Spawns via XML</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>You should also contain a link to the XStream library in your post.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/5</link>
        <pubDate>Tue, 01 Jan 2013 07:47:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477165-5</guid>
        <source url="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165.rss">NPC Spawns via XML</source>
      </item>
      <item>
        <title>NPC Spawns via XML</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>thanks, I was trying to figure out how to do this awhile back</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/4</link>
        <pubDate>Mon, 31 Dec 2012 20:43:10 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477165-4</guid>
        <source url="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165.rss">NPC Spawns via XML</source>
      </item>
      <item>
        <title>NPC Spawns via XML</title>
        <dc:creator><![CDATA[@dwarfs222 dwarfs222]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dwarfs222">@dwarfs222</a> wrote:</p>
          <blockquote>
              <p>Nice</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/3</link>
        <pubDate>Mon, 31 Dec 2012 19:20:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477165-3</guid>
        <source url="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165.rss">NPC Spawns via XML</source>
      </item>
      <item>
        <title>NPC Spawns via XML</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>sweet man, ty. will be converting</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/2</link>
        <pubDate>Mon, 31 Dec 2012 18:22:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477165-2</guid>
        <source url="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165.rss">NPC Spawns via XML</source>
      </item>
      <item>
        <title>NPC Spawns via XML</title>
        <dc:creator><![CDATA[@thock321 thock321]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/thock321">@thock321</a> wrote:</p>
          <blockquote>
              <p>You will need the XStream library if you don’t already have it.  <a href="http://xstream.codehaus.org/download.html" rel="nofollow noopener">http://xstream.codehaus.org/download.html</a></p>
<p>[CODE]package org.hyperion.rs2.model.npc;</p>
<p>import java.io.FileInputStream;<br>
import java.io.FileNotFoundException;<br>
import java.util.List;<br>
import java.util.logging.Logger;</p>
<p>import org.hyperion.rs2.model.Location;<br>
import org.hyperion.rs2.model.ObjectManager;<br>
import org.hyperion.rs2.model.World;<br>
import org.hyperion.rs2.model.region.Region;<br>
import org.hyperion.util.XStreamUtil;</p>
<p>/**</p>
<ul>
<li>Handles npc spawning</li>
<li>
</li>
<li>
<span class="mention">@author</span> Thock321</li>
<li>
</li>
</ul>
<p>*/</p>
<p>public class NPCSpawner {</p>
<pre><code>/**
 * Logger instance.
 */
private static final Logger logger = Logger.getLogger(NPCSpawner.class.getName());

/**
 * Loads npcs from an xml file
 * 
 * @throws FileNotFoundException
 */
@SuppressWarnings("unchecked")
public static void loadNpcSpawns() throws FileNotFoundException {
	logger.info("Loading npc spawns...");
	List&lt;NPCSpawn&gt; list = (List&lt;NPCSpawn&gt;) XStreamUtil.getxStream().fromXML(new FileInputStream("./Data/npc/npcSpawns.xml"));
	for (NPCSpawn n : list) {
		spawnNPC(n);
	}
	logger.info("Loaded " + list.size() + " npc spawns");
}

/**
 * The action spawning of npcs
 * @param n The npc spawn
 */
public static void spawnNPC(NPCSpawn n) {
	NPC npc = new NPC(NPCDefinition.forId(n.getId()));
	npc.setLocation(new Location(n.getX(), n.getY(), n.getH()));
    Region region = World.getWorld().getRegionManager().getRegionByLocation(npc.getLocation());
    region.addNpc(npc);
    World.getWorld().register(npc);
}
</code></pre>
<p>}<br>
[/CODE]</p>
<p>[CODE]package org.hyperion.rs2.model.npc;</p>
<p>/**</p>
<ul>
<li>A single npc spawn.</li>
<li>
<span class="mention">@author</span> Thock321</li>
<li>
</li>
</ul>
<p>*/<br>
public class NPCSpawn {</p>
<pre><code>/**
 * The npc id
 */
private short npcId;

/**
 * The npc x coordinate
 */
private short x;

/**
 * The npc y coordinate
 */
private short y;

/**
 * The npc height coordinate
 */
private byte h;

/**
 * Does the npc walk?
 */
private boolean walks;

/**
 * The npc maximum hit
 */
private byte maxHit;

/**
 * The npc's attack
 */
private byte attack;

/**
 * The npc's defence
 */
private byte defence;

/**
 * Gets the npc id
 * @return The npc id
 */
public short getId() {
	return npcId;
}

/**
 * Gets the npc x coordiante
 * @return The npc x coordinate
 */
public short getX() {
	return x;
}

/**
 * Gets the npc y coordinate
 * @return The npc y coordinate
 */
public short getY() {
	return y;
}

/**
 * Gets the npc height.
 * @return The npc height.
 */
public byte getH() {
	return h;
}

/**
 * Gets if the npc walks.
 * @return If the npc walks.
 */
public boolean getWalks() {
	return walks;
}

/**
 * Gets the npc max hit.
 * @return The npc max hit.
 */
public byte getMaxHit() {
	return maxHit;
}

/**
 * Gets the npc's attack.
 * @return The npc's attack.
 */
public byte getAttack() {
	return attack;
}

/**
 * Gets the npc's defence.
 * @return The npc's defence.
 */
public byte getDefence() {
	return defence;
}
</code></pre>
<p>}<br>
[/CODE]</p>
<p>[CODE]package org.hyperion.util;</p>
<p>import java.io.FileNotFoundException;<br>
import java.io.IOException;</p>
<p>import org.hyperion.rs2.model.npc.NPCSpawn;<br>
import org.hyperion.rs2.model.npc.NPCSpawner;</p>
<p>import com.thoughtworks.xstream.XStream;</p>
<p>public class XStreamUtil {</p>
<pre><code>private static XStreamUtil instance = new XStreamUtil();
private static XStream xStream = new XStream();
 
public static XStreamUtil getInstance() {
    return instance;
}

public static XStream getxStream() {
    return xStream;
}

static {
	xStream.alias("npcSpawn", NPCSpawn.class);
}
 
public static void loadAllFiles() throws FileNotFoundException, IOException, ClassNotFoundException, InstantiationException, IllegalAccessException {
	NPCSpawner.loadNpcSpawns();
}
</code></pre>
<p>}[/CODE]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165/1</link>
        <pubDate>Mon, 31 Dec 2012 17:49:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477165-1</guid>
        <source url="https://forum.moparisthebest.com/t/npc-spawns-via-xml/477165.rss">NPC Spawns via XML</source>
      </item>
  </channel>
</rss>
