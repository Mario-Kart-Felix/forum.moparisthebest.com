<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] npc drops do not work? help please</title>
    <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914</link>
    <description>Ok well im having trouble geting npc drops to work.

the server im working on, when i got it the drops were not working and i cant seem to figure out why?
1 - droping items was all ready disabled, item disapears
2 - npc drops do not appear when you kill a npc
3 - player drops do not appear when you kill someone 

it was originaly set up with original npcdrops.tsm which i changed with this tut &quot;Completely rewrite drops for PI&quot;
but this has not fixed the problem lol

i need help trying to fix those 3 problems lol but im sure they are all linked to the same problem, which i dont know what that is.</description>
    
    <lastBuildDate>Sun, 19 Jun 2011 20:59:24 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@hakam123 hakam123.]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/hakam123">@hakam123</a> wrote:</p>
          <blockquote>
              <p>No idea… ithink its on drop list</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/30">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/30</link>
        <pubDate>Sun, 19 Jun 2011 20:59:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-30</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@sirmashni1 sirmashni1]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sirmashni1">@sirmashni1</a> wrote:</p>
          <blockquote>
              <p>hey for npc drop i just got the same problem but i changed my NPCHandler.java by an old one and now it work so you can try this… but good luck! <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/29">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/29</link>
        <pubDate>Sun, 19 Jun 2011 15:02:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-29</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@dgk_all_day1 dgk_all_day]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dgk_all_day1">@dgk_all_day1</a> wrote:</p>
          <blockquote>
              <p>ok kool i think thats that for the givelife<br>
this is what it looks like now[code]	public void giveLife() {<br>
//Client o = (Client)Server.playerHandler.players[i];<br>
c.isDead = false;<br>
c.faceUpdate(-1);<br>
c.freezeTimer = 0;<br>
if(c.duelStatus &lt;= 4 &amp;&amp; !c.getPA().inPitsWait()) { // if we are not in a duel we must be in wildy so remove items<br>
if (!CastleWars.isInCw© &amp;&amp; !c.inPits &amp;&amp; !c.inFightCaves()) {<br>
c.getItems().resetKeepItems();<br>
if((c.playerRights == 2 &amp;&amp; Config.ADMIN_DROP_ITEMS) || c.playerRights == 2) {<br>
if(!c.isSkulled) {	// what items to keep<br>
c.getItems().keepItem(0, true);<br>
c.getItems().keepItem(1, true);	<br>
c.getItems().keepItem(2, true);<br>
}<br>
if(c.prayerActive[10] || c.curseActive[0] &amp;&amp; System.currentTimeMillis() - c.lastProtItem &gt; 700) {<br>
c.getItems().keepItem(3, true);<br>
}</p>
<pre><code>                                    //c.getItems().giveBackSpecials();
					c.getItems().dropAllItems(); // drop all items
					c.getItems().deleteAllItems(); // delete all items					
				if(c.prayerActive[10] &amp;&amp; System.currentTimeMillis() - c.lastProtItem &gt; 700) {
					c.getItems().keepItem(3, true);
				}
				if(!c.isSkulled) { // add the kept items once we finish deleting and dropping them	
					for (int i1 = 0; i1 &lt; 3; i1++) {
						if(c.itemKeptId[i1] &gt; 0) {
							c.getItems().addItem(c.itemKeptId[i1], 1);
						}
					}
				}	
				if(c.prayerActive[10]) { // if we have protect items 
					if(c.itemKeptId[3] &gt; 0) {
						c.getItems().addItem(c.itemKeptId[3], 1);
					}
				}
			}
			c.getItems().resetKeepItems();
		} else if (c.inPits) {
			Server.fightPits.removePlayerFromPits(c.playerId);
			c.pitsStatus = 1;
		}
	}[/code]
</code></pre>
<p>umm but im still having a problem with dropping items and npc drops. items you drop should appear on the ground but they dont even tho ive enabled droping items in dropitem.java<br>
any1 know why?<br>
this is my creategrounditem<code>	public void createGroundItem(Client c, int itemId, int itemX, int itemY, int itemAmount, int playerId) {
		if(itemId &gt; 0) {
			if (itemId &gt;= 2412 &amp;&amp; itemId &lt;= 2414) {
				c.sendMessage("The cape vanishes as it touches the ground.");
				return;
			}
			if (itemId &gt; 4705 &amp;&amp; itemId &lt; 4760) {
				for (int j = 0; j &lt; brokenBarrows.length; j++) {
					if (brokenBarrows[j][0] == itemId) {
						itemId = brokenBarrows[j][1];
						break;
					}
				}
			}
			if (!server.model.items.Item.itemStackable[itemId] &amp;&amp; itemAmount &gt; 0) {
				for (int j = 0; j &lt; itemAmount; j++) {
					c.getItems().createGroundItem(itemId, itemX, itemY, 1);
					GroundItem item = new GroundItem(itemId, itemX, itemY, 1, c.playerId, HIDE_TICKS, Server.playerHandler.players[playerId].playerName);
					addItem(item);
				}	
			} else {
				c.getItems().createGroundItem(itemId, itemX, itemY, itemAmount);
				GroundItem item = new GroundItem(itemId, itemX, itemY, itemAmount, c.playerId, HIDE_TICKS, Server.playerHandler.players[playerId].playerName);
				addItem(item);
			}
		}
	}</code></p>
<p>and my dropitem.java[code]package server.model.players.packets;</p>
<p>import server.Config;<br>
import server.Server;<br>
import server.model.players.Client;<br>
import server.model.players.PacketType;<br>
import server.model.npcs.*;</p>
<p>/**</p>
<ul>
<li>
<p>Drop Item<br>
**/<br>
public class DropItem implements PacketType {</p>
<p><a class="mention" href="/u/override">@Override</a><br>
public void processPacket(Client c, int packetType, int packetSize) {<br>
int itemId = c.getInStream().readUnsignedWordA();<br>
c.getInStream().readUnsignedByte();<br>
c.getInStream().readUnsignedByte();<br>
c.setDidDrop(true);<br>
int slot = c.getInStream().readUnsignedWordA();<br>
if(c.inTrade) {<br>
c.sendMessage(“You can’t drop items while trading!”);<br>
return;<br>
}<br>
if(c.arenas()) {<br>
c.sendMessage(“You can’t drop items inside the arena!”);<br>
return;<br>
}</p>
<pre><code> for (int p : Config.CAT_ITEMS) {
 		if (p == itemId) {
 		if(c.hasNpc == true) {
 			boolean droppable = false;
 			break;
 		}
 	}
 }
 
 if(itemId == 1560) {
 			if (!c.hasNpc) {
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getPA().followPlayer();
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.hasNpc = true;
 				//c.summonId = 2;
 			} else
 				return;
 		}
 		if(itemId == 1559) {
 			if (!c.hasNpc) {
 				c.sendMessage("You drop your Kitten");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				c.hasNpc = true;
 				//c.summonId = 3;
 			} else
 				return;
 		}
 		if(itemId == 1558) {
 			if (!c.hasNpc) {
 				c.sendMessage("You drop your Kitten");
 				//c.summonId = 4;
 				c.hasNpc = true;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 1557) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Kitten");
 				//c.summonId = 5;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 1556) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Kitten");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 6;
 			} else
 				return;
 		}
 		if(itemId == 1555) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Kitten");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 7;
 			} else
 				return;
 		}
 		if(itemId == 1561) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Cat");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 8;
 			} else
 				return;
 		}
 		if(itemId == 1562) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Cat");
 				//c.summonId = 9;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 1563 &amp;&amp; !c.hasNpc) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Cat");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 10;
 			} else
 				return;
 		}
 		if(itemId == 1564) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Cat");
 				//c.summonId = 11;
 					Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 1565) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Cat");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 12;
 			} else
 					return;
 		}
 		if(itemId == 7583) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Hell Kitten");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 12;
 			} else
 					return;
 		}
 		if(itemId == 1566) {
 			if (!c.hasNpc) {
 					c.hasNpc = true;
 					c.sendMessage("You drop your Cat");
 							Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 					c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 					c.getPA().followPlayer();
 					//c.summonId = 13;
 				} else
 					return;
 		}
 		if(itemId == 7585) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Hellcat");
 				//c.summonId = 14;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 12470) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You summon your Dragon!");
 				//c.summonId = 16;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 12472) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You summon your Dragon!");
 				//c.summonId = 16;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 12474) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You summon your Dragon!");
 				//c.summonId = 16;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 12476) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You summon your Dragon!");
 				//c.summonId = 16;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 12790) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You summon your titan!");
 				//c.summonId = 16;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 7584) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Lazy Hellcat");
 				//c.summonId = 15;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else 
 				return;
 		}
 
 boolean droppable = true;
 for (int i : Config.UNDROPPABLE_ITEMS) {
 	if (i == itemId) {
 		droppable = false;
 		break;
 	}
 }
 if(c.playerItemsN[slot] != 0 &amp;&amp; itemId != -1 &amp;&amp; c.playerItems[slot] == itemId + 1) {
 	if(droppable) {
 		if (c.underAttackBy &gt; 0) {
 			if (c.getShops().getItemShopValue(itemId) &gt; 1000) {
 				c.sendMessage("You may not drop items worth more than 1000 while in combat.");
 				return;
 			}
 		}
 Server.itemHandler.createGroundItem(c, itemId, c.getX(), c.getY(), c.playerItemsN[slot], c.getId());
                         c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
                 } else {
                         c.sendMessage("This items cannot be dropped.");
                 }
 }
</code></pre>
<p>}<br>
}<br>
[/code]</p>
</li>
</ul>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/28">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/28</link>
        <pubDate>Sun, 19 Jun 2011 09:28:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-28</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@emtrescue emtrescue]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/emtrescue">@emtrescue</a> wrote:</p>
          <blockquote>
              <p>where it says if(c.playerrights =4 <em>than it list like three other playerrights</em><br>
take that line out (using front page tto find this)</p>
<p>and where it says != 2 by the config admin change it to == 2</p>
<p>that should fix the issues</p>
<p>make sure after deleting all the line of where it says if(.cplayerrights = 4<br>
if u delete a bracket mke sure u even the other ones out know what i mean?</p>
<p>edit i need to go i hope you understand what i mean *if he has trouble i know other coders understand what he has to do someone help him.</p>
<p>be back in like 20 hours</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/27">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/27</link>
        <pubDate>Sun, 19 Jun 2011 08:57:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-27</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@dgk_all_day1 dgk_all_day]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dgk_all_day1">@dgk_all_day1</a> wrote:</p>
          <blockquote>
              <p>kk fixing errors</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/26">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/26</link>
        <pubDate>Sun, 19 Jun 2011 08:55:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-26</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@emtrescue emtrescue]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/emtrescue">@emtrescue</a> wrote:</p>
          <blockquote>
              <p>if you get an 100 error thing its cause i missed a bracket</p>
<p>but the reason they werent dropping because of the plyerrights == 0 thing it pretty much told the server to skip that player rights</p>
<p>edit: friend wants hes laptop back soon</p>
<p>if u get any errors just take the playerrights parts out i ended up just deleting the configadmin line and dont have admins spawning cause it stop any higher rights from droping anything. anyways i have to go …</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/25">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/25</link>
        <pubDate>Sun, 19 Jun 2011 08:47:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-25</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@dgk_all_day1 dgk_all_day]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dgk_all_day1">@dgk_all_day1</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="22" data-topic="399914">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/l0lc0pt3r/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> l0lc0pt3r:</div>
<blockquote>
<p>hmm well i guess the other guy has it…sorry i culdnt be of more help D: anyway tho, good luck running your server <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
</blockquote>
</aside>
<p>thanks for trying to help</p>
<p>i added that code under config compiling will test ina sec</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/24</link>
        <pubDate>Sun, 19 Jun 2011 08:45:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-24</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@emtrescue emtrescue]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/emtrescue">@emtrescue</a> wrote:</p>
          <blockquote>
              <p>right under the config admin thing</p>
<p>[code]if(!c.isSkulled) {	// what items to keep<br>
c.getItems().keepItem(0, true);<br>
c.getItems().keepItem(1, true);	<br>
c.getItems().keepItem(2, true);</p>
<pre><code>				}	
				if(c.prayerActive[10] || c.curseActive[0] &amp;&amp; System.currentTimeMillis() - c.lastProtItem &gt; 700) {
					c.getItems().keepItem(3, true);
				}
                                   c.getItems().dropAllItemsPVP();
				if(c.trade11 &lt; 1 &amp;&amp; !c.inRFD() &amp;&amp; !c.isInFala() &amp;&amp; !c.isInArd()) {

	
				c.getItems().dropAllItems(); // drop all items
				c.getItems().deleteAllItems(); // delete all items
				//c.getItems().giveBackSpecials();
				
			        }[/code]
</code></pre>
<p>change it to this</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/23">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/23</link>
        <pubDate>Sun, 19 Jun 2011 08:42:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-23</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@l0lc0pt3r l0lc0pt3r]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/l0lc0pt3r">@l0lc0pt3r</a> wrote:</p>
          <blockquote>
              <p>hmm well i guess the other guy has it…sorry i culdnt be of more help D: anyway tho, good luck running your server <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/22">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/22</link>
        <pubDate>Sun, 19 Jun 2011 08:42:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-22</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@dgk_all_day1 dgk_all_day]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dgk_all_day1">@dgk_all_day1</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="19" data-topic="399914">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/l0lc0pt3r/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> l0lc0pt3r:</div>
<blockquote>
<p>u culd just have an error thru-out all of ur npcdrops.TSM (in cfg files) when all my monsters wuldnt drop i guess i had an error in there. look over that as well</p>
</blockquote>
</aside>
<p>its not that i chnged the drop system with a tut</p>
<p>also no return or anything in with your firecape tut area</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/21</link>
        <pubDate>Sun, 19 Jun 2011 08:40:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-21</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@emtrescue emtrescue]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/emtrescue">@emtrescue</a> wrote:</p>
          <blockquote>
              <p>i already see the problem hang on a minute…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/20</link>
        <pubDate>Sun, 19 Jun 2011 08:38:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-20</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@l0lc0pt3r l0lc0pt3r]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/l0lc0pt3r">@l0lc0pt3r</a> wrote:</p>
          <blockquote>
              <p>u culd just have an error thru-out all of ur npcdrops.TSM (in cfg files) when all my monsters wuldnt drop i guess i had an error in there. look over that as well</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/19</link>
        <pubDate>Sun, 19 Jun 2011 08:37:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-19</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@dgk_all_day1 dgk_all_day]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dgk_all_day1">@dgk_all_day1</a> wrote:</p>
          <blockquote>
              <p>[quote=“emtrescue, post:17, topic:399914”]okay well when i was trying to figure out firecape if i did a return instead of continue it made items not drop or if in givelife i didnt add the</p>
<p>c.getitem()deleteallitems(); thing than that would have caused no drops also[/quote]<br>
umm this is my givelife<code>	public void giveLife() {
		//Client o = (Client)Server.playerHandler.players[i];
		c.isDead = false;
		c.faceUpdate(-1);
		c.freezeTimer = 0;
		if(c.duelStatus &lt;= 4 &amp;&amp; !c.getPA().inPitsWait()) { // if we are not in a duel we must be in wildy so remove items
			if (!CastleWars.isInCw(c) &amp;&amp; !c.inPits &amp;&amp; !c.inFightCaves()) {
					c.getItems().resetKeepItems();
				if((c.playerRights == 2 &amp;&amp; Config.ADMIN_DROP_ITEMS) || c.playerRights != 2) {
					if(!c.isSkulled) {	// what items to keep
						c.getItems().keepItem(0, true);
						c.getItems().keepItem(1, true);	
						c.getItems().keepItem(2, true);
					}
					if (c.playerRights == 4 || c.playerRights == 1 || c.playerRights == 0) {
						c.getItems().dropAllItems(); // drop all items
						c.getItems().deleteAllItems(); // delete all items
					}					
					if(c.prayerActive[10] &amp;&amp; System.currentTimeMillis() - c.lastProtItem &gt; 700) {
						c.getItems().keepItem(3, true);
					}
					if(!c.isSkulled) { // add the kept items once we finish deleting and dropping them	
						for (int i1 = 0; i1 &lt; 3; i1++) {
							if(c.itemKeptId[i1] &gt; 0) {
								c.getItems().addItem(c.itemKeptId[i1], 1);
							}
						}
					}	
					if(c.prayerActive[10]) { // if we have protect items 
						if(c.itemKeptId[3] &gt; 0) {
							c.getItems().addItem(c.itemKeptId[3], 1);
						}
					}
				}
				c.getItems().resetKeepItems();
			} else if (c.inPits) {
				Server.fightPits.removePlayerFromPits(c.playerId);
				c.pitsStatus = 1;
			}
		}
		c.getCombat().resetPrayers();
		for (int i = 0; i &lt; 20; i++) {
			c.playerLevel[i] = getLevelForXP(c.playerXP[i]);
			c.getPA().refreshSkill(i);
		}
		if (c.pitsStatus == 1) {
			movePlayer(2399, 5173, 0);
		if (CastleWars.isInCw(c)) {
            if (CastleWars.getTeamNumber(c) == 1) {
                c.getPA().movePlayer(2426 + Misc.random(3), 3076 - Misc.random(3), 1);
            } else {
                c.getPA().movePlayer(2373 + Misc.random(3), 3131 - Misc.random(3), 1);
            }
        }
				if (CastleWars.isInCw(c)) {
                    c.cwDeaths += 1;
                    c.cwKills += 1;
                }
		} else if(c.duelStatus &lt;= 4) { // if we are not in a duel repawn to wildy
			movePlayer(Config.RESPAWN_X, Config.RESPAWN_Y, 0);
			c.isSkulled = false;
			c.skullTimer = 0;
			c.attackedPlayers.clear();	
		} else if (c.inFightCaves()) {
			c.getPA().resetTzhaar();
		} else { // we are in a duel, respawn outside of arena
			Client o = (Client) Server.playerHandler.players[c.duelingWith];
			if(o != null) {
				o.getPA().createPlayerHints(10, -1);
				if(o.duelStatus == 6) {
					o.getTradeAndDuel().duelVictory();
				}
			}
			movePlayer(Config.DUELING_RESPAWN_X+(Misc.random(Config.RANDOM_DUELING_RESPAWN)), Config.DUELING_RESPAWN_Y+(Misc.random(Config.RANDOM_DUELING_RESPAWN)), 0);
			if(c.duelStatus != 6) { // if we have won but have died, don't reset the duel status.
				c.getTradeAndDuel().resetDuel();
			}
		}
		//PlayerSaving.getSingleton().requestSave(c.playerId);
		PlayerSave.saveGame(c);
		c.getCombat().resetPlayerAttack();
		resetAnimation();
		c.startAnimation(65535);
		c.getCombat().resetPrayers();
		//c.getCurse().resetCurses();
		frame1();
		resetTb();
		c.isSkulled = false;
		c.attackedPlayers.clear();
		c.headIconPk = -1;
		c.skullTimer = -1;
		c.damageTaken = new int[Config.MAX_PLAYERS];
		c.getPA().requestUpdates();
	}
	</code><br>
and with firecape thing, am i looking in those areas for a return? or should i follow your tut?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/18</link>
        <pubDate>Sun, 19 Jun 2011 08:35:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-18</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@emtrescue emtrescue]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/emtrescue">@emtrescue</a> wrote:</p>
          <blockquote>
              <p>okay well when i was trying to figure out firecape if i did a return instead of continue it made items not drop or if in givelife i didnt add the</p>
<p>c.getitem()deleteallitems(); thing than that would have caused no drops also</p>
<p>also if you hhave the admin cant drop items accidently set up wrong than that would cause no drops also</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/17</link>
        <pubDate>Sun, 19 Jun 2011 08:26:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-17</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@dgk_all_day1 dgk_all_day]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dgk_all_day1">@dgk_all_day1</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="15" data-topic="399914">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/emtrescue/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> emtrescue:</div>
<blockquote>
<p>yes hold on need to get the right coding off my server… and for things not dropping look at my  firecape undroppable tut someone messed with that code or in givelife…hold on i need to be looking at the code</p>
</blockquote>
</aside>
<p>givelife is fine ive checked over that, its something else and ill check the firecape thing again, i think that code in firecape is also right too…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/16</link>
        <pubDate>Sun, 19 Jun 2011 08:22:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-16</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@emtrescue emtrescue]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/emtrescue">@emtrescue</a> wrote:</p>
          <blockquote>
              <p>yes hold on need to get the right coding off my server… and for things not dropping look at my  firecape undroppable tut someone messed with that code or in givelife…hold on i need to be looking at the code</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/15</link>
        <pubDate>Sun, 19 Jun 2011 08:21:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-15</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@dgk_all_day1 dgk_all_day]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dgk_all_day1">@dgk_all_day1</a> wrote:</p>
          <blockquote>
              <p>[quote=“emtrescue, post:13, topic:399914”]<a href="http://www.moparisthebest.com/smf/index.php/topic,496639.0.html" rel="nofollow noopener">http://www.moparisthebest.com/smf/index.php/topic,496639.0.html</a></p>
<p>but instead of loadconstants have it load npcdrops it should be understandable form there[/quote]<br>
this will do what?</p>
<p>ok well ive narrowd it down a little bit.<br>
Ok well 3 problems not just npc drops im sure they are fine, items are not apearing on the ground and cant figure out how to fix that?</p>
<p>1 - droping items does not work and is enabled in dropitem.java but the item doesnt apear on ground . So this means it could be a problem with creategrounditem? any ideas?</p>
<p>2 - npc drops do not appear when you kill a npc, they are not apearing on th ground, but i think its the same problem for 1 thats stopping this aswell</p>
<p>3 - player drops do not appear when you kill someone, same problem i think</p>
<p>any ideas?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/14</link>
        <pubDate>Sun, 19 Jun 2011 08:18:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-14</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@emtrescue emtrescue]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/emtrescue">@emtrescue</a> wrote:</p>
          <blockquote>
              <aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://forum.moparisthebest.com/uploads/default/original/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a.png" class="site-icon" width="32" height="32">
      <a href="https://forum.moparisthebest.com/" target="_blank">moparisthebest.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" class="thumbnail onebox-avatar" width="500" height="500">

<h3><a href="https://forum.moparisthebest.com/" target="_blank">moparisthebest.com</a></h3>

<p>programming, irc, cars</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>but instead of loadconstants have it load npcdrops it should be understandable form there</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/13</link>
        <pubDate>Sun, 19 Jun 2011 07:58:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-13</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@l0lc0pt3r l0lc0pt3r]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/l0lc0pt3r">@l0lc0pt3r</a> wrote:</p>
          <blockquote>
              <p>well there ya go then <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> gl on ur server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/12</link>
        <pubDate>Sun, 19 Jun 2011 07:51:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-12</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@dgk_all_day1 dgk_all_day]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dgk_all_day1">@dgk_all_day1</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="10" data-topic="399914">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/l0lc0pt3r/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> l0lc0pt3r:</div>
<blockquote>
<p>check in src&gt;server&gt;model&gt;npcs if not anything in there then idk</p>
</blockquote>
</aside>
<p>yes NPCdrops.java is in there</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/11</link>
        <pubDate>Sun, 19 Jun 2011 07:31:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-11</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@l0lc0pt3r l0lc0pt3r]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/l0lc0pt3r">@l0lc0pt3r</a> wrote:</p>
          <blockquote>
              <p>check in src&gt;server&gt;model&gt;npcs if not anything in there then idk</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/10</link>
        <pubDate>Sun, 19 Jun 2011 07:17:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-10</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@dgk_all_day1 dgk_all_day]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dgk_all_day1">@dgk_all_day1</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="8" data-topic="399914">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/krackkid/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> krackkid:</div>
<blockquote>
<p>The file is npcitemdrops.java I am looking at my delta source right now.</p>
</blockquote>
</aside>
<p>lol sorry im using project insanity, cant find it its not there.</p>
<p>*i still need help!!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/9</link>
        <pubDate>Sun, 19 Jun 2011 06:32:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-9</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@krackkid Krackkid]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/krackkid">@krackkid</a> wrote:</p>
          <blockquote>
              <p>The file is npcitemdrops.java I am looking at my delta source right now.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/8</link>
        <pubDate>Sun, 19 Jun 2011 06:30:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-8</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@dgk_all_day1 dgk_all_day]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dgk_all_day1">@dgk_all_day1</a> wrote:</p>
          <blockquote>
              <p>[quote=“krackkid, post:6, topic:399914”][quote author=dgk_all_day link=topic=497017.msg3634056#msg3634056 date=1308464558]</p>
<aside class="quote">
<blockquote>
<p>Find your npcitemdrops.java and make sure that it says true.</p>
</blockquote>
</aside>
<p>umm ive found NPCdrops.java there is no true or false in that. umm i dont think there is npcitemdrops where is it usualy?<br>
theres dropitem.java but what am i looking for?</p>
<p>[/quote]Try to reinstall java then, Because it should be there.[/quote]<br>
what lol why would i reinstall java? um it may just be renamed this is whats in dropitem.java</p>
<p>[code]package server.model.players.packets;</p>
<p>import server.Config;<br>
import server.Server;<br>
import server.model.players.Client;<br>
import server.model.players.PacketType;<br>
import server.model.npcs.*;</p>
<p>/**</p>
<ul>
<li>
<p>Drop Item<br>
**/<br>
public class DropItem implements PacketType {</p>
<p><a class="mention" href="/u/override">@Override</a><br>
public void processPacket(Client c, int packetType, int packetSize) {<br>
int itemId = c.getInStream().readUnsignedWordA();<br>
c.getInStream().readUnsignedByte();<br>
c.getInStream().readUnsignedByte();<br>
c.setDidDrop(true);<br>
int slot = c.getInStream().readUnsignedWordA();<br>
if(c.inTrade) {<br>
c.sendMessage(“You can’t drop items while trading!”);<br>
return;<br>
}<br>
if(c.arenas()) {<br>
c.sendMessage(“You can’t drop items inside the arena!”);<br>
return;<br>
}</p>
<pre><code> for (int p : Config.CAT_ITEMS) {
 		if (p == itemId) {
 		if(c.hasNpc == true) {
 			boolean droppable = false;
 			break;
 		}
 	}
 }
 
 if(itemId == 1560) {
 			if (!c.hasNpc) {
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getPA().followPlayer();
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.hasNpc = true;
 				//c.summonId = 2;
 			} else
 				return;
 		}
 		if(itemId == 1559) {
 			if (!c.hasNpc) {
 				c.sendMessage("You drop your Kitten");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				c.hasNpc = true;
 				//c.summonId = 3;
 			} else
 				return;
 		}
 		if(itemId == 1558) {
 			if (!c.hasNpc) {
 				c.sendMessage("You drop your Kitten");
 				//c.summonId = 4;
 				c.hasNpc = true;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 1557) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Kitten");
 				//c.summonId = 5;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 1556) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Kitten");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 6;
 			} else
 				return;
 		}
 		if(itemId == 1555) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Kitten");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 7;
 			} else
 				return;
 		}
 		if(itemId == 1561) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Cat");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 8;
 			} else
 				return;
 		}
 		if(itemId == 1562) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Cat");
 				//c.summonId = 9;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 1563 &amp;&amp; !c.hasNpc) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Cat");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 10;
 			} else
 				return;
 		}
 		if(itemId == 1564) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Cat");
 				//c.summonId = 11;
 					Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 1565) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Cat");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 12;
 			} else
 					return;
 		}
 		if(itemId == 7583) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Hell Kitten");
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 				//c.summonId = 12;
 			} else
 					return;
 		}
 		if(itemId == 1566) {
 			if (!c.hasNpc) {
 					c.hasNpc = true;
 					c.sendMessage("You drop your Cat");
 							Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 					c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 					c.getPA().followPlayer();
 					//c.summonId = 13;
 				} else
 					return;
 		}
 		if(itemId == 7585) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Hellcat");
 				//c.summonId = 14;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 12470) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You summon your Dragon!");
 				//c.summonId = 16;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 12472) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You summon your Dragon!");
 				//c.summonId = 16;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 12474) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You summon your Dragon!");
 				//c.summonId = 16;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 12476) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You summon your Dragon!");
 				//c.summonId = 16;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 12790) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You summon your titan!");
 				//c.summonId = 16;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else
 				return;
 		}
 		if(itemId == 7584) {
 			if (!c.hasNpc) {
 				c.hasNpc = true;
 				c.sendMessage("You drop your Lazy Hellcat");
 				//c.summonId = 15;
 				Server.npcHandler.spawnNpc3(c, Server.npcHandler.summonItemId(itemId), c.absX, c.absY-1, c.heightLevel, 0, 120, 25, 200, 200, true, false, true);
 				c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
 				c.getPA().followPlayer();
 			} else 
 				return;
 		}
 
 boolean droppable = true;
 for (int i : Config.UNDROPPABLE_ITEMS) {
 	if (i == itemId) {
 		droppable = false;
 		break;
 	}
 }
 if(c.playerItemsN[slot] != 0 &amp;&amp; itemId != -1 &amp;&amp; c.playerItems[slot] == itemId + 1) {
 	if(droppable) {
 		if (c.underAttackBy &gt; 0) {
 			if (c.getShops().getItemShopValue(itemId) &gt; 1000) {
 				c.sendMessage("You may not drop items worth more than 1000 while in combat.");
 				return;
 			}
 		}
 Server.itemHandler.createGroundItem(c, itemId, c.getX(), c.getY(), c.playerItemsN[slot], c.getId());
                         c.getItems().deleteItem(itemId, slot, c.playerItemsN[slot]);
                 } else {
                         c.sendMessage("This items cannot be dropped.");
                 }
 }
</code></pre>
<p>}<br>
}<br>
[/code]<br>
and this is whats in npcdrops.java[code]package server.model.npcs;</p>
</li>
</ul>
<p>import java.io.File;<br>
import java.util.HashMap;<br>
import java.util.StringTokenizer;<br>
import java.util.Scanner;</p>
<p>/**</p>
<ul>
<li>
<span class="mention">@author</span> Sanity<br>
*/</li>
</ul>
<p>public class NPCDrops {</p>
<pre><code>public NPCDrops() {
	loadDrops();
}



public static HashMap&lt;Integer, int[][]&gt; normalDrops = new HashMap&lt;Integer, int[][]&gt;();
public static HashMap&lt;Integer, int[][]&gt; rareDrops = new HashMap&lt;Integer, int[][]&gt;();
public static HashMap&lt;Integer, int[]&gt; constantDrops = new HashMap&lt;Integer, int[]&gt;();
public static HashMap&lt;Integer, Integer&gt; dropRarity = new HashMap&lt;Integer,Integer&gt;();

public void loadDrops() {
	try {
		int[][][] npcDrops = new int [7000][][];
		int[][][] rareDrops2 = new int [7000][][];
		int[] itemRarity = new int [7000];
		File f = new File("./Data/cfg/NPCDrops.TSM");
		Scanner s = new Scanner(f);
		while (s.hasNextLine()) {
			String line = s.nextLine();
			if (line.startsWith("#"))
				continue;
			StringTokenizer normalTok = new StringTokenizer(line, "\t");
			line = s.nextLine();
			if (line.startsWith("#"))
				continue;
			StringTokenizer rareTok = new StringTokenizer(line, "\t");
			String[] information = normalTok.nextToken().split(":");
			int npcId = Integer.parseInt(information[0]);
			itemRarity[npcId] = Integer.parseInt(information[1])-1;
			npcDrops[npcId] = new int[normalTok.countTokens()][2];
			rareDrops2[npcId] = new int[rareTok.countTokens()][2];
			int count = 0;
			while (normalTok.hasMoreTokens()) {
				String[] temp = normalTok.nextToken().split(":");
				npcDrops[npcId][count][0] = Integer.parseInt(temp[0]);
				npcDrops[npcId][count][1] = Integer.parseInt(temp[1]);
				count++;
			}
			count = 0;
			while (rareTok.hasMoreTokens()) {
				String[] temp = rareTok.nextToken().split(":");
				rareDrops2[npcId][count][0] = Integer.parseInt(temp[0]);
				System.out.println("Raredrop: " + count + " " + rareDrops2[npcId][count][0]);
				rareDrops2[npcId][count][1] = Integer.parseInt(temp[1]);
				System.out.println("Raredrop: " + count + " " + rareDrops2[npcId][count][1]);
				count++;
			}
			normalDrops.put(npcId, npcDrops[npcId]);
			rareDrops.put(npcId, rareDrops2[npcId]);
			dropRarity.put(npcId, itemRarity[npcId]);
		}
		loadConstants();
	} catch (Exception e) {
		e.printStackTrace();
	}	
}

public void loadConstants() {
	try {
		File f = new File("./Data/cfg/NpcConstants.TSM");
		Scanner s = new Scanner(f);
		while (s.hasNextLine()) {
			String line = s.nextLine();
			if (line.startsWith("#"))
				continue;
			StringTokenizer constantTok = new StringTokenizer(line, "\t");
			int npcId = Integer.parseInt(constantTok.nextToken());
			int count = 0;
			int[] temp = new int[constantTok.countTokens()];
			while (constantTok.hasMoreTokens()) {
				temp[count] = Integer.parseInt(constantTok.nextToken());
				count++;
			}
			constantDrops.put(npcId,temp);
		}
	} catch (Exception e) {
		e.printStackTrace();
	}

}
</code></pre>
<p>}<br>
[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/7</link>
        <pubDate>Sun, 19 Jun 2011 06:29:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-7</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
      <item>
        <title>[PI] npc drops do not work? help please</title>
        <dc:creator><![CDATA[@krackkid Krackkid]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/krackkid">@krackkid</a> wrote:</p>
          <blockquote>
              <p>[quote=“dgk_all_day, post:5, topic:399914”][quote author=krackkid link=topic=497017.msg3634042#msg3634042 date=1308463883]<br>
Find your npcitemdrops.java and make sure that it says true.<br>
[/quote]<br>
umm ive found NPCdrops.java there is no true or false in that. umm i dont think there is npcitemdrops where is it usualy?<br>
theres dropitem.java but what am i looking for?[/quote]Try to reinstall java then, Because it should be there.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914/6</link>
        <pubDate>Sun, 19 Jun 2011 06:24:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-399914-6</guid>
        <source url="https://forum.moparisthebest.com/t/pi-npc-drops-do-not-work-help-please/399914.rss">[PI] npc drops do not work? help please</source>
      </item>
  </channel>
</rss>
