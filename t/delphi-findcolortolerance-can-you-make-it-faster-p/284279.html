<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/delphi-findcolortolerance-can-you-make-it-faster-p/284279 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 11:56:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Delphi]FindColorTolerance - Can you make it faster? :P - General Programming - moparisthebest.com</title>
    <meta name="description" content="type
  PRGBQuadArray = ^TRGBQuadArray;
  TRGBQuadArray = array [0..0] of TRGBQuad;
function FindColorTolerance(Client : HDC; TargetColor : TRGBQuad; var dx, dy : Integer; x1, y1, x2, y2, Tolerance : Integer) : Boolean;
&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="284279.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Delphi]FindColorTolerance - Can you make it faster? :P&#39;" href="284279.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/delphi-findcolortolerance-can-you-make-it-faster-p/284279" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/delphi-findcolortolerance-can-you-make-it-faster-p/284279" />
<meta property="og:title" content="[Delphi]FindColorTolerance - Can you make it faster? :P" />
<meta name="twitter:title" content="[Delphi]FindColorTolerance - Can you make it faster? :P" />
<meta property="og:description" content="[code]type  PRGBQuadArray = ^TRGBQuadArray;  TRGBQuadArray = array [0…0] of TRGBQuad;  function FindColorTolerance(Client : HDC; TargetColor : TRGBQuad; var dx, dy : Integer; x1, y1, x2, y2, Tolerance : Integer) : Boolean;  const  Offset : array [0…0] of Integer = (1);  var  bmpW, bmpH : Integer;  bmi : TBitmapInfo;  DIBHandle : HBitmap;  CompDC : HDC;  PrevObj : HGDIOBJ;  Pixels : PRGBQuadArray;  i, l , HW : Integer;  j : Integer;  begin  Result := False;  bmpW := x2 - x1 + 1;  bmpH := y2 - y1 ..." />
<meta name="twitter:description" content="[code]type  PRGBQuadArray = ^TRGBQuadArray;  TRGBQuadArray = array [0…0] of TRGBQuad;  function FindColorTolerance(Client : HDC; TargetColor : TRGBQuad; var dx, dy : Integer; x1, y1, x2, y2, Tolerance : Integer) : Boolean;  const  Offset : array [0…0] of Integer = (1);  var  bmpW, bmpH : Integer;  bmi : TBitmapInfo;  DIBHandle : HBitmap;  CompDC : HDC;  PrevObj : HGDIOBJ;  Pixels : PRGBQuadArray;  i, l , HW : Integer;  j : Integer;  begin  Result := False;  bmpW := x2 - x1 + 1;  bmpH := y2 - y1 ..." />
<meta property="article:published_time" content="2009-06-19T00:44:05+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="2842794658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="284279.html">[Delphi]FindColorTolerance - Can you make it faster? :P</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/charmz.html'><span itemprop='name'>charmz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T00:44:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:34:27Z' class='post-time'>
              July 31, 2016,  8:34am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[code]type<br>
PRGBQuadArray = ^TRGBQuadArray;<br>
TRGBQuadArray = array [0…0] of TRGBQuad;</p>
<p>function FindColorTolerance(Client : HDC; TargetColor : TRGBQuad; var dx, dy : Integer; x1, y1, x2, y2, Tolerance : Integer) : Boolean;</p>
<p>const<br>
Offset : array [0…0] of Integer = (1);</p>
<p>var<br>
bmpW, bmpH : Integer;<br>
bmi : TBitmapInfo;<br>
DIBHandle : HBitmap;<br>
CompDC : HDC;<br>
PrevObj : HGDIOBJ;<br>
Pixels : PRGBQuadArray;<br>
i, l , HW : Integer;<br>
j : Integer;</p>
<p>begin</p>
<p>Result := False;</p>
<p>bmpW := x2 - x1 + 1;<br>
bmpH := y2 - y1 + 1;</p>
<p>FillMemory(<span class="mention">@bmi</span>, SizeOf(TBitmapInfo), 0);<br>
with bmi.bmiHeader do<br>
begin<br>
biSize        := SizeOf(TBitmapInfoHeader);<br>
biWidth       := bmpW;<br>
biHeight      := -bmpH;<br>
biPlanes      := 1;<br>
biBitCount    := 32;<br>
biCompression := BI_RGB;<br>
end;</p>
<p>try<br>
DIBHandle := CreateDIBSection(0, bmi, DIB_RGB_COLORS, Pointer(Pixels), 0, 0);</p>
<pre><code>CompDC := CreateCompatibleDC(Client);
PrevObj := SelectObject(CompDC, DIBHandle);

BitBlt(CompDC, 0, 0, bmpW, bmpH, Client, x1, y1, SRCCOPY);

l := High(Offset);

HW := ( bmpH - 1 ) * ( bmpW - 1 );

for j := 0 to l do
begin
  if Result then
    Break;

  i := 0 - OffSet[j];
  while ( i &lt; ( HW ) - OffSet[j] ) and ( not Result ) do
  begin
    Inc(i, Length(OffSet));
    if Sqr(Tolerance) &gt;= (Sqr(TargetColor.rgbRed - Pixels^[i].rgbRed)
                        + Sqr(TargetColor.rgbGreen - Pixels^[i].rgbGreen)
                        + Sqr(TargetColor.rgbBlue - Pixels^[i].rgbBlue)) then
    begin
      dx := x1 + ( i mod bmpW );
      dy := y1 + ( i div bmpW );
      Result := True;
    end;
  end;
end;
</code></pre>
<p>finally<br>
PrevObj := SelectObject(CompDC, PrevObj);<br>
DeleteDC(CompDC);<br>
DeleteObject(DIBHandle);<br>
end;</p>
<p>end;[/code]</p>
<p>I’m looking to improve speed <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>See what you can do please, maybe use a GetDIBits instead? Or?</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Uriko.html'><span itemprop='name'>Uriko</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T05:24:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:34:47Z' class='post-time'>
              July 31, 2016,  8:34am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>imo post on <a href="http://www.freddy1990.com/" rel="nofollow noopener">www.freddy1990.com</a> as no one here develops it.</p>
<p>edit: whoops thought you were mentioning scar <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/charmz.html'><span itemprop='name'>charmz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T05:34:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:34:48Z' class='post-time'>
              July 31, 2016,  8:34am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>well no one over there is active, come on guys <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>delphi is very similar to c++, so u could very easy convert to c++ and then help me out <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>or point me in the direction of a good delphi forum?..cuz i cant find any</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="3" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T05:35:50Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:34:48Z' class='post-time'>
              July 31, 2016,  8:34am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ChArMz, post:3, topic:284279”]well no one over there is active, come on guys <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>delphi is very similar to c++, so u could very easy convert to c++ and then help me out <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>or point me in the direction of a good delphi forum?..cuz i cant find any[/quote]</p>
<p>oh you should ask moparscape they program c+</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/charmz.html'><span itemprop='name'>charmz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T05:42:40Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:34:48Z' class='post-time'>
              July 31, 2016,  8:34am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>well im not really sure where i should post, you are talking about the moparscape section of this site right?</p>
<p>i would ask freddy1990 but hes a butthole and wont give out any secrets on scar</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T06:36:29Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:34:51Z' class='post-time'>
              July 31, 2016,  8:34am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ChArMz, post:3, topic:284279”]delphi is very similar to c++, so u could very easy convert to c++ and then help me out :D[/quote]was that meant to be a joke</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T16:22:03Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:35:20Z' class='post-time'>
              July 31, 2016,  8:35am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why do you want to make it faster?  Is it too slow right now or are you just trying to make it a few milliseconds faster?</p>
<p>Offtopic, but why Delphi?  Why not just use C++ or something more standard?</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/charmz.html'><span itemprop='name'>charmz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T16:30:10Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:35:21Z' class='post-time'>
              July 31, 2016,  8:35am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Moparisthebest, post:7, topic:284279”]Why do you want to make it faster?  Is it too slow right now or are you just trying to make it a few milliseconds faster?</p>
<p>Offtopic, but why Delphi?  Why not just use C++ or something more standard?[/quote]</p>
<p>I am just trying to make it a few ms faster. I guess its fast now, but i would like it to be faster, and I would just like to learn how to make it faster.</p>
<p>Well I like delphi, and as far as i know i can do anything in delphi that can be done in c++.</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_bank.html'><span itemprop='name'>the_bank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T19:13:03Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:35:33Z' class='post-time'>
              July 31, 2016,  8:35am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ChArMz, post:8, topic:284279”][quote author=Moparisthebest link=topic=375728.msg2831973#msg2831973 date=1245428523]<br>
Why do you want to make it faster?  Is it too slow right now or are you just trying to make it a few milliseconds faster?</p>
<p>Offtopic, but why Delphi?  Why not just use C++ or something more standard?<br>
[/quote]</p>
<p>I am just trying to make it a few ms faster. I guess its fast now, but i would like it to be faster, and I would just like to learn how to make it faster.</p>
<p>Well I like delphi, and as far as i know i can do anything in delphi that can be done in c++.[/quote]orly.</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Man_UTD_Freak.html'><span itemprop='name'>Man_UTD_Freak</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T22:08:24Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:35:51Z' class='post-time'>
              July 31, 2016,  8:35am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ChArMz, post:3, topic:284279”]well no one over there is active, come on guys <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>delphi is very similar to c++, so u could very easy convert to c++ and then help me out <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>or point me in the direction of a good delphi forum?..cuz i cant find any[/quote]</p>
<p><a href="http://www.delphipages.com/forum/" class="onebox" target="_blank" rel="nofollow noopener">http://www.delphipages.com/forum/</a></p>
<p>I haven’t used this forum and I don’t know if it’s a decent one or not plus it doesn’t look too active either but who knows, It may help anyway.</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lawl.html'><span itemprop='name'>lawl</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-19T23:56:37Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:36:02Z' class='post-time'>
              July 31, 2016,  8:36am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>delphi similar to c?</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/charmz.html'><span itemprop='name'>charmz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-21T01:41:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:38:09Z' class='post-time'>
              July 31, 2016,  8:38am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="11" data-topic="284279">
<div class="title">
<div class="quote-controls"></div>
 la­wl:</div>
<blockquote>
<p>delphi similar to c?</p>
</blockquote>
</aside>
<p>all of you are buttholes, i just ment u can convert between the two fairly easy</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zstars.html'><span itemprop='name'>zstars</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-22T15:54:33Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:40:08Z' class='post-time'>
              July 31, 2016,  8:40am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You could probably make it statistically more efficient if you didn’t do a single bidimensional linear iteration through the pixels, especially for those cases where offset = 1 and tolerance and area is high. Instead, do several non-overlapping iterations with a linearly increased offset.</p>
<p>Example: If you are currently checking pixels 1, 2, 3, 4, 5, 6, …, to make it more efficient you would check 1, 3, 5, 7, 9… and then if not found check as well 2, 4, 6, 8…</p>
<p>If you started checking from the middle of the area and then moved outwards, you would probably increase the statistical efficiency as well.</p>
<p>Might also want to check that the assembler the compiler generates is as optimized as it should. The “not result” check should not appear in the asm, neither should the sqr(Tolerance). Might be a good idea to convert the program to fully optimized VS C/C++ and see if Delphi lives up to its expectations.</p>
<p>Offtopic P.S.: Delphi sucks.</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/charmz.html'><span itemprop='name'>charmz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-22T16:44:46Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:40:10Z' class='post-time'>
              July 31, 2016,  8:40am
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>do something like this 8 pixel step search? :</p>
<p>Offset : array [0…7] of integer = (8, 4, 6, 2, 1, 3, 5, 7);</p>
<p>Ill try it out i guess, but i dunno i dont want to miss pixels <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>well it seems everyone completely hates delphi, so if someone wanted to make a very fast findcolor in c++ show me how its done <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zstars.html'><span itemprop='name'>zstars</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-06-22T20:24:26Z'>
            <time itemprop='dateModified' datetime='2016-07-31T08:40:22Z' class='post-time'>
              July 31, 2016,  8:40am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You wouldn’t miss pixels.</p>
<p>First optimization (using several loops with non-overlapping offsets) exploits the fact that statistically there tends to be an area of pixels that matches the criteria, rather than a single one. In the cases where that is true, which should be the majority, you would have to test about a 50% of the pixels you otherwise would, if you use two non-overlapping loops with an offset of 2.</p>
<p>Second optimization (starting the checks from the middle outwards) exploits the fact that statistically the pixels you want to find tend to be close to the middle of the specified area.</p>
<p>Of course, these optimizations will only work in those cases in which the color can be found in the image.</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/charmz.html'><span itemprop='name'>charmz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-09T19:28:54Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:06:19Z' class='post-time'>
              July 31, 2016,  9:06am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks for the help zstars, but that is not a very good solution <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Unhandled.html'><span itemprop='name'>Unhandled</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-09T21:24:50Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:06:23Z' class='post-time'>
              July 31, 2016,  9:06am
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="16" data-topic="284279">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/charmz/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> ChArMz:</div>
<blockquote>
<p>thanks for the help zstars, but that is not a very good solution <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
</blockquote>
</aside>
<p>What do you mean? They seem perfectly valid to me. Why don’t you implement them and do some benchmarking, see what sort of an improvement you get.</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_bank.html'><span itemprop='name'>the_bank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-09T23:41:45Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:06:28Z' class='post-time'>
              July 31, 2016,  9:06am
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ChArMz, post:16, topic:284279”]thanks for the help zstars, but that is not a very good solution :([/quote]What’s wrong with it?  Do you just not know how to implement it?  It seems like a great and intuitive idea to me.</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/charmz.html'><span itemprop='name'>charmz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-10T15:35:41Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:07:13Z' class='post-time'>
              July 31, 2016,  9:07am
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>First off like zstars said if the color is not even found, this process will become very very slow. Also, say the color I wanted to find was in the first pixel, but my offset was set @ say 2, I would first have to check the offest @ 2, and then go back and check. Yes, it sounds like a good idea, but it isnt the most efficient.</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Unhandled.html'><span itemprop='name'>Unhandled</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-10T15:58:11Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:07:16Z' class='post-time'>
              July 31, 2016,  9:07am
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="19" data-topic="284279">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/charmz/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> ChArMz:</div>
<blockquote>
<p>First off like zstars said if the color is not even found, this process will become very very slow. Also, say the color I wanted to find was in the first pixel, but my offset was set @ say 2, I would first have to check the offest @ 2, and then go back and check. Yes, it sounds like a good idea, but it isnt the most efficient.</p>
</blockquote>
</aside>
<p>If the colour you wanted to find wasn’t in the image, the process would be just as slow as it would be without the optimization.<br>
As zstars said, <span class="bbcode-b">statistically</span> similar pixels are found in groups, and not around the edges of the image.<br>
If you want an optimization that is not based around any assumptions, use multi threading. Apply the first suggestion zstars gave you, but execute each loop in a separate thread. With a dual core processor and 4 loops, each running in it’s own thread, you could presumably cut the time down by 4.</p>
      </div>

      <meta itemprop='headline' content='[Delphi]FindColorTolerance - Can you make it faster? :P'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="2842794658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/delphi-findcolortolerance-can-you-make-it-faster-p/284279 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 11:56:55 GMT -->
</html>
