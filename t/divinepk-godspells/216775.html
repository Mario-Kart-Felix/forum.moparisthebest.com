<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/divinepk-godspells/216775 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 12:29:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>DivinePK - Godspells - Runescape - moparisthebest.com</title>
    <meta name="description" content="I&amp;#39;m not telling you where to add it, its pretty simple, and all of the code may not be here, make use of what i give you. 

 				int damage = Formulae.calcSpellHit(EntityHandler.getSpellAggressiveLvl(spellID), EntityHand&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="216775.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;DivinePK - Godspells&#39;" href="216775.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/divinepk-godspells/216775" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/divinepk-godspells/216775" />
<meta property="og:title" content="DivinePK - Godspells" />
<meta name="twitter:title" content="DivinePK - Godspells" />
<meta property="og:description" content="I’m not telling you where to add it, its pretty simple, and all of the code may not be here, make use of what i give you.  [code]				int damage = Formulae.calcSpellHit(EntityHandler.getSpellAggressiveLvl(spellID), EntityHandler.getSpellDef(spellID).getReqLevel(), owner, affectedMob);  			if(damage == -1) // Fail 			{ 				if(spellID &gt;= 33 &amp;&amp; spellID &lt;= 35) 					{ 					int specialID = spellID - 33; 					int[] objSpawns = {1142, 1031, 1036}; 					int[] capeIDs = {1215, 1214, 1213}; 					int[] staff..." />
<meta name="twitter:description" content="I’m not telling you where to add it, its pretty simple, and all of the code may not be here, make use of what i give you.  [code]				int damage = Formulae.calcSpellHit(EntityHandler.getSpellAggressiveLvl(spellID), EntityHandler.getSpellDef(spellID).getReqLevel(), owner, affectedMob);  			if(damage == -1) // Fail 			{ 				if(spellID &gt;= 33 &amp;&amp; spellID &lt;= 35) 					{ 					int specialID = spellID - 33; 					int[] objSpawns = {1142, 1031, 1036}; 					int[] capeIDs = {1215, 1214, 1213}; 					int[] staff..." />
<meta property="article:published_time" content="2008-07-02T01:36:25+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="216775.html">DivinePK - Godspells</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Divinity-2.html'><span itemprop='name'>Divinity</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-02T01:36:25Z'>
            <time itemprop='dateModified' datetime='2016-07-30T23:56:22Z' class='post-time'>
              July 30, 2016, 11:56pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m not telling you where to add it, its pretty simple, and all of the code may not be here, make use of what i give you.</p>
<p>[code]				int damage = Formulae.calcSpellHit(EntityHandler.getSpellAggressiveLvl(spellID), EntityHandler.getSpellDef(spellID).getReqLevel(), owner, affectedMob);</p>
<pre><code>			if(damage == -1) // Fail
			{
				if(spellID &gt;= 33 &amp;&amp; spellID &lt;= 35)
					{
					int specialID = spellID - 33;
					int[] objSpawns = {1142, 1031, 1036};
					int[] capeIDs = {1215, 1214, 1213};
					int[] staffIDs = {1217, 1218, 1216};

					String[] gods = {"Guthix", "Saradomin", "Zamarok"};
					if(!ownerPlayer.wielding(staffIDs[specialID]))
						{
						ownerPlayer.getActionSender().sendMessage("In order to cast this spell you need to equip a Staff of " + gods[specialID] + ".");
						return;
						}
					}
				if(ownerPlayer != null)
				{
					ownerPlayer.setLastFail();
					ownerPlayer.getActionSender().sendMessage("You failed to cast the spell.");
					break;
				}
			}
			else
				{
				if(ownerPlayer != null)
					{
					if(!SpellHandler.checkAndRemoveRunes(ownerPlayer, spell))
						break;
					}
				if(spellID &gt;= 33 &amp;&amp; spellID &lt;= 35)//God spell id's 33,34,35.
					{
					int specialID = spellID - 33;
					int[] objSpawns = {1142, 1031, 1036};//The id of the GFX the spell creates.
					int[] capeIDs = {1215, 1214, 1213};//The god cape ids.
					int[] staffIDs = {1217, 1218, 1216};//The god staff ids.

					String[] gods = {"Guthix", "Saradomin", "Zamarok"};
					if(!ownerPlayer.wielding(staffIDs[specialID]))
						{
						ownerPlayer.getActionSender().sendMessage("You cannot cast this spell without the Staff of " + gods[specialID] + ".");
						return;
						}
					if(!ownerPlayer.wielding(capeIDs[specialID]))
						{
						damage = (int)(Math.random() * 3);
						ownerPlayer.getActionSender().sendMessage("Without the Cape of " + gods[specialID] + " you feal weak...");
						}
					long LastCharge = ownerPlayer.charge();
					if(System.currentTimeMillis() - LastCharge &gt; 600000)//How long the charge lasts.
						{
						damage = (int)(Math.random() * 10);
						ownerPlayer.getActionSender().sendMessage("You are not charged!");
						}
					else
						{
						}
					Tile t = world.getTile(affectedMob.getLocation());
					if(!t.hasGameObject())
						{
						GameObject spawned = new GameObject(affectedMob.getLocation(), objSpawns[specialID], 0, 0);//Registers game object created from casting the god spell.
						world.registerGameObject(spawned);
						world.getDelayedEventHandler().add(new ObjectRemover(spawned, 500));//Removes object.
						}
					}

				normalAggressiveSpell(owner, super.getAffectedMob(), damage);
				finalizeSpell(owner, spell, affectedPlayer, spellID);
			}

			break;
	}


	if(affectedMob instanceof Player)
		{
		Player victim = (Player)affectedMob;
		if(spellID == 33)
			{
			int stat = 1;
			int lowerDmg = (int)(victim.getCurStat(stat) * 0.05);
			if((double)(victim.getCurStat(stat) - lowerDmg) &gt; (double)(victim.getMaxStat(stat) * 0.85))
				{
				int newDef = victim.getCurStat(stat) - lowerDmg;
				victim.setCurStat(stat, newDef);
				victim.getActionSender().sendStat(stat);
				victim.getActionSender().sendMessage("Your defense has been lowered!");
				}
			}
		if(spellID == 34)
			{
			int stat = 5;
			int lowerDmg = 1;
			if(victim.getCurStat(stat) - lowerDmg &gt; 0)
				{
				int newDef = victim.getCurStat(stat) - lowerDmg;
				victim.setCurStat(stat, newDef);
				victim.getActionSender().sendStat(stat);
				victim.getActionSender().sendMessage("Your prayer has been lowered!");
				}
			}
		if(spellID == 35)
			{
			int stat = 6;
			int lowerDmg = (int)(victim.getCurStat(stat) * 0.05);
			if((double)(victim.getCurStat(stat) - lowerDmg) &gt; (double)(victim.getMaxStat(stat) * 0.85))
				{
				int newDef = victim.getCurStat(stat) - lowerDmg;
				victim.setCurStat(stat, newDef);
				victim.getActionSender().sendStat(stat);
				victim.getActionSender().sendMessage("Your magic has been lowered!");
				}
			}
		}
	mob.setCastTimer();
}


public void castGodSpell(Mob owner, Mob victim, int damage, int spellid)
{
	Player ownerPlayer = null, victimPlayer = null;

	if(owner instanceof Player)
		ownerPlayer = (Player)owner;

	if(victim instanceof Player)
		victimPlayer = (Player)victim;

	if(victimPlayer != null &amp;&amp; ownerPlayer != null)
		victimPlayer.getActionSender().sendMessage(ownerPlayer.getUsername() + " is shooting at you!");

	Projectile projectile = new Projectile(owner, victim, 1);
	victim.setLastDamage(damage);

	int newHp = victim.getCurStat(3) - damage;
	victim.setCurStat(3, newHp);

	ArrayList&lt;Player&gt; playersToInform = new ArrayList&lt;Player&gt;();
	playersToInform.addAll(owner.getViewArea().getPlayersInView());

	for(Player p : playersToInform)
	{
		p.informOfProjectile(projectile);
		if(victimPlayer != null)
			p.informOfModifiedHits(victimPlayer);
		else
		if(victim instanceof Npc)
			p.informOfModifiedHits((Npc)victim);
		else
			System.out.println("Unknown mob entity requires hits update in CastOnMobEvent");
	}

	if(victimPlayer != null)
		victimPlayer.getActionSender().sendStat(3);

	if(newHp &lt;= 0)
	{
		if(victimPlayer != null)
		{
			Collection&lt;Player&gt; allWatchedPlayers = victimPlayer.getWatchedPlayers().getAllEntities();
  			for(Player pl : allWatchedPlayers)
  				pl.removeWatchedPlayer(victimPlayer);

  			if(ownerPlayer != null)
  			{
  				if(ownerPlayer.isDueling() &amp;&amp; victimPlayer.isDueling())
  				{
  					if(ownerPlayer.getWishToDuel().equals(victimPlayer))
  					{
  						victimPlayer.killedByDuel(ownerPlayer);
  					}
  				} else
  					victimPlayer.killedBy(ownerPlayer);
  			}
		} else
		if(victim instanceof Npc)
		{
			Npc npc = (Npc)victim;
			Collection&lt;Player&gt; allWatchedPlayers = npc.getWatchedPlayers().getAllEntities();
  			for(Player pl : allWatchedPlayers)
  				pl.removeWatchedNpc(npc);

  			npc.die(owner);
		} else
  			System.out.println("Strange entity killed by CastOnMobEvent.");
	}
}


public void godSpellObject(Player affectedMob, int spell)
{
	switch(spell)
	{
		case 33:
			GameObject guthix = new GameObject(affectedMob.getLocation(), 1142, 0, 0);
			world.registerGameObject(guthix);
			world.getDelayedEventHandler().add(new ObjectRemover(guthix, 500));
			break;
		case 34:
			GameObject sara = new GameObject(affectedMob.getLocation(), 1031, 0, 0);
			world.registerGameObject(sara);
			world.getDelayedEventHandler().add(new ObjectRemover(sara, 500));
			break;
		case 35:
			GameObject zammy = new GameObject(affectedMob.getLocation(), 1036, 0, 0);
			world.registerGameObject(zammy);
			world.getDelayedEventHandler().add(new ObjectRemover(zammy, 500));
			break;
	}
}
</code></pre>
<p>[/code]</p>
      </div>

      <meta itemprop='headline' content='DivinePK - Godspells'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/divinepk-godspells/216775 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 12:29:30 GMT -->
</html>
