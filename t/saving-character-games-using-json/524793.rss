<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Saving character games using Json</title>
    <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793</link>
    <description>This was intended for a winterlove based server, but it&#39;s simple and can be easily converted.

[code=java]
package net.gielinor.game.model.player.io;

import net.gielinor.game.model.player.Player;

public final class PlayerDetails {

	private final String username;

	private final String password;

	private final int playerRights;

	private final int heightLevel;

	private final int absX;

	private final int absY;

	private final int crystalBowArrowCount;

	private final int skullTimer;

	private final int playerMagicBook;

	private final boolean playerPrayerBook;

	private final double specAmount;

	private final int teleblockLength;

	private final int autoRet;

	private final int fightMode;

	private final int pkp;

	private final int constitution;

	private final int specRestoreTimer;

	private final int[] playerEquipment;

	private final int[] playerEquipmentN;

	private final int[] playerAppearance;

	private final int[] playerLevel;

	private final int[] playerXP;

	private final int[] playerItems;

	private final int[] playerItemsN;

	private final int[] bankItems;

	private final int[] bankItemsN;

	private final long[] friends;

	public PlayerDetails(Player player) {
		this.username = player.username;
		this.password = player.password;
		this.playerRights = player.playerRights;
		this.heightLevel = player.heightLevel;
		this.absX = player.absX;
		this.absY = player.absY;
		this.crystalBowArrowCount = player.crystalBowArrowCount;
		this.skullTimer = player.skullTimer;
		this.playerMagicBook = player.playerMagicBook;
		this.playerPrayerBook = player.playerPrayerBook;
		this.specAmount = player.specAmount;
		this.teleblockLength = (int) (player.teleBlockDelay - System.currentTimeMillis() + player.teleBlockLength);
		this.autoRet = player.autoRet;
		this.fightMode = player.fightMode;
		this.pkp = player.pkp;
		this.constitution = player.constitution;
		this.specRestoreTimer = player.specRestoreTimer;
		this.playerEquipment = player.playerEquipment;
		this.playerEquipmentN = player.playerEquipmentN;
		this.playerAppearance = player.playerAppearance;
		this.playerLevel = player.playerLevel;
		this.playerXP = player.playerXP;
		this.playerItems = player.playerItems;
		this.playerItemsN = player.playerItemsN;
		this.bankItems = player.bankItems;
		this.bankItemsN = player.bankItemsN;
		this.friends = player.friends;
	}

	public final String getUsername() {
		return username;
	}

	public final String getPassword() {
		return password;
	}

	public final int getPlayerRights() {
		return playerRights;
	}

	public final int getHeightLevel() {
		return heightLevel;
	}

	public final int getAbsX() {
		return absX;
	}

	public final int getAbsY() {
		return absY;
	}

	public final int getCrystalBowArrowCount() {
		return crystalBowArrowCount;
	}

	public final int getSkullTimer() {
		return skullTimer;
	}

	public final int getPlayerMagicBook() {
		return playerMagicBook;
	}

	public final boolean isPlayerPrayerBook() {
		return playerPrayerBook;
	}

	public final double getSpecAmount() {
		return specAmount;
	}

	public final int getTeleblockLength() {
		return teleblockLength;
	}

	public final int getAutoRet() {
		return autoRet;
	}

	public final int getFightMode() {
		return fightMode;
	}

	public final int getPkp() {
		return pkp;
	}

	public final int getConstitution() {
		return constitution;
	}

	public final int getSpecRestoreTimer() {
		return specRestoreTimer;
	}

	public final int[] getPlayerEquipment() {
		return playerEquipment;
	}

	public final int[] getPlayerEquipmentN() {
		return playerEquipmentN;
	}

	public final int[] getPlayerAppearance() {
		return playerAppearance;
	}

	public final int[] getPlayerLevel() {
		return playerLevel;
	}

	public final int[] getPlayerXP() {
		return playerXP;
	}

	public final int[] getPlayerItems() {
		return playerItems;
	}

	public final int[] getPlayerItemsN() {
		return playerItemsN;
	}

	public final int[] getBankItems() {
		return bankItems;
	}

	public final int[] getBankItemsN() {
		return bankItemsN;
	}

	public final long[] getFriends() {
		return friends;
	}

}[/code]

[code=java]
package net.gielinor.game.model.player.io;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;

import net.gielinor.game.model.player.Player;

import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.JsonIOException;

/**
 * Astrect Development
 * 
 * @author Ryley Kimmel &lt;ryley.kimmel@live.com&gt;
 * Jul 12, 2013
 * PlayerCodec.java
 * 
 * @see java.lang.Object
 */
public final class PlayerCodec {

	/**
	 * An instance of {@link GsonBuilder} which can be used to build Gson with
	 * various configuration settings.
	 */
	private static final GsonBuilder builder = new GsonBuilder();

	/**
	 * A {@link Gson} object, we configure the Gson to output Json that fits in
	 * a page for pretty printing and then we create the instance with the
	 * specified configuration.
	 */
	private static final Gson gson = builder.setPrettyPrinting().create();

	/**
	 * Writes a specified {@link Player}&#39;s game to a {@link Gson#toJson(java.lang.Object)} object.
	 * @param player	The player&#39;s game to write.
	 */
	public static void save(Player player) {
		PlayerDetails details = new PlayerDetails(player);
		try {
			BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;./data/saved-games/&quot; + player.username + &quot;.json&quot;));
			writer.write(gson.toJson(details));
			writer.flush();
			writer.close();
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

	/**
	 * Reads a specified {@link Player}&#39;s game.
	 * @param player	The {@link Player} we&#39;re loading the file for.
	 * @param username	The {@link Player}&#39;s username.
	 * @param password	The {@link Player}&#39;s password.
	 * @return	The appropriate return code related to this load.
	 */
	public static int load(Player player, String username, String password) {
		try {
			File file = new File(&quot;./data/saved-games/&quot; + username + &quot;.json&quot;);
			if (!file.exists()) {
				return 0;
			}
			try {
				PlayerDetails details = gson.fromJson(new BufferedReader(new FileReader(file)), PlayerDetails.class);
				if (!details.getPassword().equalsIgnoreCase(password)) {
					return 3;
				}
				player.username = details.getUsername();
				player.password = details.getPassword();
				player.playerRights = details.getPlayerRights();
				player.heightLevel = details.getHeightLevel();
				player.teleportToX = details.getAbsX();
				player.teleportToY = details.getAbsY();
				player.crystalBowArrowCount = details.getCrystalBowArrowCount();
				player.skullTimer = details.getSkullTimer();
				player.playerMagicBook = details.getPlayerMagicBook();
				player.playerPrayerBook = details.isPlayerPrayerBook();
				player.specAmount = details.getSpecAmount();
				player.teleBlockLength = details.getTeleblockLength();
				player.autoRet = details.getAutoRet();
				player.fightMode = details.getFightMode();
				player.pkp = details.getPkp();
				player.constitution = details.getConstitution();
				player.specRestoreTimer = details.getSpecRestoreTimer();
				player.playerEquipment = details.getPlayerEquipment();
				player.playerEquipmentN = details.getPlayerEquipmentN();
				player.playerAppearance = details.getPlayerAppearance();
				player.playerLevel = details.getPlayerLevel();
				player.playerXP = details.getPlayerXP();
				player.playerItems = details.getPlayerItems();
				player.playerItemsN = details.getPlayerItemsN();
				player.bankItems = details.getBankItems();
				player.bankItemsN = details.getBankItemsN();
				player.friends = details.getFriends();
				return 1;
			} catch (JsonIOException e) {
				e.printStackTrace();
				return 3;
			} catch (FileNotFoundException e) {
				e.printStackTrace();
				return 0;
			}
		} catch (Exception e) {
			e.printStackTrace();
			return 0;
		}
	}

}
[/code]

format of the file:
[code]
{
  &quot;username&quot;: &quot;my_username&quot;,
  &quot;password&quot;: &quot;my_password&quot;,
  &quot;playerRights&quot;: 0,
  &quot;heightLevel&quot;: 0,
  &quot;absX&quot;: 3087,
  &quot;absY&quot;: 3497,
  &quot;crystalBowArrowCount&quot;: 0,
  &quot;skullTimer&quot;: 0,
  &quot;playerMagicBook&quot;: 0,
  &quot;playerPrayerBook&quot;: false,
  &quot;specAmount&quot;: 10.0,
  &quot;teleblockLength&quot;: 719232394,
  &quot;autoRet&quot;: 1,
  &quot;fightMode&quot;: 0,
  &quot;pkp&quot;: 10,
  &quot;constitution&quot;: 990,
  &quot;specRestoreTimer&quot;: -7282,
  &quot;playerEquipment&quot;: [
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1
  ],
  &quot;playerEquipmentN&quot;: [
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1
  ],
  &quot;playerAppearance&quot;: [
    0,
    0,
    18,
    26,
    33,
    36,
    42,
    10,
    0,
    0,
    0,
    0,
    0
  ],
  &quot;playerLevel&quot;: [
    99,
    99,
    99,
    99,
    99,
    99,
    99,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1
  ],
  &quot;playerXP&quot;: [
    13034436,
    13034436,
    13034436,
    13034436,
    13034436,
    13034436,
    13034436,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  &quot;playerItems&quot;: [
    996,
    3026,
    6687,
    2438,
    2442,
    387,
    561,
    558,
    556,
    566,
    9076,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  &quot;playerItemsN&quot;: [
    5476100,
    20,
    20,
    20,
    20,
    200,
    500,
    500,
    500,
    500,
    500,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0
  ],
  &quot;bankItems&quot;: [
    1216,
    9076,
    561,
    558,
    2437,
    6686,
    3025,
    386,
    2441,
    996,
    4152,
    1080,
    1128,
    11733,
    6586,
    7463,
    8851,
    10829,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  &quot;bankItemsN&quot;: [
    2,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  &quot;friends&quot;: [
    11162,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ]
}[/code]

edit: if anyone needs/wants the assets let me know and i will provide them.</description>
    
    <lastBuildDate>Sun, 14 Jul 2013 04:13:27 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p><a class="mention" href="/u/vain">@Vain</a></p>
<aside class="quote quote-modified" data-post="10" data-topic="524793">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>(implying you’re not going to change the entire aspect of things)</p>
</blockquote>
</aside>
<p>A friend of mine didn’t want to respawn his bank again after using this, so I wrote a converter really fast, in case anyone else would like it:</p>
<p>[code=java]<br>
package test;</p>
<p>import java.io.BufferedReader;<br>
import java.io.BufferedWriter;<br>
import java.io.File;<br>
import java.io.FileReader;<br>
import java.io.FileWriter;<br>
import java.io.IOException;</p>
<p>import com.google.gson.Gson;<br>
import com.google.gson.GsonBuilder;</p>
<p>/**</p>
<ul>
<li>
<p>Astrect Development</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Ryley Kimmel <a href="mailto:ryley.kimmel@live.com">ryley.kimmel@live.com</a></p>
</li>
<li>
<p>Jul 13, 2013</p>
</li>
<li>
<p>PlayerBankConverter.java</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@see</span> java.lang.Object<br>
*/<br>
public final class PlayerBankConverter {</p>
<p>public static void main(String[] args) throws IOException {<br>
BufferedReader reader = new BufferedReader(new FileReader(new File("./", “bank.txt”)));</p>
<pre><code> int[] bankItems = new int[0x160];
 int[] bankItemsN = new int[bankItems.length];

 String line;
 int i = 0;
 while ((line = reader.readLine()) != null) {
 	if (line.equals("[BANK]") || line.length() == 0) {
 		continue;
 	}

 	int index = line.indexOf('=') + 1;
 	line = line.substring(index);
 	String[] split = line.split("	");

 	bankItems[i] = Integer.parseInt(split[1]);
 	bankItemsN[i] = Integer.parseInt(split[2]);

 	i++;
 }
 reader.close();

 GsonBuilder bldr = new GsonBuilder();
 Gson gson = bldr.setPrettyPrinting().create();

 BufferedWriter writer = new BufferedWriter(new FileWriter(new File("./", "bank_new.txt")));

 writer.write("\"bankItems\": ");
 writer.write(gson.toJson(bankItems));
 writer.write(",\n\"bankItemsN\": ");
 writer.write(gson.toJson(bankItemsN));
 writer.flush();
 writer.close();
</code></pre>
<p>}</p>
</li>
</ul>
<p>}[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/18</link>
        <pubDate>Sun, 14 Jul 2013 04:13:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-18</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>[quote=“AtomicInt_, post:16, topic:524793”]just reread your post, xD I was talking about equipment.[/quote]you could write it just like everything else</p>
<p><code>{
  "playerHead" : xxx,
  "playerCape" : xxx,
  "playerNeck" : xxx.</code>or you’ll need to include the null indexes. as for banks/inventories you dont need to write the blank/null indexes, either write out the slot : item, or array of just items (will move in from top&gt;down)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/17</link>
        <pubDate>Sat, 13 Jul 2013 01:27:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-17</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>just reread your post, xD I was talking about equipment.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/16</link>
        <pubDate>Sat, 13 Jul 2013 01:19:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-16</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@RandQm RandQm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/randqm">@RandQm</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="14" data-topic="524793">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>we’re talking about winterlove, mate.</p>
</blockquote>
</aside>
<p>I know, takes 2 lines to fix it.<br>
Even the IQ in this community is pretty low, I’m convinced that at least a handful people have fixed that in their servers.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/15</link>
        <pubDate>Sat, 13 Jul 2013 01:05:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-15</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>we’re talking about winterlove, mate.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/14</link>
        <pubDate>Sat, 13 Jul 2013 01:03:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-14</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@RandQm RandQm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/randqm">@RandQm</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="12" data-topic="524793">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>yeah but what if there is an item after an empty slot and you stop writing?</p>
</blockquote>
</aside>
<p>Like I just said, this can be the case in most servers cycling around.<br>
But actually there shouldn’t be any empty spots between items when banking.<br>
So to consider stopping the writing when an empty slot is reached, you would need to have/written decent banking that fills empty slots in the first place.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/13</link>
        <pubDate>Sat, 13 Jul 2013 00:58:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-13</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>yeah but what if there is an item after an empty slot and you stop writing?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/12</link>
        <pubDate>Sat, 13 Jul 2013 00:53:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-12</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@RandQm RandQm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/randqm">@RandQm</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="10" data-topic="524793">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>I was thinking about it and how would you determine the correct slot for the item if you’re not writing the empty ones? (implying you’re not going to change the entire aspect of things)</p>
</blockquote>
</aside>
<p>That wouldn’t be possible for as far as I know, I was actually looking to the banking when saying above.<br>
Since all items were stored in a row followed by a whole bunch of 0’s from the empty slots.<br>
<span class="bbcode-s">But I just realized that the player could have empty slots between items as well.<br>
So forget all I said  <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></span> This is only the case in the regular servers, there shouldn’t be empty spots between items.</p>
<p>So then you would just</p>
<p><code>
for (int i = 0; i &lt; items.lenght; i ++) {
if (items[i] &lt;= 0)
//stop writing
}</code><br>
But I’m sure you was that far already.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/11</link>
        <pubDate>Sat, 13 Jul 2013 00:48:10 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-11</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>I was thinking about it and how would you determine the correct slot for the item if you’re not writing the empty ones? (implying you’re not going to change the entire aspect of things)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/10</link>
        <pubDate>Sat, 13 Jul 2013 00:43:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-10</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@RandQm RandQm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/randqm">@RandQm</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="8" data-topic="524793">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>It was how the documentation presented it, that’s how I wrote it. It doesn’t really bother me, if you want I can change it.</p>
</blockquote>
</aside>
<p>Np, going to change it myself when I find time on trying this out.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/9</link>
        <pubDate>Sat, 13 Jul 2013 00:37:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-9</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>It was how the documentation presented it (and the docs didn’t really say anything about empty indices iirc.), that’s how I wrote it. It doesn’t really bother me, if you want I can change it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/8</link>
        <pubDate>Sat, 13 Jul 2013 00:35:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-8</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@RandQm RandQm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/randqm">@RandQm</a> wrote:</p>
          <blockquote>
              <p>Nice, I’ve been interested in using JSON for tasks like this before but never managed to work it out decently.<br>
I wonder why you decide to write out all the non-assigned array slots (0’s) though.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/7</link>
        <pubDate>Sat, 13 Jul 2013 00:33:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-7</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>the reason its printing all the 0s is because the getters are getting the array size. not the indexes that are used.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/6</link>
        <pubDate>Fri, 12 Jul 2013 23:29:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-6</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>I haven’t tried, but I would assume you could do something along the line of:</p>
<p><code>
for (int i = 0; i &lt; arr.length; i++) {
    if (arr[i] == 0 || arr[i] == -1) {
        break;
    }
    // load/save the rest
}</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/5</link>
        <pubDate>Fri, 12 Jul 2013 23:17:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-5</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>[quote=“AtomicInt_, post:3, topic:524793”][quote author=asshole_rule link=topic=643448.msg4331232#msg4331232 date=1373670686]<br>
I personally hate the way it looks when editing a char file manually(Just looks sloppy and hard to find things), when using Json, but I suppose the pros outweigh the cons, and you can probably change the format.</p>
<p>Gj.<br>
[/quote]</p>
<p>You can change the format, there are various options within the builder to do so.</p>
<p><code>
builder.setPrettyPrinting().create();</code></p>
<p>this determines the format of the file, if you don’t want any format then just create the gson without that configuration set.[/quote]</p>
<p>Yeah I edited my post, another thing I don’t particularly like is all the 0’s.</p>
<p>Is it possible to do anything about those?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/4</link>
        <pubDate>Fri, 12 Jul 2013 23:15:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-4</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>[quote=“asshole_rule, post:2, topic:524793”]I personally hate the way it looks when editing a char file manually(Just looks sloppy and hard to find things), when using Json, but I suppose the pros outweigh the cons, and you can probably change the format.</p>
<p>Gj.[/quote]</p>
<p>You can change the format, there are various options within the builder to do so.</p>
<p><code>
builder.setPrettyPrinting().create();</code></p>
<p>this determines the format of the file, if you don’t want any format then just create the gson without that configuration set.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/3</link>
        <pubDate>Fri, 12 Jul 2013 23:14:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-3</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>I personally hate the way it looks when editing a char file manually(Just looks sloppy and hard to find things), when using Json, but I suppose the pros outweigh the cons, and you can probably change the format.</p>
<p>Gj.</p>
<p>Edit: yes i see your format is a lot better then the one vr uses…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/2</link>
        <pubDate>Fri, 12 Jul 2013 23:11:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-2</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
      <item>
        <title>Saving character games using Json</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>This was intended for a winterlove based server, but it’s simple and can be easily converted.</p>
<p>[code=java]<br>
package <a href="http://net.gielinor.game.model.player.io" rel="nofollow noopener">net.gielinor.game.model.player.io</a>;</p>
<p>import net.gielinor.game.model.player.Player;</p>
<p>public final class PlayerDetails {</p>
<pre><code>private final String username;

private final String password;

private final int playerRights;

private final int heightLevel;

private final int absX;

private final int absY;

private final int crystalBowArrowCount;

private final int skullTimer;

private final int playerMagicBook;

private final boolean playerPrayerBook;

private final double specAmount;

private final int teleblockLength;

private final int autoRet;

private final int fightMode;

private final int pkp;

private final int constitution;

private final int specRestoreTimer;

private final int[] playerEquipment;

private final int[] playerEquipmentN;

private final int[] playerAppearance;

private final int[] playerLevel;

private final int[] playerXP;

private final int[] playerItems;

private final int[] playerItemsN;

private final int[] bankItems;

private final int[] bankItemsN;

private final long[] friends;

public PlayerDetails(Player player) {
	this.username = player.username;
	this.password = player.password;
	this.playerRights = player.playerRights;
	this.heightLevel = player.heightLevel;
	this.absX = player.absX;
	this.absY = player.absY;
	this.crystalBowArrowCount = player.crystalBowArrowCount;
	this.skullTimer = player.skullTimer;
	this.playerMagicBook = player.playerMagicBook;
	this.playerPrayerBook = player.playerPrayerBook;
	this.specAmount = player.specAmount;
	this.teleblockLength = (int) (player.teleBlockDelay - System.currentTimeMillis() + player.teleBlockLength);
	this.autoRet = player.autoRet;
	this.fightMode = player.fightMode;
	this.pkp = player.pkp;
	this.constitution = player.constitution;
	this.specRestoreTimer = player.specRestoreTimer;
	this.playerEquipment = player.playerEquipment;
	this.playerEquipmentN = player.playerEquipmentN;
	this.playerAppearance = player.playerAppearance;
	this.playerLevel = player.playerLevel;
	this.playerXP = player.playerXP;
	this.playerItems = player.playerItems;
	this.playerItemsN = player.playerItemsN;
	this.bankItems = player.bankItems;
	this.bankItemsN = player.bankItemsN;
	this.friends = player.friends;
}

public final String getUsername() {
	return username;
}

public final String getPassword() {
	return password;
}

public final int getPlayerRights() {
	return playerRights;
}

public final int getHeightLevel() {
	return heightLevel;
}

public final int getAbsX() {
	return absX;
}

public final int getAbsY() {
	return absY;
}

public final int getCrystalBowArrowCount() {
	return crystalBowArrowCount;
}

public final int getSkullTimer() {
	return skullTimer;
}

public final int getPlayerMagicBook() {
	return playerMagicBook;
}

public final boolean isPlayerPrayerBook() {
	return playerPrayerBook;
}

public final double getSpecAmount() {
	return specAmount;
}

public final int getTeleblockLength() {
	return teleblockLength;
}

public final int getAutoRet() {
	return autoRet;
}

public final int getFightMode() {
	return fightMode;
}

public final int getPkp() {
	return pkp;
}

public final int getConstitution() {
	return constitution;
}

public final int getSpecRestoreTimer() {
	return specRestoreTimer;
}

public final int[] getPlayerEquipment() {
	return playerEquipment;
}

public final int[] getPlayerEquipmentN() {
	return playerEquipmentN;
}

public final int[] getPlayerAppearance() {
	return playerAppearance;
}

public final int[] getPlayerLevel() {
	return playerLevel;
}

public final int[] getPlayerXP() {
	return playerXP;
}

public final int[] getPlayerItems() {
	return playerItems;
}

public final int[] getPlayerItemsN() {
	return playerItemsN;
}

public final int[] getBankItems() {
	return bankItems;
}

public final int[] getBankItemsN() {
	return bankItemsN;
}

public final long[] getFriends() {
	return friends;
}
</code></pre>
<p>}[/code]</p>
<pre><code class="lang-auto">package net.gielinor.game.model.player.io;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;

import net.gielinor.game.model.player.Player;

import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.JsonIOException;

/**
 * Astrect Development
 * 
 * @author Ryley Kimmel &lt;ryley.kimmel@live.com&gt;
 * Jul 12, 2013
 * PlayerCodec.java
 * 
 * @see java.lang.Object
 */
public final class PlayerCodec {

	/**
	 * An instance of {@link GsonBuilder} which can be used to build Gson with
	 * various configuration settings.
	 */
	private static final GsonBuilder builder = new GsonBuilder();

	/**
	 * A {@link Gson} object, we configure the Gson to output Json that fits in
	 * a page for pretty printing and then we create the instance with the
	 * specified configuration.
	 */
	private static final Gson gson = builder.setPrettyPrinting().create();

	/**
	 * Writes a specified {@link Player}'s game to a {@link Gson#toJson(java.lang.Object)} object.
	 * @param player	The player's game to write.
	 */
	public static void save(Player player) {
		PlayerDetails details = new PlayerDetails(player);
		try {
			BufferedWriter writer = new BufferedWriter(new FileWriter("./data/saved-games/" + player.username + ".json"));
			writer.write(gson.toJson(details));
			writer.flush();
			writer.close();
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

	/**
	 * Reads a specified {@link Player}'s game.
	 * @param player	The {@link Player} we're loading the file for.
	 * @param username	The {@link Player}'s username.
	 * @param password	The {@link Player}'s password.
	 * @return	The appropriate return code related to this load.
	 */
	public static int load(Player player, String username, String password) {
		try {
			File file = new File("./data/saved-games/" + username + ".json");
			if (!file.exists()) {
				return 0;
			}
			try {
				PlayerDetails details = gson.fromJson(new BufferedReader(new FileReader(file)), PlayerDetails.class);
				if (!details.getPassword().equalsIgnoreCase(password)) {
					return 3;
				}
				player.username = details.getUsername();
				player.password = details.getPassword();
				player.playerRights = details.getPlayerRights();
				player.heightLevel = details.getHeightLevel();
				player.teleportToX = details.getAbsX();
				player.teleportToY = details.getAbsY();
				player.crystalBowArrowCount = details.getCrystalBowArrowCount();
				player.skullTimer = details.getSkullTimer();
				player.playerMagicBook = details.getPlayerMagicBook();
				player.playerPrayerBook = details.isPlayerPrayerBook();
				player.specAmount = details.getSpecAmount();
				player.teleBlockLength = details.getTeleblockLength();
				player.autoRet = details.getAutoRet();
				player.fightMode = details.getFightMode();
				player.pkp = details.getPkp();
				player.constitution = details.getConstitution();
				player.specRestoreTimer = details.getSpecRestoreTimer();
				player.playerEquipment = details.getPlayerEquipment();
				player.playerEquipmentN = details.getPlayerEquipmentN();
				player.playerAppearance = details.getPlayerAppearance();
				player.playerLevel = details.getPlayerLevel();
				player.playerXP = details.getPlayerXP();
				player.playerItems = details.getPlayerItems();
				player.playerItemsN = details.getPlayerItemsN();
				player.bankItems = details.getBankItems();
				player.bankItemsN = details.getBankItemsN();
				player.friends = details.getFriends();
				return 1;
			} catch (JsonIOException e) {
				e.printStackTrace();
				return 3;
			} catch (FileNotFoundException e) {
				e.printStackTrace();
				return 0;
			}
		} catch (Exception e) {
			e.printStackTrace();
			return 0;
		}
	}

}</code></pre>
<p>format of the file:</p>
<p><code>
{
  "username": "my_username",
  "password": "my_password",
  "playerRights": 0,
  "heightLevel": 0,
  "absX": 3087,
  "absY": 3497,
  "crystalBowArrowCount": 0,
  "skullTimer": 0,
  "playerMagicBook": 0,
  "playerPrayerBook": false,
  "specAmount": 10.0,
  "teleblockLength": 719232394,
  "autoRet": 1,
  "fightMode": 0,
  "pkp": 10,
  "constitution": 990,
  "specRestoreTimer": -7282,
  "playerEquipment": [
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1,
    -1
  ],
  "playerEquipmentN": [
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1
  ],
  "playerAppearance": [
    0,
    0,
    18,
    26,
    33,
    36,
    42,
    10,
    0,
    0,
    0,
    0,
    0
  ],
  "playerLevel": [
    99,
    99,
    99,
    99,
    99,
    99,
    99,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1
  ],
  "playerXP": [
    13034436,
    13034436,
    13034436,
    13034436,
    13034436,
    13034436,
    13034436,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  "playerItems": [
    996,
    3026,
    6687,
    2438,
    2442,
    387,
    561,
    558,
    556,
    566,
    9076,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  "playerItemsN": [
    5476100,
    20,
    20,
    20,
    20,
    200,
    500,
    500,
    500,
    500,
    500,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0
  ],
  "bankItems": [
    1216,
    9076,
    561,
    558,
    2437,
    6686,
    3025,
    386,
    2441,
    996,
    4152,
    1080,
    1128,
    11733,
    6586,
    7463,
    8851,
    10829,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  "bankItemsN": [
    2,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ],
  "friends": [
    11162,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  ]
}</code></p>
<p>edit: if anyone needs/wants the assets let me know and i will provide them.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/saving-character-games-using-json/524793/1</link>
        <pubDate>Fri, 12 Jul 2013 23:01:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-524793-1</guid>
        <source url="https://forum.moparisthebest.com/t/saving-character-games-using-json/524793.rss">Saving character games using Json</source>
      </item>
  </channel>
</rss>
