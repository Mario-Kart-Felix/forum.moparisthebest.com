<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/stop-rollbacks-detect-forced-client-closing/544603?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 23:58:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Stop rollbacks! (Detect forced client closing) - Runescape - moparisthebest.com</title>
    <meta name="description" content="This is for stopping detecting a forced client shutdown. Also this gives you a little intro on creating your own custom rs packets. 

The communication in rs/rsps happens via packets. The server e.g. sends a packet to th&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="5446034658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Stop rollbacks! (Detect forced client closing)&#39;" href="544603.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/stop-rollbacks-detect-forced-client-closing/544603?page=2" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/stop-rollbacks-detect-forced-client-closing/544603?page=2" />
<meta property="og:title" content="Stop rollbacks! (Detect forced client closing)" />
<meta name="twitter:title" content="Stop rollbacks! (Detect forced client closing)" />
<meta property="og:description" content="[quote=“Ashi, post:20, topic:544603”][quote author=The Web Guy link=topic=663478.msg4434670#msg4434670 date=1404669401]   Why not use it? Seems cool.  [/quote]  No wonder people call you stupid.[/quote]  Tell me, why?" />
<meta name="twitter:description" content="[quote=“Ashi, post:20, topic:544603”][quote author=The Web Guy link=topic=663478.msg4434670#msg4434670 date=1404669401]   Why not use it? Seems cool.  [/quote]  No wonder people call you stupid.[/quote]  Tell me, why?" />
<meta property="article:published_time" content="2014-07-06T18:02:32+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="544603.html">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="544603.html">Stop rollbacks! (Detect forced client closing)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-06T18:02:32Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:53Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Ashi, post:20, topic:544603”][quote author=The Web Guy link=topic=663478.msg4434670#msg4434670 date=1404669401]</p>
<aside class="quote">
<blockquote>
<p>no because you said you’ll probably use this</p>
<p>right way:</p>
<ol>
<li>socket disconnect -&gt; handle client exit</li>
</ol>
<p>wrong way:</p>
<ol>
<li>window closed packet -&gt; handle client exit</li>
<li>socket disconnect</li>
</ol>
<p>if my internet dies or pc randomly crashes it will never send the window closed packet and whatever you’re expecting to happen when the client is shut down will never happen. there is a reason this packet doesn’t already exist. tutorial is nice and taught me how to create new packets, but you should never rely on the client to tell the server it’s exiting instead of just handling the actual socket disconnect</p>
</blockquote>
</aside>
<p>Why not use it? Seems cool.<br>
[/quote]<br>
No wonder people call you stupid.[/quote]</p>
<p>Tell me, why?</p>
      </div>

      <meta itemprop='headline' content='Stop rollbacks! (Detect forced client closing)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-06T19:32:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:55Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="21" data-topic="544603">
<div class="title">
<div class="quote-controls"></div>
 The Web Guy:</div>
<blockquote>
<p>Tell me, why?</p>
</blockquote>
</aside>
<p>No offence aj, but that was kind of a rookie mistake.</p>
<p>If the window closes, the socket gets disconnected.<br>
If the persons internet goes out (or closes) for whatever reason, the socket gets disconnected.</p>
<p>However (in this case):<br>
If the window closes, a packet is sent and the socket gets disconnected.<br>
If the persons internet goes out (or closes) for whatever reason, the socket gets disconnected.</p>
<p>Do you see the issue with using this method now?<br>
Regardless of how they disconnected (between these 2 methods) it disconnects the socket. But only when you close the client window, it sends the packet. Meaning you can still be rolled back from a dc.</p>
      </div>

      <meta itemprop='headline' content='Stop rollbacks! (Detect forced client closing)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-06T19:45:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:55Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:22, topic:544603”][quote author=The Web Guy link=topic=663478.msg4434673#msg4434673 date=1404669752]<br>
Tell me, why?<br>
[/quote]</p>
<p>No offence aj, but that was kind of a rookie mistake.</p>
<p>If the window closes, the socket gets disconnected.<br>
If the persons internet goes out (or closes) for whatever reason, the socket gets disconnected.</p>
<p>However (in this case):<br>
If the window closes, a packet is sent and the socket gets disconnected.<br>
If the persons internet goes out (or closes) for whatever reason, the socket gets disconnected.</p>
<p>Do you see the issue with using this method now?<br>
Regardless of how they disconnected (between these 2 methods) it disconnects the socket. But only when you close the client window, it sends the packet. Meaning you can still be rolled back from a dc.[/quote]</p>
<p>Ah, I see. I didn’t understand it correctly then. The idea of saving a player before they close their client is a good idea though.</p>
      </div>

      <meta itemprop='headline' content='Stop rollbacks! (Detect forced client closing)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-06T22:55:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:56Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="23" data-topic="544603">
<div class="title">
<div class="quote-controls"></div>
 The Web Guy:</div>
<blockquote>
<p>Ah, I see. I didn’t understand it correctly then. The idea of saving a player before they close their client is a good idea though.</p>
</blockquote>
</aside>
<p>And as stated several times in the thread, it needs to be handled on the server during the socket disconnect event. Every major java networking library has support for disconnect events, and if not its easy to create one</p>
      </div>

      <meta itemprop='headline' content='Stop rollbacks! (Detect forced client closing)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-06T23:30:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:56Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#25</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You don’t even need to use a networking library, even just normal java sockets if you catch the proper exceptions you know when the client disconnected, hence how it logs the player out in the first place. In other words, unless your server leaves players online forever when they close their client, you shouldn’t have to do anything at all like this, just add a call to your saving methods when it removes the player from the world list.</p>
      </div>

      <meta itemprop='headline' content='Stop rollbacks! (Detect forced client closing)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Death_Style.html'><span itemprop='name'>Death_Style</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-07T00:21:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:57Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#26</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="19" data-topic="544603">
<div class="title">
<div class="quote-controls"></div>
 The Web Guy:</div>
<blockquote>
<p>Why not use it? Seems cool.</p>
</blockquote>
</aside>
<p>you better be performing PHP miracles at your job</p>
      </div>

      <meta itemprop='headline' content='Stop rollbacks! (Detect forced client closing)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-07T01:55:55Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:58Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#27</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Death Style, post:26, topic:544603”][quote author=The Web Guy link=topic=663478.msg4434670#msg4434670 date=1404669401]<br>
Why not use it? Seems cool.<br>
[/quote]<br>
you better be performing PHP miracles at your job[/quote]</p>
<p>I’ve built several applications that have helped the company, yes.</p>
      </div>

      <meta itemprop='headline' content='Stop rollbacks! (Detect forced client closing)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ashi.html'><span itemprop='name'>Ashi</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T19:11:32Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:36Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#28</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Death Style, post:26, topic:544603”][quote author=The Web Guy link=topic=663478.msg4434670#msg4434670 date=1404669401]<br>
Why not use it? Seems cool.<br>
[/quote]<br>
you better be performing PHP miracles at your job[/quote]<br>
The thing with some companies is that your employer won’t really know what a good language is or what good code is. I was once hired to make a Java app because my employer read good reviews for the language. He couldn’t review the code himself since he doesn’t know the language and the person he paid to review barley knew the language himself. It just happens. It’s only when you’re working in teams does it matter.</p>
      </div>

      <meta itemprop='headline' content='Stop rollbacks! (Detect forced client closing)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Mopman.html'><span itemprop='name'>Mopman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-08T19:55:46Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:36Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#29</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:27, topic:544603”][quote author=Death Style link=topic=663478.msg4434744#msg4434744 date=1404692483]</p>
<aside class="quote">
<blockquote>
<p>Why not use it? Seems cool.</p>
</blockquote>
</aside>
<p>you better be performing PHP miracles at your job<br>
[/quote]</p>
<p>I’ve built several applications that have helped the company, yes.[/quote]</p>
<p>You should link us to one for… science! [size=1]and free pen testing[/size]</p>
      </div>

      <meta itemprop='headline' content='Stop rollbacks! (Detect forced client closing)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="544603.html">← previous page</a></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/stop-rollbacks-detect-forced-client-closing/544603?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 23:58:30 GMT -->
</html>
