<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/asm-insnsearcher/291370 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 11:10:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>ASM InsnSearcher - Runescape - moparisthebest.com</title>
    <meta name="description" content="This is a regex pattern-based AbstractInsnNode finder class I created to emulate BCEL&amp;#39;s InstructionFinder class for use in my Playray game deobfuscator. 

 package org.lolsuper.playray.deob.util;
import static java.lang.&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="291370.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;ASM InsnSearcher&#39;" href="291370.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/asm-insnsearcher/291370" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/asm-insnsearcher/291370" />
<meta property="og:title" content="ASM InsnSearcher" />
<meta name="twitter:title" content="ASM InsnSearcher" />
<meta property="og:description" content="This is a regex pattern-based AbstractInsnNode finder class I created to emulate BCEL’s InstructionFinder class for use in my Playray game deobfuscator.  [code]package org.lolsuper.playray.deob.util;  import static java.lang.reflect.Modifier.*;  import org.objectweb.asm.Opcodes;  import org.objectweb.asm.tree.AbstractInsnNode;  import org.objectweb.asm.tree.InsnList;  import java.util.*;  import java.util.regex.Pattern;  import java.util.regex.Matcher;  import java.lang.reflect.Field;  /**    @a..." />
<meta name="twitter:description" content="This is a regex pattern-based AbstractInsnNode finder class I created to emulate BCEL’s InstructionFinder class for use in my Playray game deobfuscator.  [code]package org.lolsuper.playray.deob.util;  import static java.lang.reflect.Modifier.*;  import org.objectweb.asm.Opcodes;  import org.objectweb.asm.tree.AbstractInsnNode;  import org.objectweb.asm.tree.InsnList;  import java.util.*;  import java.util.regex.Pattern;  import java.util.regex.Matcher;  import java.lang.reflect.Field;  /**    @a..." />
<meta property="article:published_time" content="2009-07-28T00:15:19+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="291370.html">ASM InsnSearcher</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T00:15:19Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:35:43Z' class='post-time'>
              July 31, 2016,  9:35am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This is a regex pattern-based AbstractInsnNode finder class I created to emulate BCEL’s InstructionFinder class for use in my Playray game deobfuscator.</p>
<p>[code]package org.lolsuper.playray.deob.util;</p>
<p>import static java.lang.reflect.Modifier.*;</p>
<p>import org.objectweb.asm.Opcodes;<br>
import org.objectweb.asm.tree.AbstractInsnNode;<br>
import org.objectweb.asm.tree.InsnList;</p>
<p>import java.util.*;<br>
import java.util.regex.Pattern;<br>
import java.util.regex.Matcher;<br>
import java.lang.reflect.Field;</p>
<p>/**</p>
<ul>
<li>
<span class="mention">@author</span> super_<br>
*/</li>
</ul>
<p>public class InsnSearcher {</p>
<pre><code>private static final Map&lt;Integer, String&gt; OPCODE_NAME_MAP;
private static final Pattern[] NON_INSTRUCTION_CONST_PATTERNS = new Pattern[] {
        Pattern.compile("acc_.+"), Pattern.compile("t_.+"), Pattern.compile("v1_.+")
};

private InsnList insns;
private Map&lt;AbstractInsnNode, Integer&gt; instrIndexMap;
private String mappedCode;

public InsnSearcher(InsnList insns) {
    this.insns = insns;
    reload();
}

public void reload() {
    StringBuffer buffer = new StringBuffer();
    instrIndexMap = new HashMap&lt;AbstractInsnNode, Integer&gt;();
    Iterator&lt;AbstractInsnNode&gt; iterator = insns.iterator();
    while (iterator.hasNext()) {
        AbstractInsnNode insn = iterator.next();
        //ignore psuedo instructions
        if (insn.getOpcode() &lt; 0) {
            continue;
        }
        instrIndexMap.put(insn, buffer.length());
        buffer.append(OPCODE_NAME_MAP.get(insn.getOpcode())).append(" ");
    }
    mappedCode = buffer.toString();
}

private AbstractInsnNode getKey(Integer val) {
    for (Map.Entry&lt;AbstractInsnNode, Integer&gt; entry : instrIndexMap.entrySet()) {
        if (entry.getValue().equals(val)) {
            return entry.getKey();
        }
    }
    return null;
}

private AbstractInsnNode[] getMatchFromRange(int start, int end) {
    AbstractInsnNode startInsn = getKey(start);
    int realEndIdx = -1;
    for (int x = end - 1; x &gt;= start; --x) {
        if (mappedCode.charAt(x) == ' ') {
            realEndIdx = x + 1;
            break;
        }
    }
    AbstractInsnNode endInsn = getKey(realEndIdx);
    int startInsnIdx = insns.indexOf(startInsn);
    AbstractInsnNode[] match = new AbstractInsnNode[insns.indexOf(endInsn) - startInsnIdx + 1];
    for (int idx = 0; idx &lt; match.length; ++idx) {
        match[idx] = insns.get(startInsnIdx + idx);
    }
    return match;
}

public List&lt;AbstractInsnNode[]&gt; search(String pattern, AbstractInsnNode from) {
    return search(Pattern.compile(pattern.toLowerCase()), from, null);
}

public List&lt;AbstractInsnNode[]&gt; search(String pattern, Constraint constraint) {
    return search(Pattern.compile(pattern.toLowerCase()), insns.getFirst(), constraint);
}

public List&lt;AbstractInsnNode[]&gt; search(String pattern) {
    return search(Pattern.compile(pattern.toLowerCase()), insns.getFirst());
}

public List&lt;AbstractInsnNode[]&gt; search(Pattern pattern, AbstractInsnNode from) {
    return search(pattern, from, null);
}

public List&lt;AbstractInsnNode[]&gt; search(Pattern pattern, Constraint constraint) {
    return search(pattern, insns.getFirst(), constraint);
}

public List&lt;AbstractInsnNode[]&gt; search(Pattern pattern) {
    return search(pattern, insns.getFirst());
}

public List&lt;AbstractInsnNode[]&gt; search(Pattern pattern, AbstractInsnNode from,
                                               Constraint constraint) {
    Matcher matcher = pattern.matcher(mappedCode);
    int startIdx = instrIndexMap.get(from);
    List&lt;AbstractInsnNode[]&gt; matches = new LinkedList&lt;AbstractInsnNode[]&gt;();
    while (matcher.find(startIdx)) {
        int start = matcher.start();
        int end = matcher.end();
        AbstractInsnNode[] match = getMatchFromRange(start, end);
        if (constraint == null || constraint.accept(match)) {
            matches.add(match);
        }
        startIdx = end;
    }
    return matches;
}

public static interface Constraint {

    public boolean accept(AbstractInsnNode[] match);
}

static {
    OPCODE_NAME_MAP = new HashMap&lt;Integer, String&gt;();
    Class&lt;?&gt; opcodes = Opcodes.class;
    Field[] declaredFields = opcodes.getDeclaredFields();
    for (Field field : declaredFields) {
        int modifiers = field.getModifiers();
        if (isPublic(modifiers) &amp;&amp; isStatic(modifiers)
                &amp;&amp; isFinal(modifiers) &amp;&amp; field.getType() == Integer.TYPE) {
            try {
                String name = field.getName().toLowerCase();
                boolean failed = false;
                for (Pattern pattern : NON_INSTRUCTION_CONST_PATTERNS) {
                    Matcher matcher = pattern.matcher(name);
                    if (matcher.find() &amp;&amp; matcher.start() == 0) {
                        failed = true;
                        break;
                    }
                }
                if (failed) {
                    continue;
                }
                int constant = field.getInt(null);
                OPCODE_NAME_MAP.put(constant, name);
            } catch (IllegalAccessException ex) {
                //cant happen
            }
        }
    }
}
</code></pre>
<p>}<br>
[/code]</p>
<p>Warning: Very ugly but it works <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> FEEL FREE TO FLAME</p>
<p>Usage:</p>
<p><code>            for (AbstractInsnNode[] match : searcher.search("(iconst_.|bipush) ldc jsr aastore (dup|putstatic)")) {
</code></p>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T02:44:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:36:02Z' class='post-time'>
              July 31, 2016,  9:36am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>better than that crappy knockoff of psbs searcher that someone else released</p>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T09:55:57Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:36:31Z' class='post-time'>
              July 31, 2016,  9:36am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>            //ignore psuedo instructions
            if (insn.getOpcode() &lt; 0) {
                continue;
            }</code><br>
Why? LabelNodes make ASM much more powerful that BCEL. With BCEL you have to deal with InstructionTargeter Exceptions. (Apologies on incorrect naming).</p>
<p>Also:<br>
-Import most of BCEL’s definitions. CONST representing a whole bunch of constant instructions rather than requiring you to write out a list of instructions is so much easier.<br>
-BCEL’s non-ascii characters for instructions is a brilliant idea and while it means you have to convert it back into plain text it is very useful with parsing.<br>
-InsnList allows you to read the index property of Instructions. Once the list has been generated (on first call to toArray() or calling getIndex() on any Instruction) it is much faster than a HashMap lookup. If you want you can jam an interface over it with your class but it would still be much faster.<br>
-BCEL’s idea of progressive searching where you don’t get a list of matches but an iterator makes so much more sense to me.<br>
-Parsing of opcode names doesn’t look very good. I would prefer it (but personal preference) if you used org.objectweb.asm.util.AbstractVisitor.OPCODES.</p>
<p>Good though. ASM is lacking some vital components.</p>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T12:14:36Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:36:37Z' class='post-time'>
              July 31, 2016,  9:36am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey BAsh. I didn’t want matching to break say if there was a FrameNode or LabelNode which ASM placed there that your standard disassembler (javap) wouldnt give you <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<ol>
<li>I just might <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:">
</li>
<li>Yeah I saw that… it would make it alot easier.</li>
<li>Thanks, will do.</li>
<li>Thank you <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> [br][br][size=1]Posted on: July 27, 2009, 08:15:39 pm[/size][hr]BTW apologize for shit naming etc in code that prevents anyone from understanding it.</li>
</ol>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T12:44:25Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:36:38Z' class='post-time'>
              July 31, 2016,  9:36am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="4" data-topic="291370">
<div class="title">
<div class="quote-controls"></div>
 oksuper_:</div>
<blockquote>
<p>Hey BAsh. I didn’t want matching to break say if there was a FrameNode or LabelNode which ASM placed there that your standard disassembler (javap) wouldnt give you <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
</blockquote>
</aside>
<p>Maybe give the user an option then. A flag to include LabelNodes and another to include FrameNodes.</p>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T13:02:13Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:36:39Z' class='post-time'>
              July 31, 2016,  9:36am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“BAsh, post:5, topic:291370”][quote author=oksuper_ link=topic=385072.msg2888957#msg2888957 date=1248783276]<br>
Hey BAsh. I didn’t want matching to break say if there was a FrameNode or LabelNode which ASM placed there that your standard disassembler (javap) wouldnt give you <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
[/quote]<br>
Maybe give the user an option then. A flag to include LabelNodes and another to include FrameNodes.[/quote]</p>
<p>Something like</p>
<pre><code class="lang-auto">public enum IncludeOptions {
   INCLUDE_LABELNODE, INCLUDE_FRAMENODE
}</code></pre>
<p>and then adding it as a an additional argument to the constructor and reload().</p>
<pre><code class="lang-auto">public InsnSearcher(InsnList insns, IncludeOption... options) {
    this.insns = insns;
    reload(options);
}</code></pre>
<pre><code class="lang-auto">    public void reload(IncludeOption... options) {
        List&lt;IncludeOption&gt; ops = Arrays.asList(options);
        boolean includeFrameNode = ops.contains(IncludeOption.INCLUDE_FRAMENODE);
        boolean includeLabelNode = ops.contains(IncludeOption.INCLUDE_LABELNODE);
        StringBuffer buffer = new StringBuffer();
        instrIndexMap = new HashMap&lt;AbstractInsnNode, Integer&gt;();
        Iterator&lt;AbstractInsnNode&gt; iterator = insns.iterator();
        while (iterator.hasNext()) {
            AbstractInsnNode insn = iterator.next();
            //ignore psuedo instructions
            if (insn.geOpcode() &lt; 0) {
                if ((insn instanceof FrameNode &amp;&amp; !includeFrameNode) 
                        || (insn instanceof LabelNode &amp;&amp; !includeLabelNode)) {
                    continue;
                }
            }
            instrIndexMap.put(insn, buffer.length());
            buffer.append(OPCODE_NAME_MAP.get(insn.getOpcode())).append(" ");
        }
        mappedCode = buffer.toString();
    }</code></pre>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T13:39:34Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:36:41Z' class='post-time'>
              July 31, 2016,  9:36am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I would prefer getting rid of the array and use flags like the constructor of ClassWriter but up to you.</p>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T13:43:59Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:36:41Z' class='post-time'>
              July 31, 2016,  9:36am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok I’ve run into an issue[quote=“BAsh, post:7, topic:291370”]I would prefer getting rid of the array and use flags like the constructor of ClassWriter but up to you.[/quote]</p>
<p>Sorry lol, too much time looking at the NIO.2 javadocs (<a href="http://openjdk.java.net/projects/nio/javadoc/index.html" rel="nofollow noopener">http://openjdk.java.net/projects/nio/javadoc/index.html</a>, they use this Option way of flags too[br][br][size=1]Posted on: July 27, 2009, 09:46:10 pm[/size][hr]BTW BAsh, if I choose to go the way BCEL does (where it encodes the instructions into single chars) and simplify parsing, what would I use for opcodes for the psuedoinstructions so I could use them?</p>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T15:18:33Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:36:44Z' class='post-time'>
              July 31, 2016,  9:36am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Assign FrameNode a value of -2 and LabelNode a value of -1. Then the conversion of opcode to character used an addition of a large arbitrary number which made the character way outside of the range of ASCII. So large number + (-2) = large number. No problem there. Just make sure Frame and Label have different values.</p>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T15:21:00Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:36:44Z' class='post-time'>
              July 31, 2016,  9:36am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="9" data-topic="291370">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/bash/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> BAsh:</div>
<blockquote>
<p>Assign FrameNode a value of -2 and LabelNode a value of -1. Then the conversion of opcode to character used an addition of a large arbitrary number which made the character way outside of the range of ASCII. So large number + (-2) = large number. No problem there. Just make sure Frame and Label have different values.</p>
</blockquote>
</aside>
<p>Okay, thats a good solution. Couldn’t I just use Short.MAX_VALUE like BCEL for the offset?</p>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-28T15:34:48Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:36:44Z' class='post-time'>
              July 31, 2016,  9:36am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Depends how it was used. CBF looking. Post that section.</p>
      </div>

      <meta itemprop='headline' content='ASM InsnSearcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/asm-insnsearcher/291370 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 11:10:08 GMT -->
</html>
