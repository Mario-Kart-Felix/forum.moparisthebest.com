<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>White Christmas [Any Revision]</title>
    <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664</link>
    <description>
[ul]This is fairly an easy snippet/tutorial to follow, regardless of your programming ability.[/ul]


What you are going for:
[IMG]http://i52.tinypic.com/331ixbo.png[/img]


[ul]In your client search for &quot;512.0&quot;[/ul]



[ul]It should return one class.[/ul]



[ul]Open that class, search for &quot;512.0&quot; go to the line that contains this.[/ul]


Method example:
[CODE]
 public void method929(int arg0, int arg1) {
	try {
	    anInt1412++;
	    double d = (double) (arg1 &gt;&gt; 1357946736 &amp; 0xff) / 256.0;
	    double d_0_ = (double) ((arg1 &amp; 0xff8f) &gt;&gt; -449050008) / 256.0;
	    double d_1_ = (double) (0xff &amp; arg1) / 256.0;
	    double d_2_ = d;
	    if (d_0_ &lt; d_2_)
		d_2_ = d_0_;
	    if (d_2_ &gt; d_1_)
		d_2_ = d_1_;
	    double d_3_ = d;
	    if (d_3_ &lt; d_0_)
		d_3_ = d_0_;
	    if (d_3_ &lt; d_1_)
		d_3_ = d_1_;
	    if (arg0 != 127)
		method928(null, 68, true);
	    double d_4_ = 0.0;
	    double d_5_ = 0.0;
	    double d_6_ = (d_3_ + d_2_) / 2.0;
	    if (d_3_ != d_2_) {
		if (d_6_ &lt; 0.5)
		    d_5_ = (d_3_ - d_2_) / (d_3_ + d_2_);
		if (d == d_3_)
		    d_4_ = (-d_1_ + d_0_) / (d_3_ - d_2_);
		else if (d_0_ == d_3_)
		    d_4_ = 2.0 + (-d + d_1_) / (d_3_ - d_2_);
		else if (d_1_ == d_3_)
		    d_4_ = 4.0 + (d - d_0_) / (d_3_ - d_2_);
		if (d_6_ &gt;= 0.5)
		    d_5_ = (-d_2_ + d_3_) / (-d_2_ + (2.0 - d_3_));
	    }
	    anInt1410 = (int) (d_5_ * 256.0);
	    anInt1411 = (int) (256.0 * d_6_);
	    d_4_ /= 6.0;
	    if (d_6_ &gt; 0.5)
		anInt1413 = (int) (512.0 * (d_5_ * (1.0 - d_6_)));
	    else
		anInt1413 = (int) (d_5_ * d_6_ * 512.0);
	    if (anInt1411 &gt;= 0) {
		if (anInt1411 &gt; 255)
		    anInt1411 = 255;
	    } else
		anInt1411 = 0;
	    if ((anInt1410 ^ 0xffffffff) &gt; -1)
		anInt1410 = 0;
	    else if (anInt1410 &gt; 255)
		anInt1410 = 255;
	    if (anInt1413 &lt; 1)
		anInt1413 = 1;
	    anInt1408 = (int) ((double) anInt1413 * d_4_);
	} catch (RuntimeException runtimeexception) {
	    throw Class131_Sub2_Sub6.method1495(runtimeexception,
						(&quot;lf.D(&quot; + arg0 + &#39;,&#39; + arg1
						 + &#39;)&#39;));
	}
    }
[/CODE]


[ul]This method is used for giving the ground texture models coloring. What you are doing is forcing a single color, regardless of the texture.[/ul]


Change these lines:
[CODE]
if (anInt1411 &gt; 255)
[/CODE]
and:
[CODE]
 else if (anInt1410 &gt; 255)
[/CODE]

To:
[CODE]
if (anInt1411 &gt; -255)
[/CODE]
and:
[CODE]
 else if (anInt1410 &gt; -255)
[/CODE]


[ul]You could just force the values, but this is easier then having people possibly messing them up :L[/ul]



[ul]These values are in RGB (255:255:255) values.[/ul]


You can repost on other forums if you wish, I don&#39;t care.

Enjoy &quot;)

Happy holidays.

If you would like the refactored texture model painting method, or an explanation for how this works, private message me I guess.

Extension on information past this point:

I believe that the contains files named after the region ids of the maps. Each region has its specific color id mapping. So basically, the client reads this data which is compressed. The byte array which is read from the client is then decompressed through this calculation:

[CODE]
 double d = (double) (arg1 &gt;&gt; 1357946736 &amp; 0xff) / 256.0;
	    double d_0_ = (double) ((arg1 &amp; 0xff8f) &gt;&gt; -449050008) / 256.0;
	    double d_1_ = (double) (0xff &amp; arg1) / 256.0;
	    double d_2_ = d;
	    if (d_0_ &lt; d_2_)
		d_2_ = d_0_;
	    if (d_2_ &gt; d_1_)
		d_2_ = d_1_;
	    double d_3_ = d;
	    if (d_3_ &lt; d_0_)
		d_3_ = d_0_;
	    if (d_3_ &lt; d_1_)
		d_3_ = d_1_;
	    double d_4_ = 0.0;
	    double d_5_ = 0.0;
	    double d_6_ = (d_3_ + d_2_) / 2.0;
	    if (d_3_ != d_2_) {
		if (d_6_ &lt; 0.5)
		    d_5_ = (d_3_ - d_2_) / (d_3_ + d_2_);
		if (d == d_3_)
		    d_4_ = (d_0_ - d_1_) / (d_3_ - d_2_);
		else if (d_0_ == d_3_)
		    d_4_ = 2.0 + (d_1_ - d) / (d_3_ - d_2_);
		else if (d_1_ == d_3_)
		    d_4_ = 4.0 + (d - d_0_) / (d_3_ - d_2_);
		if (d_6_ &gt;= 0.5)
		    d_5_ = (d_3_ - d_2_) / ((2.0 - d_3_) - d_2_);
	    }
	    redIndex = (int) (d_5_ * 256.0);
	    blueIndex = (int) (256.0 * d_6_);
	    d_4_ /= 6.0;
	    if (d_6_ &gt; 0.5)
	    	greenIndex = (int) (512.0 * (d_5_ * (1.0 - d_6_)));
	    else
	    	greenIndex = (int) (d_5_ * d_6_ * 512.0);
	    if (blueIndex &gt;= 0) {
	    	if (blueIndex &gt; 255)
	    		blueIndex = 255;
	    } else
	    	blueIndex = 0;
	    if (redIndex &lt; 1)
	    	redIndex = 0;
	    else if (redIndex &gt; 255)
	    	redIndex = 255;
	    if (greenIndex &lt; 1)
	    	greenIndex = 1;
	    anInt1408 = (int) ((double) greenIndex * d_4_);
[/CODE]

This data is then sent to the send map region packet, and tells the client to display those colors on the specific pixels, to make it appear as though the ground is actually colored. I will prove this theory eventually in more depth as I get more evidence and proof for it.

Code for how the colors are displayed through the regions:
[CODE]
public static void texturePainting(Toolkit toolkit, Class68 arg1, Class19[] arg2, int arg3, boolean arg4) {
		for (int height = 0; height &lt; 4; height++) {
		    for (int mapX = 0; mapX &lt; Class131_Sub41_Sub11_Sub1.map_sizeX; mapX++) {
		    	for (int mapY = 0; mapY &lt; Class131_Sub2_Sub26.mapSizeY; mapY++) {
		    		if (((Class23_Sub2_Sub1.aByteArrayArrayArray4992[height][mapX][mapY]) &amp; 0x1) != 0) {
		    			int currentHeight = height;
		    			if (((Class23_Sub2_Sub1.aByteArrayArrayArray4992[1][mapX][mapY]) &amp; 0x2) == 0)
		    				currentHeight--;
		    			if (currentHeight &gt;= 0)
		    				arg2[currentHeight].method244(mapY, mapX);
		    		}
		    	}
		    }
		}
	    int[][] palette = (new int[Class131_Sub41_Sub11_Sub1.map_sizeX][Class131_Sub2_Sub26.mapSizeY]);
	    for (int i = 0; i &lt; arg3; i++) {
		for (int mapY = 0; mapY &lt; Class131_Sub2_Sub26.mapSizeY; mapY++) {
		    Class131_Sub3.anIntArray4127[mapY] = 0;
		    Class131_Sub22.anIntArray4448[mapY] = 0;
		    Class78.anIntArray1054[mapY] = 0;
		    Class131_Sub41_Sub11.anIntArray6301[mapY] = 0;
		    Class83.anIntArray1097[mapY] = 0;
		}
		for (int mapIndexX = -5; mapIndexX &lt; Class131_Sub41_Sub11_Sub1.map_sizeX; mapIndexX++) {
		    for (int mapY = 0; mapY &lt; Class131_Sub2_Sub26.mapSizeY;  mapY++) {
		    	int mapX = mapIndexX + 5;
		    	if (mapX &lt; Class131_Sub41_Sub11_Sub1.map_sizeX) {
		    		int fileId = Class88.aByteArrayArrayArray1150[i][mapX][mapY] &amp; 0xff;
		    		if (fileId &gt; 0) {
		    			Class108 class108 = Class186.method2561(fileId - 1);
		    			Class131_Sub3.anIntArray4127[mapY] += class108.anInt1408;
		    			Class131_Sub22.anIntArray4448[mapY] += class108.redIndex;
		    			Class78.anIntArray1054[mapY] += class108.blueIndex;
		    			Class131_Sub41_Sub11.anIntArray6301[mapY] += class108.greenIndex;
		    			Class83.anIntArray1097[mapY]++;
		    		}
		    	}
		    	int mapX_ = mapIndexX - 5;
		    	if (mapX_ &gt;= 0) {
		    		int fileId = 0xff &amp; (Class88.aByteArrayArrayArray1150[i][mapX_][mapY]);
		    		if (fileId &gt; 0) {
		    			Class108 class108 = Class186.method2561(fileId - 1);
		    			Class131_Sub3.anIntArray4127[mapY] -= class108.anInt1408;
		    			Class131_Sub22.anIntArray4448[mapY] -= class108.redIndex;
		    			Class78.anIntArray1054[mapY] -= class108.blueIndex;
		    			Class131_Sub41_Sub11.anIntArray6301[mapY] -= class108.greenIndex;
		    			Class83.anIntArray1097[mapY]--;
		    		}
		    	}
		    }
		    if (mapIndexX &gt;= 0) {
		    	int i_10_ = 0;
		    	int i_11_ = 0;
		    	int i_12_ = 0;
		    	int i_13_ = 0;
		    	int i_14_ = 0;
		    	for (int mapIndexY = -5; mapIndexY &lt; Class131_Sub2_Sub26.mapSizeY; mapIndexY++) {
			    int mapY = mapIndexY - -5;
			    if (Class131_Sub2_Sub26.mapSizeY &gt; mapY) {
			    	i_11_ += Class131_Sub22.anIntArray4448[mapY];
			    	i_13_ += (Class131_Sub41_Sub11.anIntArray6301[mapY]);
			    	i_14_ += Class83.anIntArray1097[mapY];
			    	i_10_ += Class131_Sub3.anIntArray4127[mapY];
			    	i_12_ += Class78.anIntArray1054[mapY];
			    }
			    int mapY_ = mapIndexY - 5;
			    if (mapY_ &gt;= 0) {
			    	i_11_ -= Class131_Sub22.anIntArray4448[mapY_];
			    	i_10_ -= Class131_Sub3.anIntArray4127[mapY_];
			    	i_14_ -= Class83.anIntArray1097[mapY_];
			    	i_13_ -= (Class131_Sub41_Sub11.anIntArray6301[mapY_]);
			    	i_12_ -= Class78.anIntArray1054[mapY_];
			    }
			    if (mapIndexY &gt;= 0 &amp;&amp; i_13_ &gt; 0 &amp;&amp; i_14_ &gt; 0)
				palette[mapIndexX][mapIndexY] = HashTable.method2526(i_11_ / i_14_, i_12_ / i_14_, i_10_ * 256 / i_13_);
			}
		    }
		}
		Class131_Sub41_Sub11_Sub1.method2006
		    (toolkit, Class121_Sub3_Sub1.aByteArrayArrayArray5434[i],
		     Class131_Sub2_Sub26.mapSizeY,
		     Class75.aClass68Array1023[i],
		     Class88.aByteArrayArrayArray1150[i],
		     Class17.aByteArrayArrayArray184[i],
		     Class131_Sub41_Sub11_Sub1.map_sizeX, arg1, palette, arg4,
		     i, Class131_Sub41_Sub18.aByteArrayArrayArray6402[i]);
		Class88.aByteArrayArrayArray1150[i] = null;
		Class17.aByteArrayArrayArray184[i] = null;
		Class131_Sub41_Sub18.aByteArrayArrayArray6402[i] = null;
		Class121_Sub3_Sub1.aByteArrayArrayArray5434[i] = null;
	    }
		if (Class167.aBoolean2235)
		    Class184.method2552();
		if (Class131_Sub2_Sub16.anInt5779 == 0)
		    Class163.method2402();
	    for (int i = 0; i &lt; arg3; i++)
	    	Class75.aClass68Array1023[i].method713();
    }
[/CODE]

So the data read from that file is then sent to the client for each new region:
(Black # = Data Stream)
[IMG]http://i55.tinypic.com/t9jbxs.png[/img]

These numbers can be easily altered, but are hard to control. Until I can figure out how they are stored exactly in the cache, and in what compression is used to make them that way, I can not exactly decipher how and what representation the numbers are to the colors displayed.

Images of Testing:
[IMG]http://i54.tinypic.com/29enm91.png[/img]

[IMG]http://i53.tinypic.com/xbep2w.png[/img]</description>
    
    <lastBuildDate>Fri, 30 Dec 2011 12:48:31 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@X_Entinity_X X Entinity X]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/x_entinity_x">@X_Entinity_X</a> wrote:</p>
          <blockquote>
              <p>flo.dat</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/19</link>
        <pubDate>Fri, 30 Dec 2011 12:48:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-19</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@neroxx neroxx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/neroxx">@neroxx</a> wrote:</p>
          <blockquote>
              <p>This is nice, but it is any tutorial like this for hyperion?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/18</link>
        <pubDate>Mon, 26 Dec 2011 14:05:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-18</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>Well the tile no matter has an associated color with it because it takes the sum of the full channel of every pixel in a sprite, and then averages them. Tiles on the ground cannot even be called a wire frame, its just a height map that is then translated into a graph rotates by the pitch and yaw of the camera. Since a tile does still have an underlay and overlay for shadow mapping, I seriously recommend you research how to effectively change the values. Works for textures to, the sceme of rasterizing a textures triangle just doesn’t allow for shaders to be applied on top since there is no need to.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/17</link>
        <pubDate>Sun, 25 Dec 2011 16:44:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-17</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>It’s more likely to be a gradient, then specific values.</p>
<p>What I mean is that the landscape probable has some “base” scheme, and then the tiles can have some sort of tolerance level.</p>
<p>Note that I’m spewing bullshit, and these are untested hypotheses.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/16</link>
        <pubDate>Sun, 25 Dec 2011 09:29:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-16</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@Pure_Slay Pure Slay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure_slay">@Pure_Slay</a> wrote:</p>
          <blockquote>
              <p>[quote=“sinisoul, post:11, topic:426664”][code]</p>
<blockquote>
<blockquote>
<p>-449050008 (anInt1410 ^ 0xffffffff) &gt; -1<br>
[/code]</p>
</blockquote>
</blockquote>
<p>Ew.</p>
<p>This is just messing with the floor blending, this also takes calculations and works with the shadow map.</p>
<aside class="quote">
<blockquote>
<p>ground texture models coloring</p>
</blockquote>
</aside>
<p>Um. What?</p>
<pre><code class="lang-auto">public void method262(int i, int j)
    {
        double redintensity = (double)(i &gt;&gt; 16 &amp; 0xff) / 256D;
        double greenintensity = (double)(i &gt;&gt; 8 &amp; 0xff) / 256D;
        double blueintensity = (double)(i &amp; 0xff) / 256D;
		/* Get the channel that is the least intense */
        double leastintense = redintensity;
        if(greenintensity &lt; leastintense)
            leastintense = greenintensity;
        if(blueintensity &lt; leastintense)
            leastintense = blueintensity;
		/* Get the channel that is the most intense */
        double mostintense = redintensity;
        if(greenintensity &gt; mostintense)
            mostintense = greenintensity;
        if(blueintensity &gt; mostintense)
            mostintense = blueintensity;
        double d5 = 0.0D;
        double d6 = 0.0D;
		/* Calculate the average intensity */
        double avrintensity = (leastintense + mostintense) / 2D;
        if(leastintense != mostintense)
        {
            if(avrintensity &lt; 0.5D)
                d6 = (mostintense - leastintense) / (mostintense + leastintense);
            if(avrintensity &gt;= 0.5D)
                d6 = (mostintense - leastintense) / (2D - mostintense - leastintense);
            if(redintensity == mostintense)
                d5 = (greenintensity - blueintensity) / (mostintense - leastintense);
            else
            if(greenintensity == mostintense)
                d5 = 2D + (blueintensity - redintensity) / (mostintense - leastintense);
            else
            if(blueintensity == mostintense)
                d5 = 4D + (redintensity - greenintensity) / (mostintense - leastintense);
        }
        d5 /= 6D;
        anInt394 = (int)(d5 * 256D);
        anInt395 = (int)(d6 * 256D);
        avrintensitycolor = (int)(avrintensity * 256D);
        if(anInt395 &lt; 0)
            anInt395 = 0;
        else
        if(anInt395 &gt; 255)
            anInt395 = 255;
        if(avrintensitycolor &lt; 0)
            avrintensitycolor = 0;
        else
        if(avrintensitycolor &gt; 255)
            avrintensitycolor = 255;
        if(avrintensity &gt; 0.5D)
            anInt398 = (int)((1.0D - avrintensity) * d6 * 512D);
        else
            anInt398 = (int)(avrintensity * d6 * 512D);
        if(anInt398 &lt; 1)
            anInt398 = 1;
        anInt397 = (int)(d5 * (double)anInt398);
        int k = (anInt394 + (int)(Math.random() * 16D)) - 8;
        if(k &lt; 0)
            k = 0;
        else
        if(k &gt; 255)
            k = 255;
        int l = (anInt395 + (int)(Math.random() * 48D)) - 24;
        if(j &lt; 9 || j &gt; 9)
            return;
        if(l &lt; 0)
            l = 0;
        else
        if(l &gt; 255)
            l = 255;
        int i1 = (avrintensitycolor + (int)(Math.random() * 48D)) - 24;
        if(i1 &lt; 0)
            i1 = 0;
        else
        if(i1 &gt; 255)
            i1 = 255;
        anInt399 = method263(k, l, i1);
    }</code></pre>
<pre><code class="lang-auto">				if (i_31_ &gt;= 0 &amp;&amp; i_31_ &lt; ml_sizex) {
					int i_32_ = floormap2[i_10_][i_31_][i_30_] &amp; 0xff;
					if (i_32_ &gt; 0) {
						Floor class22 = Floor.floors[i_32_ - 1];
						tile_blending1[i_30_] += class22.anInt397;
						tile_blending2[i_30_] += class22.anInt395;
						averageintensityfloors[i_30_] += class22.avrintensitycolor;
						tile_blending4[i_30_] += class22.anInt398;
						blendingcount[i_30_]++;
					}
				}</code></pre>
<pre><code class="lang-auto">if (i_33_ &gt;= 0 &amp;&amp; i_33_ &lt; ml_sizex) {
					int i_34_ = floormap2[i_10_][i_33_][i_30_] &amp; 0xff;
					if (i_34_ &gt; 0) {
						Floor class22 = Floor.floors[i_34_ - 1];
						tile_blending1[i_30_] -= class22.anInt397;
						tile_blending2[i_30_] -= class22.anInt395;
						averageintensityfloors[i_30_] -= class22.avrintensitycolor;
						tile_blending4[i_30_] -= class22.anInt398;
						blendingcount[i_30_]--;
					}
				}</code></pre>
<p>One of them is an underlay, one of them is an underlay. Inb4Peter comes in and corrects me.[/quote]</p>
<p>The actual painting is only on models laid over the initial map. As you may notice in the pictures, roads and the grounds of houses/banks/ect are not painted with the coloring. The reason why I call it ground texture modeling coloring, is it paints the color onto the actual model. This model is applied to the map that is obviously on the ground. The coloring of this method does not affect other models except for those pertaining to the ground. I find the naming quite appropriate for the functionality of the method.</p>
<p>As for the line statement, that is code that has not been refactored as generally you don’t mess around with calculations until you are certain about what they are and what purpose they serve. That may not be what everyone does, but I have never had a problem arise from the tactics I have when editing the client.</p>
<p><a class="mention" href="/u/someone">@Someone</a> saying it does not work. What revision are you attempting to edit?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/15</link>
        <pubDate>Sun, 25 Dec 2011 07:59:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-15</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@The_Outsider The Outsider]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_outsider">@The_Outsider</a> wrote:</p>
          <blockquote>
              <p>That’s actually quality. No noobed up white trees, just looks like it actually snowed for Christmas. Nice share.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/14</link>
        <pubDate>Sun, 25 Dec 2011 03:38:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-14</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@Fridder Fridder]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fridder">@Fridder</a> wrote:</p>
          <blockquote>
              <p>Awesome, thanks for this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/13</link>
        <pubDate>Sun, 25 Dec 2011 03:30:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-13</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@l33txtroll l33txtroll]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/l33txtroll">@l33txtroll</a> wrote:</p>
          <blockquote>
              <p>this isnt working I searched every where and when i do ctrl+f in the files and search for 512.0 nothing shows up could you help me?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/12</link>
        <pubDate>Sun, 25 Dec 2011 00:47:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-12</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">&gt;&gt; -449050008 (anInt1410 ^ 0xffffffff) &gt; -1</code></pre>
<p>Ew.</p>
<p>This is just messing with the floor blending, this also takes calculations and works with the shadow map.</p>
<blockquote>ground texture models coloring</blockquote>
<p>Um. What?</p>
<pre><code class="lang-auto">public void method262(int i, int j)
    {
        double redintensity = (double)(i &gt;&gt; 16 &amp; 0xff) / 256D;
        double greenintensity = (double)(i &gt;&gt; 8 &amp; 0xff) / 256D;
        double blueintensity = (double)(i &amp; 0xff) / 256D;
		/* Get the channel that is the least intense */
        double leastintense = redintensity;
        if(greenintensity &lt; leastintense)
            leastintense = greenintensity;
        if(blueintensity &lt; leastintense)
            leastintense = blueintensity;
		/* Get the channel that is the most intense */
        double mostintense = redintensity;
        if(greenintensity &gt; mostintense)
            mostintense = greenintensity;
        if(blueintensity &gt; mostintense)
            mostintense = blueintensity;
        double d5 = 0.0D;
        double d6 = 0.0D;
		/* Calculate the average intensity */
        double avrintensity = (leastintense + mostintense) / 2D;
        if(leastintense != mostintense)
        {
            if(avrintensity &lt; 0.5D)
                d6 = (mostintense - leastintense) / (mostintense + leastintense);
            if(avrintensity &gt;= 0.5D)
                d6 = (mostintense - leastintense) / (2D - mostintense - leastintense);
            if(redintensity == mostintense)
                d5 = (greenintensity - blueintensity) / (mostintense - leastintense);
            else
            if(greenintensity == mostintense)
                d5 = 2D + (blueintensity - redintensity) / (mostintense - leastintense);
            else
            if(blueintensity == mostintense)
                d5 = 4D + (redintensity - greenintensity) / (mostintense - leastintense);
        }
        d5 /= 6D;
        anInt394 = (int)(d5 * 256D);
        anInt395 = (int)(d6 * 256D);
        avrintensitycolor = (int)(avrintensity * 256D);
        if(anInt395 &lt; 0)
            anInt395 = 0;
        else
        if(anInt395 &gt; 255)
            anInt395 = 255;
        if(avrintensitycolor &lt; 0)
            avrintensitycolor = 0;
        else
        if(avrintensitycolor &gt; 255)
            avrintensitycolor = 255;
        if(avrintensity &gt; 0.5D)
            anInt398 = (int)((1.0D - avrintensity) * d6 * 512D);
        else
            anInt398 = (int)(avrintensity * d6 * 512D);
        if(anInt398 &lt; 1)
            anInt398 = 1;
        anInt397 = (int)(d5 * (double)anInt398);
        int k = (anInt394 + (int)(Math.random() * 16D)) - 8;
        if(k &lt; 0)
            k = 0;
        else
        if(k &gt; 255)
            k = 255;
        int l = (anInt395 + (int)(Math.random() * 48D)) - 24;
        if(j &lt; 9 || j &gt; 9)
            return;
        if(l &lt; 0)
            l = 0;
        else
        if(l &gt; 255)
            l = 255;
        int i1 = (avrintensitycolor + (int)(Math.random() * 48D)) - 24;
        if(i1 &lt; 0)
            i1 = 0;
        else
        if(i1 &gt; 255)
            i1 = 255;
        anInt399 = method263(k, l, i1);
    }</code></pre>
<pre><code class="lang-auto">				if (i_31_ &gt;= 0 &amp;&amp; i_31_ &lt; ml_sizex) {
					int i_32_ = floormap2[i_10_][i_31_][i_30_] &amp; 0xff;
					if (i_32_ &gt; 0) {
						Floor class22 = Floor.floors[i_32_ - 1];
						tile_blending1[i_30_] += class22.anInt397;
						tile_blending2[i_30_] += class22.anInt395;
						averageintensityfloors[i_30_] += class22.avrintensitycolor;
						tile_blending4[i_30_] += class22.anInt398;
						blendingcount[i_30_]++;
					}
				}</code></pre>
<pre><code class="lang-auto">if (i_33_ &gt;= 0 &amp;&amp; i_33_ &lt; ml_sizex) {
					int i_34_ = floormap2[i_10_][i_33_][i_30_] &amp; 0xff;
					if (i_34_ &gt; 0) {
						Floor class22 = Floor.floors[i_34_ - 1];
						tile_blending1[i_30_] -= class22.anInt397;
						tile_blending2[i_30_] -= class22.anInt395;
						averageintensityfloors[i_30_] -= class22.avrintensitycolor;
						tile_blending4[i_30_] -= class22.anInt398;
						blendingcount[i_30_]--;
					}
				}</code></pre>
<p>One of them is an underlay, one of them is an underlay. Inb4Peter comes in and corrects me.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/11</link>
        <pubDate>Sat, 24 Dec 2011 23:01:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-11</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@lemme_winks lemme_winks_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lemme_winks">@lemme_winks</a> wrote:</p>
          <blockquote>
              <p>[quote=“Pure Slay, post:9, topic:426664”][quote author=lemme_winks_ link=topic=529354.msg3862574#msg3862574 date=1324760024]</p>
<aside class="quote">
<blockquote>
<p>It was quite easy to read it</p>
</blockquote>
</aside>
<p>yes, obfuscated code is very easy to understand.<br>
[/quote]</p>
<p>I don’t think you understand the difference between deobfuscated and obfuscated. Because you clearly don’t realize this is deobfuscated.[/quote]<br>
my bad.  deobfuscated, but still hard as fuck to understand just looking at it with it had been obfuscated in an earlier time.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/10</link>
        <pubDate>Sat, 24 Dec 2011 21:04:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-10</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@Pure_Slay Pure Slay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure_slay">@Pure_Slay</a> wrote:</p>
          <blockquote>
              <p>[quote=“lemme_winks_, post:8, topic:426664”][quote author=Uncalled link=topic=529354.msg3862545#msg3862545 date=1324759248]<br>
It was quite easy to read it<br>
[/quote]</p>
<p>yes, obfuscated code is very easy to understand.[/quote]</p>
<p>I don’t think you understand the difference between deobfuscated and obfuscated. Because you clearly don’t realize this is deobfuscated.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/9</link>
        <pubDate>Sat, 24 Dec 2011 20:54:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-9</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@lemme_winks lemme_winks_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lemme_winks">@lemme_winks</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="4" data-topic="426664">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/uncalled/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Uncalled:</div>
<blockquote>
<p>It was quite easy to read it</p>
</blockquote>
</aside>
<p>yes, obfuscated code is very easy to understand.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/8</link>
        <pubDate>Sat, 24 Dec 2011 20:53:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-8</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@Pure_Slay Pure Slay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure_slay">@Pure_Slay</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="6" data-topic="426664">
<div class="title">
<div class="quote-controls"></div>
 lemme_winks_:</div>
<blockquote>
<p>good job, but the trees are green</p>
</blockquote>
</aside>
<p>It is for ground texture painting. The map has textures laid over it, some portions of the map do not contain this texture overlay such as the roads, they use a different painting method. Trees that have snow would be a change in the overall model, not the painting of that model.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/7</link>
        <pubDate>Sat, 24 Dec 2011 20:51:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-7</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@lemme_winks lemme_winks_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lemme_winks">@lemme_winks</a> wrote:</p>
          <blockquote>
              <p>good job, but the trees are green</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/6</link>
        <pubDate>Sat, 24 Dec 2011 20:49:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-6</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@Pure_Slay Pure Slay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure_slay">@Pure_Slay</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="4" data-topic="426664">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/uncalled/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Uncalled:</div>
<blockquote>
<p>It was quite easy to read it, I skimmed through the code, read the rest - as you didn’t hardly explain any of your code.</p>
</blockquote>
</aside>
<p>The fact that I had to find the extension of texture painting in another file, would be why the information was only for the client modification.</p>
<p>But if you did read it with such ease, please explain to me how model textures are painted.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/5</link>
        <pubDate>Sat, 24 Dec 2011 20:46:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-5</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@Uncalled Uncalled]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/uncalled">@Uncalled</a> wrote:</p>
          <blockquote>
              <p>It was quite easy to read it, I skimmed through the code, read the rest - as you didn’t hardly explain any of your code.</p>
<p>EDIT:<br>
I see you edited it, very nice job with this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/4</link>
        <pubDate>Sat, 24 Dec 2011 20:40:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-4</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@Pure_Slay Pure Slay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure_slay">@Pure_Slay</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="426664">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/uncalled/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Uncalled:</div>
<blockquote>
<p>You of all people should know better to add this as a topic. Obviously a snippet.</p>
</blockquote>
</aside>
<p>I don’t believe this being a snippet for a server, it is a tutorial explaining how to change texture model painting for any revision in a client. But you obviously were able to read the whole topic in less then 2 minutes of its posting.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/3</link>
        <pubDate>Sat, 24 Dec 2011 20:38:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-3</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@Uncalled Uncalled]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/uncalled">@Uncalled</a> wrote:</p>
          <blockquote>
              <p>You of all people should know better to add this as a topic. Obviously a snippet.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/2</link>
        <pubDate>Sat, 24 Dec 2011 20:37:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-2</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
      <item>
        <title>White Christmas [Any Revision]</title>
        <dc:creator><![CDATA[@Pure_Slay Pure Slay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure_slay">@Pure_Slay</a> wrote:</p>
          <blockquote>
              <p>[ul]This is fairly an easy snippet/tutorial to follow, regardless of your programming ability.[/ul]</p>
<p>What you are going for:<br>
<img src="http://i52.tinypic.com/331ixbo.png" alt width="140" height="120"></p>
<p>[ul]In your client search for “512.0”[/ul]</p>
<p>[ul]It should return one class.[/ul]</p>
<p>[ul]Open that class, search for “512.0” go to the line that contains this.[/ul]</p>
<p>Method example:</p>
<pre><code class="lang-auto"> public void method929(int arg0, int arg1) {
	try {
	    anInt1412++;
	    double d = (double) (arg1 &gt;&gt; 1357946736 &amp; 0xff) / 256.0;
	    double d_0_ = (double) ((arg1 &amp; 0xff8f) &gt;&gt; -449050008) / 256.0;
	    double d_1_ = (double) (0xff &amp; arg1) / 256.0;
	    double d_2_ = d;
	    if (d_0_ &lt; d_2_)
		d_2_ = d_0_;
	    if (d_2_ &gt; d_1_)
		d_2_ = d_1_;
	    double d_3_ = d;
	    if (d_3_ &lt; d_0_)
		d_3_ = d_0_;
	    if (d_3_ &lt; d_1_)
		d_3_ = d_1_;
	    if (arg0 != 127)
		method928(null, 68, true);
	    double d_4_ = 0.0;
	    double d_5_ = 0.0;
	    double d_6_ = (d_3_ + d_2_) / 2.0;
	    if (d_3_ != d_2_) {
		if (d_6_ &lt; 0.5)
		    d_5_ = (d_3_ - d_2_) / (d_3_ + d_2_);
		if (d == d_3_)
		    d_4_ = (-d_1_ + d_0_) / (d_3_ - d_2_);
		else if (d_0_ == d_3_)
		    d_4_ = 2.0 + (-d + d_1_) / (d_3_ - d_2_);
		else if (d_1_ == d_3_)
		    d_4_ = 4.0 + (d - d_0_) / (d_3_ - d_2_);
		if (d_6_ &gt;= 0.5)
		    d_5_ = (-d_2_ + d_3_) / (-d_2_ + (2.0 - d_3_));
	    }
	    anInt1410 = (int) (d_5_ * 256.0);
	    anInt1411 = (int) (256.0 * d_6_);
	    d_4_ /= 6.0;
	    if (d_6_ &gt; 0.5)
		anInt1413 = (int) (512.0 * (d_5_ * (1.0 - d_6_)));
	    else
		anInt1413 = (int) (d_5_ * d_6_ * 512.0);
	    if (anInt1411 &gt;= 0) {
		if (anInt1411 &gt; 255)
		    anInt1411 = 255;
	    } else
		anInt1411 = 0;
	    if ((anInt1410 ^ 0xffffffff) &gt; -1)
		anInt1410 = 0;
	    else if (anInt1410 &gt; 255)
		anInt1410 = 255;
	    if (anInt1413 &lt; 1)
		anInt1413 = 1;
	    anInt1408 = (int) ((double) anInt1413 * d_4_);
	} catch (RuntimeException runtimeexception) {
	    throw Class131_Sub2_Sub6.method1495(runtimeexception,
						("lf.D(" + arg0 + ',' + arg1
						 + ')'));
	}
    }</code></pre>
<p>[ul]This method is used for giving the ground texture models coloring. What you are doing is forcing a single color, regardless of the texture.[/ul]</p>
<p>Change these lines:</p>
<pre><code class="lang-auto">if (anInt1411 &gt; 255)</code></pre>
<p>and:</p>
<pre><code class="lang-auto"> else if (anInt1410 &gt; 255)</code></pre>
<p>To:</p>
<pre><code class="lang-auto">if (anInt1411 &gt; -255)</code></pre>
<p>and:</p>
<pre><code class="lang-auto"> else if (anInt1410 &gt; -255)</code></pre>
<p>[ul]You could just force the values, but this is easier then having people possibly messing them up :L[/ul]</p>
<p>[ul]These values are in RGB (255:255:255) values.[/ul]</p>
<p>You can repost on other forums if you wish, I don’t care.</p>
<p>Enjoy ")</p>
<p>Happy holidays.</p>
<p>If you would like the refactored texture model painting method, or an explanation for how this works, private message me I guess.</p>
<p>Extension on information past this point:</p>
<p>I believe that the contains files named after the region ids of the maps. Each region has its specific color id mapping. So basically, the client reads this data which is compressed. The byte array which is read from the client is then decompressed through this calculation:</p>
<pre><code class="lang-auto"> double d = (double) (arg1 &gt;&gt; 1357946736 &amp; 0xff) / 256.0;
	    double d_0_ = (double) ((arg1 &amp; 0xff8f) &gt;&gt; -449050008) / 256.0;
	    double d_1_ = (double) (0xff &amp; arg1) / 256.0;
	    double d_2_ = d;
	    if (d_0_ &lt; d_2_)
		d_2_ = d_0_;
	    if (d_2_ &gt; d_1_)
		d_2_ = d_1_;
	    double d_3_ = d;
	    if (d_3_ &lt; d_0_)
		d_3_ = d_0_;
	    if (d_3_ &lt; d_1_)
		d_3_ = d_1_;
	    double d_4_ = 0.0;
	    double d_5_ = 0.0;
	    double d_6_ = (d_3_ + d_2_) / 2.0;
	    if (d_3_ != d_2_) {
		if (d_6_ &lt; 0.5)
		    d_5_ = (d_3_ - d_2_) / (d_3_ + d_2_);
		if (d == d_3_)
		    d_4_ = (d_0_ - d_1_) / (d_3_ - d_2_);
		else if (d_0_ == d_3_)
		    d_4_ = 2.0 + (d_1_ - d) / (d_3_ - d_2_);
		else if (d_1_ == d_3_)
		    d_4_ = 4.0 + (d - d_0_) / (d_3_ - d_2_);
		if (d_6_ &gt;= 0.5)
		    d_5_ = (d_3_ - d_2_) / ((2.0 - d_3_) - d_2_);
	    }
	    redIndex = (int) (d_5_ * 256.0);
	    blueIndex = (int) (256.0 * d_6_);
	    d_4_ /= 6.0;
	    if (d_6_ &gt; 0.5)
	    	greenIndex = (int) (512.0 * (d_5_ * (1.0 - d_6_)));
	    else
	    	greenIndex = (int) (d_5_ * d_6_ * 512.0);
	    if (blueIndex &gt;= 0) {
	    	if (blueIndex &gt; 255)
	    		blueIndex = 255;
	    } else
	    	blueIndex = 0;
	    if (redIndex &lt; 1)
	    	redIndex = 0;
	    else if (redIndex &gt; 255)
	    	redIndex = 255;
	    if (greenIndex &lt; 1)
	    	greenIndex = 1;
	    anInt1408 = (int) ((double) greenIndex * d_4_);</code></pre>
<p>This data is then sent to the send map region packet, and tells the client to display those colors on the specific pixels, to make it appear as though the ground is actually colored. I will prove this theory eventually in more depth as I get more evidence and proof for it.</p>
<p>Code for how the colors are displayed through the regions:</p>
<pre><code class="lang-auto">public static void texturePainting(Toolkit toolkit, Class68 arg1, Class19[] arg2, int arg3, boolean arg4) {
		for (int height = 0; height &lt; 4; height++) {
		    for (int mapX = 0; mapX &lt; Class131_Sub41_Sub11_Sub1.map_sizeX; mapX++) {
		    	for (int mapY = 0; mapY &lt; Class131_Sub2_Sub26.mapSizeY; mapY++) {
		    		if (((Class23_Sub2_Sub1.aByteArrayArrayArray4992[height][mapX][mapY]) &amp; 0x1) != 0) {
		    			int currentHeight = height;
		    			if (((Class23_Sub2_Sub1.aByteArrayArrayArray4992[1][mapX][mapY]) &amp; 0x2) == 0)
		    				currentHeight--;
		    			if (currentHeight &gt;= 0)
		    				arg2[currentHeight].method244(mapY, mapX);
		    		}
		    	}
		    }
		}
	    int[][] palette = (new int[Class131_Sub41_Sub11_Sub1.map_sizeX][Class131_Sub2_Sub26.mapSizeY]);
	    for (int i = 0; i &lt; arg3; i++) {
		for (int mapY = 0; mapY &lt; Class131_Sub2_Sub26.mapSizeY; mapY++) {
		    Class131_Sub3.anIntArray4127[mapY] = 0;
		    Class131_Sub22.anIntArray4448[mapY] = 0;
		    Class78.anIntArray1054[mapY] = 0;
		    Class131_Sub41_Sub11.anIntArray6301[mapY] = 0;
		    Class83.anIntArray1097[mapY] = 0;
		}
		for (int mapIndexX = -5; mapIndexX &lt; Class131_Sub41_Sub11_Sub1.map_sizeX; mapIndexX++) {
		    for (int mapY = 0; mapY &lt; Class131_Sub2_Sub26.mapSizeY;  mapY++) {
		    	int mapX = mapIndexX + 5;
		    	if (mapX &lt; Class131_Sub41_Sub11_Sub1.map_sizeX) {
		    		int fileId = Class88.aByteArrayArrayArray1150[i][mapX][mapY] &amp; 0xff;
		    		if (fileId &gt; 0) {
		    			Class108 class108 = Class186.method2561(fileId - 1);
		    			Class131_Sub3.anIntArray4127[mapY] += class108.anInt1408;
		    			Class131_Sub22.anIntArray4448[mapY] += class108.redIndex;
		    			Class78.anIntArray1054[mapY] += class108.blueIndex;
		    			Class131_Sub41_Sub11.anIntArray6301[mapY] += class108.greenIndex;
		    			Class83.anIntArray1097[mapY]++;
		    		}
		    	}
		    	int mapX_ = mapIndexX - 5;
		    	if (mapX_ &gt;= 0) {
		    		int fileId = 0xff &amp; (Class88.aByteArrayArrayArray1150[i][mapX_][mapY]);
		    		if (fileId &gt; 0) {
		    			Class108 class108 = Class186.method2561(fileId - 1);
		    			Class131_Sub3.anIntArray4127[mapY] -= class108.anInt1408;
		    			Class131_Sub22.anIntArray4448[mapY] -= class108.redIndex;
		    			Class78.anIntArray1054[mapY] -= class108.blueIndex;
		    			Class131_Sub41_Sub11.anIntArray6301[mapY] -= class108.greenIndex;
		    			Class83.anIntArray1097[mapY]--;
		    		}
		    	}
		    }
		    if (mapIndexX &gt;= 0) {
		    	int i_10_ = 0;
		    	int i_11_ = 0;
		    	int i_12_ = 0;
		    	int i_13_ = 0;
		    	int i_14_ = 0;
		    	for (int mapIndexY = -5; mapIndexY &lt; Class131_Sub2_Sub26.mapSizeY; mapIndexY++) {
			    int mapY = mapIndexY - -5;
			    if (Class131_Sub2_Sub26.mapSizeY &gt; mapY) {
			    	i_11_ += Class131_Sub22.anIntArray4448[mapY];
			    	i_13_ += (Class131_Sub41_Sub11.anIntArray6301[mapY]);
			    	i_14_ += Class83.anIntArray1097[mapY];
			    	i_10_ += Class131_Sub3.anIntArray4127[mapY];
			    	i_12_ += Class78.anIntArray1054[mapY];
			    }
			    int mapY_ = mapIndexY - 5;
			    if (mapY_ &gt;= 0) {
			    	i_11_ -= Class131_Sub22.anIntArray4448[mapY_];
			    	i_10_ -= Class131_Sub3.anIntArray4127[mapY_];
			    	i_14_ -= Class83.anIntArray1097[mapY_];
			    	i_13_ -= (Class131_Sub41_Sub11.anIntArray6301[mapY_]);
			    	i_12_ -= Class78.anIntArray1054[mapY_];
			    }
			    if (mapIndexY &gt;= 0 &amp;&amp; i_13_ &gt; 0 &amp;&amp; i_14_ &gt; 0)
				palette[mapIndexX][mapIndexY] = HashTable.method2526(i_11_ / i_14_, i_12_ / i_14_, i_10_ * 256 / i_13_);
			}
		    }
		}
		Class131_Sub41_Sub11_Sub1.method2006
		    (toolkit, Class121_Sub3_Sub1.aByteArrayArrayArray5434[i],
		     Class131_Sub2_Sub26.mapSizeY,
		     Class75.aClass68Array1023[i],
		     Class88.aByteArrayArrayArray1150[i],
		     Class17.aByteArrayArrayArray184[i],
		     Class131_Sub41_Sub11_Sub1.map_sizeX, arg1, palette, arg4,
		     i, Class131_Sub41_Sub18.aByteArrayArrayArray6402[i]);
		Class88.aByteArrayArrayArray1150[i] = null;
		Class17.aByteArrayArrayArray184[i] = null;
		Class131_Sub41_Sub18.aByteArrayArrayArray6402[i] = null;
		Class121_Sub3_Sub1.aByteArrayArrayArray5434[i] = null;
	    }
		if (Class167.aBoolean2235)
		    Class184.method2552();
		if (Class131_Sub2_Sub16.anInt5779 == 0)
		    Class163.method2402();
	    for (int i = 0; i &lt; arg3; i++)
	    	Class75.aClass68Array1023[i].method713();
    }</code></pre>
<p>So the data read from that file is then sent to the client for each new region:<br>
(Black # = Data Stream)<br>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i55.tinypic.com/t9jbxs.png" title="t9jbxs.png" rel="nofollow noopener"><img src="http://i55.tinypic.com/t9jbxs.png" alt width="690" height="423"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">t9jbxs.png</span><span class="informations">882×541</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>These numbers can be easily altered, but are hard to control. Until I can figure out how they are stored exactly in the cache, and in what compression is used to make them that way, I can not exactly decipher how and what representation the numbers are to the colors displayed.</p>
<p>Images of Testing:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i54.tinypic.com/29enm91.png" title="29enm91.png" rel="nofollow noopener"><img src="http://i54.tinypic.com/29enm91.png" alt width="690" height="453"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">29enm91.png</span><span class="informations">761×500</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i53.tinypic.com/xbep2w.png" title="xbep2w.png" rel="nofollow noopener"><img src="http://i53.tinypic.com/xbep2w.png" alt width="690" height="455"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">xbep2w.png</span><span class="informations">767×506</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/white-christmas-any-revision/426664/1</link>
        <pubDate>Sat, 24 Dec 2011 20:36:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-426664-1</guid>
        <source url="https://forum.moparisthebest.com/t/white-christmas-any-revision/426664.rss">White Christmas [Any Revision]</source>
      </item>
  </channel>
</rss>
