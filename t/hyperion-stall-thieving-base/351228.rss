<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Hyperion] Stall thieving base</title>
    <link>https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228</link>
    <description>Well i&#39;ve been learning Grahams action system, and so far im doing ok.

The code is explained within the code its self.
Although, I am going to write a detailed tutorial explaining the code later.. seeing as I have to go shortly and I wont have the time to write it up now.
[CODE]package org.hyperion.rs2.action.impl;

import java.util.HashMap;
import java.util.Map;

import org.hyperion.rs2.action.Action;
import org.hyperion.rs2.model.Animation;
import org.hyperion.rs2.model.Item;
import org.hyperion.rs2.model.Location;
import org.hyperion.rs2.model.Player;

/**
* Stall thieving.
* @author Fire cape
*/
public class StallAction extends Action {

	/**
	 * Stall thieving.
	 * @author Fire cape
	 */
	public static enum Stall {
		
		SILK(1, 500, 0x340, 950, new int[]{2560});
		
		/**
         * A map of object ids to stalls.
         */
        private static Map&lt;Integer, Stall&gt; stalls = new HashMap&lt;Integer, Stall&gt;();

        /**
         * Gets a stall by an object id.
         * @param object The object id.
         * @return The stall, or &lt;code&gt;null&lt;/code&gt; if the object is not a stall.
         */
        public static Stall forId(int object) {
            return stalls.get(object);
        }

        /**
         * Populates the tree map.
         */
        static {
            for (Stall stall : Stall.values()) {
                for (int object : stall.id) {
                    stalls.put(object, stall);
                }
            }
        }
		
		/**
		 * The object id.
		 */
		private int[] id;
		
		/**
		 * The level.
		 */
		private int level;
		
		/**
		 * The experience.
		 */
		private double experience;
		
		/**
		 * The animation.
		 */
		private int animation;
		
		/**
		 * The item recieved.
		 */
		private int recievedItem;
		
		/**
		 * Stall handling enum.
		 * @param level The level required.
		 * @param experience The experience gained.
		 * @param animation The stall animation.
		 * @param recievedItem The item recieved after stealing from the stall.
		 * @param id The object id.
		 */
		private Stall(int level, double experience, int animation, int recievedItem, int[] id) {
			this.id = id;
			this.level = level;
			this.experience = experience;
			this.animation = animation;
			this.recievedItem = recievedItem;
		}
		
		/**
		 * Gets the id.
		 * @return the id.
		 */
		public int[] getId() {
			return id;
		}
		
		/**
		 * Gets The required level.
		 * @return The required level.
		 */
		public int getRequiredLevel() {
			return level;
		}
		
		/**
		 * Gets the experience.
		 * @return The experience.
		 */
		public double getExperience() {
			return experience;
		}
		
         /**
         * Gets the animation id.
         * @return The animation id.
         */
        public int getAnimation() {
            return animation;
        }
        
        /**
        * Gets the recieved item.
        * @return The recieved item id.
        */
        public int getRecievedItem() {
        	return recievedItem;
        }
	}
	
    /**
     * The stall type.
     */
    private Stall stall;
    
                /**
	 * The player&#39;s location
	 */
	private final Location location;
	
    /**
     * Creates the &lt;code&gt;Stall Action&lt;/code&gt;.
     * @param player The player performing the action.
     * @param identify The player identifying the herb.
     */
	public StallAction(Player player, Location location, Stall stall) {
		super(player, 2000);
		this.location = location;
		this.stall = stall;
		player.playAnimation(Animation.create(stall.getAnimation()));
	}
	
	@Override
	public QueuePolicy getQueuePolicy() {
		return QueuePolicy.NEVER;
	}

	@Override
	public WalkablePolicy getWalkablePolicy() {
		return WalkablePolicy.FOLLOW;
	}
	
	@Override
	public void execute() {
		final Player player = getPlayer();
		if (isRunning()) {
			player.face(location);
		}
		if(player.getSkills().getLevel(17) &gt;= stall.getRequiredLevel()) {
			if (player.getInventory().freeSlots() &gt;= 1) {
				player.getActionSender().sendMessage(&quot;You attempt to steal from stall...&quot;);
				player.getActionSender().sendMessage(&quot;You sucessfully steal from the stall!&quot;);
				player.getSkills().addExperience(17, stall.getExperience());
				player.getInventory().add(new Item(stall.getRecievedItem(), 1));
				stop();
			} else {
				player.getActionSender().sendMessage(&quot;There is not enough space in your inventory.&quot;);
				stop();
			}
		} else {
			player.getActionSender().sendMessage(&quot;You don&#39;t have the required level to steal from this stall!&quot;);
			stop();
		}
	}
}[/CODE]

ObjectOptionPacketHandler:

[CODE] if (stall != null &amp;&amp; player.getLocation().isWithinInteractionDistance(loc)) {
        	player.getActionQueue().addAction(new StallAction(player, loc, stall));
        }[/CODE]</description>
    
    <lastBuildDate>Thu, 12 Aug 2010 13:21:14 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Hyperion] Stall thieving base</title>
        <dc:creator><![CDATA[@Fire_capez Fire capez]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fire_capez">@Fire_capez</a> wrote:</p>
          <blockquote>
              <p>[quote=“Angel Ranqes, post:3, topic:351228”]Look at fire releasing sexy base’s, STUD.</p>
<p>Btw take a look at this not sure if i did something wrong but should’nt<br>
the code thats in objectOp be</p>
<pre><code>      Stall stall = Stall.forId(id);
    if (stall != null &amp;&amp; player.getLocation().isWithinInteractionDistance(loc)) {
            player.getActionQueue().addAction(new StallAction(player, loc, stall));
    }
</code></pre>
<p>Sorry i cannot put words in code format for some odd reason it freezes my browser.[/quote]</p>
<p>Yeah your correct.<br>
Thanks.</p>
<p>Also, I wrote this a whole ago its not using the action system propperly so I dont recommend using it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228/4</link>
        <pubDate>Thu, 12 Aug 2010 13:21:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-351228-4</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228.rss">[Hyperion] Stall thieving base</source>
      </item>
      <item>
        <title>[Hyperion] Stall thieving base</title>
        <dc:creator><![CDATA[@Angel_Ranqes Angel Ranqes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/angel_ranqes">@Angel_Ranqes</a> wrote:</p>
          <blockquote>
              <p>Look at fire releasing sexy base’s, STUD.</p>
<p>Btw take a look at this not sure if i did something wrong but should’nt<br>
the code thats in objectOp be</p>
<pre><code>      Stall stall = Stall.forId(id);
    if (stall != null &amp;&amp; player.getLocation().isWithinInteractionDistance(loc)) {
            player.getActionQueue().addAction(new StallAction(player, loc, stall));
    }
</code></pre>
<p>Sorry i cannot put words in code format for some odd reason it freezes my browser.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228/3</link>
        <pubDate>Thu, 12 Aug 2010 06:12:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-351228-3</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228.rss">[Hyperion] Stall thieving base</source>
      </item>
      <item>
        <title>[Hyperion] Stall thieving base</title>
        <dc:creator><![CDATA[@Fire_capez Fire capez]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fire_capez">@Fire_capez</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="1" data-topic="351229">
<div class="title">
<div class="quote-controls"></div>
</div>
<blockquote>
<p><span class="mention">@off</span> topic; mind sending me a list of all your Hyperion codes?</p>
</blockquote>
</aside>
<p>Sure ile pm you some of the ones i’ve released on different communitys.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228/2</link>
        <pubDate>Mon, 26 Jul 2010 10:11:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-351228-2</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228.rss">[Hyperion] Stall thieving base</source>
      </item>
      <item>
        <title>[Hyperion] Stall thieving base</title>
        <dc:creator><![CDATA[@Fire_capez Fire capez]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fire_capez">@Fire_capez</a> wrote:</p>
          <blockquote>
              <p>Well i’ve been learning Grahams action system, and so far im doing ok.</p>
<p>The code is explained within the code its self.<br>
Although, I am going to write a detailed tutorial explaining the code later… seeing as I have to go shortly and I wont have the time to write it up now.</p>
<p>[CODE]package org.hyperion.rs2.action.impl;</p>
<p>import java.util.HashMap;<br>
import java.util.Map;</p>
<p>import org.hyperion.rs2.action.Action;<br>
import org.hyperion.rs2.model.Animation;<br>
import org.hyperion.rs2.model.Item;<br>
import org.hyperion.rs2.model.Location;<br>
import org.hyperion.rs2.model.Player;</p>
<p>/**</p>
<ul>
<li>
<p>Stall thieving.</p>
</li>
<li>
<p><span class="mention">@author</span> Fire cape<br>
*/<br>
public class StallAction extends Action {</p>
<p>/**</p>
<ul>
<li>
<p>Stall thieving.</p>
</li>
<li>
<p><span class="mention">@author</span> Fire cape<br>
*/<br>
public static enum Stall {</p>
<p>SILK(1, 500, 0x340, 950, new int[]{2560});</p>
<p>/**</p>
<ul>
<li>A map of object ids to stalls.<br>
*/<br>
private static Map&lt;Integer, Stall&gt; stalls = new HashMap&lt;Integer, Stall&gt;();</li>
</ul>
<p>/**</p>
<ul>
<li>Gets a stall by an object id.</li>
<li>
<a class="mention" href="/u/param">@param</a> object The object id.</li>
<li>
<a class="mention" href="/u/return">@return</a> The stall, or <code>null</code> if the object is not a stall.<br>
*/<br>
public static Stall forId(int object) {<br>
return stalls.get(object);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Populates the tree map.<br>
*/<br>
static {<br>
for (Stall stall : Stall.values()) {<br>
for (int object : stall.id) {<br>
stalls.put(object, stall);<br>
}<br>
}<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>The object id.<br>
*/<br>
private int[] id;</li>
</ul>
<p>/**</p>
<ul>
<li>The level.<br>
*/<br>
private int level;</li>
</ul>
<p>/**</p>
<ul>
<li>The experience.<br>
*/<br>
private double experience;</li>
</ul>
<p>/**</p>
<ul>
<li>The animation.<br>
*/<br>
private int animation;</li>
</ul>
<p>/**</p>
<ul>
<li>The item recieved.<br>
*/<br>
private int recievedItem;</li>
</ul>
<p>/**</p>
<ul>
<li>Stall handling enum.</li>
<li>
<a class="mention" href="/u/param">@param</a> level The level required.</li>
<li>
<a class="mention" href="/u/param">@param</a> experience The experience gained.</li>
<li>
<a class="mention" href="/u/param">@param</a> animation The stall animation.</li>
<li>
<a class="mention" href="/u/param">@param</a> recievedItem The item recieved after stealing from the stall.</li>
<li>
<a class="mention" href="/u/param">@param</a> id The object id.<br>
*/<br>
private Stall(int level, double experience, int animation, int recievedItem, int[] id) {<br>
this.id = id;<br>
this.level = level;<br>
this.experience = experience;<br>
this.animation = animation;<br>
this.recievedItem = recievedItem;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the id.</li>
<li>
<a class="mention" href="/u/return">@return</a> the id.<br>
*/<br>
public int[] getId() {<br>
return id;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets The required level.</li>
<li>
<a class="mention" href="/u/return">@return</a> The required level.<br>
*/<br>
public int getRequiredLevel() {<br>
return level;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the experience.</li>
<li>
<a class="mention" href="/u/return">@return</a> The experience.<br>
*/<br>
public double getExperience() {<br>
return experience;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the animation id.</li>
<li>
<a class="mention" href="/u/return">@return</a> The animation id.<br>
*/<br>
public int getAnimation() {<br>
return animation;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the recieved item.</li>
<li>
<a class="mention" href="/u/return">@return</a> The recieved item id.<br>
*/<br>
public int getRecievedItem() {<br>
return recievedItem;<br>
}<br>
}</li>
</ul>
</li>
</ul>
<p>/**</p>
<ul>
<li>
<p>The stall type.<br>
*/<br>
private Stall stall;</p>
<pre><code>     /**
</code></pre>
</li>
<li>
<p>The player’s location<br>
*/<br>
private final Location location;</p>
</li>
</ul>
<p>/**</p>
<ul>
<li>Creates the <code>Stall Action</code>.</li>
<li>
<a class="mention" href="/u/param">@param</a> player The player performing the action.</li>
<li>
<a class="mention" href="/u/param">@param</a> identify The player identifying the herb.<br>
*/<br>
public StallAction(Player player, Location location, Stall stall) {<br>
super(player, 2000);<br>
this.location = location;<br>
this.stall = stall;<br>
player.playAnimation(Animation.create(stall.getAnimation()));<br>
}</li>
</ul>
<p><a class="mention" href="/u/override">@Override</a><br>
public QueuePolicy getQueuePolicy() {<br>
return QueuePolicy.NEVER;<br>
}</p>
<p><a class="mention" href="/u/override">@Override</a><br>
public WalkablePolicy getWalkablePolicy() {<br>
return WalkablePolicy.FOLLOW;<br>
}</p>
<p><a class="mention" href="/u/override">@Override</a><br>
public void execute() {<br>
final Player player = getPlayer();<br>
if (isRunning()) {<br>
player.face(location);<br>
}<br>
if(player.getSkills().getLevel(17) &gt;= stall.getRequiredLevel()) {<br>
if (player.getInventory().freeSlots() &gt;= 1) {<br>
player.getActionSender().sendMessage(“You attempt to steal from stall…”);<br>
player.getActionSender().sendMessage(“You sucessfully steal from the stall!”);<br>
player.getSkills().addExperience(17, stall.getExperience());<br>
player.getInventory().add(new Item(stall.getRecievedItem(), 1));<br>
stop();<br>
} else {<br>
player.getActionSender().sendMessage(“There is not enough space in your inventory.”);<br>
stop();<br>
}<br>
} else {<br>
player.getActionSender().sendMessage(“You don’t have the required level to steal from this stall!”);<br>
stop();<br>
}<br>
}<br>
}[/CODE]</p>
</li>
</ul>
<p>ObjectOptionPacketHandler:</p>
<p><code> if (stall != null &amp;&amp; player.getLocation().isWithinInteractionDistance(loc)) {
        	player.getActionQueue().addAction(new StallAction(player, loc, stall));
        }</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228/1</link>
        <pubDate>Mon, 26 Jul 2010 10:05:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-351228-1</guid>
        <source url="https://forum.moparisthebest.com/t/hyperion-stall-thieving-base/351228.rss">[Hyperion] Stall thieving base</source>
      </item>
  </channel>
</rss>
