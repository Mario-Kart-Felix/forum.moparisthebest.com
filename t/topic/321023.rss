<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>...</title>
    <link>https://forum.moparisthebest.com/t/topic/321023</link>
    <description>...</description>
    
    <lastBuildDate>Tue, 26 Jan 2010 18:08:53 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/topic/321023.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@KO9 KO9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ko9">@KO9</a> wrote:</p>
          <blockquote>
              <p>I looked at this before and couldn’t find an easy way to change the behaviour. In reality the only way that a player’s bank will be wiped is if they’re unlucky enough to have the server crash between deleting the data and re-inserting it, which is generally milliseconds. That being said, it has happened on RSCA a few times.</p>
<blockquote>
<blockquote>
<p>Graham: To fix the issue where things get deleted, either use an update statement as people have said, or use a transaction. Start a transaction, delete the items and add them again, and then commit it. This way either all of that succeeds or all of that fails.</p>
</blockquote>
</blockquote>
<p>This sounds like the best/easiest solution, but i’ve not used transactions before. Guess we should all go read <a href="http://dev.mysql.com/doc/refman/5.0/en/commit.html" rel="nofollow noopener">http://dev.mysql.com/doc/refman/5.0/en/commit.html</a></p>
<p>Edit: After a quick read, looks like you just wrap the sql statements in ‘start transaction; query; commit;’ seems simple enough. This then opens up the opportunity to dupe data instead of wiping it though.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/17</link>
        <pubDate>Tue, 26 Jan 2010 18:08:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-17</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@Shob Shob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shob">@Shob</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="14" data-topic="321023">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/xent/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> xEnt:</div>
<blockquote>
<p>i know shit about sql, but does saving a players bank/inv really take more than the time it takes to log out and log back in? (say 2 seconds or so) ?</p>
</blockquote>
</aside>
<p>I would assume if a server is under a very heavy load then mysql would take a fair ammount of time to complete the query, thus a server like RSCA or RSCE might have a problem with larger player loads.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/16</link>
        <pubDate>Tue, 26 Jan 2010 00:14:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-16</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@fearday fearday]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fearday">@fearday</a> wrote:</p>
          <blockquote>
              <p>if u wanna put rsc on a psp try getting windows xp for psp its like xp os on a psp and it has a cursor that u move with the stick and all like a computer or u can get the vista kind but try looking into that hit me back if i helped u <a href="mailto:im.so.famous@live.com">im.so.famous@live.com</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/15</link>
        <pubDate>Thu, 07 Jan 2010 06:36:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-15</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@xEnt xEnt]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xent">@xEnt</a> wrote:</p>
          <blockquote>
              <p>i know shit about sql, but does saving a players bank/inv really take more than the time it takes to log out and log back in? (say 2 seconds or so) ?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/14</link>
        <pubDate>Mon, 04 Jan 2010 03:08:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-14</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@ownagesbot ownagesbot]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ownagesbot">@ownagesbot</a> wrote:</p>
          <blockquote>
              <p>I’m with stork, he made it sound asif players could login inbetween a delete and save. This is the problem, not the efficiency of the mechanism itself.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/13</link>
        <pubDate>Mon, 04 Jan 2010 02:37:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-13</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@Peter Peeter]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/peter">@Peter</a> wrote:</p>
          <blockquote>
              <p>[quote=“Stork, post:11, topic:321023”][quote author=Peeter link=topic=417487.msg3081515#msg3081515 date=1262183712]</p>
<aside class="quote no-group">
<blockquote>
<p>I don’t get how the user is able to login while the delete is still in progress. I think your real problem lies there - that shouldn’t be possible.</p>
</blockquote>
</aside>
<p>Delete isn’t done on login, it’s done on logout. Delete all items from bank at mysql and write all items stored in ram to bank.<br>
[/quote]<br>
right, so if they log out and log back in again while the delete/insert process is being done OP is saying they could potentially load their data some time before the full insert has been executed, thus leaving them without a full bank/inventory.</p>
<p>I don’t get how this could happen. Either way I think you should work on fixing that before you try and re-design the database.[/quote]</p>
<p>Don’t think that’s the case. I think he’s refering to the small case where a users items may be whiped when the server dies.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/12</link>
        <pubDate>Wed, 30 Dec 2009 18:06:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-12</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@Stork Stork]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stork">@Stork</a> wrote:</p>
          <blockquote>
              <p>[quote=“Peeter, post:10, topic:321023”][quote author=Stork link=topic=417487.msg3081512#msg3081512 date=1262183212]<br>
I don’t get how the user is able to login while the delete is still in progress. I think your real problem lies there - that shouldn’t be possible.<br>
[/quote]</p>
<p>Delete isn’t done on login, it’s done on logout. Delete all items from bank at mysql and write all items stored in ram to bank.[/quote]<br>
right, so if they log out and log back in again while the delete/insert process is being done OP is saying they could potentially load their data some time before the full insert has been executed, thus leaving them without a full bank/inventory.</p>
<p>I don’t get how this could happen. Either way I think you should work on fixing that before you try and re-design the database.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/11</link>
        <pubDate>Wed, 30 Dec 2009 16:59:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-11</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@Peter Peeter]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/peter">@Peter</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="9" data-topic="321023">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/stork/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> Stork:</div>
<blockquote>
<p>I don’t get how the user is able to login while the delete is still in progress. I think your real problem lies there - that shouldn’t be possible.</p>
</blockquote>
</aside>
<p>Delete isn’t done on login, it’s done on logout. Delete all items from bank at mysql and write all items stored in ram to bank.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/10</link>
        <pubDate>Wed, 30 Dec 2009 14:35:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-10</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@Stork Stork]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stork">@Stork</a> wrote:</p>
          <blockquote>
              <p>I don’t get how the user is able to login while the delete is still in progress. I think your real problem lies there - that shouldn’t be possible.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/9</link>
        <pubDate>Wed, 30 Dec 2009 14:26:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-9</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@Graham Graham]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/graham">@Graham</a> wrote:</p>
          <blockquote>
              <p>I think keeping it the way as you describe it is already is fine. Databases are designed to handle large numbers of rows, and you can easily search and sort through the data you have now.</p>
<p>To fix the issue where things get deleted, either use an update statement as people have said, or use a transaction. Start a transaction, delete the items and add them again, and then commit it. This way either all of that succeeds or all of that fails.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/8</link>
        <pubDate>Wed, 30 Dec 2009 08:05:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-8</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@Peter Peeter]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/peter">@Peter</a> wrote:</p>
          <blockquote>
              <p>[quote=“nadnerb_doow, post:6, topic:321023”]Or you could just have two columns, one for the player’s bank items stored as an array converted to text, and the other for the player’s bank item amounts, stored in the same way.</p>
<p>Eg<br>
[font=Courier]<br>
items			amount<br>
player1	  1,995,4214	 1,457861,2<br>
player2	  6585,995		3,400248<br>
[/font]</p>
<p>With more 0s to represent empty slots, of course. Then just split these into an array on load, and you’re all set. Seems a lot easier to me than having a separate column for each slot’s item and amount.[/quote]</p>
<p>Would utterly destroy all search for item functions.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/7</link>
        <pubDate>Sun, 27 Dec 2009 10:33:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-7</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@nadnerb_doow nadnerb_doow]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nadnerb_doow">@nadnerb_doow</a> wrote:</p>
          <blockquote>
              <p>Or you could just have two columns, one for the player’s bank items stored as an array converted to text, and the other for the player’s bank item amounts, stored in the same way.</p>
<p>Eg<br>
[font=Courier]<br>
items			amount<br>
player1	  1,995,4214	 1,457861,2<br>
player2	  6585,995		3,400248<br>
[/font]</p>
<p>With more 0s to represent empty slots, of course. Then just split these into an array on load, and you’re all set. Seems a lot easier to me than having a separate column for each slot’s item and amount.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/6</link>
        <pubDate>Sun, 27 Dec 2009 08:36:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-6</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@darscape darscape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/darscape">@darscape</a> wrote:</p>
          <blockquote>
              <p>I noticed that this also can result in duplicate entries for curstats and experience rows but with different entries in the primary key column.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/5</link>
        <pubDate>Thu, 24 Dec 2009 04:28:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-5</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@Peter Peeter]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/peter">@Peter</a> wrote:</p>
          <blockquote>
              <p>Searching for specific items/amounts, adding more inventory / bank space.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/4</link>
        <pubDate>Wed, 23 Dec 2009 09:31:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-4</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@Peter Peeter]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/peter">@Peter</a> wrote:</p>
          <blockquote>
              <p>Limiting imo.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/3</link>
        <pubDate>Tue, 22 Dec 2009 14:56:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-3</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@sw0o0sh sw0o0sh]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sw0o0sh">@sw0o0sh</a> wrote:</p>
          <blockquote>
              <p>I don’t see how that structure would be anymore efficient, given the way it’s being read currently. With bank’s it would also be different seeing as there is no set limit of rows. And on the subject of having a lot of raw data – think about MoparScape and other forums too - they all run off SQL - SQL is meant to handle and run through millions of rows.</p>
<p>But yeah, I agree, unless somebody cares to explain, I don’t see why you would delete all the inventory item / bank data and then re-insert it. That’s where an UPDATE query would seem most fit in my eyes. Edit: Unless of course it is deleting the data because of the slot number id changes (like if I withdraw an item or drop an item that’s infront of 50 others), but even then they could just update the slot number for each item whenever one exits a bank account… No need for deletions, unless there’s more to the picture than I am aware.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/2</link>
        <pubDate>Tue, 22 Dec 2009 04:49:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-2</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
      <item>
        <title>...</title>
        <dc:creator><![CDATA[@Kryptix Kryptix]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kryptix">@Kryptix</a> wrote:</p>
          <blockquote>
              <p>…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/topic/321023/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/topic/321023/1</link>
        <pubDate>Mon, 21 Dec 2009 21:31:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-321023-1</guid>
        <source url="https://forum.moparisthebest.com/t/topic/321023.rss">...</source>
      </item>
  </channel>
</rss>
