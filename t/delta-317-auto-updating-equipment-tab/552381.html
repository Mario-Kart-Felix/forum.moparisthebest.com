<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/delta-317-auto-updating-equipment-tab/552381 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>DELTA 317 - Auto Updating Equipment Tab - Runescape - moparisthebest.com</title>
    <meta name="description" content="Would anyone happen to know how what&amp;#39;s wrong with this code\how to fix it? It doesn&amp;#39;t auto update your stats (when you put on or take off a weapon\armor) while the player equipment tab is open.  

Public Void:  

 public&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="552381.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;DELTA 317 - Auto Updating Equipment Tab&#39;" href="552381.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/delta-317-auto-updating-equipment-tab/552381" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/delta-317-auto-updating-equipment-tab/552381" />
<meta property="og:title" content="DELTA 317 - Auto Updating Equipment Tab" />
<meta name="twitter:title" content="DELTA 317 - Auto Updating Equipment Tab" />
<meta property="og:description" content="Would anyone happen to know how what’s wrong with this code\how to fix it? It doesn’t auto update your stats (when you put on or take off a weapon\armor) while the player equipment tab is open.  Public Void:  public void refreshEquipment() { if (playerBonus[0] &gt;= 0 ) { sendFrame126(&quot;Stab: +&quot;+playerBonus[0]+&quot;&quot;,15113); } else { sendFrame126(&quot;Stab: &quot;+playerBonus[0]+&quot;&quot;,15113); } if (playerBonus[1] &gt;= 0 ) { sendFrame126(&quot;Slash: +&quot;+playerBonus[1]+&quot;&quot;,15114); } else { sendFrame126(&quot;Slash: &quot;+playerBonus[..." />
<meta name="twitter:description" content="Would anyone happen to know how what’s wrong with this code\how to fix it? It doesn’t auto update your stats (when you put on or take off a weapon\armor) while the player equipment tab is open.  Public Void:  public void refreshEquipment() { if (playerBonus[0] &gt;= 0 ) { sendFrame126(&quot;Stab: +&quot;+playerBonus[0]+&quot;&quot;,15113); } else { sendFrame126(&quot;Stab: &quot;+playerBonus[0]+&quot;&quot;,15113); } if (playerBonus[1] &gt;= 0 ) { sendFrame126(&quot;Slash: +&quot;+playerBonus[1]+&quot;&quot;,15114); } else { sendFrame126(&quot;Slash: &quot;+playerBonus[..." />
<meta property="article:published_time" content="2015-07-08T23:24:41+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="552381.html">DELTA 317 - Auto Updating Equipment Tab</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Beemobmo71.html'><span itemprop='name'>Beemobmo71</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-08T23:24:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:31Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Would anyone happen to know how what’s wrong with this code\how to fix it? It doesn’t auto update your stats (when you put on or take off a weapon\armor) while the player equipment tab is open.</p>
<p>Public Void:</p>
<p><code>public void refreshEquipment() {
if (playerBonus[0] &gt;= 0 ) {
sendFrame126("Stab: +"+playerBonus[0]+"",15113);
} else {
sendFrame126("Stab: "+playerBonus[0]+"",15113);
}
if (playerBonus[1] &gt;= 0 ) {
sendFrame126("Slash: +"+playerBonus[1]+"",15114);
} else {
sendFrame126("Slash: "+playerBonus[1]+"",15114);
}
if (playerBonus[2] &gt;= 0 ) {
sendFrame126("Crush: +"+playerBonus[2]+"",15115);
} else {
sendFrame126("Crush: "+playerBonus[2]+"",15115);
}
if (playerBonus[3] &gt;= 0 ) {
sendFrame126("Mage: +"+playerBonus[3]+"",15116);
} else {
sendFrame126("Mage: "+playerBonus[3]+"",15116);
}
if (playerBonus[4] &gt;= 0 ) {
sendFrame126("Range: +"+playerBonus[4]+"",15117);
} else {
sendFrame126("Range: "+playerBonus[4]+"",15117);
}
if (playerBonus[5] &gt;= 0 ) {
sendFrame126("Stab: +"+playerBonus[5]+"",15118);
} else {
sendFrame126("Stab: "+playerBonus[5]+"",15118);
}
if (playerBonus[6] &gt;= 0 ) {
sendFrame126("Slash: +"+playerBonus[6]+"",15119);
} else {
sendFrame126("Slash: "+playerBonus[6]+"",15119);
}
if (playerBonus[7] &gt;= 0 ) {
sendFrame126("Crush: +"+playerBonus[7]+"",15120);
} else {
sendFrame126("Crush: "+playerBonus[7]+"",15120);
}
if (playerBonus[8] &gt;= 0 ) {
sendFrame126("Mage: +"+playerBonus[8]+"",15121);
} else {
sendFrame126("Mage: "+playerBonus[8]+"",15121);
}
if (playerBonus[9] &gt;= 0 ) {
sendFrame126("Range: +"+playerBonus[9]+"",15122);
} else {
sendFrame126("Range: "+playerBonus[9]+"",15122);
}
if (playerBonus[10] &gt;= 0 ) {
sendFrame126("Strength: +"+playerBonus[10]+"",15123);
} else {
sendFrame126("Strength: "+playerBonus[10]+"",15123);
}
if (playerBonus[11] &gt;= 0 ) {
sendFrame126("Prayer: +"+playerBonus[11]+"",15124);
} else {
sendFrame126("Prayer: "+playerBonus[11]+"",15124);
}
}</code></p>
<p>Case 41 (Putting on armor\weapon):</p>
<p>[code]case 41:<br>
// wear item<br>
int wearID = inStream.readUnsignedWord();<br>
int wearSlot = inStream.readUnsignedWordA();</p>
<pre><code>		interfaceID = inStream.readUnsignedWordA();
		refreshEquipment();
		if (!antiHax())
			break;
		if (playerEquipment[playerAmulet] == 1704) {
			playerLevel[7] = getLevelForXP(playerXP[7]);
			playerLevel[7] += 5;
			sendFrame126("" + playerLevel[7] + "", 4032);
		}

		// println_debug("WearItem: "+wearID+" slot: "+wearSlot);
		wear(wearID, wearSlot);
		break;
</code></pre>
<p>[/code]</p>
<p>Case 145 (removing armor/weapon)</p>
<p><code>case 145:
			// remove item (opposite for wearing) - bank 1 item - value of item
			interfaceID = inStream.readUnsignedWordA();
			int removeSlot = inStream.readUnsignedWordA();
			int removeID = inStream.readUnsignedWordA();
			refreshEquipment();
			if (interfaceID == 1688) {
				if (playerEquipment[removeSlot] &gt; 0) {
					remove(removeID, removeSlot);
				}
			}</code></p>
<p>Any feedback or help would be greatly appreciated, this is extremely annoying!</p>
<p>Thanks!</p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/strucker.html'><span itemprop='name'>strucker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-09T02:33:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:32Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <blockquote>Would anyone happen to know how what's wrong with this code\how to fix it? It doesn't auto update your stats (when you put on or take off a weapon\armor) while the player equipment tab is open.</blockquote>
Care to elaborate more?
You say while the player equipment tab is open, so what if its closed and then you open it, is it updated by then?
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Beemobmo71.html'><span itemprop='name'>Beemobmo71</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-09T03:41:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:33Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="552381">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/strucker/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Strucker:</div>
<blockquote>
<p>[quote]Would anyone happen to know how what’s wrong with this code\how to fix it? It doesn’t auto update your stats (when you put on or take off a weapon\armor) while the player equipment tab is open.</p>
</blockquote>
</aside>
<p>Care to elaborate more?<br>
You say while the player equipment tab is open, so what if its closed and then you open it, is it updated by then?[/quote]</p>
<p>That’s correct, It just doesn’t automatically update like it should. In order to see new weapon stats, you’d have to close out of the equipment viewer and re-open it</p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-09T12:33:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:34Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So if the tab does not auto-update, but it does update on button click, search for the id of the button you click to open the interface.<br>
Use the method, that updates the interface from the code you just found, in your wearItem method (Or equivalent) as that is executed each time a player puts an item on. Also put it in your removeItem (Or equivalent) as that’s exectued when they take an item off.</p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Beemobmo71.html'><span itemprop='name'>Beemobmo71</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-09T17:11:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:34Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:4, topic:552381”]So if the tab does not auto-update, but it does update on button click, search for the id of the button you click to open the interface.<br>
Use the method, that updates the interface from the code you just found, in your wearItem method (Or equivalent) as that is executed each time a player puts an item on. Also put it in your removeItem (Or equivalent) as that’s exectued when they take an item off.[/quote]</p>
<p>Well the method that updates the interface was already put in the cases when players put on/remove an item.</p>
<p>I also looked up the interface id for clicking the equipment tab, and the method to “refresh” the equipment was already there. (refreshEquipment)</p>
<p>[code]case 58253: //Equipment stats<br>
c.showInterface(15106);<br>
c.refreshEquipment();<br>
break;</p>
<p>case 59004: //Close Equipment stats<br>
c.closeInterface();<br>
break;[/code]</p>
<p>Also, I think I mispoke with my original post. It does update the stats, but it’s basically one update behind. If you equip an item with +9 strength, then switch the item to an item with 0 strength, it won’t update the stats. However when you switch it out for a third time, it shows the 0 strength weapons stats.</p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-09T18:04:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:35Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Case 58253 is what we’re looking at.</p>
<p>showInterface… Well that method is self explanatory. That shows the interface for you.</p>
<p>What you need to do now, is use the refreshEquipment method that you see there, and place it in your wearItem and removeItem methods.</p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Beemobmo71.html'><span itemprop='name'>Beemobmo71</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-09T19:28:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:35Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:6, topic:552381”]Case 58253 is what we’re looking at.</p>
<p>showInterface… Well that method is self explanatory. That shows the interface for you.</p>
<p>What you need to do now, is use the refreshEquipment method that you see there, and place it in your wearItem and removeItem methods.[/quote]</p>
<p>Yeah I’ve searched for those methods and couldn’t find anything, could it possibly be these?</p>
<p>[code]public void setEquipment(int wearID, int amount, int targetSlot) {<br>
int Stat = playerDefence;</p>
<pre><code>	if (targetSlot == playerWeapon) {
		Stat = playerAttack;
	}
	outStream.createFrameVarSizeWord(34);
	outStream.writeWord(1688);
	outStream.writeByte(targetSlot);
	outStream.writeWord((wearID + 1));
	if (amount &gt; 254) {
		outStream.writeByte(255);
		outStream.writeDWord(amount);
	} else {
		outStream.writeByte(amount); // amount
	}
	outStream.endFrameVarSizeWord();

	if ((targetSlot == playerWeapon) &amp;&amp; (wearID &gt;= 0)) {
		SendWeapon(wearID, getItemName(wearID));
		playerSE = GetStandAnim(wearID);
		playerSEW = GetWalkAnim(wearID);
		playerSER = GetRunAnim(wearID);
		playerSEA = 0x326;
	}
	pEmote = playerSE;
	updateRequired = true;
	appearanceUpdateRequired = true;
}[/code]
</code></pre>
<p><code>public void remove(int wearID, int slot) {
		//server.checkPlayerCapes.processAll(this);
		if (wearID == 4031 &amp;&amp; q5 == 3) {
			isNpc = false;
			specGFX(160);
		}
		if (addItem(playerEquipment[slot], playerEquipmentN[slot])) {
			playerEquipment[slot] = -1;
			playerEquipmentN[slot] = 0;
			outStream.createFrame(34);
			outStream.writeWord(6);
			outStream.writeWord(1688);
			outStream.writeByte(slot);
			outStream.writeWord(0);
			outStream.writeByte(0);
			ResetBonus();
			GetBonus();
			WriteBonus();
			if (slot == playerWeapon) {
			autocasting = false;
			autocastID = 0;
			setClientConfig(108, 0);
			SendWeapon(-1, "Unarmed");
			playerSE = 0x328; // SE = Standard Emotion
			playerSEA = 0x326; // SEA = Standard Emotion Attack
			playerSER = 0x338; // SER = Standard Emotion Run
			playerSEW = 0x333; // SEW = Standard Emotion Walking
			pEmote = 0x328; // this being the original standing state
			}
			updateRequired = true;
			appearanceUpdateRequired = true;
		}
	}</code></p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-10T00:10:52Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:37Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>When I first mentioned the methods, I said “Or equivalent” because not all methods will be named the same source to source.<br>
They’re the methods that are used when the player removes an item from the equipment slot (Packet 145), or puts one in it (packet 41)</p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Beemobmo71.html'><span itemprop='name'>Beemobmo71</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-10T02:12:14Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:37Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:8, topic:552381”]When I first mentioned the methods, I said “Or equivalent” because not all methods will be named the same source to source.<br>
They’re the methods that are used when the player removes an item from the equipment slot (Packet 145), or puts one in it (packet 41)[/quote]</p>
<p>I do appreciate all of your help, but on my source packet 145 and packet 41 are “cases”, in which the refreshEquipment is already added to. There aren’t any methods containing packet 145 or packet 41 (which are case 41 and case 145). The code for those cases are posted above in one of my comments</p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-10T02:39:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:37Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Beemobmo71, post:9, topic:552381”][quote author=sk8rdude461 link=topic=671299.msg4489347#msg4489347 date=1436487052]<br>
When I first mentioned the methods, I said “Or equivalent” because not all methods will be named the same source to source.<br>
They’re the methods that are used when the player removes an item from the equipment slot (Packet 145), or puts one in it (packet 41)<br>
[/quote]</p>
<p>I do appreciate all of your help, but on my source packet 145 and packet 41 are “cases”, in which the refreshEquipment is already added to. There aren’t any methods containing packet 145 or packet 41 (which are case 41 and case 145). The code for those cases are posted above in one of my comments[/quote]<br>
What’s the cases look like?</p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Beemobmo71.html'><span itemprop='name'>Beemobmo71</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-10T02:53:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:38Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <blockquote>What's the cases look like?</blockquote>
<p>Case 41 (Putting on armor\weapon):</p>
<p>[code]case 41:<br>
// wear item<br>
int wearID = inStream.readUnsignedWord();<br>
int wearSlot = inStream.readUnsignedWordA();</p>
<pre><code>		interfaceID = inStream.readUnsignedWordA();
		refreshEquipment();
		if (!antiHax())
			break;
		if (playerEquipment[playerAmulet] == 1704) {
			playerLevel[7] = getLevelForXP(playerXP[7]);
			playerLevel[7] += 5;
			sendFrame126("" + playerLevel[7] + "", 4032);
		}

		// println_debug("WearItem: "+wearID+" slot: "+wearSlot);
		wear(wearID, wearSlot);
		break;
</code></pre>
<p>[/code]</p>
<p>Case 145 (removing armor/weapon)</p>
<p><code>case 145:
			// remove item (opposite for wearing) - bank 1 item - value of item
			interfaceID = inStream.readUnsignedWordA();
			int removeSlot = inStream.readUnsignedWordA();
			int removeID = inStream.readUnsignedWordA();
			refreshEquipment();
			if (interfaceID == 1688) {
				if (playerEquipment[removeSlot] &gt; 0) {
					remove(removeID, removeSlot);
				}
			}</code></p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-10T04:16:02Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:38Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Okay, I see why everything is working incorrectly.<br>
You have the refreshEquipment method called before the player’s bonuses change.</p>
<p>Using the following cases should fix everything.</p>
<p>[code=java]case 41:<br>
// wear item<br>
int wearID = inStream.readUnsignedWord();<br>
int wearSlot = inStream.readUnsignedWordA();</p>
<pre><code>		interfaceID = inStream.readUnsignedWordA();
                    // Removed from here
		if (!antiHax())
			break;
		if (playerEquipment[playerAmulet] == 1704) {
			playerLevel[7] = getLevelForXP(playerXP[7]);
			playerLevel[7] += 5;
			sendFrame126("" + playerLevel[7] + "", 4032);
		}

		// println_debug("WearItem: "+wearID+" slot: "+wearSlot);
		wear(wearID, wearSlot);
		refreshEquipment();// Moved here.
		break;[/code]
</code></pre>
<p><code>case 145:
			// remove item (opposite for wearing) - bank 1 item - value of item
			interfaceID = inStream.readUnsignedWordA();
			int removeSlot = inStream.readUnsignedWordA();
			int removeID = inStream.readUnsignedWordA();
			// Removed from here
			if (interfaceID == 1688) {
				if (playerEquipment[removeSlot] &gt; 0) {
					remove(removeID, removeSlot);
				}
			}
			refreshEquipment();// Moved here</code></p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Beemobmo71.html'><span itemprop='name'>Beemobmo71</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-10T04:26:57Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:17:38Z' class='post-time'>
              August 4, 2016,  3:17pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:12, topic:552381”]Okay, I see why everything is working incorrectly.<br>
You have the refreshEquipment method called before the player’s bonuses change.</p>
<p>Using the following cases should fix everything.</p>
<p>[code=java]case 41:<br>
// wear item<br>
int wearID = inStream.readUnsignedWord();<br>
int wearSlot = inStream.readUnsignedWordA();</p>
<pre><code>		interfaceID = inStream.readUnsignedWordA();
                    // Removed from here
		if (!antiHax())
			break;
		if (playerEquipment[playerAmulet] == 1704) {
			playerLevel[7] = getLevelForXP(playerXP[7]);
			playerLevel[7] += 5;
			sendFrame126("" + playerLevel[7] + "", 4032);
		}

		// println_debug("WearItem: "+wearID+" slot: "+wearSlot);
		wear(wearID, wearSlot);
		refreshEquipment();// Moved here.
		break;[/code]
</code></pre>
<p><code>case 145:
			// remove item (opposite for wearing) - bank 1 item - value of item
			interfaceID = inStream.readUnsignedWordA();
			int removeSlot = inStream.readUnsignedWordA();
			int removeID = inStream.readUnsignedWordA();
			// Removed from here
			if (interfaceID == 1688) {
				if (playerEquipment[removeSlot] &gt; 0) {
					remove(removeID, removeSlot);
				}
			}
			refreshEquipment();// Moved here</code>[/quote]</p>
<p>Worked like a charm. Thank you so much, this was seriously so mind boggling as to why it wasn’t working, and to think it was a simple move. Seriously, thank you!</p>
      </div>

      <meta itemprop='headline' content='DELTA 317 - Auto Updating Equipment Tab'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/delta-317-auto-updating-equipment-tab/552381 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:37 GMT -->
</html>
