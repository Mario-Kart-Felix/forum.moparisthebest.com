<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/delta-item-claiming-system-through-mysql/541065 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Delta] Item Claiming System Through MySQL - Game Development - moparisthebest.com</title>
    <meta name="description" content="So I&amp;#39;ve been working on adding a claiming system to my server for claiming items through the player shop system. However, knowing minimal Java makes doing this very difficult. I have a basic claim system working. In-game&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="541065.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Delta] Item Claiming System Through MySQL&#39;" href="541065.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/delta-item-claiming-system-through-mysql/541065" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/delta-item-claiming-system-through-mysql/541065" />
<meta property="og:title" content="[Delta] Item Claiming System Through MySQL" />
<meta name="twitter:title" content="[Delta] Item Claiming System Through MySQL" />
<meta property="og:description" content="So I’ve been working on adding a claiming system to my server for claiming items through the player shop system. However, knowing minimal Java makes doing this very difficult. I have a basic claim system working. In-game the user types ::claim, this checks the database, if received = 0, the user gets 1000 coins, otherwise, the user gets nothing.  I want this system to expand to give the user a specific item, so the checkClaim() method in SQL.java returns an item ID and amount, that can be used i..." />
<meta name="twitter:description" content="So I’ve been working on adding a claiming system to my server for claiming items through the player shop system. However, knowing minimal Java makes doing this very difficult. I have a basic claim system working. In-game the user types ::claim, this checks the database, if received = 0, the user gets 1000 coins, otherwise, the user gets nothing.  I want this system to expand to give the user a specific item, so the checkClaim() method in SQL.java returns an item ID and amount, that can be used i..." />
<meta property="article:published_time" content="2014-03-09T22:46:12+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="541065.html">[Delta] Item Claiming System Through MySQL</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming/game-development.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Game Development</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-09T22:46:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:08Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So I’ve been working on adding a claiming system to my server for claiming items through the player shop system. However, knowing minimal Java makes doing this very difficult. I have a basic claim system working. In-game the user types ::claim, this checks the database, if received = 0, the user gets 1000 coins, otherwise, the user gets nothing.</p>
<p>I want this system to expand to give the user a specific item, so the checkClaim() method in SQL.java returns an item ID and amount, that can be used in the comment additem(itemid,amt)</p>
<p>Any suggestions?</p>
      </div>

      <meta itemprop='headline' content='[Delta] Item Claiming System Through MySQL'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-09T22:52:20Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:08Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Modify the database to have three columns: playerName, itemId, itemAmount</p>
<p>When they do ::claim, check itemId. If it isn’t -1, give them itemAmount of itemId and set itemId to -1. If it is -1, tell them they have no item to claim.</p>
      </div>

      <meta itemprop='headline' content='[Delta] Item Claiming System Through MySQL'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/eyeownyew.html'><span itemprop='name'>eyeownyew</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-09T23:06:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:08Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just FYI, this isn’t the correct section for this</p>
      </div>

      <meta itemprop='headline' content='[Delta] Item Claiming System Through MySQL'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-10T08:41:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:21Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Use a resultset. That way you can return specific variables from the MySQL database. You can then store the item id inside of your MySQL table, and send it to the server.<br>
<a href="http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html" class="onebox" target="_blank" rel="nofollow noopener">http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html</a></p>
<p>Martin on Rune-Serv used something similar. He has a tutorial out there you could use as an example.</p>
      </div>

      <meta itemprop='headline' content='[Delta] Item Claiming System Through MySQL'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-11T00:53:20Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:28Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alright, thanks for the suggestions guys. As stated, I know absolutely nothing about Java. These are the current parts of code that I have.<br>
<a class="mention" href="../../u/eyeownyew.html">@eyeownyew</a> - I wasn’t sure what board would be correct. I’m having Java problems, so it would make sense that someone from the game development section could help me best.</p>
<p>I have an in-game claim command, which when used calls to this method in SQL.java</p>
<p>[code]public static boolean claimItems(Client clientToSave) {<br>
try {<br>
Statement statement = con.createStatement();<br>
String query = “SELECT * FROM <code>votes</code> WHERE username = '” + clientToSave.playerName + “’”;<br>
ResultSet results = statement.executeQuery(query);<br>
while(results.next()) {<br>
int recieved = results.getInt(“recieved”);<br>
int itemid = results.getInt(“item”);<br>
if(recieved == 0)<br>
{<br>
return true;<br>
}</p>
<pre><code>		}
	} catch(SQLException e) {
		e.printStackTrace();
	}
	return false;
}[/code]
</code></pre>
<p>This will return simply true/false, if received is 0, it’ll return true, meaning the player needs to have their reward claimed. Otherwise, evaluate false. I have a different method voteGiven() to set received to 1. This system works good, for testing purposes I have the command give 1000 coins if the method evaluates true. This line here:</p>
<pre><code class="lang-auto"></code></pre>
<p>I want something along the lines where if it returns true, it’ll also return the item ID from the database, and give the player the item. Something along the lines in the command where it can get the returned integer and have a line similar to this…</p>
<pre><code class="lang-auto"></code></pre>
<p>Any further help with returning values would be really appreciated, thanks!</p>
      </div>

      <meta itemprop='headline' content='[Delta] Item Claiming System Through MySQL'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/arham_4.html'><span itemprop='name'>arham_4</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-11T01:01:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:28Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why not add it in the claimItems boolean?</p>
<pre><code class="lang-auto">clientToSave.addItem(itemid, AMOUNT);</code></pre>
<pre><code class="lang-auto">public static boolean claimItems(Client clientToSave) {
		try {
			Statement statement = con.createStatement();
			String query = "SELECT * FROM `votes` WHERE username = '" + clientToSave.playerName + "'";
			ResultSet results = statement.executeQuery(query);
			while(results.next()) {
				int recieved = results.getInt("recieved");
				int itemid = results.getInt("item");
				if(recieved == 0)
				{
				clientToSave.addItem(itemid, 1); // Change this 1 to whatever the amount to give is.
				return true;
				}
				
			}
		} catch(SQLException e) {
			e.printStackTrace();
		}
		return false;
	}</code></pre>
      </div>

      <meta itemprop='headline' content='[Delta] Item Claiming System Through MySQL'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-11T06:18:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:31Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>here’s what I did (taking snippets of my code):<br>
First, you make a query (put mine in a string because easier) and then use the resultset to execute:</p>
<pre><code class="lang-auto">					String query = "SELECT * FROM purchases WHERE payer_name = '"+name2+"' AND payment_status = 'completed'";
					ResultSet rs = query(query);</code></pre>
<p>Ignore the tabbing.<br>
Then you can pull the variables directly from ResultSet:</p>
<p><code>
					int itemToAdd = 0;
					int  amountToAdd = 0;
					int value = 0;
					while(rs.next()){
						itemToAdd = rs.getInt("product_id");
						amountToAdd = rs.getInt("item_amount");
						double value = rs.getInt("product_amount");
					}</code><br>
And then you can use it however you please from there on out.</p>
      </div>

      <meta itemprop='headline' content='[Delta] Item Claiming System Through MySQL'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pwnd.html'><span itemprop='name'>Pwnd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-13T06:18:44Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:55Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“eyeownyew, post:3, topic:541065”]Just FYI, this isn’t the correct section for this[/quote]There’s a report button for that.</p>
      </div>

      <meta itemprop='headline' content='[Delta] Item Claiming System Through MySQL'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/delta-item-claiming-system-through-mysql/541065 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:13 GMT -->
</html>
