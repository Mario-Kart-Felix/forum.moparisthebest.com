<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/itembonusespacker-packing-all-stats-to-0/549674 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>ItemBonusesPacker packing all stats to 0 - Runescape - moparisthebest.com</title>
    <meta name="description" content="Ok so I&amp;#39;ve been working for hours on this and still can&amp;#39;t get it working. After all of my attempts failed I went online and tried to find a fix. Still nothing. Im using a 718 matrix base. 

Full story: I unpacked bonuses&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="549674.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;ItemBonusesPacker packing all stats to 0&#39;" href="549674.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/itembonusespacker-packing-all-stats-to-0/549674" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/itembonusespacker-packing-all-stats-to-0/549674" />
<meta property="og:title" content="ItemBonusesPacker packing all stats to 0" />
<meta name="twitter:title" content="ItemBonusesPacker packing all stats to 0" />
<meta property="og:description" content="Ok so I’ve been working for hours on this and still can’t get it working.  After all of my attempts failed I went online and tried to find a fix. Still nothing.  Im using a 718 matrix base.  Full story:  I unpacked bonuses.ib.  Edited a couple items.  Ran .bat[spoiler]@echo off  title Bonuses Packer  &quot;C:/PROGRAM Files/Java/Jre7/bin/java.exe&quot; -Xmx815m -cp bin;lib/*; com.rs.tools.ItemBonusesPacker true true false  pause[/spoiler] file for ItemBonusesPacker[spoiler]package com.rs.tools;  import jav..." />
<meta name="twitter:description" content="Ok so I’ve been working for hours on this and still can’t get it working.  After all of my attempts failed I went online and tried to find a fix. Still nothing.  Im using a 718 matrix base.  Full story:  I unpacked bonuses.ib.  Edited a couple items.  Ran .bat[spoiler]@echo off  title Bonuses Packer  &quot;C:/PROGRAM Files/Java/Jre7/bin/java.exe&quot; -Xmx815m -cp bin;lib/*; com.rs.tools.ItemBonusesPacker true true false  pause[/spoiler] file for ItemBonusesPacker[spoiler]package com.rs.tools;  import jav..." />
<meta property="article:published_time" content="2015-02-03T23:44:18+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="549674.html">ItemBonusesPacker packing all stats to 0</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/thereaper93.html'><span itemprop='name'>thereaper93</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-02-03T23:44:18Z'>
            <time itemprop='dateModified' datetime='2016-08-04T14:19:24Z' class='post-time'>
              August 4, 2016,  2:19pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok so I’ve been working for hours on this and still can’t get it working.<br>
After all of my attempts failed I went online and tried to find a fix. Still nothing.<br>
Im using a 718 matrix base.</p>
<p>Full story:<br>
I unpacked bonuses.ib.<br>
Edited a couple items.<br>
Ran .bat[spoiler]<a class="mention" href="../../u/echo.html">@echo</a> off<br>
title Bonuses Packer<br>
"C:/PROGRAM Files/Java/Jre7/bin/java.exe" -Xmx815m -cp bin;lib/*; com.rs.tools.ItemBonusesPacker true true false<br>
pause[/spoiler] file for ItemBonusesPacker[spoiler]package com.rs.tools;</p>
<p>import java.io.BufferedReader;<br>
import java.io.DataOutputStream;<br>
import java.io.File;<br>
import java.io.FileOutputStream;<br>
import java.io.FileReader;<br>
import java.io.IOException;</p>
<p>import com.rs.cache.Cache;<br>
import com.rs.utils.Utils;</p>
<p>public class ItemBonusesPacker {</p>
<pre><code>public static final void main(String[] args) throws IOException {
	Cache.init();
	DataOutputStream out = new DataOutputStream(new FileOutputStream(
			"data/items/bonuses.ib"));
	for (int itemId = 0; itemId &lt; Utils.getItemDefinitionsSize(); itemId++) {
		File file = new File("bonuses/" + itemId + ".txt");
		if (file.exists()) {
			BufferedReader reader = new BufferedReader(new FileReader(file));
			out.writeShort(itemId);
			reader.readLine();
			// att bonuses
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			reader.readLine();
			// def bonuses
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			reader.readLine();
			// Damage absorption
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			reader.readLine();
			// Other bonuses
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			out.writeShort(Integer.valueOf(reader.readLine()));
			if (reader.readLine() != null)
				throw new RuntimeException("Should be null line" + itemId);
		}
	}
	out.flush();
	out.close();
}
</code></pre>
<p>}<br>
[/spoiler]<br>
It runs, doesnt give any errors.<br>
Ran server.<br>
Logged on and checked item stats, everything is now 0.<br>
Checked bonuses.ib, its 0 bytes.<br>
From this point I tried all sorts of things, tried changing my itembonusespacker in all sorts of different ways.</p>
<p>So there is my problem. I supplied the code for the .bat, and I supplied the code for my bonuses packer. If you need any other codes in order to help me out please let me know.<br>
For those of you who didnt read my other post about needing help with a different problem last night(problem solved btw, ty sk8terdude), I’m not interested in just being givin the solutions to all my problems so that my server can go up. I’m interested in learning java coding, so that when my server is ready to go up, I can actually do the coding that needs done as the need arises.<br>
That being said, if you do have a code for item unpacker that you believe would work, please also put the reasons why it should work and/or why mine doesnt, that way I get some learning out of this.<br>
Thank you for your time in advance, and have a nice day.</p>
<p>Fixed but I figured I would put up my information in case anyone else has this problem.<br>
Ok so as you know I unpacked the item bonuses, putting them into a folder called bonuses.<br>
When i was running the .bat for the item packer i didn’t have that folder in the correct area, which was causing it to not find the bonuses.<br>
In consequence it was writing nothing into a packed .ib file that ended up containing, well, nothing.<br>
To fix that problem make sure to look here - [spoiler]File file = new File(“bonuses/” + itemId + “.txt”);[/spoiler] - to find exactly where the program will look for your bonuses folder. In this case it was looking in the same location that held the .bat file.</p>
<p>Now that I had the bonuses folder in the correct spot i ran it again, this time ending up with and error that referred to the first instance of this [spoiler]out.writeShort(Integer.valueOf(reader.readLine()));[/spoiler] and ended with some statement about null.<br>
Sorry I don’t have the correct error code, didn’t write it down.<br>
Well after researching and researching for some hint about that online and finding nothing I suddenly got an idea.<br>
I checked all the .txt files in the bonuses folder and discovered, that if it didn’t have any stats it was automatically empty, instead of showing 0’s.<br>
So in lamen terms the packer was trying to pack empty files that were supposed to have lines, which in turn created an error that stopped the packing of the item bonuses.<br>
The fix to this was to remove all the .text files from the folder that contained no information.<br>
After doing so the packer worked correctly, allowing me to change the stats of items.</p>
<p>For all those advanced coders out there, you probably haven’t read this far, but if you have I thank you for your time.<br>
For all those beginner coders like myself who are having troubles similar to this, I hope this helps you out.</p>
      </div>

      <meta itemprop='headline' content='ItemBonusesPacker packing all stats to 0'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/itembonusespacker-packing-all-stats-to-0/549674 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:15 GMT -->
</html>
