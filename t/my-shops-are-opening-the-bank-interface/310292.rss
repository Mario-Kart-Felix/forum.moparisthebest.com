<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>My shops are opening the BANK INTERFACE?!</title>
    <link>https://forum.moparisthebest.com/t/my-shops-are-opening-the-bank-interface/310292</link>
    <description>Alright, I followed the tutorial on some site, which I can&#39;t say, I&#39;m sure you know which one. Anyway, here are my methods..

This is for clicking the npc:

[code]		case 553:
			Engine.shopHandler.openshop(p, 3);
		break;[/code]

This is my openshop method in shopHandler

[code]    public void openshop(Player p, int shopid) {
        switch (shopid) {
            case 1:
                shopopen(p, 868);
                generalStore = true;
                items  = Engine.shops.Generalshoplumb;
                itemsN = Engine.shops.GeneralshoplumbN;
                p.getActionSender().setItems(p, -1, 64209, 93, p.items, p.itemsN);//Shop Inventory
                p.getActionSender().setItems(p, -1, 64271, 31, items, itemsN);//Main Stock
            break;
            case 2:
                shopopen(p, 868);
                generalStore = true;
                items  = Engine.shops.Generalshopfalador;
                itemsN = Engine.shops.GeneralshopfaladorN;
                p.getActionSender().setItems(p, -1, 64209, 93, p.items, p.itemsN);//Shop Inventory
                p.getActionSender().setItems(p, -1, 64271, 31, items, itemsN);//Main Stock
            break;
	case 3: // Shop Case
                shopopen(p, 700); // 700 is the Shop ID
                items = Engine.shops.shagud; // Declaring this from Shops.java
                itemsN = Engine.shops.shagudN; // Declaring this from Shops.java
                p.getActionSender().setItems(p, -1, 64209, 93, p.items, p.itemsN); 
                p.getActionSender().setItems(p, -1, 64271, 31, items, itemsN);
            	break;

		case 4: // Shop Case
                p.getActionSender().setShop(p, 700); // 700 is the Shop ID
                items = Engine.shops.shagud; // Declaring this from Shops.java
                itemsN = Engine.shops.shagudN; // Declaring this from Shops.java
                p.getActionSender().setItems(p, -1, 64209, 93, p.items, p.itemsN); 
                p.getActionSender().setItems(p, -1, 64271, 31, items, itemsN);
            	break;
        }

    }[/code]

This is my shopopen method:

[code]    public void shopopen(Player p, int shopId) {
        p.getActionSender().removeShownInterface(p);
        p.getActionSender().showInterface(p, 620); //Shop
        p.getActionSender().setInventory(p, 621);
        p.getActionSender().setTab(p, 80, 621);//Inv
        shopid = shopId;
        Object[] setshopparams = new Object[]{shopId, 93};

        int shi = 621 &lt;&lt; 16;
        int ship = (620 &lt;&lt; 16) + 24;

        Object[] invparams = new Object[]{&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;Sell X&quot;, &quot;Sell 10&quot;, &quot;Sell 5&quot;, &quot;Sell 1&quot;, &quot;Value&quot;, -1, 0, 7, 4, 93, shi};
        Object[] shopparams = new Object[]{&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;Buy X&quot;, &quot;Buy 10&quot;, &quot;Buy 5&quot;, &quot;Buy 1&quot;, &quot;Value&quot;, -1, 0, 4, 10, 31, ship};

        p.getActionSender().runScript(p, 25, setshopparams, &quot;vg&quot;);//Loads main stock items
        p.getActionSender().runScript(p, 150, invparams, &quot;IviiiIsssssssss&quot;);
        p.getActionSender().runScript(p, 150, shopparams, &quot;IviiiIsssssssss&quot;);
        p.getActionSender().setAccessMask(p, 1278, 0, 621, 0, 28);

        if (mainstock) {
            p.getActionSender().setInterfaceConfig(p, 620, 23, false);
            p.getActionSender().setInterfaceConfig(p, 620, 24, true);
            p.getActionSender().setInterfaceConfig(p, 620, 29, false);
            p.getActionSender().setInterfaceConfig(p, 620, 25, true);
            p.getActionSender().setInterfaceConfig(p, 620, 27, true);
            p.getActionSender().setInterfaceConfig(p, 620, 26, false);
            p.getActionSender().setAccessMask(p, 1278, 23, 620, 0, 40);
        } else {
            p.getActionSender().setInterfaceConfig(p, 620, 23, true);
            p.getActionSender().setInterfaceConfig(p, 620, 24, false);
            p.getActionSender().setInterfaceConfig(p, 620, 29, true);
            p.getActionSender().setInterfaceConfig(p, 620, 25, false);
            p.getActionSender().setInterfaceConfig(p, 620, 27, false);
            p.getActionSender().setInterfaceConfig(p, 620, 26, true);
            p.getActionSender().setAccessMask(p, 1278, 24, 620, 0, 40);

        }
    }[/code]</description>
    
    <lastBuildDate>Fri, 23 Oct 2009 22:33:41 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/my-shops-are-opening-the-bank-interface/310292.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>My shops are opening the BANK INTERFACE?!</title>
        <dc:creator><![CDATA[@skitzoscape skitzoscape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/skitzoscape">@skitzoscape</a> wrote:</p>
          <blockquote>
              <p>Alright, I followed the tutorial on some site, which I can’t say, I’m sure you know which one. Anyway, here are my methods…</p>
<p>This is for clicking the npc:</p>
<p><code>		case 553:
			Engine.shopHandler.openshop(p, 3);
		break;</code></p>
<p>This is my openshop method in shopHandler</p>
<p>[code]    public void openshop(Player p, int shopid) {<br>
switch (shopid) {<br>
case 1:<br>
shopopen(p, 868);<br>
generalStore = true;<br>
items  = Engine.shops.Generalshoplumb;<br>
itemsN = Engine.shops.GeneralshoplumbN;<br>
p.getActionSender().setItems(p, -1, 64209, 93, p.items, p.itemsN);//Shop Inventory<br>
p.getActionSender().setItems(p, -1, 64271, 31, items, itemsN);//Main Stock<br>
break;<br>
case 2:<br>
shopopen(p, 868);<br>
generalStore = true;<br>
items  = Engine.shops.Generalshopfalador;<br>
itemsN = Engine.shops.GeneralshopfaladorN;<br>
p.getActionSender().setItems(p, -1, 64209, 93, p.items, p.itemsN);//Shop Inventory<br>
p.getActionSender().setItems(p, -1, 64271, 31, items, itemsN);//Main Stock<br>
break;<br>
case 3: // Shop Case<br>
shopopen(p, 700); // 700 is the Shop ID<br>
items = Engine.shops.shagud; // Declaring this from Shops.java<br>
itemsN = Engine.shops.shagudN; // Declaring this from Shops.java<br>
p.getActionSender().setItems(p, -1, 64209, 93, p.items, p.itemsN);<br>
p.getActionSender().setItems(p, -1, 64271, 31, items, itemsN);<br>
break;</p>
<pre><code>	case 4: // Shop Case
            p.getActionSender().setShop(p, 700); // 700 is the Shop ID
            items = Engine.shops.shagud; // Declaring this from Shops.java
            itemsN = Engine.shops.shagudN; // Declaring this from Shops.java
            p.getActionSender().setItems(p, -1, 64209, 93, p.items, p.itemsN); 
            p.getActionSender().setItems(p, -1, 64271, 31, items, itemsN);
        	break;
    }

}[/code]
</code></pre>
<p>This is my shopopen method:</p>
<p>[code]    public void shopopen(Player p, int shopId) {<br>
p.getActionSender().removeShownInterface§;<br>
p.getActionSender().showInterface(p, 620); //Shop<br>
p.getActionSender().setInventory(p, 621);<br>
p.getActionSender().setTab(p, 80, 621);//Inv<br>
shopid = shopId;<br>
Object[] setshopparams = new Object[]{shopId, 93};</p>
<pre><code>    int shi = 621 &lt;&lt; 16;
    int ship = (620 &lt;&lt; 16) + 24;

    Object[] invparams = new Object[]{"", "", "", "", "Sell X", "Sell 10", "Sell 5", "Sell 1", "Value", -1, 0, 7, 4, 93, shi};
    Object[] shopparams = new Object[]{"", "", "", "", "Buy X", "Buy 10", "Buy 5", "Buy 1", "Value", -1, 0, 4, 10, 31, ship};

    p.getActionSender().runScript(p, 25, setshopparams, "vg");//Loads main stock items
    p.getActionSender().runScript(p, 150, invparams, "IviiiIsssssssss");
    p.getActionSender().runScript(p, 150, shopparams, "IviiiIsssssssss");
    p.getActionSender().setAccessMask(p, 1278, 0, 621, 0, 28);

    if (mainstock) {
        p.getActionSender().setInterfaceConfig(p, 620, 23, false);
        p.getActionSender().setInterfaceConfig(p, 620, 24, true);
        p.getActionSender().setInterfaceConfig(p, 620, 29, false);
        p.getActionSender().setInterfaceConfig(p, 620, 25, true);
        p.getActionSender().setInterfaceConfig(p, 620, 27, true);
        p.getActionSender().setInterfaceConfig(p, 620, 26, false);
        p.getActionSender().setAccessMask(p, 1278, 23, 620, 0, 40);
    } else {
        p.getActionSender().setInterfaceConfig(p, 620, 23, true);
        p.getActionSender().setInterfaceConfig(p, 620, 24, false);
        p.getActionSender().setInterfaceConfig(p, 620, 29, true);
        p.getActionSender().setInterfaceConfig(p, 620, 25, false);
        p.getActionSender().setInterfaceConfig(p, 620, 27, false);
        p.getActionSender().setInterfaceConfig(p, 620, 26, true);
        p.getActionSender().setAccessMask(p, 1278, 24, 620, 0, 40);

    }
}[/code]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-shops-are-opening-the-bank-interface/310292/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-shops-are-opening-the-bank-interface/310292/1</link>
        <pubDate>Fri, 23 Oct 2009 22:33:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310292-1</guid>
        <source url="https://forum.moparisthebest.com/t/my-shops-are-opening-the-bank-interface/310292.rss">My shops are opening the BANK INTERFACE?!</source>
      </item>
  </channel>
</rss>
