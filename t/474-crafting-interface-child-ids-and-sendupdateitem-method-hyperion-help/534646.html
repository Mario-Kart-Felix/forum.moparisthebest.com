<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/474-crafting-interface-child-ids-and-sendupdateitem-method-hyperion-help/534646 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>474 Crafting Interface, Child IDs and sendUpdateItem Method - Hyperion (Help) - Game Development - moparisthebest.com</title>
    <meta name="description" content="So after a day and a half trying to figure out how to put these crafting items onto the crafting interface, I have brought myself here. 

I&amp;#39;m almost there, but I keep getting a NullPointerException printed in the client &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="534646.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;474 Crafting Interface, Child IDs and sendUpdateItem Method - Hyperion (Help)&#39;" href="534646.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://puu.sh/4YhMY.png" />
<meta property="og:image" content="http://puu.sh/4YhMY.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/474-crafting-interface-child-ids-and-sendupdateitem-method-hyperion-help/534646" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/474-crafting-interface-child-ids-and-sendupdateitem-method-hyperion-help/534646" />
<meta property="og:title" content="474 Crafting Interface, Child IDs and sendUpdateItem Method - Hyperion (Help)" />
<meta name="twitter:title" content="474 Crafting Interface, Child IDs and sendUpdateItem Method - Hyperion (Help)" />
<meta property="og:description" content="So after a day and a half trying to figure out how to put these crafting items onto the crafting interface, I have brought myself here.  I’m almost there, but I keep getting a NullPointerException printed in the client console.    What I have so far, is the numbers (child ids I presume) of the interface 446, remember this is 474 so there are only 600 or so interface ids, and the rest are child ids.  This is created via a command, not when I use a mould on a furnace. So I can see the id numbers.  ..." />
<meta name="twitter:description" content="So after a day and a half trying to figure out how to put these crafting items onto the crafting interface, I have brought myself here.  I’m almost there, but I keep getting a NullPointerException printed in the client console.    What I have so far, is the numbers (child ids I presume) of the interface 446, remember this is 474 so there are only 600 or so interface ids, and the rest are child ids.  This is created via a command, not when I use a mould on a furnace. So I can see the id numbers.  ..." />
<meta property="article:published_time" content="2013-10-25T16:02:35+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="534646.html">474 Crafting Interface, Child IDs and sendUpdateItem Method - Hyperion (Help)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming/game-development.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Game Development</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/RS_From_The_00s.html'><span itemprop='name'>RS_From_The_00s</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-10-25T16:02:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:54:08Z' class='post-time'>
              August 4, 2016, 10:54am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So after a day and a half trying to figure out how to put these crafting items onto the crafting interface, I have brought myself here.</p>
<p>I’m almost there, but I keep getting a NullPointerException printed in the <span class="bbcode-i">client</span> console.</p>
<p><img src="http://puu.sh/4YhMY.png" alt width="" height=""></p>
<p>What I have so far, is the numbers (child ids I presume) of the interface 446, remember this is 474 so there are only 600 or so interface ids, and the rest are child ids.</p>
<p><span class="bbcode-i">This is created via a command, not when I use a mould on a furnace. So I can see the id numbers.</span><br>
<img src="http://puu.sh/4YhIe.png" alt width="" height=""></p>
<p>What I need to do is display the rings, necklaces, amulets and bracelets on the interface, but all I get is a NullPointer.</p>
<p>Here’s some of my code:</p>
<p><span class="bbcode-i">What would type and slot refer too? These are what I am having trouble with I believe.</span></p>
<pre><code class="lang-auto">public ActionSender sendUpdateItem(int interfaceId, int childId, int type,
			int slot, Item item) {
		PacketBuilder bldr = new PacketBuilder(187, Type.VARIABLE_SHORT);
		bldr.putInt(interfaceId &lt;&lt; 16 | childId);
		bldr.putShort(type);
		bldr.putSmart(slot);
		if (item != null) {
			bldr.putShort(item.getId() + 1);
			int count = item.getCount();
			if (count &gt; 254) {
				bldr.put((byte) 255);
				bldr.putInt(count);
			} else {
				bldr.put((byte) count);
			}
		} else {
			bldr.putShort(0);
			bldr.put((byte) -1);
		}
		player.write(bldr.toPacket());
		return this;
	}</code></pre>
<p>Here is how the sendUpdateItem method is being used…</p>
<pre><code class="lang-auto">public static void showInterface(Player player, int face) {
		int interfaceType = ( 
			face == 1592 ? 0 : face == 1595 ? 1 : face == 1597 ? 2 : face == 11065 ? 3 : -1
		);
		if (interfaceType &lt; 0)
            		return;

		if(player.getInventory().contains(face)) {
			for(int i = 0; i &lt; CraftData.craftInterfaceArray[interfaceType].length;i++) {
				player.getActionSender().sendUpdateItem(446, interfaceFrames[interfaceType][1], interfaceType, -1, new Item(CraftData.craftInterfaceArray[interfaceType][i], 1));
				player.getActionSender().sendInterfaceModel(interfaceFrames[interfaceType][0], 120, CraftData.craftInterfaceArray[interfaceType][i]);
			}

			player.getActionSender().sendString(60, "Choose an item to make.");
		} else {
			player.getActionSender().sendInterfaceModel(interfaceFrames[interfaceType][0], 120, -1);
			player.getActionSender().sendString(interfaceFrames[interfaceType][1], interfaceMessage[interfaceType]);
			for(int i = 0; i &lt; CraftData.craftInterfaceArray[interfaceType].length;i++) {
				player.getActionSender().sendUpdateItem(446,interfaceFrames[interfaceType][1], face, -1, null);
			}
		}
	}

	public static void openInterface(Player player) {
		player.getActionQueue().clearAllActions();
		showInterface(player, 1592);
		showInterface(player, 1595);
		showInterface(player, 1597);
		showInterface(player, 11065);
		player.getActionSender().sendInterface(446, false);
	}</code></pre>
<p>And here are some arrays that are referred too in showInterface…</p>
<pre><code class="lang-auto">public static String[] interfaceMessage = {
		"You need a ring mould to craft rings.",
		"You need a necklace mould to craft necklaces.",
		"You need an amulet mould to craft amulets.",
		"You need a combat bracelet mould to craft bracelets."
	};

public static int[][] interfaceFrames = {
		{ 63, 64 }, { 110, 111 }, { 157, 158 }, {207, 208}
	};

public static int[][] craftInterfaceArray = {
		{1635, 1637, 1639, 1641, 1643, 1645, 6575},
		{1654, 1656, 1658, 1660, 1662, 1664, 6577},
		{1692, 1694, 1696, 1698, 1700, 1702, 6581},
		{4151, 4153, 4151, 1038, 1057, 1040, 75}
	};</code></pre>
<p>If anyone could shed light on where the NullPointer is coming from (there’s no server side error), or use the picture with the String ids to cross reference my arrays and double check everything is in order, that would be helpful. I need a new pair of eyes on it because after a day of trial and error I have probably overlooked something very simple.</p>
      </div>

      <meta itemprop='headline' content='474 Crafting Interface, Child IDs and sendUpdateItem Method - Hyperion (Help)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/474-crafting-interface-child-ids-and-sendupdateitem-method-hyperion-help/534646 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:35 GMT -->
</html>
