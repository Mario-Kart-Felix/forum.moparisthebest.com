<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
    <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966</link>
    <description>Ok, so for the past couple of days I have been messing around with my Cache Autodownloader. I am having some issues with the files that it actually places in my &quot;C:\&quot;, compared to the files that it should place. I have had this issue in the past, and although it has been awhile since I have actually prepared a downloadable client, I retraced those steps/ solutions and still yielded no results. I have Google&#39;d the issue, and looked through countless threads trying to find out what I am doing wrong; rather it be zipping the cache correctly, or something messed up within my files, nothing is yielding any results.... 

The only files that the cache will download include the IDX files, and the .DAT files.. I am using Winrar to zip my cache, and I am using DropBox.

Here is my CacheDownloader.java
[code]import java.io.File;
import java.io.IOException;
import java.io.OutputStream;
import java.io.FileWriter;
import java.io.BufferedWriter;
import java.io.BufferedOutputStream;
import java.io.BufferedInputStream;
import java.io.FileOutputStream;
import java.io.FileInputStream;
import java.io.InputStream;
import java.net.URLConnection;
import java.net.URL;
import java.util.zip.ZipFile;
import java.util.zip.ZipEntry;
import java.util.zip.ZipInputStream;
import java.util.Enumeration;

import sign.signlink;

public class CacheDownloader {

	private client client;

	private final int BUFFER = 1024;

	private final int VERSION = 1; // Version of cache
	private String cacheLink = &quot;https://www.dropbox.com/s/ko0fu0xizzv4ix0/VindictivePK.zip&quot;; // Link to cache

	private String fileToExtract = getCacheDir() + getArchivedName();

	public CacheDownloader(client client) {
		this.client = client;
	}

	private void drawLoadingText(String text) {
		client.drawLoadingText(35, text);
		//System.out.println(text);
	}


	private void drawLoadingText(int amount, String text) {
		client.drawLoadingText(amount, text);
		//System.out.println(text);
	}

	private String getCacheDir() {
		return signlink.findcachedir();
	}

	private String getCacheLink() {
		return cacheLink;
	}

	private int getCacheVersion() {
		return VERSION;
	}

	public CacheDownloader downloadCache() {
		try {
		File location = new File(getCacheDir());
		File version = new File(getCacheDir() + &quot;/cacheVersion&quot; + getCacheVersion() + &quot;.dat&quot;);
		
		if(!location.exists()) {
			//drawLoadingText(&quot;Loading new Updates....&quot;);
			downloadFile(getCacheLink(), getArchivedName());

			unZip();
			//System.out.println(&quot;UNZIP&quot;);

			BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + &quot;/cacheVersion&quot; + getCacheVersion() + &quot;.dat&quot;));
			versionFile.close();
		} else {
			if(!version.exists()) {
				//drawLoadingText(&quot;Downloading Cache Please wait...&quot;);
				downloadFile(getCacheLink(), getArchivedName());

				unZip();
				//System.out.println(&quot;UNZIP&quot;);

				BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + &quot;/cacheVersion&quot; + getCacheVersion() + &quot;.dat&quot;));
				versionFile.close();

			} else {
				return null;
			}
		}
		} catch(Exception e) {

		}
		return null;
	}
	
	private void downloadFile(String adress, String localFileName) {
		OutputStream out = null;
		URLConnection conn;
		InputStream in = null;
		
		try {

			URL url = new URL(adress);
			out = new BufferedOutputStream(
				new FileOutputStream(getCacheDir() + &quot;/&quot; +localFileName)); 

			conn = url.openConnection();
			in = conn.getInputStream(); 
		
			byte[] data = new byte[BUFFER]; 
	
			int numRead;
			long numWritten = 0;
			int length = conn.getContentLength();

	
			while((numRead = in.read(data)) != -1) {
				out.write(data, 0, numRead);
				numWritten += numRead;

            			int percentage = (int)(((double)numWritten / (double)length) * 100D);
				drawLoadingText(percentage, &quot;Loading Game Content &quot; + percentage + &quot;%&quot;);

			}

			System.out.println(localFileName + &quot;\t&quot; + numWritten);
			drawLoadingText(&quot;Do not close client!&quot;);

		} catch (Exception exception) {
			exception.printStackTrace();
		} finally {
			try {
				if (in != null) {
					in.close();
				}
				if (out != null) {
					out.close();
				}
			} catch (IOException ioe) {
			}
		}

	}

	private String getArchivedName() {
		int lastSlashIndex = getCacheLink().lastIndexOf(&#39;/&#39;);
		if (lastSlashIndex &gt;= 0 
			&amp;&amp; lastSlashIndex &lt; getCacheLink().length() -1) { 
			return getCacheLink().substring(lastSlashIndex + 1);
		} else {
			//System.err.println(&quot;error retreiving archivaed name.&quot;);
		}
		return &quot;&quot;;
	}




	private void unZip() {

		try {
    			InputStream in = 
				new BufferedInputStream(new FileInputStream(fileToExtract));
			ZipInputStream zin = new ZipInputStream(in);
			ZipEntry e;

			while((e=zin.getNextEntry()) != null) {

               			if(e.isDirectory()) {
					(new File(getCacheDir() + e.getName())).mkdir();
               			} else {

				if (e.getName().equals(fileToExtract)) {
					unzip(zin, fileToExtract);
					break;
				}
       					unzip(zin, getCacheDir() + e.getName());
				}
				//System.out.println(&quot;unzipping2 &quot; + e.getName());
			}
			zin.close();

		} catch(Exception e) {
			e.printStackTrace();
		}
	}

	private void unzip(ZipInputStream zin, String s) 
		throws IOException {

		FileOutputStream out = new FileOutputStream(s);
		//System.out.println(&quot;unzipping &quot; + s);
		byte [] b = new byte[BUFFER];
		int len = 0;

		while ((len = zin.read(b)) != -1) {
			out.write(b,0,len);
		}
		out.close();
	}
}[/code]

Here is my signlink.java
[code]// Decompiled by Jad v1.5.8f. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3)
// Source File Name:   signlink.java

package sign;

import java.applet.Applet;
import java.io.*;
import java.net.*;

public final class signlink
    implements Runnable
{

    public static void startpriv(InetAddress inetaddress)
    {
        threadliveid = (int)(Math.random() * 99999999D);
        if(active)
        {
            try
            {

                Thread.sleep(500L);
            }
            catch(Exception _ex) { }
            active = false;
        }
        socketreq = 0;
        threadreq = null;
        dnsreq = null;
        savereq = null;
        urlreq = null;
        socketip = inetaddress;
        Thread thread = new Thread(new signlink());
        thread.setDaemon(true);
        thread.start();
        while(!active)
            try
            {
                Thread.sleep(50L);
            }
            catch(Exception _ex) { }
    }

    public void run()
    {
        active = true;
        String s = findcachedir();
        uid = getuid(s);
        try
        {
            File file = new File(s + &quot;main_file_cache.dat&quot;);
            if(file.exists() &amp;&amp; file.length() &gt; 0x3200000L)
                file.delete();
            cache_dat = new RandomAccessFile(s + &quot;main_file_cache.dat&quot;, &quot;rw&quot;);
            for(int j = 0; j &lt; 5; j++)
                cache_idx[j] = new RandomAccessFile(s + &quot;main_file_cache.idx&quot; + j, &quot;rw&quot;);

        }
        catch(Exception exception)
        {
            exception.printStackTrace();
        }
        for(int i = threadliveid; threadliveid == i;)
        {
            if(socketreq != 0)
            {
                try
                {
                    socket = new Socket(socketip, socketreq);
                }
                catch(Exception _ex)
                {
                    socket = null;
                }
                socketreq = 0;
            } else
            if(threadreq != null)
            {
                Thread thread = new Thread(threadreq);
                thread.setDaemon(true);
                thread.start();
                thread.setPriority(threadreqpri);
                threadreq = null;
            } else
            if(dnsreq != null)
            {
                try
                {
                    dns = InetAddress.getByName(dnsreq).getHostName();
                }
                catch(Exception _ex)
                {
                    dns = &quot;unknown&quot;;
                }
                dnsreq = null;
            } else
            if(savereq != null)
            {
                if(savebuf != null)
                    try
                    {
                        FileOutputStream fileoutputstream = new FileOutputStream(s + savereq);
                        fileoutputstream.write(savebuf, 0, savelen);
                        fileoutputstream.close();
                    }
                    catch(Exception _ex) { }
                if(waveplay)
                {
                    String wave = s + savereq;
                    waveplay = false;
                }
                if(midiplay)
                {
                    midi = s + savereq;
                    midiplay = false;
                }
                savereq = null;
            } else
            if(urlreq != null)
            {
                try
                {
                    System.out.println(&quot;urlstream&quot;);
                    urlstream = new DataInputStream((new URL(mainapp.getCodeBase(), urlreq)).openStream());
                }
                catch(Exception _ex)
                {
                    urlstream = null;
                }
                urlreq = null;
            }
            try
            {
                Thread.sleep(50L);
            }
            catch(Exception _ex) { }
        }

    }

    public static String findcachedir() {
        String as[] = {&quot;C:/&quot;};
        if(storeid &lt; 32 || storeid &gt; 34)
            storeid = 32;
        String s = &quot;VindictivePK&quot;;
        for(int i = 0; i &lt; as.length; i++)
            try {
                String s1 = as[i];
                if(s1.length() &gt; 0) {
                    File file = new File(s1);
                    if(!file.exists())
                        continue;
                }
                File file1 = new File(s1 + s);
                if(file1.exists() || file1.mkdir())
                    return s1 + s + &quot;/&quot;;
            }
            catch(Exception _ex) { }
        return null;
    }

    private static int getuid(String s)
    {
        try
        {
            File file = new File(s + &quot;uid.dat&quot;);
            if(!file.exists() || file.length() &lt; 4L)
            {
                DataOutputStream dataoutputstream = new DataOutputStream(new FileOutputStream(s + &quot;uid.dat&quot;));
                dataoutputstream.writeInt((int)(Math.random() * 99999999D));
                dataoutputstream.close();
            }
        }
        catch(Exception _ex) { }
        try
        {
            DataInputStream datainputstream = new DataInputStream(new FileInputStream(s + &quot;uid.dat&quot;));
            int i = datainputstream.readInt();
            datainputstream.close();
            return i + 1;
        }
        catch(Exception _ex)
        {
            return 0;
        }
    }
    public static synchronized Socket opensocket(int i)
        throws IOException
    {
        for(socketreq = i; socketreq != 0;)
            try
            {
                Thread.sleep(50L);
            }
            catch(Exception _ex) { }

        if(socket == null)
            throw new IOException(&quot;could not open socket&quot;);
        else
            return socket;
    }

    public static synchronized DataInputStream openurl(String s)
        throws IOException
    {
        for(urlreq = s; urlreq != null;)
            try
            {
                Thread.sleep(50L);
            }
            catch(Exception _ex) { }

        if(urlstream == null)
            throw new IOException(&quot;could not open: &quot; + s);
        else
            return urlstream;
    }

    public static synchronized void dnslookup(String s)
    {
        dns = s;
        dnsreq = s;
    }

    public static synchronized void startthread(Runnable runnable, int i)
    {
        threadreqpri = i;
        threadreq = runnable;
    }

    public static synchronized boolean wavesave(byte abyte0[], int i)
    {
        if(i &gt; 0x1e8480)
            return false;
        if(savereq != null)
        {
            return false;
        } else
        {
            wavepos = (wavepos + 1) % 5;
            savelen = i;
            savebuf = abyte0;
            waveplay = true;
            savereq = &quot;sound&quot; + wavepos + &quot;.wav&quot;;
            return true;
        }
    }

    public static synchronized boolean wavereplay()
    {
        if(savereq != null)
        {
            return false;
        } else
        {
            savebuf = null;
            waveplay = true;
            savereq = &quot;sound&quot; + wavepos + &quot;.wav&quot;;
            return true;
        }
    }

    public static synchronized void midisave(byte abyte0[], int i)
    {
        if(i &gt; 0x1e8480)
            return;
        if(savereq != null)
        {
        } else
        {
            midipos = (midipos + 1) % 5;
            savelen = i;
            savebuf = abyte0;
            midiplay = true;
            savereq = &quot;jingle&quot; + midipos + &quot;.mid&quot;;
        }
    }

    public static void reporterror(String s)
    {
        System.out.println(&quot;Error: &quot; + s);
    }

    private signlink()
    {
    }

    public static final int clientversion = 317;
    public static int uid;
    public static int storeid = 32;
    public static RandomAccessFile cache_dat = null;
    public static final RandomAccessFile[] cache_idx = new RandomAccessFile[5];
    public static boolean sunjava;
    public static Applet mainapp = null;
    private static boolean active;
    private static int threadliveid;
    private static InetAddress socketip;
    private static int socketreq;
    private static Socket socket = null;
    private static int threadreqpri = 1;
    private static Runnable threadreq = null;
    private static String dnsreq = null;
    public static String dns = null;
    private static String urlreq = null;
    private static DataInputStream urlstream = null;
    private static int savelen;
    private static String savereq = null;
    private static byte[] savebuf = null;
    private static boolean midiplay;
    private static int midipos;
    public static String midi = null;
    public static int midivol;
    public static int midifade;
    private static boolean waveplay;
    private static int wavepos;
    public static int wavevol;
    public static boolean reporterror = true;
    public static String errorname = &quot;&quot;;

}
[/code]

Here is the client cmd after running... (Connection Error - Retrying in ....)
[img]http://i39.servimg.com/u/f39/16/16/97/89/210.png[/img]

Here is the files that it actually downloads and places into the &quot;C:\&quot;... 
[img]http://i39.servimg.com/u/f39/16/16/97/89/112.png[/img]

Here is what it should download and place into the &quot;C:\&quot;...
[img]http://i39.servimg.com/u/f39/16/16/97/89/311.png[/img]

If anyone has any solutions, please let me know. I will post my CacheDownloader.class and signlink.class in the comment section below if it would be helpful to my situation. (I exceeded the 20k character limit). I have been at this for awhile, and it is more than frustrating. I would be willing to TeamView with people I actually trust. 

Thanks All!</description>
    
    <lastBuildDate>Sun, 08 Sep 2013 13:10:06 +0000</lastBuildDate>
    <category>Game Development</category>
    <atom:link href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@u_loose u loose]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/u_loose">@u_loose</a> wrote:</p>
          <blockquote>
              <p>[quote=“Encryption, post:16, topic:526966”]Change the cache download link to this: <a href="https://dl.dropboxusercontent.com/s/ko0fu0xizzv4ix0/VindictivePK.zip" rel="nofollow noopener">https://dl.dropboxusercontent.com/s/ko0fu0xizzv4ix0/VindictivePK.zip</a></p>
<p>The problem is your cache loader is not downloading the file because the link that you’ve stated needs authorization.[/quote]</p>
<p>Gravedig much</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/17</link>
        <pubDate>Sun, 08 Sep 2013 13:10:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-17</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@Encryption Encryption]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/encryption">@Encryption</a> wrote:</p>
          <blockquote>
              <p>Change the cache download link to this: <a href="https://dl.dropboxusercontent.com/s/ko0fu0xizzv4ix0/VindictivePK.zip" rel="nofollow noopener">https://dl.dropboxusercontent.com/s/ko0fu0xizzv4ix0/VindictivePK.zip</a></p>
<p>The problem is your cache loader is not downloading the file because the link that you’ve stated needs authorization.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/16</link>
        <pubDate>Sun, 08 Sep 2013 05:29:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-16</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@ultimatepkvillage ultimatepkvillage]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ultimatepkvillage">@ultimatepkvillage</a> wrote:</p>
          <blockquote>
              <p><div class="lightbox-wrapper"><a class="lightbox" href="http://i39.servimg.com/u/f39/16/16/97/89/311.png" title="311.png" rel="nofollow noopener"><img src="http://i39.servimg.com/u/f39/16/16/97/89/311.png" alt width="639" height="500"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">311.png</span><span class="informations">682×533</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>The problem is that it’s not downloading or unpacking the cache files correctly. I think what you have done is try to make yourcachefolder a .zip with the files inside of it instead doing this. Try this open up yourcachefolder select all the files then right mouse with all the files still highlighted click choose add to archive… then choose archive file type .zip.Upload new cache.zip then change the cachedownloader link and it should load properly.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/15</link>
        <pubDate>Thu, 08 Aug 2013 05:12:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-15</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@u_loose u loose]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/u_loose">@u_loose</a> wrote:</p>
          <blockquote>
              <p>Use Justin’s webclient tut, it will help you, he tells you what to modify etc.</p>
<p>Also change your dropbox link in your cachedownloader.java from<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://cfl.dropboxstatic.com/static/images/favicon-vflUeLeeY.ico" class="site-icon" width="32" height="32">
      <a href="https://www.dropbox.com/" target="_blank" rel="nofollow noopener">Dropbox</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:214/200;"><img src="https://cfl.dropboxstatic.com/static/images/logo_catalog/glyph_m1@2x-vflA6lTFZ.png" class="thumbnail"></div>

<h3><a href="https://www.dropbox.com/" target="_blank" rel="nofollow noopener">Dropbox</a></h3>

<p>Dropbox is a modern workspace designed to reduce busywork-so you can focus on the things that matter. Sign in and put your creative energy to work.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
To<br>
<a href="http://Dl.dropbox.com" class="onebox" target="_blank" rel="nofollow noopener">Dl.dropbox.com</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/14</link>
        <pubDate>Wed, 07 Aug 2013 03:15:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-14</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@gettwisted gettwisted]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/gettwisted">@gettwisted</a> wrote:</p>
          <blockquote>
              <p>To anyone else doing this, i updated my cache with the same name just reuploaded it to dropbox. I think you have to do what java said and go through all of your client and change it.</p>
<p>Follow the first part of this: <a href="http://www.rune-server.org/runescape-development/rs2-client/tutorials/286957-pi-webclient-tutorial-pi.html" data-bbcode="true" rel="nofollow noopener">http://www.rune-server.org/runescape-development/rs2-client/tutorials/286957-pi-webclient-tutorial-pi.html</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/13</link>
        <pubDate>Mon, 05 Aug 2013 17:46:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-13</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@Java-RSPS-Noob Java-RSPS-Noob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/java-rsps-noob">@Java-RSPS-Noob</a> wrote:</p>
          <blockquote>
              <p>[quote=“nolan2131, post:5, topic:526966”]Care to elaborate? Like which files need to be modified to the correct path?[/quote]keep in mind this depends on the client but…</p>
<p>search “raw or RAW” in client.java, model/modeldecompressor might have some cache paths, class36.java (I think? ), sprites.java</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/12</link>
        <pubDate>Mon, 05 Aug 2013 17:39:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-12</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@u_loose u loose]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/u_loose">@u_loose</a> wrote:</p>
          <blockquote>
              <p>[quote=“gettwisted, post:10, topic:526966”]I’m having the same problem as nolan. I updated my cache and zipped everything back up (properly). I highlighted everything and sent it to a compressed zip folder. I have my cache zipped and it looks exactly the same as my previous cache. I updated the sprites, and even tried putting them in the old zipped cache (replacing those sprites) and uploading that to my dropbox. It had the same link so i tried it with my previous (working autocachedownloader) and it still had the same problem. I have looked EVERYWHERE on google, and i can find nothing to help me. Please help!</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://forum.moparisthebest.com/uploads/default/original/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a.png" class="site-icon" width="32" height="32">
      <a href="https://forum.moparisthebest.com/?topic=532994.0" target="_blank">moparisthebest.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://forum.moparisthebest.com/images/default-apple-touch-icon.png" class="thumbnail onebox-avatar" width="144" height="144">

<h3><a href="https://forum.moparisthebest.com/?topic=532994.0" target="_blank">moparisthebest.com</a></h3>

<p>programming, irc, cars</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>This looks like what i need to do, but i haven’t a clue how to do it. I know it’s not a “spoonfeeding community” but I can’t do this alone.[/quote]<br>
Pm your skype</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/11</link>
        <pubDate>Sun, 04 Aug 2013 01:49:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-11</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@gettwisted gettwisted]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/gettwisted">@gettwisted</a> wrote:</p>
          <blockquote>
              <p>I’m having the same problem as nolan. I updated my cache and zipped everything back up (properly). I highlighted everything and sent it to a compressed zip folder. I have my cache zipped and it looks exactly the same as my previous cache. I updated the sprites, and even tried putting them in the old zipped cache (replacing those sprites) and uploading that to my dropbox. It had the same link so i tried it with my previous (working autocachedownloader) and it still had the same problem. I have looked EVERYWHERE on google, and i can find nothing to help me. Please help!</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://forum.moparisthebest.com/uploads/default/original/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a.png" class="site-icon" width="32" height="32">
      <a href="https://forum.moparisthebest.com/?topic=532994.0" target="_blank">moparisthebest.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://forum.moparisthebest.com/images/default-apple-touch-icon.png" class="thumbnail onebox-avatar" width="144" height="144">

<h3><a href="https://forum.moparisthebest.com/?topic=532994.0" target="_blank">moparisthebest.com</a></h3>

<p>programming, irc, cars</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>This looks like what i need to do, but i haven’t a clue how to do it. I know it’s not a “spoonfeeding community” but I can’t do this alone.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/10</link>
        <pubDate>Sat, 03 Aug 2013 21:10:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-10</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@nolan2131 nolan2131]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nolan2131">@nolan2131</a> wrote:</p>
          <blockquote>
              <p>I’m sorry man, I’m still getting the same issue, I hate to be a burden but if you could TeamView, it would go so much faster. I never like anyone to have to do anything for me, but I’ve never had this problem with my cache downloader.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/9</link>
        <pubDate>Sat, 03 Aug 2013 20:31:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-9</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>So if your client loads the cache files from C:/VindictivePK/<br>
Then that is where you extract them to.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/8</link>
        <pubDate>Sat, 03 Aug 2013 20:21:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-8</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@nolan2131 nolan2131]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nolan2131">@nolan2131</a> wrote:</p>
          <blockquote>
              <p>Thanks for the reply  :), Although I am a little confused at this line only…</p>
<blockquote>Extract all the cache files into the folder where the cache loads them (If asked to replace anything, click yes.)</blockquote>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/7</link>
        <pubDate>Sat, 03 Aug 2013 20:18:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-7</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>It’s not unzipping correctly. Those files (not the winrar zip archive) are automatically generated by the signlink if it cannot find them.<br>
You need to do the following:<br>
Extract all the cache files into the folder where the cache loads them (If asked to replace anything, click yes.)<br>
Right click in the folder and Hover “New” then click WinRAR Zip Archive (Or Just Zip folder, etc).<br>
Name it.<br>
Select all the files in your cache folder<br>
These files are what I’m talking about:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i39.servimg.com/u/f39/16/16/97/89/311.png" title="311.png" rel="nofollow noopener"><img src="http://i39.servimg.com/u/f39/16/16/97/89/311.png" alt width="639" height="500"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">311.png</span><span class="informations">682×533</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
And drag them onto the new zip you just made.<br>
WinRAR should archive em into that zip.<br>
Now place that zip into your dropbox, or onto a site with instant download links.<br>
Use that link for your auto cache downloader.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/6</link>
        <pubDate>Sat, 03 Aug 2013 19:43:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-6</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@nolan2131 nolan2131]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nolan2131">@nolan2131</a> wrote:</p>
          <blockquote>
              <p>Care to elaborate? Like which files need to be modified to the correct path?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/5</link>
        <pubDate>Sat, 03 Aug 2013 15:00:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-5</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@Java-RSPS-Noob Java-RSPS-Noob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/java-rsps-noob">@Java-RSPS-Noob</a> wrote:</p>
          <blockquote>
              <p>it means one more or files are not being read properly via the cache</p>
<p>example: when it loads from the client the path is generally ./blah/</p>
<p>well because you are directing it to C:/ any cache directory in the client needs to all direct to the same path</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/4</link>
        <pubDate>Fri, 02 Aug 2013 21:26:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-4</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@nolan2131 nolan2131]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nolan2131">@nolan2131</a> wrote:</p>
          <blockquote>
              <p>Messaged, If anyone else has a solution? POST</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/3</link>
        <pubDate>Fri, 02 Aug 2013 14:01:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-3</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@u_loose u loose]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/u_loose">@u_loose</a> wrote:</p>
          <blockquote>
              <p>Private message me your Skype ill help you</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/2</link>
        <pubDate>Fri, 02 Aug 2013 05:35:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-2</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
      <item>
        <title>Cache Autodownloader - Detailed Issue w/ Photos</title>
        <dc:creator><![CDATA[@nolan2131 nolan2131]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nolan2131">@nolan2131</a> wrote:</p>
          <blockquote>
              <p>Ok, so for the past couple of days I have been messing around with my Cache Autodownloader. I am having some issues with the files that it actually places in my “C:”, compared to the files that it should place. I have had this issue in the past, and although it has been awhile since I have actually prepared a downloadable client, I retraced those steps/ solutions and still yielded no results. I have Google’d the issue, and looked through countless threads trying to find out what I am doing wrong; rather it be zipping the cache correctly, or something messed up within my files, nothing is yielding any results…</p>
<p>The only files that the cache will download include the IDX files, and the .DAT files… I am using Winrar to zip my cache, and I am using DropBox.</p>
<p>Here is my CacheDownloader.java</p>
<p>[code]import java.io.File;<br>
import java.io.IOException;<br>
import java.io.OutputStream;<br>
import java.io.FileWriter;<br>
import java.io.BufferedWriter;<br>
import java.io.BufferedOutputStream;<br>
import java.io.BufferedInputStream;<br>
import java.io.FileOutputStream;<br>
import java.io.FileInputStream;<br>
import java.io.InputStream;<br>
import java.net.URLConnection;<br>
import java.net.URL;<br>
import java.util.zip.ZipFile;<br>
import java.util.zip.ZipEntry;<br>
import java.util.zip.ZipInputStream;<br>
import java.util.Enumeration;</p>
<p>import sign.signlink;</p>
<p>public class CacheDownloader {</p>
<pre><code>private client client;

private final int BUFFER = 1024;

private final int VERSION = 1; // Version of cache
private String cacheLink = "https://www.dropbox.com/s/ko0fu0xizzv4ix0/VindictivePK.zip"; // Link to cache

private String fileToExtract = getCacheDir() + getArchivedName();

public CacheDownloader(client client) {
	this.client = client;
}

private void drawLoadingText(String text) {
	client.drawLoadingText(35, text);
	//System.out.println(text);
}


private void drawLoadingText(int amount, String text) {
	client.drawLoadingText(amount, text);
	//System.out.println(text);
}

private String getCacheDir() {
	return signlink.findcachedir();
}

private String getCacheLink() {
	return cacheLink;
}

private int getCacheVersion() {
	return VERSION;
}

public CacheDownloader downloadCache() {
	try {
	File location = new File(getCacheDir());
	File version = new File(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat");
	
	if(!location.exists()) {
		//drawLoadingText("Loading new Updates....");
		downloadFile(getCacheLink(), getArchivedName());

		unZip();
		//System.out.println("UNZIP");

		BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat"));
		versionFile.close();
	} else {
		if(!version.exists()) {
			//drawLoadingText("Downloading Cache Please wait...");
			downloadFile(getCacheLink(), getArchivedName());

			unZip();
			//System.out.println("UNZIP");

			BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat"));
			versionFile.close();

		} else {
			return null;
		}
	}
	} catch(Exception e) {

	}
	return null;
}

private void downloadFile(String adress, String localFileName) {
	OutputStream out = null;
	URLConnection conn;
	InputStream in = null;
	
	try {

		URL url = new URL(adress);
		out = new BufferedOutputStream(
			new FileOutputStream(getCacheDir() + "/" +localFileName)); 

		conn = url.openConnection();
		in = conn.getInputStream(); 
	
		byte[] data = new byte[BUFFER]; 

		int numRead;
		long numWritten = 0;
		int length = conn.getContentLength();


		while((numRead = in.read(data)) != -1) {
			out.write(data, 0, numRead);
			numWritten += numRead;

        			int percentage = (int)(((double)numWritten / (double)length) * 100D);
			drawLoadingText(percentage, "Loading Game Content " + percentage + "%");

		}

		System.out.println(localFileName + "\t" + numWritten);
		drawLoadingText("Do not close client!");

	} catch (Exception exception) {
		exception.printStackTrace();
	} finally {
		try {
			if (in != null) {
				in.close();
			}
			if (out != null) {
				out.close();
			}
		} catch (IOException ioe) {
		}
	}

}

private String getArchivedName() {
	int lastSlashIndex = getCacheLink().lastIndexOf('/');
	if (lastSlashIndex &gt;= 0 
		&amp;&amp; lastSlashIndex &lt; getCacheLink().length() -1) { 
		return getCacheLink().substring(lastSlashIndex + 1);
	} else {
		//System.err.println("error retreiving archivaed name.");
	}
	return "";
}




private void unZip() {

	try {
			InputStream in = 
			new BufferedInputStream(new FileInputStream(fileToExtract));
		ZipInputStream zin = new ZipInputStream(in);
		ZipEntry e;

		while((e=zin.getNextEntry()) != null) {

           			if(e.isDirectory()) {
				(new File(getCacheDir() + e.getName())).mkdir();
           			} else {

			if (e.getName().equals(fileToExtract)) {
				unzip(zin, fileToExtract);
				break;
			}
   					unzip(zin, getCacheDir() + e.getName());
			}
			//System.out.println("unzipping2 " + e.getName());
		}
		zin.close();

	} catch(Exception e) {
		e.printStackTrace();
	}
}

private void unzip(ZipInputStream zin, String s) 
	throws IOException {

	FileOutputStream out = new FileOutputStream(s);
	//System.out.println("unzipping " + s);
	byte [] b = new byte[BUFFER];
	int len = 0;

	while ((len = zin.read(b)) != -1) {
		out.write(b,0,len);
	}
	out.close();
}
</code></pre>
<p>}[/code]</p>
<p>Here is my signlink.java</p>
<p>[code]// Decompiled by Jad v1.5.8f. Copyright 2001 Pavel Kouznetsov.<br>
// Jad home page: <a href="http://www.kpdus.com/jad.html" rel="nofollow noopener">http://www.kpdus.com/jad.html</a><br>
// Decompiler options: packimports(3)<br>
// Source File Name:   signlink.java</p>
<p>package sign;</p>
<p>import java.applet.Applet;<br>
import <a href="http://java.io" rel="nofollow noopener">java.io</a>.<em>;<br>
import <a href="http://java.net" rel="nofollow noopener">java.net</a>.</em>;</p>
<p>public final class signlink<br>
implements Runnable<br>
{</p>
<pre><code>public static void startpriv(InetAddress inetaddress)
{
    threadliveid = (int)(Math.random() * 99999999D);
    if(active)
    {
        try
        {

            Thread.sleep(500L);
        }
        catch(Exception _ex) { }
        active = false;
    }
    socketreq = 0;
    threadreq = null;
    dnsreq = null;
    savereq = null;
    urlreq = null;
    socketip = inetaddress;
    Thread thread = new Thread(new signlink());
    thread.setDaemon(true);
    thread.start();
    while(!active)
        try
        {
            Thread.sleep(50L);
        }
        catch(Exception _ex) { }
}

public void run()
{
    active = true;
    String s = findcachedir();
    uid = getuid(s);
    try
    {
        File file = new File(s + "main_file_cache.dat");
        if(file.exists() &amp;&amp; file.length() &gt; 0x3200000L)
            file.delete();
        cache_dat = new RandomAccessFile(s + "main_file_cache.dat", "rw");
        for(int j = 0; j &lt; 5; j++)
            cache_idx[j] = new RandomAccessFile(s + "main_file_cache.idx" + j, "rw");

    }
    catch(Exception exception)
    {
        exception.printStackTrace();
    }
    for(int i = threadliveid; threadliveid == i;)
    {
        if(socketreq != 0)
        {
            try
            {
                socket = new Socket(socketip, socketreq);
            }
            catch(Exception _ex)
            {
                socket = null;
            }
            socketreq = 0;
        } else
        if(threadreq != null)
        {
            Thread thread = new Thread(threadreq);
            thread.setDaemon(true);
            thread.start();
            thread.setPriority(threadreqpri);
            threadreq = null;
        } else
        if(dnsreq != null)
        {
            try
            {
                dns = InetAddress.getByName(dnsreq).getHostName();
            }
            catch(Exception _ex)
            {
                dns = "unknown";
            }
            dnsreq = null;
        } else
        if(savereq != null)
        {
            if(savebuf != null)
                try
                {
                    FileOutputStream fileoutputstream = new FileOutputStream(s + savereq);
                    fileoutputstream.write(savebuf, 0, savelen);
                    fileoutputstream.close();
                }
                catch(Exception _ex) { }
            if(waveplay)
            {
                String wave = s + savereq;
                waveplay = false;
            }
            if(midiplay)
            {
                midi = s + savereq;
                midiplay = false;
            }
            savereq = null;
        } else
        if(urlreq != null)
        {
            try
            {
                System.out.println("urlstream");
                urlstream = new DataInputStream((new URL(mainapp.getCodeBase(), urlreq)).openStream());
            }
            catch(Exception _ex)
            {
                urlstream = null;
            }
            urlreq = null;
        }
        try
        {
            Thread.sleep(50L);
        }
        catch(Exception _ex) { }
    }

}

public static String findcachedir() {
    String as[] = {"C:/"};
    if(storeid &lt; 32 || storeid &gt; 34)
        storeid = 32;
    String s = "VindictivePK";
    for(int i = 0; i &lt; as.length; i++)
        try {
            String s1 = as[i];
            if(s1.length() &gt; 0) {
                File file = new File(s1);
                if(!file.exists())
                    continue;
            }
            File file1 = new File(s1 + s);
            if(file1.exists() || file1.mkdir())
                return s1 + s + "/";
        }
        catch(Exception _ex) { }
    return null;
}

private static int getuid(String s)
{
    try
    {
        File file = new File(s + "uid.dat");
        if(!file.exists() || file.length() &lt; 4L)
        {
            DataOutputStream dataoutputstream = new DataOutputStream(new FileOutputStream(s + "uid.dat"));
            dataoutputstream.writeInt((int)(Math.random() * 99999999D));
            dataoutputstream.close();
        }
    }
    catch(Exception _ex) { }
    try
    {
        DataInputStream datainputstream = new DataInputStream(new FileInputStream(s + "uid.dat"));
        int i = datainputstream.readInt();
        datainputstream.close();
        return i + 1;
    }
    catch(Exception _ex)
    {
        return 0;
    }
}
public static synchronized Socket opensocket(int i)
    throws IOException
{
    for(socketreq = i; socketreq != 0;)
        try
        {
            Thread.sleep(50L);
        }
        catch(Exception _ex) { }

    if(socket == null)
        throw new IOException("could not open socket");
    else
        return socket;
}

public static synchronized DataInputStream openurl(String s)
    throws IOException
{
    for(urlreq = s; urlreq != null;)
        try
        {
            Thread.sleep(50L);
        }
        catch(Exception _ex) { }

    if(urlstream == null)
        throw new IOException("could not open: " + s);
    else
        return urlstream;
}

public static synchronized void dnslookup(String s)
{
    dns = s;
    dnsreq = s;
}

public static synchronized void startthread(Runnable runnable, int i)
{
    threadreqpri = i;
    threadreq = runnable;
}

public static synchronized boolean wavesave(byte abyte0[], int i)
{
    if(i &gt; 0x1e8480)
        return false;
    if(savereq != null)
    {
        return false;
    } else
    {
        wavepos = (wavepos + 1) % 5;
        savelen = i;
        savebuf = abyte0;
        waveplay = true;
        savereq = "sound" + wavepos + ".wav";
        return true;
    }
}

public static synchronized boolean wavereplay()
{
    if(savereq != null)
    {
        return false;
    } else
    {
        savebuf = null;
        waveplay = true;
        savereq = "sound" + wavepos + ".wav";
        return true;
    }
}

public static synchronized void midisave(byte abyte0[], int i)
{
    if(i &gt; 0x1e8480)
        return;
    if(savereq != null)
    {
    } else
    {
        midipos = (midipos + 1) % 5;
        savelen = i;
        savebuf = abyte0;
        midiplay = true;
        savereq = "jingle" + midipos + ".mid";
    }
}

public static void reporterror(String s)
{
    System.out.println("Error: " + s);
}

private signlink()
{
}

public static final int clientversion = 317;
public static int uid;
public static int storeid = 32;
public static RandomAccessFile cache_dat = null;
public static final RandomAccessFile[] cache_idx = new RandomAccessFile[5];
public static boolean sunjava;
public static Applet mainapp = null;
private static boolean active;
private static int threadliveid;
private static InetAddress socketip;
private static int socketreq;
private static Socket socket = null;
private static int threadreqpri = 1;
private static Runnable threadreq = null;
private static String dnsreq = null;
public static String dns = null;
private static String urlreq = null;
private static DataInputStream urlstream = null;
private static int savelen;
private static String savereq = null;
private static byte[] savebuf = null;
private static boolean midiplay;
private static int midipos;
public static String midi = null;
public static int midivol;
public static int midifade;
private static boolean waveplay;
private static int wavepos;
public static int wavevol;
public static boolean reporterror = true;
public static String errorname = "";
</code></pre>
<p>}<br>
[/code]</p>
<p>Here is the client cmd after running… (Connection Error - Retrying in …)<br>
<img src="http://i39.servimg.com/u/f39/16/16/97/89/210.png" alt width="675" height="340"></p>
<p>Here is the files that it actually downloads and places into the “C:”…<br>
<img src="http://i39.servimg.com/u/f39/16/16/97/89/112.png" alt width="607" height="462"></p>
<p>Here is what it should download and place into the “C:”…<br>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i39.servimg.com/u/f39/16/16/97/89/311.png" title="311.png" rel="nofollow noopener"><img src="http://i39.servimg.com/u/f39/16/16/97/89/311.png" alt width="639" height="500"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">311.png</span><span class="informations">682×533</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>If anyone has any solutions, please let me know. I will post my CacheDownloader.class and signlink.class in the comment section below if it would be helpful to my situation. (I exceeded the 20k character limit). I have been at this for awhile, and it is more than frustrating. I would be willing to TeamView with people I actually trust.</p>
<p>Thanks All!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966/1</link>
        <pubDate>Fri, 02 Aug 2013 03:46:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-526966-1</guid>
        <source url="https://forum.moparisthebest.com/t/cache-autodownloader-detailed-issue-w-photos/526966.rss">Cache Autodownloader - Detailed Issue w/ Photos</source>
      </item>
  </channel>
</rss>
