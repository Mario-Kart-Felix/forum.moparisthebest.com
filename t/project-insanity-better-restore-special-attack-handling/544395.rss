<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Project Insanity] Better Restore Special Attack Handling</title>
    <link>https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395</link>
    <description>This is a better way to handle restore spec - first off go to player.java and add this
[CODE]public boolean isRestoringSpec = false;[/CODE]

then go to combatAssistand and search for this: (should be in the attackPlayer method)
[CODE]if (c.getCombat().checkSpecAmount(c.playerEquipment[c.playerWeapon])) {
						c.lastArrowUsed = c.playerEquipment[c.playerArrows];
						c.getCombat().activateSpecial(
						c.playerEquipment[c.playerWeapon], i);
						c.followId = c.playerIndex;[/CODE]

under that add this:
[CODE]						if(!c.isRestoringSpec){
							RestoreSpecialAttack.execute(c);
						}[/CODE]

then look for: (should be in attackNpc method)
[CODE]if(c.getCombat().checkSpecAmount(c.playerEquipment[c.playerWeapon])){
						c.lastWeaponUsed = c.playerEquipment[c.playerWeapon];
						c.lastArrowUsed = c.playerEquipment[c.playerArrows];
						c.getCombat().activateSpecial(c.playerEquipment[c.playerWeapon], i);[/CODE]

under it add
[CODE]						if(!c.isRestoringSpec){
							RestoreSpecialAttack.execute(c);
						}[/CODE]

now go to client and find this:
[CODE]public void initialize() {[/CODE]
under it add this
[CODE]		if(this.specAmount &lt; 10){
			RestoreSpecialAttack.execute(this);
		}[/CODE]
[COLOR=red]Now you can remove all the restore special attack in process()[/COLOR]
now in players folder make a new folder called content and make a class called RestoreSpecialAttack and add this
[CODE]package org.rs2server.entity.players.content;

import org.rs2server.entity.players.*;
import org.rs2server.event.*;

public class RestoreSpecialAttack {

	public static void execute(final Client player){
		player.isRestoringSpec = true;
		CycleEventHandler.getSingleton().addEvent(player, new CycleEvent() {
			@Override
			public void execute(CycleEventContainer container) {
					if (player.specAmount &lt; 10) {
						player.specAmount += 1;
						if (player.specAmount &gt; 10) {
							player.specAmount = 10;
							container.stop();
							}
						player.getItems().addSpecialBar(player.playerEquipment[player.playerWeapon]);
					}
			}
			@Override
			public void stop() {
				player.isRestoringSpec = false;
			}
		}, 29);
	}
}
[/CODE]

[COLOR=red][I]Remember to change all your imports[/I][/COLOR]</description>
    
    <lastBuildDate>Sun, 29 Jun 2014 19:13:27 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Project Insanity] Better Restore Special Attack Handling</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>Better than your other one fursure good job but why aren’t you just implementing or extending cycle event in your special attack class would make it look so much better and starting using dem getters and setters.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/8</link>
        <pubDate>Sun, 29 Jun 2014 19:13:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544395-8</guid>
        <source url="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395.rss">[Project Insanity] Better Restore Special Attack Handling</source>
      </item>
      <item>
        <title>[Project Insanity] Better Restore Special Attack Handling</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="6" data-topic="544395">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/jummppy/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> jummppy:</div>
<blockquote>
<p>Wouldn’t this be a bad way to do it. Because every time you use a special attack. It’s running a new task, and what if someone uses 4 special attacks in a row. That’s 4 task running at 17.5secs each time. In which may cause your character to log out. If i’m wrong please correct me. But this isn’t a very good way to do this. Either keep it in client process or find a new and better way for this.</p>
</blockquote>
</aside>
<p>i don’t think it will run multiple tasks due to this line of code?</p>
<p><code>if(!c.isRestoringSpec){
    RestoreSpecialAttack.execute(c);
}</code></p>
<p>so it’ll only run a new task after the first one is stopped/finished.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/7</link>
        <pubDate>Sun, 29 Jun 2014 18:04:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544395-7</guid>
        <source url="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395.rss">[Project Insanity] Better Restore Special Attack Handling</source>
      </item>
      <item>
        <title>[Project Insanity] Better Restore Special Attack Handling</title>
        <dc:creator><![CDATA[@jummppy jummppy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jummppy">@jummppy</a> wrote:</p>
          <blockquote>
              <p>Wouldn’t this be a bad way to do it. Because every time you use a special attack. It’s running a new task, and what if someone uses 4 special attacks in a row. That’s 4 task running at 17.5secs each time. In which may cause your character to log out. If i’m wrong please correct me. But this isn’t a very good way to do this. Either keep it in client process or find a new and better way for this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/6</link>
        <pubDate>Sun, 29 Jun 2014 17:53:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544395-6</guid>
        <source url="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395.rss">[Project Insanity] Better Restore Special Attack Handling</source>
      </item>
      <item>
        <title>[Project Insanity] Better Restore Special Attack Handling</title>
        <dc:creator><![CDATA[@Special_Air_Service Special Air Service]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/special_air_service">@Special_Air_Service</a> wrote:</p>
          <blockquote>
              <p>Because it dosnt keep checking if the spec is below 10 in the process, it restores spec when you use the spec</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/5</link>
        <pubDate>Sun, 29 Jun 2014 06:27:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544395-5</guid>
        <source url="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395.rss">[Project Insanity] Better Restore Special Attack Handling</source>
      </item>
      <item>
        <title>[Project Insanity] Better Restore Special Attack Handling</title>
        <dc:creator><![CDATA[@sorecheeny sorecheeny]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sorecheeny">@sorecheeny</a> wrote:</p>
          <blockquote>
              <p>How is this better in any way?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/4</link>
        <pubDate>Sun, 29 Jun 2014 04:40:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544395-4</guid>
        <source url="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395.rss">[Project Insanity] Better Restore Special Attack Handling</source>
      </item>
      <item>
        <title>[Project Insanity] Better Restore Special Attack Handling</title>
        <dc:creator><![CDATA[@Special_Air_Service Special Air Service]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/special_air_service">@Special_Air_Service</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="544395">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/leigh4all/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Leigh4all:</div>
<blockquote>
<p>Nice tut!</p>
</blockquote>
</aside>
<p>thank you</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/3</link>
        <pubDate>Sat, 28 Jun 2014 14:06:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544395-3</guid>
        <source url="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395.rss">[Project Insanity] Better Restore Special Attack Handling</source>
      </item>
      <item>
        <title>[Project Insanity] Better Restore Special Attack Handling</title>
        <dc:creator><![CDATA[@Leigh4all Leigh4all]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/leigh4all">@Leigh4all</a> wrote:</p>
          <blockquote>
              <p>Nice tut!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/2</link>
        <pubDate>Sat, 28 Jun 2014 14:05:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544395-2</guid>
        <source url="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395.rss">[Project Insanity] Better Restore Special Attack Handling</source>
      </item>
      <item>
        <title>[Project Insanity] Better Restore Special Attack Handling</title>
        <dc:creator><![CDATA[@Special_Air_Service Special Air Service]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/special_air_service">@Special_Air_Service</a> wrote:</p>
          <blockquote>
              <p>This is a better way to handle restore spec - first off go to player.java and add this</p>
<p><code>public boolean isRestoringSpec = false;</code></p>
<p>then go to combatAssistand and search for this: (should be in the attackPlayer method)</p>
<p><code>if (c.getCombat().checkSpecAmount(c.playerEquipment[c.playerWeapon])) {
						c.lastArrowUsed = c.playerEquipment[c.playerArrows];
						c.getCombat().activateSpecial(
						c.playerEquipment[c.playerWeapon], i);
						c.followId = c.playerIndex;</code></p>
<p>under that add this:</p>
<p><code>						if(!c.isRestoringSpec){
							RestoreSpecialAttack.execute(c);
						}</code></p>
<p>then look for: (should be in attackNpc method)</p>
<p><code>if(c.getCombat().checkSpecAmount(c.playerEquipment[c.playerWeapon])){
						c.lastWeaponUsed = c.playerEquipment[c.playerWeapon];
						c.lastArrowUsed = c.playerEquipment[c.playerArrows];
						c.getCombat().activateSpecial(c.playerEquipment[c.playerWeapon], i);</code></p>
<p>under it add</p>
<p><code>						if(!c.isRestoringSpec){
							RestoreSpecialAttack.execute(c);
						}</code></p>
<p>now go to client and find this:</p>
<p><code>public void initialize() {</code><br>
under it add this</p>
<p><code>		if(this.specAmount &lt; 10){
			RestoreSpecialAttack.execute(this);
		}</code><br>
[COLOR=red]Now you can remove all the restore special attack in process()[/COLOR]<br>
now in players folder make a new folder called content and make a class called RestoreSpecialAttack and add this</p>
<p>[CODE]package org.rs2server.entity.players.content;</p>
<p>import org.rs2server.entity.players.<em>;<br>
import org.rs2server.event.</em>;</p>
<p>public class RestoreSpecialAttack {</p>
<pre><code>public static void execute(final Client player){
	player.isRestoringSpec = true;
	CycleEventHandler.getSingleton().addEvent(player, new CycleEvent() {
		@Override
		public void execute(CycleEventContainer container) {
				if (player.specAmount &lt; 10) {
					player.specAmount += 1;
					if (player.specAmount &gt; 10) {
						player.specAmount = 10;
						container.stop();
						}
					player.getItems().addSpecialBar(player.playerEquipment[player.playerWeapon]);
				}
		}
		@Override
		public void stop() {
			player.isRestoringSpec = false;
		}
	}, 29);
}
</code></pre>
<p>}<br>
[/CODE]</p>
<p>[COLOR=red][I]Remember to change all your imports[/I][/COLOR]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395/1</link>
        <pubDate>Sat, 28 Jun 2014 14:01:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-544395-1</guid>
        <source url="https://forum.moparisthebest.com/t/project-insanity-better-restore-special-attack-handling/544395.rss">[Project Insanity] Better Restore Special Attack Handling</source>
      </item>
  </channel>
</rss>
