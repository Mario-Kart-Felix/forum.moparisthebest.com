<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Skill Requirements [Winterlove]</title>
    <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029</link>
    <description>Edit: fu[s][/s]ck, wrong section. My mistake.

I told myself I wouldn&#39;t release this but fuc[s][/s]k it.

This is basically a much eaiser way to do skill requirements, the anti-leech is getting it to work for yourself. Plus I don&#39;t feel like explaining shit, and this is a snippet.

Heavily documented so you can somewhat understand what to do with this. Make the getters and setters yourself, also, make the cfg file load on startup yourself.

[u][b]Skill class[/b][/u]

[code=java]package server.rs2.players.skills;

import server.rs2.Constants;
import server.rs2.players.Client;

/**
 * Absract class for skills, every skill should extend this class
 * 
 * @author lare96
 */
public abstract class Skill {

	/**
	 * Skills constants and thier respective ids
	 */
	public enum Skills {
		ATTACK(Constants.PLAYER_ATTACK),

		DEFENCE(Constants.PLAYER_DEFENCE),

		STRENGTH(Constants.PLAYER_STRENGTH),

		HITPOINTS(Constants.PLAYER_HITPOINTS),

		RANGED(Constants.PLAYER_RANGED),

		PRAYER(Constants.PLAYER_PRAYER),

		MAGIC(Constants.PLAYER_MAGIC),

		COOKING(Constants.PLAYER_COOKING),

		WOODCUTTING(Constants.PLAYER_WOODCUTTING),

		FLETCHING(Constants.PLAYER_FLETCHING),

		FISHING(Constants.PLAYER_FISHING),

		FIREMAKING(Constants.PLAYER_FIREMAKING),

		CRAFTING(Constants.PLAYER_CRAFTING),

		SMITHING(Constants.PLAYER_SMITHING),

		MINING(Constants.PLAYER_MINING),

		HERBLORE(Constants.PLAYER_HERBLORE),

		AGILITY(Constants.PLAYER_AGILITY),

		THIEVING(Constants.PLAYER_THIEVING),

		SLAYER(Constants.PLAYER_SLAYER),

		FARMING(Constants.PLAYER_FARMING),

		RUNECRAFTING(Constants.PLAYER_RUNECRAFTING);

		private int id;

		Skills(int id) {
			this.id = id;
		}

		public int getId() {
			return id;
		}
	}

	/**
	 * Adds exp to a specificed skill
	 * 
	 * @param skill
	 *            the skill
	 * @param amount
	 *            the amount
	 * @param player
	 *            the player to add for
	 */
	public void exp(Skills skill, int amount, Client player) {
		player.getMethods().addSkillXP(amount, skill.getId());
	}

	/**
	 * Gets the level of a specified skill
	 * 
	 * @param skill
	 *            the skill
	 * @param player
	 *            the player to get the level for
	 * 
	 * @return the level
	 */
	public int getLevel(Skills skill, Client player) {
		return player.playerLevel[skill.getId()];
	}
}
[/code]


[u][b]Requirements class[/b][/u]

[code=java]package server.rs2.players;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

import server.rs2.players.skills.Skill;
import server.util.Misc;

/**
 * Level requirements for wearing equipment, handled in a cfg file
 * 
 * @see ./data/config/requirements.cfg
 * 
 * @author lare96
 */
public class Requirements extends Skill {

	/**
	 * Our player
	 */
	private Client player;

	/**
	 * Defines the player
	 * 
	 * @param p
	 *            the player
	 */
	public Requirements(Client p) {
		this.player = p;
	}

	/**
	 * Constants that represent the different parts of the item name you check
	 * to set a requirement for
	 */
	public enum Name {
		STARTS_WITH, ENDS_WITH, EQUALS
	}

	/**
	 * Fields that make up a requirement for a skill
	 */
	private String name;
	private int level;
	private Skills[] required;
	private Name concat;

	/**
	 * All the requirements from the cfg file loaded into a list
	 */
	public static List&lt;Requirements&gt; requirements = new ArrayList&lt;Requirements&gt;();

	/**
	 * Constructs a requirement
	 * 
	 * @param name
	 *            the name of the equipment
	 * @param level
	 *            the level
	 * @param required
	 *            the skills to make a requirement for
	 */
	public Requirements(String name, int level, Name concat, Skills... required) {
		setName(name);
		setLevel(level);
		setRequired(required);
		setConcat(concat);
	}

	/**
	 * Constructor that loads the item requirements
	 * 
	 * @param i
	 *            nothing lol, just so we aren&#39;t using a no-args constuctor, put
	 *            any integer here, it won&#39;t change anything
	 */
	public Requirements(int i) {
		loadRequirements();
	}

	/**
	 * Checks a requirement
	 */
	public boolean check(int id) {
		/**
		 * Get the name of the item id
		 */
		String itemName2 = player.getMethods().getItemName(id);
		String itemName = itemName2.replaceAll(&quot;_&quot;, &quot; &quot;);

		/**
		 * Loop through all the requirements loaded on startup
		 */
		for (Requirements all : requirements) {
			/**
			 * Gets the requirement according to what part of the name of the
			 * item its checking
			 */
			switch (all.getConcat()) {
			/**
			 * Starts with
			 */
			case STARTS_WITH:
				if (itemName.startsWith(all.getName())) {
					if (player.playerLevel[all.getRequired().getId()] &lt; all
							.getLevel()) {
						player.sendMessage(&quot;You are not a high enough level to equip this item.&quot;);
						player.sendMessage(&quot;You need a &quot;
								+ all.getRequired().name().toLowerCase()
								+ &quot; level of &quot; + all.getLevel() + &quot;.&quot;);
						return false;

					}
					return true;
				}
				break;
			/**
			 * Ends with
			 */
			case ENDS_WITH:
				if (itemName.endsWith(all.getName())) {
					if (player.playerLevel[all.getRequired().getId()] &lt; all
							.getLevel()) {
						player.sendMessage(&quot;You are not a high enough level to equip this item.&quot;);
						player.sendMessage(&quot;You need a &quot;
								+ all.getRequired().name().toLowerCase()
								+ &quot; level of &quot; + all.getLevel() + &quot;.&quot;);
						return false;

					}
					return true;
				}
				break;
			/**
			 * Equals
			 */
			case EQUALS:
				if (itemName.equals(all.getName())) {
					if (player.playerLevel[all.getRequired().getId()] &lt; all
							.getLevel()) {
						player.sendMessage(&quot;You are not a high enough level to equip this item.&quot;);
						player.sendMessage(&quot;You need a &quot;
								+ all.getRequired().name().toLowerCase()
								+ &quot; level of &quot; + all.getLevel() + &quot;.&quot;);
						return false;

					}
					return true;
				}
				break;
			}
		}
		return true;
	}

	/**
	 * Loads the requirements into the &#39;requirements&#39; arraylist, this might soon
	 * be replaced with a primitive array because its faster
	 * 
	 * @return if it can load or not
	 */
	@SuppressWarnings({ &quot;resource&quot;, &quot;unused&quot; })
	public boolean loadRequirements() {
		String line = &quot;&quot;;
		String token = &quot;&quot;;
		String token2 = &quot;&quot;;
		String token2_2 = &quot;&quot;;
		String[] token3 = new String[10];
		boolean EndOfFile = false;
		int ReadMode = 0;
		BufferedReader characterfile = null;
		try {
			characterfile = new BufferedReader(new FileReader(
					&quot;./data/config/requirements.cfg&quot;));
		} catch (FileNotFoundException fileex) {
			Misc.println(&quot;requirements.cfg: file not found.&quot;);
			return false;
		}
		try {
			line = characterfile.readLine();
		} catch (IOException ioexception) {
			Misc.println(&quot;requirements.cfg: error loading file.&quot;);
			return false;
		}
		while ((EndOfFile == false) &amp;&amp; (line != null)) {
			line = line.trim();
			int spot = line.indexOf(&quot;=&quot;);
			if (spot &gt; -1) {
				token = line.substring(0, spot);
				token = token.trim();
				token2 = line.substring(spot + 1);
				token2 = token2.trim();
				token2_2 = token2.replaceAll(&quot;\t\t&quot;, &quot;\t&quot;);
				token2_2 = token2_2.replaceAll(&quot;\t\t&quot;, &quot;\t&quot;);
				token2_2 = token2_2.replaceAll(&quot;\t\t&quot;, &quot;\t&quot;);
				token2_2 = token2_2.replaceAll(&quot;\t\t&quot;, &quot;\t&quot;);
				token2_2 = token2_2.replaceAll(&quot;\t\t&quot;, &quot;\t&quot;);
				token3 = token2_2.split(&quot;\t&quot;);
				if (token.equals(&quot;requirement&quot;)) {
					String name = token3[0];
					int level = Integer.parseInt(token3[1]);
					String concat = token3[2];
					String required = token3[3];
					Name concat2 = null;
					Skills required2 = null;

					for (Name all : Name.values()) {
						if (all.name().equals(concat)) {
							concat2 = all;
						}
					}

					for (Skills all : Skills.values()) {
						if (all.name().equals(required)) {
							required2 = all;
						}
					}

					requirements.add(new Requirements(name, level, concat2,
							required2));
				}
			} else {
				if (line.equals(&quot;[ENDOFREQUIREMENTS]&quot;)) {
					try {
						characterfile.close();
					} catch (IOException ioexception) {
						ioexception.printStackTrace();
					}
					return true;
				}
			}
			try {
				line = characterfile.readLine();
			} catch (IOException ioexception1) {
				ioexception1.printStackTrace();
				EndOfFile = true;
			}
		}
		try {
			characterfile.close();
		} catch (IOException ioexception) {
			ioexception.printStackTrace();
		}
		return false;
	}

	/**
	 * @return the name
	 */
	public String getName() {
		return name;
	}

	/**
	 * @param name
	 *            the name to set
	 */
	public void setName(String name) {
		this.name = name;
	}

	/**
	 * @return the level
	 */
	public int getLevel() {
		return level;
	}

	/**
	 * @param level
	 *            the level to set
	 */
	public void setLevel(int level) {
		this.level = level;
	}

	/**
	 * @return the required
	 */
	public Skills getRequired() {
		for (Skills all : required) {
			return all;
		}
		return null;
	}

	/**
	 * @param required2
	 *            the required to set
	 */
	public void setRequired(Skills[] required) {
		this.required = required;
	}

	/**
	 * @return the concat
	 */
	public Name getConcat() {
		return concat;
	}

	/**
	 * @param concat
	 *            the concat to set
	 */
	public void setConcat(Name concat) {
		this.concat = concat;
	}
}[/code]


[u][b]Wherever you equip items[/b][/u]

[code=java]if(!getRequirements().check(wearId)) {
     return false;
}[/code]


[u][b]CFG File[/b][/u]

[code]// name, level, concat, skill
requirement = whip	70	ENDS_WITH	ATTACK
requirement = Steel	5	STARTS_WITH	ATTACK
requirement = Black	10	STARTS_WITH	ATTACK
requirement = White	10	STARTS_WITH	ATTACK
requirement = Mithril	20	STARTS_WITH	ATTACK
requirement = Adamant	30	STARTS_WITH	ATTACK
requirement = Rune	40	STARTS_WITH	ATTACK
requirement = Dragon	60	STARTS_WITH	ATTACK
requirement = Steel	5	STARTS_WITH	DEFENCE
requirement = Black	10	STARTS_WITH	DEFENCE
requirement = White	10	STARTS_WITH	DEFENCE
requirement = Mithril	20	STARTS_WITH	DEFENCE
requirement = Adamant	30	STARTS_WITH	DEFENCE
requirement = Rune	40	STARTS_WITH	DEFENCE
requirement = Dragon	60	STARTS_WITH	DEFENCE
[ENDOFREQUIREMENTS][/code]

Just so you can get a feel of how to do this ^^

Enjoy</description>
    
    <lastBuildDate>Mon, 13 Jan 2014 05:05:52 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p><a href="http://www.mediafire.com/view/97zsb0mhg1oprom/requirements.cfg" class="onebox" target="_blank" rel="nofollow noopener">http://www.mediafire.com/view/97zsb0mhg1oprom/requirements.cfg</a><br>
^That has the basics. All normal melee armour (steel-dragon), and like 95% of ranged gear. I got lazy.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/16</link>
        <pubDate>Mon, 13 Jan 2014 05:05:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-16</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@strucker Strucker]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/strucker">@strucker</a> wrote:</p>
          <blockquote>
              <p>omg this is so cool :DDDDDDDDDddd</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/15</link>
        <pubDate>Thu, 09 Jan 2014 22:29:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-15</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="13" data-topic="476029">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/holylouis/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> holylouis:</div>
<blockquote>
<p>lol i got a question related to this how do i make it to where you cant enter a place til u reach a certain level of combat</p>
</blockquote>
</aside>
<p>This was more-so made for item requirements, not requirements to enter a building or zone. I doubt you’ll get what you want out of this. It’d be better if you added a separate check either on an object (such as a door or gate) that leads to the zone or check if the player is within X and Y coords and if they have the right stats, if not don’t let them further, if so they can proceed. No, I will not show you how to do it on this topic, as this topic isn’t for your question. Create a help thread on that issue if you’re still stuck.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/14</link>
        <pubDate>Thu, 09 Jan 2014 15:22:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-14</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@holylouis holylouis]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/holylouis">@holylouis</a> wrote:</p>
          <blockquote>
              <p>lol i got a question related to this how do i make it to where you cant enter a place til u reach a certain level of combat</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/13</link>
        <pubDate>Thu, 09 Jan 2014 15:18:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-13</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>damn looking at this a year later it looks like crap</p>
<p>I’ll maybe redo this and re-release it when I have time</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/12</link>
        <pubDate>Thu, 09 Jan 2014 12:22:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-12</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>Because I still find this could be useful to some. Here’s a bump. I’ll either edit this post or make a new one with some item requirements done for you guys. It’ll be a download link because forums turn tabs to spaces.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/11</link>
        <pubDate>Thu, 09 Jan 2014 07:54:10 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-11</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="9" data-topic="476029">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/riipiinftw/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> RiiPiiNFtW:</div>
<blockquote>
<p>Just because array list is a big word, doesn’t mean its good. If you use to load every time you load the server, it uses unneeded memory. Just use an array or loop. As that would make no difference if not improve to this. <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
</blockquote>
</aside>
<p>ehhh I guess its just personal preference</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/10</link>
        <pubDate>Fri, 28 Dec 2012 21:52:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-10</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@RiiPiiNFtW RiiPiiNFtW]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/riipiinftw">@RiiPiiNFtW</a> wrote:</p>
          <blockquote>
              <p>[quote=“Clawz fury, post:8, topic:476029”][quote author=RiiPiiNFtW link=topic=594177.msg4189122#msg4189122 date=1356600530]<br>
Why add to the continuous CFG loading? This just uses more memory.<br>
[/quote]<br>
You’re only loading once. If added correctly, it should load all the data into an arraylist on startup of the server. Since we are using an arraylist rather than a primitive array, we aren’t creating tons of unused indexes. I get what your trying to tell me, but we aren’t taking up enough memory with this to make a significant impact on memory usage.</p>
<p>Thanks for the criticism though dude[/quote]Just because array list is a big word, doesn’t mean its good. If you use to load every time you load the server, it uses unneeded memory. Just use an array or loop. As that would make no difference if not improve to this. <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/9</link>
        <pubDate>Fri, 28 Dec 2012 06:59:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-9</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="6" data-topic="476029">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/riipiinftw/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> RiiPiiNFtW:</div>
<blockquote>
<p>Why add to the continuous CFG loading? This just uses more memory.</p>
</blockquote>
</aside>
<p>You’re only loading once. If added correctly, it should load all the data into an arraylist on startup of the server. Since we are using an arraylist rather than a primitive array, we aren’t creating tons of unused indexes. I get what your trying to tell me, but we aren’t taking up enough memory with this to make a significant impact on memory usage.</p>
<p>Thanks for the criticism though dude</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/8</link>
        <pubDate>Thu, 27 Dec 2012 22:26:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-8</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@strucker Strucker]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/strucker">@strucker</a> wrote:</p>
          <blockquote>
              <p>lare lare lare… good good good.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/7</link>
        <pubDate>Thu, 27 Dec 2012 20:30:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-7</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@RiiPiiNFtW RiiPiiNFtW]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/riipiinftw">@RiiPiiNFtW</a> wrote:</p>
          <blockquote>
              <p>Why add to the continuous CFG loading? This just uses more memory.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/6</link>
        <pubDate>Thu, 27 Dec 2012 09:28:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-6</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@luna-scape luna-scape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/luna-scape">@luna-scape</a> wrote:</p>
          <blockquote>
              <p>Nice release may use</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/5</link>
        <pubDate>Wed, 26 Dec 2012 23:13:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-5</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="3" data-topic="476029">
<div class="title">
<div class="quote-controls"></div>
 Int Bauk:</div>
<blockquote>
<p>oop approach?</p>
</blockquote>
</aside>
<p>yeah</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/4</link>
        <pubDate>Wed, 26 Dec 2012 18:57:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-4</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@Int_Bauk Int Bauk]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/int_bauk">@Int_Bauk</a> wrote:</p>
          <blockquote>
              <p>surely you wouldn’t need an whole enum to call the skill constants. i guess its an oop approach?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/3</link>
        <pubDate>Wed, 26 Dec 2012 18:13:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-3</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>Wow, this is so amazing, someone please hold me.</p>
<p>The amazingness of this is blowing my mind, call 911.</p>
<p>gj Clawz FURY.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/2</link>
        <pubDate>Wed, 26 Dec 2012 04:51:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-2</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
      <item>
        <title>Skill Requirements [Winterlove]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>Edit: fu<span class="bbcode-s"></span>ck, wrong section. My mistake.</p>
<p>I told myself I wouldn’t release this but fuc<span class="bbcode-s"></span>k it.</p>
<p>This is basically a much eaiser way to do skill requirements, the anti-leech is getting it to work for yourself. Plus I don’t feel like explaining shit, and this is a snippet.</p>
<p>Heavily documented so you can somewhat understand what to do with this. Make the getters and setters yourself, also, make the cfg file load on startup yourself.</p>
<p><span class="bbcode-u"><span class="bbcode-b">Skill class</span></span></p>
<p>[code=java]package server.rs2.players.skills;</p>
<p>import server.rs2.Constants;<br>
import server.rs2.players.Client;</p>
<p>/**</p>
<ul>
<li>
<p>Absract class for skills, every skill should extend this class</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> lare96<br>
*/<br>
public abstract class Skill {</p>
<p>/**</p>
<ul>
<li>
<p>Skills constants and thier respective ids<br>
*/<br>
public enum Skills {<br>
ATTACK(Constants.PLAYER_ATTACK),</p>
<p>DEFENCE(Constants.PLAYER_DEFENCE),</p>
<p>STRENGTH(Constants.PLAYER_STRENGTH),</p>
<p>HITPOINTS(Constants.PLAYER_HITPOINTS),</p>
<p>RANGED(Constants.PLAYER_RANGED),</p>
<p>PRAYER(Constants.PLAYER_PRAYER),</p>
<p>MAGIC(Constants.PLAYER_MAGIC),</p>
<p>COOKING(Constants.PLAYER_COOKING),</p>
<p>WOODCUTTING(Constants.PLAYER_WOODCUTTING),</p>
<p>FLETCHING(Constants.PLAYER_FLETCHING),</p>
<p>FISHING(Constants.PLAYER_FISHING),</p>
<p>FIREMAKING(Constants.PLAYER_FIREMAKING),</p>
<p>CRAFTING(Constants.PLAYER_CRAFTING),</p>
<p>SMITHING(Constants.PLAYER_SMITHING),</p>
<p>MINING(Constants.PLAYER_MINING),</p>
<p>HERBLORE(Constants.PLAYER_HERBLORE),</p>
<p>AGILITY(Constants.PLAYER_AGILITY),</p>
<p>THIEVING(Constants.PLAYER_THIEVING),</p>
<p>SLAYER(Constants.PLAYER_SLAYER),</p>
<p>FARMING(Constants.PLAYER_FARMING),</p>
<p>RUNECRAFTING(Constants.PLAYER_RUNECRAFTING);</p>
<p>private int id;</p>
<p>Skills(int id) {<br>
this.id = id;<br>
}</p>
<p>public int getId() {<br>
return id;<br>
}<br>
}</p>
</li>
</ul>
<p>/**</p>
<ul>
<li>Adds exp to a specificed skill</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> skill</li>
<li>
<pre><code>       the skill
</code></pre>
</li>
<li>
<a class="mention" href="/u/param">@param</a> amount</li>
<li>
<pre><code>       the amount
</code></pre>
</li>
<li>
<a class="mention" href="/u/param">@param</a> player</li>
<li>
<pre><code>       the player to add for
</code></pre>
</li>
</ul>
<p>*/<br>
public void exp(Skills skill, int amount, Client player) {<br>
player.getMethods().addSkillXP(amount, skill.getId());<br>
}</p>
<p>/**</p>
<ul>
<li>Gets the level of a specified skill</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> skill</li>
<li>
<pre><code>       the skill
</code></pre>
</li>
<li>
<a class="mention" href="/u/param">@param</a> player</li>
<li>
<pre><code>       the player to get the level for
</code></pre>
</li>
<li>
</li>
<li>
<a class="mention" href="/u/return">@return</a> the level<br>
*/<br>
public int getLevel(Skills skill, Client player) {<br>
return player.playerLevel[skill.getId()];<br>
}<br>
}<br>
[/code]</li>
</ul>
</li>
</ul>
<p><span class="bbcode-u"><span class="bbcode-b">Requirements class</span></span></p>
<p>[code=java]package server.rs2.players;</p>
<p>import java.io.BufferedReader;<br>
import java.io.FileNotFoundException;<br>
import java.io.FileReader;<br>
import java.io.IOException;<br>
import java.util.ArrayList;<br>
import java.util.List;</p>
<p>import server.rs2.players.skills.Skill;<br>
import server.util.Misc;</p>
<p>/**</p>
<ul>
<li>
<p>Level requirements for wearing equipment, handled in a cfg file</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@see</span> ./data/config/requirements.cfg</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> lare96<br>
*/<br>
public class Requirements extends Skill {</p>
<p>/**</p>
<ul>
<li>Our player<br>
*/<br>
private Client player;</li>
</ul>
<p>/**</p>
<ul>
<li>Defines the player</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> p</li>
<li>
<pre><code>       the player
</code></pre>
</li>
</ul>
<p>*/<br>
public Requirements(Client p) {<br>
this.player = p;<br>
}</p>
<p>/**</p>
<ul>
<li>Constants that represent the different parts of the item name you check</li>
<li>to set a requirement for<br>
*/<br>
public enum Name {<br>
STARTS_WITH, ENDS_WITH, EQUALS<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Fields that make up a requirement for a skill<br>
*/<br>
private String name;<br>
private int level;<br>
private Skills[] required;<br>
private Name concat;</li>
</ul>
<p>/**</p>
<ul>
<li>All the requirements from the cfg file loaded into a list<br>
*/<br>
public static List requirements = new ArrayList();</li>
</ul>
<p>/**</p>
<ul>
<li>Constructs a requirement</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> name</li>
<li>
<pre><code>       the name of the equipment
</code></pre>
</li>
<li>
<a class="mention" href="/u/param">@param</a> level</li>
<li>
<pre><code>       the level
</code></pre>
</li>
<li>
<a class="mention" href="/u/param">@param</a> required</li>
<li>
<pre><code>       the skills to make a requirement for
</code></pre>
</li>
</ul>
<p>*/<br>
public Requirements(String name, int level, Name concat, Skills… required) {<br>
setName(name);<br>
setLevel(level);<br>
setRequired(required);<br>
setConcat(concat);<br>
}</p>
<p>/**</p>
<ul>
<li>Constructor that loads the item requirements</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> i</li>
<li>
<pre><code>       nothing lol, just so we aren't using a no-args constuctor, put
</code></pre>
</li>
<li>
<pre><code>       any integer here, it won't change anything
</code></pre>
</li>
</ul>
<p>*/<br>
public Requirements(int i) {<br>
loadRequirements();<br>
}</p>
<p>/**</p>
<ul>
<li>
<p>Checks a requirement<br>
<em>/<br>
public boolean check(int id) {<br>
/</em>*</p>
<ul>
<li>Get the name of the item id<br>
*/<br>
String itemName2 = player.getMethods().getItemName(id);<br>
String itemName = itemName2.replaceAll("_", " ");</li>
</ul>
<p>/**</p>
<ul>
<li>Loop through all the requirements loaded on startup<br>
<em>/<br>
for (Requirements all : requirements) {<br>
/</em>*
<ul>
<li>
<p>Gets the requirement according to what part of the name of the</p>
</li>
<li>
<p>item its checking<br>
<em>/<br>
switch (all.getConcat()) {<br>
/</em>*</p>
</li>
<li>
<p>Starts with<br>
*/<br>
case STARTS_WITH:<br>
if (itemName.startsWith(all.getName())) {<br>
if (player.playerLevel[all.getRequired().getId()] &lt; all<br>
.getLevel()) {<br>
player.sendMessage(“You are not a high enough level to equip this item.”);<br>
player.sendMessage("You need a "<br>
+ all.getRequired().name().toLowerCase()<br>
+ " level of " + all.getLevel() + “.”);<br>
return false;</p>
<pre><code> }
 return true;
</code></pre>
<p>}<br>
break;<br>
/**</p>
</li>
<li>
<p>Ends with<br>
*/<br>
case ENDS_WITH:<br>
if (itemName.endsWith(all.getName())) {<br>
if (player.playerLevel[all.getRequired().getId()] &lt; all<br>
.getLevel()) {<br>
player.sendMessage(“You are not a high enough level to equip this item.”);<br>
player.sendMessage("You need a "<br>
+ all.getRequired().name().toLowerCase()<br>
+ " level of " + all.getLevel() + “.”);<br>
return false;</p>
<pre><code> }
 return true;
</code></pre>
<p>}<br>
break;<br>
/**</p>
</li>
<li>
<p>Equals<br>
*/<br>
case EQUALS:<br>
if (itemName.equals(all.getName())) {<br>
if (player.playerLevel[all.getRequired().getId()] &lt; all<br>
.getLevel()) {<br>
player.sendMessage(“You are not a high enough level to equip this item.”);<br>
player.sendMessage("You need a "<br>
+ all.getRequired().name().toLowerCase()<br>
+ " level of " + all.getLevel() + “.”);<br>
return false;</p>
<pre><code> }
 return true;
</code></pre>
<p>}<br>
break;<br>
}<br>
}<br>
return true;<br>
}</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>/**</p>
<ul>
<li>
<p>Loads the requirements into the ‘requirements’ arraylist, this might soon</p>
</li>
<li>
<p>be replaced with a primitive array because its faster</p>
</li>
<li>
</li>
<li>
<p><a class="mention" href="/u/return">@return</a> if it can load or not<br>
*/<br>
<span class="mention">@SuppressWarnings</span>({ “resource”, “unused” })<br>
public boolean loadRequirements() {<br>
String line = “”;<br>
String token = “”;<br>
String token2 = “”;<br>
String token2_2 = “”;<br>
String[] token3 = new String[10];<br>
boolean EndOfFile = false;<br>
int ReadMode = 0;<br>
BufferedReader characterfile = null;<br>
try {<br>
characterfile = new BufferedReader(new FileReader(<br>
“./data/config/requirements.cfg”));<br>
} catch (FileNotFoundException fileex) {<br>
Misc.println(“requirements.cfg: file not found.”);<br>
return false;<br>
}<br>
try {<br>
line = characterfile.readLine();<br>
} catch (IOException ioexception) {<br>
Misc.println(“requirements.cfg: error loading file.”);<br>
return false;<br>
}<br>
while ((EndOfFile == false) &amp;&amp; (line != null)) {<br>
line = line.trim();<br>
int spot = line.indexOf("=");<br>
if (spot &gt; -1) {<br>
token = line.substring(0, spot);<br>
token = token.trim();<br>
token2 = line.substring(spot + 1);<br>
token2 = token2.trim();<br>
token2_2 = token2.replaceAll("\t\t", “\t”);<br>
token2_2 = token2_2.replaceAll("\t\t", “\t”);<br>
token2_2 = token2_2.replaceAll("\t\t", “\t”);<br>
token2_2 = token2_2.replaceAll("\t\t", “\t”);<br>
token2_2 = token2_2.replaceAll("\t\t", “\t”);<br>
token3 = token2_2.split("\t");<br>
if (token.equals(“requirement”)) {<br>
String name = token3[0];<br>
int level = Integer.parseInt(token3[1]);<br>
String concat = token3[2];<br>
String required = token3[3];<br>
Name concat2 = null;<br>
Skills required2 = null;</p>
<pre><code> 		for (Name all : Name.values()) {
 			if (all.name().equals(concat)) {
 				concat2 = all;
 			}
 		}

 		for (Skills all : Skills.values()) {
 			if (all.name().equals(required)) {
 				required2 = all;
 			}
 		}

 		requirements.add(new Requirements(name, level, concat2,
 				required2));
 	}
 } else {
 	if (line.equals("[ENDOFREQUIREMENTS]")) {
 		try {
 			characterfile.close();
 		} catch (IOException ioexception) {
 			ioexception.printStackTrace();
 		}
 		return true;
 	}
 }
 try {
 	line = characterfile.readLine();
 } catch (IOException ioexception1) {
 	ioexception1.printStackTrace();
 	EndOfFile = true;
 }
</code></pre>
<p>}<br>
try {<br>
characterfile.close();<br>
} catch (IOException ioexception) {<br>
ioexception.printStackTrace();<br>
}<br>
return false;<br>
}</p>
</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/return">@return</a> the name<br>
*/<br>
public String getName() {<br>
return name;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> name</li>
<li>
<pre><code>       the name to set
</code></pre>
</li>
</ul>
<p>*/<br>
public void setName(String name) {<br>
this.name = name;<br>
}</p>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/return">@return</a> the level<br>
*/<br>
public int getLevel() {<br>
return level;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> level</li>
<li>
<pre><code>       the level to set
</code></pre>
</li>
</ul>
<p>*/<br>
public void setLevel(int level) {<br>
this.level = level;<br>
}</p>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/return">@return</a> the required<br>
*/<br>
public Skills getRequired() {<br>
for (Skills all : required) {<br>
return all;<br>
}<br>
return null;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> required2</li>
<li>
<pre><code>       the required to set
</code></pre>
</li>
</ul>
<p>*/<br>
public void setRequired(Skills[] required) {<br>
this.required = required;<br>
}</p>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/return">@return</a> the concat<br>
*/<br>
public Name getConcat() {<br>
return concat;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> concat</li>
<li>
<pre><code>       the concat to set
</code></pre>
</li>
</ul>
<p>*/<br>
public void setConcat(Name concat) {<br>
this.concat = concat;<br>
}<br>
}[/code]</p>
</li>
</ul>
<p><span class="bbcode-u"><span class="bbcode-b">Wherever you equip items</span></span></p>
<p><code>if(!getRequirements().check(wearId)) {
     return false;
}</code></p>
<p><span class="bbcode-u"><span class="bbcode-b">CFG File</span></span></p>
<p><code>// name, level, concat, skill
requirement = whip	70	ENDS_WITH	ATTACK
requirement = Steel	5	STARTS_WITH	ATTACK
requirement = Black	10	STARTS_WITH	ATTACK
requirement = White	10	STARTS_WITH	ATTACK
requirement = Mithril	20	STARTS_WITH	ATTACK
requirement = Adamant	30	STARTS_WITH	ATTACK
requirement = Rune	40	STARTS_WITH	ATTACK
requirement = Dragon	60	STARTS_WITH	ATTACK
requirement = Steel	5	STARTS_WITH	DEFENCE
requirement = Black	10	STARTS_WITH	DEFENCE
requirement = White	10	STARTS_WITH	DEFENCE
requirement = Mithril	20	STARTS_WITH	DEFENCE
requirement = Adamant	30	STARTS_WITH	DEFENCE
requirement = Rune	40	STARTS_WITH	DEFENCE
requirement = Dragon	60	STARTS_WITH	DEFENCE
[ENDOFREQUIREMENTS]</code></p>
<p>Just so you can get a feel of how to do this ^^</p>
<p>Enjoy</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029/1</link>
        <pubDate>Wed, 26 Dec 2012 04:44:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-476029-1</guid>
        <source url="https://forum.moparisthebest.com/t/skill-requirements-winterlove/476029.rss">Skill Requirements [Winterlove]</source>
      </item>
  </channel>
</rss>
