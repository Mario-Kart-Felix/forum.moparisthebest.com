<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/jshrink-string-obfuscation/311693 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 09:04:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Jshrink string obfuscation - General Programming - moparisthebest.com</title>
    <meta name="description" content="jshrink is a commercial obfuscator that does little more than &amp;#39;optimizing&amp;#39; the constant pool by renaming methods and fields to random utf8s in the constant pool, as well as naming classes annoying things like A, Z, K, or&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="311693.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Jshrink string obfuscation&#39;" href="311693.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/jshrink-string-obfuscation/311693" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/jshrink-string-obfuscation/311693" />
<meta property="og:title" content="Jshrink string obfuscation" />
<meta name="twitter:title" content="Jshrink string obfuscation" />
<meta property="og:description" content="jshrink is a commercial obfuscator that does little more than ‘optimizing’ the constant pool by renaming methods and fields to random utf8s in the constant pool, as well as naming classes annoying things like A, Z, K, or D. it also employs a poor attempt at hiding strings by pooling all strings of all classes and dumping them into a single ‘image’ file, I.gif. it is always under the directory I in the obfuscated jar archive, and is accompanied by an I.class. inside I.class, it has a static initi..." />
<meta name="twitter:description" content="jshrink is a commercial obfuscator that does little more than ‘optimizing’ the constant pool by renaming methods and fields to random utf8s in the constant pool, as well as naming classes annoying things like A, Z, K, or D. it also employs a poor attempt at hiding strings by pooling all strings of all classes and dumping them into a single ‘image’ file, I.gif. it is always under the directory I in the obfuscated jar archive, and is accompanied by an I.class. inside I.class, it has a static initi..." />
<meta property="article:published_time" content="2009-10-31T19:27:29+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="311693.html">Jshrink string obfuscation</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-10-31T19:27:29Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:12:54Z' class='post-time'>
              July 31, 2016, 12:12pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>jshrink is a commercial obfuscator that does little more than ‘optimizing’ the constant pool by renaming methods and fields to random utf8s in the constant pool, as well as naming classes annoying things like A, Z, K, or D. it also employs a poor attempt at hiding strings by pooling all strings of all classes and dumping them into a single ‘image’ file, I.gif. it is always under the directory I in the obfuscated jar archive, and is accompanied by an I.class. inside I.class, it has a static initializer that decrypts the file and stores the decrypted file buffer in a static byte array, a static method I that takes an int which represents an offset into the buffer, the string cache (static String array), and the cached offset array (static boolean array). it replaces all ldc’s for Strings with things of the pattern:</p>
<p><code>pushint &lt;offset&gt;
invokestatic I/I/I(I)Ljava/lang/String;</code><br>
where pushint is bipush|sipush|iconst<br>
the decryption routine is simple; the first three bytes of I.gif form a 24-bit integer which is length of the rest of the data, or the <span class="bbcode-b">data size</span>. casting it to a byte will result in the <span class="bbcode-b">decryption key</span>. for the next <span class="bbcode-i">data size</span> # of bytes in the file, they are xor’d with <span class="bbcode-i">decryption key</span> and stored inside the decrypted file buffer array.<br>
the static method I is the code that extracts a string. the argument is an offset into the file buffer where a single pool entry will begin. pool entries are of the structure:</p>
<p><code>pool_entry { unsigned byte str_len; byte str[str_len]; }</code> it reads the string str, caches it and sets that offset as cached in the cached offset array. it also intern()'s it, so that it joins the internal string pool.<br>
if the offset is negative, it is bitwise and’d with 0xffff.<br>
so, how to remove it? simple, find the pattern from earlier, and replace the instructions with a single ldc, which will load the newly-added-to-constant-pool string we received from our OWN call to I.I.I(). ps if you’re wondering, this is what that ‘gabuuz’ guy was trying to figure out, as well as what bash was referring to in k00dr’s allatori string encryption thread.</p>
      </div>

      <meta itemprop='headline' content='Jshrink string obfuscation'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-01T00:42:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:13:10Z' class='post-time'>
              July 31, 2016, 12:13pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>any idiot with half a brain can figure this out</p>
      </div>

      <meta itemprop='headline' content='Jshrink string obfuscation'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Speljohan.html'><span itemprop='name'>Speljohan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-01T00:43:08Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:13:10Z' class='post-time'>
              July 31, 2016, 12:13pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="2" data-topic="311693">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/abraham2119/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> abraham2119:</div>
<blockquote>
<p>any idiot with half a brain can figure this out</p>
</blockquote>
</aside>
<p>Not you then</p>
      </div>

      <meta itemprop='headline' content='Jshrink string obfuscation'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-01T00:45:18Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:13:10Z' class='post-time'>
              July 31, 2016, 12:13pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>guess again</p>
      </div>

      <meta itemprop='headline' content='Jshrink string obfuscation'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-01T01:21:53Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:13:12Z' class='post-time'>
              July 31, 2016, 12:13pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Most of the string deobbing algorithms are self enclosed and stateless. Identify the methods that deob the strings and execute them. What ever they spit out you hardcode.</p>
      </div>

      <meta itemprop='headline' content='Jshrink string obfuscation'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/jshrink-string-obfuscation/311693 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 09:04:54 GMT -->
</html>
