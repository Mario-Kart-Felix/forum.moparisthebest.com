<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/gauge-image-in-php/317852 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 08:29:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Gauge image in PHP - General Programming - moparisthebest.com</title>
    <meta name="description" content="I&amp;#39;m making a script which shows a gauge and rotates an arrow depending on a value. So far I&amp;#39;ve managed to position the arrow relative to the gauge background manually, but to put real values into this and make the script&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="317852.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Gauge image in PHP&#39;" href="317852.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://i50.tinypic.com/34gmvb5.png" />
<meta property="og:image" content="http://i50.tinypic.com/34gmvb5.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/gauge-image-in-php/317852" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/gauge-image-in-php/317852" />
<meta property="og:title" content="Gauge image in PHP" />
<meta name="twitter:title" content="Gauge image in PHP" />
<meta property="og:description" content="I’m making a script which shows a gauge and rotates an arrow depending on a value. So far I’ve managed to position the arrow relative to the gauge background manually, but to put real values into this and make the script position the arrow automatically it needs to do some calculations.  I couldn’t begin to imagine the method of calculating the position of the arrow depending on rotation angle, so I positioned each arrow manually by trial and error at incremental 10 degree rotations from westbou..." />
<meta name="twitter:description" content="I’m making a script which shows a gauge and rotates an arrow depending on a value. So far I’ve managed to position the arrow relative to the gauge background manually, but to put real values into this and make the script position the arrow automatically it needs to do some calculations.  I couldn’t begin to imagine the method of calculating the position of the arrow depending on rotation angle, so I positioned each arrow manually by trial and error at incremental 10 degree rotations from westbou..." />
<meta property="article:published_time" content="2009-12-05T22:07:31+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="317852.html">Gauge image in PHP</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/inertia.html'><span itemprop='name'>inertia</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-05T22:07:31Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:56:52Z' class='post-time'>
              July 31, 2016, 12:56pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m making a script which shows a gauge and rotates an arrow depending on a value. So far I’ve managed to position the arrow relative to the gauge background manually, but to put real values into this and make the script position the arrow automatically it needs to do some calculations.</p>
<p>I couldn’t begin to imagine the method of calculating the position of the arrow depending on rotation angle, so I positioned each arrow manually by trial and error at incremental 10 degree rotations from westbound to northbound to eastbound. This is the image it produced:<br>
<img src="http://i50.tinypic.com/34gmvb5.png" alt width="148" height="148"></p>
<p>With just one arrow it looks like this: (just to put the previous image into better context)<br>
<img src="http://i47.tinypic.com/dyoll2.png" alt width="148" height="148"></p>
<p>I was going to see if I could spot a pattern in the arrow coordinates and apply an equation, but I can’t work it out. It’s probably some nasty maths with sin,cos, radians etc…</p>
<p>Here’s the code:</p>
<pre><code class="lang-auto">&lt;?php

  header('content-type: image/png');

  $pointer_w = imagecreatefrompng('arrow-w.png');
  imagealphablending($pointer_w, false);
  imagesavealpha($pointer_w, true);
  $bg = imagecolorallocatealpha($pointer_w, 0, 0, 0, 127);

  // Create background panel
  $panel = imagecreatefrompng('panel.png');
  imagealphablending($panel, false);
  imagesavealpha($panel, true);


  $coordXtable = array(0 =&gt; 13,
                       10 =&gt; 12,
                       20 =&gt; 13,
                       30 =&gt; 16,
                       40 =&gt; 20,
                       50 =&gt; 27,
                       60 =&gt; 35,
                       70 =&gt; 44,
                       80 =&gt; 54,
                       90 =&gt; 64,
                       100 =&gt; 58,
                       110 =&gt; 53,
                       120 =&gt; 49,
                       130 =&gt; 46,
                       140 =&gt; 43,
                       150 =&gt; 41,
                       160 =&gt; 40,
                       170 =&gt; 40,
                       180 =&gt; 41);

  $coordYtable = array(0 =&gt; 64,
                       10 =&gt; 53,
                       20 =&gt; 43,
                       30 =&gt; 34,
                       40 =&gt; 26,
                       50 =&gt; 20,
                       60 =&gt; 15,
                       70 =&gt; 12,
                       80 =&gt; 12,
                       90 =&gt; 12,
                       100 =&gt; 12,
                       110 =&gt; 12,
                       120 =&gt; 15,
                       130 =&gt; 20,
                       140 =&gt; 26,
                       150 =&gt; 34,
                       160 =&gt; 43,
                       170 =&gt; 53,
                       180 =&gt; 64);

  for($theta = 0; $theta &lt;= 180; $theta += 10) {
    displayArrow($theta, $coordXtable[$theta], $coordYtable[$theta]);
  }

  // Output image
  imagepng($panel);
  imagedestroy($panel);

function displayArrow($theta, $x, $y) {
  global $panel, $bg, $pointer_w;

  $pointer = imagerotate($pointer_w, -$theta, $bg);
  imagecolortransparent($pointer, $bg);
  $pointer_SX = imagesx($pointer);
  $pointer_SY = imagesy($pointer);
  imagecopymerge_alpha($panel, $pointer, $x, $y, 0, 0, $pointer_SX, $pointer_SY, 100);

}

function imagecopymerge_alpha($dst_im, $src_im, $dst_x, $dst_y, $src_x, $src_y, $src_w, $src_h, $pct) {
  $opacity = $pct;
  $w = imagesx($src_im);
  $h = imagesy($src_im);
  $cut = imagecreatetruecolor($src_w, $src_h);
  imagecopy($cut, $dst_im, 0, 0, $dst_x, $dst_y, $src_w, $src_h);
  imagecopy($cut, $src_im, 0, 0, $src_x, $src_y, $src_w, $src_h);
  imagecopymerge($dst_im, $cut, $dst_x, $dst_y, $src_x, $src_y, $src_w, $src_h, $opacity);
}
?&gt;</code></pre>
<p>To reiterate, I don’t want a massive code with every possible angle hard-coded, I want to calculate the position of the arrow depending on rotation angle. This code was supposed to help me work out how to do this, but I still can’t see the light.</p>
<p>Edit: I’ve graphed this data on multiple levels, noticed trends, found gradients and y-intercepts etc and applied sin,tan,cos and radian functions to it but I just can’t make sense of this. How hard can it be to relate three numbers… I’m so shit at maths.</p>
<p>Edit2: Made the code a lot easier to understand, but the problem still remains. Can anybody see a pattern in the coordinates so they can be calculated for any value instead of being looked up from a table.</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lawl.html'><span itemprop='name'>lawl</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-06T00:58:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:57:08Z' class='post-time'>
              July 31, 2016, 12:57pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>if ur using a rotate function, whats the problem?</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-06T03:46:34Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:57:20Z' class='post-time'>
              July 31, 2016, 12:57pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>you are over-complicating it</p>
<p>all you need is have the base of the clock as one image and the transparent arrow as another. then, calculate the distance (in pixels - rotation wise) from a specific minute to 5 minutes after that (ie from 12 to 1), and then divide by 5. rotate the arrow clockwise depending on these calculations and multiply the current time in minutes by the distance between each minute</p>
<p>edit: the base clock image you provided is not accurate at all, because the distance between the 12 and 1 is the same (or very similar) to the distance between the 1 and the 3. in an accurate clock image, the distance between every 15 minutes (ie between 12 and 3) is a 90° angle, which means that for every minute there is a 6° clockwise increment in the arrow’s angle (90 / 15)</p>
<p>so what you’d do to calculate the minute-arrow’s position would be, assuming the original minute-arrow-image is completely vertical, you would rotate the current time in minutes multiplied by 6° and rotate the image clockwise by the product of that calculation</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/inertia.html'><span itemprop='name'>inertia</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-06T09:43:38Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:57:41Z' class='post-time'>
              July 31, 2016, 12:57pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>abraham, it’s a gauge not a clock and when complete will use an arbitrary scale. When I rotate the arrow, it doesn’t rotate about it’s pivot and the dimensions change. The calculation to position the arrow depending on the value will be the easy bit, first of all I need to find out how to position it at all.</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/TabbyKiller.html'><span itemprop='name'>TabbyKiller</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-06T09:50:38Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:57:41Z' class='post-time'>
              July 31, 2016, 12:57pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You can do this easier in Pivot rather than what your doing now 0.o</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/inertia.html'><span itemprop='name'>inertia</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-06T09:57:38Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:57:42Z' class='post-time'>
              July 31, 2016, 12:57pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="5" data-topic="317852">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/tabbykiller/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> TabbyKiller:</div>
<blockquote>
<p>You can do this easier in Pivot rather than what your doing now 0.o</p>
</blockquote>
</aside>
<p>Is this pivot? <a href="http://www.pivotlog.net/" rel="nofollow noopener">http://www.pivotlog.net/</a></p>
<blockquote>Pivot is a tool to create weblogs, without the need of a database. Pivot is easy to setup, easy to maintain and even easier to work with. All data is stored using flat files. MySQL or other databases are not required, just plain PHP.</blockquote>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cumescape.html'><span itemprop='name'>cumescape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-06T10:58:25Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:57:43Z' class='post-time'>
              July 31, 2016, 12:57pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>As a reference to the top of your post; "Web Design - Talk about web design, php, html, mysql, css etc, and post your code samples. "</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/inertia.html'><span itemprop='name'>inertia</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-06T11:06:14Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:57:44Z' class='post-time'>
              July 31, 2016, 12:57pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok I’m sorry.</p>
<p>I’ve decided to calculate the intermediate values by working out an average of the two tabled values. It’s not very accurate, but it’s good enough for what I need.</p>
<pre><code class="lang-auto">  for($theta = 0; $theta &lt;= 180; $theta += 2) {
    // Not a multiple of 10
    if($theta % 10 != 0) {
      $lowRange = intval(substr($theta, 0, strlen($theta)-1))*10;
      $highRange = $lowRange+10;
      $intermediateX = round(($coordXtable[$lowRange]+$coordXtable[$highRange])/2, 0);
      $intermediateY = round(($coordYtable[$lowRange]+$coordYtable[$highRange])/2, 0);
      //echo $theta.':X = '.$intermediateX.'&lt;br /&gt;';
      //echo $theta.':Y = '.$intermediateY.'&lt;br /&gt;';
      displayArrow($theta, $intermediateX, $intermediateY);
    } else {
      displayArrow($theta, $coordXtable[$theta], $coordYtable[$theta]);
    }
  }</code></pre>
<p>If anyone has a better method, feel free to post it.</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/TabbyKiller.html'><span itemprop='name'>TabbyKiller</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-06T11:31:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:57:45Z' class='post-time'>
              July 31, 2016, 12:57pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Are you trying to make a clock?</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/inertia.html'><span itemprop='name'>inertia</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-06T11:41:52Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:57:46Z' class='post-time'>
              July 31, 2016, 12:57pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>No a gauge, I swear I said that twice lol. I’ve yet to finalise the background and put units on this, but I’m getting the pointer working first.</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-06T16:09:30Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:58:00Z' class='post-time'>
              July 31, 2016, 12:58pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a href="http://www.gamedev.net/community/forums/topic.asp?topic_id=417217&amp;whichpage=1&amp;#2778997" data-bbcode="true" rel="nofollow noopener">http://www.gamedev.net/community/forums/topic.asp?topic_id=417217&amp;whichpage=1&amp;#2778997</a></p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-08T17:33:30Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:00:57Z' class='post-time'>
              July 31, 2016,  1:00pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What you need to do is write your code where you rotate around the actual ‘pin’ on the needle.  Then you just rotate it a certain number of degrees and you are done.</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/inertia.html'><span itemprop='name'>inertia</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-08T17:47:01Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:00:57Z' class='post-time'>
              July 31, 2016,  1:00pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="12" data-topic="317852">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/moparisthebest/40/30_1.png" class="avatar"> Moparisthebest:</div>
<blockquote>
<p>What you need to do is write your code where you rotate around the actual ‘pin’ on the needle.  Then you just rotate it a certain number of degrees and you are done.</p>
</blockquote>
</aside>
<p>Yeah I think the topic cp linked to is trying to explain how to do that, but I can’t understand it so I don’t want to waste peoples time just because I’m a moron.</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-08T22:12:25Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:01:11Z' class='post-time'>
              July 31, 2016,  1:01pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>inertia, simply have the ‘needle’ as one image and the gauge as another and just rotate the entire ‘needle’ image</p>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/inertia.html'><span itemprop='name'>inertia</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-09T16:01:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:01:53Z' class='post-time'>
              July 31, 2016,  1:01pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="14" data-topic="317852">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/abraham2119/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"> abraham2119:</div>
<blockquote>
<p>inertia, simply have the ‘needle’ as one image and the gauge as another and just rotate the entire ‘needle’ image</p>
</blockquote>
</aside>
<p>I’m not sure what coordinates the needle rotates around, but it’s definitely not the pin of the needle so this is why it doesn’t show in the correct position.</p>
<p>Edit: Wait I see now - you mean make the needle and gauge the same sized image, then the axis will be in the middle for both. I’ll have a go![br][br][size=1]Posted on: December 09, 2009, 10:01:22 am[/size][hr]No it doesn’t work <img src="../../images/emoji/twitter/frowningc164.png?v=9" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>It works for angles 0, 90, 180 but nothing in between - I guess this is because when the image is rotated to an intermediate angle the needle image canvas size must increase to allow the increased width and height to fit into a square box, and for whatever reason this box must always have only vertical and horizontal sides?[br][br][size=1]Posted on: December 09, 2009, 11:27:34 am[/size][hr]Ok I’ve collected some data and plotted a graph. How do I find the equation of the graph (or whatever I need) to be able to produce a displacement for any angle?</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i49.tinypic.com/15co6yt.png" title="15co6yt.png" rel="nofollow noopener"><img src="http://i49.tinypic.com/15co6yt.png" alt width="690" height="409"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">15co6yt.png</span><span class="informations">893×530</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div>[br][br][size=1]Posted on: December 09, 2009, 04:20:31 pm[/size][hr]I did it yay go fucking me <img src="../../images/emoji/twitter/smileyc164.png?v=9" title=":smiley:" class="emoji" alt=":smiley:"></p>
<pre><code class="lang-auto">  $calcTheta = $theta &gt; 90 ? 180 - $theta : $theta;
  $position = $calcTheta*((-0.015*$calcTheta)+1.35);
  locateArrow($theta, -$position, -$position);</code></pre>
      </div>

      <meta itemprop='headline' content='Gauge image in PHP'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/gauge-image-in-php/317852 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 08:29:56 GMT -->
</html>
