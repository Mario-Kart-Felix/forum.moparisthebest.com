<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-safety-deposit-box-that-stores-10-items-still-need-help-now/554681 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PI] Safety Deposit Box That Stores 10 Items (still need help now) - Runescape - moparisthebest.com</title>
    <meta name="description" content="Okay I switched it to an array and supposedly the item is storing because I used a system.out print code and it works. But the only problem is, it&amp;#39;s not appearing in my safety deposit box. 

Player.java  

 public int[] &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="554681.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PI] Safety Deposit Box That Stores 10 Items (still need help now)&#39;" href="554681.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-safety-deposit-box-that-stores-10-items-still-need-help-now/554681" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-safety-deposit-box-that-stores-10-items-still-need-help-now/554681" />
<meta property="og:title" content="[PI] Safety Deposit Box That Stores 10 Items (still need help now)" />
<meta name="twitter:title" content="[PI] Safety Deposit Box That Stores 10 Items (still need help now)" />
<meta property="og:description" content="Okay I switched it to an array and supposedly the item is storing because I used a system.out print code and it works. But the only problem is, it’s not appearing in my safety deposit box.  Player.java   ItemOnObject method  case 11747://safetydeposit 	        c.getItems().deleteItem2(itemId, 1);             for (int i = 0; i &lt; 10; i++) {             c.sendMessage(&quot;You have stored 1x  &lt;col=ff0000&gt;&quot; + server.model.items.Item.getItemName(itemId) +&quot; into your Safety deposit box.&quot;);             c.sa..." />
<meta name="twitter:description" content="Okay I switched it to an array and supposedly the item is storing because I used a system.out print code and it works. But the only problem is, it’s not appearing in my safety deposit box.  Player.java   ItemOnObject method  case 11747://safetydeposit 	        c.getItems().deleteItem2(itemId, 1);             for (int i = 0; i &lt; 10; i++) {             c.sendMessage(&quot;You have stored 1x  &lt;col=ff0000&gt;&quot; + server.model.items.Item.getItemName(itemId) +&quot; into your Safety deposit box.&quot;);             c.sa..." />
<meta property="article:published_time" content="2016-02-09T02:36:47+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="554681.html">[PI] Safety Deposit Box That Stores 10 Items (still need help now)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joeyscape.html'><span itemprop='name'>joeyscape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-09T02:36:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:49:59Z' class='post-time'>
              August 4, 2016,  5:49pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Okay I switched it to an array and supposedly the item is storing because I used a system.out print code and it works. But the only problem is, it’s not appearing in my safety deposit box.</p>
<p>Player.java</p>
<pre><code class="lang-auto"></code></pre>
<p>ItemOnObject method</p>
<p><code>case 11747://safetydeposit
	        c.getItems().deleteItem2(itemId, 1);
            for (int i = 0; i &lt; 10; i++) {
            c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
            c.safetyItems[i] =+ 1;
            System.out.println("Item stored");
            }
            if (c.safetyItems.length &gt; 9) {
    		c.sendMessage("&lt;col=ff0000&gt;Your Safety deposit box is full. You can only store up to 10 items.");
    	    return;
            }
            break;</code></p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Roar337.html'><span itemprop='name'>Roar337</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-09T17:31:55Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:02Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Haha interesting idea i thought about doing something similar to this myself for another reason entirely but anyways its was a good idea to try and mimic the bank code why don’t you tell me exactly what went wrong when you did this?</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-09T19:11:24Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:02Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="1" data-topic="554681">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/joeyscape/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> joeyscape:</div>
<blockquote>
<p>Hi, I want to make a safety deposit box for my deadman mode server where it stores 10 items max including stackables that adds towards that 10 item limit as well. How I would add this? I tried using the bank coding to use as a base but I still couldn’t seem to figure it out. Help is appreciate, thanks. Also I’m trying to replace the deposit box with a safety deposit box.</p>
</blockquote>
</aside>
<p>They have a “deposit” interface for the bank deposit box. Make use of it.<br>
It also has an model container for the items you want to use.</p>
<p>Here’s what you do (This is a generic step by step, it assumes you know what you’re doing code-wise):</p>
<ol>
<li>Rename the Deposit box to “safety deposit box” or whatever (Client sided. ObjectDefs)</li>
<li>When a player clicks the object. Send interface 4655 (The deposit interface) with the inventory overlay of 197 (This is packet 248).<br>
String IDs: “The Bank of RuneScape - Deposit Box” - 7421 “Close Window” - 7422<br>
Model Container: 7423</li>
<li>When players click deposit 1/5/10/All/X, use the appropriate packets to display the items on the model container, remove them from the player inventory, and save them to an array for your deposited items.</li>
<li>When the interface is closed (Either by walking (packets 164 and 248) or by closing the window (Packet 130 - people <span class="bbcode-i">never</span> use this one)), make sure they are unable to add items. Otherwise someone with a tool like Rune Agent will be able to send items to the deposit from generally anywhere.</li>
</ol>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joeyscape.html'><span itemprop='name'>joeyscape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-09T21:06:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:04Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:3, topic:554681”][quote author=joeyscape link=topic=673604.msg4503996#msg4503996 date=1454985407]<br>
Hi, I want to make a safety deposit box for my deadman mode server where it stores 10 items max including stackables that adds towards that 10 item limit as well. How I would add this? I tried using the bank coding to use as a base but I still couldn’t seem to figure it out. Help is appreciate, thanks. Also I’m trying to replace the deposit box with a safety deposit box.<br>
[/quote]<br>
They have a “deposit” interface for the bank deposit box. Make use of it.<br>
It also has an model container for the items you want to use.</p>
<p>Here’s what you do (This is a generic step by step, it assumes you know what you’re doing code-wise):</p>
<ol>
<li>Rename the Deposit box to “safety deposit box” or whatever (Client sided. ObjectDefs)</li>
<li>When a player clicks the object. Send interface 4655 (The deposit interface) with the inventory overlay of 197 (This is packet 248).<br>
String IDs: “The Bank of RuneScape - Deposit Box” - 7421 “Close Window” - 7422<br>
Model Container: 7423</li>
<li>When players click deposit 1/5/10/All/X, use the appropriate packets to display the items on the model container, remove them from the player inventory, and save them to an array for your deposited items.</li>
<li>When the interface is closed (Either by walking (packets 164 and 248) or by closing the window (Packet 130 - people <span class="bbcode-i">never</span> use this one)), make sure they are unable to add items. Otherwise someone with a tool like Rune Agent will be able to send items to the deposit from generally anywhere.[/quote]</li>
</ol>
<p>Main problem I have with this is when I open the deposit box with the deposit box interfaces, the items are automatically sent to the deposit box and when you click on the item it goes to the bank. I want it to be where if I use the item or open the deposit box, I can store up to 10 items in it. I couldn’t find any deposit box codes server sided that are causing this to happen. How can I fix that?</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-09T21:58:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:04Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“joeyscape, post:4, topic:554681”][quote author=sk8rdude461 link=topic=673604.msg4504036#msg4504036 date=1455045084]</p>
<aside class="quote">
<blockquote>
<p>Hi, I want to make a safety deposit box for my deadman mode server where it stores 10 items max including stackables that adds towards that 10 item limit as well. How I would add this? I tried using the bank coding to use as a base but I still couldn’t seem to figure it out. Help is appreciate, thanks. Also I’m trying to replace the deposit box with a safety deposit box.</p>
</blockquote>
</aside>
<p>They have a “deposit” interface for the bank deposit box. Make use of it.<br>
It also has an model container for the items you want to use.</p>
<p>Here’s what you do (This is a generic step by step, it assumes you know what you’re doing code-wise):</p>
<ol>
<li>Rename the Deposit box to “safety deposit box” or whatever (Client sided. ObjectDefs)</li>
<li>When a player clicks the object. Send interface 4655 (The deposit interface) with the inventory overlay of 197 (This is packet 248).<br>
String IDs: “The Bank of RuneScape - Deposit Box” - 7421 “Close Window” - 7422<br>
Model Container: 7423</li>
<li>When players click deposit 1/5/10/All/X, use the appropriate packets to display the items on the model container, remove them from the player inventory, and save them to an array for your deposited items.</li>
<li>When the interface is closed (Either by walking (packets 164 and 248) or by closing the window (Packet 130 - people <span class="bbcode-i">never</span> use this one)), make sure they are unable to add items. Otherwise someone with a tool like Rune Agent will be able to send items to the deposit from generally anywhere.<br>
[/quote]</li>
</ol>
<p>Main problem I have with this is when I open the deposit box with the deposit box interfaces, the items are automatically sent to the deposit box and when you click on the item it goes to the bank. I want it to be where if I use the item or open the deposit box, I can store up to 10 items in it. I couldn’t find any deposit box codes server sided that are causing this to happen. How can I fix that?[/quote]<br>
The items are automatically sent because you’re using the resetItem method.<br>
That sends the player items to the interface id specified.</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joeyscape.html'><span itemprop='name'>joeyscape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-09T23:37:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:05Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:5, topic:554681”][quote author=joeyscape link=topic=673604.msg4504062#msg4504062 date=1455051973]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Hi, I want to make a safety deposit box for my deadman mode server where it stores 10 items max including stackables that adds towards that 10 item limit as well. How I would add this? I tried using the bank coding to use as a base but I still couldn’t seem to figure it out. Help is appreciate, thanks. Also I’m trying to replace the deposit box with a safety deposit box.</p>
</blockquote>
</aside>
<p>They have a “deposit” interface for the bank deposit box. Make use of it.<br>
It also has an model container for the items you want to use.</p>
<p>Here’s what you do (This is a generic step by step, it assumes you know what you’re doing code-wise):</p>
<ol>
<li>Rename the Deposit box to “safety deposit box” or whatever (Client sided. ObjectDefs)</li>
<li>When a player clicks the object. Send interface 4655 (The deposit interface) with the inventory overlay of 197 (This is packet 248).<br>
String IDs: “The Bank of RuneScape - Deposit Box” - 7421 “Close Window” - 7422<br>
Model Container: 7423</li>
<li>When players click deposit 1/5/10/All/X, use the appropriate packets to display the items on the model container, remove them from the player inventory, and save them to an array for your deposited items.</li>
<li>When the interface is closed (Either by walking (packets 164 and 248) or by closing the window (Packet 130 - people <span class="bbcode-i">never</span> use this one)), make sure they are unable to add items. Otherwise someone with a tool like Rune Agent will be able to send items to the deposit from generally anywhere.</li>
</ol>
</blockquote>
</aside>
<p>Main problem I have with this is when I open the deposit box with the deposit box interfaces, the items are automatically sent to the deposit box and when you click on the item it goes to the bank. I want it to be where if I use the item or open the deposit box, I can store up to 10 items in it. I couldn’t find any deposit box codes server sided that are causing this to happen. How can I fix that?<br>
[/quote]<br>
The items are automatically sent because you’re using the resetItem method.<br>
That sends the player items to the interface id specified.[/quote]</p>
<p>Oh okay, so how would i show the model container 7423 with out the resetItem method? do I use client.PA().showInterface(7423);?</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-10T00:25:25Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:05Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“joeyscape, post:6, topic:554681”][quote author=sk8rdude461 link=topic=673604.msg4504067#msg4504067 date=1455055103]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Hi, I want to make a safety deposit box for my deadman mode server where it stores 10 items max including stackables that adds towards that 10 item limit as well. How I would add this? I tried using the bank coding to use as a base but I still couldn’t seem to figure it out. Help is appreciate, thanks. Also I’m trying to replace the deposit box with a safety deposit box.</p>
</blockquote>
</aside>
<p>They have a “deposit” interface for the bank deposit box. Make use of it.<br>
It also has an model container for the items you want to use.</p>
<p>Here’s what you do (This is a generic step by step, it assumes you know what you’re doing code-wise):</p>
<ol>
<li>Rename the Deposit box to “safety deposit box” or whatever (Client sided. ObjectDefs)</li>
<li>When a player clicks the object. Send interface 4655 (The deposit interface) with the inventory overlay of 197 (This is packet 248).<br>
String IDs: “The Bank of RuneScape - Deposit Box” - 7421 “Close Window” - 7422<br>
Model Container: 7423</li>
<li>When players click deposit 1/5/10/All/X, use the appropriate packets to display the items on the model container, remove them from the player inventory, and save them to an array for your deposited items.</li>
<li>When the interface is closed (Either by walking (packets 164 and 248) or by closing the window (Packet 130 - people <span class="bbcode-i">never</span> use this one)), make sure they are unable to add items. Otherwise someone with a tool like Rune Agent will be able to send items to the deposit from generally anywhere.</li>
</ol>
</blockquote>
</aside>
<p>Main problem I have with this is when I open the deposit box with the deposit box interfaces, the items are automatically sent to the deposit box and when you click on the item it goes to the bank. I want it to be where if I use the item or open the deposit box, I can store up to 10 items in it. I couldn’t find any deposit box codes server sided that are causing this to happen. How can I fix that?</p>
</blockquote>
</aside>
<p>The items are automatically sent because you’re using the resetItem method.<br>
That sends the player items to the interface id specified.<br>
[/quote]</p>
<p>Oh okay, so how would i show the model container 7423 with out the resetItem method? do I use client.PA().showInterface(7423);?[/quote]<br>
No you just simply don’t use resetItem?<br>
Packet 248 will display the interface for you.</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joeyscape.html'><span itemprop='name'>joeyscape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-10T02:10:04Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:06Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:7, topic:554681”][quote author=joeyscape link=topic=673604.msg4504071#msg4504071 date=1455061057]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Hi, I want to make a safety deposit box for my deadman mode server where it stores 10 items max including stackables that adds towards that 10 item limit as well. How I would add this? I tried using the bank coding to use as a base but I still couldn’t seem to figure it out. Help is appreciate, thanks. Also I’m trying to replace the deposit box with a safety deposit box.</p>
</blockquote>
</aside>
<p>They have a “deposit” interface for the bank deposit box. Make use of it.<br>
It also has an model container for the items you want to use.</p>
<p>Here’s what you do (This is a generic step by step, it assumes you know what you’re doing code-wise):</p>
<ol>
<li>Rename the Deposit box to “safety deposit box” or whatever (Client sided. ObjectDefs)</li>
<li>When a player clicks the object. Send interface 4655 (The deposit interface) with the inventory overlay of 197 (This is packet 248).<br>
String IDs: “The Bank of RuneScape - Deposit Box” - 7421 “Close Window” - 7422<br>
Model Container: 7423</li>
<li>When players click deposit 1/5/10/All/X, use the appropriate packets to display the items on the model container, remove them from the player inventory, and save them to an array for your deposited items.</li>
<li>When the interface is closed (Either by walking (packets 164 and 248) or by closing the window (Packet 130 - people <span class="bbcode-i">never</span> use this one)), make sure they are unable to add items. Otherwise someone with a tool like Rune Agent will be able to send items to the deposit from generally anywhere.</li>
</ol>
</blockquote>
</aside>
<p>Main problem I have with this is when I open the deposit box with the deposit box interfaces, the items are automatically sent to the deposit box and when you click on the item it goes to the bank. I want it to be where if I use the item or open the deposit box, I can store up to 10 items in it. I couldn’t find any deposit box codes server sided that are causing this to happen. How can I fix that?</p>
</blockquote>
</aside>
<p>The items are automatically sent because you’re using the resetItem method.<br>
That sends the player items to the interface id specified.</p>
</blockquote>
</aside>
<p>Oh okay, so how would i show the model container 7423 with out the resetItem method? do I use client.PA().showInterface(7423);?<br>
[/quote]<br>
No you just simply don’t use resetItem?<br>
Packet 248 will display the interface for you.[/quote]</p>
<p>Oh okay I know what to do now, I’ll just use ItemonObject to store items in the safety deposit box with an array, thank you for your help :).</p>
<p>How would it look like with an array? I don’t know how the array part would like.</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-11T16:38:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:15Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why are you re-declaring the array list:</p>
<p><code>case 11747://safetydeposit
		c.getItems().deleteItem2(itemId, 1);
		ArrayList&lt;PlayerItem&gt; SafetyItems = new ArrayList&lt;PlayerItem&gt;();
		for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}
		break;</code><br>
This is your problem.<br>
Your “SafetyItems” List is never going to have a size greater than 0 as you declared it, then used it, without populating it.<br>
If you placed this:</p>
<pre><code class="lang-auto"></code></pre>
<p>Here:<code>case 11747://safetydeposit
		c.getItems().deleteItem2(itemId, 1);
		ArrayList&lt;PlayerItem&gt; SafetyItems = new ArrayList&lt;PlayerItem&gt;();
		System.out.println("Size: " + SafetyItems.size());
		for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}
		break;</code><br>
You’ll notice it always prints 0.</p>
<p>You’re also not checking if the user has 10 items in the list <span class="bbcode-i">before</span> deleting the item(s) from the players inventory as is.</p>
<p>Next, you have a structural problem with your code.<br>
ArrayLists, don’t have a “set” size. You can add more and more items to it each time (If the SafetyItems ArrayList size was higher than 10 of course).<br>
So by doing something like this:</p>
<p><code>for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}</code><br>
You could potentially add it into the players list 10 times.</p>
<p>Not only that, you currently are adding a null value into your Player’s SafetyItems ArrayList.</p>
<p>Lastly, there’s honestly no need for an ArrayList if you’re simply storing an Integer value. You could make do with an array with a set size:</p>
<pre><code class="lang-auto"></code></pre>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joeyscape.html'><span itemprop='name'>joeyscape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-12T00:59:52Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:17Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:9, topic:554681”]Why are you re-declaring the array list:</p>
<p><code>case 11747://safetydeposit
		c.getItems().deleteItem2(itemId, 1);
		ArrayList&lt;PlayerItem&gt; SafetyItems = new ArrayList&lt;PlayerItem&gt;();
		for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}
		break;</code><br>
This is your problem.<br>
Your “SafetyItems” List is never going to have a size greater than 0 as you declared it, then used it, without populating it.<br>
If you placed this:</p>
<pre><code class="lang-auto"></code></pre>
<p>Here:<code>case 11747://safetydeposit
		c.getItems().deleteItem2(itemId, 1);
		ArrayList&lt;PlayerItem&gt; SafetyItems = new ArrayList&lt;PlayerItem&gt;();
		System.out.println("Size: " + SafetyItems.size());
		for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}
		break;</code><br>
You’ll notice it always prints 0.</p>
<p>You’re also not checking if the user has 10 items in the list <span class="bbcode-i">before</span> deleting the item(s) from the players inventory as is.</p>
<p>Next, you have a structural problem with your code.<br>
ArrayLists, don’t have a “set” size. You can add more and more items to it each time (If the SafetyItems ArrayList size was higher than 10 of course).<br>
So by doing something like this:</p>
<p><code>for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}</code><br>
You could potentially add it into the players list 10 times.</p>
<p>Not only that, you currently are adding a null value into your Player’s SafetyItems ArrayList.</p>
<p>Lastly, there’s honestly no need for an ArrayList if you’re simply storing an Integer value. You could make do with an array with a set size:</p>
<pre><code class="lang-auto"></code></pre>
<p>How do I replace my arraylist code with an array sorry for being a noob? <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Tree.html'><span itemprop='name'>Tree</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-12T02:12:54Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:17Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“joeyscape, post:10, topic:554681”][quote author=sk8rdude461 link=topic=673604.msg4504186#msg4504186 date=1455208727]<br>
Why are you re-declaring the array list:</p>
<p><code>case 11747://safetydeposit
		c.getItems().deleteItem2(itemId, 1);
		ArrayList&lt;PlayerItem&gt; SafetyItems = new ArrayList&lt;PlayerItem&gt;();
		for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}
		break;</code><br>
This is your problem.<br>
Your “SafetyItems” List is never going to have a size greater than 0 as you declared it, then used it, without populating it.<br>
If you placed this:</p>
<pre><code class="lang-auto"></code></pre>
<p>Here:<code>case 11747://safetydeposit
		c.getItems().deleteItem2(itemId, 1);
		ArrayList&lt;PlayerItem&gt; SafetyItems = new ArrayList&lt;PlayerItem&gt;();
		System.out.println("Size: " + SafetyItems.size());
		for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}
		break;</code><br>
You’ll notice it always prints 0.</p>
<p>You’re also not checking if the user has 10 items in the list <span class="bbcode-i">before</span> deleting the item(s) from the players inventory as is.</p>
<p>Next, you have a structural problem with your code.<br>
ArrayLists, don’t have a “set” size. You can add more and more items to it each time (If the SafetyItems ArrayList size was higher than 10 of course).<br>
So by doing something like this:</p>
<p><code>for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}</code><br>
You could potentially add it into the players list 10 times.</p>
<p>Not only that, you currently are adding a null value into your Player’s SafetyItems ArrayList.</p>
<p>Lastly, there’s honestly no need for an ArrayList if you’re simply storing an Integer value. You could make do with an array with a set size:</p>
<pre><code class="lang-auto"></code></pre>
<p>[/quote]</p>
<p>How do I replace my arraylist code with an array sorry for being a noob? :([/quote]</p>
<p>LEARN: <a href="https://docs.oracle.com/javase/tutorial/reallybigindex.html" rel="nofollow noopener">https://docs.oracle.com/javase/tutorial/reallybigindex.html</a></p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joeyscape.html'><span itemprop='name'>joeyscape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-12T03:42:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:17Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Tree, post:11, topic:554681”][quote author=joeyscape link=topic=673604.msg4504212#msg4504212 date=1455238792]</p>
<aside class="quote">
<blockquote>
<p>Why are you re-declaring the array list:</p>
<p><code>case 11747://safetydeposit
		c.getItems().deleteItem2(itemId, 1);
		ArrayList&lt;PlayerItem&gt; SafetyItems = new ArrayList&lt;PlayerItem&gt;();
		for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}
		break;</code><br>
This is your problem.<br>
Your “SafetyItems” List is never going to have a size greater than 0 as you declared it, then used it, without populating it.<br>
If you placed this:</p>
<pre><code class="lang-auto"></code></pre>
<p>Here:<code>case 11747://safetydeposit
		c.getItems().deleteItem2(itemId, 1);
		ArrayList&lt;PlayerItem&gt; SafetyItems = new ArrayList&lt;PlayerItem&gt;();
		System.out.println("Size: " + SafetyItems.size());
		for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}
		break;</code><br>
You’ll notice it always prints 0.</p>
<p>You’re also not checking if the user has 10 items in the list <span class="bbcode-i">before</span> deleting the item(s) from the players inventory as is.</p>
<p>Next, you have a structural problem with your code.<br>
ArrayLists, don’t have a “set” size. You can add more and more items to it each time (If the SafetyItems ArrayList size was higher than 10 of course).<br>
So by doing something like this:</p>
<p><code>for (int i = 0; i &lt; 10; i++) {
			if (i &gt;= SafetyItems.size()) {
				break;
			}
			c.getSafetyItems().add(SafetyItems.get(i));
			c.sendMessage("You have stored 1x  &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
		}</code><br>
You could potentially add it into the players list 10 times.</p>
<p>Not only that, you currently are adding a null value into your Player’s SafetyItems ArrayList.</p>
<p>Lastly, there’s honestly no need for an ArrayList if you’re simply storing an Integer value. You could make do with an array with a set size:</p>
<pre><code class="lang-auto"></code></pre>
</blockquote>
</aside>
<p>How do I replace my arraylist code with an array sorry for being a noob? <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"><br>
[/quote]</p>
<p>LEARN: <a href="https://docs.oracle.com/javase/tutorial/reallybigindex.html%5B/quote%5D" rel="nofollow noopener">https://docs.oracle.com/javase/tutorial/reallybigindex.html[/quote]</a></p>
<p>Mate I know what an array is… I want to know how to declare the array in my itemonobject code.</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-12T10:57:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:19Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Let’s take it step by step…</p>
<p>First you declare the array in your player class:</p>
<pre><code class="lang-auto"></code></pre>
<p>Create a getter/setter (Same class):</p>
<p>[code=java]public int[] getSafetyBoxItems() {<br>
return this.safetyBoxItems;<br>
}</p>
<p>public void setSafetyBoxItems(int[] safetyBoxItems) {<br>
this.safetyBoxItems = safetyBoxItems;<br>
}[/code]</p>
<p>Now in the ItemOnObject class, you need to first check if the last item in the array is greater than 0. Java sets an int to 0 by default, so if it’s higher than that you’ve clearly modified it.</p>
<p><code>if(c.getSafetyBoxItems()[c.getSafetyBoxItems().length - 1] &gt; 0) {
    c.sendMessage("You already have 10 items stored in your safety box.");
    return;
}</code></p>
<p>If they don’t have 10 items already, then you want to insert it into the array. You’ll want to insert it to the next-available slot, which could be found with a simple for loop:</p>
<p><code>for(int i = 0; i &lt; c.getSafetyBoxItems().length;i++) {
    if(c.getSafetyBoxItems()[i] &lt; 1) {// Value is less than 1 so this slot is open.
        c.getSafetyBoxItems[i] = itemId;
        c.sendMessage("You store 1 &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
        break;
    }
}</code></p>
<p>Now if you want to display the items on the interface, you need to use packet 53. This is a bit “unethical” in terms that you could write a single method to handle the packet, and then use that. But we’re just going to create a method to send the packet and open the interface at the same time:</p>
<p>[code=java]public void showSafetyDepositBox() {<br>
if (c == null || c.getOutStream() == null) {<br>
return;<br>
}</p>
<pre><code>c.getOutStream().createFrameVarSizeWord(53);
c.getOutStream().writeWord(7423);
c.getOutStream().writeWord(c.getSafetyBoxItems().length);
for (int i = 0; i &lt; c.getSafetyBoxItems().length; i++) {
    c.getOutStream().writeByte(1);
    c.getOutStream().writeWordBigEndianA(c.getSafetyBoxItems()[i]);
}
c.getOutStream().endFrameVarSizeWord();
c.flushOutStream();
c.getPA().sendFrame248(4655, 197);
</code></pre>
<p>}[/code]<br>
That will place make the deposit box open “like normal” but display the players current safety box items.</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joeyscape.html'><span itemprop='name'>joeyscape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-12T20:42:27Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:21Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:13, topic:554681”]Let’s take it step by step…</p>
<p>First you declare the array in your player class:</p>
<pre><code class="lang-auto"></code></pre>
<p>Create a getter/setter (Same class):</p>
<p>[code=java]public int[] getSafetyBoxItems() {<br>
return this.safetyBoxItems;<br>
}</p>
<p>public void setSafetyBoxItems(int[] safetyBoxItems) {<br>
this.safetyBoxItems = safetyBoxItems;<br>
}[/code]</p>
<p>Now in the ItemOnObject class, you need to first check if the last item in the array is greater than 0. Java sets an int to 0 by default, so if it’s higher than that you’ve clearly modified it.</p>
<p><code>if(c.getSafetyBoxItems()[c.getSafetyBoxItems().length - 1] &gt; 0) {
    c.sendMessage("You already have 10 items stored in your safety box.");
    return;
}</code></p>
<p>If they don’t have 10 items already, then you want to insert it into the array. You’ll want to insert it to the next-available slot, which could be found with a simple for loop:</p>
<p><code>for(int i = 0; i &lt; c.getSafetyBoxItems().length;i++) {
    if(c.getSafetyBoxItems()[i] &lt; 1) {// Value is less than 1 so this slot is open.
        c.getSafetyBoxItems[i] = itemId;
        c.sendMessage("You store 1 &lt;col=ff0000&gt;" + server.model.items.Item.getItemName(itemId) +" into your Safety deposit box.");
        break;
    }
}</code></p>
<p>Now if you want to display the items on the interface, you need to use packet 53. This is a bit “unethical” in terms that you could write a single method to handle the packet, and then use that. But we’re just going to create a method to send the packet and open the interface at the same time:</p>
<p>[code=java]public void showSafetyDepositBox() {<br>
if (c == null || c.getOutStream() == null) {<br>
return;<br>
}</p>
<pre><code>c.getOutStream().createFrameVarSizeWord(53);
c.getOutStream().writeWord(7423);
c.getOutStream().writeWord(c.getSafetyBoxItems().length);
for (int i = 0; i &lt; c.getSafetyBoxItems().length; i++) {
    c.getOutStream().writeByte(1);
    c.getOutStream().writeWordBigEndianA(c.getSafetyBoxItems()[i]);
}
c.getOutStream().endFrameVarSizeWord();
c.flushOutStream();
c.getPA().sendFrame248(4655, 197);
</code></pre>
<p>}[/code]<br>
That will place make the deposit box open “like normal” but display the players current safety box items.[/quote]</p>
<p>Okay it’s working now but the only problem is, when I store an items it stores the itemid before it. For example, if I store a dds (5698) a rune P++ dagger will be in the safety deposit box (5697). What is causing this? Also when I logout my safety deposit items do not save.</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-12T23:30:58Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:21Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It’s probably because the client reads the value as 1 less than what it is (I believe).<br>
Solution is to change:</p>
<pre><code class="lang-auto"></code></pre>
<p>to</p>
<pre><code class="lang-auto"></code></pre>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joeyscape.html'><span itemprop='name'>joeyscape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-13T00:23:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:21Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:15, topic:554681”]It’s probably because the client reads the value as 1 less than what it is (I believe).<br>
Solution is to change:</p>
<pre><code class="lang-auto"></code></pre>
<p>to</p>
<pre><code class="lang-auto"></code></pre>
<p>Yes that fixed it but leaves dwarf remain models in the open slots but thats not a problem… imo it looks pretty cool for deadman server lol also last question to solve the last piece of this puzzle lmao. Would I be able to save the safety deposit by using something like this on the ItemonObject method?</p>
<p>[code][BANK]<br>
character-bank = 0	12657	1<br>
character-bank = 1	11803	1</p>
<p>character-bank1 = 0	13228	1<br>
character-bank1 = 1	13230	1<br>
character-bank1 = 2	13232	1<br>
character-bank1 = 3	13234	1<br>
character-bank1 = 4	13236	1<br>
character-bank1 = 5	13238	1<br>
character-bank1 = 6	13240	1<br>
character-bank1 = 7	13242	1<br>
character-bank1 = 8	13243	1<br>
character-bank1 = 9	13244	1<br>
character-bank1 = 10	13245	1[/code] ?</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-13T01:13:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:21Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“joeyscape, post:16, topic:554681”][quote author=sk8rdude461 link=topic=673604.msg4504274#msg4504274 date=1455319858]<br>
It’s probably because the client reads the value as 1 less than what it is (I believe).<br>
Solution is to change:</p>
<pre><code class="lang-auto"></code></pre>
<p>to</p>
<pre><code class="lang-auto"></code></pre>
<p>[/quote]</p>
<p>Yes that fixed it but leaves dwarf remain models in the open slots but thats not a problem… imo it looks pretty cool for deadman server lol also last question to solve the last piece of this puzzle lmao. Would I be able to save the safety deposit by using something like this on the ItemonObject method?</p>
<p>[code][BANK]<br>
character-bank = 0	12657	1<br>
character-bank = 1	11803	1</p>
<p>character-bank1 = 0	13228	1<br>
character-bank1 = 1	13230	1<br>
character-bank1 = 2	13232	1<br>
character-bank1 = 3	13234	1<br>
character-bank1 = 4	13236	1<br>
character-bank1 = 5	13238	1<br>
character-bank1 = 6	13240	1<br>
character-bank1 = 7	13242	1<br>
character-bank1 = 8	13243	1<br>
character-bank1 = 9	13244	1<br>
character-bank1 = 10	13245	1[/code] ?[/quote]<br>
Saving has nothing to do with your ItemOnObject. But yes, you can.</p>
<p>As for the dwarf remains…<br>
Figure it out. Make sure it only sends 0 when there’s no item in the safety box’s array. But if there is something in the array, make it send the value plus 1.</p>
      </div>

      <meta itemprop='headline' content='[PI] Safety Deposit Box That Stores 10 Items (still need help now)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-safety-deposit-box-that-stores-10-items-still-need-help-now/554681 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:42 GMT -->
</html>
