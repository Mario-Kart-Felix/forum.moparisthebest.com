<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/loop-through-boolean-check/159054 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 16:56:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Loop through boolean check - General Programming - moparisthebest.com</title>
    <meta name="description" content="I have this code, and it sucks all my CPU, obviously. I&amp;#39;m not good at CPU utilization, but I&amp;#39;m not sure how to fix this code so it doesn&amp;#39;t use all the resources... 

 while(!threadDeath) {
     if(fetchRequired) {
      &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="159054.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Loop through boolean check&#39;" href="159054.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/loop-through-boolean-check/159054" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/loop-through-boolean-check/159054" />
<meta property="og:title" content="Loop through boolean check" />
<meta name="twitter:title" content="Loop through boolean check" />
<meta property="og:description" content="I have this code, and it sucks all my CPU, obviously. I’m not good at CPU utilization, but I’m not sure how to fix this code so it doesn’t use all the resources…  while(!threadDeath) {      if(fetchRequired) {           //My code      } }  It loops through to check if that boolean is true, and it uses so much CPU. Any way to fix this? I want this to call the moment that boolean is true. I don’t want Thread.sleep(mili)…" />
<meta name="twitter:description" content="I have this code, and it sucks all my CPU, obviously. I’m not good at CPU utilization, but I’m not sure how to fix this code so it doesn’t use all the resources…  while(!threadDeath) {      if(fetchRequired) {           //My code      } }  It loops through to check if that boolean is true, and it uses so much CPU. Any way to fix this? I want this to call the moment that boolean is true. I don’t want Thread.sleep(mili)…" />
<meta property="article:published_time" content="2007-11-19T05:39:52+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="159054.html">Loop through boolean check</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rajae.html'><span itemprop='name'>Rajae</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-11-19T05:39:52Z'>
            <time itemprop='dateModified' datetime='2016-07-30T16:58:26Z' class='post-time'>
              July 30, 2016,  4:58pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have this code, and it sucks all my CPU, obviously. I’m not good at CPU utilization, but I’m not sure how to fix this code so it doesn’t use all the resources…</p>
<p><code>while(!threadDeath) {
     if(fetchRequired) {
          //My code
     }
}</code></p>
<p>It loops through to check if that boolean is true, and it uses so much CPU. Any way to fix this? I want this to call the moment that boolean is true. I don’t want Thread.sleep(mili)…</p>
      </div>

      <meta itemprop='headline' content='Loop through boolean check'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh_CntLgn.html'><span itemprop='name'>BAsh_CntLgn</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-11-19T06:43:05Z'>
            <time itemprop='dateModified' datetime='2016-07-30T16:58:31Z' class='post-time'>
              July 30, 2016,  4:58pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Some code I whipped up:</p>
<p>[code]	private Object waitObject = new Object();<br>
private boolean fetchRequired = false;</p>
<pre><code>public void poke() {
	synchronized (waitObject) {
		fetchRequired = true;
		waitObject.notifyAll();
	}
}

public void run() {
	while (!threadDeath) {
		synchronized (waitObject) {
			if (fetchRequired) {
				doSomeShit();
			}
			fetchRequired = false;
		}
		waitObject.wait();
	}
}[/code]</code></pre>
      </div>

      <meta itemprop='headline' content='Loop through boolean check'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/system.html'><span itemprop='name'>system</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-11-19T17:34:31Z'>
            <time itemprop='dateModified' datetime='2016-07-30T16:58:59Z' class='post-time'>
              July 30, 2016,  4:58pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Enen though you mentioned that you don’t want to use Thread.sleep(millis), I think that one is a very good thing to have.</p>
<p>When I tried both with and without a long time ago, I saw a big difference. I ran the code without this method, and the CPU usage was around 90 - 98%. Then I implemented this method in the code, and the CPU usage was only around 0 %.</p>
      </div>

      <meta itemprop='headline' content='Loop through boolean check'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rajae.html'><span itemprop='name'>Rajae</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-11-19T17:46:40Z'>
            <time itemprop='dateModified' datetime='2016-07-30T16:58:59Z' class='post-time'>
              July 30, 2016,  4:58pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well I guess Thread.sleep(1); is a good solution for now. It is much better than before, but I’m wondering if there is a better way…</p>
<p>[quote=“BAsh(CntLgn), post:2, topic:159054”]Some code I whipped up:</p>
<p>[code]	private Object waitObject = new Object();<br>
private boolean fetchRequired = false;</p>
<pre><code>public void poke() {
	synchronized (waitObject) {
		fetchRequired = true;
		waitObject.notifyAll();
	}
}

public void run() {
	while (!threadDeath) {
		synchronized (waitObject) {
			if (fetchRequired) {
				doSomeShit();
			}
			fetchRequired = false;
		}
		waitObject.wait();
	}
}[/code][/quote]
</code></pre>
<p>My code has only one class, and I’m trying to avoid using this:</p>
<p><code>for(int i = 1; i &lt; connect.connectedPpl; i++) {
     if(connect.demandFetcher[i] == null) continue;
     connect.demandFetcher[i].wake();
}</code></p>
      </div>

      <meta itemprop='headline' content='Loop through boolean check'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/yakman.html'><span itemprop='name'>yakman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-11-19T20:49:40Z'>
            <time itemprop='dateModified' datetime='2016-07-30T16:59:03Z' class='post-time'>
              July 30, 2016,  4:59pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>instead of Thread.sleep(1L); you could try Thread.yield();<br>
yield() causes the current thread to give up its CPU space and let other threads do some work.</p>
<p>i had it explained in a really good sentance, ill try to find it…<br>
EDIT: here<br>
“The runtime system lets each thread run for a little while. If a thread does very little it can voluntarily give up the reminder of its time slice using yield() instead of just sitting it out”</p>
      </div>

      <meta itemprop='headline' content='Loop through boolean check'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rajae.html'><span itemprop='name'>Rajae</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-11-20T02:05:54Z'>
            <time itemprop='dateModified' datetime='2016-07-30T16:59:20Z' class='post-time'>
              July 30, 2016,  4:59pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“yakman, post:5, topic:159054”]instead of Thread.sleep(1L); you could try Thread.yield();<br>
yield() causes the current thread to give up its CPU space and let other threads do some work.</p>
<p>i had it explained in a really good sentance, ill try to find it…<br>
EDIT: here<br>
“The runtime system lets each thread run for a little while. If a thread does very little it can voluntarily give up the reminder of its time slice using yield() instead of just sitting it out”[/quote]<br>
Thread.yield(); seems to do the same as if I hadn’t put anything there at all. Uses all of the CPU the VM gives my program. However, I know what this method will do, it will allow other threads to work more. Thanks.</p>
      </div>

      <meta itemprop='headline' content='Loop through boolean check'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh_CntLgn.html'><span itemprop='name'>BAsh_CntLgn</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-11-20T03:18:25Z'>
            <time itemprop='dateModified' datetime='2016-07-30T16:59:25Z' class='post-time'>
              July 30, 2016,  4:59pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You really have not told me what you are using this code for and you are just confusing me.</p>
<p>waitObject can never be null and if you were to set fetchRequired you would have to check to see if you had null anyway.</p>
<p>I’m really not sure what your getting at.</p>
      </div>

      <meta itemprop='headline' content='Loop through boolean check'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/loop-through-boolean-check/159054 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 16:56:34 GMT -->
</html>
