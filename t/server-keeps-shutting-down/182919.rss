<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Server keeps shutting down</title>
    <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919</link>
    <description>i keep getting this error or one where the samer person connects like 30 times
[IMG]http://i41.photobucket.com/albums/e286/snakeman2058/help.jpg[/img]
and whats black massing? cause someone said i had to fix that</description>
    
    <lastBuildDate>Tue, 19 Feb 2008 20:21:31 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@snakeman2058 snakeman2058]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/snakeman2058">@snakeman2058</a> wrote:</p>
          <blockquote>
              <p>honestly im terrible @ java and quite new so could someone help me? where do i put this? and will it work?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/16</link>
        <pubDate>Tue, 19 Feb 2008 20:21:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-16</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@_Vengeance _Vengeance]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_vengeance">@_Vengeance</a> wrote:</p>
          <blockquote>
              <p>Hint: “client.run()”<br>
IIRC.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/15</link>
        <pubDate>Tue, 19 Feb 2008 18:48:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-15</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@snakeman2058 snakeman2058]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/snakeman2058">@snakeman2058</a> wrote:</p>
          <blockquote>
              <p>ok so how do i make this work on my server?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/14</link>
        <pubDate>Tue, 19 Feb 2008 18:47:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-14</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@_Vengeance _Vengeance]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_vengeance">@_Vengeance</a> wrote:</p>
          <blockquote>
              <p>The game server I’m working on uses this method to append a session:</p>
<p>Note: This is not meant for an RS server. Although it could be modified for one.</p>
<p>[code]<br>
public static void appendSession(Socket s) {<br>
// TODO: implement the failed pass, and connect attempts to temp/perm ban.<br>
try {	<br>
if (!AccountManager.isBanned(s)) {<br>
for (int i = 0; i &lt; MAXPLAYERS; i++) {<br>
if (sessionList[i].IP.equals(s)) {<br>
debug(classN, "IP already connected, dropping connection: " + s.toString());<br>
s.close();<br>
break;<br>
} else<br>
continue;<br>
}<br>
in = new BufferedReader(new InputStreamReader(s.getInputStream()));</p>
<pre><code>	    	String username = in.readLine();
	    	
	    	if (!AccountManager.isBanned((String)username)) {
	    		
	    		String password = in.readLine();
	    			    	
	    		if (AccountManager.getPass(username).equals((String)password)) {	
	    			for (int _i = 0; _i &lt; MAXPLAYERS; _i++) {
			    		if (sessionList[_i] != null) {
			    			try {
				    			sessionList[_i] = new Session(s, (int)(Math.pow((_i &gt;&gt; 16), ((int)(Math.random() * 3) &gt;&gt; 36))), username, password);
				    			debug(classN, "Session created: " + sessionList[_i].toString());
			    				s.getOutputStream().write(5);
			    				s.getOutputStream().flush();
			    			} catch (Exception e) {
			    				debug(classN, "Error appending new session: " + e.toString());
						    	s.getOutputStream().write(6);
						    	s.getOutputStream().flush();
						    	s.close();
						    	in = null; 
			    			}
			    		}
			    	}
	    		} else {
			    	debug(classN, "Password incorrect, dropping connection: " + s.toString());
			    	s.getOutputStream().write(3);
			    	s.getOutputStream().flush();
			    	s.close();
			    	in = null; 
			    	// AccountManager.failedPass(s);   		
	    		}
		    } else {
		    	debug(classN, "Username banned, dropping connection: " + s.toString());
		    	s.getOutputStream().write(1);
		    	s.getOutputStream().flush();
		    	s.close();
			    in = null; 
		    	// AccountManager.connectAttempt(s);     		
    		}
    	} else {
	    	debug(classN, "IP banned, dropping connection: " + s.toString());
		    s.getOutputStream().write(2);
		    s.getOutputStream().flush();
	    	s.close();
	    	// AccountManager.connectAttempt(s);    		
    	}
	} catch (Exception e) {
		debug(classN, "Error appending session: " + e.toString());
	}
}[/code]
</code></pre>
<p>Yes, quite messy.</p>
<p>Anyway:</p>
<p>The class “AccountManager” contains</p>
<p>[code]	static ArrayList bannedIps = new ArrayList();</p>
<pre><code>static ArrayList&lt;String&gt; bannedUsernames = new ArrayList&lt;String&gt;();

static HashMap&lt;String, String&gt; passList = new HashMap&lt;String, String&gt;();[/code]
</code></pre>
<p>Before doing anything, it checks if the Socket is on the bannedIps list and if it is on there, it drops the connection and thats the end of that story. Next you’ll notice it loops through current connections, checking if it’s already on the list. If it is, again the socket is closed, and thats the end of that. After that it reads the username, and checks that against bannedUsernames. Same story. If it passes all of those tests, finally it compares the password to the password the account name is suppose to have in the passList map. If it fails any of those tests, the connection is dropped instantly. Also you may notice i have login attempt counters commented out. These will be used to temp ban people that have made to many log in attempts.</p>
<p>And thats basically it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/13</link>
        <pubDate>Tue, 19 Feb 2008 18:39:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-13</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@snakeman2058 snakeman2058]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/snakeman2058">@snakeman2058</a> wrote:</p>
          <blockquote>
              <p>wanna tell me how? cuase i dotn have that sting in my player handeler</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/12</link>
        <pubDate>Tue, 19 Feb 2008 18:24:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-12</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@_Vengeance _Vengeance]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_vengeance">@_Vengeance</a> wrote:</p>
          <blockquote>
              <p>[quote=“Musicmad, post:10, topic:182919”][quote author=snakeman2058 link=topic=244604.msg2064824#msg2064824 date=1203444488]<br>
so u ahve a code that will ipban anyone that connects to fast? could i send them a message at the same time?<br>
[/quote]</p>
<p>Open your server.java, search:</p>
<pre><code class="lang-auto">public void run</code></pre>
<p>Then search:</p>
<pre><code class="lang-auto">connectingHost = s.getInetAddress().getHostName(); </code></pre>
<p>Under that add this:</p>
<p><code>					if (server.playerHandler.checkBannedIps() == true) {
					misc.println(connectingHost+" is ip banned");
					s.close();
					} else {</code></p>
<p>Now open playerhandler.java and search:</p>
<p><code>
}
public int getID(String name)</code></p>
<p>Above that add:</p>
<p><code>    public boolean checkBannedIps() {
	String bannedIp = null;
	try {
	    BufferedReader br = new BufferedReader(new FileReader("./data/bannedips.txt"));
	    while((bannedIp = br.readLine()) != null) {
		if(server.clientHandler.connectingHost.startsWith(bannedIp)) {
		    return true;
		}
	    }
	} catch(IOException e) {
	    System.err.println("Error reading the banned IPs list");
	}
	return false;
    </code></p>
<p>Now add the ip that is crashing your server.[/quote]</p>
<p>A lot easier to use a Hash table, and check it on connect, so it doesn’t use up bandwidth etc.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/11</link>
        <pubDate>Tue, 19 Feb 2008 18:19:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-11</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@musicmad441 Musicmad]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/musicmad441">@musicmad441</a> wrote:</p>
          <blockquote>
              <p>Open your server.java, search:</p>
<pre><code class="lang-auto">public void run</code></pre>
<p>Then search:</p>
<pre><code class="lang-auto">connectingHost = s.getInetAddress().getHostName(); </code></pre>
<p>Under that add this:</p>
<p><code>					if (server.playerHandler.checkBannedIps() == true) {
					misc.println(connectingHost+" is ip banned");
					s.close();
					} else {</code></p>
<p>Now open playerhandler.java and search:</p>
<p><code>
}
public int getID(String name)</code></p>
<p>Above that add:</p>
<p><code>    public boolean checkBannedIps() {
	String bannedIp = null;
	try {
	    BufferedReader br = new BufferedReader(new FileReader("./data/bannedips.txt"));
	    while((bannedIp = br.readLine()) != null) {
		if(server.clientHandler.connectingHost.startsWith(bannedIp)) {
		    return true;
		}
	    }
	} catch(IOException e) {
	    System.err.println("Error reading the banned IPs list");
	}
	return false;
    </code></p>
<p>Now add the ip that is crashing your server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/10</link>
        <pubDate>Tue, 19 Feb 2008 18:16:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-10</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@snakeman2058 snakeman2058]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/snakeman2058">@snakeman2058</a> wrote:</p>
          <blockquote>
              <p>so u ahve a code that will ipban anyone that connects to fast? could i send them a message at the same time?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/9</link>
        <pubDate>Tue, 19 Feb 2008 18:08:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-9</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@musicmad441 Musicmad]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/musicmad441">@musicmad441</a> wrote:</p>
          <blockquote>
              <p>Most ipban’s don’t work for that kind of crash.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/8</link>
        <pubDate>Tue, 19 Feb 2008 18:00:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-8</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@D_D_3 D D 3]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/d_d_3">@D_D_3</a> wrote:</p>
          <blockquote>
              <p>He could also just ipban it lel.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/7</link>
        <pubDate>Tue, 19 Feb 2008 17:54:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-7</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@musicmad441 Musicmad]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/musicmad441">@musicmad441</a> wrote:</p>
          <blockquote>
              <p>[quote=“D D 3, post:5, topic:182919”][quote author=Musicmad link=topic=244604.msg2064801#msg2064801 date=1203443368]</p>
<aside class="quote no-group">
<blockquote>
<p>i keep getting this error or one where the samer person connects like 30 times<br>
<img src="http://i41.photobucket.com/albums/e286/snakeman2058/help.jpg" alt><br>
and whats black massing? cause someone said i had to fix that</p>
</blockquote>
</aside>
<p>Yes, that is SYIpkpker, if you ask me nicely, I might give you my Anti-SYI <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=6" title=":expressionless:" class="emoji" alt=":expressionless:"> That fits nicely in your server.java.<br>
[/quote]He doesn’t need it his server already disconnects him.Also I don’t think that is Syipkpker because on my dodian server it says Syipkpker1( accept from ip adress.It could be a java flooder or another crasher.[/quote]</p>
<p>I have the code that would stop that, because it will close the socket to that IP, if it connects to fast.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/6</link>
        <pubDate>Tue, 19 Feb 2008 17:53:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-6</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@D_D_3 D D 3]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/d_d_3">@D_D_3</a> wrote:</p>
          <blockquote>
              <p>[quote=“Musicmad, post:3, topic:182919”][quote author=snakeman2058 link=topic=244604.msg2064798#msg2064798 date=1203443258]<br>
i keep getting this error or one where the samer person connects like 30 times<br>
<img src="http://i41.photobucket.com/albums/e286/snakeman2058/help.jpg" alt width="" height=""><br>
and whats black massing? cause someone said i had to fix that<br>
[/quote]<br>
Yes, that is SYIpkpker, if you ask me nicely, I might give you my Anti-SYI <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=6" title=":expressionless:" class="emoji" alt=":expressionless:"> That fits nicely in your server.java.[/quote]He doesn’t need it his server already disconnects him.Also I don’t think that is Syipkpker because on my dodian server it says Syipkpker1( accept from ip adress.It could be a java flooder or another crasher.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/5</link>
        <pubDate>Tue, 19 Feb 2008 17:52:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-5</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@snakeman2058 snakeman2058]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/snakeman2058">@snakeman2058</a> wrote:</p>
          <blockquote>
              <p>plz plz plz o master of masters? and that will fix it? because i had some inkling that it stopped whenever my computer went to sleep</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/4</link>
        <pubDate>Tue, 19 Feb 2008 17:51:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-4</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@musicmad441 Musicmad]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/musicmad441">@musicmad441</a> wrote:</p>
          <blockquote>
              <p>[quote=“snakeman2058, post:1, topic:182919”]i keep getting this error or one where the samer person connects like 30 times<br>
<img src="http://i41.photobucket.com/albums/e286/snakeman2058/help.jpg" alt width="" height=""><br>
and whats black massing? cause someone said i had to fix that[/quote]</p>
<p>Yes, that is SYIpkpker, if you ask me nicely, I might give you my Anti-SYI <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=6" title=":expressionless:" class="emoji" alt=":expressionless:"> That fits nicely in your server.java.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/3</link>
        <pubDate>Tue, 19 Feb 2008 17:49:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-3</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@D_D_3 D D 3]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/d_d_3">@D_D_3</a> wrote:</p>
          <blockquote>
              <p>Is it you doing it or someone else.If it is not you it is a crasher rofl.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/2</link>
        <pubDate>Tue, 19 Feb 2008 17:48:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-2</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
      <item>
        <title>Server keeps shutting down</title>
        <dc:creator><![CDATA[@snakeman2058 snakeman2058]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/snakeman2058">@snakeman2058</a> wrote:</p>
          <blockquote>
              <p>i keep getting this error or one where the samer person connects like 30 times<br>
<img src="http://i41.photobucket.com/albums/e286/snakeman2058/help.jpg" alt width="" height=""><br>
and whats black massing? cause someone said i had to fix that</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919/1</link>
        <pubDate>Tue, 19 Feb 2008 17:47:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-182919-1</guid>
        <source url="https://forum.moparisthebest.com/t/server-keeps-shutting-down/182919.rss">Server keeps shutting down</source>
      </item>
  </channel>
</rss>
