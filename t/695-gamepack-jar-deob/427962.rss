<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>695 gamepack.jar deob</title>
    <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962</link>
    <description>I&#39;ve been working on a new deober lately, at the moment it can deobfuscate the gamepack.jar fully, and it fails on one class on the inner.pack.gz classes :P, I made this for you guys to look at. Renamed with ZKM.


http://www.mediafire.com/?7bconyczgm3o679</description>
    
    <lastBuildDate>Tue, 10 Jan 2012 05:57:09 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">    
    /**
     * The encoding table.
     */
    private static int[] t;
    
    /**
     * 
     * @param key The key to encode.
     * @return
     * @throws Exception 
     */
    public static byte[] encode(String key) { 
        int len;
        byte[] array = null;
        if (key.length() &gt; 0) {
            len = 3 * ((key.length() + 3) / 4) - 2;
            array = new byte[len];
            encode(array, 0, key);
        }
        return array;
    }

    private static int encode(byte[] bytes, int off, String key) {
        int len = key.length();
        int oldOff = off;
        int pos = 0;
        while(len &gt; pos) {
            int k0 = -1, k1 = -1, k2 = -1, k3 = -1;
            if(pos &lt; len) {
                char c = key.charAt(pos);
                k0 = c &gt;= 0 &amp;&amp; c &lt; t.length ? t[c] : -1;
            }
            if(pos + 1 &lt; len) {
                char c = key.charAt(pos + 1);
                k1 = c &gt;= 0 &amp;&amp; c &lt; t.length ? t[c] : -1;
            }
            if(pos + 2 &lt; len) {
                char c = key.charAt(pos + 2);
                k2 = c &gt;= 0 &amp;&amp; c &lt; t.length ? t[c] : -1;
            }
            if(pos + 3 &lt; len) {
                char c = key.charAt(pos + 3);
                k3 = c &gt;= 0 &amp;&amp; c &lt; t.length ? t[c] : -1;
            }
            bytes[off++] = (byte) (k0 &lt;&lt; 2 | k1 &gt;&gt;&gt; 4);
            if (k2 != -1) {
                bytes[off++] = (byte) (k2 &gt;&gt;&gt; 2 | 240 &amp; k1 &lt;&lt; 4);
                if (k3 != -1) {
                    bytes[off++] = (byte) (k3 | k2 &lt;&lt; 6 &amp; 192);
                    pos += 4;
                    continue;
                }
            }
            break;
        }
        return off - oldOff;
    }

    public static byte[] decryptPack(InputStream packStream, String key, String iv) {
        byte[] encodedKey = encode(key);
        byte[] encodedIV = encode(iv);
        Cipher cipherObject = null;
        SecretKeySpec secretKeySpec = new SecretKeySpec(encodedKey, "AES");
        try {
            cipherObject = Cipher.getInstance("AES/CBC/PKCS5Padding");
            cipherObject.init(2, secretKeySpec, new IvParameterSpec(encodedIV));
        } catch (Exception ex) {
            throw new RuntimeException("Exception thrown : "+ex);
        }
        byte[] buffer = new byte[5242880];
        int offset = 0;
        try {
            int read = packStream.read(buffer, offset, 5242880 - offset);
            while (read != -1) {
                offset += read;
                read = packStream.read(buffer, offset, 5242880 - offset);
            }
        } catch (IOException ioex) {
            throw new RuntimeException("IOException thrown : "+ioex);
        }
        byte[] dest = new byte[offset];
        System.arraycopy(buffer, 0, dest, 0, offset);
        byte[] decryptedData = null;
        try {
            decryptedData = cipherObject.doFinal(dest);
        } catch (Exception ex) {
            throw new RuntimeException("Exception thrown : "+ex);
        }
        Pack200.Unpacker unpacker = Pack200.newUnpacker();
        ByteArrayOutputStream bos = new ByteArrayOutputStream(5242880);
        try {
            JarOutputStream jarOutput = new JarOutputStream(bos);
            GZIPInputStream gzip = new GZIPInputStream(new ByteArrayInputStream(decryptedData));
            unpacker.unpack(gzip, jarOutput);
            jarOutput.close();
        } catch (IOException ioex) {
            throw new RuntimeException("IOException thrown : "+ioex);
        }
        return bos.toByteArray();
    }

    static {
        t = new int[128];
        int i1 = 0;
        while (i1 &lt; t.length) {
            t[i1] = -1;
            i1++;
        }
        int j1 = 65;
        while (90 &gt;= j1) {
            t[j1] =  j1 - 65;
            j1++;
        }
        int k1 = 97;
        while (122 &gt;= k1) {
            t[k1] = k1 - 71;
            k1++;
        }
        int l1 = 48;
        while (57 &gt;= l1) {
            t[l1] = l1 + 4;
            l1++;
        }
        t[42] = 62;
        t[43] = 62;
        t[45] = 63;
        t[47] = 63;
    }</code></pre>
<p>Invest some time in cleaning the obfuscation.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/14</link>
        <pubDate>Tue, 10 Jan 2012 05:57:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-14</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@Ollie Ollie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ollie">@Ollie</a> wrote:</p>
          <blockquote>
              <p>can you give me the ZKM rename log and deob for inner pack pls?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/13</link>
        <pubDate>Mon, 09 Jan 2012 09:21:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-13</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>[quote=“light-232, post:7, topic:427962”][/quote]<br>
what, is this like the month of the returners?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/12</link>
        <pubDate>Thu, 05 Jan 2012 04:07:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-12</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@the_bank the bank]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_bank">@the_bank</a> wrote:</p>
          <blockquote>
              <p>Because your code looks like poo.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/11</link>
        <pubDate>Thu, 05 Jan 2012 02:53:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-11</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@_Discardedx21 `Discardedx2`]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_discardedx21">@_Discardedx21</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="9" data-topic="427962">
<div class="title">
<div class="quote-controls"></div>
 frank_:</div>
<blockquote>
<p>simplifying shifts is trivial</p>
</blockquote>
</aside>
<p>I was just implying that he doesn’t even reverse the most basic obfuscations… and yet he called it “neater”, so I was just getting at why he calls it neater.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/10</link>
        <pubDate>Wed, 04 Jan 2012 23:58:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-10</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@frank frank_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/frank">@frank</a> wrote:</p>
          <blockquote>
              <p>simplifying shifts is trivial</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/9</link>
        <pubDate>Wed, 04 Jan 2012 23:41:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-9</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@_Discardedx21 `Discardedx2`]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_discardedx21">@_Discardedx21</a> wrote:</p>
          <blockquote>
              <p>[quote=“light-232, post:7, topic:427962”]Here, have a cleaner one,<br>
<a href="http://www.mediafire.com/?67t0ze28c62kjmm" class="onebox" target="_blank" rel="nofollow noopener">http://www.mediafire.com/?67t0ze28c62kjmm</a></p>
<p>edit;<br>
^, latest version of jode is for jdk1.3, it <em>does</em> have partial support for try-catch-finally blocks, but it fails on most code generated (namely synchronized blocks, the try-catch statements the compiler automagically generates for said sync. blocks, and try-catch-finally blocks) by javac in jdk1.5+[/quote]</p>
<p>ok <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue_winking_eye.png?v=5" title=":stuck_out_tongue_winking_eye:" class="emoji" alt=":stuck_out_tongue_winking_eye:"> but i don’t see how yours is any “neater”. you haven’t even simplified shift instructions</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/8</link>
        <pubDate>Wed, 04 Jan 2012 20:37:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-8</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@light-232 light-232]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/light-232">@light-232</a> wrote:</p>
          <blockquote>
              <p>Here, have a cleaner one,<br>
<a href="http://www.mediafire.com/?67t0ze28c62kjmm" class="onebox" target="_blank" rel="nofollow noopener">http://www.mediafire.com/?67t0ze28c62kjmm</a></p>
<p>edit;<br>
^, latest version of jode is for jdk1.3, it <em>does</em> have partial support for try-catch-finally blocks, but it fails on most code generated (namely synchronized blocks, the try-catch statements the compiler automagically generates for said sync. blocks, and try-catch-finally blocks) by javac in jdk1.5+</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/7</link>
        <pubDate>Wed, 04 Jan 2012 20:01:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-7</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@_Discardedx21 `Discardedx2`]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_discardedx21">@_Discardedx21</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="5" data-topic="427962">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/abraham2119/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> abraham2119:</div>
<blockquote>
<p>it’s been a while since ive worked on my obfuscator, but if i recall correctly, all monitorenter/monitorexit instructions that are corrupted (by that i mean that it exits before it enters, etc) can be deleted</p>
</blockquote>
</aside>
<p>Yeah, my try catch stuff removes most of those I think. Jagex compiles with the java 6 compiler now and jode was built for java 5(maybe even 4?), so the bytecode order needs to be changed back to the old jvm format(seeing as java is fully backwords compatible this isn’t a problem for the current jvm).</p>
<p>edit:</p>
<p>fernflower decompiles the full client fine (for the most part), just need to fix some of my optimizers <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/6</link>
        <pubDate>Wed, 04 Jan 2012 04:09:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-6</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@abraham2119 abraham2119]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/abraham2119">@abraham2119</a> wrote:</p>
          <blockquote>
              <p>it’s been a while since ive worked on my obfuscator, but if i recall correctly, all monitorenter/monitorexit instructions that are corrupted (by that i mean that it exits before it enters, etc) can be deleted</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/5</link>
        <pubDate>Wed, 04 Jan 2012 04:06:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-5</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@_Discardedx21 `Discardedx2`]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_discardedx21">@_Discardedx21</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="2" data-topic="427962">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/user_avatar/forum.moparisthebest.com/moparisthebest/40/30_1.png" class="avatar"> Moparisthebest:</div>
<blockquote>
<p>Looks pretty good, it would be nice if it automatically fixed all the StringBuilder.append().append() etc etc.  Are you planning on releasing this?  I’d love to run it automatically on my update script.</p>
</blockquote>
</aside>
<p>Yeah i will be releasing it, I just have to fix my sync block fixer so jode can decompile them (Atm only some MONITORENTER/MONITOREXIT instructions get fixed in the inner.pack.gz class files). Most stuff I make gets released… ty for the award though xd</p>
<p>p.s that stringbuilder stuff (or most of them) seem to be the equivalant of a rethrow exception in the other inner.pack.gz classes… So all I really have to do is make a few small modifications I think. Anyways thanks for the idea <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/4</link>
        <pubDate>Wed, 04 Jan 2012 02:23:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-4</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>oh hey look someone got an award <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/3</link>
        <pubDate>Wed, 04 Jan 2012 01:16:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-3</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <p>Looks pretty good, it would be nice if it automatically fixed all the StringBuilder.append().append() etc etc.  Are you planning on releasing this?  I’d love to run it automatically on my update script.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/2</link>
        <pubDate>Wed, 04 Jan 2012 01:10:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-2</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
      <item>
        <title>695 gamepack.jar deob</title>
        <dc:creator><![CDATA[@_Discardedx21 `Discardedx2`]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_discardedx21">@_Discardedx21</a> wrote:</p>
          <blockquote>
              <p>I’ve been working on a new deober lately, at the moment it can deobfuscate the gamepack.jar fully, and it fails on one class on the inner.pack.gz classes :P, I made this for you guys to look at. Renamed with ZKM.</p>
<p><a href="http://www.mediafire.com/?7bconyczgm3o679" class="onebox" target="_blank" rel="nofollow noopener">http://www.mediafire.com/?7bconyczgm3o679</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962/1</link>
        <pubDate>Tue, 03 Jan 2012 23:58:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427962-1</guid>
        <source url="https://forum.moparisthebest.com/t/695-gamepack-jar-deob/427962.rss">695 gamepack.jar deob</source>
      </item>
  </channel>
</rss>
