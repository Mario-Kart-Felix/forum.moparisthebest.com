<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/inside-info-to-double-brace-initialization/340251 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 05:26:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Inside Info to Double Brace Initialization - General Programming - moparisthebest.com</title>
    <meta name="description" content="Hey. Consider an ArrayList as follows, 

[code=java]List countries = new ArrayList();    

countries.add(&amp;quot;Switzerland&amp;quot;);    

countries.add(&amp;quot;France&amp;quot;);    

countries.add(&amp;quot;Germany&amp;quot;);    

countries.add(&amp;quot;Italy&amp;quot;);    

coun&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="340251.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Inside Info to Double Brace Initialization&#39;" href="340251.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/inside-info-to-double-brace-initialization/340251" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/inside-info-to-double-brace-initialization/340251" />
<meta property="og:title" content="Inside Info to Double Brace Initialization" />
<meta name="twitter:title" content="Inside Info to Double Brace Initialization" />
<meta property="og:description" content="Hey. Consider an ArrayList as follows,  [code=java]List countries = new ArrayList();  countries.add(“Switzerland”);  countries.add(“France”);  countries.add(“Germany”);  countries.add(“Italy”);  countries.add(“India”);  [/code]  You must add the variable countries before the add() method to add the strings to the arraylist. But with Double Brace Initialization, its the same code, but parly modified,  [code=java]List countries = new ArrayList() {{  add(&quot;India&quot;);     add(&quot;Switzerland&quot;);     add(&quot;I..." />
<meta name="twitter:description" content="Hey. Consider an ArrayList as follows,  [code=java]List countries = new ArrayList();  countries.add(“Switzerland”);  countries.add(“France”);  countries.add(“Germany”);  countries.add(“Italy”);  countries.add(“India”);  [/code]  You must add the variable countries before the add() method to add the strings to the arraylist. But with Double Brace Initialization, its the same code, but parly modified,  [code=java]List countries = new ArrayList() {{  add(&quot;India&quot;);     add(&quot;Switzerland&quot;);     add(&quot;I..." />
<meta property="article:published_time" content="2010-05-16T01:08:59+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="340251.html">Inside Info to Double Brace Initialization</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Project_Evolution.html'><span itemprop='name'>Project_Evolution</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-05-16T01:08:59Z'>
            <time itemprop='dateModified' datetime='2016-07-31T16:29:52Z' class='post-time'>
              July 31, 2016,  4:29pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey. Consider an ArrayList as follows,</p>
<p>[code=java]List countries = new ArrayList();</p>
<p>countries.add(“Switzerland”);</p>
<p>countries.add(“France”);</p>
<p>countries.add(“Germany”);</p>
<p>countries.add(“Italy”);</p>
<p>countries.add(“India”);  [/code]</p>
<p>You must add the variable countries before the add() method to add the strings to the arraylist. But with Double Brace Initialization, its the same code, but parly modified,</p>
<p>[code=java]List countries = new ArrayList() {{</p>
<pre><code>add("India");   

add("Switzerland");   

add("Italy");   

add("France");   

add("Germany");   
</code></pre>
<p>}}; [/code]</p>
<p>As you can see, theres no longer a need to put the variable before the add() method.</p>
<p>Also, take a look at this class,</p>
<p>[code=java]import java.util.*;</p>
<p>public class DoubleBrace {</p>
<pre><code>public DoubleBrace() {

    System.out.println("" + countries + "");

}



{

    System.out.println("Instance Initializer"); 

}



List&lt;String&gt; countries = new ArrayList&lt;String&gt;() {{   

    add("India");   

    add("Switzerland");   

    add("Italy");   

    add("France");   

    add("Germany");   

}};



public static void main(String[] argv) {

    new DoubleBrace();

}
</code></pre>
<p>}[/code]</p>
<p>The compiler prints out the following lines.<br>
Im sure you can find more ways to use Double Brace Initialization. I found this pretty interesting myself.</p>
<p>You may also be interested in how this works,</p>
<aside class="quote no-group">
<div class="title">
<div class="quote-controls"></div>
 Author:</div>
<blockquote>
<p>Well, the double brace ( {{ … }} ) initialization in Java works this way. The first brace creates a new AnonymousInnerClass, the second declares an instance initializer block that is run when the anonymous inner class is instantiated. This type of initializer block is formally called an “instance initializer”, because it is declared withing the instance scope of the class — “static initializers” are a related concept where the keyword static is placed before the brace that starts the block, and which is executed at the class level as soon as the classloader completes loading the class . The initializer block can use any methods, fields and final variables available in the containing scope, but one has to be wary of the fact that initializers are run before constructors. </p>
</blockquote>
</aside>
<p>Double bracing is pretty cool to know, but the downside of it is that it creates an annonymous inner class, which is more to execute than it is just to add them dynamically. So therefore, doing it this way would be slightly slower than doing it the usual way. Again, not as efficient, but a little cool to know huh?</p>
      </div>

      <meta itemprop='headline' content='Inside Info to Double Brace Initialization'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-05-16T11:21:25Z'>
            <time itemprop='dateModified' datetime='2016-07-31T16:30:25Z' class='post-time'>
              July 31, 2016,  4:30pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Awful approach. As stated, you’re creating an anonymous class.<br>
But the real reason for it being awful is that the first approach is clearer to most, if not all, people. How many people are going to understand the semantics of the second approach without going out of their way to find out? Many people find anonymous classes difficult enough to grasp as it is.</p>
<p>Stick with the first solution.</p>
      </div>

      <meta itemprop='headline' content='Inside Info to Double Brace Initialization'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Project_Evolution.html'><span itemprop='name'>Project_Evolution</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-05-16T14:10:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T16:30:29Z' class='post-time'>
              July 31, 2016,  4:30pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I agree, I asked around a couple of people when I first posted this somewhere else and it was quite confusing to people. Also the inner class really isnt so helpful or even needed if done the more common way. So I agree.</p>
      </div>

      <meta itemprop='headline' content='Inside Info to Double Brace Initialization'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-05-16T16:40:58Z'>
            <time itemprop='dateModified' datetime='2016-07-31T16:30:38Z' class='post-time'>
              July 31, 2016,  4:30pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>given the fact constructors ARE instance initializers, and are most certainly run before the one you created in said anonymous inner class, you are wrong.</p>
      </div>

      <meta itemprop='headline' content='Inside Info to Double Brace Initialization'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Project_Evolution.html'><span itemprop='name'>Project_Evolution</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-05-16T17:24:17Z'>
            <time itemprop='dateModified' datetime='2016-07-31T16:30:42Z' class='post-time'>
              July 31, 2016,  4:30pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorry, I dont mean to try and dodge the bullet but if its the quote then I just got it from the article I read it from.</p>
<p>Anyhow, I think im going to read up on classloading and such, know any good articles?</p>
      </div>

      <meta itemprop='headline' content='Inside Info to Double Brace Initialization'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Protosstribe.html'><span itemprop='name'>Protosstribe</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-05-16T19:23:55Z'>
            <time itemprop='dateModified' datetime='2016-07-31T16:30:49Z' class='post-time'>
              July 31, 2016,  4:30pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Project Evolution, post:5, topic:340251”]Anyhow, I think im going to read up on classloading and such, know any good articles?[/quote]The JVM specification? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Inside Info to Double Brace Initialization'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Project_Evolution.html'><span itemprop='name'>Project_Evolution</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-05-16T19:27:21Z'>
            <time itemprop='dateModified' datetime='2016-07-31T16:30:49Z' class='post-time'>
              July 31, 2016,  4:30pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="6" data-topic="340251">
<div class="title">
<div class="quote-controls"></div>
 object:</div>
<blockquote>
<p>[quote author=Project Evolution link=topic=436617.msg3208610#msg3208610 date=1274030657]Anyhow, I think im going to read up on classloading and such, know any good articles?[/quote]The JVM specification? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>Thanks a lot. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Inside Info to Double Brace Initialization'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lesterknome.html'><span itemprop='name'>lesterknome</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-05-16T19:43:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T16:30:53Z' class='post-time'>
              July 31, 2016,  4:30pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I personally dislike anonymous classes.</p>
      </div>

      <meta itemprop='headline' content='Inside Info to Double Brace Initialization'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/inside-info-to-double-brace-initialization/340251 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 05:26:28 GMT -->
</html>
