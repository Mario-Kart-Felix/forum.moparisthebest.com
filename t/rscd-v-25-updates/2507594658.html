<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/rscd-v-25-updates/250759?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 05:17:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>RSCD v_25 updates - Runescape - moparisthebest.com</title>
    <meta name="description" content="Going to be re-writing and optimizing the RSCD_v25 source as I see fit (Server and LServer only). This may/may not include JUnit test-cases, commenting, and efficiency improvements.  

[hr] 

Revision history: 

 Commit:&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2507594658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;RSCD v_25 updates&#39;" href="250759.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/rscd-v-25-updates/250759?page=2" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/rscd-v-25-updates/250759?page=2" />
<meta property="og:title" content="RSCD v_25 updates" />
<meta name="twitter:title" content="RSCD v_25 updates" />
<meta property="og:description" content="How exactly should this area system fix the problem of having a lot of people in one area?  If everyone is at the same area, the size of players to iterate through is still the same." />
<meta name="twitter:description" content="How exactly should this area system fix the problem of having a lot of people in one area?  If everyone is at the same area, the size of players to iterate through is still the same." />
<meta property="article:published_time" content="2008-12-18T06:44:01+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="250759.html">
      <link rel="next" href="2507599ba9.html?page=3">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="250759.html">RSCD v_25 updates</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T06:44:01Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:44Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How exactly should this area system fix the problem of having a lot of people in one area?</p>
<p>If everyone is at the same area, the size of players to iterate through is still the same.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Argation.html'><span itemprop='name'>Argation</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T07:15:44Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:44Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>peter, ephemeral explained it already. look back a few posts.</p>
<p>in short. going through all the players will “lock up” the system while it loops through. when you add the msg to a queue of the area every player for himself can check up on the queue and it won’t lock up.</p>
<blockquote>If you iterate through some collection of users and informs these of the events, the update-process will stop doing anything else until this have been done. The more users to update, the longer it will take to perform. If you instead post this event to a global queue, every user can peek the last few events that the user in question have not yet received, and update in accurate order (from the earliest to the latest events). This also does not necessarily have to be done in one update-cycle, which allows for other updates to be processed in-between, and therefore does not stop the update-cycle for any particular user at any given time.</blockquote>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T09:13:22Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:48Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So instead of the server updating the player(s), the player will request updates from the q. at random times(not a loop)?</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/system.html'><span itemprop='name'>system</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T09:47:41Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:48Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Peter: Not at random times, they will check up as soon as they see an event in the queue (pretty much atleast). The case in my server, is that I use the one-thread-per-client approach, so I believe it would be a little bit different for servers based on an updater-thread.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T10:46:48Z'>
            <time itemprop='dateModified' datetime='2019-01-13T14:21:11Z' class='post-time'>
              January 13, 2019,  2:21pm
            </time>
        <span itemprop='position'>#25</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeah, but threading each client isn’t the greatest solution. I know we’ve had this discussion and I’ll stay with NIO &gt; threads.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KO9.html'><span itemprop='name'>KO9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T10:52:08Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:49Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#26</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Peter, post:25, topic:250759”][quote author=ephemeral link=topic=330797.msg2587581#msg2587581 date=1229593661]<br>
Peter: Not at random times, they will check up as soon as they see an event in the queue (pretty much atleast). The case in my server, is that I use the one-thread-per-client approach, so I believe it would be a little bit different for servers based on an updater-thread.<br>
[/quote]</p>
<p>Yeah, but threading each client isn’t the greatest solution. I know we’ve had this discussion and I’ll stay with NIO &gt; threads.[/quote]</p>
<p>Threading each area and updating clients would still be better than the current system</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T12:02:06Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:51Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#27</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“KO9, post:26, topic:250759”][quote author=Peter link=topic=330797.msg2587601#msg2587601 date=1229597208]</p>
<aside class="quote no-group">
<blockquote>
<p>Peter: Not at random times, they will check up as soon as they see an event in the queue (pretty much atleast). The case in my server, is that I use the one-thread-per-client approach, so I believe it would be a little bit different for servers based on an updater-thread.</p>
</blockquote>
</aside>
<p>Yeah, but threading each client isn’t the greatest solution. I know we’ve had this discussion and I’ll stay with NIO &gt; threads.</p>
<p>[/quote]</p>
<p>Threading each area and updating clients would still be better than the current system[/quote]</p>
<p>Each area != each client. AreaUpdater would make sense to me.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KO9.html'><span itemprop='name'>KO9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T12:22:52Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:53Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#28</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Peter, post:27, topic:250759”][quote author=KO9 link=topic=330797.msg2587602#msg2587602 date=1229597528]</p>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<p>Peter: Not at random times, they will check up as soon as they see an event in the queue (pretty much atleast). The case in my server, is that I use the one-thread-per-client approach, so I believe it would be a little bit different for servers based on an updater-thread.</p>
</blockquote>
</aside>
<p>Yeah, but threading each client isn’t the greatest solution. I know we’ve had this discussion and I’ll stay with NIO &gt; threads.</p>
</blockquote>
</aside>
<p>Threading each area and updating clients would still be better than the current system<br>
[/quote]</p>
<p>Each area != each client. AreaUpdater would make sense to me.[/quote]</p>
<p>Yes I know that, but I meant that doing area updates with seperate threads per area would probably be the best way to go for RSCDv25</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T12:36:22Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:53Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#29</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“KO9, post:28, topic:250759”][quote author=Peter link=topic=330797.msg2587630#msg2587630 date=1229601726]</p>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<p>Peter: Not at random times, they will check up as soon as they see an event in the queue (pretty much atleast). The case in my server, is that I use the one-thread-per-client approach, so I believe it would be a little bit different for servers based on an updater-thread.</p>
</blockquote>
</aside>
<p>Yeah, but threading each client isn’t the greatest solution. I know we’ve had this discussion and I’ll stay with NIO &gt; threads.</p>
</blockquote>
</aside>
<p>Threading each area and updating clients would still be better than the current system</p>
</blockquote>
</aside>
<p>Each area != each client. AreaUpdater would make sense to me.<br>
[/quote]</p>
<p>Yes I know that, but I meant that doing area updates with seperate threads per area would probably be the best way to go for RSCDv25[/quote]</p>
<p>Yeah, but how exactly would that fix the “too many people in one area” problem?</p>
<p>Or are we talking about different problems? As far as I understood, you’re talking about the bug where currently the server logs out half the people if they overload one “town” so to say.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KO9.html'><span itemprop='name'>KO9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T12:45:06Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:53Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#30</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don’t know if it would fix the problem or not, but if it only has to process everyone in that area and can do-so in its own thread, then the load should be reduced and it should be able to process it quicker and minimise the chances of corruption.</p>
<p>I don’t know if there are currently any checks to make sure that the player which is being updated is still logged in, but if not this would also help the situation.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T13:07:08Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:54Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#31</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“KO9, post:30, topic:250759”]I don’t know if it would fix the problem or not, but if it only has to process everyone in that area and can do-so in its own thread, then the load should be reduced and it should be able to process it quicker and minimise the chances of corruption.</p>
<p>I don’t know if there are currently any checks to make sure that the player which is being updated is still logged in, but if not this would also help the situation.[/quote]</p>
<p>Logically this will have minimalistic impact on that bug. In general, it’ll be a big improvement though.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/system.html'><span itemprop='name'>system</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T17:46:33Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:06:14Z' class='post-time'>
              July 31, 2016,  4:06am
            </time>
        <span itemprop='position'>#32</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Peter: Actually, what made you guys say that the one-thread-per-client approach is worse than the other types that exists? I am honestly curious to know, because I have only heard this rumour here at this site, but on sites that I have read about MMO-programming, the opposite have neither been told to be the best nor the worst idea. I have heard some people prefer this one-thread-per-client approach to others, and vice versa.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vrunk.html'><span itemprop='name'>Vrunk</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T18:33:59Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:06:17Z' class='post-time'>
              July 31, 2016,  4:06am
            </time>
        <span itemprop='position'>#33</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“KO9, post:30, topic:250759”]I don’t know if it would fix the problem or not, but if it only has to process everyone in that area and can do-so in its own thread, then the load should be reduced and it should be able to process it quicker and minimise the chances of corruption.</p>
<p>I don’t know if there are currently any checks to make sure that the player which is being updated is still logged in, but if not this would also help the situation.[/quote]</p>
<p>Again, corruption should not be an issue here, unless you have some kind of weird of synchronization issues, or malformed packets due to incorrectly coded packet builders. But, you do hit the issue on the nose with what you said.</p>
<p>Since each area will have it’s own update thread, the overall load on the server ‘should’ be reduced. Even in the worst case that there are many people in one area, this approach will still improve performance by removing the responsibility of the run() method in the GameEngine to send out packets. That will give this thread more opportunity to do things besides update clients.</p>
<p>Also, remember that two approaches to decreasing the load on the server are being combined here:</p>
<ol>
<li>A separate thread that updates clients (reduces time complexity).</li>
<li>Splitting the world into zones (reduces bandwidth usage <span class="bbcode-i">and</span> time complexity).</li>
</ol>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Peter.html'><span itemprop='name'>Peter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-21T11:47:57Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:11:09Z' class='post-time'>
              July 31, 2016,  4:11am
            </time>
        <span itemprop='position'>#34</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="32" data-topic="250759">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ephemeral/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> ephemeral:</div>
<blockquote>
<p>Peter: Actually, what made you guys say that the one-thread-per-client approach is worse than the other types that exists? I am honestly curious to know, because I have only heard this rumour here at this site, but on sites that I have read about MMO-programming, the opposite have neither been told to be the best nor the worst idea. I have heard some people prefer this one-thread-per-client approach to others, and vice versa.</p>
</blockquote>
</aside>
<p><a href="http://www.theserverside.com/news/thread.tss?thread_id=48449#247646" class="onebox" target="_blank" rel="nofollow noopener">http://www.theserverside.com/news/thread.tss?thread_id=48449#247646</a><br>
<a href="http://markmail.org/message/eghl36poqrehpjpv" class="onebox" target="_blank" rel="nofollow noopener">http://markmail.org/message/eghl36poqrehpjpv</a></p>
<p>A few links I found googling NIO vs IO and NIO vs Threads. The only paper supporting IO &gt; NIO is from 2004. A paper that’s almost 5 years old isn’t accurate.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KO9.html'><span itemprop='name'>KO9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-23T22:58:31Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:15:39Z' class='post-time'>
              July 31, 2016,  4:15am
            </time>
        <span itemprop='position'>#35</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <blockquote>It would seem to me that the proper path for high scalability and performance would be multi-threaded NIO.</blockquote>
<p>I think this guy is right on the money. But that would be the case of creating seperate threads for different processes, as we were already saying.</p>
<p>One thread per area, for updates. One thread for handling incoming connections. One or more for saving, etc etc.</p>
<p>I don’t think that one for every single user (300+ threads on a high load server) is the way to go. Unless you have 8 CPUs with 4+ cores per CPU, I don’t see the point in creating a fuckton of threads. That being said, ~20-30 threads should boost performance for a high load server, if done properly.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vrunk.html'><span itemprop='name'>Vrunk</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-23T23:10:14Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:15:40Z' class='post-time'>
              July 31, 2016,  4:15am
            </time>
        <span itemprop='position'>#36</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Honestly, anything other than the current system will increase the amount of users that can be on a single server. The updates are progressing nicely, but there is a lot more work to be done before I start working on the multithreading.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/storkme.html'><span itemprop='name'>storkme</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-24T13:15:44Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:16:32Z' class='post-time'>
              July 31, 2016,  4:16am
            </time>
        <span itemprop='position'>#37</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Vrunk, post:1, topic:251024”]An example of a “small change” is below</p>
<pre><code class="lang-auto">		String configFile = "conf/ls/Conf.xml";</code></pre>
<p>to</p>
<p><code>		String configFile = "conf/ls/Conf.xml";
		configFile.replace('/', File.separatorChar);</code>[/quote]<br>
brb, fixing problems that were never there.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xpwntjo0x.html'><span itemprop='name'>xpwntjo0x</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-24T13:32:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:16:33Z' class='post-time'>
              July 31, 2016,  4:16am
            </time>
        <span itemprop='position'>#38</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><img src="../../images/emoji/twitter/open_mouth1bce.png?v=6" title=":open_mouth:" class="emoji" alt=":open_mouth:"> Tons of crap… GL tho</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vrunk.html'><span itemprop='name'>Vrunk</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-24T17:27:52Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:16:50Z' class='post-time'>
              July 31, 2016,  4:16am
            </time>
        <span itemprop='position'>#39</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“storkme, post:37, topic:250759”][quote author=Vrunk link=topic=330797.msg2586214#msg2586214 date=1229532687]<br>
An example of a “small change” is below</p>
<pre><code class="lang-auto">		String configFile = "conf/ls/Conf.xml";</code></pre>
<p>to</p>
<p><code>		String configFile = "conf/ls/Conf.xml";
		configFile.replace('/', File.separatorChar);</code></p>
<p>[/quote]<br>
brb, fixing problems that were never there.[/quote]</p>
<p>Java is “usually” smart enough to figure out where the file is located by simply providing forward slashes. However, doing a replacement with File.separatorChar gives some extra insurance when it comes to cross-platform reliability. This is one of those things that probably doesn’t <span class="bbcode-i">actually</span> matter one way or another.</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/storkme.html'><span itemprop='name'>storkme</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-24T21:47:15Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:17:13Z' class='post-time'>
              July 31, 2016,  4:17am
            </time>
        <span itemprop='position'>#40</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Vrunk, post:39, topic:250759”][quote author=storkme link=topic=330797.msg2598901#msg2598901 date=1230124544]</p>
<aside class="quote no-group">
<blockquote>
<p>An example of a “small change” is below</p>
<pre><code class="lang-auto">		String configFile = "conf/ls/Conf.xml";</code></pre>
<p>to</p>
<p><code>		String configFile = "conf/ls/Conf.xml";
		configFile.replace('/', File.separatorChar);</code></p>
</blockquote>
</aside>
<p>brb, fixing problems that were never there.<br>
[/quote]</p>
<p>Java is “usually” smart enough to figure out where the file is located by simply providing forward slashes. However, doing a replacement with File.separatorChar gives some extra insurance when it comes to cross-platform reliability. This is one of those things that probably doesn’t <span class="bbcode-i">actually</span> matter one way or another.[/quote]<br>
So are all your small changes totally useless?</p>
      </div>

      <meta itemprop='headline' content='RSCD v_25 updates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="250759.html">← previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="2507599ba9.html?page=3">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/rscd-v-25-updates/250759?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 05:17:04 GMT -->
</html>
