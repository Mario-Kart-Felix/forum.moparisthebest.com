<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/help-adding-poison/418444 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 18:57:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Help adding poison - Runescape - moparisthebest.com</title>
    <meta name="description" content="I noticed there are no previous threads on how to add poison.. Could anyone tell me what file(s) I need to edit to add it? Any other tips are appreciated as well.">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="418444.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Help adding poison&#39;" href="418444.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/help-adding-poison/418444" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/help-adding-poison/418444" />
<meta property="og:title" content="Help adding poison" />
<meta name="twitter:title" content="Help adding poison" />
<meta property="og:description" content="I noticed there are no previous threads on how to add poison… Could anyone tell me what file(s) I need to edit to add it? Any other tips are appreciated as well." />
<meta name="twitter:description" content="I noticed there are no previous threads on how to add poison… Could anyone tell me what file(s) I need to edit to add it? Any other tips are appreciated as well." />
<meta property="article:published_time" content="2011-10-16T19:34:39+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="418444.html">Help adding poison</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/A_Gh0st.html'><span itemprop='name'>A_Gh0st</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-16T19:34:39Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:37:42Z' class='post-time'>
              August 1, 2016,  3:37pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I noticed there are no previous threads on how to add poison… Could anyone tell me what file(s) I need to edit to add it? Any other tips are appreciated as well.</p>
      </div>

      <meta itemprop='headline' content='Help adding poison'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-16T19:37:49Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:37:42Z' class='post-time'>
              August 1, 2016,  3:37pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Does RSCA have poison implemented?</p>
      </div>

      <meta itemprop='headline' content='Help adding poison'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/A_Gh0st.html'><span itemprop='name'>A_Gh0st</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-16T19:40:09Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:37:42Z' class='post-time'>
              August 1, 2016,  3:37pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m actually not sure. I was doing it on EasyRSC just to learn how.</p>
      </div>

      <meta itemprop='headline' content='Help adding poison'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cleako.html'><span itemprop='name'>cleako</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-17T01:42:09Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:38:05Z' class='post-time'>
              August 1, 2016,  3:38pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Motoro’s version of EasyRSC has some form of poisoning. Noobscape3 might have a form too.</p>
<p>I have partially implemented it with the Darkquest source but only poison arrows work (not rune arrows though). NPCs don’t poison players nor do mele weapons yet work. I just need time to work on it. When I do get it working, I will share it.</p>
      </div>

      <meta itemprop='headline' content='Help adding poison'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/A_Gh0st.html'><span itemprop='name'>A_Gh0st</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-18T12:44:22Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:40:06Z' class='post-time'>
              August 1, 2016,  3:40pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Kryptix, post:1, topic:418468”][quote author=CodeForFame link=topic=520988.msg3785039#msg3785039 date=1318793869]<br>
Does RSCA have poison implemented?<br>
[/quote]<br>
Nope.[/quote]<br>
Correct. What files would I need to look in to work on adding poison damage? Would I just make a mini-event after the player attacks a certain monster (provided the monster damages the player) in which “X” amount of damage is dealt after “y” seconds?</p>
      </div>

      <meta itemprop='headline' content='Help adding poison'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-19T01:58:56Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:41:36Z' class='post-time'>
              August 1, 2016,  3:41pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Kryptix, post:2, topic:418468”]On RSCE I have it so every time a poisonous NPC hits a player it has a formula that returns true if the player should be poisoned. Armour, defense, combat and prayer are taken into consideration. If it’s true, it runs the poison(int damage) method in the Player class.</p>
<p><code>public boolean isPoisoned() {
	return poisonPower &gt; 0;
}</code></p>
<p><code>public void poison(int power) {
	if (!isPoisoned()) {
		this.poisonPower = power;
		poisonEvent = new DelayedEvent(this, 19500) {
			public void run() {
				damagePoison();
			}
		};
		World.getDelayedEventHandler().add(poisonEvent);
	} else
		this.poisonPower = power;
}</code></p>
<p><code>public void curePoison() {
	this.poisonPower = 0;
	if (poisonEvent != null)
		poisonEvent.stop();
}</code></p>
<p>[code=Java]public void startPoison(int power) {<br>
this.poison(power);<br>
this.poisonPower = power;</p>
<pre><code>double poison = Math.ceil(poisonPower / 5);
int damage = (int)poison + 1;			

setLastDamage(damage);
setCurStat(3, getCurStat(3) - damage);
sendStat(3);			
sendMessage("@gr3@You @gr2@are @gr1@Poisoned! @gr2@You @gr3@lose " + damage + " @gr1@health.");

for (Player p : getViewArea().getPlayersInView())
	p.informOfModifiedHits(this);
if (getCurStat(3) &lt;= 0)
	killedBy(null, false);	
</code></pre>
<p>}[/code]</p>
<p>[code=Java]public void damagePoison() {<br>
if (this.poisonPower &gt; 0) {<br>
double calcDamage = Math.ceil(poisonPower / 5);<br>
int damage = (int)calcDamage + 1;			<br>
poisonPower–;</p>
<pre><code>	setLastDamage(damage);
	setCurStat(3, getCurStat(3) - damage);
	sendStat(3);			
	sendMessage("@gr3@You @gr2@are @gr1@Poisoned! @gr2@You @gr3@lose " + damage + " @gr1@health.");
	
	for (Player p : getViewArea().getPlayersInView())
		p.informOfModifiedHits(this);
	if (getCurStat(3) &lt;= 0)
		killedBy(null, false);
} else {
	if (poisonEvent != null)
		poisonEvent.stop();
	this.poisonPower = 0;
}		
</code></pre>
<p>}[/code]</p>
<p>It could be done a lot easier for sure but I wanted it identical to RSC and that’s the way I came up with. I’m sure it can be improved though.[/quote]I don’t really see how else you would do it…</p>
<p>In the startPoison method you should just call damagePoison instead of having duplicate code.</p>
      </div>

      <meta itemprop='headline' content='Help adding poison'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/help-adding-poison/418444 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 18:57:43 GMT -->
</html>
