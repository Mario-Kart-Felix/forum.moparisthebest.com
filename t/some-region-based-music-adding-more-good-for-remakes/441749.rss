<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Some region-based music. Adding more! Good for remakes</title>
    <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749</link>
    <description>Btw I don&#39;t care if there&#39;s mistakes I wrote it in the Notes app on my iPod.


[b]Music Tracks Added:

-Varrock
-More parts of Varrock
-Al-Kahrid
-Sea Shanty
-Goblin Village
-Unknown Land
-Catherby
-Lumbridge
-More will be added[/b]

[code=java]

//import nothing.to.import.here;
      /**
       * Manages region-based
       * music. When the player is in the specified
         *  X and Y coordinates, 
         * it plays the specified music ID.
         * 
         * Author: TiVo444.
       */
      public void simpleMusicPlayerVarrock() {
            if(absX &gt; 3155 &amp;&amp; absX &lt; 3290 &amp;&amp; absY &gt; 3370 &amp;&amp; absY &lt; 3515) {/**This checks if you are in certain coordinates.*/
                  outStream.createFrame(74);/**Sends Frame 74 (duh).*/
                  outStream.writeWordBigEndian(125);/**This grabs the music ID that was specified (Music ID 125) (from the cache), and plays it!*/
/**Varrock Music BTW*/
            }
      public void simpleMusicPlayerAlKarid() {
            if(absX &gt; 3263 &amp;&amp; absX &lt; 3333 &amp;&amp; absY &gt; 3145 &amp;&amp; absY &lt; 3195) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(50);//Al-Karhid.
            }
      public void simpleMusicPlayerSeaShanty() {
            if(absX &gt; 3006 &amp;&amp; absX &lt; 3060 &amp;&amp; absY &gt; 3170 &amp;&amp; absY &lt; 3165) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(35);//Sea Shanty.
            }
      public void simpleMusicPlayerGobbyVillage() {
            if(absX &gt; 2940 &amp;&amp; absX &lt; 2980 &amp;&amp; absY &gt; 3470 &amp;&amp; absY &lt; 3520) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(150);//Goblin Village.
            }
      public void simpleMusicPlayerUnknownLand() {
            if(absX &gt; 2915 &amp;&amp; absX &lt; 2999 &amp;&amp; absY &gt; 3195 &amp;&amp; absY &lt; 3260) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(49);//Unknown Land
            }
      public void simpleMusicPlayerCatherby() {
            if(absX &gt; 2790 &amp;&amp; absX &lt; 2865 &amp;&amp; absY &gt; 3415 &amp;&amp; absY &lt; 3470) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(119);//Catherby
            }
      public void simpleMusicPlayerLumbridge() {
            if(absX &gt; 3060 &amp;&amp; absX &lt; 3140 &amp;&amp; absY &gt; 3150 &amp;&amp; absY &lt; 3232) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(151);//Lumbridge
            }
[/code]
 
I added lots of comments explaining the smallest of things to help you understand the code better. I will not tell you where to put it, you will have to figure that out yourself. 

EDIT: Added Varrock, Lumbridge and Catherby.</description>
    
    <lastBuildDate>Fri, 11 May 2012 17:01:07 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@lurtz1230 lurtz1230]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lurtz1230">@lurtz1230</a> wrote:</p>
          <blockquote>
              <p>[quote=“t4, post:22, topic:441749”][quote author=Native^ link=topic=544436.msg3991598#msg3991598 date=1336661588]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I think the best way to do this is in each cycle. There you check if the player is in an area where a specific music fragment is played. If yes, you send the music packet.</p>
<p>Also you should read the music areas from a file. etc. etc.<br>
And you should not make it region based because in some regions there’s more than one music fragment.</p>
</blockquote>
</aside>
<p>polling is bad and completely unnecessary in this scenario</p>
</blockquote>
</aside>
<p>Why? I mean, you could just make a method like</p>
<pre><code class="lang-auto">player.playMusicForLocation(player.getLocation());</code></pre>
<p>And if you’re using non blocking NIO, it doesn’t take long before it returns.</p>
</blockquote>
</aside>
<p>because a region change is triggered by the client and music stays the same in a given region…??? It’s an O(1) operation and only occurs when it’s needed, why in the hell would you want to do an O(N) operation every cycle?</p>
</blockquote>
</aside>
<p>So you can actually update the music when necessary. Not only when the client enters a new region.<br>
[/quote]<br>
But the music only changes upon change in region OR specified by the user, both of which are events that get sent from client to server.[/quote]</p>
<p>So true, it does not need to be looped/processed at all, just handled when it recieved the certain packet(s).</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/25">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/25</link>
        <pubDate>Fri, 11 May 2012 17:01:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-25</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>t4 = 1<br>
everyone arguing against him = 0</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/24</link>
        <pubDate>Thu, 10 May 2012 19:27:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-24</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@Native1 Native^]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/native1">@Native1</a> wrote:</p>
          <blockquote>
              <p>[quote=“t4, post:22, topic:441749”][quote author=Native^ link=topic=544436.msg3991598#msg3991598 date=1336661588]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I think the best way to do this is in each cycle. There you check if the player is in an area where a specific music fragment is played. If yes, you send the music packet.</p>
<p>Also you should read the music areas from a file. etc. etc.<br>
And you should not make it region based because in some regions there’s more than one music fragment.</p>
</blockquote>
</aside>
<p>polling is bad and completely unnecessary in this scenario</p>
</blockquote>
</aside>
<p>Why? I mean, you could just make a method like</p>
<pre><code class="lang-auto">player.playMusicForLocation(player.getLocation());</code></pre>
<p>And if you’re using non blocking NIO, it doesn’t take long before it returns.</p>
</blockquote>
</aside>
<p>because a region change is triggered by the client and music stays the same in a given region…??? It’s an O(1) operation and only occurs when it’s needed, why in the hell would you want to do an O(N) operation every cycle?</p>
</blockquote>
</aside>
<p>So you can actually update the music when necessary. Not only when the client enters a new region.<br>
[/quote]<br>
But the music only changes upon change in region OR specified by the user, both of which are events that get sent from client to server.[/quote]<br>
orly? Can’t there be more than one song in each region? Ok, nevermind. Then it’s not necessary of course. Thanks for the discussion  :rolleyes:,</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/23">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/23</link>
        <pubDate>Thu, 10 May 2012 16:47:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-23</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>[quote=“Native^, post:20, topic:441749”][quote author=t4 link=topic=544436.msg3991092#msg3991092 date=1336596701]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I think the best way to do this is in each cycle. There you check if the player is in an area where a specific music fragment is played. If yes, you send the music packet.</p>
<p>Also you should read the music areas from a file. etc. etc.<br>
And you should not make it region based because in some regions there’s more than one music fragment.</p>
</blockquote>
</aside>
<p>polling is bad and completely unnecessary in this scenario</p>
</blockquote>
</aside>
<p>Why? I mean, you could just make a method like</p>
<pre><code class="lang-auto">player.playMusicForLocation(player.getLocation());</code></pre>
<p>And if you’re using non blocking NIO, it doesn’t take long before it returns.</p>
</blockquote>
</aside>
<p>because a region change is triggered by the client and music stays the same in a given region…??? It’s an O(1) operation and only occurs when it’s needed, why in the hell would you want to do an O(N) operation every cycle?<br>
[/quote]<br>
So you can actually update the music when necessary. Not only when the client enters a new region.[/quote]<br>
But the music only changes upon change in region OR specified by the user, both of which are events that get sent from client to server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/22">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/22</link>
        <pubDate>Thu, 10 May 2012 16:27:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-22</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@Rodgerwilco Rodgerwilco]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/rodgerwilco">@Rodgerwilco</a> wrote:</p>
          <blockquote>
              <p>Predefine the coordinates of towns.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/21</link>
        <pubDate>Thu, 10 May 2012 15:23:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-21</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@Native1 Native^]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/native1">@Native1</a> wrote:</p>
          <blockquote>
              <p>[quote=“t4, post:18, topic:441749”][quote author=Native^ link=topic=544436.msg3991072#msg3991072 date=1336595804]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I think the best way to do this is in each cycle. There you check if the player is in an area where a specific music fragment is played. If yes, you send the music packet.</p>
<p>Also you should read the music areas from a file. etc. etc.<br>
And you should not make it region based because in some regions there’s more than one music fragment.</p>
</blockquote>
</aside>
<p>polling is bad and completely unnecessary in this scenario</p>
</blockquote>
</aside>
<p>Why? I mean, you could just make a method like</p>
<pre><code class="lang-auto">player.playMusicForLocation(player.getLocation());</code></pre>
<p>And if you’re using non blocking NIO, it doesn’t take long before it returns.<br>
[/quote]<br>
because a region change is triggered by the client and music stays the same in a given region…??? It’s an O(1) operation and only occurs when it’s needed, why in the hell would you want to do an O(N) operation every cycle?[/quote]<br>
So you can actually update the music when necessary. Not only when the client enters a new region.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/20</link>
        <pubDate>Thu, 10 May 2012 14:53:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-20</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>send music if your player changes either chunks or regions. dont be dumb.  chunks would cost more memory but will be more precise.</p>
<p>in my system I update relative to chunks. I dont want to have to explain the region system; its on the wiki.</p>
<pre><code class="lang-auto">package org.runetekk;

/**
 * Region.java
 * @version 1.0.0
 * @author RuneTekk Development (SiniSoul)
 */
public final class Region {
    
    /**
     * The {@link Region} chunks.
     */
    Chunk[][] chunks;
    
    /**
     * The song that will be played when a player enters this region.
     */
    int songId;
    
    /**
     * Constructs a new {@link Region};
     */
    Region() {
        songId = -1;
    }
}</code></pre>
<p>This method is called after the movement has been processed. Compares your previous region hashes to check if you’ve changed and an update is needed.</p>
<pre><code class="lang-auto"> /**
     * Updates the region that this entity is in.
     */
    void updateRegion() {      
        int cHash = (((coordX &gt;&gt; 3) - ((coordX &gt;&gt; 6) &lt;&lt; 3)) &lt;&lt; 8) | ((coordY &gt;&gt; 3) - ((coordY &gt;&gt; 6) &lt;&lt; 3));
        int rHash = ((coordX &gt;&gt; 6) &lt;&lt; 8) | ((coordY) &gt;&gt; 6);
        boolean updateRegion = cHash != cUpdatedHash;
        if(updateRegion || cHash != cUpdatedHash) {
            removeFromList();  
            Region region = null;       
            Chunk chunk = null;
            if(Main.regions != null &amp;&amp; Main.regions[coordX &gt;&gt; 6] != null &amp;&amp; (region = Main.regions[coordX &gt;&gt; 6][coordY &gt;&gt; 6]) != null) {
                if(region.chunks != null &amp;&amp; region.chunks[(coordX &gt;&gt; 3) - ((coordX &gt;&gt; 6) &lt;&lt; 3)] != null &amp;&amp;
                                   (chunk = region.chunks[(coordX &gt;&gt; 3) - ((coordX &gt;&gt; 6) &lt;&lt; 3)]
                                                     [(coordY &gt;&gt; 3) - ((coordY &gt;&gt; 6) &lt;&lt; 3)]) != null) {
                    ListNode list = null;
                    if(updateRegion &amp;&amp; this instanceof Client) {
                        list = chunk.activePlayers;
                        if(!((Client) this).isLowMemory &amp;&amp; region.songId != -1) {
                            int songId = region.songId;
                            Client client = (Client) this;
                            Client.sendMusic(client, songId);
                            if(Main.musicNames.length - 1 &gt;= songId &amp;&amp; Main.musicNames[songId] != null) {
                                if((client.activeMusic[songId &gt;&gt; 3] &amp; (1 &lt;&lt; (songId &amp; 7))) == 0) {
                                    Client.sendMessage(client, "@red@You have unlocked the music track: " + Main.musicNames[region.songId] + ".");
                                    client.activeMusic[songId &gt;&gt; 3] |= 1 &lt;&lt; (songId &amp; 7);
                                }
                            }
                        }
                    } else if(this instanceof GroundItem) {
                        list = chunk.activeItems;
                    }
                    parentNode = list.parentNode;
                    childNode = list;
                    parentNode.childNode = this;
                    childNode.parentNode = this;   
                    rUpdatedHash = rHash;
                    cUpdatedHash = cHash;
                    return;
                }
            }
            throw new RuntimeException("eek");
        }   
    }
</code></pre>
<p>much, much, much, much, better than polling. ah yeah, and I had music unlocking. forgot about that.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/19</link>
        <pubDate>Wed, 09 May 2012 22:34:10 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-19</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>[quote=“Native^, post:15, topic:441749”][quote author=t4 link=topic=544436.msg3991038#msg3991038 date=1336593882]</p>
<aside class="quote">
<blockquote>
<p>I think the best way to do this is in each cycle. There you check if the player is in an area where a specific music fragment is played. If yes, you send the music packet.</p>
<p>Also you should read the music areas from a file. etc. etc.<br>
And you should not make it region based because in some regions there’s more than one music fragment.</p>
</blockquote>
</aside>
<p>polling is bad and completely unnecessary in this scenario<br>
[/quote]<br>
Why? I mean, you could just make a method like</p>
<pre><code class="lang-auto">player.playMusicForLocation(player.getLocation());</code></pre>
<p>And if you’re using non blocking NIO, it doesn’t take long before it returns.[/quote]<br>
because a region change is triggered by the client and music stays the same in a given region…??? It’s an O(1) operation and only occurs when it’s needed, why in the hell would you want to do an O(N) operation every cycle?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/18</link>
        <pubDate>Wed, 09 May 2012 20:51:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-18</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@Definitive Definitive]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/definitive">@Definitive</a> wrote:</p>
          <blockquote>
              <p>i dislike the fact that your creating void’s over and over (for certain regions), thus meaning the result would be inaccurate. as certain region(s) contain more then one song (as Native mentioned). dumping it in process() won’t do it any good, either.</p>
<p>i’d suggest creating a class that reads certain music in specific coordinates (something on those lines).</p>
<p>and what about stopping the music (just for debugging purposes, maybe)? i have a solution, not very effective though:</p>
<p><code>						try {
            					signlink.musicSr.stop();
							} catch (Exception ex) { 
						}</code><br>
then just send it via server sided.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/17</link>
        <pubDate>Wed, 09 May 2012 20:43:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-17</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@TiVo TiVo]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tivo">@TiVo</a> wrote:</p>
          <blockquote>
              <p>This is just a base. It’s meant to be helpful. I know it’s not complete.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/16</link>
        <pubDate>Wed, 09 May 2012 20:38:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-16</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@Native1 Native^]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/native1">@Native1</a> wrote:</p>
          <blockquote>
              <p>[quote=“t4, post:11, topic:441749”][quote author=Native^ link=topic=544436.msg3990973#msg3990973 date=1336590389]<br>
I think the best way to do this is in each cycle. There you check if the player is in an area where a specific music fragment is played. If yes, you send the music packet.</p>
<p>Also you should read the music areas from a file. etc. etc.<br>
And you should not make it region based because in some regions there’s more than one music fragment.<br>
[/quote]<br>
polling is bad and completely unnecessary in this scenario[/quote]<br>
Why? I mean, you could just make a method like</p>
<pre><code class="lang-auto">player.playMusicForLocation(player.getLocation());</code></pre>
<p>And if you’re using non blocking NIO, it doesn’t take long before it returns.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/15</link>
        <pubDate>Wed, 09 May 2012 20:36:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-15</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@James-RevolutionX James-RevolutionX]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/james-revolutionx">@James-RevolutionX</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="13" data-topic="441749">
<div class="title">
<div class="quote-controls"></div>
 n10si t:</div>
<blockquote>
<p>you forgot to add the step where you add all these to process() in client.java</p>
</blockquote>
</aside>
<p>that’s another reason why it’s horrible. also, here’s an example of using it: <code>simpleMusicPlayerVarrock();</code></p>
<p>it’s also not accurate, as some region contains more then one segment of music (as ^Native said).</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/14</link>
        <pubDate>Wed, 09 May 2012 20:33:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-14</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@n10si_t n10si t]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/n10si_t">@n10si_t</a> wrote:</p>
          <blockquote>
              <p>you forgot to add the step where you add all these to process() in client.java</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/13</link>
        <pubDate>Wed, 09 May 2012 20:31:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-13</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@James-RevolutionX James-RevolutionX]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/james-revolutionx">@James-RevolutionX</a> wrote:</p>
          <blockquote>
              <p>[quote=“DannyIsSoPro, post:9, topic:441749”]I think you took James-RevolutionX’s code. He had a help thread asking how could he stop the music if the player leaves the region. And now suddenly you post this?</p>
<p>I mean thanks and all, but still, kind of dirty. GG adding comments to the lines as well for people who don’t understand some things very well.[/quote]</p>
<p>what i thought. anyway, i don’t think i’ll be using this way, as i’m sure i’ll find another way around creating every single region (manually), then finding and setting every music for that region. long, isn’t nice and just a waste.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/12</link>
        <pubDate>Wed, 09 May 2012 20:29:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-12</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>[quote=“Native^, post:10, topic:441749”]I think the best way to do this is in each cycle. There you check if the player is in an area where a specific music fragment is played. If yes, you send the music packet.</p>
<p>Also you should read the music areas from a file. etc. etc.<br>
And you should not make it region based because in some regions there’s more than one music fragment.[/quote]<br>
polling is bad and completely unnecessary in this scenario</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/11</link>
        <pubDate>Wed, 09 May 2012 20:04:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-11</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@Native1 Native^]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/native1">@Native1</a> wrote:</p>
          <blockquote>
              <p>I think the best way to do this is in each cycle. There you check if the player is in an area where a specific music fragment is played. If yes, you send the music packet.</p>
<p>Also you should read the music areas from a file. etc. etc.<br>
And you should not make it region based because in some regions there’s more than one music fragment.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/10</link>
        <pubDate>Wed, 09 May 2012 19:06:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-10</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@DannyIsSoPro DannyIsSoPro]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dannyissopro">@DannyIsSoPro</a> wrote:</p>
          <blockquote>
              <p>I think you took James-RevolutionX’s code. He had a help thread asking how could he stop the music if the player leaves the region. And now suddenly you post this?</p>
<p>I mean thanks and all, but still, kind of dirty. GG adding comments to the lines as well for people who don’t understand some things very well.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/9</link>
        <pubDate>Wed, 09 May 2012 18:52:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-9</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>[quote=“eyeownyew, post:7, topic:441749”][quote author=James-RevolutionX link=topic=544436.msg3990897#msg3990897 date=1336578210]<br>
<a href="http://www.moparisthebest.com/smf/index.php/topic,544384.0.html" rel="nofollow noopener">http://www.moparisthebest.com/smf/index.php/topic,544384.0.html</a> then added more?<br>
[/quote]<br>
He probably did <span class="bbcode-b">not</span> take your code… Considering there’s only a few ways to do this, and this is the most logical way, he most likely made similar code[/quote]<br>
this is the most illogical way, actually.</p>
<p>the best option would create a region structure that compared equality from a given point inside the region. you would only need to lookup this table upon a region change (which is an event, so it doesn’t have to be polled).</p>
<p><span class="bbcode-s">the structure would look something like this</span> i might just post a tutorial on it…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/8</link>
        <pubDate>Wed, 09 May 2012 18:30:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-8</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="6" data-topic="441749">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/james-revolutionx/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> James-RevolutionX:</div>
<blockquote>
<p><a href="http://www.moparisthebest.com/smf/index.php/topic,544384.0.html" rel="nofollow noopener">http://www.moparisthebest.com/smf/index.php/topic,544384.0.html</a> then added more?</p>
</blockquote>
</aside>
<p>He probably did <span class="bbcode-b">not</span> take your code… Considering there’s only a few ways to do this, and this is the most logical way, he most likely made similar code</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/7</link>
        <pubDate>Wed, 09 May 2012 16:10:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-7</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@James-RevolutionX James-RevolutionX]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/james-revolutionx">@James-RevolutionX</a> wrote:</p>
          <blockquote>
              <p><a href="http://www.moparisthebest.com/smf/index.php/topic,544384.0.html" rel="nofollow noopener">http://www.moparisthebest.com/smf/index.php/topic,544384.0.html</a> then added more?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/6</link>
        <pubDate>Wed, 09 May 2012 15:43:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-6</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@TiVo TiVo]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tivo">@TiVo</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="4" data-topic="441749">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/james-revolutionx/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> James-RevolutionX:</div>
<blockquote>
<p>took my code?</p>
</blockquote>
</aside>
<p>?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/5</link>
        <pubDate>Wed, 09 May 2012 15:22:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-5</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@James-RevolutionX James-RevolutionX]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/james-revolutionx">@James-RevolutionX</a> wrote:</p>
          <blockquote>
              <p>took my code?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/4</link>
        <pubDate>Wed, 09 May 2012 15:06:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-4</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@TiVo TiVo]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tivo">@TiVo</a> wrote:</p>
          <blockquote>
              <p>I explain the code in the code.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/3</link>
        <pubDate>Wed, 09 May 2012 05:22:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-3</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@RiiPiiNFtW RiiPiiNFtW]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/riipiinftw">@RiiPiiNFtW</a> wrote:</p>
          <blockquote>
              <p>Snippet.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/2</link>
        <pubDate>Wed, 09 May 2012 05:19:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-2</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
      <item>
        <title>Some region-based music. Adding more! Good for remakes</title>
        <dc:creator><![CDATA[@TiVo TiVo]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tivo">@TiVo</a> wrote:</p>
          <blockquote>
              <p>Btw I don’t care if there’s mistakes I wrote it in the Notes app on my iPod.</p>
<p>[b]Music Tracks Added:</p>
<p>-Varrock<br>
-More parts of Varrock<br>
-Al-Kahrid<br>
-Sea Shanty<br>
-Goblin Village<br>
-Unknown Land<br>
-Catherby<br>
-Lumbridge<br>
-More will be added[/b]</p>
<pre><code class="lang-auto">
//import nothing.to.import.here;
      /**
       * Manages region-based
       * music. When the player is in the specified
         *  X and Y coordinates, 
         * it plays the specified music ID.
         * 
         * Author: TiVo444.
       */
      public void simpleMusicPlayerVarrock() {
            if(absX &gt; 3155 &amp;&amp; absX &lt; 3290 &amp;&amp; absY &gt; 3370 &amp;&amp; absY &lt; 3515) {/**This checks if you are in certain coordinates.*/
                  outStream.createFrame(74);/**Sends Frame 74 (duh).*/
                  outStream.writeWordBigEndian(125);/**This grabs the music ID that was specified (Music ID 125) (from the cache), and plays it!*/
/**Varrock Music BTW*/
            }
      public void simpleMusicPlayerAlKarid() {
            if(absX &gt; 3263 &amp;&amp; absX &lt; 3333 &amp;&amp; absY &gt; 3145 &amp;&amp; absY &lt; 3195) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(50);//Al-Karhid.
            }
      public void simpleMusicPlayerSeaShanty() {
            if(absX &gt; 3006 &amp;&amp; absX &lt; 3060 &amp;&amp; absY &gt; 3170 &amp;&amp; absY &lt; 3165) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(35);//Sea Shanty.
            }
      public void simpleMusicPlayerGobbyVillage() {
            if(absX &gt; 2940 &amp;&amp; absX &lt; 2980 &amp;&amp; absY &gt; 3470 &amp;&amp; absY &lt; 3520) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(150);//Goblin Village.
            }
      public void simpleMusicPlayerUnknownLand() {
            if(absX &gt; 2915 &amp;&amp; absX &lt; 2999 &amp;&amp; absY &gt; 3195 &amp;&amp; absY &lt; 3260) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(49);//Unknown Land
            }
      public void simpleMusicPlayerCatherby() {
            if(absX &gt; 2790 &amp;&amp; absX &lt; 2865 &amp;&amp; absY &gt; 3415 &amp;&amp; absY &lt; 3470) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(119);//Catherby
            }
      public void simpleMusicPlayerLumbridge() {
            if(absX &gt; 3060 &amp;&amp; absX &lt; 3140 &amp;&amp; absY &gt; 3150 &amp;&amp; absY &lt; 3232) {
                  outStream.createFrame(74);
                  outStream.writeWordBigEndian(151);//Lumbridge
            }</code></pre>
<p>I added lots of comments explaining the smallest of things to help you understand the code better. I will not tell you where to put it, you will have to figure that out yourself.</p>
<p>EDIT: Added Varrock, Lumbridge and Catherby.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749/1</link>
        <pubDate>Wed, 09 May 2012 05:17:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441749-1</guid>
        <source url="https://forum.moparisthebest.com/t/some-region-based-music-adding-more-good-for-remakes/441749.rss">Some region-based music. Adding more! Good for remakes</source>
      </item>
  </channel>
</rss>
