<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Easy SQL question</title>
    <link>https://forum.moparisthebest.com/t/easy-sql-question/482026</link>
    <description>[code]
$q = &quot;SELECT valid FROM &quot;.TBL_USERS.&quot; WHERE username=&#39;$user&#39;&quot;;
      $valid = $database-&gt;query($q);
      $valid = mysql_fetch_array($valid);
      $valid = $valid[&#39;valid&#39;];
      
      if($valid == 1){
         $field = &#39;user&#39;;
         $form-&gt;setError($field, &quot;* Username already confirmed.&quot;);
      }
[/code]

If you know php/sql then you can see that this is saying &quot;If the user is already valid then tell him&quot;. Looks simple enough.
But I am wanting to to say something like &quot;If the user is not valid then make him valid.&quot; I know it would have to start with if($valid == 0) but I&#39;m not sure of how to put the rest. I would appreciate if someone could either point me to a link, spoonfeed me, or even a little nudge in the right direction. :3</description>
    
    <lastBuildDate>Fri, 08 Feb 2013 18:02:22 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/easy-sql-question/482026.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Easy SQL question</title>
        <dc:creator><![CDATA[@jal_knight jal knight]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jal_knight">@jal_knight</a> wrote:</p>
          <blockquote>
              <p>For anybody who wants the answer to my issue:</p>
<pre><code class="lang-auto">if($form-&gt;num_errors &gt; 0){
        $_SESSION['value_array'] = $_POST;
         $_SESSION['error_array'] = $form-&gt;getErrorArray();
        header("Location: ".$session-&gt;referrer);
      }
      else{
		        $q = "SELECT valid FROM ".TBL_USERS." WHERE username='$user'";
      $valid = $database-&gt;query($q);
      $valid = mysql_fetch_array($valid);
      $valid = $valid['valid'];
	  
		 if($valid == 0){
         $field = 'user';
         $q = "UPDATE ".TBL_USERS." SET valid='1' WHERE username='$user'";
       $database-&gt;query($q);
		 }
	  }
   }</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/easy-sql-question/482026/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/easy-sql-question/482026/5</link>
        <pubDate>Fri, 08 Feb 2013 18:02:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-482026-5</guid>
        <source url="https://forum.moparisthebest.com/t/easy-sql-question/482026.rss">Easy SQL question</source>
      </item>
      <item>
        <title>Easy SQL question</title>
        <dc:creator><![CDATA[@justaguy justaguy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/justaguy">@justaguy</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="482026">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/user_avatar/forum.moparisthebest.com/justaguy/40/61_1.png" class="avatar"> justaguy:</div>
<blockquote>
<p>and execute</p>
</blockquote>
</aside>
<p><code>if($valid == 0){
         $field = 'user';
         $q = "UPDATE valid
                 SET valid=1
                 WHERE valid=0";
         $database-&gt;query($q);
      }
</code></p>
<p><span class="bbcode-b">However</span>, your UPDATE query is wrong. Look online for how an UPDATE query is assembled.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/easy-sql-question/482026/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/easy-sql-question/482026/4</link>
        <pubDate>Fri, 08 Feb 2013 17:26:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-482026-4</guid>
        <source url="https://forum.moparisthebest.com/t/easy-sql-question/482026.rss">Easy SQL question</source>
      </item>
      <item>
        <title>Easy SQL question</title>
        <dc:creator><![CDATA[@jal_knight jal knight]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jal_knight">@jal_knight</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="2" data-topic="482026">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/user_avatar/forum.moparisthebest.com/justaguy/40/61_1.png" class="avatar"> justaguy:</div>
<blockquote>
<p>In the if statement where you determine the user is not validated, you can simply create and execute an UPDATE query that updates valid to 1 in the user’s database record.</p>
</blockquote>
</aside>
<p>Thanks <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>like this?</p>
<pre><code class="lang-auto">if($valid == 0){
         $field = 'user';
         $q = "UPDATE valid
		 SET valid=1
		 WHERE valid=0";
      }</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/easy-sql-question/482026/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/easy-sql-question/482026/3</link>
        <pubDate>Fri, 08 Feb 2013 17:04:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-482026-3</guid>
        <source url="https://forum.moparisthebest.com/t/easy-sql-question/482026.rss">Easy SQL question</source>
      </item>
      <item>
        <title>Easy SQL question</title>
        <dc:creator><![CDATA[@justaguy justaguy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/justaguy">@justaguy</a> wrote:</p>
          <blockquote>
              <p>In the if statement where you determine the user is not validated, you can simply create and execute an UPDATE query that updates valid to 1 in the user’s database record.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/easy-sql-question/482026/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/easy-sql-question/482026/2</link>
        <pubDate>Fri, 08 Feb 2013 17:02:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-482026-2</guid>
        <source url="https://forum.moparisthebest.com/t/easy-sql-question/482026.rss">Easy SQL question</source>
      </item>
      <item>
        <title>Easy SQL question</title>
        <dc:creator><![CDATA[@jal_knight jal knight]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jal_knight">@jal_knight</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">$q = "SELECT valid FROM ".TBL_USERS." WHERE username='$user'";
      $valid = $database-&gt;query($q);
      $valid = mysql_fetch_array($valid);
      $valid = $valid['valid'];
      
      if($valid == 1){
         $field = 'user';
         $form-&gt;setError($field, "* Username already confirmed.");
      }</code></pre>
<p>If you know php/sql then you can see that this is saying “If the user is already valid then tell him”. Looks simple enough.<br>
But I am wanting to to say something like “If the user is not valid then make him valid.” I know it would have to start with if($valid == 0) but I’m not sure of how to put the rest. I would appreciate if someone could either point me to a link, spoonfeed me, or even a little nudge in the right direction. :3</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/easy-sql-question/482026/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/easy-sql-question/482026/1</link>
        <pubDate>Fri, 08 Feb 2013 16:49:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-482026-1</guid>
        <source url="https://forum.moparisthebest.com/t/easy-sql-question/482026.rss">Easy SQL question</source>
      </item>
  </channel>
</rss>
