<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/source-delphi-findcolorspiral/1332 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 22:09:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Source][Delphi] FindColorSpiral - General Programming - moparisthebest.com</title>
    <meta name="description" content="Well, another awsome delphi function presented to you by Freddy1990  :wink: I converted this function (with some modifications)  from Cruel&amp;#39;s FindColorSpiral function in VB (from www.cruels.net) I tested it and it works &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1332.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Source][Delphi] FindColorSpiral&#39;" href="1332.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/source-delphi-findcolorspiral/1332" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/source-delphi-findcolorspiral/1332" />
<meta property="og:title" content="[Source][Delphi] FindColorSpiral" />
<meta name="twitter:title" content="[Source][Delphi] FindColorSpiral" />
<meta property="og:description" content="Well, another awsome delphi function presented to you by Freddy1990  ðŸ˜‰ I converted this function (with some modifications)  from Cruel&#39;s FindColorSpiral function in VB (from www.cruels.net) I tested it and it works perfectly, it starts spiraling out from the middle. Once again, remember, this returns the coordinates of the position of the color inside the specified window, not on the screen.     function FindColorSpiral(var x,y: Integer; color, xs, ys, xe, ye: Integer   ; window: HWND): Boo..." />
<meta name="twitter:description" content="Well, another awsome delphi function presented to you by Freddy1990  ðŸ˜‰ I converted this function (with some modifications)  from Cruel&#39;s FindColorSpiral function in VB (from www.cruels.net) I tested it and it works perfectly, it starts spiraling out from the middle. Once again, remember, this returns the coordinates of the position of the color inside the specified window, not on the screen.     function FindColorSpiral(var x,y: Integer; color, xs, ys, xe, ye: Integer   ; window: HWND): Boo..." />
<meta property="article:published_time" content="2006-04-11T20:14:30+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="1332.html">[Source][Delphi] FindColorSpiral</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Freddy1990.html'><span itemprop='name'>Freddy1990</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-04-11T20:14:30Z'>
            <time itemprop='dateModified' datetime='2016-07-29T19:55:17Z' class='post-time'>
              July 29, 2016,  7:55pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, another awsome delphi function presented to you by Freddy1990  <img src="http://forum.moparisthebest.mopar/images/emoji/emoji_one/wink.png?v=3" title=":wink:" class="emoji" alt=":wink:"><br>I converted this function (with some modifications)  from Cruel's FindColorSpiral function in VB (from <a href="http://www.cruels.net/" rel="nofollow">www.cruels.net</a>)<br>I tested it and it works perfectly, it starts spiraling out from the middle.<br>Once again, remember, this returns the coordinates of the position of the color inside the specified window, not on the screen.<br></p>

<p></p><pre><code class="lang-auto">function FindColorSpiral(var x,y: Integer; color, xs, ys, xe, ye: Integer
  ; window: HWND): Boolean;
var
  xx, yy, i, direction, length: Integer;
  TestDC: HDC;
  WndRECT: TRect;
label
  Done;
begin
  GetWindowRect(window, WndRECT);
  xx := round((WndRECT.Right - WndRECT.Left) / 2);
  yy := round((WndRECT.Bottom - WndRECT.Top) / 2);
  TestDC := GetWindowDC(Window);
  direction := 0;
  length := 1;
  if color = GetPixel(TestDC, xx, yy) then goto Done;
  while not ((xx &lt; xs) or (yy &lt; ys) or (xx &gt; xe) or (yy &gt; ye)) do
  begin
    for i := 1 to length do
    begin
      case direction of
        0: yy := yy - 1;
        1: xx := xx + 1;
        2: yy := yy + 1;
        3: xx := xx - 1;
      end;
      if color = GetPixel(TestDC, xx, yy) then goto Done;
    end;
    direction := (direction + 1) mod 4;
    if (direction mod 2) = 0 then length := length + 1;
  end;
  if color &lt;&gt; GetPixel(TestDC, xx, yy) then
  begin;
    x := -1;
    y := -1;
    Result := False;
    Exit
  end;
Done:
  x := xx;
  y := yy;
  Result := True;
end;</code></pre>
      </div>

      <meta itemprop='headline' content='[Source][Delphi] FindColorSpiral'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/source-delphi-findcolorspiral/1332 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 22:09:08 GMT -->
</html>
