<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/ruse-v2-cannon-dissapering-bug-and-maps-give-black-screen/554900 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Ruse v2] cannon dissapering bug and maps give black screen - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hi, 

i downloaded the latest release from swiffy the other day everything is ok but some small bugs. 

after setting a dwarf cannon up it dissappears but keeps firing until it runs out then you have to relog and set it &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="554900.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Ruse v2] cannon dissapering bug and maps give black screen&#39;" href="554900.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/ruse-v2-cannon-dissapering-bug-and-maps-give-black-screen/554900" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/ruse-v2-cannon-dissapering-bug-and-maps-give-black-screen/554900" />
<meta property="og:title" content="[Ruse v2] cannon dissapering bug and maps give black screen" />
<meta name="twitter:title" content="[Ruse v2] cannon dissapering bug and maps give black screen" />
<meta property="og:description" content="Hi,  i downloaded the latest release from swiffy the other day everything is ok but some small bugs.   after setting a dwarf cannon up it dissappears but keeps firing until it runs out then you have to relog and set it up again…  anyone know how to fix that? or what i need to do?   Walking in some areas gives a black screen and cannot move, places noticed edgeville south west just in the wildy  anyone have a fix or know what is wrong ? obviously maps are missing somewhere what version of maps wh..." />
<meta name="twitter:description" content="Hi,  i downloaded the latest release from swiffy the other day everything is ok but some small bugs.   after setting a dwarf cannon up it dissappears but keeps firing until it runs out then you have to relog and set it up again…  anyone know how to fix that? or what i need to do?   Walking in some areas gives a black screen and cannot move, places noticed edgeville south west just in the wildy  anyone have a fix or know what is wrong ? obviously maps are missing somewhere what version of maps wh..." />
<meta property="article:published_time" content="2016-03-02T19:51:59+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="554900.html">[Ruse v2] cannon dissapering bug and maps give black screen</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joint33skinz.html'><span itemprop='name'>joint33skinz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-02T19:51:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:39Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi,</p>
<p>i downloaded the latest release from swiffy the other day everything is ok but some small bugs.</p>
<ol>
<li>after setting a dwarf cannon up it dissappears but keeps firing until it runs out then you have to relog and set it up again…</li>
</ol>
<p>anyone know how to fix that? or what i need to do?</p>
<ol start="2">
<li>Walking in some areas gives a black screen and cannot move, places noticed edgeville south west just in the wildy</li>
</ol>
<p>anyone have a fix or know what is wrong ? obviously maps are missing somewhere what version of maps where do i place them etc? thanks</p>
<p>any help would be much appreciated thanks!</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-02T21:09:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:40Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <ol>
<li>
<p>Sounds like the object isn’t being set globally, or if it is, it’s set for a short period of time. Post the code related to the cannon being setup.</p>
</li>
<li>
<p>Fix the maps. No, I don’t know what version maps you need. I assume they’re like 508 or 525.</p>
</li>
</ol>
<p>Use <a href="http://www.rune-server.org/runescape-development/rs2-client/snippets/323269-index-repacking.html" rel="nofollow noopener">http://www.rune-server.org/runescape-development/rs2-client/snippets/323269-index-repacking.html</a><br>
To pack the maps.</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joint33skinz.html'><span itemprop='name'>joint33skinz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-02T21:38:55Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:40Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks for the reply your awesome =D</p>
<p>here is the cannon</p>
<p>[code]	public static void setupCannon(final Player c) {<br>
if(!canSetupCannon©)<br>
return;<br>
c.getMovementQueue().reset();<br>
c.setSettingUpCannon(true);<br>
c.getSkillManager().stopSkilling();<br>
final boolean movementLock = c.getMovementQueue().isLockMovement();<br>
c.getMovementQueue().setLockMovement(true);<br>
final GameObject object = new GameObject(CANNON_BASE, c.getPosition().copy());<br>
final GameObject object2 = new GameObject(CANNON_STAND, c.getPosition().copy());<br>
final GameObject object3 = new GameObject(CANNON_BARRELS, c.getPosition().copy());<br>
final GameObject object4 = new GameObject(CANNON, c.getPosition().copy());<br>
c.getInventory().delete(CANNON_FURNACE_ID, 1);<br>
c.getInventory().delete(CANNON_BARRELS_ID, 1);<br>
c.getInventory().delete(CANNON_STAND_ID, 1);<br>
c.getInventory().delete(CANNON_BASE_ID, 1);<br>
TaskManager.submit(new Task(2, c, true) {<br>
int setupTicks = 5;<br>
<a class="mention" href="../../u/override.html">@Override</a><br>
public void execute() {<br>
switch(setupTicks) {</p>
<pre><code>			case 5:
				c.performAnimation(new Animation(827));
				CustomObjects.spawnGlobalObject(object);
				break;

			case 4:
				c.performAnimation(new Animation(827));
				CustomObjects.deleteGlobalObject(object);
				CustomObjects.spawnGlobalObject(object2);
				break;

			case 3:
				c.performAnimation(new Animation(827));
				CustomObjects.deleteGlobalObject(object2);
				CustomObjects.spawnGlobalObject(object3);
				break;

			case 2:
				c.performAnimation(new Animation(827));
				CustomObjects.deleteGlobalObject(object3);
				DwarfCannon cannon = new DwarfCannon(c.getIndex(), object4);
				c.setCannon(cannon);
				CustomObjects.spawnGlobalObject(c.getCannon().getObject());
				break;

			case 1:
				setupTicks = 5;
				Achievements.finishAchievement(c, AchievementData.SET_UP_A_CANNON);
				c.setSettingUpCannon(false);
				stop();
				break;
			}
			setupTicks--;
		}

		@Override
		public void stop() {
			c.getMovementQueue().setLockMovement(movementLock);
			setEventRunning(false);
		}
	});
}
</code></pre>
<p>[/code]</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-02T21:56:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:41Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You could try changing:</p>
<p><code>
				CustomObjects.spawnGlobalObject(c.getCannon().getObject());</code><br>
to</p>
<p><code>
				CustomObjects.spawnGlobalObject(object4);</code><br>
Or you are using the incorrect id for the cannon.</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joint33skinz.html'><span itemprop='name'>joint33skinz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-02T22:17:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:41Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>hmm no that didnt seem to do anything</p>
<p>thanks for the help</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-02T22:43:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:41Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“joint33skinz, post:5, topic:554900”]hmm no that didnt seem to do anything</p>
<p>thanks for the help[/quote]<br>
Spawn the cannon object using a ::object command.<br>
See if it shows.</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joint33skinz.html'><span itemprop='name'>joint33skinz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-02T22:54:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:41Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yes it spawns ok but dissappears when fired it does shoot even though dissappeared you then have to relog when it runs out of ammo</p>
<p><img src="http://s20.postimg.org/q2b73zl5p/9999.png" alt width="640" height="433"></p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-03T02:18:18Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:43Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“joint33skinz, post:7, topic:554900”]yes it spawns ok but dissappears when fired it does shoot even though dissappeared you then have to relog when it runs out of ammo</p>
<p><img src="http://s20.postimg.org/q2b73zl5p/9999.png" alt width="640" height="433">[/quote]<br>
Show the code related to it firing then</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joint33skinz.html'><span itemprop='name'>joint33skinz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-03T02:51:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:43Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>sure thing… not sure how much of this you need but here</p>
<p>thanks again for the help here appreciated very much</p>
<p>[code]public static void startFiringCannon(Player c, DwarfCannon cannon) {<br>
if(cannon.cannonFiring() &amp;&amp; cannon.getCannonballs() &gt; 15) {<br>
c.getPacketSender().sendMessage(“Your cannon is already firing.”);<br>
return;<br>
}<br>
if(cannon.getCannonballs() &lt;= 15) {<br>
int playerCannonballs = c.getInventory().getAmount(2) &gt; 30 ? 30: c.getInventory().getAmount(2);<br>
int cannonballsToAdd = playerCannonballs - cannon.getCannonballs();<br>
if(playerCannonballs &lt; 1) {<br>
c.getPacketSender().sendMessage(“You do not have any cannonballs in your inventory to fire the cannon with.”);<br>
return;<br>
}<br>
c.getInventory().delete(CANNONBALL, cannonballsToAdd);<br>
cannon.setCannonballs(cannonballsToAdd);<br>
if(!cannon.cannonFiring())<br>
fireCannon(c, cannon);<br>
}<br>
}</p>
<pre><code>public static void fireCannon(final Player c, final DwarfCannon cannon) {
	if(cannon.cannonFiring())
		return;
	TaskManager.submit(new Task(1, c, true) {
		@Override
		public void execute() {
			if(c.getCannon() == null) {
				this.stop();
				return;
			}
			if(cannon.getCannonballs() &gt; 0) {
				rotateCannon(c, cannon);
				cannon.setCannonFiring(true);
				attack(c);
			} else {
				c.getPacketSender().sendMessage("Your cannon has run out of cannonballs.");
				cannon.setCannonballs(0);
				cannon.setCannonFiring(false);
				cannon.setRotations(0);
				this.stop();
			}
		}

	});
}

private static void rotateCannon(final Player c, DwarfCannon cannon) {
	final GameObject object = c.getCannon().getObject();
	cannon.addRotation(1);
	switch(cannon.getRotations()) {
	case 1: // north 
		object.performAnimation(new Animation(516));
		break;
	case 2: // north-east
		object.performAnimation(new Animation(517));
		break;
	case 3: // east
		object.performAnimation(new Animation(518));
		break;
	case 4: // south-east
		object.performAnimation(new Animation(519));
		break;
	case 5: // south
		object.performAnimation(new Animation(520));
		break;
	case 6: // south-west
		object.performAnimation(new Animation(521));
		break;
	case 7: // west
		object.performAnimation(new Animation(514));
		break;
	case 8: // north-west
		object.performAnimation(new Animation(515));
		cannon.setRotations(0);
		break;
	}
	Sounds.sendGlobalSound(c, Sound.ROTATING_CANNON);
}

public static void attack(Player player) { //TODO: Bad hardcoding of setting damage, switch to combathittask 
	DwarfCannon cannon = player.getCannon();
	if(cannon == null)
		return;
	NPC n = getTarget(player, cannon);
	if(n == null)
		return;
	Hit dmg = new Hit(Misc.getRandom(266) - Misc.getRandom(n.getDefinition().getDefenceRange()), Hitmask.RED, CombatIcon.CANNON);
	new Projectile(cannon.getObject(), n, 53, 44, 3, 43, 31, 0).sendProjectile();
	n.dealDamage(dmg);
	n.getLastCombat().reset();
	n.performAnimation(new Animation(n.getDefinition().getDefenceAnimation()));
	n.getCombatBuilder().addDamage(player, dmg.getDamage());
	Achievements.doProgress(player, AchievementData.DEAL_EASY_DAMAGE_USING_RANGED, dmg.getDamage());
	Achievements.doProgress(player, AchievementData.DEAL_MEDIUM_DAMAGE_USING_RANGED, dmg.getDamage());
	Achievements.doProgress(player, AchievementData.DEAL_HARD_DAMAGE_USING_RANGED, dmg.getDamage());
	player.getSkillManager().addExperience(Skill.RANGED, (int) (((dmg.getDamage() * .50)  * Skill.RANGED.getExperienceMultiplier())));
	player.getSkillManager().addExperience(Skill.CONSTITUTION, (int) (dmg.getDamage() * .30) * Skill.CONSTITUTION.getExperienceMultiplier());
	if(!n.getCombatBuilder().isAttacking()) {
		if(n.getMovementCoordinator().getCoordinateState() == CoordinateState.HOME)
			n.getCombatBuilder().attack(player);
	}
	cannon.setCannonballs(cannon.getCannonballs() - 1);
	Achievements.doProgress(player, AchievementData.FIRE_500_CANNON_BALLS);
	Achievements.doProgress(player, AchievementData.FIRE_5000_CANNON_BALLS);
	Sounds.sendGlobalSound(player, Sound.FIRING_CANNON);
}

private static NPC getTarget(Player p, DwarfCannon cannon) {
	for(NPC n : p.getLocalNpcs()) {
		if(n == null)
			continue;
		if(n.isSummoningNpc())
			continue;
		if(!n.getLocation().isCannonAllowed())
			continue;
		int myX = cannon.getObject().getPosition().getX();
		int myY = cannon.getObject().getPosition().getY();
		int theirX = n.getPosition().getX(); 
		int theirY = n.getPosition().getY();
		if (n.getDefinition().isAttackable() &amp;&amp; n.getConstitution() &gt; 0 &amp;&amp; Locations.goodDistance(cannon.getObject().getPosition(), n.getPosition(), 8)) {
			if(!Location.inMulti(n) &amp;&amp; n.getCombatBuilder().isBeingAttacked() &amp;&amp; n.getCombatBuilder().getLastAttacker() != p) {
				continue;
			}
			if(n.getDefinition().getName().contains("Revenant")) {
				continue;
			}
			switch (cannon.getRotations()) {
			case 1: // north
				if (theirY &gt; myY &amp;&amp; theirX &gt;= myX - 1
				&amp;&amp; theirX &lt;= myX + 1)
					return n;
				break;
			case 2: // north-east
				if (theirX &gt;= myX + 1 &amp;&amp; theirY &gt;= myY + 1)
					return n;
				break;
			case 3: // east
				if (theirX &gt; myX &amp;&amp; theirY &gt;= myY - 1
				&amp;&amp; theirY &lt;= myY + 1)
					return n;
				break;
			case 4: // south-east
				if (theirY &lt;= myY - 1 &amp;&amp; theirX &gt;= myX + 1)
					return n;
				break;
			case 5: // south
				if (theirY &lt; myY &amp;&amp; theirX &gt;= myX - 1
				&amp;&amp; theirX &lt;= myX + 1)
					return n;
				break;
			case 6: // south-west
				if (theirX &lt;= myX - 1 &amp;&amp; theirY &lt;= myY - 1)
					return n;
				break;
			case 7: // west
				if (theirX &lt; myX &amp;&amp; theirY &gt;= myY - 1
				&amp;&amp; theirY &lt;= myY + 1)
					return n;
				break;
			case 8: // north-west
				if (theirX &lt;= myX - 1 &amp;&amp; theirY &gt;= myY + 1)
					return n;
				break;
			}
		}
	}
	return null;
}
</code></pre>
<p>}<br>
[/code]</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-03T03:24:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:43Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Could possibly be the animations for the object.<br>
You’d have to find a way to test them.</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joint33skinz.html'><span itemprop='name'>joint33skinz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-03T03:33:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:43Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ah  =/ lol no idea how i would go about doing that</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/metorrite.html'><span itemprop='name'>metorrite</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-31T02:10:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:53:07Z' class='post-time'>
              August 4, 2016,  5:53pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’ve tested this already, it has to do with the object animations but i don’t have a fix for it, this is among other things that have errors because of new client.</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-31T03:24:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:53:07Z' class='post-time'>
              August 4, 2016,  5:53pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="12" data-topic="554900">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/metorrite/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> metorrite:</div>
<blockquote>
<p>I’ve tested this already, it has to do with the object animations but i don’t have a fix for it, this is among other things that have errors because of new client.</p>
</blockquote>
</aside>
<p>Rather easy fix then, to be honest.</p>
<p>Pack new animations.</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joint33skinz.html'><span itemprop='name'>joint33skinz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-04-04T12:07:40Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:53:20Z' class='post-time'>
              August 4, 2016,  5:53pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok… any idea where to get them?</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-04-04T16:18:46Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:53:21Z' class='post-time'>
              August 4, 2016,  5:53pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="14" data-topic="554900">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/joint33skinz/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> joint33skinz:</div>
<blockquote>
<p>ok… any idea where to get them?</p>
</blockquote>
</aside>
<p>Ever tried google?<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <a href="https://www.rune-server.ee/runescape-development/rs2-client/downloads/454769-data-releases-474-498-508-525-602-634-667-a.html" target="_blank" rel="nofollow noopener">rune-server.ee</a>
  </header>
  <article class="onebox-body">
    <img src="https://www.rune-server.ee/mobiquo/smartbanner/images/tapatalk-banner-logo.png" class="thumbnail onebox-avatar" width="286" height="286">

<h3><a href="https://www.rune-server.ee/runescape-development/rs2-client/downloads/454769-data-releases-474-498-508-525-602-634-667-a.html" target="_blank" rel="nofollow noopener">Data Releases (474, 498, 508, 525, 602, 634, 667)</a></h3>

<p>Rune-Server</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joint33skinz.html'><span itemprop='name'>joint33skinz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-04-11T21:50:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:53:53Z' class='post-time'>
              August 4, 2016,  5:53pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>lol not that time no but i got it fixed thanks</p>
      </div>

      <meta itemprop='headline' content='[Ruse v2] cannon dissapering bug and maps give black screen'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/ruse-v2-cannon-dissapering-bug-and-maps-give-black-screen/554900 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:24 GMT -->
</html>
