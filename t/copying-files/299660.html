<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/copying-files/299660 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 09:01:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Copying Files - Runescape - moparisthebest.com</title>
    <meta name="description" content="Ok. This one is a question for someone with experience in IO java coding.  

508 Source - DavidScape  

Problem:       Peoples accounts get reset, so these commands: ( ::savebackup and ::loadbackup ) are used to save a b&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="299660.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Copying Files&#39;" href="299660.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/copying-files/299660" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/copying-files/299660" />
<meta property="og:title" content="Copying Files" />
<meta name="twitter:title" content="Copying Files" />
<meta property="og:description" content="Ok. This one is a question for someone with experience in IO java coding.  508 Source - DavidScape  Problem:       Peoples accounts get reset, so these commands: ( ::savebackup and ::loadbackup ) are used to save a backup and then load it again. It was coded by Bulby, and works. However, people figured out ways to dupe items using it. So I removed the item part of loadbackup. It works and no duping. However, now people complain about losing there items, which is understood. So I needed to find a..." />
<meta name="twitter:description" content="Ok. This one is a question for someone with experience in IO java coding.  508 Source - DavidScape  Problem:       Peoples accounts get reset, so these commands: ( ::savebackup and ::loadbackup ) are used to save a backup and then load it again. It was coded by Bulby, and works. However, people figured out ways to dupe items using it. So I removed the item part of loadbackup. It works and no duping. However, now people complain about losing there items, which is understood. So I needed to find a..." />
<meta property="article:published_time" content="2009-09-02T18:57:10+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="299660.html">Copying Files</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-02T18:57:10Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:39:32Z' class='post-time'>
              July 31, 2016, 10:39am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok. This one is a question for someone with experience in IO java coding.</p>
<p>508 Source - DavidScape</p>
<p>Problem:       Peoples accounts get reset, so these commands: ( ::savebackup and ::loadbackup ) are used to save a backup and then load it again. It was coded by Bulby, and works. However, people figured out ways to dupe items using it. So I removed the item part of loadbackup. It works and no duping. However, now people complain about losing there items, which is understood. So I needed to find a way to load the backup without doing either of those, allow duping or lose items. I figured it out. Instead of it reading the backup and updating the player, it could log the player out then COPY the entire file over, instead of just reading it. So I added this void: <code>
public static void copyfile(String srFile, String dtFile){
    try{
      File f1 = new File(srFile);
      File f2 = new File(dtFile);
      InputStream in = new FileInputStream(f1);
      OutputStream out = new FileOutputStream(f2);
      byte[] buf = new byte[1024];
      int len;
      while ((len = in.read(buf)) &gt; 0){
        out.write(buf, 0, len);
      }
      in.close();
      out.close();
      System.out.println("Loaded Backup.");
    }
    catch(FileNotFoundException ex){
      System.exit(0);
    }
    catch(IOException e){
      System.out.println(e.getMessage());      
    }
  }
</code><br>
The in my commands section:</p>
<p>For loadbackup command: <code>
String temp1 = p.username;
 if (p != null) {
p.frames.logout(p);
}
Misc.copyfile("./data/characters/backup/" + temp1 +".dat", "./data/characters/mainsave/" + temp1 +".dat");
}
</code><br>
The reason It saves their username is because their PlayerID becomes null when they log out. I log them out so that the player doesnt overwrite his backup by staying logged in(normally it saves every 10 sec, so unless they log out it would overwrite the backup.) So can anyone see anything wrong with this?  Please only post if you have a helpful comment.</p>
      </div>

      <meta itemprop='headline' content='Copying Files'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/copying-files/299660 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 09:01:55 GMT -->
</html>
