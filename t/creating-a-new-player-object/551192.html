<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/creating-a-new-player-object/551192 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Creating a new player object - Runescape - moparisthebest.com</title>
    <meta name="description" content="tdltr; (I need help creating a new tempoary player object, that I can immediately delete, so that I can give this temporary fake player benefits without affecting real players) 

Unfortunately I don&amp;#39;t have a full grasp o&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="551192.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Creating a new player object&#39;" href="551192.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192" />
<meta property="og:title" content="Creating a new player object" />
<meta name="twitter:title" content="Creating a new player object" />
<meta property="og:description" content="tdltr; (I need help creating a new tempoary player object, that I can immediately delete, so that I can give this temporary fake player benefits without affecting real players)  Unfortunately I don’t have a full grasp on how to create an object in java, seems simple enough  you do a  public class ClassName() {     int testData = 1; } then in another part of the code  public ClassName nameOfObject = new ClassName(); Pretty Simple  Here is my desire, When an NPC dies by another npc, and temp comes..." />
<meta name="twitter:description" content="tdltr; (I need help creating a new tempoary player object, that I can immediately delete, so that I can give this temporary fake player benefits without affecting real players)  Unfortunately I don’t have a full grasp on how to create an object in java, seems simple enough  you do a  public class ClassName() {     int testData = 1; } then in another part of the code  public ClassName nameOfObject = new ClassName(); Pretty Simple  Here is my desire, When an NPC dies by another npc, and temp comes..." />
<meta property="article:published_time" content="2015-04-22T05:43:15+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="551192.html">Creating a new player object</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/penguinimp.html'><span itemprop='name'>penguinimp</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-22T05:43:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:34Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>tdltr; (I need help creating a new tempoary player object, that I can immediately delete, so that I can give this temporary fake player benefits without affecting real players)</p>
<p>Unfortunately I don’t have a full grasp on how to create an object in java, seems simple enough<br>
you do a</p>
<pre><code class="lang-auto">public class ClassName() {
    int testData = 1;
}</code></pre>
<p>then in another part of the code</p>
<pre><code class="lang-auto">public ClassName nameOfObject = new ClassName();</code></pre>
<p>Pretty Simple</p>
<p>Here is my desire, When an NPC dies by another npc, and temp comes back as null, we create a npc object that can enact as a player, (renaming player to entity, later) with the variable name of temp (btw who named these variables? why not player? i’ll rename later…)</p>
<p>however we aren’t doing a new client it’s doing a conversion of a number to a (client) (this is the part I don’t fully understand)<br>
So as a temporary work around, I am using an existing player object, however, Ideally what I want to do is create a new player object, and then kill that object after one use.</p>
<pre><code class="lang-auto">client temp = (client) server.playerHandler.players[npcs[i].getKiller()];
if (temp == null) {
    for (int j = 1; j &lt; server.playerHandler.maxPlayers; j++) {
        if (server.playerHandler.players[j] != null) {
            temp = (client) server.playerHandler.players[j];
            println("TEMP: "+temp);
            if (temp != null) {
                break;
            }
        }
    }
}</code></pre>
<p>What I want is something like however client.java is a child on Player.java, and that’s a bit confusing.</p>
<pre><code class="lang-auto">client player = new client();</code></pre>
<p>and be able to call player subroutines</p>
<p>I need to be able to use a stillgfx, distranceToPoint methods, and drop equipment for this player then when ready destroy this object.</p>
<pre><code class="lang-auto">player.stillgfx(bombgfx, npcs[i].absY, npcs[i].absX);</code></pre>
<p>Pretty simple, any got a few minutes to help me out?</p>
<p>Here’s my compiler</p>
<pre><code class="lang-auto">NPCHandler.java:3000: cannot find symbol
symbol  : constructor client()
location: class client
                        client npc  = new client();</code></pre>
      </div>

      <meta itemprop='headline' content='Creating a new player object'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-22T07:59:44Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:34Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don’t even get what you’re trying to accomplish…</p>
<p>Your trying to make an NPC a player because your NPC doesn’t have some features your Player class has? or something? Can you clarify what you’re trying to do, as it’s not making sense here.</p>
<p>As for your error: I believe the client class is capitalized, therefore meaning you need to capitalize it in your code. Either that, or you need to add the imports, or you’re missing a no-args constructor for the Client class.</p>
      </div>

      <meta itemprop='headline' content='Creating a new player object'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/penguinimp.html'><span itemprop='name'>penguinimp</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-22T15:18:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:35Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m really just trying to create a temporary player who can do all the things a player can do without giving the benefits to a player.<br>
There are a lot of variables on the server i’ve decided to clean up, such as</p>
<p><code>temp.SlayerKills ++;</code> and I don’t want to award a player kills when he didn’t kill that npc</p>
<p>You’re recommendations are useful, here is how a Player Class is created,</p>
<pre><code class="lang-auto">    public static Player players[] = new Player[maxPlayers];</code></pre>
<blockquote>As for your error: I believe the client class is capitalized, therefore meaning you need to capitalize it in your code.</blockquote>
<p>client is lower case in every place I can find (inconsistencies in all the places…) it’s also named client.java</p>
<pre><code class="lang-auto">public class client extends Player implements Runnable {</code></pre>
<blockquote>Either that, or you need to add the imports,</blockquote>
<p>I don’t see any imports in PlayerHandler.java, and Player.java beyond these</p>
<pre><code class="lang-auto">import java.util.Calendar;
import java.util.GregorianCalendar;</code></pre>
<blockquote>or you're missing a no-args constructor for the Client class.</blockquote>
<p>Oh I think this is probably it,</p>
<p>I believe this is a constructor in the client.java file, in theory I need to create another client method with no arguments,<br>
any recommendations for converting this?</p>
<pre><code class="lang-auto">    public client(java.net.Socket s, int _playerId) {
        super(_playerId);
        mySock = s;
        try {
            in = s.getInputStream();
            out = s.getOutputStream();
            //in = new java.io.DataInputStream(s.getInputStream());
            //out = new DataOutputStream(s.getOutputStream());
        } catch (java.io.IOException ioe) {
            misc.println("Exception of data!");
            server.logError(ioe.getMessage());
        }

        outStream = new stream(new byte[bufferSize]);
        outStream.currentOffset = 0;
        inStream = new stream(new byte[bufferSize]);
        inStream.currentOffset = 0;

        readPtr = writePtr = 0;
        buffer = buffer = new byte[bufferSize];
    }</code></pre>
<p>I’ve thought about it and while I don’t have time to test it, I’m thinking this is probably what I want.</p>
<pre><code class="lang-auto">    public client(int _playerId) {
        super(_playerId);
    }</code></pre>
      </div>

      <meta itemprop='headline' content='Creating a new player object'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-22T18:59:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:36Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“penguinimp, post:3, topic:551192”]I’m really just trying to create a temporary player who can do all the things a player can do without giving the benefits to a player.<br>
There are a lot of variables on the server i’ve decided to clean up, such as</p>
<pre><code class="lang-auto"></code></pre>
<p>I still don’t get what the extra player object is for… If you want to award a player slayer points, and you want to be sure they killed a slayer npc, that’s pretty easy to check.</p>
<p>Save the npc id to the player object. You can make a (or some) arrays to hold the npc ids of each difficulty of task (Pretty sure that’s how your slayer system is probably handled anyways). Add a loop into the npc death handler to check if the npc’s id is equal to the one saved to the player object. If it is, add the exp to the player’s slayer skill and decrease the amount remaining.</p>
<p>In all honesty, I’m not seeing any reason to create this player object.</p>
<blockquote>You're recommendations are useful, here is how a Player Class is created, 
[code=java]
    public static Player players[] = new Player[maxPlayers];
[/code]</blockquote>
No, that's how an array of Player objects are created.
<blockquote>client is lower case in every place I can find (inconsistencies in all the places...) it's also named client.java
[code=java]
public class client extends Player implements Runnable {
[/code]</blockquote>
That's strange, I usually only see it lowercase in the client. But doesn't matter. As long as the capitalization is okay, then you're set..
<blockquote>I don't see any imports in PlayerHandler.java, and Player.java beyond these
<p><code>
import java.util.Calendar;
import java.util.GregorianCalendar;
</code></p>
</blockquote><br>
That’s because it doesn’t need to import the other classes, as they’re in the same package. Same package classes can share variables (As long as they’re not declared private, or use public getters/setters) without the imports.
<blockquote>Oh I think this is probably it,
<p>I believe this is a constructor in the client.java file, in theory I need to create another client method with no arguments,<br>
any recommendations for converting this?</p>
<pre><code class="lang-auto">    public client(java.net.Socket s, int _playerId) {
        super(_playerId);
        mySock = s;
        try {
            in = s.getInputStream();
            out = s.getOutputStream();
            //in = new java.io.DataInputStream(s.getInputStream());
            //out = new DataOutputStream(s.getOutputStream());
        } catch (java.io.IOException ioe) {
            misc.println("Exception of data!");
            server.logError(ioe.getMessage());
        }

        outStream = new stream(new byte[bufferSize]);
        outStream.currentOffset = 0;
        inStream = new stream(new byte[bufferSize]);
        inStream.currentOffset = 0;

        readPtr = writePtr = 0;
        buffer = buffer = new byte[bufferSize];
    }</code></pre>
<p>I’ve thought about it and while I don’t have time to test it, I’m thinking this is probably what I want.</p>
<p><code>
    public client(int _playerId) {
        super(_playerId);
    }
</code></p>
</blockquote><br>
The problem here, is that your typical player is created with an instream and an outstream (you know, networking). For packets and etc. They’re also placed into the players[] list (The one you pointed out earlier) with a specific playerId.<br>
For this to work, you would essentially need to find a way to disable all incoming packets for the one player (Client &gt; Server packets), and make it so it only sends packets to the <span class="bbcode-i">current clients</span> (Server &gt; Client packets). Because by default, it would try to send it to it’s own client first, and that would be a nullpointer. So you will need to make it send the animation updates and etc to other players’ clients.
      </div>

      <meta itemprop='headline' content='Creating a new player object'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-22T20:25:50Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:37Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You should extract out the functionality you want from the Player class, to a Character class, which both Player and Npc are subclasses of. Then, just create the Npc.</p>
      </div>

      <meta itemprop='headline' content='Creating a new player object'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/creating-a-new-player-object/551192 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:56 GMT -->
</html>
