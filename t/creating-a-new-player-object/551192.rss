<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Creating a new player object</title>
    <link>https://forum.moparisthebest.com/t/creating-a-new-player-object/551192</link>
    <description>tdltr; (I need help creating a new tempoary player object, that I can immediately delete, so that I can give this temporary fake player benefits without affecting real players)

Unfortunately I don&#39;t have a full grasp on how to create an object in java, seems simple enough
you do a
[code=java]
public class ClassName() {
    int testData = 1;
}
[/code]
then in another part of the code
[code=java]
public ClassName nameOfObject = new ClassName();
[/code]

Pretty Simple

Here is my desire, When an NPC dies by another npc, and temp comes back as null, we create a npc object that can enact as a player, (renaming player to entity, later) with the variable name of temp (btw who named these variables? why not player? i&#39;ll rename later...)

however we aren&#39;t doing a new client it&#39;s doing a conversion of a number to a (client) (this is the part I don&#39;t fully understand)
So as a temporary work around, I am using an existing player object, however, Ideally what I want to do is create a new player object, and then kill that object after one use.


[code=java]
client temp = (client) server.playerHandler.players[npcs[i].getKiller()];
if (temp == null) {
    for (int j = 1; j &lt; server.playerHandler.maxPlayers; j++) {
        if (server.playerHandler.players[j] != null) {
            temp = (client) server.playerHandler.players[j];
            println(&quot;TEMP: &quot;+temp);
            if (temp != null) {
                break;
            }
        }
    }
}
[/code]


What I want is something like however client.java is a child on Player.java, and that&#39;s a bit confusing.
[code=java]
client player = new client();
[/code]

and be able to call player subroutines 

I need to be able to use a stillgfx, distranceToPoint methods, and drop equipment for this player then when ready destroy this object.
[code=java]
player.stillgfx(bombgfx, npcs[i].absY, npcs[i].absX);
[/code]

Pretty simple, any got a few minutes to help me out?


Here&#39;s my compiler
[code=java]
NPCHandler.java:3000: cannot find symbol
symbol  : constructor client()
location: class client
                        client npc  = new client();
[/code]</description>
    
    <lastBuildDate>Wed, 22 Apr 2015 20:25:50 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Creating a new player object</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>You should extract out the functionality you want from the Player class, to a Character class, which both Player and Npc are subclasses of. Then, just create the Npc.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/creating-a-new-player-object/551192/5</link>
        <pubDate>Wed, 22 Apr 2015 20:25:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551192-5</guid>
        <source url="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192.rss">Creating a new player object</source>
      </item>
      <item>
        <title>Creating a new player object</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>[quote=“penguinimp, post:3, topic:551192”]I’m really just trying to create a temporary player who can do all the things a player can do without giving the benefits to a player.<br>
There are a lot of variables on the server i’ve decided to clean up, such as</p>
<pre><code class="lang-auto"></code></pre>
<p>I still don’t get what the extra player object is for… If you want to award a player slayer points, and you want to be sure they killed a slayer npc, that’s pretty easy to check.</p>
<p>Save the npc id to the player object. You can make a (or some) arrays to hold the npc ids of each difficulty of task (Pretty sure that’s how your slayer system is probably handled anyways). Add a loop into the npc death handler to check if the npc’s id is equal to the one saved to the player object. If it is, add the exp to the player’s slayer skill and decrease the amount remaining.</p>
<p>In all honesty, I’m not seeing any reason to create this player object.</p>
<blockquote>You're recommendations are useful, here is how a Player Class is created, 
[code=java]
    public static Player players[] = new Player[maxPlayers];
[/code]</blockquote>
No, that's how an array of Player objects are created.
<blockquote>client is lower case in every place I can find (inconsistencies in all the places...) it's also named client.java
[code=java]
public class client extends Player implements Runnable {
[/code]</blockquote>
That's strange, I usually only see it lowercase in the client. But doesn't matter. As long as the capitalization is okay, then you're set..
<blockquote>I don't see any imports in PlayerHandler.java, and Player.java beyond these
<p><code>
import java.util.Calendar;
import java.util.GregorianCalendar;
</code></p>
</blockquote><br>
That’s because it doesn’t need to import the other classes, as they’re in the same package. Same package classes can share variables (As long as they’re not declared private, or use public getters/setters) without the imports.
<blockquote>Oh I think this is probably it,
<p>I believe this is a constructor in the client.java file, in theory I need to create another client method with no arguments,<br>
any recommendations for converting this?</p>
<pre><code class="lang-auto">    public client(java.net.Socket s, int _playerId) {
        super(_playerId);
        mySock = s;
        try {
            in = s.getInputStream();
            out = s.getOutputStream();
            //in = new java.io.DataInputStream(s.getInputStream());
            //out = new DataOutputStream(s.getOutputStream());
        } catch (java.io.IOException ioe) {
            misc.println("Exception of data!");
            server.logError(ioe.getMessage());
        }

        outStream = new stream(new byte[bufferSize]);
        outStream.currentOffset = 0;
        inStream = new stream(new byte[bufferSize]);
        inStream.currentOffset = 0;

        readPtr = writePtr = 0;
        buffer = buffer = new byte[bufferSize];
    }</code></pre>
<p>I’ve thought about it and while I don’t have time to test it, I’m thinking this is probably what I want.</p>
<p><code>
    public client(int _playerId) {
        super(_playerId);
    }
</code></p>
</blockquote><br>
The problem here, is that your typical player is created with an instream and an outstream (you know, networking). For packets and etc. They’re also placed into the players[] list (The one you pointed out earlier) with a specific playerId.<br>
For this to work, you would essentially need to find a way to disable all incoming packets for the one player (Client &gt; Server packets), and make it so it only sends packets to the <span class="bbcode-i">current clients</span> (Server &gt; Client packets). Because by default, it would try to send it to it’s own client first, and that would be a nullpointer. So you will need to make it send the animation updates and etc to other players’ clients.
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/creating-a-new-player-object/551192/4</link>
        <pubDate>Wed, 22 Apr 2015 18:59:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551192-4</guid>
        <source url="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192.rss">Creating a new player object</source>
      </item>
      <item>
        <title>Creating a new player object</title>
        <dc:creator><![CDATA[@penguinimp penguinimp]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/penguinimp">@penguinimp</a> wrote:</p>
          <blockquote>
              <p>I’m really just trying to create a temporary player who can do all the things a player can do without giving the benefits to a player.<br>
There are a lot of variables on the server i’ve decided to clean up, such as</p>
<p><code>temp.SlayerKills ++;</code> and I don’t want to award a player kills when he didn’t kill that npc</p>
<p>You’re recommendations are useful, here is how a Player Class is created,</p>
<pre><code class="lang-auto">    public static Player players[] = new Player[maxPlayers];</code></pre>
<blockquote>As for your error: I believe the client class is capitalized, therefore meaning you need to capitalize it in your code.</blockquote>
<p>client is lower case in every place I can find (inconsistencies in all the places…) it’s also named client.java</p>
<pre><code class="lang-auto">public class client extends Player implements Runnable {</code></pre>
<blockquote>Either that, or you need to add the imports,</blockquote>
<p>I don’t see any imports in PlayerHandler.java, and Player.java beyond these</p>
<pre><code class="lang-auto">import java.util.Calendar;
import java.util.GregorianCalendar;</code></pre>
<blockquote>or you're missing a no-args constructor for the Client class.</blockquote>
<p>Oh I think this is probably it,</p>
<p>I believe this is a constructor in the client.java file, in theory I need to create another client method with no arguments,<br>
any recommendations for converting this?</p>
<pre><code class="lang-auto">    public client(java.net.Socket s, int _playerId) {
        super(_playerId);
        mySock = s;
        try {
            in = s.getInputStream();
            out = s.getOutputStream();
            //in = new java.io.DataInputStream(s.getInputStream());
            //out = new DataOutputStream(s.getOutputStream());
        } catch (java.io.IOException ioe) {
            misc.println("Exception of data!");
            server.logError(ioe.getMessage());
        }

        outStream = new stream(new byte[bufferSize]);
        outStream.currentOffset = 0;
        inStream = new stream(new byte[bufferSize]);
        inStream.currentOffset = 0;

        readPtr = writePtr = 0;
        buffer = buffer = new byte[bufferSize];
    }</code></pre>
<p>I’ve thought about it and while I don’t have time to test it, I’m thinking this is probably what I want.</p>
<pre><code class="lang-auto">    public client(int _playerId) {
        super(_playerId);
    }</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/creating-a-new-player-object/551192/3</link>
        <pubDate>Wed, 22 Apr 2015 15:18:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551192-3</guid>
        <source url="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192.rss">Creating a new player object</source>
      </item>
      <item>
        <title>Creating a new player object</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>I don’t even get what you’re trying to accomplish…</p>
<p>Your trying to make an NPC a player because your NPC doesn’t have some features your Player class has? or something? Can you clarify what you’re trying to do, as it’s not making sense here.</p>
<p>As for your error: I believe the client class is capitalized, therefore meaning you need to capitalize it in your code. Either that, or you need to add the imports, or you’re missing a no-args constructor for the Client class.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/creating-a-new-player-object/551192/2</link>
        <pubDate>Wed, 22 Apr 2015 07:59:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551192-2</guid>
        <source url="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192.rss">Creating a new player object</source>
      </item>
      <item>
        <title>Creating a new player object</title>
        <dc:creator><![CDATA[@penguinimp penguinimp]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/penguinimp">@penguinimp</a> wrote:</p>
          <blockquote>
              <p>tdltr; (I need help creating a new tempoary player object, that I can immediately delete, so that I can give this temporary fake player benefits without affecting real players)</p>
<p>Unfortunately I don’t have a full grasp on how to create an object in java, seems simple enough<br>
you do a</p>
<pre><code class="lang-auto">public class ClassName() {
    int testData = 1;
}</code></pre>
<p>then in another part of the code</p>
<pre><code class="lang-auto">public ClassName nameOfObject = new ClassName();</code></pre>
<p>Pretty Simple</p>
<p>Here is my desire, When an NPC dies by another npc, and temp comes back as null, we create a npc object that can enact as a player, (renaming player to entity, later) with the variable name of temp (btw who named these variables? why not player? i’ll rename later…)</p>
<p>however we aren’t doing a new client it’s doing a conversion of a number to a (client) (this is the part I don’t fully understand)<br>
So as a temporary work around, I am using an existing player object, however, Ideally what I want to do is create a new player object, and then kill that object after one use.</p>
<pre><code class="lang-auto">client temp = (client) server.playerHandler.players[npcs[i].getKiller()];
if (temp == null) {
    for (int j = 1; j &lt; server.playerHandler.maxPlayers; j++) {
        if (server.playerHandler.players[j] != null) {
            temp = (client) server.playerHandler.players[j];
            println("TEMP: "+temp);
            if (temp != null) {
                break;
            }
        }
    }
}</code></pre>
<p>What I want is something like however client.java is a child on Player.java, and that’s a bit confusing.</p>
<pre><code class="lang-auto">client player = new client();</code></pre>
<p>and be able to call player subroutines</p>
<p>I need to be able to use a stillgfx, distranceToPoint methods, and drop equipment for this player then when ready destroy this object.</p>
<pre><code class="lang-auto">player.stillgfx(bombgfx, npcs[i].absY, npcs[i].absX);</code></pre>
<p>Pretty simple, any got a few minutes to help me out?</p>
<p>Here’s my compiler</p>
<pre><code class="lang-auto">NPCHandler.java:3000: cannot find symbol
symbol  : constructor client()
location: class client
                        client npc  = new client();</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/creating-a-new-player-object/551192/1</link>
        <pubDate>Wed, 22 Apr 2015 05:43:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-551192-1</guid>
        <source url="https://forum.moparisthebest.com/t/creating-a-new-player-object/551192.rss">Creating a new player object</source>
      </item>
  </channel>
</rss>
