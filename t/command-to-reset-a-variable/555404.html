<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/command-to-reset-a-variable/555404 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Command to reset a variable? - Runescape - moparisthebest.com</title>
    <meta name="description" content="ok so didn know what quite to call what im trying to do but here it goes 

so each playerfile has a variable, well i added a custom one, and what i want to happen is when i use ::update, it changes said varable to 1,  fo&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="555404.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Command to reset a variable?&#39;" href="555404.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/command-to-reset-a-variable/555404" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/command-to-reset-a-variable/555404" />
<meta property="og:title" content="Command to reset a variable?" />
<meta name="twitter:title" content="Command to reset a variable?" />
<meta property="og:description" content="ok so didn know what quite to call what im trying to do but here it goes  so each playerfile has a variable, well i added a custom one, and what i want to happen is when i use ::update, it changes said varable to 1,  for all players online and offline before it restarts the server, how would i go about doing that?  aswell as how can i make the server automaticly do ::update every 24 hours?" />
<meta name="twitter:description" content="ok so didn know what quite to call what im trying to do but here it goes  so each playerfile has a variable, well i added a custom one, and what i want to happen is when i use ::update, it changes said varable to 1,  for all players online and offline before it restarts the server, how would i go about doing that?  aswell as how can i make the server automaticly do ::update every 24 hours?" />
<meta property="article:published_time" content="2016-05-15T19:35:31+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="555404.html">Command to reset a variable?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jadefx.html'><span itemprop='name'>Jadefx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-15T19:35:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:30:29Z' class='post-time'>
              August 4, 2016,  6:30pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok so didn know what quite to call what im trying to do but here it goes</p>
<p>so each playerfile has a variable, well i added a custom one, and what i want to happen is when i use ::update, it changes said varable to 1,  for all players online and offline before it restarts the server, how would i go about doing that?</p>
<p>aswell as how can i make the server automaticly do ::update every 24 hours?</p>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Roar337.html'><span itemprop='name'>Roar337</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-15T20:17:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:30:30Z' class='post-time'>
              August 4, 2016,  6:30pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Java has a couple different file reader and file writer type api’s you can use them to access and edit the character file since its in a predictable location and since the files follow a predictable format.</p>
<ol>
<li>For all players warn, wait 30, disconnect.</li>
<li>File writer edits files.</li>
</ol>
<p>^ No reason to have down time just for this.</p>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jadefx.html'><span itemprop='name'>Jadefx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-15T20:25:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:30:30Z' class='post-time'>
              August 4, 2016,  6:30pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok well then i guess all i need is a way to update 1 varable in all character files, thats what im trying to accomplish. but also check if that player is online.</p>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Roar337.html'><span itemprop='name'>Roar337</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-15T22:25:46Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:30:34Z' class='post-time'>
              August 4, 2016,  6:30pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>When you create a file writer you specify the file but there is a way to get every file in the directory as a array also included in java api you can use a for loop to iterate through the array for editing every file and as for checking if the player is online your server likely has a function for this if not here you go:</p>
<p>This is just example code.</p>
<pre><code class="lang-auto">for(Player p : onlinePlayers) {
if(p != null) {
//Player is online
}
}</code></pre>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-16T17:32:32Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:30:45Z' class='post-time'>
              August 4, 2016,  6:30pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>To set the variable, it’d be best that you first looped all online players, and saved each name into a list.</p>
<p>Then, you would use get the list of files in the character directory:</p>
<p><code>File charFolder = new File("char_path");
File[] characterFiles = charFolder.listFiles();</code></p>
<p>And you guessed it, you’d loop through all those, checking that they’re <span class="bbcode-b">not null and they are not in the list of names earlier</span>. If both those conditions are met, you will scan the file (See: Character loading in your server) for the update token, change the value to 1, then write it.<br>
<a href="http://stackoverflow.com/questions/23466179/java-replace-specific-string-in-textfile" data-bbcode="true" rel="nofollow noopener">Stackoverflow | java replace specific string in textfile</a></p>
<p>You can also use Apache commons to replace the text:<br>
<a href="http://stackoverflow.com/questions/3935791/find-and-replace-words-lines-in-a-file" data-bbcode="true" rel="nofollow noopener">Stackoverflow | Find and replace words/lines in a file</a></p>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-26T15:47:32Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:31:15Z' class='post-time'>
              August 4, 2016,  6:31pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:5, topic:555404”]To set the variable, it’d be best that you first looped all online players, and saved each name into a list.</p>
<p>Then, you would use get the list of files in the character directory:</p>
<p><code>File charFolder = new File("char_path");
File[] characterFiles = charFolder.listFiles();</code></p>
<p>And you guessed it, you’d loop through all those, checking that they’re <span class="bbcode-b">not null and they are not in the list of names earlier</span>. If both those conditions are met, you will scan the file (See: Character loading in your server) for the update token, change the value to 1, then write it.<br>
<a href="http://stackoverflow.com/questions/23466179/java-replace-specific-string-in-textfile" data-bbcode="true" rel="nofollow noopener">Stackoverflow | java replace specific string in textfile</a></p>
<p>You can also use Apache commons to replace the text:<br>
<a href="http://stackoverflow.com/questions/3935791/find-and-replace-words-lines-in-a-file" data-bbcode="true" rel="nofollow noopener">Stackoverflow | Find and replace words/lines in a file</a>[/quote]</p>
<p>Wouldn’t these files get overwritten dependent if the player is logging out? Because upon logging out, the current state of the player (which is the one before you modified the files) gets saved, overwriting the data you modified while the player being logged in.</p>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/X-J-K-X.html'><span itemprop='name'>X-J-K-X</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-26T19:44:24Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:31:16Z' class='post-time'>
              August 4, 2016,  6:31pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just do it all whilst they’re offline and you won’t have to worry about whether they’re online or not.</p>
<p>Do it in between an update with a separate application</p>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-27T03:48:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:31:17Z' class='post-time'>
              August 4, 2016,  6:31pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“xXSh0ckXx, post:6, topic:555404”][quote author=sk8rdude461 link=topic=674596.msg4508635#msg4508635 date=1463419952]<br>
To set the variable, it’d be best that you first looped all online players, and saved each name into a list.</p>
<p>Then, you would use get the list of files in the character directory:</p>
<p><code>File charFolder = new File("char_path");
File[] characterFiles = charFolder.listFiles();</code></p>
<p>And you guessed it, you’d loop through all those, checking that they’re <span class="bbcode-b">not null and they are not in the list of names earlier</span>. If both those conditions are met, you will scan the file (See: Character loading in your server) for the update token, change the value to 1, then write it.<br>
<a href="http://stackoverflow.com/questions/23466179/java-replace-specific-string-in-textfile" data-bbcode="true" rel="nofollow noopener">Stackoverflow | java replace specific string in textfile</a></p>
<p>You can also use Apache commons to replace the text:<br>
<a href="http://stackoverflow.com/questions/3935791/find-and-replace-words-lines-in-a-file" data-bbcode="true" rel="nofollow noopener">Stackoverflow | Find and replace words/lines in a file</a></p>
<p>[/quote]</p>
<p>Wouldn’t these files get overwritten dependent if the player is logging out? Because upon logging out, the current state of the player (which is the one before you modified the files) gets saved, overwriting the data you modified while the player being logged in.[/quote]<br>
Yes, hence why you’d first modify the online accounts, taking note of their names, then modify the offline accounts, and if the filename is one of the online accounts, you’d skip it</p>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-27T07:41:30Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:31:17Z' class='post-time'>
              August 4, 2016,  6:31pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:8, topic:555404”][quote author=xXSh0ckXx link=topic=674596.msg4509002#msg4509002 date=1464277652]</p>
<aside class="quote">
<blockquote>
<p>To set the variable, it’d be best that you first looped all online players, and saved each name into a list.</p>
<p>Then, you would use get the list of files in the character directory:</p>
<p><code>File charFolder = new File("char_path");
File[] characterFiles = charFolder.listFiles();</code></p>
<p>And you guessed it, you’d loop through all those, checking that they’re <span class="bbcode-b">not null and they are not in the list of names earlier</span>. If both those conditions are met, you will scan the file (See: Character loading in your server) for the update token, change the value to 1, then write it.<br>
<a href="http://stackoverflow.com/questions/23466179/java-replace-specific-string-in-textfile" data-bbcode="true" rel="nofollow noopener">Stackoverflow | java replace specific string in textfile</a></p>
<p>You can also use Apache commons to replace the text:<br>
<a href="http://stackoverflow.com/questions/3935791/find-and-replace-words-lines-in-a-file" data-bbcode="true" rel="nofollow noopener">Stackoverflow | Find and replace words/lines in a file</a></p>
</blockquote>
</aside>
<p>Wouldn’t these files get overwritten dependent if the player is logging out? Because upon logging out, the current state of the player (which is the one before you modified the files) gets saved, overwriting the data you modified while the player being logged in.<br>
[/quote]<br>
Yes, hence why you’d first modify the online accounts, taking note of their names, then modify the offline accounts, and if the filename is one of the online accounts, you’d skip it[/quote]<br>
and if the filename is one of the online accounts, you’d skip it&lt;<br>
Oh, I mis-interpretated that. So you list the names of players being online, modify them from that point on, then loop through the account files, check if any of the account names equal a name in the list, skip it, else modify it too.</p>
<p>I’d use a Set for this procedure, due to it not allowing duplicate elements.</p>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-27T18:12:51Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:31:19Z' class='post-time'>
              August 4, 2016,  6:31pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“xXSh0ckXx, post:9, topic:555404”][quote author=sk8rdude461 link=topic=674596.msg4509022#msg4509022 date=1464320939]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>To set the variable, it’d be best that you first looped all online players, and saved each name into a list.</p>
<p>Then, you would use get the list of files in the character directory:</p>
<p><code>File charFolder = new File("char_path");
File[] characterFiles = charFolder.listFiles();</code></p>
<p>And you guessed it, you’d loop through all those, checking that they’re <span class="bbcode-b">not null and they are not in the list of names earlier</span>. If both those conditions are met, you will scan the file (See: Character loading in your server) for the update token, change the value to 1, then write it.<br>
<a href="http://stackoverflow.com/questions/23466179/java-replace-specific-string-in-textfile" data-bbcode="true" rel="nofollow noopener">Stackoverflow | java replace specific string in textfile</a></p>
<p>You can also use Apache commons to replace the text:<br>
<a href="http://stackoverflow.com/questions/3935791/find-and-replace-words-lines-in-a-file" data-bbcode="true" rel="nofollow noopener">Stackoverflow | Find and replace words/lines in a file</a></p>
</blockquote>
</aside>
<p>Wouldn’t these files get overwritten dependent if the player is logging out? Because upon logging out, the current state of the player (which is the one before you modified the files) gets saved, overwriting the data you modified while the player being logged in.</p>
</blockquote>
</aside>
<p>Yes, hence why you’d first modify the online accounts, taking note of their names, then modify the offline accounts, and if the filename is one of the online accounts, you’d skip it<br>
[/quote]<br>
and if the filename is one of the online accounts, you’d skip it&lt;<br>
Oh, I mis-interpretated that. So you list the names of players being online, modify them from that point on, then loop through the account files, check if any of the account names equal a name in the list, skip it, else modify it too.</p>
<p>I’d use a Set for this procedure, due to it not allowing duplicate elements.[/quote]<br>
No need for that. ArrayList would work just fine. How would you even get a duplicate? It’s not like 2 players are going to have the same username.<br>
Plus, you’re just checking the list if it contains it.</p>
<p><code>ArrayList&lt;String&gt; playersModified = new ArrayList&lt;String&gt;();
for(Player p : PlayerHandler.players) {
     if(p != null) {
          p.setValue(1);
          playersModified.add(p.playerName);
     }
}
File[] dir = new File("./characters/").listFiles();
for(File f : dir) {
     if(f != null &amp;&amp; !playersModified.contains(f.getName().substring(0, f.getName().indexOf('.'))) {
          // parse the file and set the value and save here.
     }
}</code></p>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-05-31T07:16:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T18:31:28Z' class='post-time'>
              August 4, 2016,  6:31pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:10, topic:555404”][quote author=xXSh0ckXx link=topic=674596.msg4509030#msg4509030 date=1464334890]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>To set the variable, it’d be best that you first looped all online players, and saved each name into a list.</p>
<p>Then, you would use get the list of files in the character directory:</p>
<p><code>File charFolder = new File("char_path");
File[] characterFiles = charFolder.listFiles();</code><br>
And you guessed it, you’d loop through all those, checking that they’re <span class="bbcode-b">not null and they are not in the list of names earlier</span>. If both those conditions are met, you will scan the file (See: Character loading in your server) for the update token, change the value to 1, then write it.<br>
<a href="http://stackoverflow.com/questions/23466179/java-replace-specific-string-in-textfile" data-bbcode="true" rel="nofollow noopener">Stackoverflow | java replace specific string in textfile</a></p>
<p>You can also use Apache commons to replace the text:<br>
<a href="http://stackoverflow.com/questions/3935791/find-and-replace-words-lines-in-a-file" data-bbcode="true" rel="nofollow noopener">Stackoverflow | Find and replace words/lines in a file</a></p>
</blockquote>
</aside>
<p>Wouldn’t these files get overwritten dependent if the player is logging out? Because upon logging out, the current state of the player (which is the one before you modified the files) gets saved, overwriting the data you modified while the player being logged in.</p>
</blockquote>
</aside>
<p>Yes, hence why you’d first modify the online accounts, taking note of their names, then modify the offline accounts, and if the filename is one of the online accounts, you’d skip it</p>
</blockquote>
</aside>
<p>and if the filename is one of the online accounts, you’d skip it&lt;<br>
Oh, I mis-interpretated that. So you list the names of players being online, modify them from that point on, then loop through the account files, check if any of the account names equal a name in the list, skip it, else modify it too.</p>
<p>I’d use a Set for this procedure, due to it not allowing duplicate elements.<br>
[/quote]<br>
No need for that. ArrayList would work just fine. How would you even get a duplicate? It’s not like 2 players are going to have the same username.<br>
Plus, you’re just checking the list if it contains it.</p>
<p><code>ArrayList&lt;String&gt; playersModified = new ArrayList&lt;String&gt;();
for(Player p : PlayerHandler.players) {
     if(p != null) {
          p.setValue(1);
          playersModified.add(p.playerName);
     }
}
File[] dir = new File("./characters/").listFiles();
for(File f : dir) {
     if(f != null &amp;&amp; !playersModified.contains(f.getName().substring(0, f.getName().indexOf('.'))) {
          // parse the file and set the value and save here.
     }
}</code>[/quote]<br>
… I’m not discussing this out anymore, this gets too stupid anyways.</p>
      </div>

      <meta itemprop='headline' content='Command to reset a variable?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/command-to-reset-a-variable/555404 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:10 GMT -->
</html>
