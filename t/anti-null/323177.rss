<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Anti Null</title>
    <link>https://forum.moparisthebest.com/t/anti-null/323177</link>
    <description>Well my server nulls a LOT i already have auto restarter on..
I have no idea why, can anyone help me figure out anti null or w/e?
thanks guys</description>
    
    <lastBuildDate>Thu, 31 Dec 2009 17:47:09 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/anti-null/323177.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Anti Null</title>
        <dc:creator><![CDATA[@wwe4eva wwe4eva]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wwe4eva">@wwe4eva</a> wrote:</p>
          <blockquote>
              <p>Search.</p>
<p>Theres 100,000,000,000,000,0 you get the idea, topics about this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/anti-null/323177/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/anti-null/323177/3</link>
        <pubDate>Thu, 31 Dec 2009 17:47:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-323177-3</guid>
        <source url="https://forum.moparisthebest.com/t/anti-null/323177.rss">Anti Null</source>
      </item>
      <item>
        <title>Anti Null</title>
        <dc:creator><![CDATA[@Owned_Pl0xs Owned_Pl0xs]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/owned_pl0xs">@Owned_Pl0xs</a> wrote:</p>
          <blockquote>
              <p>I’m assuming you have a delta based server. Basically, what you have to do is pretty simple.</p>
<p>First, replace your removePlayer method in your PlayerHandler class with this one:</p>
<p><code>	public void removePlayer(Player player) {
		if (player == null)
			return;
		if (player.Privatechat != 2) {
			for (int i = 1; i &lt; maxPlayers; i++) {
				if ((players[i] == null) || (!players[i].isActive) || (players[i].playerName == null))
					continue;
				players[i].pmupdate(player.playerId, 0);
			}
		}
		saveGame(player);
		player.destruct();
	}</code></p>
<p>Then, declare this in your player class:</p>
<pre><code class="lang-auto">public long logOutDelay;</code></pre>
<p>The next thing you might want to do is wrap your logout method, located in the client class, with a try and catch, here is an example of a try and catch in the logout method.</p>
<p><code>	public void logout() {
		try {
			killMyNPCs();
			if(inPitsGame){
				inPitsGame = false;
				PlayerHandler.playersInPit -= 1;
			}
			resetfollowers();
			savegame(true);
			disconnected = true;
			if(this != null) {
				outStream.createFrame(109);
				flushOutStream();
			}
		} catch (Exception e) { }
	}</code></p>
<p>Finally, the last thing you must do is open up your PlayerHandler class again, and go to the process method, and find:</p>
<pre><code class="lang-auto">for (int i = 0; i &lt; maxPlayers; i++) {</code></pre>
<p>Just so you know, there are 2 other statements exactly the same as this one, so make sure you find the first one, and not the other two.</p>
<p>Now, replace that first loop from the { to the last } with:</p>
<p>[code]			for (int i = 0; i &lt; maxPlayers; i++) {<br>
try {<br>
if (players[i] == null)<br>
continue;<br>
if (!players[i].disconnected &amp;&amp; !players[i].isActive) {<br>
if (players[i].violations &gt; 1) {<br>
System.out.println("Disconnecting bugged player "+ players[i].playerName);<br>
removePlayer(players[i]);<br>
players[i] = null;<br>
continue;<br>
} else {<br>
players[i].violations++;<br>
continue;<br>
}<br>
}<br>
if (players[i].disconnected)<br>
continue;<br>
players[i].preProcessing();<br>
players[i].process();<br>
while(players[ i ].packetProcess());<br>
players[i].postProcessing();<br>
players[i].playerRights = 0;<br>
players[i].getNextPlayerMovement();</p>
<pre><code>				if (players[i].disconnected &amp;&amp; players[i].logoutDelay == 0) {
					client p = (client) players[i];
					if (p.inTrade) {
						client p2 = (client) players[p.trade_reqId];
						p.declineTrade(true);
					}
					removePlayer(players[i]);
					players[i] = null;
				}
			} catch (Exception e) {
				if (players[i].playerName != null)
					misc.println("Error with player " + i + ", "+ players[i].playerName);
				players[i].disconnected = true;
			}
		}[/code]
</code></pre>
<p>Next, find the next</p>
<pre><code class="lang-auto">for (int i = 0; i &lt; maxPlayers; i++) {</code></pre>
<p>Replace that block with:</p>
<p>[code]			for (int i = 0; i &lt; maxPlayers; i++) {<br>
if (players[i] == null)<br>
continue;<br>
if (!players[i].isActive || (players[i].playerName == null))<br>
continue;</p>
<pre><code>			if ((players[i].disconnected)) {
				if (players[i].savefile == true) {
					if (saveGame(players[i])) {
						System.out.println("Game saved for player "+ players[i].playerName);
					} else {
						System.out.println("Could not save for "+ players[i].playerName);
					}
					;
				} else {
					System.out.println("Did not save for "+ players[i].playerName);
				}
				removePlayer(players[i]);
				players[i] = null;
			} else {
				if (!players[i].initialized) {
					players[i].initialize();
					players[i].initialized = true;
				} else {
					players[i].update();
				}
			}
		}[/code]
</code></pre>
<p>Now, find:</p>
<pre><code class="lang-auto">// post processing</code></pre>
<p>Replace whatever code is under it to this:</p>
<p><code>			// post processing
			for (int i = 0; i &lt; maxPlayers; i++) {
				if ((players[i] == null) || !players[i].isActive)
					continue;
				players[i].clearUpdateFlags();
			}
		} catch (Exception e) {}
	}</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/anti-null/323177/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/anti-null/323177/2</link>
        <pubDate>Thu, 31 Dec 2009 17:46:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-323177-2</guid>
        <source url="https://forum.moparisthebest.com/t/anti-null/323177.rss">Anti Null</source>
      </item>
      <item>
        <title>Anti Null</title>
        <dc:creator><![CDATA[@usernamecool usernamecool]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/usernamecool">@usernamecool</a> wrote:</p>
          <blockquote>
              <p>Well my server nulls a LOT i already have auto restarter on…<br>
I have no idea why, can anyone help me figure out anti null or w/e?<br>
thanks guys</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/anti-null/323177/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/anti-null/323177/1</link>
        <pubDate>Thu, 31 Dec 2009 17:36:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-323177-1</guid>
        <source url="https://forum.moparisthebest.com/t/anti-null/323177.rss">Anti Null</source>
      </item>
  </channel>
</rss>
