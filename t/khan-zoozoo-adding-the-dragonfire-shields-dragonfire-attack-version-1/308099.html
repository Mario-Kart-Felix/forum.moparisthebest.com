<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/khan-zoozoo-adding-the-dragonfire-shields-dragonfire-attack-version-1/308099 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 07:05:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Khan_ZooZoo] --- Adding the Dragonfire Shield&#39;s Dragonfire Attack (Version 1) - Runescape - moparisthebest.com</title>
    <meta name="description" content="[B]Description: This is a tutorial on how to add a basic dragonfire shield to your server. If you use a client that has a dragonfire shield, then use that id. But if you just use the MoparScape client, then just use the &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="308099.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Khan_ZooZoo] --- Adding the Dragonfire Shield&#39;s Dragonfire Attack (Version 1)&#39;" href="308099.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://i728.photobucket.com/albums/ww287/Khaun6195/29magicon2b.png" />
<meta property="og:image" content="http://i728.photobucket.com/albums/ww287/Khaun6195/29magicon2b.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/khan-zoozoo-adding-the-dragonfire-shields-dragonfire-attack-version-1/308099" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/khan-zoozoo-adding-the-dragonfire-shields-dragonfire-attack-version-1/308099" />
<meta property="og:title" content="[Khan_ZooZoo] --- Adding the Dragonfire Shield&#39;s Dragonfire Attack (Version 1)" />
<meta name="twitter:title" content="[Khan_ZooZoo] --- Adding the Dragonfire Shield&#39;s Dragonfire Attack (Version 1)" />
<meta property="og:description" content="[B]Description: This is a tutorial on how to add a basic dragonfire shield to your server. If you use a client that has a dragonfire shield, then use that id. But if you just use the MoparScape client, then just use the anti-dragon shield. (1540)  I know commands fail and suck, but like the title says, this is version 1. In version 2 I plan on making it actually use a second option on the dragonfire shield, or something. Tell me what you think in the comments.[/B][/COLOR]  Purpose: Adding a basi..." />
<meta name="twitter:description" content="[B]Description: This is a tutorial on how to add a basic dragonfire shield to your server. If you use a client that has a dragonfire shield, then use that id. But if you just use the MoparScape client, then just use the anti-dragon shield. (1540)  I know commands fail and suck, but like the title says, this is version 1. In version 2 I plan on making it actually use a second option on the dragonfire shield, or something. Tell me what you think in the comments.[/B][/COLOR]  Purpose: Adding a basi..." />
<meta property="article:published_time" content="2009-10-12T06:30:12+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="308099.html">[Khan_ZooZoo] --- Adding the Dragonfire Shield&#39;s Dragonfire Attack (Version 1)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Khan_ZooZoo.html'><span itemprop='name'>Khan_ZooZoo</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-10-12T06:30:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:43:48Z' class='post-time'>
              July 31, 2016, 11:43am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[B]Description: This is a tutorial on how to add a basic dragonfire shield to your server. If you use a client that has a dragonfire shield, then use that id. But if you just use the MoparScape client, then just use the anti-dragon shield. (1540)</p>
<p>I know commands fail and suck, but like the title says, this is version 1. In version 2 I plan on making it actually use a second option on the dragonfire shield, or something. Tell me what you think in the comments.[/B][/COLOR]</p>
<p><span class="bbcode-b">Purpose: Adding a basic dragonfire shield attack with charges.<br>
Difficulty: As hard as you make it.<br>
Base used: I honestly do not know. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> I just downloaded a blank server to start my new project on. But I’m guessing this works on all except for the big ones like Shard.</span></p>
<p><span class="bbcode-b">THIS IS 100% BY ME! IF IT IS IN ANY/SOME WAY SIMILAR TO OTHERS IT IS COMPLETELY INCIDENTAL. (I think incidental is the word I was looking for. :))</span></p>
<p>!!!--------------~~~~~ <span class="bbcode-b"><span class="bbcode-u">!WARNING!</span></span> ~~~~~--------------!!!<br>
[B]Before you post and say “Oh, this sucks. It uses “AttackPlayersWithin.” Why the hell would I use this piece of shit?!”</p>
<p>It is UNFINISHED (Still need to add it for NPC’s.) and I am still LEARNING! (So just tell me what I could do to make it better, mkay? Thanks. :)[/B])</p>
<p><span class="bbcode-b">Client-side: (Optional; actually, you don’t open any files in the client-side. :))</span><br>
<span class="bbcode-b">Do NOT do the client-side part if you are NOT doing Step 2. b)!</span></p>
<p>Open your cache with Tom’s Cache Suite, go into <code>Image Archives</code> and then go to <code>Media</code> Go into and edit both <code>28</code> in <code>magicon2</code> and <code>magicoff2</code> Replace both with this:</p>
<p><img src="http://i728.photobucket.com/albums/ww287/Khaun6195/29magicon2b.png" alt width="20" height="20"></p>
<p>You now have a dragonfire symbol for an Annakaral (How the hell do you spell it. &gt;.&lt;)</p>
<p><span class="bbcode-b">Server-side:</span></p>
<p><span class="bbcode-b">Step 1.</span></p>
<p>Find</p>
<pre><code class="lang-auto">public class client extends Player implements Runnable {</code></pre>
<p>and under that declare this</p>
<p><code>	/* Dragonfire shield */
	public int dcharges = 0;</code></p>
<p><span class="bbcode-b">Step 2. a)</span> (Only do <span class="bbcode-b">Step 2. a)</span> if you want to use commands, if you want to use Annakaral teleport in the ancients book, goto <span class="bbcode-b">Step 2. b)</span></p>
<p>Open <span class="bbcode-b">client.java</span> and search for:</p>
<pre><code class="lang-auto">private void customCommand(String command) {</code></pre>
<p>under that add</p>
<p>[CODE]if (command.startsWith(“dcharges”)) { // The :: command. (::dcharges)<br>
sendMessage("<a class="mention" href="../../u/dre.html">@dre</a>@You currently have <a class="mention" href="../../u/blu.html">@blu</a>@"+dcharges+" <a class="mention" href="../../u/dre.html">@dre</a>@dragonfire charges."); // Sends this message.<br>
}</p>
<p>if (command.startsWith(“usedfs”)) { // The :: command. (::usedfs)<br>
if (playerEquipment[playerShield] == 14 &amp;&amp; dcharges &gt;= 1) { // What you need to use the command. Change the <span class="bbcode-b">14</span> to your dragonfire shield ID.<br>
dcharges -= 1; // Takes away one dragonfire charge.<br>
stillgfx(1, absY, absX); // The gfx that is used. In this case, a dragonfire blob <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
//setAnimation(2836); // enable this incase you want to scared emote.<br>
setAnimation(439); // A spin attack. Didn’t use scared because it doesn’t show shield.<br>
hitDiff = 0 + misc.random(25); // The dragonfire shield will hit within 0-25 randomly.<br>
attackPlayersWithin(401, 17, 1); // Attack the players within this. &lt;-<br>
sendMessage("<a class="mention" href="../../u/dre.html">@dre</a>@You unleash the power of your dragonfire shield!"); // Sends a message.<br>
sendMessage("<a class="mention" href="../../u/dre.html">@dre</a>@You now have <a class="mention" href="../../u/blu.html">@blu</a>@"+dcharges+" <a class="mention" href="../../u/dre.html">@dre</a>@dragonfire charges."); // Sends a message.<br>
} else<br>
if (dcharges &lt;= 0) { // Makes it so the dragonfire charges don’t go below 0.<br>
sendMessage("<a class="mention" href="../../u/dre.html">@dre</a>@You do not have any dragon’s fire stored!"); // Sends this message.<br>
sendMessage("<a class="mention" href="../../u/dre.html">@dre</a>@Kill dragons while having your dragonfire shield equipped to gain charges."); // Sends this message.<br>
}<br>
}[/CODE]</p>
<p><span class="bbcode-b">[U]Here is the code without all of the sendMessage colour. [U]<span class="bbcode-u">DO NOT FORGET TO CHANGE “14” TO YOUR DRAGONFIRE SHIELD ID!</span></span></p>
<p>[CODE]if (command.startsWith(“dcharges”)) {<br>
sendMessage(“You currently have “+dcharges+” dragonfire charges.”);<br>
}</p>
<p>if (command.startsWith(“usedfs”)) {<br>
if (playerEquipment[playerShield] == 14 &amp;&amp; dcharges &gt;= 1) {<br>
dcharges -= 1;<br>
stillgfx(1, absY, absX);<br>
//setAnimation(2836); // enable this incase you want to scared emote.<br>
setAnimation(439);<br>
hitDiff = 0 + misc.random(25);<br>
attackPlayersWithin(401, 17, 1);<br>
sendMessage(“You unleash the power of your dragonfire shield!”);<br>
sendMessage(“You now have “+dcharges+” dragonfire charges.”);<br>
} else<br>
if (dcharges &lt;= 0) {<br>
sendMessage(“You do not have any dragon’s fire stored!”);<br>
sendMessage(“Kill dragons while having your dragonfire shield equipped to gain charges.”);<br>
}<br>
}[/CODE]</p>
<p>^.^.^ That is how you use the dragonfire shield’s charges.</p>
<p><span class="bbcode-b">Step 2. b)</span></p>
<p>Add this void with your other public voids:</p>
<p><code>public void dragonFireShieldSpec() {
if (playerEquipment[playerShield] == 14 &amp;&amp; dcharges &gt;= 1) {
dcharges -= 1;
stillgfx(1, absY, absX);
//setAnimation(2836); // enable this incase you want to scared emote.
setAnimation(439);
hitDiff = 0 + misc.random(25);
attackPlayersWithin(401, 17, 1);
sendMessage("@dre@You unleash the power of your dragonfire shield!");
sendMessage("@dre@You now have @blu@"+dcharges+" @dre@dragonfire charges.");
} else 
if (dcharges &lt;= 0) {
sendMessage("@dre@You do not have any dragon's fire stored!");
sendMessage("@dre@Kill dragons while having your dragonfire shield equipped to gain charges.");
}
}
}</code></p>
<p>Now search for <code>sendQuest</code> until you find something like this</p>
<pre><code class="lang-auto">sendQuest("Something is going to be here, doesn't exactly matter what.", 183);</code></pre>
<p>and then under that add <code>sendQuest("Dragonfire", 13089);
sendQuest("Unleash your dragonfire charges.", 13090);</code></p>
<p>Then search for <code>case 185:</code></p>
<p>and add this with the rest of your cases</p>
<p><code>case 51031:
dragonFireShieldSpec();
break;</code></p>
<p>That makes Annakaral (the second last teleport) in the ancients spellbook the dragonfire shield special.</p>
<p>(EXTRA: If you want the ancients tab to be besides the friends tab, search for “public void initialize() {” and then with the other “setSideBarInterface”'s, add “setSidebarInterface(7, 12855);”)</p>
<p><span class="bbcode-b">Step 3.</span><br>
<span class="bbcode-b">If you do not have this void, add it. As soon as you add it, compile to see if you have any errors.<br>
If you don’t, then you can go on to Step 4. If you get errors, continue on through the tutorial.</span></p>
<p>[CODE]    public void attackPlayersWithin(int gfx, int maxDamage, int range) {<br>
for (Player p : server.playerHandler.players) {<br>
if (p != null) {<br>
client person = (client) p;</p>
<pre><code>            if ((person.playerName != null || person.playerName != "null")) {
                if (person.distanceToPoint(absX, absY) &lt;= range
                        &amp;&amp; person.playerId != playerId &amp;&amp; !person.nonWild()) {
                    int damage = misc.random(maxDamage);

                    person.stillgfx(gfx, person.absY, person.absX);
                    if (person.playerLevel[3] - hitDiff &lt; 0) { 
                        damage = person.playerLevel[3];
                    }
                    person.hitDiff = damage;
                    person.KillerId = playerId;
                    person.updateRequired = true;
                    person.hitUpdateRequired = true;
                }
            }
        }
    }
}[/CODE]
</code></pre>
<p>If you get other errors after adding that and they are involving “Cannot find symbol. (nonWild)”, then use this code instead.</p>
<p>[CODE]    public void attackPlayersWithin(int gfx, int maxDamage, int range) {<br>
for (Player p : server.playerHandler.players) {<br>
if (p != null) {<br>
client person = (client) p;</p>
<pre><code>            if ((person.playerName != null || person.playerName != "null")) {
                if (person.distanceToPoint(absX, absY) &lt;= range
                        &amp;&amp; person.playerId != playerId &amp;&amp; person.Wild()) {
                    int damage = misc.random(maxDamage);

                    person.stillgfx(gfx, person.absY, person.absX);
                    if (person.playerLevel[3] - hitDiff &lt; 0) { 
                        damage = person.playerLevel[3];
                    }
                    person.hitDiff = damage;
                    person.KillerId = playerId;
                    person.updateRequired = true;
                    person.hitUpdateRequired = true;
                }
            }
        }
    }[/CODE]
</code></pre>
<p><span class="bbcode-b">Step 4.</span></p>
<p>Open NPCHandler.java and search for</p>
<pre><code class="lang-auto">} else if (npcs[i].IsDead == true) {</code></pre>
<p>With all of those death animations, add this</p>
<p><code>								if (npcs[i].npcType == 941 || npcs[i].npcType == 55 || npcs[i].npcType == 49 || npcs[i].npcType == 1590 || npcs[i].npcType == 1591 || npcs[i].npcType == 1592 || npcs[i].npcType == 53 || npcs[i].npcType == 54 || npcs[i].npcType == 50) { // dragonfire shield charging
								client c = (client) PlayerHandler.players[GetNpcKiller(i)];
								if (c.playerEquipment[c.playerShield] == 14) {
								c.dcharges += 1;
								c.sendMessage("@dre@You gain a dragonfire charge.");
								c.sendMessage("@dre@You now have @blu@"+c.dcharges+" @dre@dragonfire charges.");
								} else {
								c.sendMessage("@dre@You can only collect dragonfire charges if you have a dragonfire shield.");
								}
								}</code></p>
<p><span class="bbcode-b"><span class="bbcode-u">Again, without all of the sendMessage colour.</span></span></p>
<p><code>								if (npcs[i].npcType == 941 || npcs[i].npcType == 55 || npcs[i].npcType == 49 || npcs[i].npcType == 1590 || npcs[i].npcType == 1591 || npcs[i].npcType == 1592 || npcs[i].npcType == 53 || npcs[i].npcType == 54 || npcs[i].npcType == 50) { // dragonfire shield charging
								client c = (client) PlayerHandler.players[GetNpcKiller(i)];
								if (c.playerEquipment[c.playerShield] == 14) {
								c.dcharges += 1;
								c.sendMessage("gain a dragonfire charge.");
								c.sendMessage("You now have "+c.dcharges+" dragonfire charges.");
								} else {
								c.sendMessage("You can only collect dragonfire charges if you have a dragonfire shield.");
								}
								}</code></p>
<p><span class="bbcode-b">The above will make it so that you can only gain dragonfire charges by killing dragons with a dragonfire shield equipped. <span class="bbcode-i">Change “14” to your dragonfire shield ID.</span></span></p>
<p><span class="bbcode-b">Credits: Me. (100%)</span><br>
(Reserved for someone that will make an NPC code. :))</p>
<p><span class="bbcode-b"><span class="bbcode-u">(If you use, or even read, please post. I would like to see what everyone has to say about my beginner code and how I can improve my dragonfire shield.)</span></span></p>
<p>[B][U]Could someone tell me how to make it like a magic spell; with the “Cast on…” option? Like click the spell then the player/NPC? Thanks.</p>
<p>THIS IS ONLY FOR PKING. (I think, I just know it doesn’t work on NPC’s and I havent tested it on players. EDIT: I have tested it, and it DOES work for Pking.) JUST POINTING IT OUT THERE. IF SOMEONE WANTS TO MAKE AN NPC CODE, THEN GO RIGHT AHEAD. I WILL POST YOUR NAME IN HERE AND GIVE YOU 50% CREDITS.[/U][/B]</p>
      </div>

      <meta itemprop='headline' content='[Khan_ZooZoo] --- Adding the Dragonfire Shield&#39;s Dragonfire Attack (Version 1)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/khan-zoozoo-adding-the-dragonfire-shields-dragonfire-attack-version-1/308099 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 07:05:46 GMT -->
</html>
