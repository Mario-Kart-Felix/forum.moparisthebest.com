<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>PHP Help</title>
    <link>https://forum.moparisthebest.com/t/php-help/208483</link>
    <description>I am using osCommerce and have this template - [url=http://&quot;http://osc.template-help.com/10957/&quot;]http://osc.template-help.com/10957/[/url]

Well the banner at the top is split into like 3  image files... such as m09.jpg, m10.gif, m13.gif ... I am going to be using a custom banner and want the banner to be 1 image file.

Im not good with php, and was wondering if someone can fix the header.php so i can make it only use 1 image file for the banner.


[code]&lt;?php
/*
  $Id: header.php,v 1.42 2003/06/10 18:20:38 hpdl Exp $

  osCommerce, Open Source E-Commerce Solutions
  http://www.oscommerce.com

  Copyright (c) 2003 osCommerce

  Released under the GNU General Public License
*/

// check if the &#39;install&#39; directory exists, and warn of its existence
  if (WARN_INSTALL_EXISTENCE == &#39;true&#39;) {
	if (file_exists(dirname($HTTP_SERVER_VARS[&#39;SCRIPT_FILENAME&#39;]) . &#39;/install&#39;)) {
	  $messageStack-&gt;add(&#39;header&#39;, WARNING_INSTALL_DIRECTORY_EXISTS, &#39;warning&#39;);
	}
  }

// check if the configure.php file is writeable
  if (WARN_CONFIG_WRITEABLE == &#39;true&#39;) {
	if ( (file_exists(dirname($HTTP_SERVER_VARS[&#39;SCRIPT_FILENAME&#39;]) . &#39;/includes/configure.php&#39;)) &amp;&amp; (is_writeable(dirname($HTTP_SERVER_VARS[&#39;SCRIPT_FILENAME&#39;]) . &#39;/includes/configure.php&#39;)) ) {
	  $messageStack-&gt;add(&#39;header&#39;, WARNING_CONFIG_FILE_WRITEABLE, &#39;warning&#39;);
	}
  }

// check if the session folder is writeable
  if (WARN_SESSION_DIRECTORY_NOT_WRITEABLE == &#39;true&#39;) {
	if (STORE_SESSIONS == &#39;&#39;) {
	  if (!is_dir(tep_session_save_path())) {
		$messageStack-&gt;add(&#39;header&#39;, WARNING_SESSION_DIRECTORY_NON_EXISTENT, &#39;warning&#39;);
	  } elseif (!is_writeable(tep_session_save_path())) {
		$messageStack-&gt;add(&#39;header&#39;, WARNING_SESSION_DIRECTORY_NOT_WRITEABLE, &#39;warning&#39;);
	  }
	}
  }

// check session.auto_start is disabled
  if ( (function_exists(&#39;ini_get&#39;)) &amp;&amp; (WARN_SESSION_AUTO_START == &#39;true&#39;) ) {
	if (ini_get(&#39;session.auto_start&#39;) == &#39;1&#39;) {
	  $messageStack-&gt;add(&#39;header&#39;, WARNING_SESSION_AUTO_START, &#39;warning&#39;);
	}
  }

  if ( (WARN_DOWNLOAD_DIRECTORY_NOT_READABLE == &#39;true&#39;) &amp;&amp; (DOWNLOAD_ENABLED == &#39;true&#39;) ) {
	if (!is_dir(DIR_FS_DOWNLOAD)) {
	  $messageStack-&gt;add(&#39;header&#39;, WARNING_DOWNLOAD_DIRECTORY_NON_EXISTENT, &#39;warning&#39;);
	}
  }

  if ($messageStack-&gt;size(&#39;header&#39;) &gt; 0) {
	echo $messageStack-&gt;output(&#39;header&#39;);
  }
?&gt;
&lt;!--

			  




--&gt;



  &lt;table width=100% cellspacing=0 cellpadding=0 align=center&gt;
   &lt;tr&gt;&lt;td bgcolor=#292929 width=100% height=316 align=center valign=top&gt;
	&lt;table cellspacing=0 cellpadding=0 width=100% align=center&gt;
	 &lt;tr&gt;&lt;td width=100% align=center&gt;
	  &lt;table cellspacing=0 cellpadding=0 border=0 width=706 valign=top&gt;
	   &lt;tr&gt;&lt;td class=bg1 width=706 height=36 valign=top&gt;
		&lt;table cellspacing=0 cellpadding=0 border=0 width=706 height=36&gt;
		 &lt;tr&gt;&lt;td&gt;&lt;img src=images/m01.gif width=9 height=36 border=0&gt;&lt;/td&gt;
		 &lt;td width=134 align=center&gt;&lt;span class=ch1&gt;Shopping cart&lt;/span&gt;&amp;nbsp;&lt;a class=ml1 href=&lt;?=tep_href_link(&#39;shopping_cart.php&#39;)?&gt;&gt;&lt;?=$cart-&gt;count_contents()?&gt; items&lt;/a&gt;&lt;/td&gt;
		 &lt;td background=images/m04.gif width=1&gt;&lt;/td&gt;
		 &lt;td width=109 align=center&gt;
&lt;? // LANGUAGES

  if (!isset($lng) || (isset($lng) &amp;&amp; !is_object($lng))) {
	include(DIR_WS_CLASSES . &#39;language.php&#39;);
	$lng = new language;
  }

  $languages_string = &#39;&#39;;
  reset($lng-&gt;catalog_languages);
  while (list($key, $value) = each($lng-&gt;catalog_languages)) {
	$languages_string .= &#39; &lt;a href=&quot;&#39; . tep_href_link(basename($PHP_SELF), tep_get_all_get_params(array(&#39;language&#39;, &#39;currency&#39;)) . &#39;language=&#39; . $key, $request_type) . &#39;&quot;&gt;&#39; . tep_image(DIR_WS_LANGUAGES .  $value[&#39;directory&#39;] . &#39;/images/&#39; . $value[&#39;image&#39;], $value[&#39;name&#39;]) . &#39;&lt;/a&gt; &#39;;
  }

  echo $languages_string;

?&gt;	 

			 &lt;/td&gt;
		 &lt;td background=images/m04.gif width=1&gt;&lt;/td&gt;
		 &lt;td width=245 align=center&gt;

&lt;? // SEARCH ?&gt; 
	&lt;table cellspacing=0 cellpadding=0 &gt;
		&lt;?=tep_draw_form(&#39;quick_find&#39;, tep_href_link(FILENAME_ADVANCED_SEARCH_RESULT, &#39;&#39;, &#39;NONSSL&#39;, false), &#39;get&#39;)?&gt;
		&lt;tr&gt;&lt;td&gt;&lt;span class=ch1&gt;Site search:&lt;/span&gt;&lt;/td&gt;
		&lt;td width=126 align=center&gt;
		 &lt;?=tep_draw_input_field(&#39;keywords&#39;, &#39;&#39;, &#39;size=&quot;20&quot; maxlength=&quot;50&quot;	onclick=&quot;this.value=\&#39;\&#39;&quot; value=&quot;keyword&quot;   class=se1 &#39;) . &#39; &#39; . tep_hide_session_id()?&gt;&lt;/td&gt;
		 &lt;td&gt;&lt;input type=image src=images/m08.gif width=28 height=20&gt;&lt;/td&gt;&lt;/tr&gt;
		  &lt;/form&gt;
		  &lt;/table&gt;
&lt;? // END SEARCH ?&gt;



		 &lt;/td&gt;
		 &lt;td background=images/m04.gif width=1&gt;&lt;/td&gt;
		 &lt;td width=197 align=center&gt;
		  &lt;table cellspacing=0 cellpadding=0&gt;
		   &lt;tr&gt;&lt;td width=80&gt;&lt;span align=center class=ch1&gt;Curencies:&lt;/span&gt;&lt;/td&gt;
		   &lt;td&gt;

&lt;? // CURRENCIES

	echo tep_draw_form(&#39;currencies&#39;, tep_href_link(basename($PHP_SELF), &#39;&#39;, $request_type, false), &#39;get&#39;);

	reset($currencies-&gt;currencies);
	$currencies_array = array();
	while (list($key, $value) = each($currencies-&gt;currencies)) {
	  $currencies_array[] = array(&#39;id&#39; =&gt; $key, &#39;text&#39; =&gt; $value[&#39;title&#39;]);
	}

	$hidden_get_variables = &#39;&#39;;
	reset($HTTP_GET_VARS);
	while (list($key, $value) = each($HTTP_GET_VARS)) {
	  if ( ($key != &#39;currency&#39;) &amp;&amp; ($key != tep_session_name()) &amp;&amp; ($key != &#39;x&#39;) &amp;&amp; ($key != &#39;y&#39;) ) {
		$hidden_get_variables .= tep_draw_hidden_field($key, $value);
	  }
	}

	echo tep_draw_pull_down_menu(&#39;currency&#39;, $currencies_array, $currency, &#39;onChange=&quot;this.form.submit(); style=&quot;width: 99px; background-color: #727272; font-size: 9px; color: #FFFFFF;&quot;&#39;) . $hidden_get_variables . tep_hide_session_id();
	echo &#39;&lt;/form&gt;&#39;;
	
?&gt;			   



			   &lt;/td&gt;&lt;/tr&gt;
		  &lt;/table&gt;
		 &lt;/td&gt;
		 &lt;td&gt;&lt;img src=images/m02.gif width=9 height=36 border=0&gt;&lt;/td&gt;&lt;/tr&gt;
		&lt;/table&gt;
	   &lt;/td&gt;&lt;/tr&gt;
	   &lt;tr&gt;&lt;td width=706 valign=top&gt;
		&lt;table cellspacing=0 cellpadding=0 width=706 height=225&gt;
		 &lt;tr&gt;&lt;td width=239 style=&quot;padding-left: 10px&quot;&gt;&lt;a href=&lt;?=tep_href_link(&#39;index.php&#39;)?&gt;&gt;&lt;img src=images/m09.jpg width=164 height=111 border=0&gt;&lt;/a&gt;&lt;/td&gt;
		 &lt;td background=images/m11.gif width=307 &gt;&lt;img src=images/m10.gif width=307 height=204 border=0&gt;&lt;/td&gt;
		 &lt;td background=images/m12.gif width=160 align=center&gt;&lt;a href=&lt;?=tep_href_link(&#39;index.php&#39;,&#39;cPath=38&#39;)?&gt;&gt;&lt;img src=images/m13.gif width=121 height=186 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
		&lt;/table&gt;
	   &lt;/td&gt;&lt;/tr&gt;
	  &lt;/table&gt;
	 &lt;/tr&gt;&lt;/td&gt;
	 &lt;tr&gt;&lt;td height=55 class=bg2 align=center&gt;&lt;a href=&lt;?=tep_href_link(&#39;index.php&#39;)?&gt;&gt;&lt;img src=images/m15.gif width=94 height=55 border=0&gt;&lt;/a&gt;&lt;a href=&lt;?=tep_href_link(&#39;products_new.php&#39;)?&gt;&gt;&lt;img src=images/m16.gif width=145 height=55 border=0&gt;&lt;/a&gt;&lt;a href=&lt;?=tep_href_link(&#39;account.php&#39;)?&gt;&gt;&lt;img src=images/m17.gif width=177 height=55 border=0&gt;&lt;/a&gt;&lt;a href=&lt;?=tep_href_link(&#39;shopping_cart.php&#39;)?&gt;&gt;&lt;img src=images/m18.gif width=161 height=55 border=0&gt;&lt;/a&gt;&lt;a href=&lt;?=tep_href_link(&#39;checkout_shipping.php&#39;)?&gt;&gt;&lt;img src=images/m19.gif width=129 height=55 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
	 &lt;tr&gt;&lt;td bgcolor=#585858 height=35 align=center&gt;
	  &lt;table cellspacing=0 cellpadding=0 width=706&gt;
	   &lt;tr&gt;&lt;td width=9 height=35&gt;&lt;img src=images/m20.gif width=9 height=35&gt;&lt;/td&gt;
	   &lt;td background=images/m22.gif width=688&gt;
		&lt;table cellspacing=0 cellpadding=0 width=688 valign=top&gt;
		 &lt;tr&gt;&lt;td width=111 align=center&gt;&lt;a href=&lt;?=tep_href_link(&#39;specials.php&#39;)?&gt; class=ml2&gt;specials&lt;/a&gt;&lt;/td&gt;
		 &lt;td width=2 height=12&gt;&lt;img src=images/m23.gif width=2 height=12&gt;&lt;/td&gt;
		 &lt;td width=113 align=center&gt;&lt;a href=&lt;?=tep_href_link(&#39;advanced_search.php&#39;)?&gt; class=ml2&gt;search&lt;/a&gt;&lt;/td&gt;
		 &lt;td width=2 height=12&gt;&lt;img src=images/m23.gif width=2 height=12&gt;&lt;/td&gt;
		 &lt;td width=133 align=center&gt;&lt;a href=&lt;?=tep_href_link(&#39;contact_us.php&#39;)?&gt; class=ml2&gt;contact us&lt;/a&gt;&lt;/td&gt;
		 &lt;td width=2 height=12&gt;&lt;img src=images/m23.gif width=2 height=12&gt;&lt;/td&gt;
		 &lt;td width=177 align=center&gt;&lt;a href=&lt;?=tep_href_link(&#39;create_account.php&#39;)?&gt; class=ml2&gt;create an account&lt;/a&gt;&lt;/td&gt;
		 &lt;td width=2 height=12&gt;&lt;img src=images/m23.gif width=2 height=12&gt;&lt;/td&gt;
		 &lt;td width=146 align=center&gt;&lt;?=(!tep_session_is_registered(&#39;customer_id&#39;) ? &#39;&lt;a href=&#39;.tep_href_link(&#39;login.php&#39;).&#39; class=ml2&gt;Customer Login&lt;/a&gt;&#39; : &#39;&lt;a href=&#39;.tep_href_link(&#39;logoff.php&#39;).&#39; class=ml2&gt;Sign Out&lt;/a&gt;&#39;)?&gt;&lt;/td&gt;&lt;/tr&gt;
		&lt;/table&gt;
	   &lt;/td&gt;
	   &lt;td width=9 height=35&gt;&lt;img src=images/m21.gif width=9 height=35&gt;&lt;/td&gt;&lt;/tr&gt;
	  &lt;/table&gt;
	 &lt;/td&gt;&lt;/tr&gt;
	 &lt;tr&gt;&lt;td bgcolor=#585858 height=2&gt;
	&lt;/table&gt;
   &lt;/td&gt;&lt;/tr&gt; 
   &lt;tr&gt;&lt;td width=100% height=100% align=center valign=top&gt;
	&lt;table bgcolor=#232323 cellspacing=0 cellpadding=0 border=0 width=706&gt;
	&lt;tr&gt;&lt;td width=216 valign=top&gt;
	 &lt;table cellspacing=0 cellpadding=0&gt;
	  &lt;tr&gt;&lt;td background=images/m24.gif width=216 height=10&gt;&lt;/td&gt;&lt;/tr&gt;
	  &lt;tr&gt;&lt;td background=images/m26.gif style=&quot;padding-left: 23px&quot;&gt;&lt;span class=ch2&gt;browse by categories&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;
	  &lt;tr&gt;&lt;td background=images/m25.gif height=8&gt;&lt;/td&gt;&lt;/tr&gt;
	  &lt;tr&gt;&lt;td height=1&gt;&lt;/td&gt;&lt;/tr&gt;
	  &lt;tr&gt;&lt;td width=216&gt;
	   &lt;table cellspacing=0 cellpadding=0 class=bg3&gt;
		&lt;tr&gt;&lt;td background=images/m27.gif width=216 height=10&gt;&lt;/td&gt;&lt;/tr&gt;
		&lt;tr&gt;&lt;td height=11&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;?   // ---- CATEGORIES

  function tep_show_category($counter) {
	global $tree, $categories_string, $cPath_array;

   if(!$tree[$counter][&#39;level&#39;]){			   
					 
	$categories_string .= $categories_string ? &#39;&lt;tr&gt;&lt;td height=1 style=&quot;padding-left: 20px&quot;&gt;&lt;img src=images/m30.gif width=168 height=1 border=0&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td height=4&gt;&lt;/td&gt;&lt;/tr&gt;&#39; : &#39;&#39;;			 

	$categories_string .= &#39;&lt;tr&gt;&lt;td style=&quot;padding-left: 23px&quot;&gt;&lt;img src=images/m29.gif width=6 height=5 border=0 align=absmiddle&gt;&lt;span class=ch3&gt;&lt;/span&gt;&lt;a class=ml3 href=&#39;;
	
	if ($tree[$counter][&#39;parent&#39;] == 0) {
	  $cPath_new = &#39;cPath=&#39; . $counter;
	} else {
	  $cPath_new = &#39;cPath=&#39; . $tree[$counter][&#39;path&#39;];
	}
	$categories_string .= tep_href_link(&#39;index.php&#39;, $cPath_new) . &#39;&gt;&#39;;
// display categry name
	$categories_string .= $tree[$counter][&#39;name&#39;];
	$categories_string .= &#39;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td height=4&gt;&lt;/td&gt;&lt;/tr&gt; &#39;;
   
   }else{  // SUBCATEGORY
   
	$categories_string .= &#39;&lt;tr&gt;&lt;td style=&quot;padding-left: 23px&quot;&gt;&lt;img src=images/m29.gif width=6 height=5 border=0 align=absmiddle&gt;&lt;span class=ch3&gt;&lt;/span&gt;&#39;;

	for($i=0;$i&lt;$tree[$counter][&#39;le vel&#39;];$i++)
	 $categories_string .= &#39;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#39;;
	
	$categories_string .= &#39;&amp;nbsp;&amp;nbsp;&amp;nbsp;  &lt;a class=ml3 style=&quot;font-weight:normal;&quot; href=&#39;;   
	if ($tree[$counter][&#39;parent&#39;] == 0) {
	  $cPath_new = &#39;cPath=&#39; . $counter;
	} else {
	  $cPath_new = &#39;cPath=&#39; . $tree[$counter][&#39;path&#39;];
	}
	$categories_string .= tep_href_link(&#39;index.php&#39;, $cPath_new) . &#39;&gt;-&#39;;
// display category name
	$categories_string .= $tree[$counter][&#39;name&#39;];
	$categories_string .= &#39;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td height=4&gt;&lt;/td&gt;&lt;/tr&gt;&#39;;
   }  

	if ($tree[$counter][&#39;next_id&#39;] != false) {
	  tep_show_category($tree[$counter][&#39;next_id&#39;]);
	}  
  }



  define(TABLE_CATEGORIES, &quot;categories&quot;);
  define(TABLE_CATEGORIES_DESCRIPTION, &quot;categories_description&quot;);
  $categories_string = &#39;&#39;;
  $tree = array();

  $categories_query = tep_db_query(&quot;select c.categories_id, cd.categories_name, c.parent_id from &quot; . TABLE_CATEGORIES . &quot; c, &quot; . TABLE_CATEGORIES_DESCRIPTION . &quot; cd where c.parent_id = &#39;0&#39; and c.categories_id = cd.categories_id and cd.language_id=&#39;&quot; . (int)$languages_id .&quot;&#39; order by sort_order, cd.categories_name&quot;);
  while ($categories = tep_db_fetch_array($categories_query))  {
	$tree[$categories[&#39;categories_id&#39;]] = array(&#39;name&#39; =&gt; $categories[&#39;categories_name&#39;],
												&#39;parent&#39; =&gt; $categories[&#39;parent_id&#39;],
												&#39;level&#39; =&gt; 0,
												&#39;path&#39; =&gt; $categories[&#39;categories_id&#39;],
												&#39;next_id&#39; =&gt; false);

	if (isset($parent_id)) {
	  $tree[$parent_id][&#39;next_id&#39;] = $categories[&#39;categories_id&#39;];
	}

	$parent_id = $categories[&#39;categories_id&#39;];

	if (!isset($first_element)) {
	  $first_element = $categories[&#39;categories_id&#39;];
	}
  }

  //------------------------
  if ($cPath) {
	$new_path = &#39;&#39;;
	reset($cPath_array);
	while (list($key, $value) = each($cPath_array)) {
	  unset($parent_id);
	  unset($first_id);
	  $categories_query = tep_db_query(&quot;select c.categories_id, cd.categories_name, c.parent_id from &quot; . TABLE_CATEGORIES . &quot; c, &quot; . TABLE_CATEGORIES_DESCRIPTION . &quot; cd where c.parent_id = &#39;&quot; . (int)$value . &quot;&#39; and c.categories_id = cd.categories_id and cd.language_id=&#39;&quot; . (int)$languages_id .&quot;&#39; order by sort_order, cd.categories_name&quot;);
	  if (tep_db_num_rows($categories_query)) {
		$new_path .= $value;
		while ($row = tep_db_fetch_array($categories_query)) {
		  $tree[$row[&#39;categories_id&#39;]] = array(&#39;name&#39; =&gt; $row[&#39;categories_name&#39;],
											   &#39;parent&#39; =&gt; $row[&#39;parent_id&#39;],
											   &#39;level&#39; =&gt; $key+1,
											   &#39;path&#39; =&gt; $new_path . &#39;_&#39; . $row[&#39;categories_id&#39;],
											   &#39;next_id&#39; =&gt; false);

		  if (isset($parent_id)) {
			$tree[$parent_id][&#39;next_id&#39;] = $row[&#39;categories_id&#39;];
		  }

		  $parent_id = $row[&#39;categories_id&#39;];

		  if (!isset($first_id)) {
			$first_id = $row[&#39;categories_id&#39;];
		  }

		  $last_id = $row[&#39;categories_id&#39;];
		}
		$tree[$last_id][&#39;next_id&#39;] = $tree[$value][&#39;next_id&#39;];
		$tree[$value][&#39;next_id&#39;] = $first_id;
		$new_path .= &#39;_&#39;;
	  } else {
		break;
	  }
	}
  }
  $categories_string .=  &#39;&#39;;
  tep_show_category($first_element); 
  $categories_string .=  &#39;&#39;;

  echo $categories_string;
?&gt;




		&lt;tr&gt;&lt;td&gt;&lt;img src=images/m31.gif width=216 height=23 border=0&gt;&lt;/td&gt;&lt;/tr&gt;
	   &lt;/table&gt;
	  &lt;/td&gt;&lt;/tr&gt;
	 &lt;/table&gt;
	&lt;/td&gt;
	&lt;td width=2&gt;&lt;/td&gt;
	&lt;td width=488 valign=top&gt;[/code][br][br][size=1]Posted on: May 27, 2008, 05:36:45 PM[/size][hr]nvm i fixed it with a firefox addon called firebug..

it was realy easy with that :D</description>
    
    <lastBuildDate>Tue, 27 May 2008 06:58:55 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/php-help/208483.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>PHP Help</title>
        <dc:creator><![CDATA[@mikeap4 mikeap4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mikeap4">@mikeap4</a> wrote:</p>
          <blockquote>
              <p>I am using osCommerce and have this template - <a data-bbcode="true">http://osc.template-help.com/10957/</a></p>
<p>Well the banner at the top is split into like 3  image files… such as m09.jpg, m10.gif, m13.gif … I am going to be using a custom banner and want the banner to be 1 image file.</p>
<p>Im not good with php, and was wondering if someone can fix the header.php so i can make it only use 1 image file for the banner.</p>
<p>[code]&lt;?php<br>
/*<br>
$Id: header.php,v 1.42 2003/06/10 18:20:38 hpdl Exp $</p>
<p>osCommerce, Open Source E-Commerce Solutions<br>
<a href="http://www.oscommerce.com" rel="nofollow noopener">http://www.oscommerce.com</a></p>
<p>Copyright © 2003 osCommerce</p>
<p>Released under the GNU General Public License<br>
*/</p>
<p>// check if the ‘install’ directory exists, and warn of its existence<br>
if (WARN_INSTALL_EXISTENCE == ‘true’) {<br>
if (file_exists(dirname($HTTP_SERVER_VARS[‘SCRIPT_FILENAME’]) . ‘/install’)) {<br>
$messageStack-&gt;add(‘header’, WARNING_INSTALL_DIRECTORY_EXISTS, ‘warning’);<br>
}<br>
}</p>
<p>// check if the configure.php file is writeable<br>
if (WARN_CONFIG_WRITEABLE == ‘true’) {<br>
if ( (file_exists(dirname($HTTP_SERVER_VARS[‘SCRIPT_FILENAME’]) . ‘/includes/configure.php’)) &amp;&amp; (is_writeable(dirname($HTTP_SERVER_VARS[‘SCRIPT_FILENAME’]) . ‘/includes/configure.php’)) ) {<br>
$messageStack-&gt;add(‘header’, WARNING_CONFIG_FILE_WRITEABLE, ‘warning’);<br>
}<br>
}</p>
<p>// check if the session folder is writeable<br>
if (WARN_SESSION_DIRECTORY_NOT_WRITEABLE == ‘true’) {<br>
if (STORE_SESSIONS == ‘’) {<br>
if (!is_dir(tep_session_save_path())) {<br>
$messageStack-&gt;add(‘header’, WARNING_SESSION_DIRECTORY_NON_EXISTENT, ‘warning’);<br>
} elseif (!is_writeable(tep_session_save_path())) {<br>
$messageStack-&gt;add(‘header’, WARNING_SESSION_DIRECTORY_NOT_WRITEABLE, ‘warning’);<br>
}<br>
}<br>
}</p>
<p>// check session.auto_start is disabled<br>
if ( (function_exists(‘ini_get’)) &amp;&amp; (WARN_SESSION_AUTO_START == ‘true’) ) {<br>
if (ini_get(‘session.auto_start’) == ‘1’) {<br>
$messageStack-&gt;add(‘header’, WARNING_SESSION_AUTO_START, ‘warning’);<br>
}<br>
}</p>
<p>if ( (WARN_DOWNLOAD_DIRECTORY_NOT_READABLE == ‘true’) &amp;&amp; (DOWNLOAD_ENABLED == ‘true’) ) {<br>
if (!is_dir(DIR_FS_DOWNLOAD)) {<br>
$messageStack-&gt;add(‘header’, WARNING_DOWNLOAD_DIRECTORY_NON_EXISTENT, ‘warning’);<br>
}<br>
}</p>
<p>if ($messageStack-&gt;size(‘header’) &gt; 0) {<br>
echo $messageStack-&gt;output(‘header’);<br>
}<br>
?&gt;</p>

  <table>
   <tr><td>
	<table>
	 <tr><td>
	  <table>
	   <tr><td>
		<table>
		 <tr>
<td><img width="9" height="36"></td>
		 <td>
<span>Shopping cart</span> <a>&gt;&lt;?=$cart-&gt;count_contents()?&gt; items</a>
</td>
		 <td></td>
		 <td>
&lt;? // LANGUAGES
<p>if (!isset($lng) || (isset($lng) &amp;&amp; !is_object($lng))) {<br>
include(DIR_WS_CLASSES . ‘language.php’);<br>
$lng = new language;<br>
}</p>
<p>$languages_string = ‘’;<br>
reset($lng-&gt;catalog_languages);<br>
while (list($key, $value) = each($lng-&gt;catalog_languages)) {<br>
$languages_string .= ’ <a>’ . tep_image(DIR_WS_LANGUAGES .  $value[‘directory’] . ‘/images/’ . $value[‘image’], $value[‘name’]) . ’</a> ';<br>
}</p>
<p>echo $languages_string;</p>
<p>?&gt;</p>
<pre><code>		 &lt;/td&gt;
	 &lt;td background=images/m04.gif width=1&gt;&lt;/td&gt;
	 &lt;td width=245 align=center&gt;
</code></pre>
&lt;? // SEARCH ?&gt; 
<pre><code>&lt;table cellspacing=0 cellpadding=0 &gt;
	&lt;?=tep_draw_form('quick_find', tep_href_link(FILENAME_ADVANCED_SEARCH_RESULT, '', 'NONSSL', false), 'get')?&gt;
	&lt;tr&gt;&lt;td&gt;&lt;span class=ch1&gt;Site search:&lt;/span&gt;&lt;/td&gt;
	&lt;td width=126 align=center&gt;
	 &lt;?=tep_draw_input_field('keywords', '', 'size="20" maxlength="50"	onclick="this.value=\'\'" value="keyword"   class=se1 ') . ' ' . tep_hide_session_id()?&gt;&lt;/td&gt;
	 &lt;td&gt;&lt;input type=image src=images/m08.gif width=28 height=20&gt;&lt;/td&gt;&lt;/tr&gt;
	  &lt;/form&gt;
	  &lt;/table&gt;
</code></pre>
&lt;? // END SEARCH ?&gt;
<pre><code>	 &lt;/td&gt;
	 &lt;td background=images/m04.gif width=1&gt;&lt;/td&gt;
	 &lt;td width=197 align=center&gt;
	  &lt;table cellspacing=0 cellpadding=0&gt;
	   &lt;tr&gt;&lt;td width=80&gt;&lt;span align=center class=ch1&gt;Curencies:&lt;/span&gt;&lt;/td&gt;
	   &lt;td&gt;
</code></pre>
&lt;? // CURRENCIES

	echo tep_draw_form('currencies', tep_href_link(basename($PHP_SELF), '', $request_type, false), 'get');

	reset($currencies-&gt;currencies);
	$currencies_array = array();
	while (list($key, $value) = each($currencies-&gt;currencies)) {
	  $currencies_array[] = array('id' =&gt; $key, 'text' =&gt; $value['title']);
	}

	$hidden_get_variables = '';
	reset($HTTP_GET_VARS);
	while (list($key, $value) = each($HTTP_GET_VARS)) {
	  if ( ($key != 'currency') &amp;&amp; ($key != tep_session_name()) &amp;&amp; ($key != 'x') &amp;&amp; ($key != 'y') ) {
		$hidden_get_variables .= tep_draw_hidden_field($key, $value);
	  }
	}

	echo tep_draw_pull_down_menu('currency', $currencies_array, $currency, 'onChange="this.form.submit(); style="width: 99px; background-color: #727272; font-size: 9px; color: #FFFFFF;"') . $hidden_get_variables . tep_hide_session_id();
	echo '';
	
?&gt;			   
<pre><code>		   &lt;/td&gt;&lt;/tr&gt;
	  &lt;/table&gt;
	 &lt;/td&gt;
	 &lt;td&gt;&lt;img src=images/m02.gif width=9 height=36 border=0&gt;&lt;/td&gt;&lt;/tr&gt;
	&lt;/table&gt;
   &lt;/td&gt;&lt;/tr&gt;
   &lt;tr&gt;&lt;td width=706 valign=top&gt;
	&lt;table cellspacing=0 cellpadding=0 width=706 height=225&gt;
	 &lt;tr&gt;&lt;td width=239 style="padding-left: 10px"&gt;&lt;a href=&lt;?=tep_href_link('index.php')?&gt;&gt;&lt;img src=images/m09.jpg width=164 height=111 border=0&gt;&lt;/a&gt;&lt;/td&gt;
	 &lt;td background=images/m11.gif width=307 &gt;&lt;img src=images/m10.gif width=307 height=204 border=0&gt;&lt;/td&gt;
	 &lt;td background=images/m12.gif width=160 align=center&gt;&lt;a href=&lt;?=tep_href_link('index.php','cPath=38')?&gt;&gt;&lt;img src=images/m13.gif width=121 height=186 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
	&lt;/table&gt;
   &lt;/td&gt;&lt;/tr&gt;
  &lt;/table&gt;
 &lt;/tr&gt;&lt;/td&gt;
 &lt;tr&gt;&lt;td height=55 class=bg2 align=center&gt;&lt;a href=&lt;?=tep_href_link('index.php')?&gt;&gt;&lt;img src=images/m15.gif width=94 height=55 border=0&gt;&lt;/a&gt;&lt;a href=&lt;?=tep_href_link('products_new.php')?&gt;&gt;&lt;img src=images/m16.gif width=145 height=55 border=0&gt;&lt;/a&gt;&lt;a href=&lt;?=tep_href_link('account.php')?&gt;&gt;&lt;img src=images/m17.gif width=177 height=55 border=0&gt;&lt;/a&gt;&lt;a href=&lt;?=tep_href_link('shopping_cart.php')?&gt;&gt;&lt;img src=images/m18.gif width=161 height=55 border=0&gt;&lt;/a&gt;&lt;a href=&lt;?=tep_href_link('checkout_shipping.php')?&gt;&gt;&lt;img src=images/m19.gif width=129 height=55 border=0&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td bgcolor=#585858 height=35 align=center&gt;
  &lt;table cellspacing=0 cellpadding=0 width=706&gt;
   &lt;tr&gt;&lt;td width=9 height=35&gt;&lt;img src=images/m20.gif width=9 height=35&gt;&lt;/td&gt;
   &lt;td background=images/m22.gif width=688&gt;
	&lt;table cellspacing=0 cellpadding=0 width=688 valign=top&gt;
	 &lt;tr&gt;&lt;td width=111 align=center&gt;&lt;a href=&lt;?=tep_href_link('specials.php')?&gt; class=ml2&gt;specials&lt;/a&gt;&lt;/td&gt;
	 &lt;td width=2 height=12&gt;&lt;img src=images/m23.gif width=2 height=12&gt;&lt;/td&gt;
	 &lt;td width=113 align=center&gt;&lt;a href=&lt;?=tep_href_link('advanced_search.php')?&gt; class=ml2&gt;search&lt;/a&gt;&lt;/td&gt;
	 &lt;td width=2 height=12&gt;&lt;img src=images/m23.gif width=2 height=12&gt;&lt;/td&gt;
	 &lt;td width=133 align=center&gt;&lt;a href=&lt;?=tep_href_link('contact_us.php')?&gt; class=ml2&gt;contact us&lt;/a&gt;&lt;/td&gt;
	 &lt;td width=2 height=12&gt;&lt;img src=images/m23.gif width=2 height=12&gt;&lt;/td&gt;
	 &lt;td width=177 align=center&gt;&lt;a href=&lt;?=tep_href_link('create_account.php')?&gt; class=ml2&gt;create an account&lt;/a&gt;&lt;/td&gt;
	 &lt;td width=2 height=12&gt;&lt;img src=images/m23.gif width=2 height=12&gt;&lt;/td&gt;
	 &lt;td width=146 align=center&gt;&lt;?=(!tep_session_is_registered('customer_id') ? '&lt;a href='.tep_href_link('login.php').' class=ml2&gt;Customer Login&lt;/a&gt;' : '&lt;a href='.tep_href_link('logoff.php').' class=ml2&gt;Sign Out&lt;/a&gt;')?&gt;&lt;/td&gt;&lt;/tr&gt;
	&lt;/table&gt;
   &lt;/td&gt;
   &lt;td width=9 height=35&gt;&lt;img src=images/m21.gif width=9 height=35&gt;&lt;/td&gt;&lt;/tr&gt;
  &lt;/table&gt;
 &lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td bgcolor=#585858 height=2&gt;
&lt;/table&gt;
</code></pre>
   </td>
</tr> 
   <tr><td>
	<table>
	<tr><td>
	 <table>
	  <tr><td></td></tr>
	  <tr><td><span>browse by categories</span></td></tr>
	  <tr><td></td></tr>
	  <tr><td></td></tr>
	  <tr><td>
	   <table>
		<tr><td></td></tr>
		<tr><td></td></tr>
&lt;?   // ---- CATEGORIES
<p>function tep_show_category($counter) {<br>
global $tree, $categories_string, $cPath_array;</p>
<p>if(!$tree[$counter][‘level’]){</p>
<pre><code>$categories_string .= $categories_string ? '&lt;tr&gt;&lt;td height=1 style="padding-left: 20px"&gt;&lt;img src=images/m30.gif width=168 height=1 border=0&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td height=4&gt;&lt;/td&gt;&lt;/tr&gt;' : '';			 

$categories_string .= '&lt;tr&gt;&lt;td style="padding-left: 23px"&gt;&lt;img src=images/m29.gif width=6 height=5 border=0 align=absmiddle&gt;&lt;span class=ch3&gt;&lt;/span&gt;&lt;a class=ml3 href=';

if ($tree[$counter]['parent'] == 0) {
  $cPath_new = 'cPath=' . $counter;
} else {
  $cPath_new = 'cPath=' . $tree[$counter]['path'];
}
$categories_string .= tep_href_link('index.php', $cPath_new) . '&gt;';
</code></pre>
<p>// display categry name<br>
$categories_string .= $tree[$counter][‘name’];<br>
$categories_string .= ’</p>
<tr><td></td></tr> ';
<p>}else{  // SUBCATEGORY</p>
<pre><code>$categories_string .= '&lt;tr&gt;&lt;td style="padding-left: 23px"&gt;&lt;img src=images/m29.gif width=6 height=5 border=0 align=absmiddle&gt;&lt;span class=ch3&gt;&lt;/span&gt;';

for($i=0;$i&lt;$tree[$counter]['le vel'];$i++)
 $categories_string .= '&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;';

$categories_string .= '&amp;nbsp;&amp;nbsp;&amp;nbsp;  &lt;a class=ml3 style="font-weight:normal;" href=';   
if ($tree[$counter]['parent'] == 0) {
  $cPath_new = 'cPath=' . $counter;
} else {
  $cPath_new = 'cPath=' . $tree[$counter]['path'];
}
$categories_string .= tep_href_link('index.php', $cPath_new) . '&gt;-';
</code></pre>
<p>// display category name<br>
$categories_string .= $tree[$counter][‘name’];<br>
$categories_string .= ‘</p>
<tr><td></td></tr>’;<br>
}
<pre><code>if ($tree[$counter]['next_id'] != false) {
  tep_show_category($tree[$counter]['next_id']);
}  
</code></pre>
<p>}</p>
<p>define(TABLE_CATEGORIES, “categories”);<br>
define(TABLE_CATEGORIES_DESCRIPTION, “categories_description”);<br>
$categories_string = ‘’;<br>
$tree = array();</p>
<p>$categories_query = tep_db_query(“select c.categories_id, cd.categories_name, c.parent_id from " . TABLE_CATEGORIES . " c, " . TABLE_CATEGORIES_DESCRIPTION . " cd where c.parent_id = ‘0’ and c.categories_id = cd.categories_id and cd.language_id=’” . (int)$languages_id ."’ order by sort_order, cd.categories_name");<br>
while ($categories = tep_db_fetch_array($categories_query))  {<br>
$tree[$categories[‘categories_id’]] = array(‘name’ =&gt; $categories[‘categories_name’],<br>
‘parent’ =&gt; $categories[‘parent_id’],<br>
‘level’ =&gt; 0,<br>
‘path’ =&gt; $categories[‘categories_id’],<br>
‘next_id’ =&gt; false);</p>
<pre><code>if (isset($parent_id)) {
  $tree[$parent_id]['next_id'] = $categories['categories_id'];
}

$parent_id = $categories['categories_id'];

if (!isset($first_element)) {
  $first_element = $categories['categories_id'];
}
</code></pre>
<p>}</p>
<p>//------------------------<br>
if ($cPath) {<br>
$new_path = ‘’;<br>
reset($cPath_array);<br>
while (list($key, $value) = each($cPath_array)) {<br>
unset($parent_id);<br>
unset($first_id);<br>
$categories_query = tep_db_query(“select c.categories_id, cd.categories_name, c.parent_id from " . TABLE_CATEGORIES . " c, " . TABLE_CATEGORIES_DESCRIPTION . " cd where c.parent_id = '” . (int)$value . “’ and c.categories_id = cd.categories_id and cd.language_id=’” . (int)$languages_id ."’ order by sort_order, cd.categories_name");<br>
if (tep_db_num_rows($categories_query)) {<br>
$new_path .= $value;<br>
while ($row = tep_db_fetch_array($categories_query)) {<br>
$tree[$row[‘categories_id’]] = array(‘name’ =&gt; $row[‘categories_name’],<br>
‘parent’ =&gt; $row[‘parent_id’],<br>
‘level’ =&gt; $key+1,<br>
‘path’ =&gt; $new_path . ‘_’ . $row[‘categories_id’],<br>
‘next_id’ =&gt; false);</p>
<pre><code>	  if (isset($parent_id)) {
		$tree[$parent_id]['next_id'] = $row['categories_id'];
	  }

	  $parent_id = $row['categories_id'];

	  if (!isset($first_id)) {
		$first_id = $row['categories_id'];
	  }

	  $last_id = $row['categories_id'];
	}
	$tree[$last_id]['next_id'] = $tree[$value]['next_id'];
	$tree[$value]['next_id'] = $first_id;
	$new_path .= '_';
  } else {
	break;
  }
}
</code></pre>
<p>}<br>
$categories_string .=  ‘’;<br>
tep_show_category($first_element);<br>
$categories_string .=  ‘’;</p>
<p>echo $categories_string;<br>
?&gt;</p>
<pre><code>	&lt;tr&gt;&lt;td&gt;&lt;img src=images/m31.gif width=216 height=23 border=0&gt;&lt;/td&gt;&lt;/tr&gt;
   &lt;/table&gt;
  &lt;/td&gt;&lt;/tr&gt;
 &lt;/table&gt;
&lt;/td&gt;
&lt;td width=2&gt;&lt;/td&gt;
&lt;td width=488 valign=top&gt;[/code][br][br][size=1]Posted on: May 27, 2008, 05:36:45 PM[/size][hr]nvm i fixed it with a firefox addon called firebug..
</code></pre>
<p>it was realy easy with that <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=6" title=":smiley:" class="emoji" alt=":smiley:"></p>
</table>
</td></tr>
</table>
</td></tr>
</table>
</td></tr>
</table>
</td></tr>
</table>
</td></tr>
</table>
</td></tr>
</table>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-help/208483/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-help/208483/1</link>
        <pubDate>Tue, 27 May 2008 06:58:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-208483-1</guid>
        <source url="https://forum.moparisthebest.com/t/php-help/208483.rss">PHP Help</source>
      </item>
  </channel>
</rss>
