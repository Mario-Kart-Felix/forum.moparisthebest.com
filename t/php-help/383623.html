<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/php-help/383623 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 20:12:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Php help - General Programming - moparisthebest.com</title>
    <meta name="description" content="ok i am not having a problem with php, but all my classmates are. most of the problems i believe have to do with storing session vars. we all are using the same web host, we all have similar code, but the only person tha&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="383623.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Php help&#39;" href="383623.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/php-help/383623" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/php-help/383623" />
<meta property="og:title" content="Php help" />
<meta name="twitter:title" content="Php help" />
<meta property="og:description" content="ok i am not having a problem with php, but all my classmates are. most of the problems i believe have to do with storing session vars. we all are using the same web host, we all have similar code, but the only person that has a “working”(all the functionality works, i just need to help on the graphical layout, etc. if anybody has tips on making a good looking page plz tell me.) site is me. so on one persons site, my conclusion is that google chrome is having a problems with the session vars, b/c..." />
<meta name="twitter:description" content="ok i am not having a problem with php, but all my classmates are. most of the problems i believe have to do with storing session vars. we all are using the same web host, we all have similar code, but the only person that has a “working”(all the functionality works, i just need to help on the graphical layout, etc. if anybody has tips on making a good looking page plz tell me.) site is me. so on one persons site, my conclusion is that google chrome is having a problems with the session vars, b/c..." />
<meta property="article:published_time" content="2011-02-23T13:38:21+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="383623.html">Php help</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xryz.html'><span itemprop='name'>xryz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-02-23T13:38:21Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:45:28Z' class='post-time'>
              August 1, 2016,  7:45am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok i am not having a problem with php, but all my classmates are. most of the problems i believe have to do with storing session vars. we all are using the same web host, we all have similar code, but the only person that has a “working”(all the functionality works, i just need to help on the graphical layout, etc. if anybody has tips on making a good looking page plz tell me.) site is me. so on one persons site, my conclusion is that google chrome is having a problems with the session vars, b/c in IE, and FF, the pages work semi how they are suppose to. you are suppose to log in, on success you get redirected.(this all works fine) heres the problem, when the page checks if they are authenticated, it is false and redirects back to the first page.(on which we print the value of the session var, which has the desired value.)</p>
<p>ITs so freakin dumb. im sure they dont need my exact code to get this to work, but the code is extremely similar.</p>
      </div>

      <meta itemprop='headline' content='Php help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/NewbieNewty.html'><span itemprop='name'>NewbieNewty</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-02-23T17:43:11Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:45:39Z' class='post-time'>
              August 1, 2016,  7:45am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Post their code???</p>
      </div>

      <meta itemprop='headline' content='Php help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xryz.html'><span itemprop='name'>xryz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-02-23T18:01:28Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:45:42Z' class='post-time'>
              August 1, 2016,  7:45am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok. ill post mine. then when i get theirs post it. sorry for my bad code. my classmates have worse code.</p>
<p>here is my main page:</p>
<p>[code]&lt;?php<br>
//include db connection		<br>
require_once “inc/inc-dbconn-portfolio.php”;</p>
<p>// start session<br>
session_start();</p>
<p>if($_GET[“logout”] == “true”)<br>
{<br>
session_destroy();<br>
}<br>
// check if there are posted variables<br>
if ($_POST[“Username”] != NULL &amp;&amp; $_POST[“Password”] != NULL)<br>
{<br>
// if true then the form was submitted</p>
<pre><code>$_SESSION['uname']=clean($_POST["Username"]);

// Check for Errors  
if(mysqli_connect_errno())
{  
	echo mysqli_connect_error();  
}  
// Get all the MySQL users and their hosts
$sql = "SELECT pid, password FROM puser WHERE pid = '".clean($_POST['Username'])."' AND password = '".clean($_POST['Password'])."'";

// If the query goes through
if ($result = mysqli_query($mysqliObj,$sql))
{

		// check if the username and password posted in the form exists and is correct
		if ($result -&gt; num_rows == 0)
		{
			// Free Result Set
			mysqli_free_result($result);

			// close mysql connection

			$mysqliObj-&gt;close();

			// else set session variable is Authenticated to false
			$_SESSION['isAuthenticated']=false;

			session_write_close();

			// if not reload page

			header('Location: index2b.php');
		}
		else
		{
			// Free Result Set
			mysqli_free_result($result);

			// close mysql connection
			$mysqliObj-&gt;close();

			// else set session variable is Authenticated to true
			$_SESSION['isAuthenticated']=true;

			if(isset($_SESSION['nxtpg'])){
			// load next page

			session_write_close();

			header('Location: '.$_SESSION['nxtpg'].'');
			} else {
			// load next page

			session_write_close();

			header('Location: sitemap.php');
			}
		}	
}
// close mysql connection
$mysqliObj-&gt;close();
</code></pre>
<p>}<br>
?&gt;<br>
[/code]</p>
<p>here is what a page another page would look like:</p>
<pre><code class="lang-auto">&lt;?php
//include db connection		
require_once "inc/inc-dbconn-portfolio.php";

// connect to existing or create session
session_start();

//check authentication
checkIsAuth();

session_write_close();
?&gt;</code></pre>
<p>here is a snippet from the inc file:</p>
<pre><code class="lang-auto">function clean($userInput)
	{
		global $mysqliObj;

		return mysqli_real_escape_string($mysqliObj, $userInput);
	}

	function checkIsAuth(){
		if($_SESSION['isAuthenticated'] != true){

			$_SESSION['nxtpg'] = $_SERVER['PHP_SELF'];

			session_write_close();

			header('Location: http://'.$_SERVER['HTTP_HOST'].'/portfolio/index2b.php');
		}
	}</code></pre>
      </div>

      <meta itemprop='headline' content='Php help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/php-help/383623 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 20:12:08 GMT -->
</html>
