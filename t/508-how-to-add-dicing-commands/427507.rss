<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[508] How to add dicing commands</title>
    <link>https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507</link>
    <description>Hey guys, I know there&#39;s already a lot of dicing tuts out there but I&#39;ve never seen one for a 508, So I&#39;d thought I would make one for a 508.

[b][u]Tested:[/u][/b] On a codeusa base but should work for any 508

Only two parts so its quite short and simple.

[u][b]Part 1: Adding another class to save space[/b][/u]

1. Make a new text doc and call it &quot;DiceGame.java&quot;.

2. Add this into your new .java file:
[code=java]package net.com.codeusa.model.games;
 
import java.lang.Math;
import net.com.codeusa.model.items.PlayerItems;
import net.com.codeusa.model.Player;
public class DiceGame {

	PlayerItems pi = new PlayerItems();
        Player p;
		
        public DiceGame(Player player)
        {
                this.p = player;
        }
		
        public int[] die = new int[3]; // array for each die (3 dice)
        public int[] numbers = {1, 2, 3, 4, 5, 6}; // array for the possible outcomes of rolling a die (1, 2, 3, 4, 5, 6).

        public int randomRoll()
        {
                return numbers[(int) (Math.random() * numbers.length)];
        }


        
        public void rollDice()
        {
                die[0] = randomRoll();
                die[1] = randomRoll();
                die[2] = randomRoll();
                p.getActionSender().sendMessage(p, &quot;You have rolled &quot;+die[0]+&quot;, &quot;+die[1]+&quot;, and &quot;+die[2]+&quot;.&quot;);
        }
        
        public void game(int amountDiced)
        {
                rollDice();
                

                if(die[0] == die[1] &amp;&amp; die[0] == die[2] &amp;&amp; die[1] == die[2]) {
                        p.getActionSender().sendMessage(p, &quot;You have rolled triples, you gain three times what you diced!&quot;);
                        pi.addItem(p, 995, (amountDiced*3));
                }
                else if(die[0] == die[1] || 
                   die[1] == die[0] || 
                   die[0] == die[2] ||
                   die[2] == die[0] ||
                   die[1] == die[2] ||
                   die[2] == die[1])
                {
                        p.getActionSender().sendMessage(p, &quot;You rolled doubles, you gain 2 times the amount you diced!&quot;);
                        pi.addItem(p, 995, (amountDiced * 2));
                } else {
                        p.getActionSender().sendMessage(p, &quot;You have rolled an undocumented amount.&quot;);
                        p.getActionSender().sendMessage(p, &quot;Therefore you lose your bet!&quot;);
                        pi.deleteItem(p, 995, amountDiced);
                }
        }
		
}[/code]
Now let me explain this:

[code=java]        public int[] die = new int[3]; // array for each die (3 dice)
        public int[] numbers = {1, 2, 3, 4, 5, 6}; // array for the possible outcomes of rolling a die (1, 2, 3, 4, 5, 6).[/code]
This is two arrays which hold ints.
Array &quot;die&quot; is the amount of dice you want, we are using 3. Even though java starts counting at zero we still need &quot;int[3]&quot; because you will get a index error when trying to run a later method.
Array &quot;numbers&quot; is the numbers you want to be able to be rolled (there probably is a simpler way to do this but oh well.).

This just gets a random number from the array &quot;numbers&quot;
[code=java]        public int randomRoll()
        {
                return numbers[(int) (Math.random() * numbers.length)];
        }[/code]

This is the main part of the dicing, it rolls the three dice and then sends a message saying what you rolled.
[code=java]        public void rollDice()
        {
                die[0] = randomRoll();
                die[1] = randomRoll();
                die[2] = randomRoll();
                p.getActionSender().sendMessage(p, &quot;You have rolled &quot;+die[0]+&quot;, &quot;+die[1]+&quot;, and &quot;+die[2]+&quot;.&quot;);
        }
        [/code]

Now this is the aftermath of the &quot;rollDice&quot; method, It decides what happens to the player depending on what they roll:
[code=java]        public void game(int amountDiced)
        {
                rollDice();
                

                if(die[0] == die[1] &amp;&amp; die[0] == die[2] &amp;&amp; die[1] == die[2]) {
                        p.getActionSender().sendMessage(p, &quot;You have rolled triples, you gain three times what you diced!&quot;);
                        pi.addItem(p, 995, (amountDiced*3));
                }
                else if(die[0] == die[1] || 
                   die[1] == die[0] || 
                   die[0] == die[2] ||
                   die[2] == die[0] ||
                   die[1] == die[2] ||
                   die[2] == die[1])
                {
                        p.getActionSender().sendMessage(p, &quot;You rolled doubles, you gain 2 times the amount you diced!&quot;);
                        pi.addItem(p, 995, (amountDiced * 2));
                } else {
                        p.getActionSender().sendMessage(p, &quot;You have rolled an undocumented amount.&quot;);
                        p.getActionSender().sendMessage(p, &quot;Therefore you lose your bet!&quot;);
                        pi.deleteItem(p, 995, amountDiced);
                }
        }[/code]
Its quite simple just some else if&#39;s, you can add more if you like to make the winning chance higher.



[u][b]Part 2: Adding the commands[/b][/u]

This part is pretty simple just add this somewhere in player.java
[code=java]	public DiceGame getDice() {
		return diceGame;
	}[/code]

And then lastly add this into your commands.java
[code=java]		if (cmd[0].equals(&quot;safedice&quot;)){
				p.getActionSender().sendMessage(p, &quot;You roll the dice&quot;);
				p.getDice().rollDice();
			}
		
		if (cmd[0].equals(&quot;diceme&quot;)){
		int amountToDice = Integer.parseInt(cmd[1]);
			if (amountToDice &gt; pi.invItemCount(p, 995)){
				p.getActionSender().sendMessage(p, &quot;You dont have enough money to bet that much!&quot;);
			}else{
				p.getActionSender().sendMessage(p, &quot;You roll the dice&quot;);
				p.getDice().game(amountToDice);
			}
		}[/code]
Command &quot;safedice&quot; is just for players who don&#39;t want to gamble away their money.
And then for &quot;diceme&quot; you have 1 param which is the amount of money you want to bet.

[u][b]Credits:[/b][/u]
Clawz fury = 70% He made the dicegame.java for a different base
Me = 30% for converting into a 508 and adding commands.

[b]Please this is my first tut so please dont flame me if I&#39;ve done something wrong, Also post any comments about errors and such.[/b] :)</description>
    
    <lastBuildDate>Sun, 01 Jan 2012 04:54:54 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[508] How to add dicing commands</title>
        <dc:creator><![CDATA[@Team_Rocket Team_Rocket]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/team_rocket">@Team_Rocket</a> wrote:</p>
          <blockquote>
              <p>You should include credits to the people who helped you in the Server Help section with this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507/3</link>
        <pubDate>Sun, 01 Jan 2012 04:54:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427507-3</guid>
        <source url="https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507.rss">[508] How to add dicing commands</source>
      </item>
      <item>
        <title>[508] How to add dicing commands</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>Good job, and my bad about the index error, that’s what you get for programming at 3 in the morning <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507/2</link>
        <pubDate>Sat, 31 Dec 2011 20:33:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427507-2</guid>
        <source url="https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507.rss">[508] How to add dicing commands</source>
      </item>
      <item>
        <title>[508] How to add dicing commands</title>
        <dc:creator><![CDATA[@Jazzelhawk Jazzelhawk]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jazzelhawk">@Jazzelhawk</a> wrote:</p>
          <blockquote>
              <p>Hey guys, I know there’s already a lot of dicing tuts out there but I’ve never seen one for a 508, So I’d thought I would make one for a 508.</p>
<p><span class="bbcode-b"><span class="bbcode-u">Tested:</span></span> On a codeusa base but should work for any 508</p>
<p>Only two parts so its quite short and simple.</p>
<p><span class="bbcode-u"><span class="bbcode-b">Part 1: Adding another class to save space</span></span></p>
<ol>
<li>
<p>Make a new text doc and call it “DiceGame.java”.</p>
</li>
<li>
<p>Add this into your new .java file:</p>
</li>
</ol>
<p>[code=java]package net.com.codeusa.model.games;</p>
<p>import java.lang.Math;<br>
import net.com.codeusa.model.items.PlayerItems;<br>
import net.com.codeusa.model.Player;<br>
public class DiceGame {</p>
<pre><code>PlayerItems pi = new PlayerItems();
    Player p;
	
    public DiceGame(Player player)
    {
            this.p = player;
    }
	
    public int[] die = new int[3]; // array for each die (3 dice)
    public int[] numbers = {1, 2, 3, 4, 5, 6}; // array for the possible outcomes of rolling a die (1, 2, 3, 4, 5, 6).

    public int randomRoll()
    {
            return numbers[(int) (Math.random() * numbers.length)];
    }


    
    public void rollDice()
    {
            die[0] = randomRoll();
            die[1] = randomRoll();
            die[2] = randomRoll();
            p.getActionSender().sendMessage(p, "You have rolled "+die[0]+", "+die[1]+", and "+die[2]+".");
    }
    
    public void game(int amountDiced)
    {
            rollDice();
            

            if(die[0] == die[1] &amp;&amp; die[0] == die[2] &amp;&amp; die[1] == die[2]) {
                    p.getActionSender().sendMessage(p, "You have rolled triples, you gain three times what you diced!");
                    pi.addItem(p, 995, (amountDiced*3));
            }
            else if(die[0] == die[1] || 
               die[1] == die[0] || 
               die[0] == die[2] ||
               die[2] == die[0] ||
               die[1] == die[2] ||
               die[2] == die[1])
            {
                    p.getActionSender().sendMessage(p, "You rolled doubles, you gain 2 times the amount you diced!");
                    pi.addItem(p, 995, (amountDiced * 2));
            } else {
                    p.getActionSender().sendMessage(p, "You have rolled an undocumented amount.");
                    p.getActionSender().sendMessage(p, "Therefore you lose your bet!");
                    pi.deleteItem(p, 995, amountDiced);
            }
    }
</code></pre>
<p>}[/code]<br>
Now let me explain this:</p>
<p><code>        public int[] die = new int[3]; // array for each die (3 dice)
        public int[] numbers = {1, 2, 3, 4, 5, 6}; // array for the possible outcomes of rolling a die (1, 2, 3, 4, 5, 6).</code><br>
This is two arrays which hold ints.<br>
Array “die” is the amount of dice you want, we are using 3. Even though java starts counting at zero we still need “int[3]” because you will get a index error when trying to run a later method.<br>
Array “numbers” is the numbers you want to be able to be rolled (there probably is a simpler way to do this but oh well.).</p>
<p>This just gets a random number from the array “numbers”</p>
<p><code>        public int randomRoll()
        {
                return numbers[(int) (Math.random() * numbers.length)];
        }</code></p>
<p>This is the main part of the dicing, it rolls the three dice and then sends a message saying what you rolled.</p>
<p><code>        public void rollDice()
        {
                die[0] = randomRoll();
                die[1] = randomRoll();
                die[2] = randomRoll();
                p.getActionSender().sendMessage(p, "You have rolled "+die[0]+", "+die[1]+", and "+die[2]+".");
        }
        </code></p>
<p>Now this is the aftermath of the “rollDice” method, It decides what happens to the player depending on what they roll:</p>
<p>[code=java]        public void game(int amountDiced)<br>
{<br>
rollDice();</p>
<pre><code>            if(die[0] == die[1] &amp;&amp; die[0] == die[2] &amp;&amp; die[1] == die[2]) {
                    p.getActionSender().sendMessage(p, "You have rolled triples, you gain three times what you diced!");
                    pi.addItem(p, 995, (amountDiced*3));
            }
            else if(die[0] == die[1] || 
               die[1] == die[0] || 
               die[0] == die[2] ||
               die[2] == die[0] ||
               die[1] == die[2] ||
               die[2] == die[1])
            {
                    p.getActionSender().sendMessage(p, "You rolled doubles, you gain 2 times the amount you diced!");
                    pi.addItem(p, 995, (amountDiced * 2));
            } else {
                    p.getActionSender().sendMessage(p, "You have rolled an undocumented amount.");
                    p.getActionSender().sendMessage(p, "Therefore you lose your bet!");
                    pi.deleteItem(p, 995, amountDiced);
            }
    }[/code]
</code></pre>
<p>Its quite simple just some else if’s, you can add more if you like to make the winning chance higher.</p>
<p><span class="bbcode-u"><span class="bbcode-b">Part 2: Adding the commands</span></span></p>
<p>This part is pretty simple just add this somewhere in player.java</p>
<p><code>	public DiceGame getDice() {
		return diceGame;
	}</code></p>
<p>And then lastly add this into your commands.java</p>
<p>[code=java]		if (cmd[0].equals(“safedice”)){<br>
p.getActionSender().sendMessage(p, “You roll the dice”);<br>
p.getDice().rollDice();<br>
}</p>
<pre><code>	if (cmd[0].equals("diceme")){
	int amountToDice = Integer.parseInt(cmd[1]);
		if (amountToDice &gt; pi.invItemCount(p, 995)){
			p.getActionSender().sendMessage(p, "You dont have enough money to bet that much!");
		}else{
			p.getActionSender().sendMessage(p, "You roll the dice");
			p.getDice().game(amountToDice);
		}
	}[/code]
</code></pre>
<p>Command “safedice” is just for players who don’t want to gamble away their money.<br>
And then for “diceme” you have 1 param which is the amount of money you want to bet.</p>
<p><span class="bbcode-u"><span class="bbcode-b">Credits:</span></span><br>
Clawz fury = 70% He made the dicegame.java for a different base<br>
Me = 30% for converting into a 508 and adding commands.</p>
<p><span class="bbcode-b">Please this is my first tut so please dont flame me if I’ve done something wrong, Also post any comments about errors and such.</span> <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507/1</link>
        <pubDate>Sat, 31 Dec 2011 14:40:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427507-1</guid>
        <source url="https://forum.moparisthebest.com/t/508-how-to-add-dicing-commands/427507.rss">[508] How to add dicing commands</source>
      </item>
  </channel>
</rss>
