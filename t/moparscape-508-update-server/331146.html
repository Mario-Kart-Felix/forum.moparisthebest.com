<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/moparscape-508-update-server/331146 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>MoparScape 508 Update Server - Community Inside Talk - moparisthebest.com</title>
    <meta name="description" content="Here are all of the sources I am releasing for MoparScape 4, so far: http://cache.hybridscape.com/MoparScapeSources.jar 

As you can see, there is a 508 Update server that serves up the cache, which works well, except ab&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="331146.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;MoparScape 508 Update Server&#39;" href="331146.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/moparscape-508-update-server/331146" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/moparscape-508-update-server/331146" />
<meta property="og:title" content="MoparScape 508 Update Server" />
<meta name="twitter:title" content="MoparScape 508 Update Server" />
<meta property="og:description" content="Here are all of the sources I am releasing for MoparScape 4, so far:  http://cache.hybridscape.com/MoparScapeSources.jar  As you can see, there is a 508 Update server that serves up the cache, which works well, except about half way through it starts disconnecting the client every 4 or 5 requests, causing it to keep reconnecting.  You can see this behavior by running the client in debug mode:  http://www.moparisthebest.com/moparscape4.php?version=508&amp;debug=true  Can anyone suggest a fix for (pre..." />
<meta name="twitter:description" content="Here are all of the sources I am releasing for MoparScape 4, so far:  http://cache.hybridscape.com/MoparScapeSources.jar  As you can see, there is a 508 Update server that serves up the cache, which works well, except about half way through it starts disconnecting the client every 4 or 5 requests, causing it to keep reconnecting.  You can see this behavior by running the client in debug mode:  http://www.moparisthebest.com/moparscape4.php?version=508&amp;debug=true  Can anyone suggest a fix for (pre..." />
<meta property="article:published_time" content="2010-02-28T08:22:54+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="3311464658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="331146.html">MoparScape 508 Update Server</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/community-inside-talk.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Community Inside Talk</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-02-28T08:22:54Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:00:44Z' class='post-time'>
              July 31, 2016,  3:00pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here are all of the sources I am releasing for MoparScape 4, so far:<br>
<a href="http://cache.hybridscape.com/MoparScapeSources.jar" class="onebox" target="_blank">http://cache.hybridscape.com/MoparScapeSources.jar</a></p>
<p>As you can see, there is a 508 Update server that serves up the cache, which works well, except about half way through it starts disconnecting the client every 4 or 5 requests, causing it to keep reconnecting.  You can see this behavior by running the client in debug mode:</p>
<p><a href="http://www.moparisthebest.com/moparscape4.php?version=508&amp;debug=true" class="onebox" target="_blank">http://www.moparisthebest.com/moparscape4.php?version=508&amp;debug=true</a></p>
<p>Can anyone suggest a fix for (preferably) the server or even in the client?  I’ve tried about everything so far and can’t come up with one.  I’d appreciate any help at all.</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-02-28T11:46:11Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:00:50Z' class='post-time'>
              July 31, 2016,  3:00pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>did you try reading fully from the http location then sending to the client?</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-02-28T16:41:33Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:03Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="2" data-topic="331146">
<div class="title">
<div class="quote-controls"></div>
 Miss Silabsoft:</div>
<blockquote>
<p>did you try reading fully from the http location then sending to the client?</p>
</blockquote>
</aside>
<p>It would time out and send me to that error page if I tried that, and it shouldn’t change anything.  The same thing happened when hosting the cache running a server on localhost, so it isn’t a connection speed issue.</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-02-28T17:56:26Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:08Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Great, I just discovered a new problem.  When I log into a 508 server, I get this:</p>
<p><code>UpdateServer: Error, http://cache.hybridscape.com/508/7/-32165 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-23781 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-31671 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-31562 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-31561 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-31560 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-31559 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-31558 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-31544 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-27386 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-32183 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-32182 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-32181 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-32180 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-32179 does not exist.
UpdateServer: No alternatives, continuing.
UpdateServer: Error, http://cache.hybridscape.com/508/7/-32166 does not exist.
UpdateServer: No alternatives, continuing.
</code></p>
<p>But of course cache index 7, id -32165 doesn’t exist.  In fact I don’t think any negative IDs exist, anyone know the problem here?</p>
<p>I guess I must be dumping the cache wrong, anyone mind looking at the cache dumper and seeing what the problem is?</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Metho_D.html'><span itemprop='name'>Metho_D</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T00:32:04Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:31Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>it looks like the client is sending a byte for the priority/‘type’ (one or zero, which you read correctly), and then three bytes, which you read as a short. perhaps that’s causing the problem.</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T01:14:00Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:34Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="5" data-topic="331146">
<div class="title">
<div class="quote-controls"></div>
 Metho D:</div>
<blockquote>
<p>it looks like the client is sending a byte for the priority/‘type’ (one or zero, which you read correctly), and then three bytes, which you read as a short. perhaps that’s causing the problem.</p>
</blockquote>
</aside>
<p>Do you know how those 3 bytes are supposed to be read/interpreted?</p>
<p>Also, does anyone know if there is a way to find out for which index/id that data exists for without bruteforcing it or logging what the client requests?  I apparently haven’t dumped the ENTIRE cache because I thought that the id could only go up to MAX_SHORT, when apparently it can go up to MAX_INT.  (which is taking hours upon hours)</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Metho_D.html'><span itemprop='name'>Metho_D</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T01:44:36Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:36Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>this is the method used to send them in the client (refactored a bit):</p>
<p><code>public void method918(int i) {
        buffer[currentOffset++] = (byte) (i &gt;&gt; 16);
        buffer[currentOffset++] = (byte) (i &gt;&gt; 8);
        buffer[currentOffset++] = (byte) i;
    }</code></p>
<p>and to read them you could probably do something like this:</p>
<pre><code class="lang-auto">int id = (in.readUnsignedByte() &lt;&lt; 16) + (in.readUnsignedByte() &lt;&lt; 8) + in.readUnsignedByte();</code></pre>
<p>oh, and you could probably find out where the files go up to by looking at the reference table data for each cache (the files in file system 255 besides file 255).</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T01:59:59Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:36Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Metho D, post:7, topic:331146”]this is the method used to send them in the client (refactored a bit):</p>
<p><code>public void method918(int i) {
        buffer[currentOffset++] = (byte) (i &gt;&gt; 16);
        buffer[currentOffset++] = (byte) (i &gt;&gt; 8);
        buffer[currentOffset++] = (byte) i;
    }</code></p>
<p>and to read them you could probably do something like this to read it:</p>
<pre><code class="lang-auto">int id = (in.readUnsignedByte() &lt;&lt; 16) + (in.readUnsignedByte() &lt;&lt; 8) + in.readUnsignedByte();</code></pre>
<p>I changed my:</p>
<pre><code class="lang-auto">int id = in.readShort();</code></pre>
<p>to your:</p>
<pre><code class="lang-auto">int id = (in.readUnsignedByte() &lt;&lt; 16) + (in.readUnsignedByte() &lt;&lt; 8) + in.readUnsignedByte();</code></pre>
<p>Which apparently isn’t right because it never serves up anything before throwing a:</p>
<p><code>Server error: java.io.EOFException
	at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:273)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:78)
	at org.moparscape.userver.Server.run(Server.java:64)
</code></p>
<aside class="quote no-group" data-post="7" data-topic="331146">
<div class="title">
<div class="quote-controls"></div>
 Metho D:</div>
<blockquote>
<p>oh, and you could probably find out where the files go up to by looking at the reference table data for each cache (the files in file system 255 besides file 255).</p>
</blockquote>
</aside>
<p>Honestly I don’t know much to anything about the format, I’m using code I was supplied with by Silabsoft I believe, any hints on where to find that info and/or how to look it up?</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Metho_D.html'><span itemprop='name'>Metho_D</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T02:12:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:37Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>oh, whoops. the data you’re supposed to read is a combination of the cache index and file number put into three bytes. try this instead:</p>
<p><code>int uid = (in.readUnsignedByte() &lt;&lt; 16) + (in.readUnsignedByte() &lt;&lt; 8) + in.readUnsignedByte();
int index = uid &gt;&gt; 16;
int id = uid &amp; 0xFFFF;</code></p>
<p>as for the reference tables, anInt454 in Class21renamed.method349 <span class="bbcode-i">might</span> be what you’re looking for (it should be the entryCount field, but i don’t remember if it represents the complete count of files in each cache).</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T02:23:45Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:38Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’ve changed the code as follows:</p>
<p><code>
//int index = in.read() &amp; 0xff;
//int id = in.readShort();
int uid = (in.readUnsignedByte() &lt;&lt; 16) + (in.readUnsignedByte() &lt;&lt; 8) + in.readUnsignedByte();
int index = uid &gt;&gt; 16;
int id = uid &amp; 0xFFFF;</code></p>
<p>And, while it actually works, it seems to work the same as the original code.  It works, but it disconnects a lot, so something is still not right.  I’ve been pulling my hair out for months over this.</p>
<p>A count of files in each cache won’t do much good, as they aren’t all in a row.  Sometimes it skips quite a few numbers, here is an excerpt from the dumplog.txt:</p>
<p><code>data for: 6,0
data for: 6,2
data for: 6,76
data for: 6,85
data for: 6,122
data for: 6,157
data for: 6,177
data for: 6,327
data for: 6,552
data for: 6,715827884
data for: 6,715827958
data for: 6,715827967
data for: 6,715828004
data for: 6,715828039
data for: 6,715828059
data for: 6,715828209
data for: 6,715828434</code></p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Metho_D.html'><span itemprop='name'>Metho_D</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T02:32:41Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:38Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>do any errors pop up in the client when this happens or does it just disconnect? the only thing that comes to mind right away would be sending some invalid header data for the files or something like that.</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T02:39:11Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:39Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="11" data-topic="331146">
<div class="title">
<div class="quote-controls"></div>
 Metho D:</div>
<blockquote>
<p>do any errors pop up in the client when this happens or does it just disconnect? the only thing that comes to mind right away would be sending some invalid header data for the files or something like that.</p>
</blockquote>
</aside>
<p>No errors on the client, other than a noticeable slowdown, but if you run in debug mode you can see these errors, but I printed out the requests here (508/index/id format)</p>
<p><code>508/255/255
508/0/2
508/0/3
508/0/4
508/0/5
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/20/3
508/21/3
508/22/3
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/21/3
508/22/3
508/2/4
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/22/3
508/2/4
508/16/4
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/2/4
508/16/4
508/17/4
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/16/4
508/17/4
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/17/4
508/18/4
508/19/4
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/18/4
508/19/4
508/20/4
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/19/4
508/20/4
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/20/4
508/21/4
508/22/4
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/21/4
508/22/4
508/2/5
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/22/4
508/2/5
508/16/5
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/2/5
508/16/5
508/17/5
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/16/5
508/17/5
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/17/5
508/18/5
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/18/5
508/19/5
508/20/5
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/19/5
508/20/5
508/21/5
Server error: java.net.SocketException: Connection reset
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:96)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
	at java.io.DataOutputStream.write(DataOutputStream.java:90)
	at org.moparscape.userver.v508.OndemandServer.handleConnection(OndemandServer.java:171)
	at org.moparscape.userver.Server.run(Server.java:64)
508/20/5</code></p>
<p>So I don’t believe the header information is wrong, since I dump it the same for every file, and the fact that the files end up getting served and accepted by the client, it justs requests them multiple times before it gets accepted.</p>
<p>I know 508 tries to connect to port 443 as well, so I tried running a server there as well, but it seemed to use a different protocol of some type and always disconnected.  I don’t know if this has anything to do with anything, but I’m out of ideas.</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T02:45:28Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:40Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How many requests are you serving at one time? you should send no more than 10 requests at one time.</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T02:48:30Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:40Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="13" data-topic="331146">
<div class="title">
<div class="quote-controls"></div>
 Miss Silabsoft:</div>
<blockquote>
<p>How many requests are you serving at one time? you should send no more than 10 requests at one time.</p>
</blockquote>
</aside>
<pre><code class="lang-auto">    public void run() {
        thisThread = this;
        while (isRunning)
            try {
                handleConnection(sSock.accept());
            } catch (IOException e) {
                handleException(e);
            }
    }</code></pre>
<p>I just handle them one at a time, as they come in.  Do they send multiple requests at once?</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T02:56:57Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:40Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>sends up to 10 file requests and then listens to receive.</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T02:58:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:40Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="15" data-topic="331146">
<div class="title">
<div class="quote-controls"></div>
 Miss Silabsoft:</div>
<blockquote>
<p>sends up to 10 file requests and then listens to receive.</p>
</blockquote>
</aside>
<p>That’s going to take a decent amount of code change, I’ll start working on it.  While we are on the topic though, does 317 do the same thing?</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T03:01:36Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:41Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>317 can receive up to 100 files at one time. and then sends more requests.</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T03:15:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:41Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So I hacked up some code to handle 10 requests at a time, changed the previous run method to this:</p>
<pre><code class="lang-auto">    private synchronized int modThreadCount(int mod) {
        threadCount += mod;
        return threadCount;
    }

    private int threadCount = 0;

    public void run() {
        thisThread = this;
        while (isRunning)
            try {
                //handleConnection(sSock.accept());
                if (modThreadCount(0) &lt; 10) {
                    (new Thread() {
                        public void run() {
                            System.out.println("threadCount: " + modThreadCount(1));
                            try {
                                handleConnection(sSock.accept());
                            } catch (IOException e) {
                                handleException(e);
                            }
                            modThreadCount(-1);
                        }
                    }).start();
                } else {
                    Thread.sleep(500);
                }


            } catch (Exception e) {
                handleException(e);
            }
    }</code></pre>
<p>I’ve changed the value of Thread.sleep() to 1000, 500, and 50.  But all seem to have the same results, it still disconnects.  Any ideas?  (or anything obvious I did wrong?)</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T03:39:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:43Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>what the hell not 10 connections, 10 file requests. get on irc…</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-03-01T03:50:10Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:01:43Z' class='post-time'>
              July 31, 2016,  3:01pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well I’ll be a son of a bitch, it actually does make multiple requests at once (more than 10 though, wonder how many…)</p>
<pre><code class="lang-auto">                    int uid = (in.readUnsignedByte() &lt;&lt; 16) + (in.readUnsignedByte() &lt;&lt; 8) + in.readUnsignedByte();
                    int index = uid &gt;&gt; 16;
                    int id = uid &amp; 0xFFFF;
                    System.out.println("request0: " + String.format(odsPath, index, id));
                    // if we aren't requesting update keys
                    if (index != 255) {
                        for (int x = 1; x &lt; 15; ++x) {
                            uid = (in.readUnsignedByte() &lt;&lt; 16) + (in.readUnsignedByte() &lt;&lt; 8) + in.readUnsignedByte();
                            index = uid &gt;&gt; 16;
                            id = uid &amp; 0xFFFF;
                            System.out.println("request" + x + ": " + String.format(odsPath, index, id));
                        }
                    }</code></pre>
<p>Result:</p>
<pre><code class="lang-auto">request0: 508/0/17
request1: 508/0/0
request2: 508/18/0
request3: 508/0/4864
request4: 508/0/21
request5: 508/0/0
request6: 508/22/0
request7: 508/0/5888
request8: 508/0/24
request9: 508/0/0
request10: 508/25/0
request11: 508/0/6656
request12: 508/0/27
request13: 508/0/0
request14: 508/28/0
UpdateServer: Error, http://cache.hybridscape.com/508/28/0 does not exist.
UpdateServer: No alternatives, continuing.
request0: 508/29/0
request1: 508/0/7680
request2: 508/0/31
request3: 508/0/0
request4: 508/34/0
request5: 508/0/9472
request6: 508/0/40
request7: 508/0/0
request8: 508/43/0
request9: 508/0/11264
request10: 508/0/46
request11: 508/3/0
request12: 508/0/259
request13: 508/2/29185
request14: 508/3/627</code></pre>
<p>Now I just need to rewrite this to queue the requests then serve them up.  Damn it…</p>
      </div>

      <meta itemprop='headline' content='MoparScape 508 Update Server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="3311464658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/moparscape-508-update-server/331146 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:10 GMT -->
</html>
