<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/ask-us/352058 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 15:36:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Ask us - Runescape - moparisthebest.com</title>
    <meta name="description" content="post questions you&amp;#39;ve always wanted to ask about the client here without fear of religious persecution and those who are knowledgeable of the client may be able to respond.">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="352058.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Ask us&#39;" href="352058.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/ask-us/352058" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/ask-us/352058" />
<meta property="og:title" content="Ask us" />
<meta name="twitter:title" content="Ask us" />
<meta property="og:description" content="post questions you’ve always wanted to ask about the client here without fear of religious persecution and those who are knowledgeable of the client may be able to respond." />
<meta name="twitter:description" content="post questions you’ve always wanted to ask about the client here without fear of religious persecution and those who are knowledgeable of the client may be able to respond." />
<meta property="article:published_time" content="2010-07-30T23:02:13+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="3520584658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="352058.html">Ask us</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-30T23:02:13Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:14:28Z' class='post-time'>
              July 31, 2016,  6:14pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>post questions you’ve always wanted to ask about the client here without fear of <span class="bbcode-s">religious</span> persecution and those who are knowledgeable of the client may be able to respond.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Tekk123.html'><span itemprop='name'>Tekk123</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T04:48:43Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:15:04Z' class='post-time'>
              July 31, 2016,  6:15pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok, I have one.</p>
<p>What are these ‘interactable’/‘floor decoration’/‘wall decoration’ objects and how is it possible to tell which is which?</p>
<p>I understand the point of each class of object but is there a ‘loadObjects’ method or similar which, er, loads the objects and gives them their type?</p>
<p>To help the people who help me, the ‘GameObject’ interface which all of these object classes implement is ‘uq’ in the current client, 614. The following classes implement it:</p>
<p><span class="bbcode-b">gt</span>, dt, haa, jaa, rca, aw, <span class="bbcode-b">ow</span>, mb, <span class="bbcode-b">kl</span>, uf, pt, <span class="bbcode-b">cfa</span></p>
<p>Bolded class names have model fields.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T04:58:28Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:15:04Z' class='post-time'>
              July 31, 2016,  6:15pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>they represent nodes in the world scene. the landscape files are decoded and from it object positions and orientations as well as types (floor decor etc)</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/NewbieNewty.html'><span itemprop='name'>NewbieNewty</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T05:09:57Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:15:04Z' class='post-time'>
              July 31, 2016,  6:15pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Obviously I am not as advanced as you guys but…</p>
<p>How can I dumb packet sizes from a client? Also, how can I figure out server to client packets and figure out what update masks are required and when. If that’s too much of if it is to easy to warrant an answer then go ahead and flame me but I’m only trying to learn.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Tekk123.html'><span itemprop='name'>Tekk123</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T05:23:09Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:15:05Z' class='post-time'>
              July 31, 2016,  6:15pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Newty, post:4, topic:352058”]Obviously I am not as advanced as you guys but…</p>
<p>How can I dumb packet sizes from a client? Also, how can I figure out server to client packets and figure out what update masks are required and when. If that’s too much of if it is to easy to warrant an answer then go ahead and flame me but I’m only trying to learn.[/quote]</p>
<p>Assuming you meant ‘dump’ packet sizes, there’s a static int array of packet sizes somewhere in the client, or at least there was last time I looked. Shouldn’t be too hard to find if you poke around the networking/packet-sending code.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/NewbieNewty.html'><span itemprop='name'>NewbieNewty</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T05:23:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:15:05Z' class='post-time'>
              July 31, 2016,  6:15pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Tekk, post:5, topic:352058”][quote author=Newty link=topic=448411.msg3290861#msg3290861 date=1280552997]<br>
Obviously I am not as advanced as you guys but…</p>
<p>How can I dumb packet sizes from a client? Also, how can I figure out server to client packets and figure out what update masks are required and when. If that’s too much of if it is to easy to warrant an answer then go ahead and flame me but I’m only trying to learn.<br>
[/quote]</p>
<p>Assuming you meant ‘dump’ packet sizes, there’s a static int array of packet sizes somewhere in the client, or at least there was last time I looked. Shouldn’t be too hard to find if you poke around the networking/packet-sending code.[/quote]</p>
<p>rt3?</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Tekk123.html'><span itemprop='name'>Tekk123</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T05:42:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:15:06Z' class='post-time'>
              July 31, 2016,  6:15pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yes, I’m sure it is there in RT3 clients.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T06:03:06Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:15:07Z' class='post-time'>
              July 31, 2016,  6:15pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Update masks are used to flag that a block of appearance update data contains data for a specific type of update. They can be located by tracing code in the player updating procedure.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T07:47:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:15:09Z' class='post-time'>
              July 31, 2016,  6:15pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>the array of sizes in rt3 clients are of server-&gt;client packets.  to find the sizes of client-&gt;server packets you need to do it manually (search for calls to the method that encrypts and puts an opcode, check to see if it uses a byte or short size placeholder, if not just add up how many bytes are written by subsequent calls).  alternatively you can just make a tool to automagically find them for you.</p>
<p>[quote=“Tekk, post:2, topic:352058”]ok, I have one.</p>
<p>What are these ‘interactable’/‘floor decoration’/‘wall decoration’ objects and how is it possible to tell which is which?</p>
<p>I understand the point of each class of object but is there a ‘loadObjects’ method or similar which, er, loads the objects and gives them their type?</p>
<p>To help the people who help me, the ‘GameObject’ interface which all of these object classes implement is ‘uq’ in the current client, 614. The following classes implement it:</p>
<p><span class="bbcode-b">gt</span>, dt, haa, jaa, rca, aw, <span class="bbcode-b">ow</span>, mb, <span class="bbcode-b">kl</span>, uf, pt, <span class="bbcode-b">cfa</span></p>
<p>Bolded class names have model fields.[/quote]</p>
<p>as super said they are objects in the world scene. i do not know much of rt5 but in rt3 these classes were walls, wall decorations, ground decorations, items on the ground, and “interactive” objects (game objects, players, npcs, so on). in rt3 they are not terribly difficult to find.  ground items have 3 separate scene models (see below), which are the first, second, and third items shown respectively.  walls have 2 scene models: one for a straight wall, the other for a corner, as well as a type identifier for either one.  wall decorations have a single scene model along with rotation and displacement values.  ground decorations simply have a scene model. interactive objects are always the scene object which the tile class has an array of.  mind you, looking at class members alone isn’t really enough.  as far as rt5 goes, i have no idea, but i’d imagine they would share some similarities in usage.</p>
<p>on a related note, the class many have continued calling Animable is any model in the world scene, a scene model if you will.  in rt3 this included projectiles, static graphics, graphics (spot animations), items on the ground, npcs/players, and something i named “WorldSceneObject”, which now looking back i can’t remember at all what it is.  i forget what is special about static graphics compared graphics, but with enough poking around you can figure it out.  as far as i have bothered to explore there isn’t a quick 'n easy way of finding out what these classes are without doing a somewhat deep inspection, although with rt5 the clientscript vm will probably be a huge help.</p>
<p>–</p>
<p>i skimmed through my refactored client again to further elaborate on these ‘scene models’.<br>
static graphics are graphics to be found in the landscape of a map, which would be things like the flickering of a lamp.  it is hard to recall specifically where these is used, however most ‘ambient’ animations you see are static graphics.</p>
<p>a graphic is an animated model that is not part of the landscape, for example the animation of a player teleporting.  these do not move.<br>
internally, a projectile is just a graphic that is moved and rotated towards a point at a given velocity.</p>
<p>the mysterious ‘WorldSceneObject’ i mentioned before is for all remaining models within the world scene, like players, objects, walls, etc.  basically, anything that isn’t used exclusively as an effect.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/eczema3.html'><span itemprop='name'>eczema3</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T14:43:17Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:15:24Z' class='post-time'>
              July 31, 2016,  6:15pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What is the format of models, and how is the cache put together?</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-02T13:43:27Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:17:31Z' class='post-time'>
              July 31, 2016,  6:17pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="10" data-topic="352058">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/eczema3/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> eczema3:</div>
<blockquote>
<p>What is the format of models, and how is the cache put together?</p>
</blockquote>
</aside>
<p>model format can be found numerous times all over both moparisthebest and <a href="http://moparisthebest.com/" rel="nofollow noopener">moparisthebest.com</a></p>
<p>Ok experts who wants to take a crack and explain how the music system now works. They used to use raw midi’s but now seem to use some sort of proprietary format.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-02T14:01:20Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:17:32Z' class='post-time'>
              July 31, 2016,  6:17pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>silabsoft that was an inadequate analysis. MethoD has done some work on the new engine audio system (take in MIDI files and turn them into sampled waveform data), and the old engine audio system used a custom format that was turned into a 22.05 KHz PCM sample enclosed in a WAV file as well as MIDI files.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-02T14:03:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:17:32Z' class='post-time'>
              July 31, 2016,  6:17pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>not really helpful to your question, but if you want to go into dinosaur mode you can check out my bad refactor of xmplayer from vertigo: <a href="https://gist.github.com/ea6c36bae3f5fa82563d" data-bbcode="true" rel="nofollow noopener">https://gist.github.com/ea6c36bae3f5fa82563d</a></p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-02T15:59:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:17:37Z' class='post-time'>
              July 31, 2016,  6:17pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="12" data-topic="352058">
<div class="title">
<div class="quote-controls"></div>
 super_:</div>
<blockquote>
<p>silabsoft that was an inadequate analysis. MethoD has done some work on the new engine audio system (take in MIDI files and turn them into sampled waveform data), and the old engine audio system used a custom format that was turned into a 22.05 KHz PCM sample enclosed in a WAV file as well as MIDI files.</p>
</blockquote>
</aside>
<p>as i recall you can just dump the MIDI by inflating the gzip compressed cache data in Index 5 at the time of 317 I may be wrong. The WAV files i am not so sure.</p>
<p>Thanks for that CP not sure if it will shed any light to what I am looking for but not much has changed between the runetek version so maybe.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-02T16:12:59Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:17:38Z' class='post-time'>
              July 31, 2016,  6:17pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>im almost certain that it wont be of much use. all rt1 apps (which includes the original vertigo) used xm, after rt1 they did not use it anymore.  however, for the really gritty conversion stuff it could be helpful (ulaw, some effects possibly).</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-02T20:52:20Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:17:55Z' class='post-time'>
              July 31, 2016,  6:17pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Miss Silabsoft, post:14, topic:352058”][quote author=super_ link=topic=448411.msg3292988#msg3292988 date=1280757680]<br>
silabsoft that was an inadequate analysis. MethoD has done some work on the new engine audio system (take in MIDI files and turn them into sampled waveform data), and the old engine audio system used a custom format that was turned into a 22.05 KHz PCM sample enclosed in a WAV file as well as MIDI files.<br>
[/quote]</p>
<p>as i recall you can just dump the MIDI by inflating the gzip compressed cache data in Index 5 at the time of 317 I may be wrong. The WAV files i am not so sure.</p>
<p>Thanks for that CP not sure if it will shed any light to what I am looking for but not much has changed between the runetek version so maybe.[/quote]</p>
<p><code>        wav_buf.ptr = 0;
        wav_buf.int_put(0x52494646); /* 'RIFF' chunk */
        wav_buf.le_int_put(36 + data_sz); /* 'RIFF' chunk size */
        wav_buf.int_put(0x57415645); /* 'WAVE' id */
        wav_buf.int_put(0x666d7420); /* 'fmt ' chunk */
        wav_buf.le_int_put(16); /* 'fmt ' chunk size */
        wav_buf.le_short_put(1); /* format code (PCM) */
        wav_buf.le_short_put(1); /* channel cnt */
        wav_buf.le_int_put(22050); /* sample freq */
        wav_buf.le_int_put(22050); /* byte freq */
        wav_buf.le_short_put(1); /* sample block size */
        wav_buf.le_short_put(8); /* bits per sample */
        wav_buf.int_put(0x64617461); /* 'data' chunk */
        wav_buf.le_int_put(data_sz); /* 'data' chunk size */
        wav_buf.ptr += data_sz;</code><br>
ring a bell?</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CheatoX.html'><span itemprop='name'>CheatoX</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-04T18:42:56Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:20:53Z' class='post-time'>
              July 31, 2016,  6:20pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How do you best obtain a playermodel in the rt5 client so i can draw it’s wireframe properly? I tried several ways and always got a variable that was null or a model but not of my player but from a player next to me.</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Tekk123.html'><span itemprop='name'>Tekk123</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-04T23:12:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:21:09Z' class='post-time'>
              July 31, 2016,  6:21pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="17" data-topic="352058">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/cheatox/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> CheatoX:</div>
<blockquote>
<p>How do you best obtain a playermodel in the rt5 client so i can draw it’s wireframe properly? I tried several ways and always got a variable that was null or a model but not of my player but from a player next to me.</p>
</blockquote>
</aside>
<p>Well, I had a nice long reply typed out but apparently the textbox became unfocused and pressing backspace made my browser go back and erase it. Forward/undo had no effect so…</p>
<p>The array of models in ‘character’ is no good as it just holds a few models which were recently drawn by the graphics toolkit.</p>
<p>This is the general process to go about getting NPC models, not sure how different it is for players.</p>
<p>In the class which Method called NPCCompositeLoader (loads NPC definitions from the cache) there’s a (jagex) cache containing model data. From this you can get a hashtable instance.</p>
<p>Bitwise OR the NPC’s id with the index of the current graphics toolkit shifted left by 16, and use it as input to the get() method of the hashtable (from 578):</p>
<pre><code class="lang-auto">	public Node get(Hashtable h, long id) {
		if (h == null)
			return null;
		Node first = h.buckets[(int) (id &amp; h.buckets.length - 1)];
		for (Node node = first.next; node != first; node = node.next)
			if (node.id == id)
				return node;
		return null;
	}</code></pre>
<p>This will get you a Node which is an instance of either Reference or HardReference. Use of instanceof is sort of bad but jagex uses it to accomplish this so we can use it here. The object pointed to by the reference is the model.</p>
<p>Put it all together and you get something like this:</p>
<pre><code class="lang-auto">	public Model getNPCModel(NPC npc) {
		Hashtable h = npc.composite.loader.model_cache.hashtable;
		Node n = h.get(npc.id | toolkit.index &lt;&lt; 16);
		if (n instanceof HardReference)
			return ((HardReference) n).obj);
		else if (n instanceof Reference)
			return((Reference) n).javaRef.get());
		else return null;
	}</code></pre>
<p>That will get you a model subclass depending on the current graphics mode (safe mode, gl, directx, etc.)</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CheatoX.html'><span itemprop='name'>CheatoX</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-04T23:18:23Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:21:10Z' class='post-time'>
              July 31, 2016,  6:21pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thx a lot Tekk</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-05T03:02:16Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:21:21Z' class='post-time'>
              July 31, 2016,  6:21pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i heard caches are used to implement a hashtable not the logical opposite way around</p>
      </div>

      <meta itemprop='headline' content='Ask us'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="3520584658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/ask-us/352058 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 15:36:50 GMT -->
</html>
