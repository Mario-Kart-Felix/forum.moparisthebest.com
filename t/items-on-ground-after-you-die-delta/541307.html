<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/items-on-ground-after-you-die-delta/541307 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 04:49:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Items on ground after you die. (Delta) - Runescape - moparisthebest.com</title>
    <meta name="description" content="Yes, I know there are much better bases to use out there; don&amp;#39;t remind me... The problem I&amp;#39;m having is no where to be found, every topic ever made about it has no answers or people saying &amp;quot;lol don&amp;#39;t use delta&amp;quot;. I&amp;#39;ve been&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="541307.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Items on ground after you die. (Delta)&#39;" href="541307.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/items-on-ground-after-you-die-delta/541307" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/items-on-ground-after-you-die-delta/541307" />
<meta property="og:title" content="Items on ground after you die. (Delta)" />
<meta name="twitter:title" content="Items on ground after you die. (Delta)" />
<meta property="og:description" content="Yes, I know there are much better bases to use out there; don’t remind me… The problem I’m having is no where to be found, every topic ever made about it has no answers or people saying “lol don’t use delta”. I’ve been trying to fix this for a week now and it makes no sense to me… If anyone could help out i’d greatly appreciate it!  So the problem is when a player dies their items don’t appear on the ground when they go back to get them, I’ve noticed that right before you die you can see your lo..." />
<meta name="twitter:description" content="Yes, I know there are much better bases to use out there; don’t remind me… The problem I’m having is no where to be found, every topic ever made about it has no answers or people saying “lol don’t use delta”. I’ve been trying to fix this for a week now and it makes no sense to me… If anyone could help out i’d greatly appreciate it!  So the problem is when a player dies their items don’t appear on the ground when they go back to get them, I’ve noticed that right before you die you can see your lo..." />
<meta property="article:published_time" content="2014-03-18T00:41:08+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="541307.html">Items on ground after you die. (Delta)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Shanks.html'><span itemprop='name'>Shanks</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-18T00:41:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:56:48Z' class='post-time'>
              August 4, 2016, 11:56am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yes, I know there are much better bases to use out there; don’t remind me… The problem I’m having is no where to be found, every topic ever made about it has no answers or people saying “lol don’t use delta”. I’ve been trying to fix this for a week now and it makes no sense to me… If anyone could help out i’d greatly appreciate it!</p>
<p>So the problem is when a player dies their items don’t appear on the ground when they go back to get them, I’ve noticed that right before you die you can see your lost items on the ground just for a split second, but when you go back they’re gone! Here’s my youdied() method if anyone cares to read over it:</p>
<p>[SPOILER=youdied() method][CODE]	public void youdied() {</p>
<pre><code>	if (playerHasItem(5509)) {
		deleteItem(5509, 1);
	}
	if (playerHasItem(5510)) {
		deleteItem(5510, 1);
	}
	if (playerHasItem(5512)) {
		deleteItem(5512, 1);
	}
	if (playerHasItem(5514)) {
		deleteItem(5514, 1);
	}
	if (playerHasItem(6570)) {
		keep6570 = true;
		deleteItem(6570, 1);
	}
	if (!isSkulled) {
		keepItemHandle();
	}
	if (ProtItem) {
		applyProtectItemProt();
	}
	for (int rr = 0; rr &lt; playerItems.length; rr++) {
		try {
			if (playerItems[rr] &gt; 0 &amp;&amp; playerItems[rr] &lt; 11999) { // createItem(currentX,currentY,playerItems[rr]-1);
				replaceBarrows();
				// server.checkPlayerCapes.checkDrop(this);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[rr], KillerId, false);
				createGroundItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[i]);
				deleteItem(playerItems[rr] - 1,
						getItemSlot(playerItems[rr] - 1), playerItemsN[rr]);

			}
		} catch (Exception e) {
		}
	}
	for (int r = 0; r &lt; playerEquipment.length; r++) {
		try {
			int item = playerEquipment[r];
			if ((item &gt; 0) &amp;&amp; (item &lt; 11999)) {
				remove(item, r);
			}
		} catch (Exception e) {
			sendMessage("ERROR: Removing Equipment");
		}
	}
	if (playerHasItem(5509)) {
		deleteItem(5509, 1);
	}
	if (playerHasItem(5510)) {
		deleteItem(5510, 1);
	}
	if (playerHasItem(5512)) {
		deleteItem(5512, 1);
	}
	if (playerHasItem(5514)) {
		deleteItem(5514, 1);
	}
	if (playerHasItem(6570)) {
		keep6570 = true;
		deleteItem(6570, 1);
	}
	for (int rr = 0; rr &lt; playerItems.length; rr++) {
		try {
			if (playerItems[rr] &gt; 0 &amp;&amp; playerItems[rr] &lt; 11999) {
				// createItem(currentX,currentY,playerItems[rr]-1);
				replaceBarrows();
				// Server.checkPlayerCapes.checkDrop(this);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[rr], KillerId, false);
				createGroundItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[i]);
				deleteItem(playerItems[rr] - 1,
						getItemSlot(playerItems[rr] - 1), playerItemsN[rr]);
			}
		} catch (Exception e) {
		}
	}
	try {

	} catch (Exception e) {
	}
	ItemHandler.addItem(526, absX, absY, 1, KillerId, false);
	try {
	} catch (Exception e) {
	}
	if (itemKept1 &gt; 0)
		addItem(itemKept1, 1);
	if (itemKept2 &gt; 0)
		addItem(itemKept2, 1);
	if (itemKept3 &gt; 0)
		addItem(itemKept3, 1);
	if (itemKept4 &gt; 0)
		addItem(itemKept4, 1);
	if (keep6570) {
		addItem(6570, 1);
		keep6570 = false;
	}

	resetKeepItem();
	hitDiff = 0;
	updateRequired = true;
	appearanceUpdateRequired = true;
}[/CODE][/SPOILER]
</code></pre>
<p>If there’s anything else I should post then please let me know, I really need to get some help with this because I’m losing players over this dumb bug… Thank you for your time!</p>
      </div>

      <meta itemprop='headline' content='Items on ground after you die. (Delta)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-18T02:14:01Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:56:49Z' class='post-time'>
              August 4, 2016, 11:56am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>its probably your ground item system, you see the item for a split second because the packet for sending the item is sent but when you leave the region (because you are moved to a different area where you respawn) and try and go back for your items they aren’t there</p>
<p>why? because you probably don’t have some sort of item database that keeps track of every single global item so it can resend the item packet when you enter the region! this also makes your server extremely easy to dupe on, read <a href="https://www.moparisthebest.com/smf/index.php/topic,657402.0.html#post_clickme5" data-bbcode="true" rel="nofollow noopener">this</a> little section for more clarification</p>
<p>or the problem could lie within the death method… which i cant see because you’ve posted it incorrectly (i only see one line)</p>
<p>tl;dr fix your ground item system, or fix the death method</p>
      </div>

      <meta itemprop='headline' content='Items on ground after you die. (Delta)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runescape_sucks.html'><span itemprop='name'>runescape_sucks</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-18T02:28:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:56:49Z' class='post-time'>
              August 4, 2016, 11:56am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="541307">
<div class="title">
<div class="quote-controls"></div>
 lare69:</div>
<blockquote>
<p>or the problem could lie within the death method… which i cant see because you’ve posted it incorrectly (i only see one line)</p>
</blockquote>
</aside>
<p>I hate to intrude, but he has posted his entire code for the death method. It’s just the crappy spoiler system that hides it.</p>
<p>[code=java]	public void youdied() {</p>
<pre><code>	if (playerHasItem(5509)) {
		deleteItem(5509, 1);
	}
	if (playerHasItem(5510)) {
		deleteItem(5510, 1);
	}
	if (playerHasItem(5512)) {
		deleteItem(5512, 1);
	}
	if (playerHasItem(5514)) {
		deleteItem(5514, 1);
	}
	if (playerHasItem(6570)) {
		keep6570 = true;
		deleteItem(6570, 1);
	}
	if (!isSkulled) {
		keepItemHandle();
	}
	if (ProtItem) {
		applyProtectItemProt();
	}
	for (int rr = 0; rr &lt; playerItems.length; rr++) {
		try {
			if (playerItems[rr] &gt; 0 &amp;&amp; playerItems[rr] &lt; 11999) { // createItem(currentX,currentY,playerItems[rr]-1);
				replaceBarrows();
				// server.checkPlayerCapes.checkDrop(this);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[rr], KillerId, false);
				createGroundItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[i]);
				deleteItem(playerItems[rr] - 1,
						getItemSlot(playerItems[rr] - 1), playerItemsN[rr]);

			}
		} catch (Exception e) {
		}
	}
	for (int r = 0; r &lt; playerEquipment.length; r++) {
		try {
			int item = playerEquipment[r];
			if ((item &gt; 0) &amp;&amp; (item &lt; 11999)) {
				remove(item, r);
			}
		} catch (Exception e) {
			sendMessage("ERROR: Removing Equipment");
		}
	}
	if (playerHasItem(5509)) {
		deleteItem(5509, 1);
	}
	if (playerHasItem(5510)) {
		deleteItem(5510, 1);
	}
	if (playerHasItem(5512)) {
		deleteItem(5512, 1);
	}
	if (playerHasItem(5514)) {
		deleteItem(5514, 1);
	}
	if (playerHasItem(6570)) {
		keep6570 = true;
		deleteItem(6570, 1);
	}
	for (int rr = 0; rr &lt; playerItems.length; rr++) {
		try {
			if (playerItems[rr] &gt; 0 &amp;&amp; playerItems[rr] &lt; 11999) {
				// createItem(currentX,currentY,playerItems[rr]-1);
				replaceBarrows();
				// Server.checkPlayerCapes.checkDrop(this);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[rr], KillerId, false);
				createGroundItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[i]);
				deleteItem(playerItems[rr] - 1,
						getItemSlot(playerItems[rr] - 1), playerItemsN[rr]);
			}
		} catch (Exception e) {
		}
	}
	try {

	} catch (Exception e) {
	}
	ItemHandler.addItem(526, absX, absY, 1, KillerId, false);
	try {
	} catch (Exception e) {
	}
	if (itemKept1 &gt; 0)
		addItem(itemKept1, 1);
	if (itemKept2 &gt; 0)
		addItem(itemKept2, 1);
	if (itemKept3 &gt; 0)
		addItem(itemKept3, 1);
	if (itemKept4 &gt; 0)
		addItem(itemKept4, 1);
	if (keep6570) {
		addItem(6570, 1);
		keep6570 = false;
	}

	resetKeepItem();
	hitDiff = 0;
	updateRequired = true;
	appearanceUpdateRequired = true;
}[/code]</code></pre>
      </div>

      <meta itemprop='headline' content='Items on ground after you die. (Delta)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Shanks.html'><span itemprop='name'>Shanks</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-18T03:01:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:56:49Z' class='post-time'>
              August 4, 2016, 11:56am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lare69, post:2, topic:541307”]its probably your ground item system, you see the item for a split second because the packet for sending the item is sent but when you leave the region (because you are moved to a different area where you respawn) and try and go back for your items they aren’t there</p>
<p>why? because you probably don’t have some sort of item database that keeps track of every single global item so it can resend the item packet when you enter the region! this also makes your server extremely easy to dupe on, read <a href="https://www.moparisthebest.com/smf/index.php/topic,657402.0.html#post_clickme5" data-bbcode="true" rel="nofollow noopener">this</a> little section for more clarification</p>
<p>or the problem could lie within the death method… which i cant see because you’ve posted it incorrectly (i only see one line)</p>
<p>tl;dr fix your ground item system, or fix the death method[/quote]</p>
<p>Thank you for the explanation, I understand it a bit more!</p>
      </div>

      <meta itemprop='headline' content='Items on ground after you die. (Delta)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-18T15:51:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:56:53Z' class='post-time'>
              August 4, 2016, 11:56am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“runescape sucks, post:3, topic:541307”][quote author=lare69 link=topic=660181.msg4414322#msg4414322 date=1395108841]or the problem could lie within the death method… which i cant see because you’ve posted it incorrectly (i only see one line)<br>
[/quote]</p>
<p>I hate to intrude, but he has posted his entire code for the death method. It’s just the crappy spoiler system that hides it.</p>
<p>[code=java]	public void youdied() {</p>
<pre><code>	if (playerHasItem(5509)) {
		deleteItem(5509, 1);
	}
	if (playerHasItem(5510)) {
		deleteItem(5510, 1);
	}
	if (playerHasItem(5512)) {
		deleteItem(5512, 1);
	}
	if (playerHasItem(5514)) {
		deleteItem(5514, 1);
	}
	if (playerHasItem(6570)) {
		keep6570 = true;
		deleteItem(6570, 1);
	}
	if (!isSkulled) {
		keepItemHandle();
	}
	if (ProtItem) {
		applyProtectItemProt();
	}
	for (int rr = 0; rr &lt; playerItems.length; rr++) {
		try {
			if (playerItems[rr] &gt; 0 &amp;&amp; playerItems[rr] &lt; 11999) { // createItem(currentX,currentY,playerItems[rr]-1);
				replaceBarrows();
				// server.checkPlayerCapes.checkDrop(this);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[rr], KillerId, false);
				createGroundItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[i]);
				deleteItem(playerItems[rr] - 1,
						getItemSlot(playerItems[rr] - 1), playerItemsN[rr]);

			}
		} catch (Exception e) {
		}
	}
	for (int r = 0; r &lt; playerEquipment.length; r++) {
		try {
			int item = playerEquipment[r];
			if ((item &gt; 0) &amp;&amp; (item &lt; 11999)) {
				remove(item, r);
			}
		} catch (Exception e) {
			sendMessage("ERROR: Removing Equipment");
		}
	}
	if (playerHasItem(5509)) {
		deleteItem(5509, 1);
	}
	if (playerHasItem(5510)) {
		deleteItem(5510, 1);
	}
	if (playerHasItem(5512)) {
		deleteItem(5512, 1);
	}
	if (playerHasItem(5514)) {
		deleteItem(5514, 1);
	}
	if (playerHasItem(6570)) {
		keep6570 = true;
		deleteItem(6570, 1);
	}
	for (int rr = 0; rr &lt; playerItems.length; rr++) {
		try {
			if (playerItems[rr] &gt; 0 &amp;&amp; playerItems[rr] &lt; 11999) {
				// createItem(currentX,currentY,playerItems[rr]-1);
				replaceBarrows();
				// Server.checkPlayerCapes.checkDrop(this);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[rr], KillerId, false);
				createGroundItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[i]);
				deleteItem(playerItems[rr] - 1,
						getItemSlot(playerItems[rr] - 1), playerItemsN[rr]);
			}
		} catch (Exception e) {
		}
	}
	try {

	} catch (Exception e) {
	}
	ItemHandler.addItem(526, absX, absY, 1, KillerId, false);
	try {
	} catch (Exception e) {
	}
	if (itemKept1 &gt; 0)
		addItem(itemKept1, 1);
	if (itemKept2 &gt; 0)
		addItem(itemKept2, 1);
	if (itemKept3 &gt; 0)
		addItem(itemKept3, 1);
	if (itemKept4 &gt; 0)
		addItem(itemKept4, 1);
	if (keep6570) {
		addItem(6570, 1);
		keep6570 = false;
	}

	resetKeepItem();
	hitDiff = 0;
	updateRequired = true;
	appearanceUpdateRequired = true;
}[/code][/quote]
</code></pre>
<p>thank you! <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>I’m on my phone right now but from what I can see the method is dropping the item.</p>
<p>ummm send your “creategrounditem” and “itemhandler.additem” methods. I also need to see your client -&gt; server region packet</p>
      </div>

      <meta itemprop='headline' content='Items on ground after you die. (Delta)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Shanks.html'><span itemprop='name'>Shanks</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-20T23:03:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:57:18Z' class='post-time'>
              August 4, 2016, 11:57am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lare69, post:5, topic:541307”][quote author=runescape sucks link=topic=660181.msg4414327#msg4414327 date=1395109713]</p>
<p>[quote author=lare69 link=topic=660181.msg4414322#msg4414322 date=1395108841]or the problem could lie within the death method… which i cant see because you’ve posted it incorrectly (i only see one line)<br>
[/quote]</p>
<p>I hate to intrude, but he has posted his entire code for the death method. It’s just the crappy spoiler system that hides it.</p>
<p>[code=java]	public void youdied() {</p>
<pre><code>	if (playerHasItem(5509)) {
		deleteItem(5509, 1);
	}
	if (playerHasItem(5510)) {
		deleteItem(5510, 1);
	}
	if (playerHasItem(5512)) {
		deleteItem(5512, 1);
	}
	if (playerHasItem(5514)) {
		deleteItem(5514, 1);
	}
	if (playerHasItem(6570)) {
		keep6570 = true;
		deleteItem(6570, 1);
	}
	if (!isSkulled) {
		keepItemHandle();
	}
	if (ProtItem) {
		applyProtectItemProt();
	}
	for (int rr = 0; rr &lt; playerItems.length; rr++) {
		try {
			if (playerItems[rr] &gt; 0 &amp;&amp; playerItems[rr] &lt; 11999) { // createItem(currentX,currentY,playerItems[rr]-1);
				replaceBarrows();
				// server.checkPlayerCapes.checkDrop(this);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[rr], KillerId, false);
				createGroundItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[i]);
				deleteItem(playerItems[rr] - 1,
						getItemSlot(playerItems[rr] - 1), playerItemsN[rr]);

			}
		} catch (Exception e) {
		}
	}
	for (int r = 0; r &lt; playerEquipment.length; r++) {
		try {
			int item = playerEquipment[r];
			if ((item &gt; 0) &amp;&amp; (item &lt; 11999)) {
				remove(item, r);
			}
		} catch (Exception e) {
			sendMessage("ERROR: Removing Equipment");
		}
	}
	if (playerHasItem(5509)) {
		deleteItem(5509, 1);
	}
	if (playerHasItem(5510)) {
		deleteItem(5510, 1);
	}
	if (playerHasItem(5512)) {
		deleteItem(5512, 1);
	}
	if (playerHasItem(5514)) {
		deleteItem(5514, 1);
	}
	if (playerHasItem(6570)) {
		keep6570 = true;
		deleteItem(6570, 1);
	}
	for (int rr = 0; rr &lt; playerItems.length; rr++) {
		try {
			if (playerItems[rr] &gt; 0 &amp;&amp; playerItems[rr] &lt; 11999) {
				// createItem(currentX,currentY,playerItems[rr]-1);
				replaceBarrows();
				// Server.checkPlayerCapes.checkDrop(this);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[rr], KillerId, false);
				createGroundItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[i]);
				deleteItem(playerItems[rr] - 1,
						getItemSlot(playerItems[rr] - 1), playerItemsN[rr]);
			}
		} catch (Exception e) {
		}
	}
	try {

	} catch (Exception e) {
	}
	ItemHandler.addItem(526, absX, absY, 1, KillerId, false);
	try {
	} catch (Exception e) {
	}
	if (itemKept1 &gt; 0)
		addItem(itemKept1, 1);
	if (itemKept2 &gt; 0)
		addItem(itemKept2, 1);
	if (itemKept3 &gt; 0)
		addItem(itemKept3, 1);
	if (itemKept4 &gt; 0)
		addItem(itemKept4, 1);
	if (keep6570) {
		addItem(6570, 1);
		keep6570 = false;
	}

	resetKeepItem();
	hitDiff = 0;
	updateRequired = true;
	appearanceUpdateRequired = true;
}[/code]
</code></pre>
<p>[/quote]<br>
thank you! <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>I’m on my phone right now but from what I can see the method is dropping the item.</p>
<p>ummm send your “creategrounditem” and “itemhandler.additem” methods. I also need to see your client -&gt; server region packet[/quote]</p>
<p>Here’s my creategrounditem method:</p>
<p><code>	public void createGroundItem(int itemID, int itemX, int itemY,
			int itemAmount) {
		// Phate: creates item at absolute X and Y
		outStream.createFrame(85); // Phate: Spawn ground item
		outStream.writeByteC((itemY - 8 * mapRegionY));
		outStream.writeByteC((itemX - 8 * mapRegionX));
		outStream.createFrame(44);
		outStream.writeWordBigEndianA(itemID);
		outStream.writeWord(itemAmount);
		outStream.writeByte(0); // x(4 MSB) y(LSB) coords
		// System.out.println("CreateGroundItem "+itemID+" "+(itemX - 8 *
		// mapRegionX)+","+(itemY - 8 * mapRegionY)+" "+itemAmount);
	}</code></p>
<p>And here is my Itemhandler.addItem method:</p>
<p><code>	public static void addItem(int itemID, int itemX, int itemY,
			int itemAmount, int itemController, boolean itemStatic) {
		for (int i = 0; i &lt;= 5000; i++) { // Phate: Loop through all item
			// spots
			if (globalItemID[i] == 0) { // Phate: Found blank item spot
				globalItemController[i] = itemController;
				globalItemID[i] = itemID;
				globalItemX[i] = itemX;
				globalItemY[i] = itemY;
				globalItemAmount[i] = itemAmount;
				globalItemStatic[i] = itemStatic;
				globalItemTicks[i] = 0;
				if ((globalItemController[i] != -1)
						&amp;&amp; (globalItemController[i] != 0))
					spawnItem(globalItemID[i], globalItemX[i], globalItemY[i],
							globalItemAmount[i], globalItemController[i]);
				break;
			}
		}
	}</code></p>
<p>I think this is my region packet, please let me know if it is not!</p>
<p><code>		case 121:
			replaceDoors();
			Deleteobjects();
			NewObjects();
			hasntLoggedin = true;
			if (!isInWilderness(absX, absY, 1) &amp;&amp; !cWarsGame() &amp;&amp; !cWarsRoom()) {
				setInterfaceWalkable(-1);
				hasWildySign = false;
			}
			break;</code></p>
<p>Thank you in advance for the help!</p>
      </div>

      <meta itemprop='headline' content='Items on ground after you die. (Delta)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-21T13:51:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:57:22Z' class='post-time'>
              August 4, 2016, 11:57am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>figured out the issue, you DO have a ground item system but it isn’t even being utilized to drop the items! you can blatantly see that in the “creategrounditem” method nothing is being added to a database or anything</p>
<p>use “ItemHandler.addItem(…);” to drop the items instead of “createGroundItem” and you’ll be good</p>
      </div>

      <meta itemprop='headline' content='Items on ground after you die. (Delta)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Shanks.html'><span itemprop='name'>Shanks</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-21T19:44:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:57:24Z' class='post-time'>
              August 4, 2016, 11:57am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Wow thank you for the help, but just so I understood correctly, you want me to replace “createGroundItem” with “ItemHandler.addItem()” in my youDied method? Because if so, that’s not working! Here’s what I’ve changed:</p>
<p>[code]	public void youdied() {</p>
<pre><code>	if (playerHasItem(5509)) {
		deleteItem(5509, 1);
	}
	if (playerHasItem(5510)) {
		deleteItem(5510, 1);
	}
	if (playerHasItem(5512)) {
		deleteItem(5512, 1);
	}
	if (playerHasItem(5514)) {
		deleteItem(5514, 1);
	}
	if (playerHasItem(6570)) {
		keep6570 = true;
		deleteItem(6570, 1);
	}
	if (!isSkulled) {
		keepItemHandle();
	}
	if (ProtItem) {
		applyProtectItemProt();
	}
	for (int rr = 0; rr &lt; playerItems.length; rr++) {
		try {
			if (playerItems[rr] &gt; 0 &amp;&amp; playerItems[rr] &lt; 11999) { // createItem(currentX,currentY,playerItems[rr]-1);
				replaceBarrows();
				// server.checkPlayerCapes.checkDrop(this);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[rr], KillerId, false);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[i], playerId, false);
				deleteItem(playerItems[rr] - 1,
						getItemSlot(playerItems[rr] - 1), playerItemsN[rr]);

			}
		} catch (Exception e) {
		}
	}
	for (int r = 0; r &lt; playerEquipment.length; r++) {
		try {
			int item = playerEquipment[r];
			if ((item &gt; 0) &amp;&amp; (item &lt; 11999)) {
				remove(item, r);
			}
		} catch (Exception e) {
			sendMessage("ERROR: Removing Equipment");
		}
	}
	if (playerHasItem(5509)) {
		deleteItem(5509, 1);
	}
	if (playerHasItem(5510)) {
		deleteItem(5510, 1);
	}
	if (playerHasItem(5512)) {
		deleteItem(5512, 1);
	}
	if (playerHasItem(5514)) {
		deleteItem(5514, 1);
	}
	if (playerHasItem(6570)) {
		keep6570 = true;
		deleteItem(6570, 1);
	}
	for (int rr = 0; rr &lt; playerItems.length; rr++) {
		try {
			if (playerItems[rr] &gt; 0 &amp;&amp; playerItems[rr] &lt; 11999) {
				// createItem(currentX,currentY,playerItems[rr]-1);
				replaceBarrows();
				// Server.checkPlayerCapes.checkDrop(this);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[rr], KillerId, false);
				ItemHandler.addItem(playerItems[rr] - 1, absX, absY,
						playerItemsN[i], playerId, false);
				deleteItem(playerItems[rr] - 1,
						getItemSlot(playerItems[rr] - 1), playerItemsN[rr]);
			}
		} catch (Exception e) {
		}
	}
	try {

	} catch (Exception e) {
	}
	ItemHandler.addItem(526, absX, absY, 1, KillerId, false);
	try {
	} catch (Exception e) {
	}
	if (itemKept1 &gt; 0)
		addItem(itemKept1, 1);
	if (itemKept2 &gt; 0)
		addItem(itemKept2, 1);
	if (itemKept3 &gt; 0)
		addItem(itemKept3, 1);
	if (itemKept4 &gt; 0)
		addItem(itemKept4, 1);
	if (keep6570) {
		addItem(6570, 1);
		keep6570 = false;
	}

	resetKeepItem();
	hitDiff = 0;
	updateRequired = true;
	appearanceUpdateRequired = true;
}[/code]
</code></pre>
<p>If I’m missing something, please show me?!</p>
      </div>

      <meta itemprop='headline' content='Items on ground after you die. (Delta)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/items-on-ground-after-you-die-delta/541307 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 04:49:13 GMT -->
</html>
