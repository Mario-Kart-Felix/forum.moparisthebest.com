<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/packet-errors-with-switching/542602 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 02:45:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Packet errors with switching? - Runescape - moparisthebest.com</title>
    <meta name="description" content="I&amp;#39;m sure everyone knows one of the solutions to better switching, by prioritising the wear item packet over others, but when I seem to do it, on some occasions it seems to disconnect me from the game and I can&amp;#39;t figure o&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="542602.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Packet errors with switching?&#39;" href="542602.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/packet-errors-with-switching/542602" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/packet-errors-with-switching/542602" />
<meta property="og:title" content="Packet errors with switching?" />
<meta name="twitter:title" content="Packet errors with switching?" />
<meta property="og:description" content="I’m sure everyone knows one of the solutions to better switching, by prioritising the wear item packet over others, but when I seem to do it, on some occasions it seems to disconnect me from the game and I can’t figure out why this is happening or the logic behind it.  Here’s the error it gives me  Error: ohokay Too many players: j: 55, playerCount: 1 java.lang.RuntimeException: eek         at lIIIIIlll.IlllllIII.IIIlIllIl(Unknown Source) //method134 or something to do with player updating      ..." />
<meta name="twitter:description" content="I’m sure everyone knows one of the solutions to better switching, by prioritising the wear item packet over others, but when I seem to do it, on some occasions it seems to disconnect me from the game and I can’t figure out why this is happening or the logic behind it.  Here’s the error it gives me  Error: ohokay Too many players: j: 55, playerCount: 1 java.lang.RuntimeException: eek         at lIIIIIlll.IlllllIII.IIIlIllIl(Unknown Source) //method134 or something to do with player updating      ..." />
<meta property="article:published_time" content="2014-04-28T00:14:38+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="542602.html">Packet errors with switching?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-28T00:14:38Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:03:41Z' class='post-time'>
              August 4, 2016,  1:03pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m sure everyone knows one of the solutions to better switching, by prioritising the wear item packet over others, but when I seem to do it, on some occasions it seems to disconnect me from the game and I can’t figure out why this is happening or the logic behind it.</p>
<p>Here’s the error it gives me</p>
<pre><code class="lang-auto">Error: ohokay Too many players: j: 55, playerCount: 1
java.lang.RuntimeException: eek
        at lIIIIIlll.IlllllIII.IIIlIllIl(Unknown Source) //method134 or something to do with player updating
        at lIIIIIlll.IlllllIII.lIIIIIlll(Unknown Source)
        at lIIIIIlll.IlllllIII.IIlIIlIlI(Unknown Source)
        at lIIIIIlll.IlllllIII.lIIIIIlll(Unknown Source)
        at lIIIIIlll.lIIlllIIl.run(Unknown Source)
        at lIIIIIlll.IlllllIII.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)
Error: T2 - 81,174,126 - 79,3099,3530 - -94,111,-1,-128,1,0,0,81,1,-40,8,0,1,0,0
,0,0,-61,1,9,-1,44,76,76,-89,27,-71,24,66,43,55,55,-86,0,39,-52,0,31,38,29,8,0,1
,1,2,5,2,3,40,3,</code></pre>
<p>Here’s the code that handles the packet</p>
<pre><code class="lang-auto">			if (packet.getId() == 41) {
				plr.wearId = packet.readUnsignedWord();
				plr.wearSlot = packet.readUnsignedWordA();
				plr.interfaceId = packet.readUnsignedWordA();
				plr.getItems().wearItem(plr.wearId, plr.wearSlot);
				return;
			}</code></pre>
<p>It’s definitely something to do with this because the dcing only occurs when this code is active.</p>
<pre><code class="lang-auto">   private void method134(Stream stream) {
        int j = stream.readBits(8);
        if (j &lt; playerCount) {
            for (int k = j; k &lt; playerCount; k++) {
                anIntArray840[anInt839++] = playerIndices[k];
            }

        }
        if (j &gt; playerCount) {
            SignLink.reporterror(myUsername + " Too many players: j: " + j + ", playerCount: " + playerCount);
            throw new RuntimeException("eek");
        }
        playerCount = 0;
        for (int l = 0; l &lt; j; l++) {
            int i1 = playerIndices[l];
            Player player = playerArray[i1];
            int j1 = stream.readBits(1);
            if (j1 == 0) {
                playerIndices[playerCount++] = i1;
                player.anInt1537 = loopCycle;
            } else {
                int k1 = stream.readBits(2);
                if (k1 == 0) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    anIntArray894[anInt893++] = i1;
                } else if (k1 == 1) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    int l1 = stream.readBits(3);
                    player.moveInDir(false, l1);
                    int j2 = stream.readBits(1);
                    if (j2 == 1) {
                        anIntArray894[anInt893++] = i1;
                    }
                } else if (k1 == 2) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    int i2 = stream.readBits(3);
                    player.moveInDir(true, i2);
                    int k2 = stream.readBits(3);
                    player.moveInDir(true, k2);
                    int l2 = stream.readBits(1);
                    if (l2 == 1) {
                        anIntArray894[anInt893++] = i1;
                    }
                } else if (k1 == 3) {
                    anIntArray840[anInt839++] = i1;
                }
            }
        }
    }</code></pre>
<p>It’s a rare occurance that I can’t seem to replicate, but happens when switching items, switching to spec etc…</p>
<p>I was thinking it was because of perhaps it’s reading the wrong packets or wrong data from somewhere but I’ve checked packet 41 and it seems to be sending the correct data from the client.</p>
<p>Any ideas what might be the cause?</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-28T17:29:06Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:03:53Z' class='post-time'>
              August 4, 2016,  1:03pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>T2 - 81,174,126 - 79,3099,3530 - -94,111,-1,-128,1,0,0,81,1,-40,8,0,1,0,0
,0,0,-61,1,9,-1,44,76,76,-89,27,-71,24,66,43,55,55,-86,0,39,-52,0,31,38,29,8,0,1
,1,2,5,2,3,40,3,</code></p>
<p>T2 - Exception caught during packet handling</p>
<p>T2 -  ,  ,  -  ,  ,  - </p>
<p>Good luck <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>**EDIT: <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/RuntimeException.html" rel="nofollow noopener">http://docs.oracle.com/javase/6/docs/api/java/lang/RuntimeException.html</a></p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-29T09:06:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:04:07Z' class='post-time'>
              August 4, 2016,  1:04pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I know what they both are…</p>
<p>What I’m trying to find out is why it is causing these errors when it shouldn’t.</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-29T17:45:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:04:12Z' class='post-time'>
              August 4, 2016,  1:04pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ohokay, post:3, topic:542602”]I know what they both are…</p>
<p>What I’m trying to find out is why it is causing these errors when it shouldn’t.[/quote]<br>
Think like that: Why shouldn’t it give errors?</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-29T20:51:25Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:04:14Z' class='post-time'>
              August 4, 2016,  1:04pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“xXSh0ckXx, post:4, topic:542602”][quote author=ohokay link=topic=661475.msg4421724#msg4421724 date=1398762393]<br>
I know what they both are…</p>
<p>What I’m trying to find out is why it is causing these errors when it shouldn’t.<br>
[/quote]<br>
Think like that: Why shouldn’t it give errors?[/quote]</p>
<p>What are you even saying?</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-29T20:55:52Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:04:14Z' class='post-time'>
              August 4, 2016,  1:04pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ohokay, post:5, topic:542602”][quote author=xXSh0ckXx link=topic=661475.msg4421773#msg4421773 date=1398793509]</p>
<aside class="quote">
<blockquote>
<p>I know what they both are…</p>
<p>What I’m trying to find out is why it is causing these errors when it shouldn’t.</p>
</blockquote>
</aside>
<p>Think like that: Why shouldn’t it give errors?<br>
[/quote]</p>
<p>What are you even saying?[/quote]<br>
Just think. If you can’t seem to fix it, rip a packet method off a different source.</p>
<p>And don’t edit the error’s you’re getting as they’re confusing when in an error a comment appears lol.</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-29T21:00:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:04:14Z' class='post-time'>
              August 4, 2016,  1:04pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“xXSh0ckXx, post:6, topic:542602”][quote author=ohokay link=topic=661475.msg4421799#msg4421799 date=1398804685]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I know what they both are…</p>
<p>What I’m trying to find out is why it is causing these errors when it shouldn’t.</p>
</blockquote>
</aside>
<p>Think like that: Why shouldn’t it give errors?</p>
</blockquote>
</aside>
<p>What are you even saying?<br>
[/quote]<br>
Just think. If you can’t seem to fix it, rip a packet method off a different source.</p>
<p>And don’t edit the error’s you’re getting as they’re confusing when in an error a comment appears lol.[/quote]</p>
<p>I have already said in my original post that it is sending the correct data, and is reading the correct data for packet 41.</p>
<p>I haven’t edited anything, that is the obfuscated client output and I posted a comment next to it saying what method it is. But that’s not important, you can tell the methods from the first line of the error.</p>
<p>Any useful help?</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-30T09:09:51Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:04:21Z' class='post-time'>
              August 4, 2016,  1:04pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ohokay, post:7, topic:542602”][quote author=xXSh0ckXx link=topic=661475.msg4421800#msg4421800 date=1398804952]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I know what they both are…</p>
<p>What I’m trying to find out is why it is causing these errors when it shouldn’t.</p>
</blockquote>
</aside>
<p>Think like that: Why shouldn’t it give errors?</p>
</blockquote>
</aside>
<p>What are you even saying?</p>
</blockquote>
</aside>
<p>Just think. If you can’t seem to fix it, rip a packet method off a different source.</p>
<p>And don’t edit the error’s you’re getting as they’re confusing when in an error a comment appears lol.<br>
[/quote]</p>
<p>I have already said in my original post that it is sending the correct data, and is reading the correct data for packet 41.</p>
<p>I haven’t edited anything, that is the obfuscated client output and I posted a comment next to it saying what method it is. But that’s not important, you can tell the methods from the first line of the error.</p>
<p>Any useful help?[/quote]</p>
<p>The packet seems to be legit.<br>
Go for method134 and post it here. I’m sure the local player updating is for the appearance only (correct me if i’m wrong). I’m not that good with PI’s.</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-30T17:22:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:04:25Z' class='post-time'>
              August 4, 2016,  1:04pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“xXSh0ckXx, post:8, topic:542602”][quote author=ohokay link=topic=661475.msg4421801#msg4421801 date=1398805215]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I know what they both are…</p>
<p>What I’m trying to find out is why it is causing these errors when it shouldn’t.</p>
</blockquote>
</aside>
<p>Think like that: Why shouldn’t it give errors?</p>
</blockquote>
</aside>
<p>What are you even saying?</p>
</blockquote>
</aside>
<p>Just think. If you can’t seem to fix it, rip a packet method off a different source.</p>
<p>And don’t edit the error’s you’re getting as they’re confusing when in an error a comment appears lol.</p>
</blockquote>
</aside>
<p>I have already said in my original post that it is sending the correct data, and is reading the correct data for packet 41.</p>
<p>I haven’t edited anything, that is the obfuscated client output and I posted a comment next to it saying what method it is. But that’s not important, you can tell the methods from the first line of the error.</p>
<p>Any useful help?<br>
[/quote]</p>
<p>The packet seems to be legit.<br>
Go for method60 and post it here. I’m sure the local player updating is for the appearance only (correct me if i’m wrong). I’m not that good with PI’s.[/quote]</p>
<pre><code class="lang-auto">   private void method134(Stream stream) {
        int j = stream.readBits(8);
        if (j &lt; playerCount) {
            for (int k = j; k &lt; playerCount; k++) {
                anIntArray840[anInt839++] = playerIndices[k];
            }

        }
        if (j &gt; playerCount) {
            SignLink.reporterror(myUsername + " Too many players: j: " + j + ", playerCount: " + playerCount);
            throw new RuntimeException("eek");
        }
        playerCount = 0;
        for (int l = 0; l &lt; j; l++) {
            int i1 = playerIndices[l];
            Player player = playerArray[i1];
            int j1 = stream.readBits(1);
            if (j1 == 0) {
                playerIndices[playerCount++] = i1;
                player.anInt1537 = loopCycle;
            } else {
                int k1 = stream.readBits(2);
                if (k1 == 0) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    anIntArray894[anInt893++] = i1;
                } else if (k1 == 1) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    int l1 = stream.readBits(3);
                    player.moveInDir(false, l1);
                    int j2 = stream.readBits(1);
                    if (j2 == 1) {
                        anIntArray894[anInt893++] = i1;
                    }
                } else if (k1 == 2) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    int i2 = stream.readBits(3);
                    player.moveInDir(true, i2);
                    int k2 = stream.readBits(3);
                    player.moveInDir(true, k2);
                    int l2 = stream.readBits(1);
                    if (l2 == 1) {
                        anIntArray894[anInt893++] = i1;
                    }
                } else if (k1 == 3) {
                    anIntArray840[anInt839++] = i1;
                }
            }
        }
    }</code></pre>
<p>I’m just trying to understand why it’s happening.</p>
<pre><code class="lang-auto">j = stream.readBits(8);</code></pre>
<p>Seems to be the issue but this method doesn’t need editing, it’s the data that is being read/sent from the server.</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-30T21:23:50Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:04:26Z' class='post-time'>
              August 4, 2016,  1:04pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ohokay, post:9, topic:542602”][quote author=xXSh0ckXx link=topic=661475.msg4421906#msg4421906 date=1398848991]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I know what they both are…</p>
<p>What I’m trying to find out is why it is causing these errors when it shouldn’t.</p>
</blockquote>
</aside>
<p>Think like that: Why shouldn’t it give errors?</p>
</blockquote>
</aside>
<p>What are you even saying?</p>
</blockquote>
</aside>
<p>Just think. If you can’t seem to fix it, rip a packet method off a different source.</p>
<p>And don’t edit the error’s you’re getting as they’re confusing when in an error a comment appears lol.</p>
</blockquote>
</aside>
<p>I have already said in my original post that it is sending the correct data, and is reading the correct data for packet 41.</p>
<p>I haven’t edited anything, that is the obfuscated client output and I posted a comment next to it saying what method it is. But that’s not important, you can tell the methods from the first line of the error.</p>
<p>Any useful help?</p>
</blockquote>
</aside>
<p>The packet seems to be legit.<br>
Go for method60 and post it here. I’m sure the local player updating is for the appearance only (correct me if i’m wrong). I’m not that good with PI’s.<br>
[/quote]</p>
<pre><code class="lang-auto">   private void method134(Stream stream) {
        int j = stream.readBits(8);
        if (j &lt; playerCount) {
            for (int k = j; k &lt; playerCount; k++) {
                anIntArray840[anInt839++] = playerIndices[k];
            }

        }
        if (j &gt; playerCount) {
            SignLink.reporterror(myUsername + " Too many players: j: " + j + ", playerCount: " + playerCount);
            throw new RuntimeException("eek");
        }
        playerCount = 0;
        for (int l = 0; l &lt; j; l++) {
            int i1 = playerIndices[l];
            Player player = playerArray[i1];
            int j1 = stream.readBits(1);
            if (j1 == 0) {
                playerIndices[playerCount++] = i1;
                player.anInt1537 = loopCycle;
            } else {
                int k1 = stream.readBits(2);
                if (k1 == 0) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    anIntArray894[anInt893++] = i1;
                } else if (k1 == 1) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    int l1 = stream.readBits(3);
                    player.moveInDir(false, l1);
                    int j2 = stream.readBits(1);
                    if (j2 == 1) {
                        anIntArray894[anInt893++] = i1;
                    }
                } else if (k1 == 2) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    int i2 = stream.readBits(3);
                    player.moveInDir(true, i2);
                    int k2 = stream.readBits(3);
                    player.moveInDir(true, k2);
                    int l2 = stream.readBits(1);
                    if (l2 == 1) {
                        anIntArray894[anInt893++] = i1;
                    }
                } else if (k1 == 3) {
                    anIntArray840[anInt839++] = i1;
                }
            }
        }
    }</code></pre>
<p>I’m just trying to understand why it’s happening.</p>
<pre><code class="lang-auto">j = stream.readBits(8);</code></pre>
<p>Seems to be the issue but this method doesn’t need editing, it’s the data that is being read/sent from the server.[/quote]<br>
Confusing. It’s so fking confused, i’m glad that i’ve moved into 718’s.<br>
Alright, let’s go ahead.</p>
<p>As you can see the for loop has an int called k, which assigns to itself j. Open declaration of playerIndices.</p>
<pre><code class="lang-auto">        int j = stream.readBits(8);
            for (int k = j; k &lt; playerCount; k++) {
                anIntArray840[anInt839++] = playerIndices[k];
            }</code></pre>
<p>Maybe is it increasing the Bits read ?<br>
As you can see, k equals j, and after playerCount k is getting increased</p>
<p>[code=java]<br>
for (int k = j; k &lt; playerCount; k++) {<br>
[/java]<br>
This is basically k</p>
<p><code>
 int j = stream.readBits(8);
[/java]</code></p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-01T12:38:56Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:04:38Z' class='post-time'>
              August 4, 2016,  1:04pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Lol I can see how it works, I stated that in my first post. I’m looking for why it happens with the code I added</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xXSh0ckXx.html'><span itemprop='name'>xXSh0ckXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-02T09:09:04Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:05:05Z' class='post-time'>
              August 4, 2016,  1:05pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="11" data-topic="542602">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ohokay/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> ohokay:</div>
<blockquote>
<p>Lol I can see how it works, I stated that in my first post. I’m looking for why it happens with the code I added</p>
</blockquote>
</aside>
<p>:palm: I’ve attached a link to the oracle docs in one of the previous posts about how a runtime exception but k…</p>
<p>[spoiler=How Runtime Exception’s get causes.]Runtime exceptions represent problems that are the result of a programming problem, and as such, the API client code cannot reasonably be expected to recover from them or to handle them in any way. Such problems include arithmetic exceptions, such as dividing by zero; pointer exceptions, such as trying to access an object through a null reference; and indexing exceptions, such as attempting to access an array element through an index that is too large or too small.[/spoiler]</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-02T11:15:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:05:06Z' class='post-time'>
              August 4, 2016,  1:05pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don’t think you understand… I know what a runtime exception is.</p>
<p>I’m asking WHY this error is caused from the code I added. All it does is read the values from packet 41 and equip the item</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/matzie.html'><span itemprop='name'>matzie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-03T01:20:02Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:05:15Z' class='post-time'>
              August 4, 2016,  1:05pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ohokay, post:1, topic:542602”]I’m sure everyone knows one of the solutions to better switching, by prioritising the wear item packet over others, but when I seem to do it, on some occasions it seems to disconnect me from the game and I can’t figure out why this is happening or the logic behind it.</p>
<p>Here’s the error it gives me</p>
<pre><code class="lang-auto">Error: ohokay Too many players: j: 55, playerCount: 1
java.lang.RuntimeException: eek
        at lIIIIIlll.IlllllIII.IIIlIllIl(Unknown Source) //method134 or something to do with player updating
        at lIIIIIlll.IlllllIII.lIIIIIlll(Unknown Source)
        at lIIIIIlll.IlllllIII.IIlIIlIlI(Unknown Source)
        at lIIIIIlll.IlllllIII.lIIIIIlll(Unknown Source)
        at lIIIIIlll.lIIlllIIl.run(Unknown Source)
        at lIIIIIlll.IlllllIII.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)
Error: T2 - 81,174,126 - 79,3099,3530 - -94,111,-1,-128,1,0,0,81,1,-40,8,0,1,0,0
,0,0,-61,1,9,-1,44,76,76,-89,27,-71,24,66,43,55,55,-86,0,39,-52,0,31,38,29,8,0,1
,1,2,5,2,3,40,3,</code></pre>
<p>Here’s the code that handles the packet</p>
<pre><code class="lang-auto">			if (packet.getId() == 41) {
				plr.wearId = packet.readUnsignedWord();
				plr.wearSlot = packet.readUnsignedWordA();
				plr.interfaceId = packet.readUnsignedWordA();
				plr.getItems().wearItem(plr.wearId, plr.wearSlot);
				return;
			}</code></pre>
<p>It’s definitely something to do with this because the dcing only occurs when this code is active.</p>
<pre><code class="lang-auto">   private void method134(Stream stream) {
        int j = stream.readBits(8);
        if (j &lt; playerCount) {
            for (int k = j; k &lt; playerCount; k++) {
                anIntArray840[anInt839++] = playerIndices[k];
            }

        }
        if (j &gt; playerCount) {
            SignLink.reporterror(myUsername + " Too many players: j: " + j + ", playerCount: " + playerCount);
            throw new RuntimeException("eek");
        }
        playerCount = 0;
        for (int l = 0; l &lt; j; l++) {
            int i1 = playerIndices[l];
            Player player = playerArray[i1];
            int j1 = stream.readBits(1);
            if (j1 == 0) {
                playerIndices[playerCount++] = i1;
                player.anInt1537 = loopCycle;
            } else {
                int k1 = stream.readBits(2);
                if (k1 == 0) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    anIntArray894[anInt893++] = i1;
                } else if (k1 == 1) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    int l1 = stream.readBits(3);
                    player.moveInDir(false, l1);
                    int j2 = stream.readBits(1);
                    if (j2 == 1) {
                        anIntArray894[anInt893++] = i1;
                    }
                } else if (k1 == 2) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    int i2 = stream.readBits(3);
                    player.moveInDir(true, i2);
                    int k2 = stream.readBits(3);
                    player.moveInDir(true, k2);
                    int l2 = stream.readBits(1);
                    if (l2 == 1) {
                        anIntArray894[anInt893++] = i1;
                    }
                } else if (k1 == 3) {
                    anIntArray840[anInt839++] = i1;
                }
            }
        }
    }</code></pre>
<p>It’s a rare occurance that I can’t seem to replicate, but happens when switching items, switching to spec etc…</p>
<p>I was thinking it was because of perhaps it’s reading the wrong packets or wrong data from somewhere but I’ve checked packet 41 and it seems to be sending the correct data from the client.</p>
<p>Any ideas what might be the cause?[/quote]</p>
<blockquote>Error: T2 - 81,174,126 - 79,3099,3530 - -94,111,-1,-128,1,0,0,81,1,-40,8,0,1,0,0
,0,0,-61,1,9,-1,44,76,76,-89,27,-71,24,66,43,55,55,-86,0,39,-52,0,31,38,29,8,0,1
,1,2,5,2,3,40,3,</blockquote>
That is the packet id read in when it threw the exception.
you keep saying that packet 41 is the one you prioritized... See where the conflict is now?
41 != 81
I don't know if you understand the error people are telling you.
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-03T17:30:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:05:27Z' class='post-time'>
              August 4, 2016,  1:05pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“matzie, post:14, topic:542602”][quote author=ohokay link=topic=661475.msg4421411#msg4421411 date=1398644078]<br>
I’m sure everyone knows one of the solutions to better switching, by prioritising the wear item packet over others, but when I seem to do it, on some occasions it seems to disconnect me from the game and I can’t figure out why this is happening or the logic behind it.</p>
<p>Here’s the error it gives me</p>
<pre><code class="lang-auto">Error: ohokay Too many players: j: 55, playerCount: 1
java.lang.RuntimeException: eek
        at lIIIIIlll.IlllllIII.IIIlIllIl(Unknown Source) //method134 or something to do with player updating
        at lIIIIIlll.IlllllIII.lIIIIIlll(Unknown Source)
        at lIIIIIlll.IlllllIII.IIlIIlIlI(Unknown Source)
        at lIIIIIlll.IlllllIII.lIIIIIlll(Unknown Source)
        at lIIIIIlll.lIIlllIIl.run(Unknown Source)
        at lIIIIIlll.IlllllIII.run(Unknown Source)
        at java.lang.Thread.run(Unknown Source)
Error: T2 - 81,174,126 - 79,3099,3530 - -94,111,-1,-128,1,0,0,81,1,-40,8,0,1,0,0
,0,0,-61,1,9,-1,44,76,76,-89,27,-71,24,66,43,55,55,-86,0,39,-52,0,31,38,29,8,0,1
,1,2,5,2,3,40,3,</code></pre>
<p>Here’s the code that handles the packet</p>
<pre><code class="lang-auto">			if (packet.getId() == 41) {
				plr.wearId = packet.readUnsignedWord();
				plr.wearSlot = packet.readUnsignedWordA();
				plr.interfaceId = packet.readUnsignedWordA();
				plr.getItems().wearItem(plr.wearId, plr.wearSlot);
				return;
			}</code></pre>
<p>It’s definitely something to do with this because the dcing only occurs when this code is active.</p>
<pre><code class="lang-auto">   private void method134(Stream stream) {
        int j = stream.readBits(8);
        if (j &lt; playerCount) {
            for (int k = j; k &lt; playerCount; k++) {
                anIntArray840[anInt839++] = playerIndices[k];
            }

        }
        if (j &gt; playerCount) {
            SignLink.reporterror(myUsername + " Too many players: j: " + j + ", playerCount: " + playerCount);
            throw new RuntimeException("eek");
        }
        playerCount = 0;
        for (int l = 0; l &lt; j; l++) {
            int i1 = playerIndices[l];
            Player player = playerArray[i1];
            int j1 = stream.readBits(1);
            if (j1 == 0) {
                playerIndices[playerCount++] = i1;
                player.anInt1537 = loopCycle;
            } else {
                int k1 = stream.readBits(2);
                if (k1 == 0) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    anIntArray894[anInt893++] = i1;
                } else if (k1 == 1) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    int l1 = stream.readBits(3);
                    player.moveInDir(false, l1);
                    int j2 = stream.readBits(1);
                    if (j2 == 1) {
                        anIntArray894[anInt893++] = i1;
                    }
                } else if (k1 == 2) {
                    playerIndices[playerCount++] = i1;
                    player.anInt1537 = loopCycle;
                    int i2 = stream.readBits(3);
                    player.moveInDir(true, i2);
                    int k2 = stream.readBits(3);
                    player.moveInDir(true, k2);
                    int l2 = stream.readBits(1);
                    if (l2 == 1) {
                        anIntArray894[anInt893++] = i1;
                    }
                } else if (k1 == 3) {
                    anIntArray840[anInt839++] = i1;
                }
            }
        }
    }</code></pre>
<p>It’s a rare occurance that I can’t seem to replicate, but happens when switching items, switching to spec etc…</p>
<p>I was thinking it was because of perhaps it’s reading the wrong packets or wrong data from somewhere but I’ve checked packet 41 and it seems to be sending the correct data from the client.</p>
<p>Any ideas what might be the cause?<br>
[/quote]</p>
<p>[quote]Error: T2 - 81,174,126 - 79,3099,3530 - -94,111,-1,-128,1,0,0,81,1,-40,8,0,1,0,0<br>
,0,0,-61,1,9,-1,44,76,76,-89,27,-71,24,66,43,55,55,-86,0,39,-52,0,31,38,29,8,0,1<br>
,1,2,5,2,3,40,3,[/quote]<br>
That is the packet id read in when it threw the exception.<br>
you keep saying that packet 41 is the one you prioritized… See where the conflict is now?<br>
41 != 81<br>
I don’t know if you understand the error people are telling you.[/quote]</p>
<p>I can see that lol. That brings me to my actual question. Why is this happening?</p>
<p>You can see from the code I have added like 4 lines? Why does that throw the error and in other bases it doesn’t</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/matzie.html'><span itemprop='name'>matzie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-03T17:45:51Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:05:28Z' class='post-time'>
              August 4, 2016,  1:05pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Look for the code in your server that handles packet 81. Your packet 41 is the equip packet.<br>
The only thing i could guess is your PacketHandler (for Writing to the stream) is not synchronized between threads in your server and is having multiple ones written at the same time.</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-05T14:05:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:06:06Z' class='post-time'>
              August 4, 2016,  1:06pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“matzie, post:16, topic:542602”]Look for the code in your server that handles packet 81. Your packet 41 is the equip packet.<br>
The only thing i could guess is your PacketHandler (for Writing to the stream) is not synchronized between threads in your server and is having multiple ones written at the same time.[/quote]</p>
<pre><code class="lang-auto">		if (didTeleport) {
			str.createPacketReservedWord(81);
			str.bitAccess();
			str.writeBits(1, 1);
			str.writeBits(2, 3);
			str.writeBits(2, heightLevel);
			str.writeBits(1, 1);
			str.writeBits(1, (updateRequired) ? 1 : 0);
			str.writeBits(7, currentY);
			str.writeBits(7, currentX);
			return;
		}</code></pre>
<p>Player updating I’m guessing.</p>
<p>The last point would probably be a better explanation. Writing the packet 41 as well as other packets at the same time because they’re not in a queue any more. I’ll give it a shot</p>
<p>Edit: Even after synchronising the packet execution again for the new code it still throws the same error from time to time.</p>
      </div>

      <meta itemprop='headline' content='Packet errors with switching?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/packet-errors-with-switching/542602 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 02:45:56 GMT -->
</html>
