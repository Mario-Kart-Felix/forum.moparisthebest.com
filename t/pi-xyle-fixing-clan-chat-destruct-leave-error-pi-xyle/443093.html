<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-xyle-fixing-clan-chat-destruct-leave-error-pi-xyle/443093 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 08:11:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PI/XYLE] Fixing Clan chat destruct/leave error[PI/XYLE] - Runescape - moparisthebest.com</title>
    <meta name="description" content="I haven&amp;#39;t been at this site in a LONG LONG Time... about 4 months.. 

Hopefully this helps someone.. 

[size=12pt][u]What You Are Fixing[/u][/size]:  

 [5/26/12 12:16 AM]: java.lang.ArrayIndexOutOfBoundsException: -1
[5&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="443093.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PI/XYLE] Fixing Clan chat destruct/leave error[PI/XYLE]&#39;" href="443093.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-xyle-fixing-clan-chat-destruct-leave-error-pi-xyle/443093" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-xyle-fixing-clan-chat-destruct-leave-error-pi-xyle/443093" />
<meta property="og:title" content="[PI/XYLE] Fixing Clan chat destruct/leave error[PI/XYLE]" />
<meta name="twitter:title" content="[PI/XYLE] Fixing Clan chat destruct/leave error[PI/XYLE]" />
<meta property="og:description" content="I haven’t been at this site in a LONG LONG Time… about 4 months…  Hopefully this helps someone…  [size=12pt]What You Are Fixing[/size]:  [5/26/12 12:16 AM]: java.lang.ArrayIndexOutOfBoundsException: -1 [5/26/12 12:16 AM]:     at server.world.ClanChatHandler.leaveClan(ClanChatHandle r.java:343) [5/26/12 12:16 AM]:     at server.model.players.packets.ClickingButtons.processP acket(ClickingButtons.java:242) [5/26/12 12:16 AM]:     at server.model.players.PacketHandler.processPacket(Pack etHandler.j..." />
<meta name="twitter:description" content="I haven’t been at this site in a LONG LONG Time… about 4 months…  Hopefully this helps someone…  [size=12pt]What You Are Fixing[/size]:  [5/26/12 12:16 AM]: java.lang.ArrayIndexOutOfBoundsException: -1 [5/26/12 12:16 AM]:     at server.world.ClanChatHandler.leaveClan(ClanChatHandle r.java:343) [5/26/12 12:16 AM]:     at server.model.players.packets.ClickingButtons.processP acket(ClickingButtons.java:242) [5/26/12 12:16 AM]:     at server.model.players.PacketHandler.processPacket(Pack etHandler.j..." />
<meta property="article:published_time" content="2012-05-25T14:44:54+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="443093.html">[PI/XYLE] Fixing Clan chat destruct/leave error[PI/XYLE]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/C_Imbued.html'><span itemprop='name'>C_Imbued</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-05-25T14:44:54Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:50:34Z' class='post-time'>
              August 3, 2016,  2:50am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I haven’t been at this site in a LONG LONG Time… about 4 months…</p>
<p>Hopefully this helps someone…</p>
<p>[size=12pt]<span class="bbcode-u">What You Are Fixing</span>[/size]:</p>
<p><code>[5/26/12 12:16 AM]: java.lang.ArrayIndexOutOfBoundsException: -1
[5/26/12 12:16 AM]:     at server.world.ClanChatHandler.leaveClan(ClanChatHandle
r.java:343)
[5/26/12 12:16 AM]:     at server.model.players.packets.ClickingButtons.processP
acket(ClickingButtons.java:242)
[5/26/12 12:16 AM]:     at server.model.players.PacketHandler.processPacket(Pack
etHandler.java:139)
[5/26/12 12:16 AM]:     at server.model.players.Client.processQueuedPackets(Clie
nt.java:1062)
[5/26/12 12:16 AM]:     at server.model.players.PlayerHandler.process(PlayerHand
ler.java:138)
[5/26/12 12:16 AM]:     at server.Server.main(Server.java:137)</code></p>
<p>In src/server/world/clanchathandler.java</p>
<p><span class="bbcode-u">Find</span>:</p>
<pre><code class="lang-auto"></code></pre>
<p>Replace with:</p>
<p>[code]public void leaveClan(int playerId, int clanId) {<br>
if (clanId &lt; 0) {<br>
Client c = (Client)Server.playerHandler.players[playerId];<br>
c.sendMessage(“You aren’t in a Clan Chat channel”);<br>
return;		<br>
}<br>
if (clans[clanId] != null) {<br>
if (Server.playerHandler.players[playerId] != null) {<br>
Client c = (Client)Server.playerHandler.players[playerId];<br>
Server.playerHandler.players[playerId].clanId = -1;<br>
c.sendMessage(“You have left the channel.”);<br>
c.getPA().clearClanChat();<br>
for (int j = 0; j &lt; clans[clanId].members.length; j++) {<br>
if (clans[clanId].members[j] == playerId) {<br>
messageToClan(Server.playerHandler.players[playerId].playerName + " has left the channel.", clanId);<br>
clans[clanId].members[j] = -1;<br>
}<br>
}</p>
<pre><code>			for (int j = 0; j &lt; clans[clanId].members.length; j++)
			if(clans[clanId].members[j] == playerId)
			   clans[clanId].members[j] = -1;
		}
		updateClanChat(clanId);
	} else {
		Client c = (Client)Server.playerHandler.players[playerId];
		Server.playerHandler.players[playerId].clanId = -1;
		c.sendMessage("You aren't in a Clan Chat channel");
	}
}[/code]
</code></pre>
<p>Now let me go into more detail basicly this problem was not only causing an error in your CMD. it also allows you to spam your name in the clan chat filter say for example.</p>
<p>You leave the channel says you’ve left, however if your friend is in the clan chat it says you are still in it this meaning, you can rejoin and leave and rejoin blah blah and have your name in there like 5 times or however many times you want.</p>
<p>Enjoy whoever needed it…</p>
<p>also this is not only for xyle or w/e it’s for whoever has that error.</p>
      </div>

      <meta itemprop='headline' content='[PI/XYLE] Fixing Clan chat destruct/leave error[PI/XYLE]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Loveandpower.html'><span itemprop='name'>Loveandpower</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-05-25T20:39:20Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:50:45Z' class='post-time'>
              August 3, 2016,  2:50am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I  made a  better  fix for this for the original runefx a long long time ago.</p>
<p>good job though.</p>
      </div>

      <meta itemprop='headline' content='[PI/XYLE] Fixing Clan chat destruct/leave error[PI/XYLE]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-xyle-fixing-clan-chat-destruct-leave-error-pi-xyle/443093 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 08:11:45 GMT -->
</html>
