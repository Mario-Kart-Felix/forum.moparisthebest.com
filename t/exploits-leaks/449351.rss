<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Exploits &amp; leaks</title>
    <link>https://forum.moparisthebest.com/t/exploits-leaks/449351</link>
    <description>For those who currently run servers and have encountered problems, could you list them here? I know of the tiles leak, the ConcurrentModification exceptions, and the disconnection problem &amp; leak. Are there any others you&#39;re aware of? Appreciate it.</description>
    
    <lastBuildDate>Sat, 14 Jul 2012 10:23:59 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@Nothing1 -Nothing]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nothing1">@Nothing1</a> wrote:</p>
          <blockquote>
              <p>[quote=“CodeForFame, post:12, topic:449351”][quote author=-Nothing link=topic=552249.msg4047751#msg4047751 date=1342216577]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>And if client does not send ping packet for 30 seconds it’s removed.</p>
</blockquote>
</aside>
<p>I just looked, this is correct in v4. I can’t be bothered to verify for v25/any other. Glad to see there wasn’t a leak.</p>
</blockquote>
</aside>
<p>It’s on all RSCD versions.</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>The fact is that there’s no need to queue them, both incoming and outgoing packets should always be handled when received/requested to be sent.</p>
</blockquote>
</aside>
<p>Why do you think this?</p>
</blockquote>
</aside>
<p>It’s just how servers are supposed to operate, everything should be handled immediatly to reduce the latency for clients, to create as lag free enviroment as possible. Do you see a reason why packets should be queued when being sent? Because I don’t.</p>
<p>There’s one thing that the incoming packets should be queued for, trade and duel offer update packets, which should be read at the order that they were sent. Otherwise you will receive very messy results.<br>
[/quote]All packets should be read in the order they’re received for each client. Also, if you queue packets you can filter out stale packets.[/quote]<br>
I figured that when I removed it. Outgoing packets don’t need to be queued though.</p>
<p>EDIT: I think that each clients packets should have personal queue instead of making them all go through same queue.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/13</link>
        <pubDate>Sat, 14 Jul 2012 10:23:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-13</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@CodeForFame CodeForFame]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/codeforfame">@CodeForFame</a> wrote:</p>
          <blockquote>
              <p>[quote="-Nothing, post:11, topic:449351"][quote author=Outspoken link=topic=552249.msg4047535#msg4047535 date=1342204926]</p>
<aside class="quote">
<blockquote>
<p>And if client does not send ping packet for 30 seconds it’s removed.</p>
</blockquote>
</aside>
<p>I just looked, this is correct in v4. I can’t be bothered to verify for v25/any other. Glad to see there wasn’t a leak.<br>
[/quote]<br>
It’s on all RSCD versions.</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>The fact is that there’s no need to queue them, both incoming and outgoing packets should always be handled when received/requested to be sent.</p>
</blockquote>
</aside>
<p>Why do you think this?</p>
</blockquote>
</aside>
<p>It’s just how servers are supposed to operate, everything should be handled immediatly to reduce the latency for clients, to create as lag free enviroment as possible. Do you see a reason why packets should be queued when being sent? Because I don’t.</p>
<p>There’s one thing that the incoming packets should be queued for, trade and duel offer update packets, which should be read at the order that they were sent. Otherwise you will receive very messy results.[/quote]All packets should be read in the order they’re received for each client. Also, if you queue packets you can filter out stale packets.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/12</link>
        <pubDate>Fri, 13 Jul 2012 23:32:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-12</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@Nothing1 -Nothing]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nothing1">@Nothing1</a> wrote:</p>
          <blockquote>
              <p>[quote=“Outspoken, post:10, topic:449351”][quote author=-Nothing link=topic=552249.msg4047303#msg4047303 date=1342191258]<br>
And if client does not send ping packet for 30 seconds it’s removed.<br>
[/quote]</p>
<p>I just looked, this is correct in v4. I can’t be bothered to verify for v25/any other. Glad to see there wasn’t a leak.[/quote]<br>
It’s on all RSCD versions.</p>
<p>[quote=“Outspoken, post:10, topic:449351”][quote author=-Nothing link=topic=552249.msg4046005#msg4046005 date=1342117869]<br>
The fact is that there’s no need to queue them, both incoming and outgoing packets should always be handled when received/requested to be sent.<br>
[/quote]<br>
Why do you think this?[/quote]<br>
It’s just how servers are supposed to operate, everything should be handled immediatly to reduce the latency for clients, to create as lag free enviroment as possible. Do you see a reason why packets should be queued when being sent? Because I don’t.</p>
<p>There’s one thing that the incoming packets should be queued for, trade and duel offer update packets, which should be read at the order that they were sent. Otherwise you will receive very messy results.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/11</link>
        <pubDate>Fri, 13 Jul 2012 21:56:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-11</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@Outspoken Outspoken]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/outspoken">@Outspoken</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="8" data-topic="449351">
<div class="title">
<div class="quote-controls"></div>
 -Nothing:</div>
<blockquote>
<p>And if client does not send ping packet for 30 seconds it’s removed.</p>
</blockquote>
</aside>
<p>I just looked, this is correct in v4. I can’t be bothered to verify for v25/any other. Glad to see there wasn’t a leak.</p>
<aside class="quote quote-modified" data-post="4" data-topic="449351">
<div class="title">
<div class="quote-controls"></div>
 -Nothing:</div>
<blockquote>
<p>The fact is that there’s no need to queue them, both incoming and outgoing packets should always be handled when received/requested to be sent.</p>
</blockquote>
</aside>
<p>Why do you think this?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/10</link>
        <pubDate>Fri, 13 Jul 2012 18:42:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-10</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@amfg amfg]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/amfg">@amfg</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="8" data-topic="449351">
<div class="title">
<div class="quote-controls"></div>
 -Nothing:</div>
<blockquote>
<p>I’m not sure how it was on untouched rsc client.(I would appreciate if someone gave me link ).</p>
</blockquote>
</aside>
<pre><code class="lang-auto">	public void sendPing() {
		long curtime = System.currentTimeMillis();
		if (stream.method333())
			last_ping = curtime;
		if (curtime - last_ping &gt; 5000L) {
			last_ping = curtime;
			stream.createFrame(67);
			stream.finishFrame();
		}
		try {
			stream.writePacket(20);
		} catch (IOException ex) {
			lostConnection();
			return;
		}
		int i = stream.readPacket(pdata);
		if (i &gt; 0)
			parseIncomingData(pdata[0] &amp; 0xff, i);
	}</code></pre>
<aside class="quote quote-modified" data-post="8" data-topic="449351">
<div class="title">
<div class="quote-controls"></div>
 -Nothing:</div>
<blockquote>
<p>Afaik items ‘dupe’ bug was clientsided, on the deob 202 client(MoparClassic) it clears all the ground items when worldinfo packet is sent. I’m not sure if that’s how it was in RS classic, or if it was added by someone from RSC community.</p>
</blockquote>
</aside>
<p>the ‘dupe’ is not present in jagex’s rsc.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/9</link>
        <pubDate>Fri, 13 Jul 2012 17:37:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-9</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@Nothing1 -Nothing]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nothing1">@Nothing1</a> wrote:</p>
          <blockquote>
              <p>[quote=“Outspoken, post:6, topic:449351”][quote author=-Nothing link=topic=552249.msg4046005#msg4046005 date=1342117869]<br>
What’s a disconnection leak?</p>
<p>I’ve fixed the ActiveTile leak and most of the CME problems(there were a lot of them since I went multithreaded). However even when using Netty there’s random disconnection problems which I haven’t fixed because server doesn’t print any errors.</p>
<p>On RSCD servers there’s only one CME problem I’m aware of and that is the outgoing packetQueue. The fact is that there’s no need to queue them, both incoming and outgoing packets should always be handled when received/requested to be sent.<br>
Here’s the fix for packetQueue CME:<br>
Switch <code>packets.add(s.toPacket())</code> with <code>player.getSession().write(s.toPacket())</code><br>
[/quote]</p>
<p>I forget who said this since it was a long time ago, but since Reines/whoever removed the ping-pong system in rscd for unknown reasons, there was no way of telling if that player disconnected, so that player stayed in the memory. I don’t believe anyone bothered to check but that’s on the todo list.</p>
<p>I also remember something being said of items not being removed correctly. I think that was client-sided?</p>
<p>Two players with the same uid is news to me, appreciate that.[/quote]<br>
There’s ping system still. Client sends ping actively every 5 seconds if no other packets are sent, and server sends updates every 600ms so there’s no need for ‘pong’, except if you want to calculate latency of course. And if client does not send ping packet for 30 seconds it’s removed. I’m not sure how it was on untouched rsc client.(I would appreciate if someone gave me link ).</p>
<p>Afaik items ‘dupe’ bug was clientsided, on the deob 202 client(MoparClassic) it clears all the ground items when worldinfo packet is sent. I’m not sure if that’s how it was in RS classic, or if it was added by someone from RSC community.</p>
<p>I’d also like to hear more about this [quote=“Outspoken, post:6, topic:449351”]Two players with the same uid is news to me, appreciate that.[/quote]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/8</link>
        <pubDate>Fri, 13 Jul 2012 14:54:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-8</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@The_Enforcer The Enforcer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_enforcer">@The_Enforcer</a> wrote:</p>
          <blockquote>
              <p>As most of you know, I am an expert in RSCD exploitation. Contact me via PM for details about ERET - Enforcer’s RSCD Exploitation Tool. Very useful if you want to test your server for vulnerabilities.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/7</link>
        <pubDate>Fri, 13 Jul 2012 08:38:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-7</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@Outspoken Outspoken]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/outspoken">@Outspoken</a> wrote:</p>
          <blockquote>
              <p>[quote="-Nothing, post:4, topic:449351"]What’s a disconnection leak?</p>
<p>I’ve fixed the ActiveTile leak and most of the CME problems(there were a lot of them since I went multithreaded). However even when using Netty there’s random disconnection problems which I haven’t fixed because server doesn’t print any errors.</p>
<p>On RSCD servers there’s only one CME problem I’m aware of and that is the outgoing packetQueue. The fact is that there’s no need to queue them, both incoming and outgoing packets should always be handled when received/requested to be sent.<br>
Here’s the fix for packetQueue CME:<br>
Switch <code>packets.add(s.toPacket())</code> with <code>player.getSession().write(s.toPacket())</code>[/quote]</p>
<p>I forget who said this since it was a long time ago, but since Reines/whoever removed the ping-pong system in rscd for unknown reasons, there was no way of telling if that player disconnected, so that player stayed in the memory. I don’t believe anyone bothered to check but that’s on the todo list.</p>
<p>I also remember something being said of items not being removed correctly. I think that was client-sided?</p>
<p>Two players with the same uid is news to me, appreciate that.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/6</link>
        <pubDate>Fri, 13 Jul 2012 00:35:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-6</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@Rodgerwilco Rodgerwilco]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/rodgerwilco">@Rodgerwilco</a> wrote:</p>
          <blockquote>
              <p>Two player having the same uid (rscdv25 contained this issue)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/5</link>
        <pubDate>Thu, 12 Jul 2012 22:14:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-5</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@Nothing1 -Nothing]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nothing1">@Nothing1</a> wrote:</p>
          <blockquote>
              <p>What’s a disconnection leak?</p>
<p>I’ve fixed the ActiveTile leak and most of the CME problems(there were a lot of them since I went multithreaded). However even when using Netty there’s random disconnection problems which I haven’t fixed because server doesn’t print any errors.</p>
<p>On RSCD servers there’s only one CME problem I’m aware of and that is the outgoing packetQueue. The fact is that there’s no need to queue them, both incoming and outgoing packets should always be handled when received/requested to be sent.<br>
Here’s the fix for packetQueue CME:<br>
Switch <code>packets.add(s.toPacket())</code> with <code>player.getSession().write(s.toPacket())</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/4</link>
        <pubDate>Thu, 12 Jul 2012 18:31:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-4</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@Outspoken Outspoken]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/outspoken">@Outspoken</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="449351">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/waj/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> waj:</div>
<blockquote>
<p>Duping, buffer overflow ectect</p>
</blockquote>
</aside>
<p>Could you be a little more specific?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/3</link>
        <pubDate>Thu, 12 Jul 2012 14:58:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-3</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@waj waj]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/waj">@waj</a> wrote:</p>
          <blockquote>
              <p>Duping, buffer overflow ectect</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/2</link>
        <pubDate>Thu, 12 Jul 2012 14:21:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-2</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
      <item>
        <title>Exploits &amp; leaks</title>
        <dc:creator><![CDATA[@Outspoken Outspoken]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/outspoken">@Outspoken</a> wrote:</p>
          <blockquote>
              <p>For those who currently run servers and have encountered problems, could you list them here? I know of the tiles leak, the ConcurrentModification exceptions, and the disconnection problem &amp; leak. Are there any others you’re aware of? Appreciate it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/exploits-leaks/449351/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/exploits-leaks/449351/1</link>
        <pubDate>Thu, 12 Jul 2012 08:18:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-449351-1</guid>
        <source url="https://forum.moparisthebest.com/t/exploits-leaks/449351.rss">Exploits &amp; leaks</source>
      </item>
  </channel>
</rss>
