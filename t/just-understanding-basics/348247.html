<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/just-understanding-basics/348247 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 18:12:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Just Understanding Basics - Runescape - moparisthebest.com</title>
    <meta name="description" content="So will someone give me research/documents on extracting clients from caches, find the login block, ect. 

Because I&amp;#39;m trying to get my 454 cache I have into a client. 

It would be great if you could just explain the ba&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="348247.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Just Understanding Basics&#39;" href="348247.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/just-understanding-basics/348247" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/just-understanding-basics/348247" />
<meta property="og:title" content="Just Understanding Basics" />
<meta name="twitter:title" content="Just Understanding Basics" />
<meta property="og:description" content="So will someone give me research/documents on extracting clients from caches, find the login block, ect.  Because I’m trying to get my 454 cache I have into a client.  It would be great if you could just explain the basics." />
<meta name="twitter:description" content="So will someone give me research/documents on extracting clients from caches, find the login block, ect.  Because I’m trying to get my 454 cache I have into a client.  It would be great if you could just explain the basics." />
<meta property="article:published_time" content="2010-07-10T07:21:12+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="348247.html">Just Understanding Basics</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_elve_age.html'><span itemprop='name'>the_elve_age</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-10T07:21:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:41:36Z' class='post-time'>
              July 31, 2016,  5:41pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So will someone give me research/documents on extracting clients from caches, find the login block, ect.</p>
<p>Because I’m trying to get my 454 cache I have into a client.</p>
<p>It would be great if you could just explain the basics.</p>
      </div>

      <meta itemprop='headline' content='Just Understanding Basics'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-10T08:31:30Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:41:37Z' class='post-time'>
              July 31, 2016,  5:41pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>you overestimate how organised we are</p>
      </div>

      <meta itemprop='headline' content='Just Understanding Basics'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pplsuqbawlz.html'><span itemprop='name'>pplsuqbawlz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-10T10:49:43Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:41:42Z' class='post-time'>
              July 31, 2016,  5:41pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“the elve age, post:1, topic:348247”]So will someone give me research/documents on extracting clients from caches, find the login block, ect.</p>
<p>Because I’m trying to get my 454 cache I have into a client.</p>
<p>It would be great if you could just explain the basics.[/quote]<br>
A pack200 is similar to a jar file in that they’re packages and compress data, however pack200 is intended specifically for java, and targets it by combining each of the archive’s constant pools into one, big, pool with no duplicates, thus removing LOTS of duplicate entries and considerably decreasing size.</p>
<p>The other stuff, I can’t help you with. Though from a theoretical aspect, encryption should be the most intensive on a username/password sequence sent on logon; the same is true on any other application! But, I do not touch or go near RS and will not; so you’ll have to wait until someone else here helps you.</p>
      </div>

      <meta itemprop='headline' content='Just Understanding Basics'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/White_Castle.html'><span itemprop='name'>White_Castle</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-13T14:15:06Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:46:33Z' class='post-time'>
              July 31, 2016,  5:46pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The <span class="bbcode-i">basics</span>?</p>
<p>Like frank_ said, if this community had any semblance of organization, your post would be flamed and you’d be directed elsewhere. This would also be a more successful community.</p>
<p>Anyways, what do the basics include? You’re asking about cache reading/utilization. Honestly, I’m pretty much in the dark. However, I did till up enough knowledge to make a <a href="http://www.moparisthebest.com/smf/index.php/topic,227055.0.html" data-bbcode="true" rel="nofollow noopener">shitty little #481 server including the update routine</a>. I lost the files in a HHD crash and I don’t own the site the files were hosted on anymore. HEY, IF YOU HAVE THE FILES, LEMME KNOW.</p>
<p>Going completely off memory from 2+ years ago, the cache process went like this:</p>
<p>[ul][li]Client connects to server and indicates that it wants to update (i.e. no cache files on disk)[/li]<br>
[li]Server begins sending cache files. <span class="bbcode-b">Compressed, probably in full-file form</span>[/li]<br>
[li]Client stores cache files.[/li]<br>
[li]Client begins loading interfaces, sprites, etc.[/li]<br>
[li]Data is read from the cache. <span class="bbcode-b">I’m not sure of the method. If you wanted an answer now, I’d say that the main_file_cache.idx<span class="bbcode-i">n</span> files were just a map of “cache index” -&gt; “dat file offset/length”… the latter describing the actual compressed cache data in one of the main_file_cache.dat<span class="bbcode-i">n</span> files. Someone must know more, but seriously, do some digging. Refactored clients are great.</span>[/li]<br>
[li]Data is decompressed.[/li]<br>
[li]Data is parsed using a <span class="bbcode-i">proprietary format</span>. It depends on the type of data you’re reading: NPC attributes, object model, what have you. <span class="bbcode-b">I haven’t got shit on this one, but I know you’ll find if you look.</span>[/li]<br>
[li]yadda yadda play runescape etc.[/li][/ul]</p>
<p>Correct me if I’m wrong.</p>
<p>As for the login routine, RSA was used with 512 bit moduli. I don’t remember how RSA works, so eh. Only the password and maybe username were encrypted this way; subsequent communication is encrypted with ISAAC.</p>
<p>Also, holy shit pplsuqbawlz. I had no idea that was the purpose of pack200. I was seriously thinking just the other day about how great it would be if someone came up with a format for consolidating constant pools. <span class="bbcode-i">fuck</span></p>
      </div>

      <meta itemprop='headline' content='Just Understanding Basics'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/peterbjornx.html'><span itemprop='name'>peterbjornx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-18T22:08:09Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:55:19Z' class='post-time'>
              July 31, 2016,  5:55pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I had your files, but i lost them in a HD crash too</p>
      </div>

      <meta itemprop='headline' content='Just Understanding Basics'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/White_Castle.html'><span itemprop='name'>White_Castle</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-18T23:38:09Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:55:23Z' class='post-time'>
              July 31, 2016,  5:55pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ah, thanks anyways.</p>
      </div>

      <meta itemprop='headline' content='Just Understanding Basics'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_elve_age.html'><span itemprop='name'>the_elve_age</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-19T03:58:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:55:44Z' class='post-time'>
              July 31, 2016,  5:55pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks guys! I appreciate the help! &lt;3 White Castle</p>
      </div>

      <meta itemprop='headline' content='Just Understanding Basics'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-19T19:05:10Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:56:48Z' class='post-time'>
              July 31, 2016,  5:56pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>resources are indexed as well as split in the cache as a linked sequence of 512-byte chunks. each chunk is prefixed by a 8-byte header describing what resource it belongs to blah blah (for sanity checks); i call this union a sector. the .dat file is comprised of all of these sectors, while the .idx files are an <em>shock</em> index for figuring out how large a resource is (and from that the sequence size – resource-size / 512) as well as the head sector index (the offset into the .dat file is <span class="bbcode-i">head-sector-idx * 520</span>). (different classes (models, CS VM bytecode files, items manifest data) of resources in the cache use different idx files). this data is stored in a 6-byte block, positioned in the idx file at the offset <span class="bbcode-i">resource-id * 6</span>. this might be a little incoherent but bear with me. some files in the cache are also stored in a distinct container format which supports compression. the container format starts with a header which consists of (at least) the compression type and trailing data length. if the type is 0, the resource file is not compressed, and the resource data is extracted normally. in the case the type is not 0, the resource file is compressed, and an additional piece of data is read signifying the decompressed size of the resource file. the compression type 1 signifies a modified version of BZIP2 (the magic signature BZh1 is stripped) was used to compress the resource file, else the compression used was GZIP. after the resource file is extracted completely, it is parsed by any code that needs it; it could hold data on the map terrain, on the object locations, the animation sequence list, hell even a direct raster image – <span class="bbcode-i">anything</span>. as whitecastle said, the data is in a proprietary format<br>
which must be derived from a deob. happy hunting.</p>
<p>added structs after consideration and frank claiming i didnt consider them!!</p>
<pre><code class="lang-auto">struct dat_file {
    struct sector {
        struct header {
            /* owner resource index/id */
            u16 rsrc_idx;
            /* sequence number in resource sector sequence */
            u16 seq_num;
            /* next-in-sequence sector index (into sector array) */
            u24 next;
            /* resource class/type (idx file #) */
            u1 class;
        } header;
        /* chunk/payload */
        u1 payload[512];
    } sectors[sector_cnt];
};

struct idx_file {
    struct entry {
        /* size of resource file */
        u24 size;
        /* sequence head sector index (into sector array) */
        u24 head;
    } entries[rsrc_cnt];
};

struct container {
    /* compression type */
    u1 cmp_type;
    /* resource data length (compressed iff cmp_type != 0) */
    u4 len;
    /* decompressed resource length (iff cmp_type != 0) */
    u4 decmp_len;
    /* resource data */
    u1 data[len];
};</code></pre>
      </div>

      <meta itemprop='headline' content='Just Understanding Basics'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/just-understanding-basics/348247 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 18:12:25 GMT -->
</html>
