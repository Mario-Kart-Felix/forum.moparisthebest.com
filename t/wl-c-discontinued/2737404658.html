<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/wl-c-discontinued/273740?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 16:09:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>wL C# [Discontinued] - Runescape - moparisthebest.com</title>
    <meta name="description" content="Source: http://www.mediafire.com/download.php?mgiujzgjmme 

I recommend using the one sspoke provided on page 3, if I remember correctly. Mine doesn&amp;#39;t work, and I am no longer working on the C# version. I&amp;#39;m writing off o&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2737404658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;wL C# [Discontinued]&#39;" href="273740.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/wl-c-discontinued/273740?page=2" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/wl-c-discontinued/273740?page=2" />
<meta property="og:title" content="wL C# [Discontinued]" />
<meta name="twitter:title" content="wL C# [Discontinued]" />
<meta property="og:description" content="[quote=“West7man, post:19, topic:273740”]I made something like that in c++ using winsock. But the login part where you send the data about your location etc… Is brainwashing!  I can’t figure it out(how the bits should work)  At least it logs in, shows if you are banned or not, sends a message like “welcome to pumbamscape” etc. But it doesn’t send information about location… that’s sad.  I should work on that c++ server project again, maybe I’ll create something big :)[/quote]  This is exactly wh..." />
<meta name="twitter:description" content="[quote=“West7man, post:19, topic:273740”]I made something like that in c++ using winsock. But the login part where you send the data about your location etc… Is brainwashing!  I can’t figure it out(how the bits should work)  At least it logs in, shows if you are banned or not, sends a message like “welcome to pumbamscape” etc. But it doesn’t send information about location… that’s sad.  I should work on that c++ server project again, maybe I’ll create something big :)[/quote]  This is exactly wh..." />
<meta property="article:published_time" content="2009-04-17T20:27:48+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="273740.html">
      <link rel="next" href="2737409ba9.html?page=3">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="273740.html">wL C# [Discontinued]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xEnt.html'><span itemprop='name'>xEnt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T20:27:48Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:36Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“West7man, post:19, topic:273740”]I made something like that in c++ using winsock. But the login part where you send the data about your location etc… Is brainwashing!<br>
I can’t figure it out(how the bits should work)<br>
At least it logs in, shows if you are banned or not, sends a message like “welcome to pumbamscape” etc. But it doesn’t send information about location… that’s sad.<br>
I should work on that c++ server project again, maybe I’ll create something big :)[/quote]<br>
This is exactly why people need to contribute to my protocol thread of the rs2 client.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/P_I_M_P_3_D_Tut.html'><span itemprop='name'>P_I_M_P_3_D_Tut</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T23:02:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:53Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“xEnt, post:21, topic:273740”][quote author=West7man link=topic=361749.msg2752462#msg2752462 date=1239997953]<br>
I made something like that in c++ using winsock. But the login part where you send the data about your location etc… Is brainwashing!<br>
I can’t figure it out(how the bits should work)<br>
At least it logs in, shows if you are banned or not, sends a message like “welcome to pumbamscape” etc. But it doesn’t send information about location… that’s sad.<br>
I should work on that c++ server project again, maybe I’ll create something big <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]<br>
This is exactly why people need to contribute to my protocol thread of the rs2 client.[/quote]Wow. You actually have posts here?</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xEnt.html'><span itemprop='name'>xEnt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T23:25:09Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:55Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“P I M P 3 D Tut, post:22, topic:273740”][quote author=xEnt link=topic=361749.msg2752508#msg2752508 date=1240000068]</p>
<aside class="quote no-group">
<blockquote>
<p>I made something like that in c++ using winsock. But the login part where you send the data about your location etc… Is brainwashing!<br>
I can’t figure it out(how the bits should work)<br>
At least it logs in, shows if you are banned or not, sends a message like “welcome to pumbamscape” etc. But it doesn’t send information about location… that’s sad.<br>
I should work on that c++ server project again, maybe I’ll create something big <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>This is exactly why people need to contribute to my protocol thread of the rs2 client.<br>
[/quote]Wow. You actually have posts here?[/quote]Only the one i mentioned.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T23:40:16Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:56Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alright, the requested code (To try and get amount available…)…</p>
<p>I’ve tried several ways, including connecting a new socket to the client and using the actual Available property, which was to do the same in Java. It didn’t work. The current one that gets a value in the high hundreds, which eventually decreases, is this one.</p>
<p><code>                byte[] b = new byte[10000];
                do
                {
                    avail = fin.Read(b, 0, b.Length);
                } while (fin.DataAvailable == true);</code>I can already see now that that shouldn’t work properly, as it’s actually reading the value of incoming data. However, the true point was to read until stopping, to get the packet size… I even saw that Microsoft used a small code similar to this to get the packet size.</p>
<p>Oh, and “fin” = “in” in wL. ‘in’ and ‘out’ are used in code in C#.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T23:46:40Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:57Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#25</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lin, post:24, topic:273740”]Alright, the requested code (To try and get amount available…)…</p>
<p>I’ve tried several ways, including connecting a new socket to the client and using the actual Available property, which was to do the same in Java. It didn’t work. The current one that gets a value in the high hundreds, which eventually decreases, is this one.</p>
<p><code>                byte[] b = new byte[10000];
                do
                {
                    avail = fin.Read(b, 0, b.Length);
                } while (fin.DataAvailable == true);</code>I can already see now that that shouldn’t work properly, as it’s actually reading the value of incoming data. However, the true point was to read until stopping, to get the packet size… I even saw that Microsoft used a small code similar to this to get the packet size.[/quote]</p>
<p>The packet sizes are stored in a constant array. What you do is something along these lines:</p>
<pre><code class="lang-auto">if (availableData &lt; 1) return; // we must have enough data for the opcode
int packetId = someInput.read1Byte() &amp; 0xff; // must be 0 &lt; id &lt; 256
int size = packetSizes[packetId];
if (size == -1) { // size is stored as a byte (u1)
	if (availableData &lt; 1) wait(); // we must have the next byte
	size = someInput.read1Byte() &amp; 0xff; // must be 0 &lt; size &lt; 256 
} else if (size == -2) { // size is stored as a unsigned short (u2)
	if (availableData &lt; 2) wait(); // we must have the next two bytes
	size = someInput.read2Bytes() &amp; 0xffff; // must be 0 &lt; size &lt; 65536
}
if (availableData &lt; size) wait(); // we must get the rest of the packet
// process data</code></pre>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T23:53:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:57Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#26</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>AvailableData is a boolean, indicating there is available data. That’s why I used the Do loop… However, I was tired last night when coded and realized I should be making it read a single byte…</p>
<p>If AvailableData was an integer, I wouldn’t have this problem <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p><span class="bbcode-b">Edit: </span>My plan didn’t work. Here’s what I did.</p>
<p><code>                int[] b = new int[10000];
                int c = 0;
                do
                {
                    b[c] = fin.ReadByte();
                    c += 1;
                } while (fin.DataAvailable == true);
                avail = c;</code>C/Avail always returns 1 or 2, and the client eventually disconnects (Not surprised…)</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-17T23:58:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:58Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#27</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lin, post:26, topic:273740”]AvailableData is a boolean, indicating there is available data. That’s why I used the Do loop… However, I was tired last night when coded and realized I should be making it read a single byte…</p>
<p>If AvailableData was an integer, I wouldn’t have this problem :P[/quote]</p>
<p>Then make it so it can stream up to 1 byte at a time, always checking that boolean.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/noobie22.html'><span itemprop='name'>noobie22</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T00:08:57Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:02:59Z' class='post-time'>
              July 31, 2016,  7:02am
            </time>
        <span itemprop='position'>#28</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well Taharok, I was wondering if that would be very complicated? I just want to don’t know how to make it check the boolean. I also would like to start a project like this, but with the Emulous base.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T00:16:55Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:03:00Z' class='post-time'>
              July 31, 2016,  7:03am
            </time>
        <span itemprop='position'>#29</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“noobie22, post:28, topic:273740”]Well Taharok, I was wondering if that would be very complicated? I just want to don’t know how to make it check the boolean. I also would like to start a project like this, but with the Emulous base.</p>
<pre><code>     [/quote]If you don't know how to make something check a boolean, you wouldn't stand a chance in recoding Emulous (Never used but I heard it's good.)
</code></pre>
<p>Also, I’m thinking I might be doing something wrong. The code I posted on my previous post should work, and this time I’m sure of it… Unless the packet size isn’t supposed to be read in bytes… With my code, I print the value of C each time. Here’s what I got on one test.</p>
<p><code>2
1
1
1
1
1
1
1
1
1</code>Till I killed it… I know for a fact that the packet size you’re supposed to get when logging in is 12… But that really doesn’t help me much.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bundy.html'><span itemprop='name'>bundy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T02:24:27Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:03:08Z' class='post-time'>
              July 31, 2016,  7:03am
            </time>
        <span itemprop='position'>#30</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>the runescape protocol is split up into raw data (bare) or what many call <span class="bbcode-b">frames</span> (header).</p>
<p>Every revision of the RuneScape 2 protocol comes with a new array holding lengths for every frame used. examples:</p>
<p>RS2 <span class="hashtag">#317:</span></p>
<p><code>    public static final int[] packetSizes = {
            0, 0, 0, 0, 6, 0, 0, 0, 4, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 1, 0, 0, 0, 0, 0,
            0, 0, 0, 0, -2, 4, 3, 0, 0, 0,
            0, 0, 0, 0, 5, 0, 0, 6, 0, 0,
            9, 0, 0, -2, 0, 0, 0, 0, 0, 0,
            -2, 1, 0, 0, 2, -2, 0, 0, 0, 0,
            6, 3, 2, 4, 2, 4, 0, 0, 0, 4,
            0, -2, 0, 0, 7, 2, 0, 6, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 2, 0, 1,
            0, 2, 0, 0, -1, 4, 1, 0, 0, 0,
            1, 0, 0, 0, 2, 0, 0, 15, 0, 0,
            0, 4, 4, 0, 0, 0, -2, 0, 0, 0,
            0, 0, 0, 0, 6, 0, 0, 0, 0, 0,
            0, 0, 2, 0, 0, 0, 0, 14, 0, 0,
            0, 4, 0, 0, 0, 0, 3, 0, 0, 0,
            4, 0, 0, 0, 2, 0, 6, 0, 0, 0,
            0, 3, 0, 0, 5, 0, 10, 6, 0, 0,
            0, 0, 0, 0, 0, 2, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, -1, 0, 0, 0,
            4, 0, 0, 0, 0, 0, 3, 0, 2, 0,
            0, 0, 0, 0, -2, 7, 0, 0, 2, 0,
            0, 1, 0, 0, 0, 0, 0, 0, 0, 0,
            8, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            2, -2, 0, 0, 0, 0, 6, 0, 4, 3,
            0, 0, 0, -1, 6, 0, 0
    };</code></p>
<p>RS2 <span class="hashtag">#508:</span></p>
<p><code>    static int[] packetSizes = { 0, 3, 0, 0, 0, 0, 6, 0, 2, 0, 5, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 14, 0, 0, 0, 5, 0, 0, 0, 15, 4, 0, 0, 0, 0, 10, 0, 2, 0, 0, 4, 6, 4, 0, 0, 0, 0, -1, 0, 10, 7, 0, 0, 0, 0, 24, 0, 3, 0, 5, 0, 0, 0, 0, 6, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, -2, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 7, 0, 0, 0, 0, 0, 1, 3, 4, 0, 0, 0, 0, 0, 0, 0, 6, 4, 0, 15, 0, 0, 1, 0, -2, 8, 5, 8, -1, 0, 0, -2, 0, 0, 0, 0, 0, 8, 0, -1, 0, 0, -2, 0, 20, 0, -2, 10, 0, -2, 0, -1, 0, 2, 0,
            0, -1, 0, 0, -2, 4, -1, 0, 8, 0, 0, 1, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, -2, 1, 4, -2, 8, 0, -1, 2, -1, -2, 0, 0, 0, 0, 6, 0, 3, 0, 0, 0, 2, -1, 0, 6, 0, 7, 2, 0, 0, 0, 0, 3, 0, 0, 0, -1, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, -2, 6, -1, 4, 0, 0, -2, 12, 0, 0, 1, 9, 0, -1, 0, 0, 5, 0, -1, 0, 0, 0, 0, 3, -2, 0, 0, 0, 0, 6, 4, 5, 6, 2, 0, 5, -1, 0, 0, -2 };
</code></p>
<p>The table of lengths is indexed by a frame’s <span class="bbcode-b">opcode</span>, <span class="bbcode-b">type</span>, or <span class="bbcode-b">id</span>. These tell the client what type of frame the current is. The opcode of a frame is the first field in a frame’s header, and is an unsigned 1-byte integer.</p>
<p>As you see, some of the frame sizes in these lists are negative, and it’s impossible for a frame to be negatively sized… these frames are <span class="bbcode-b">variable-sized</span>. With variable sized frames, an extra field is put into the frame’s header which denotes the frame’s payload’s size.<br>
There are two types of variable-sized frames: <span class="bbcode-b">short</span> and <span class="bbcode-b">byte</span>. Each are depicted in the packet lengths lists by a <span class="bbcode-b">-2</span> and <span class="bbcode-b">-1</span>, respectively.<br>
Their names come from the type of datatype and size they are written as in the header; a short variable-sized frame has the payload size written as an unsigned 2-byte short integer, while the  byte variable-sized frame has the payload size written as an unsigned 1-byte integer.</p>
<p>Code:</p>
<p><code>        if (Class49.packetOpcode == -1)
        {
            avail--;
            PlayerDefinition.connection.read(1, 0, Class68_Sub13_Sub8.incomingVector.data);
            Class68_Sub13_Sub8.incomingVector.position = 0;
            Class49.packetOpcode = Class68_Sub13_Sub8.incomingVector.getPacketOpcode();
            Class106.packetSize = Class9.packetSizes[Class49.packetOpcode];
        }
        if (Class106.packetSize == -1)
        {
            if (avail &lt;= 0)
                return false;
            PlayerDefinition.connection.read(1, 0, Class68_Sub13_Sub8.incomingVector.data);
            Class106.packetSize = 0xff &amp; Class68_Sub13_Sub8.incomingVector.data[0];
            avail--;
        }
        if (Class106.packetSize == -2)
        {
            if (avail &gt; 1)
            {
                avail -= 2;
                PlayerDefinition.connection.read(2, 0, Class68_Sub13_Sub8.incomingVector.data);
                Class68_Sub13_Sub8.incomingVector.position = 0;
                Class106.packetSize = Class68_Sub13_Sub8.incomingVector.readUShort();
            } else
                return false;
        }</code></p>
<p>Frame structures:</p>
<p>A statically sized frame has the structure:</p>
<p><code>{
    ubyte opcode;
    byte payload[size];
}</code><br>
where size is equivalent to the packet’s size in the packet lengths list.</p>
<p>A short variable-sized frame:</p>
<p><code>{
    ubyte opcode;
    ushort size;
    byte payload[size];
}</code></p>
<p>And lastly, a byte variable-sized frame:</p>
<p><code>{
    ubyte opcode;
    ubyte size;
    byte payload[size];
}</code></p>
<p>After the client has successfully read a frame, it then checks against it’s opcode to discover what type of data lies in the payload, and then begins to read.</p>
<p>JaGeX employs several different types of datatypes in their Buffer, Stream, Packet, etc. class.</p>
<p>They also employ several types of encryption. Among them include two methods: <span class="bbcode-b">RSA</span> and <span class="bbcode-b">ISAAC ciphering</span>.</p>
<p>RSA:</p>
<p>JaGeX only uses RSA upon the login block, which contains the ISAAC cipher seed, username, and password, among other things. This helps stop people from packet sniffing to steal passwords, as well as to kill proxy bots (like AutoRune).<br>
Code:<br>
RS2 <span class="hashtag">#508:</span></p>
<p><code>                    int[] seed = new int[4];
                    seed[1] = (int) (9.9999999E7 * Math.random());
                    seed[0] = (int) (9.9999999E7 * Math.random());
                    seed[2] = (int) (Class68_Sub13_Sub11.serverSessionKey &gt;&gt; 32);
                    ((ByteVector) CRCFileReader.outputVector).position = 0;
                    seed[3] = (int) Class68_Sub13_Sub11.serverSessionKey;
                    CRCFileReader.outputVector.writeByte(10);
                    CRCFileReader.outputVector.writeInteger(seed[0]);
                    CRCFileReader.outputVector.writeInteger(seed[1]);
                    CRCFileReader.outputVector.writeInteger(seed[2]);
                    CRCFileReader.outputVector.writeInteger(seed[3]);
                    CRCFileReader.outputVector.writeLong(Class68_Sub28_Sub2.username.toLong(10908));
                    CRCFileReader.outputVector.writeString(Class68_Sub28_Sub2.password);
                    CRCFileReader.outputVector.encodeRSABlock(Class68_Sub4.RSA_PUBLIC_KEY, Class68_Sub22.RSA_MODULUS);</code><br>
RSC <span class="hashtag">#204:</span></p>
<p><code>            int seed[] = new int[4];
            seed[0] = (int) (Math.random() * 99999999D);
            seed[1] = (int) (Math.random() * 99999999D);
            seed[2] = (int) (serverSessionKey &gt;&gt; 32);
            seed[3] = (int) serverSessionKey;
            EncodedBlock loginBlock = new EncodedBlock(new byte[500]);
            loginBlock.offset = 0;
            loginBlock.writeByte(10);
            loginBlock.writeInt(seed[0]);
            loginBlock.writeInt(seed[1]);
            loginBlock.writeInt(seed[2]);
            loginBlock.writeInt(seed[3]);
            loginBlock.writeInt(getUserId());
            loginBlock.writeString(username);
            loginBlock.writeString(password);
            loginBlock.encodeRSA(d, m);</code><br>
RS2 <span class="hashtag">#317:</span></p>
<p><code>                int isaacRandomGenSeed[] = new int[4];
                isaacRandomGenSeed[0] = (int) (Math.random() * 99999999D);
                isaacRandomGenSeed[1] = (int) (Math.random() * 99999999D);
                isaacRandomGenSeed[2] = (int) (serverSessionKey &gt;&gt; 32);
                isaacRandomGenSeed[3] = (int) serverSessionKey;
                outputStream.currentOffset = 0;
                outputStream.addByte(10);
                outputStream.addInt(isaacRandomGenSeed[0]);
                outputStream.addInt(isaacRandomGenSeed[1]);
                outputStream.addInt(isaacRandomGenSeed[2]);
                outputStream.addInt(isaacRandomGenSeed[3]);
                outputStream.addInt(signlink.uid);
                outputStream.addString(username);
                outputStream.addString(password);
                outputStream.rsaEncodeBuffer();</code></p>
<p>ISAAC ciphering:</p>
<p>Once the login procedure occurs, the RuneScape client and server use the 4 integer seed from the login block to seed two ISAAC ciphers on both sides: one for ciphering, and one for deciphering. The ISAAC ciphers are used to mask and demask each frame’s opcode. This was most likely created to stop AutoRune-like bots that worked by injecting data into the intercepted stream.<br>
Code:</p>
<p>RS2 <span class="hashtag">#317:</span></p>
<p><code>            if (packetOpcode == -1) {
                socketStream.flushInputStream(inStream.buffer, 1);
                packetOpcode = inStream.buffer[0] &amp; 0xff;
                if (encryption != null)
                    packetOpcode = packetOpcode - encryption.nextInt() &amp; 0xff;
                packetSize = SizeConstants.packetSizes[packetOpcode];
                dataAvailable--;
            }</code></p>
<p><code>    public void addPacketId(int i) {
        buffer[currentOffset++] = (byte) (i + encryption.nextInt());
    }</code><br>
RS2 <span class="hashtag">#508:</span></p>
<p><code>        if (Class49.packetOpcode == -1)
        {
            avail--;
            PlayerDefinition.connection.read(1, 0, Class68_Sub13_Sub8.incomingVector.data);
            Class68_Sub13_Sub8.incomingVector.position = 0;
            Class49.packetOpcode = Class68_Sub13_Sub8.incomingVector.getPacketOpcode();
            Class106.packetSize = Class9.packetSizes[Class49.packetOpcode];
        }</code></p>
<p><code>    final int getPacketOpcode()
    {
        return (data[position++] - randomNumberGenerator.next()) &amp; 0xff;
    }
</code></p>
<p><code>    final void writeOpcode(int opcode)
    {
        data[position++] = (byte) (opcode + randomNumberGenerator.next());
    }
</code><br>
RSC <span class="hashtag">#204:</span></p>
<pre><code class="lang-auto">        opcode = connection.decodeOpcodeISAAC(opcode);</code></pre>
<p><code>        if (outgoingISAACGen != null) {
            int packetId = buffer[packetStartOffset + 2] &amp; 0xff;
            buffer[packetStartOffset + 2] = (byte) (packetId + outgoingISAACGen.next());
        }</code></p>
<p>This is by far not that indepth or anything of that sort, just a small introduction to show how the RuneScape protocol worked.</p>
<p>If you have anything to add that is valid, feel free to ask.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/P_I_M_P_3_D_Tut.html'><span itemprop='name'>P_I_M_P_3_D_Tut</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T03:13:52Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:03:11Z' class='post-time'>
              July 31, 2016,  7:03am
            </time>
        <span itemprop='position'>#31</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Psycotix, post:5, topic:273740”][quote author=xEnt link=topic=361749.msg2750412#msg2750412 date=1239873445]<br>
Since the language your working with has keyword support for signed &amp; unsigned types, you should be using the correct data type, not an integer for everything.</p>
<p>For example public int readUnignedWordBigEndianA() is a 16bit integer (2bytes), you should be doing something like public ushort readWordBigEndian(), same goes with</p>
<p>public byte readSignedByteA() &gt; public sbyte readByteA()<br>
public byte readSignedByteC() &gt; public sbyte readByteC()<br>
public byte readSignedByteS() &gt; public sbyte readByteS()</p>
<p>public int readUnsignedByteA() &gt; public ubyte readByteA()<br>
public int readUnsignedByteC() &gt; public ubyte readByteC()<br>
public int readUnsignedByteS() &gt; public ubyte readByteS()</p>
<p>As an example. Also i don’t quite understand what you mean by the whole fillinstream thing, explain it better if possible.<br>
[/quote]<br>
Hai.[/quote] You shut up. Your not cool.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Vengeance.html'><span itemprop='name'>_Vengeance</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T08:05:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:03:21Z' class='post-time'>
              July 31, 2016,  7:03am
            </time>
        <span itemprop='position'>#32</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just a question; if you’re going to spend time porting this to another language, why not rewrite it differently, so it’s more efficient/stable etc?</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T08:50:24Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:03:25Z' class='post-time'>
              July 31, 2016,  7:03am
            </time>
        <span itemprop='position'>#33</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Honestly, I don’t know if I’ll ever get it done due to the stupid problem I’m having. And I wanted to rewrite as close as the original as I could, and then improve it. That way it would get the name wL C# <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Vengeance.html'><span itemprop='name'>_Vengeance</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T08:52:17Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:03:25Z' class='post-time'>
              July 31, 2016,  7:03am
            </time>
        <span itemprop='position'>#34</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Personally, I’d rather not be associated with any wL based servers. But whatever floats your boat.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/MBrown.html'><span itemprop='name'>MBrown</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T08:58:48Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:03:30Z' class='post-time'>
              July 31, 2016,  7:03am
            </time>
        <span itemprop='position'>#35</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Correction, for those that doesn’t know, WinterLove is what every single shitty server out there, with very few exceptions, are based on.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xEnt.html'><span itemprop='name'>xEnt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T09:11:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:03:30Z' class='post-time'>
              July 31, 2016,  7:03am
            </time>
        <span itemprop='position'>#36</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="34" data-topic="273740">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/_vengeance/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> _Vengeance:</div>
<blockquote>
<p>Personally, I’d rather not be associated with any wL based servers. But whatever floats your boat.</p>
</blockquote>
</aside>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Vengeance.html'><span itemprop='name'>_Vengeance</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T10:15:46Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:03:32Z' class='post-time'>
              July 31, 2016,  7:03am
            </time>
        <span itemprop='position'>#37</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="35" data-topic="273740">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/mbrown/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> MBrown:</div>
<blockquote>
<p>Correction, for those that doesn’t know, WinterLove is what every single shitty server out there, with very few exceptions, are based on.</p>
</blockquote>
</aside>
<p>Just curious, who are you correcting?</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fat_Cookies.html'><span itemprop='name'>Fat_Cookies</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T10:24:49Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:03:33Z' class='post-time'>
              July 31, 2016,  7:03am
            </time>
        <span itemprop='position'>#38</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="34" data-topic="273740">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/_vengeance/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> _Vengeance:</div>
<blockquote>
<p>Personally, I’d rather not be associated with any wL based servers. But whatever floats your boat.</p>
</blockquote>
</aside>
<p>QFT</p>
<p>I presume that a c# port of wL would be much more stable than the java version. Im still confused why you chose C# over C++ (unless you dont know C++, but that would be crazy).</p>
<p>Packets.CPP</p>
<p>[code]<span class="hashtag">#include</span> “Packets.h”<br>
<span class="hashtag">#include</span> “Player.h”<br>
<span class="hashtag">#include</span> “Stream.h”<br>
<span class="hashtag">#include</span> “Server.h”</p>
<p>void Packets::chatHandler(Player* p, Stream* s) {<br>
//regular chat<br>
printf(“chat for player: %s\n”, p-&gt;getUsername());</p>
<pre><code>//case 4:
p-&gt;chatTextEffects = s-&gt;readUnsignedByteS();
p-&gt;chatTextColor = s-&gt;readUnsignedByteS();
p-&gt;chatTextSize = (unsigned char)p-&gt;packetSize-2;
s-&gt;readBytes_reverseA(p-&gt;chatText, p-&gt;chatTextSize, 0);
p-&gt;setChatTextUpdateRequired(true);
char* decryptedChat = textUnpack(p-&gt;chatText, p-&gt;packetSize-2);
printf("Text: [%d,%d]: %s\n",p-&gt;chatTextEffects,p-&gt;chatTextColor,decryptedChat);
delete decryptedChat;
</code></pre>
<p>}</p>
<p>void Packets::commandHandler(Player* p, Stream* s) {<br>
printf(“commandHandler for player: %s\n”, p-&gt;getUsername());<br>
char* command = new char[81]; //max chat is 80 +1 null terminator<br>
s-&gt;readString(command, 80); //fill it.</p>
<pre><code>//doCommand was made becasue it has many exception checks.. when they returns.
//would be very hard to keep track if command pointer was deleted or not
doCommand(p,s, command);

delete [] command;
command = NULL;
</code></pre>
<p>}</p>
<p>void Packets::doCommand(Player* p, Stream* s, char* command) {<br>
char* next_token;<br>
next_token = strtok(command, " "); //::[First Part] [Second Part] [Third Part][Etc][…]</p>
<pre><code>if(strcmp(next_token, "serverspeed") == 0) {
	next_token = strtok(NULL, " ");
	if(next_token == NULL) {
		p-&gt;sendMessage("wrong syntax it's ::serverspeed ### (ex. ::serverspeed 500)");
		return;
	}
	int newSpeed = atoi(next_token);
	server.serverSpeed = newSpeed;
	char sendMsg[255];
	sprintf(sendMsg, "Setting new server speed to %d", newSpeed);
	p-&gt;sendMessage(sendMsg);
} else if(strcmp(next_token, "hats") == 0) {
	next_token = strtok(NULL, " ");
	if(next_token == NULL) {
		p-&gt;sendMessage("wrong syntax it's ::hats # (ex. ::hats 1) (1=on/0=off)");
		return;
	}
	bool trigger = (atoi(next_token) !=0);
	p-&gt;createItems = trigger;
	char sendMsg[255];
	sprintf(sendMsg, "Setting hats %s", trigger ? "ON" : "OFF");
	p-&gt;sendMessage(sendMsg);
} else if(strcmp(next_token, "kick") == 0) {
	next_token = strtok(NULL, " ");
	if(next_token == NULL) {
		p-&gt;sendMessage("wrong syntax it's ::kick username (ex. ::kick mopar4lifez)");
		return;
	}
	if(strlen(next_token) &gt; 12) {
		p-&gt;sendMessage("Name too kick is too long could create a overflow");
		return;
	}
	char* trigger = next_token;
	sprintf(server.playerHandler.kickNick, "%s", trigger);
	char sendMsg[255];
	sprintf(sendMsg, "Kicking player  %s", trigger);
	p-&gt;sendMessage(sendMsg);
} else if(strcmp(next_token, "yell") == 0) {
	next_token = strtok(NULL, " ");
	if(next_token == NULL) {
		p-&gt;sendMessage("wrong syntax it's ::yell message (ex. ::yell hello)");
		return;
	}
	if(strlen(next_token) &gt; 80) {
		p-&gt;sendMessage("yell message too long could create a overflow");
		return;
	}
	char* trigger = next_token;
	sprintf(server.playerHandler.messageToAll, "[%s]:%s", p-&gt;getUsername(), trigger);
} else if(strcmp(next_token, "pass") == 0) {
	next_token = strtok(NULL, " ");
	if(next_token == NULL) {
		p-&gt;sendMessage("wrong syntax it's ::pass newpassword (ex. ::pass test)");
		return;
	}
	if(strlen(next_token) &gt; 12) {
		p-&gt;sendMessage("Sorry the password has to be less then 12 letters!");
		return;
	}
	char* trigger = next_token;
	p-&gt;setPassword(trigger);
	p-&gt;sendMessage("Your password has been changed!");
} else if(strcmp(next_token, "pos") == 0) {
	char strTemp[255];
	sprintf(strTemp, "You absolute position is (%d, %d)", p-&gt;getAbsPos().x, p-&gt;getAbsPos().y);
	p-&gt;sendMessage(strTemp);
	sprintf(strTemp, "Your teleport position is (%d, %d)", p-&gt;getTeleportPos().x, p-&gt;getTeleportPos().y);
	p-&gt;sendMessage(strTemp);
	sprintf(strTemp, "Your map region position is (%d, %d)", p-&gt;getMapRegionPos().x, p-&gt;getMapRegionPos().y);
	p-&gt;sendMessage(strTemp);
	sprintf(strTemp, "Your heightLevel is %d", p-&gt;getHeightLevel());
	p-&gt;sendMessage(strTemp);
} else if(strcmp(next_token, "pickup") == 0) {
	next_token = strtok(NULL, " "); //item id.
	if(next_token == NULL) {
		p-&gt;sendMessage("Wrong Syntax! Use as ::pickup 0995 10");
		return;
	}
	int itemId = atoi(next_token);
	next_token = strtok(NULL, " "); //item amount
	if(next_token == NULL) {
		p-&gt;sendMessage("Wrong Syntax! Use as ::pickup 0995 10");
		return;
	}
	int itemAmount = atoi(next_token);

	if (itemId &lt;= MAX_ITEMS &amp;&amp; itemId &gt;= 0)
		p-&gt;addItem(itemId, itemAmount);
	else
		p-&gt;sendMessage("No such item");
} else if(strcmp(next_token, "tele") == 0) {
	next_token = strtok(NULL, " "); //x coordinate
	if(next_token == NULL) {
		p-&gt;sendMessage("Wrong Syntax! Use as ::tele 3254 3420");
		return;
	}
	int x = atoi(next_token);
	next_token = strtok(NULL, " "); //y coordinate
	if(next_token == NULL) {
		p-&gt;sendMessage("Wrong Syntax! Use as ::tele 3254 3420");
		return;
	}
	int y = atoi(next_token);

	Pos tempPos;
	tempPos.x = x;
	tempPos.y = y;
	p-&gt;setTeleportPos(tempPos);
	p-&gt;setTeleporting(true);
} else if(strcmp(next_token, "empty") == 0) {
	p-&gt;removeAllItems();
	p-&gt;sendMessage("All inventory items have been deleted!");
} else if(strcmp(next_token, "pnpc") == 0) {
	next_token = strtok(NULL, " ");
	if(next_token == NULL) {
		p-&gt;sendMessage("wrong syntax it's ::pnpc npcId (ex. ::pnpc 14)");
		return;
	}
	p-&gt;setPlayerNpcId(atoi(next_token));
	p-&gt;setPlayerNpcMode(true);
	p-&gt;setUpdateRequired(true);
	p-&gt;setAppearanceUpdateRequired(true);
	p-&gt;sendMessage("You have transformed into a npc!");
} else if(strcmp(next_token, "pnpcoff") == 0) {
	p-&gt;setPlayerNpcMode(false);
	p-&gt;setUpdateRequired(true);
	p-&gt;setAppearanceUpdateRequired(true);
	p-&gt;sendMessage("You have transformed back a player!");
}
</code></pre>
<p>}</p>
<p>void Packets::handleMoving(Player* p, Stream* s) {<br>
printf(“handling movement for player: %s\n”, p-&gt;getUsername());</p>
<pre><code>int newWalkCmdSteps = (p-&gt;packetSize - 5) / 2;

//if(newWalkCmdSteps % 2 != 0)
//	printWarning("Warning: walkTo(%d) command malformed: %X\n",hexString(s-&gt;buffer, p-&gt;packetSize));
if(newWalkCmdSteps &gt; WALKING_QUEUE_SIZE) {
	printWarning("Warning: walkTo(%d) command contains too many steps (%d).\n", p-&gt;packetType, newWalkCmdSteps);
	return;
}

PlayerHandler::resetWalkingQueue(p); //static wee..	
Pos temp;
vector&lt;Pos&gt; tempPathWaypoints;

int firstStepX = s-&gt;readSignedWordBigEndianA(); //absPos

for(int i = 0; i &lt; newWalkCmdSteps; i++) {
	temp.x = s-&gt;readSignedByte();
	temp.y = s-&gt;readSignedByte();
	tempPathWaypoints.push_back(temp);
}

int firstStepY = s-&gt;readSignedWordBigEndian(); //absPos

int isRunning = s-&gt;readSignedByteC() == 1; //seems always be 0 so useless..

PlayerHandler::addToWalkingQueue(p, firstStepX, firstStepY);
for(int i = 0; i &lt; newWalkCmdSteps; i++) {
	tempPathWaypoints[i].x += firstStepX;
	tempPathWaypoints[i].y += firstStepY;
	PlayerHandler::addToWalkingQueue(p, tempPathWaypoints[i].x, tempPathWaypoints[i].y);
}
</code></pre>
<p>}</p>
<p>void Packets::handleActionButtonClick(Player* p, Stream* s) {<br>
printf(“clicking button for player: %s\n”, p-&gt;getUsername());<br>
int actionButtonId = 0;<br>
//clicking most buttons<br>
if(p-&gt;packetSize == 1) //BYTE<br>
actionButtonId = s-&gt;readUnsignedByte();<br>
else if(p-&gt;packetSize == 2)//WORD<br>
actionButtonId = s-&gt;readUnsignedWord();</p>
<pre><code>switch(actionButtonId) {
case 2458: p-&gt;sendLogout(); break;
case 152: p-&gt;isRunning = false; break;
case 153: p-&gt;isRunning = true; break;

	default:
		printWarning("Default ActionButtonId: %d\n", actionButtonId);
		break;
}
</code></pre>
<p>}</p>
<p>void Packets::handleWearEquipment(Player* p, Stream* s) {<br>
int itemId = s-&gt;readUnsignedWord();<br>
int inventorySlot = s-&gt;readUnsignedWordA();</p>
<pre><code>if(itemId &lt; 0 || itemId &gt; MAX_ITEMS || inventorySlot &lt; 0 || inventorySlot &gt; 28) {
	p-&gt;sendMessage("Stop hacking faggot");
	return;
}

GameItem itemToWear = p-&gt;getInventoryItem(inventorySlot);
int itemType = item.itemType(itemToWear.itemId);
GameItem wearingItem = p-&gt;getEquipment(itemType);

if(itemToWear.itemId &gt;= 0) {
	if (wearingItem.itemId &gt;= 0 &amp;&amp; wearingItem.itemId != itemToWear.itemId) { //put old item if REAL item and isn't same as the item you want to put on into inventory
		p-&gt;deleteItem(itemToWear.itemId, inventorySlot, itemToWear.amount); //remove the new item.. from inventory to make room for old item (also to stop dupe).
		p-&gt;addItem(wearingItem.itemId, wearingItem.amount);					//add old item to inventory
		
		p-&gt;setEquipment(itemType, itemToWear.itemId, itemToWear.amount);	//put on new item.
		p-&gt;sendEquipment(itemToWear.itemId, itemToWear.amount, itemType);	//set the new item on player.
		p-&gt;removePlayerBonuses(wearingItem.itemId);							//remove bonus from old item.
		p-&gt;setPlayerBonuses(itemToWear.itemId);								//add bonus for new item.
		p-&gt;updatePlayerBonuses();
	} else if (item.isItemStackable(itemToWear.itemId) &amp;&amp; wearingItem.itemId == itemToWear.itemId) { //arrows anying after you put on.. adds up to your old gear.
		if((wearingItem.amount + itemToWear.amount) &lt; MAX_ITEM_STACKABLE_AMOUNT) { //don't want to glitch the player now do we ;)
			p-&gt;deleteItem(itemToWear.itemId, inventorySlot, itemToWear.amount); //remove it FIRST.
			p-&gt;setEquipment(itemType, wearingItem.itemId, wearingItem.amount+itemToWear.amount);
			p-&gt;sendEquipment(itemToWear.itemId, p-&gt;getEquipment(itemType).amount, itemType);
		}
	} else if (wearingItem.itemId == -1) {	//not wearing any equipment putting on for first time.
		p-&gt;deleteItem(itemToWear.itemId, inventorySlot, itemToWear.amount); //remove it FIRST.
		p-&gt;setEquipment(itemType, itemToWear.itemId, itemToWear.amount);
		p-&gt;sendEquipment(itemToWear.itemId, itemToWear.amount, itemType);
		p-&gt;setPlayerBonuses(itemToWear.itemId);
		p-&gt;updatePlayerBonuses();
	} else {
		p-&gt;sendMessage("You are already wearing the same type of item.");
	}
} else {
	p-&gt;sendMessage("nice try hacking");
}
</code></pre>
<p>}</p>
<p>void Packets::handleRemoveEquipment(Player* p, Stream* s) {<br>
//TODO: Imcomplete didn’t add remove Equipment while bank open…<br>
int interfaceId = s-&gt;readUnsignedWordA(); //determines whether to add it to inventory or bank.<br>
int equipmentSlot = s-&gt;readUnsignedWordA();<br>
int itemId = s-&gt;readUnsignedWordA();</p>
<pre><code>if(itemId &lt; 0 || itemId &gt; MAX_ITEMS || equipmentSlot &lt; 0 || equipmentSlot &gt; 13) {
	p-&gt;sendMessage("Yo stop fucking hacking faggot");
	return;
}

GameItem itemToRemove = p-&gt;getEquipment(equipmentSlot);

if(itemToRemove.itemId &gt;= 0) {
	if(p-&gt;addItem(p-&gt;getEquipment(equipmentSlot).itemId, p-&gt;getEquipment(equipmentSlot).amount)) {
		p-&gt;setEquipment(equipmentSlot, -1, 0);
		p-&gt;sendRemoveEquipment(equipmentSlot);
		p-&gt;removePlayerBonuses(itemToRemove.itemId);
		p-&gt;updatePlayerBonuses();
	}
}
</code></pre>
<p>}</p>
<p>void Packets::handleNpcAttack(Player* p, Stream* s) {<br>
//Check if last attack was over 1.5 seconds ago.<br>
printf(“handling attack npc for player %s\n”, p-&gt;getUsername());<br>
if((GetTickCount() - p-&gt;getLastAttackTime())&gt; 1500) {<br>
p-&gt;setLastAttackTime(GetTickCount());<br>
int npcSlot = s-&gt;readUnsignedWordA();<br>
if(npcSlot &lt; 0 || npcSlot &gt; MAX_NPC_SPAWNS) {<br>
p-&gt;sendMessage(“Stop hacking faggot”);<br>
return;<br>
}<br>
if(!server.npcHandler.npcs[npcSlot]-&gt;isUnderAttack()) {<br>
server.npcHandler.npcs[npcSlot]-&gt;setUnderAttack(true);<br>
char att[50];<br>
sprintf(att, “attacking npc slot = %d\n”, npcSlot);<br>
p-&gt;sendMessage(att);<br>
}<br>
}<br>
}[/code]</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xEnt.html'><span itemprop='name'>xEnt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T18:27:50Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:04:07Z' class='post-time'>
              July 31, 2016,  7:04am
            </time>
        <span itemprop='position'>#39</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why would it be crazy to not know C++? and know C#?</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-04-18T19:10:37Z'>
            <time itemprop='dateModified' datetime='2016-07-31T07:04:09Z' class='post-time'>
              July 31, 2016,  7:04am
            </time>
        <span itemprop='position'>#40</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Fat Cookies: I know C++. However, I wanted to use a .NET language. C++ .NET kicks the shit out of me. C# .NET is the C language I’m used to.</p>
<p>Also, this project <span class="bbcode-i">was</span> supposed to be wL VB, but VB was missing certain assignment operators and I didn’t feel like making my way around them.</p>
      </div>

      <meta itemprop='headline' content='wL C# [Discontinued]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="273740.html">← previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="2737409ba9.html?page=3">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/wl-c-discontinued/273740?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 16:09:23 GMT -->
</html>
