<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Redone PotionMixing Class</title>
    <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713</link>
    <description>Difficulty: 1/10
Adding: #377 revision potion mixing

If you&#39;re using a standard PI you will need to change the packaging and imports of this class. In laymen&#39;s terms packaging is where this file is located and referenced from, for use with the server. Imports are interlacing files that allow use of methods within to be shared. In other terms, they tell the class where the methods originated from so that they can be used later on. (Kidpaparoach)

If you&#39;re using a standard PI change this:
[code]
import server.game.players.Client;
[/code]

To this:
[code]
import server.model.players.Client;
[/code]

If you&#39;re using PI: Evolved 3 replace your PotionMixing class with this:

[code]
import server.game.players.Client;

/**
 * 
 * @author 0021sordna &amp; 210jrellik
 * @date 2-28-2012
 * @category Potions
 * 
 */

public class PotionMixing {

	private final Client c;

	public PotionMixing(final Client c) {
		this.c = c;
	}
	
	/*
	 * Constants for use later.
	 */
	
	public static final int VIAL = 227;
	public static final int EMPTY_VIAL = 229;
	
	/**
	 * 
	 * @author 210jrellik
	 * @date 2-28-2012
	 */
	
	public enum CombiningDoses {
		
		STRENGTH(119, 117, 115, 113, VIAL, &quot;Strength&quot;),
		SUPER_STRENGTH(161, 159, 157, 2440, VIAL, &quot;Super strength&quot;),
		ATTACK(125, 123, 121, 2428, VIAL, &quot;Attack&quot;),
		SUPER_ATTACK(149, 147, 145, 2436, VIAL, &quot;Super attack&quot;),
		DEFENCE(137, 135, 133, 2432, VIAL, &quot;Defence&quot;),
		SUPER_DEFENCE(167, 165, 163, 2442, VIAL, &quot;Super defence&quot;),
		RANGING_POTION(173, 171, 169, 2444, VIAL, &quot;Ranging&quot;),
		FISHING(155, 153, 151, 2438, VIAL, &quot;Fishing&quot;),
		PRAYER(143, 141, 139, 2434, VIAL, &quot;Prayer&quot;),
		ANTIFIRE(2458, 2456, 2454, 2452, VIAL, &quot;Antifire&quot;),
		ZAMORAK_BREW(193, 191, 189, 2450, VIAL, &quot;Zamorakian brew&quot;),
		ANTIPOISON(179, 177, 175, 2446, VIAL, &quot;Antipoison&quot;),
		RESTORE(131, 129, 127, 2430, VIAL, &quot;Restoration&quot;),	
		MAGIC_POTION(3046, 3044, 3042, 3040, VIAL, &quot;Magic&quot;),
		SUPER_RESTORE(3030, 3028, 3026, 3024, VIAL, &quot;Super Restoration&quot;),		
		ENERGY(3014, 3012, 3010, 3008, VIAL, &quot;Energy&quot;),
		SUPER_ENERGY(3022, 3020, 3018, 3016, VIAL, &quot;Super Energy&quot;),
		AGILITY(3038, 3036, 3034, 3032, VIAL, &quot;Agility&quot;),			
		SARADOMIN_BREW(6691, 6689, 6687, 6685, VIAL, &quot;Saradomin brew&quot;),		
		ANTIPOISON1(5949, 5947, 5945, 5943, VIAL, &quot;Antipoison(+)&quot;),
		ANTIPOISON2(5958, 5956, 5954, 5952, VIAL, &quot;Antipoison(++)&quot;),	
		SUPER_ANTIPOISON(185, 183, 181, 2448, VIAL, &quot;Super Antipoison&quot;),		
		RELICYMS_BALM(4848, 4846, 4844, 4842, VIAL, &quot;Relicym&#39;s balm&quot;),
		SERUM_207(3414, 3412, 3410, 3408, VIAL, &quot;Serum 207&quot;),	
		COMBAT(9745, 9743, 9741, 9739, VIAL, &quot;Combat&quot;);
		
		/*
		 * This is what the data in the above enumeration is, in order.
		 * EX:
		 * COMBAT(oneDosePotionID, twoDosePotionID, threeDosePotionID, fourDosePotionID, vial, &quot;potionName&quot;);
		 */
		
		int oneDosePotionID, twoDosePotionID, threeDosePotionID, fourDosePotionID, vial;
		String potionName;
		
		/**
		 * @param oneDosePotionID - This is the ID for the potion when it contains one dose.
		 * 
		 * @param twoDosePotionID - This is the ID for the potion when it contains two doses.
		 * 
		 * @param threeDosePotionID - This is the ID for the potion when it contains three doses.
		 * 
		 * @param fourDosePotionID - This is the ID for the (full) potion when it contains four doses.
		 * 
		 * @param vial - This is referenced from:
		 * private static final int VIAL = 227;
		 * It&#39;s a constant and its value never changes.
		 * 
		 * @param potionName - This is a string which is used to set a name for the potion. 
		 * Within an enumeration you can use the name(). method to take the name in-front of the stored data. This however could not be done because of some potion names.
		 */
		
		private CombiningDoses(int oneDosePotionID, int twoDosePotionID, int threeDosePotionID, int fourDosePotionID, int vial, String potionName) {
			this.oneDosePotionID = oneDosePotionID;
			this.twoDosePotionID = twoDosePotionID;
			this.threeDosePotionID = threeDosePotionID;
			this.fourDosePotionID = fourDosePotionID;
			this.vial = vial;
			this.potionName = potionName;
		}
		
		/*
		 * These are code getters to use the data stored in the above enumeration.
		 */

		public int getDoseID1() {
			return oneDosePotionID;
		}
		
		public int getDoseID2() {
			return twoDosePotionID;
		}
		
		public int getDoseID3() {
			return threeDosePotionID;
		}
		
		public int getFourDosePotionID() {
			return fourDosePotionID;
		}
		
		public int getVial() {
			return vial;
		}
		
		public String getPotionName() {
			return potionName;
		}
		
		/**
		 * 
		 * @param id
		 * @return The dose that this id represents for this potion, or -1 if it doesn&#39;t belong to this potion.
		 * @date 2/28/12
		 * @author 0021sordna
		 */
		
		public int getDoseForID(int id) {
			if (id == this.oneDosePotionID) {
				return 1;
			}
			if (id == this.twoDosePotionID) {
				return 2; 
			}
			if (id == this.threeDosePotionID) {
				return 3;
			}
			if (id == this.fourDosePotionID) {
				return 4;
			}
			return -1;
		}
		
		/**
		 * 
		 * @param dose
		 * @return The ID for this dose of the potion, or -1 if this dose doesn&#39;t exist.
		 * @date 2/28/12
		 * @author 0021sordna
		 */
		
		public int getIDForDose(int dose) {
			if (dose == 1) {
				return this.oneDosePotionID;
			}
			if (dose == 2) {
				return this.twoDosePotionID;
			}
			if (dose == 3) {
				return this.threeDosePotionID;
			}
			if (dose == 4) {
				return this.fourDosePotionID;
			}
			if (dose == 0) {
				return EMPTY_VIAL;
			}
			return -1;
		}
		
		/**
		 * 
		 * @param ID
		 * @return The potion that matches the ID. ID can be any dose of the potion.
		 * @date 2/28/12
		 * @author 0021sordna
		 */
		
		public static CombiningDoses getPotionByID(int id) {
			for (CombiningDoses potion : CombiningDoses.values()) {
				if (id == potion.oneDosePotionID) {
					return potion;
				}
				if (id == potion.twoDosePotionID) {
					return potion;
				}
				if (id == potion.threeDosePotionID) {
					return potion;
				}
				if (id == potion.fourDosePotionID) {
					return potion;
				}
			}
			return null;
		}
	}
	
	/**
	 * 
	 * @param firstPotID
	 * @param secondPotID
	 * @date 2/28/12
	 * @author 0021sordna &amp; 210jrellik
	 */
	
	public void potionCombination(int firstPotID, int secondPotID) {
		CombiningDoses potion = CombiningDoses.getPotionByID(firstPotID);
		
		if (potion == null) {
			return;
		}
		
		if (potion.getDoseForID(secondPotID) &gt; 0) {
			int firstPotAmount = potion.getDoseForID(firstPotID);
			int secondPotAmount = potion.getDoseForID(secondPotID);
			
			if (firstPotAmount + secondPotAmount &lt;= 4) { 
				c.getItems().deleteItem(firstPotID, c.getItems().getItemSlot(firstPotID), 1); 
				c.getItems().deleteItem(secondPotID, c.getItems().getItemSlot(secondPotID), 1);
				c.getItems().addItem(potion.getIDForDose(firstPotAmount + secondPotAmount), 1);
				c.getItems().addItem(EMPTY_VIAL, 1); 
			} else { 
				int overflow = (firstPotAmount + secondPotAmount) - 4; 
				c.getItems().deleteItem(firstPotID, c.getItems().getItemSlot(firstPotID), 1); 
				c.getItems().deleteItem(secondPotID, c.getItems().getItemSlot(secondPotID), 1);
				c.getItems().addItem(potion.getIDForDose(4), 1); 
				c.getItems().addItem(potion.getIDForDose(overflow), 1); 
			}
		} else {
			c.sendMessage(&quot;You can&#39;t combine a &quot; + potion.getPotionName() + &quot; potion with a &quot; + CombiningDoses.getPotionByID(secondPotID).getPotionName() + &quot; potion.&quot;);
		}
	}
}
[/code]

Add this in UseItem class in the ItemonItem method:
[code]
		/*
		 * Herblore Potion Mixing
		 */
		
		if (c.getItems().getItemName(itemUsed).contains(&quot;(&quot;) &amp;&amp; c.getItems().getItemName(useWith).contains(&quot;(&quot;)) {
			c.getPotMixing().potionCombination(itemUsed, useWith);
		}
[/code]

Please note that conventions are slightly off, I know this. I prefer ID instead of Id.

Note to Moderators, all code is explained within the class itself. If I need to further explain my code I will do so as needed.</description>
    
    <lastBuildDate>Wed, 14 Mar 2012 01:50:31 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Skiire Skiire]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/skiire">@Skiire</a> wrote:</p>
          <blockquote>
              <p>[quote=“Kidpaparoach, post:19, topic:434713”][quote author=Skiire link=topic=537431.msg3942049#msg3942049 date=1331492868]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Imports are interlacing files that allow use of methods within to be shared.</p>
</blockquote>
</aside>
<p>Your trying to teach, don’t try to sound cool make it simple enough so your actually teaching. Something like imports are basically so the file knows where to the the data from would have sufficed.</p>
</blockquote>
</aside>
<p>I understand what you’re saying, but that’s the way I learned it, almost an exact quote from the javadocs I used to read. I taught/explained everything in this from the way I had learned. We’re saying the same things, I don’t see the difference in why one way is “better” then another.<br>
[/quote]<br>
Understandability.[/quote]</p>
<p>I personally can’t see it, but if you can, that means others can as well. I’ve updated the thread using your reference (along with credits). PM me if you want it removed.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/20</link>
        <pubDate>Wed, 14 Mar 2012 01:50:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-20</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Kidpaparoach Kidpaparoach]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kidpaparoach">@Kidpaparoach</a> wrote:</p>
          <blockquote>
              <p>[quote=“Skiire, post:18, topic:434713”][quote author=Kidpaparoach link=topic=537431.msg3937850#msg3937850 date=1331171447]</p>
<aside class="quote">
<blockquote>
<p>Imports are interlacing files that allow use of methods within to be shared.</p>
</blockquote>
</aside>
<p>Your trying to teach, don’t try to sound cool make it simple enough so your actually teaching. Something like imports are basically so the file knows where to the the data from would have sufficed.<br>
[/quote]</p>
<p>I understand what you’re saying, but that’s the way I learned it, almost an exact quote from the javadocs I used to read. I taught/explained everything in this from the way I had learned. We’re saying the same things, I don’t see the difference in why one way is “better” then another.[/quote]<br>
Understandability.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/19</link>
        <pubDate>Sun, 11 Mar 2012 20:40:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-19</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Skiire Skiire]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/skiire">@Skiire</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="17" data-topic="434713">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/kidpaparoach/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Kidpaparoach:</div>
<blockquote>
<p>[quote]Imports are interlacing files that allow use of methods within to be shared.</p>
</blockquote>
</aside>
<p>Your trying to teach, don’t try to sound cool make it simple enough so your actually teaching. Something like imports are basically so the file knows where to the the data from would have sufficed.[/quote]</p>
<p>I understand what you’re saying, but that’s the way I learned it, almost an exact quote from the javadocs I used to read. I taught/explained everything in this from the way I had learned. We’re saying the same things, I don’t see the difference in why one way is “better” then another.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/18</link>
        <pubDate>Sun, 11 Mar 2012 19:07:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-18</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Kidpaparoach Kidpaparoach]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kidpaparoach">@Kidpaparoach</a> wrote:</p>
          <blockquote>
              <blockquote>Imports are interlacing files that allow use of methods within to be shared.</blockquote>
Your trying to teach, don't try to sound cool make it simple enough so your actually teaching. Something like imports are basically so the file knows where to the the data from would have sufficed.
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/17</link>
        <pubDate>Thu, 08 Mar 2012 01:50:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-17</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>[quote=“demps2k9, post:15, topic:434713”]I believe you write c.addItem in Delta, and not c.getItem.[/quote]only by default <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/16</link>
        <pubDate>Wed, 07 Mar 2012 18:47:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-16</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@demps2k9 demps2k9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/demps2k9">@demps2k9</a> wrote:</p>
          <blockquote>
              <p>I believe you write c.addItem in Delta, and not c.getItem.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/15</link>
        <pubDate>Wed, 07 Mar 2012 18:20:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-15</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@artem543 artem543]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/artem543">@artem543</a> wrote:</p>
          <blockquote>
              <p>Wow, nice</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/14</link>
        <pubDate>Tue, 06 Mar 2012 04:31:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-14</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Carthage Carthage]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/carthage">@Carthage</a> wrote:</p>
          <blockquote>
              <p>thanks, works great</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/13</link>
        <pubDate>Mon, 05 Mar 2012 21:22:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-13</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@RandQm RandQm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/randqm">@RandQm</a> wrote:</p>
          <blockquote>
              <p>[quote=“Skiire, post:11, topic:434713”][quote author=RandQm link=topic=537431.msg3930573#msg3930573 date=1330639416]<br>
Will be me then,<br>
[/quote]</p>
<p>Hmm, I don’t know what to tell you. I have never worked with Delta so I don’t know what to tell you.[/quote]<br>
lulz no prob man ill figure it out</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/12</link>
        <pubDate>Sun, 04 Mar 2012 02:16:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-12</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Skiire Skiire]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/skiire">@Skiire</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="10" data-topic="434713">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/randqm/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> RandQm:</div>
<blockquote>
<p>Will be me then,</p>
</blockquote>
</aside>
<p>Hmm, I don’t know what to tell you. I have never worked with Delta so I don’t know what to tell you.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/11</link>
        <pubDate>Sun, 04 Mar 2012 02:09:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-11</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@RandQm RandQm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/randqm">@RandQm</a> wrote:</p>
          <blockquote>
              <p>[quote=“Skiire, post:9, topic:434713”][quote author=RandQm link=topic=537431.msg3929816#msg3929816 date=1330566971]</p>
<aside class="quote">
<blockquote>
<p>Thanks for the comments. I hadn’t thought about the potion ID merely decreasing by 2, good-eye.</p>
<p>As for why I used PotionMixing.vial, I haven’t a clue. That’s been changed. Thanks for that.</p>
</blockquote>
</aside>
<p>I gave it a try and converted it for my delta, but for some reason it only adds an empty vial and not the new potion.<br>
Not sure if It’s my fault or if it’s your code, just letting you know.<br>
[/quote]</p>
<p>Hmm, that’s odd. It’s working for me.</p>
<p>Thanks for the comments everyone.[/quote]<br>
Will be me then,</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/10</link>
        <pubDate>Thu, 01 Mar 2012 22:03:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-10</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Skiire Skiire]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/skiire">@Skiire</a> wrote:</p>
          <blockquote>
              <p>[quote=“RandQm, post:5, topic:434713”][quote author=Skiire link=topic=537431.msg3929807#msg3929807 date=1330566421]<br>
Thanks for the comments. I hadn’t thought about the potion ID merely decreasing by 2, good-eye.</p>
<p>As for why I used PotionMixing.vial, I haven’t a clue. That’s been changed. Thanks for that.<br>
[/quote]<br>
I gave it a try and converted it for my delta, but for some reason it only adds an empty vial and not the new potion.<br>
Not sure if It’s my fault or if it’s your code, just letting you know.[/quote]</p>
<p>Hmm, that’s odd. It’s working for me.</p>
<p>Thanks for the comments everyone.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/9</link>
        <pubDate>Thu, 01 Mar 2012 20:48:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-9</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>[quote=“Skyro, post:7, topic:434713”]Would this work for an Emulous based server?[/quote]yes… pi came out after emu</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/8</link>
        <pubDate>Thu, 01 Mar 2012 14:17:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-8</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Skyro Arbe]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/skyro">@Skyro</a> wrote:</p>
          <blockquote>
              <p>Would this work for an Emulous based server?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/7</link>
        <pubDate>Thu, 01 Mar 2012 08:51:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-7</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>its good to see people are trying to improve  the skills in pi</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/6</link>
        <pubDate>Thu, 01 Mar 2012 06:16:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-6</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@RandQm RandQm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/randqm">@RandQm</a> wrote:</p>
          <blockquote>
              <p>[quote=“Skiire, post:4, topic:434713”]Thanks for the comments. I hadn’t thought about the potion ID merely decreasing by 2, good-eye.</p>
<p>As for why I used PotionMixing.vial, I haven’t a clue. That’s been changed. Thanks for that.[/quote]<br>
I gave it a try and converted it for my delta, but for some reason it only adds an empty vial and not the new potion.<br>
Not sure if It’s my fault or if it’s your code, just letting you know.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/5</link>
        <pubDate>Thu, 01 Mar 2012 01:56:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Skiire Skiire]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/skiire">@Skiire</a> wrote:</p>
          <blockquote>
              <p>Thanks for the comments. I hadn’t thought about the potion ID merely decreasing by 2, good-eye.</p>
<p><a class="mention" href="/u/randqm">@RandQm</a> Ooops, haha. That’s been fixed.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/4</link>
        <pubDate>Thu, 01 Mar 2012 01:47:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@RandQm RandQm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/randqm">@RandQm</a> wrote:</p>
          <blockquote>
              <p>Good job, but why do you put “PotionMixing.VIAL” instead if just VIAL since it’s declared in the class itself</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/3</link>
        <pubDate>Thu, 01 Mar 2012 01:38:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>Could cut down on the size, considering the item id increases by 2 for a lot of potions when uping the dose.</p>
<p>Great job though.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/2</link>
        <pubDate>Thu, 01 Mar 2012 01:04:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
      <item>
        <title>[PI] Redone PotionMixing Class</title>
        <dc:creator><![CDATA[@Skiire Skiire]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/skiire">@Skiire</a> wrote:</p>
          <blockquote>
              <p>Difficulty: 1/10<br>
Adding: <span class="hashtag">#377</span> revision potion mixing</p>
<p>If you’re using a standard PI you will need to change the packaging and imports of this class. In laymen’s terms packaging is where this file is located and referenced from, for use with the server. Imports are interlacing files that allow use of methods within to be shared. In other terms, they tell the class where the methods originated from so that they can be used later on. (Kidpaparoach)</p>
<p>If you’re using a standard PI change this:</p>
<pre><code class="lang-auto">import server.game.players.Client;</code></pre>
<p>To this:</p>
<pre><code class="lang-auto">import server.model.players.Client;</code></pre>
<p>If you’re using PI: Evolved 3 replace your PotionMixing class with this:</p>
<pre><code class="lang-auto">import server.game.players.Client;

/**
 * 
 * @author 0021sordna &amp; 210jrellik
 * @date 2-28-2012
 * @category Potions
 * 
 */

public class PotionMixing {

	private final Client c;

	public PotionMixing(final Client c) {
		this.c = c;
	}
	
	/*
	 * Constants for use later.
	 */
	
	public static final int VIAL = 227;
	public static final int EMPTY_VIAL = 229;
	
	/**
	 * 
	 * @author 210jrellik
	 * @date 2-28-2012
	 */
	
	public enum CombiningDoses {
		
		STRENGTH(119, 117, 115, 113, VIAL, "Strength"),
		SUPER_STRENGTH(161, 159, 157, 2440, VIAL, "Super strength"),
		ATTACK(125, 123, 121, 2428, VIAL, "Attack"),
		SUPER_ATTACK(149, 147, 145, 2436, VIAL, "Super attack"),
		DEFENCE(137, 135, 133, 2432, VIAL, "Defence"),
		SUPER_DEFENCE(167, 165, 163, 2442, VIAL, "Super defence"),
		RANGING_POTION(173, 171, 169, 2444, VIAL, "Ranging"),
		FISHING(155, 153, 151, 2438, VIAL, "Fishing"),
		PRAYER(143, 141, 139, 2434, VIAL, "Prayer"),
		ANTIFIRE(2458, 2456, 2454, 2452, VIAL, "Antifire"),
		ZAMORAK_BREW(193, 191, 189, 2450, VIAL, "Zamorakian brew"),
		ANTIPOISON(179, 177, 175, 2446, VIAL, "Antipoison"),
		RESTORE(131, 129, 127, 2430, VIAL, "Restoration"),	
		MAGIC_POTION(3046, 3044, 3042, 3040, VIAL, "Magic"),
		SUPER_RESTORE(3030, 3028, 3026, 3024, VIAL, "Super Restoration"),		
		ENERGY(3014, 3012, 3010, 3008, VIAL, "Energy"),
		SUPER_ENERGY(3022, 3020, 3018, 3016, VIAL, "Super Energy"),
		AGILITY(3038, 3036, 3034, 3032, VIAL, "Agility"),			
		SARADOMIN_BREW(6691, 6689, 6687, 6685, VIAL, "Saradomin brew"),		
		ANTIPOISON1(5949, 5947, 5945, 5943, VIAL, "Antipoison(+)"),
		ANTIPOISON2(5958, 5956, 5954, 5952, VIAL, "Antipoison(++)"),	
		SUPER_ANTIPOISON(185, 183, 181, 2448, VIAL, "Super Antipoison"),		
		RELICYMS_BALM(4848, 4846, 4844, 4842, VIAL, "Relicym's balm"),
		SERUM_207(3414, 3412, 3410, 3408, VIAL, "Serum 207"),	
		COMBAT(9745, 9743, 9741, 9739, VIAL, "Combat");
		
		/*
		 * This is what the data in the above enumeration is, in order.
		 * EX:
		 * COMBAT(oneDosePotionID, twoDosePotionID, threeDosePotionID, fourDosePotionID, vial, "potionName");
		 */
		
		int oneDosePotionID, twoDosePotionID, threeDosePotionID, fourDosePotionID, vial;
		String potionName;
		
		/**
		 * @param oneDosePotionID - This is the ID for the potion when it contains one dose.
		 * 
		 * @param twoDosePotionID - This is the ID for the potion when it contains two doses.
		 * 
		 * @param threeDosePotionID - This is the ID for the potion when it contains three doses.
		 * 
		 * @param fourDosePotionID - This is the ID for the (full) potion when it contains four doses.
		 * 
		 * @param vial - This is referenced from:
		 * private static final int VIAL = 227;
		 * It's a constant and its value never changes.
		 * 
		 * @param potionName - This is a string which is used to set a name for the potion. 
		 * Within an enumeration you can use the name(). method to take the name in-front of the stored data. This however could not be done because of some potion names.
		 */
		
		private CombiningDoses(int oneDosePotionID, int twoDosePotionID, int threeDosePotionID, int fourDosePotionID, int vial, String potionName) {
			this.oneDosePotionID = oneDosePotionID;
			this.twoDosePotionID = twoDosePotionID;
			this.threeDosePotionID = threeDosePotionID;
			this.fourDosePotionID = fourDosePotionID;
			this.vial = vial;
			this.potionName = potionName;
		}
		
		/*
		 * These are code getters to use the data stored in the above enumeration.
		 */

		public int getDoseID1() {
			return oneDosePotionID;
		}
		
		public int getDoseID2() {
			return twoDosePotionID;
		}
		
		public int getDoseID3() {
			return threeDosePotionID;
		}
		
		public int getFourDosePotionID() {
			return fourDosePotionID;
		}
		
		public int getVial() {
			return vial;
		}
		
		public String getPotionName() {
			return potionName;
		}
		
		/**
		 * 
		 * @param id
		 * @return The dose that this id represents for this potion, or -1 if it doesn't belong to this potion.
		 * @date 2/28/12
		 * @author 0021sordna
		 */
		
		public int getDoseForID(int id) {
			if (id == this.oneDosePotionID) {
				return 1;
			}
			if (id == this.twoDosePotionID) {
				return 2; 
			}
			if (id == this.threeDosePotionID) {
				return 3;
			}
			if (id == this.fourDosePotionID) {
				return 4;
			}
			return -1;
		}
		
		/**
		 * 
		 * @param dose
		 * @return The ID for this dose of the potion, or -1 if this dose doesn't exist.
		 * @date 2/28/12
		 * @author 0021sordna
		 */
		
		public int getIDForDose(int dose) {
			if (dose == 1) {
				return this.oneDosePotionID;
			}
			if (dose == 2) {
				return this.twoDosePotionID;
			}
			if (dose == 3) {
				return this.threeDosePotionID;
			}
			if (dose == 4) {
				return this.fourDosePotionID;
			}
			if (dose == 0) {
				return EMPTY_VIAL;
			}
			return -1;
		}
		
		/**
		 * 
		 * @param ID
		 * @return The potion that matches the ID. ID can be any dose of the potion.
		 * @date 2/28/12
		 * @author 0021sordna
		 */
		
		public static CombiningDoses getPotionByID(int id) {
			for (CombiningDoses potion : CombiningDoses.values()) {
				if (id == potion.oneDosePotionID) {
					return potion;
				}
				if (id == potion.twoDosePotionID) {
					return potion;
				}
				if (id == potion.threeDosePotionID) {
					return potion;
				}
				if (id == potion.fourDosePotionID) {
					return potion;
				}
			}
			return null;
		}
	}
	
	/**
	 * 
	 * @param firstPotID
	 * @param secondPotID
	 * @date 2/28/12
	 * @author 0021sordna &amp; 210jrellik
	 */
	
	public void potionCombination(int firstPotID, int secondPotID) {
		CombiningDoses potion = CombiningDoses.getPotionByID(firstPotID);
		
		if (potion == null) {
			return;
		}
		
		if (potion.getDoseForID(secondPotID) &gt; 0) {
			int firstPotAmount = potion.getDoseForID(firstPotID);
			int secondPotAmount = potion.getDoseForID(secondPotID);
			
			if (firstPotAmount + secondPotAmount &lt;= 4) { 
				c.getItems().deleteItem(firstPotID, c.getItems().getItemSlot(firstPotID), 1); 
				c.getItems().deleteItem(secondPotID, c.getItems().getItemSlot(secondPotID), 1);
				c.getItems().addItem(potion.getIDForDose(firstPotAmount + secondPotAmount), 1);
				c.getItems().addItem(EMPTY_VIAL, 1); 
			} else { 
				int overflow = (firstPotAmount + secondPotAmount) - 4; 
				c.getItems().deleteItem(firstPotID, c.getItems().getItemSlot(firstPotID), 1); 
				c.getItems().deleteItem(secondPotID, c.getItems().getItemSlot(secondPotID), 1);
				c.getItems().addItem(potion.getIDForDose(4), 1); 
				c.getItems().addItem(potion.getIDForDose(overflow), 1); 
			}
		} else {
			c.sendMessage("You can't combine a " + potion.getPotionName() + " potion with a " + CombiningDoses.getPotionByID(secondPotID).getPotionName() + " potion.");
		}
	}
}</code></pre>
<p>Add this in UseItem class in the ItemonItem method:</p>
<pre><code class="lang-auto">		/*
		 * Herblore Potion Mixing
		 */
		
		if (c.getItems().getItemName(itemUsed).contains("(") &amp;&amp; c.getItems().getItemName(useWith).contains("(")) {
			c.getPotMixing().potionCombination(itemUsed, useWith);
		}</code></pre>
<p>Please note that conventions are slightly off, I know this. I prefer ID instead of Id.</p>
<p>Note to Moderators, all code is explained within the class itself. If I need to further explain my code I will do so as needed.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713/1</link>
        <pubDate>Thu, 01 Mar 2012 00:36:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-434713-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-redone-potionmixing-class/434713.rss">[PI] Redone PotionMixing Class</source>
      </item>
  </channel>
</rss>
