<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Which way is better for classes? C++</title>
    <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425</link>
    <description>Hello

I got a question in C++ say im using a vector for players such as

std::vector&lt;Player&gt; players;

and the Player class contains a bunch of pointers to stuff like stream and Cryption which some are created at runtime which is obviously stream but others like Cryption are created after the player&#39;s client authentication gets session keys.

Now I could of just used

std::vector&lt;Player*&gt; players;

but I heard thats very inefficient compared to the one above this one.

So Im forced to use a copy constructor.. like  (not sure if im using it correctly).

[code]
Player::Player(const Player &amp;orig) {
	//Copy constructor for using vector class without new pointers.

	this-&gt;playerId = orig.playerId;
	this-&gt;mySock = orig.mySock;
	this-&gt;outStream = new outStream();
	this-&gt;inStream = new inStream();
	this-&gt;outStream-&gt;currentOffset = 0;
	this-&gt;inStream-&gt;currentOffset = 0;
	this-&gt;connected = true

	printf(&quot;[Player]: playerId : [%d] Socket ptr: [%d] connectedFrom [%s]\n&quot;, playerId, s, connectedFrom.c_str());
	CreateThread(NULL, 0,(LPTHREAD_START_ROUTINE)process,(LPVOID)this, 0, NULL); 
}

//old constructor with the for the old way ( Player* player = new Player(slot, s); )
Player::Player(int playerId, SOCKET s) {

	this-&gt;playerId = playerId;
	this-&gt;mySock = s;
	//outStream = new Stream();
	//inStream = new Stream();
	//outStream-&gt;currentOffset = 0;
	//inStream-&gt;currentOffset = 0;
	//connected = true;
}
[/code]

now the problem I&#39;m having is the destructor.

But the first Player class will get destroyed anyways which means the destructor will be called already once at creation of Player copy.. when a player is just added into the vector. Now how do I make it that the destructor for the first time will only destroy the old values.. on it&#39;s level and not do other destructor&#39;s things like I have closesocket(mySock) in destructor so well.. it will release the socket when player is created (which it does ATM) I mean yah.. i could just add a variable thats default false and in copy constructor it turns true so if false don&#39;t does old level and true does new level destruct.

It&#39;s really confusing me since lets say I have to use a rarely used function/subroutine which is going to create a new pointer that is declared in the Player class would it call the current Player class or the destroyed one after copy is complete which it is going to be.. since it doesn&#39;t take 20 minutes to copy it. 

whats all the benefits from it?

only good benefit from it would be not doing 
delete player[ i ]; 
in the remove procedure but just doing 
players.erase(players.begin()+i);

I kinda get the concept but well which way is better?? is this stack allocation?? and new keyword is heap?? or am I just making a wrapper and complicating things for myself</description>
    
    <lastBuildDate>Wed, 24 Sep 2008 01:15:07 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="37" data-topic="231425">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/moparscape4lifez/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> moparscape4lifez:</div>
<blockquote>
<p>I was planning to only use structs and no classes and like</p>
</blockquote>
</aside>
<p>Then why aren’t you using C instead of C++?</p>
<p>I’m trying to be helpful here when I say you should write it in C++ using objects and the boost library instead of windows API.  If you want to make it even easier on yourself make a solid design first, don’t base your code on winterlove’s server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/48">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/48</link>
        <pubDate>Wed, 24 Sep 2008 01:15:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-48</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@Speljohan Speljohan]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/speljohan">@Speljohan</a> wrote:</p>
          <blockquote>
              <p>[quote=“moparscape4lifez, post:20, topic:231425”]know of any good controls like InputStream I could give the recv() cuz atm it does mess up encryption after a while because it keeps filling up the 5000 byte buffer over and over lets say first recv it gets 1 and a half a packets next recv it gets the rest… but it will overwrite the old buffer data… gotta make it sync’d and maybe add 2 buffers to keep pushing data  on it. But a control like InputStream would be better I’ve seen one on google but u gotta pay for it… nevermind used a std control</p>
<p>Nevermind lol stupid question I got it all working… anyways sweet server is complete now just all thats left to do is to add packets and all that easy stuff!</p>
<p>Also I can’t even believe people can compare java to C++ as just being easier but nearly the same speed… its not even close… I mean I just ran my server with spamming clicks inside the game window passing like 3-4 packets per second for a minute looked in Task Manager its always at 990 KB of ram… never changing and the usage is always 0% as well…</p>
<p>But yah I guess cuz I haven’t added those process bool’s yet that RS2 servers have but after I do I hardly think its gonna change anything[/quote]Ur a complete idiot.</p>
<ol>
<li>l2threading</li>
<li>l2oop</li>
<li>l2structuraldesign</li>
</ol>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/47">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/47</link>
        <pubDate>Tue, 23 Sep 2008 17:27:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-47</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@xEnt xEnt]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xent">@xEnt</a> wrote:</p>
          <blockquote>
              <p>m8 go learn vb++ ROFLOLZ</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/46">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/46</link>
        <pubDate>Tue, 23 Sep 2008 09:59:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-46</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@the_bank the bank]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_bank">@the_bank</a> wrote:</p>
          <blockquote>
              <p>[quote=“moparscape4lifez, post:42, topic:231425”]whatever i’m 100% sure this won’t turn big… as it is using 377 or lower idk…  people can fix it later… after I release it… I might give up on this or start re-writing it later on…</p>
<p>I like writing logic more then design tbh… thats what im hoping to do here after its running.[/quote]All the problems you have, are all smaller stems from the original massive issue.  You.</p>
<p>Please, do humor me by telling me one time you have actually written anything “logical”.  And is there no logic in design anymore?</p>
<p>Also, I like how you just created a scapegoat.  The whole “I might scrap this and start over later” bullshit has been used for years.  You are not original.  You are simply giving yourself a scapegoat so if you fail, which you will, you can say you “scrapped it”.</p>
<p>And finally, I don’t think anyone here gives a flying fuck about your c++ server, your lack of c++ knowledge, or you for that matter.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/45">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/45</link>
        <pubDate>Sun, 21 Sep 2008 16:55:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-45</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@blknhckr blknhckr]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/blknhckr">@blknhckr</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="40" data-topic="231425">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/moparscape4lifez/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> moparscape4lifez:</div>
<blockquote>
<p>who the fuck will run this on a unix system rofl? its already based on winsock sockets microsoft threads and such its only for windows! (well im not sure if unix can run windows API but dunno… then it would work??)</p>
</blockquote>
</aside>
<p>loooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooool</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/44">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/44</link>
        <pubDate>Sun, 21 Sep 2008 15:50:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-44</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@ilyaostr9 io9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ilyaostr9">@ilyaostr9</a> wrote:</p>
          <blockquote>
              <p>I didn’t ask about your knowledge on pointers, I asked if you knew what OOP and polymorphism meant, and no, not everything is a pointer. The actual data cannot be a pointer because otherwise it would not be the actual data. Also, UNIX-based systems were practically intended to be used as mainframes/servers, so it would make 99999999x more sense to make your application cross-platform, but you would know that, if you weren’t a complete and total retard.</p>
<aside class="quote no-group quote-modified" data-post="42" data-topic="231425">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/moparscape4lifez/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> moparscape4lifez:</div>
<blockquote>
<p>I like writing logic more then design tbh…</p>
</blockquote>
</aside>
<p>I see that you are into challenges, as you clearly lack logic.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/43">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/43</link>
        <pubDate>Sun, 21 Sep 2008 04:40:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-43</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@moparscape4lifez moparscape4lifez]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparscape4lifez">@moparscape4lifez</a> wrote:</p>
          <blockquote>
              <p>whatever i’m 100% sure this won’t turn big… as it is using 377 or lower idk…  people can fix it later… after I release it… I might give up on this or start re-writing it later on…</p>
<p>I like writing logic more then design tbh… thats what im hoping to do here after its running.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/42">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/42</link>
        <pubDate>Sun, 21 Sep 2008 04:38:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-42</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@lawl lawl]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lawl">@lawl</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="40" data-topic="231425">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/moparscape4lifez/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> moparscape4lifez:</div>
<blockquote>
<p>who the fuck will run this on a unix system rofl? its already based on winsock sockets microsoft threads and such its only for windows! (well im not sure if unix can run windows API but dunno… then it would work??)</p>
</blockquote>
</aside>
<p>thats your problem, servers are generally run on linux systems because windows is unstable and inefficient<br>
the point is not to use windows specific apis…<br>
theres cross platform ways of making threads and sockets, look at boost</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/41">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/41</link>
        <pubDate>Sun, 21 Sep 2008 04:35:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-41</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@moparscape4lifez moparscape4lifez]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparscape4lifez">@moparscape4lifez</a> wrote:</p>
          <blockquote>
              <p>rofl…?</p>
<p>I know what all that is… rofl… i said I won’t be using it… i want to keep it basic… i know polymorphism is for sharing stuff class with similar stuff class.</p>
<p>I am no grammar nazi… i am against those people.</p>
<p>I know when to use pointers and when not too (I believe).<br>
you use pointers when you want to give a parameter to a class you are trying to summon.<br>
its same as in java… but you have to delete after…<br>
either way if i use a pointer or not i still make a instance of something and I could pass it as a reference only thing is you gotta delete it after.</p>
<p>everything is a pointer!</p>
<p>edit:<br>
I work from top to bottom… I get everything working… then I start optimizing the design</p>
<p>also <a class="mention" href="/u/lawl">@lawl</a>: who the fuck will run this on a unix system rofl? its already based on winsock sockets microsoft threads and such its only for windows! (well im not sure if unix can run windows API but dunno… then it would work??)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/40">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/40</link>
        <pubDate>Sun, 21 Sep 2008 04:26:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-40</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@ilyaostr9 io9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ilyaostr9">@ilyaostr9</a> wrote:</p>
          <blockquote>
              <blockquote>and these SYIPkpkrs make people angry do they care? lol.
Wouldn't it be funny if i release it and someone finds a remote vulnerability to compremise the other persons machine.. rofl that would be sick.. its like I unexceptionally realized a virus.. and i doubt people will be able to fix it..</blockquote>
You complain about other people's spelling and grammar, yet you make no notice of your own. Also you wouldn't be releasing a virus (please don't try to glorify your incompetence), just you would be releasing a poorly coded, half-assed, piece-of-shit, piece of software, which any ape with a keyboard can easily exploit. Also, the word is inadvertently,  not "unexceptionally," Mr. Grammar Nazi) (also, only I'm the resident Nazi here, so stfu)
<p>Also, do you even know what OOP and polymorphism is (and please don’t paste an answer from google)?<br>
ALSO, why are you doing so complex a project as an entry to a language with an already relatively steep learning-curve?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/39">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/39</link>
        <pubDate>Sun, 21 Sep 2008 04:17:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-39</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@lawl lawl]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lawl">@lawl</a> wrote:</p>
          <blockquote>
              <p>please learn fucking proper c++ before you make any more of a fool of yourself</p>
<ol>
<li>keep your code platform independent. most likely, someone will want to run a server like this on a unix-based machine</li>
<li>pointers - learn when to use them and when not to, you dont need to allocate everything in the player structure at runtime, do you?</li>
</ol>
<p>theres much more, but its just not worth explaining to you as you’re never going to get anywhere with programming with your current state</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/38">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/38</link>
        <pubDate>Sun, 21 Sep 2008 04:16:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-38</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@moparscape4lifez moparscape4lifez]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparscape4lifez">@moparscape4lifez</a> wrote:</p>
          <blockquote>
              <p>and these SYIPkpkrs make people angry do they care? lol.<br>
Wouldn’t it be funny if i release it and someone finds a remote vulnerability to compremise the other persons machine… rofl that would be sick… its like I unexceptionally realized a virus… and i doubt people will be able to fix it… they don’t know what happens but their system got fucked over and stuff. Well i’m a beginner and I will try to make it stable… I don’t see any flaws with winterlove base I like the design… I was planning to only use structs and no classes and like</p>
<p>struct Player {<br>
//variables/pointers etc<br>
}</p>
<p>Player players[MAX_PLAYERS] = {0};</p>
<p>well but I want to do something that doesn’t too much ObjectOrientedProgramming no polymorphism no friending templates but… well look pretty.</p>
<p>I doubt you will be able to exploit it… the only way you could is from recv() packets… and I will make sure it will be impossible to craft bad packets without them getting rejected.</p>
<p>everyone keeps telling me to use boost for shit like boost::shared_ptr just to replace the ‘*’.</p>
<p>But well I am a beginner I want to stick to simple libraries i am familiar with… i’m have trouble as it is… don’t want to complicate it even more… and it will bloat the program in size anyways.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/37">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/37</link>
        <pubDate>Sun, 21 Sep 2008 04:02:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-37</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@ilyaostr9 io9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ilyaostr9">@ilyaostr9</a> wrote:</p>
          <blockquote>
              <p>HOW ABOUT USING A NORMAL DESIGN RATHER THAN COPYING A PIECE OF SHIT BASE JUST IN A DIFFERENT LANGUAGE. Seriously, all you’re fucking doing is changing barely-stable shit, into more unstable-shit. Not only are you opening up so many exploit vulnerabilities, you also make it more prone to memory leaks (at least java has a limited heap space, and the program just exits with an error), and maybe someone is doing important work, and the poorly designed piece of shit leaks. The entire system crashes, and you have a very angry user.</p>
<p>Honestly, if you ever release this, I simply can’t wait to exploit it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/36">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/36</link>
        <pubDate>Sun, 21 Sep 2008 03:12:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-36</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@zstars zstars]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zstars">@zstars</a> wrote:</p>
          <blockquote>
              <p>Yeah, vectors aren’t thread safe, so you can’t use the same vector on two threads at the same time. Multithreading adds a lot of complexity to programs so there is no easy solution, apart from modifying your design. If you want easier to use threads &amp; mutexes I recommend boost.thread, it’s a good library, which will probably be part of the C++ standard in its next revision.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/35">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/35</link>
        <pubDate>Sun, 21 Sep 2008 02:43:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-35</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@moparscape4lifez moparscape4lifez]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparscape4lifez">@moparscape4lifez</a> wrote:</p>
          <blockquote>
              <p>I believe its the iterator… since it happens when the player disconnects… (but… you know client has built in auto-reconnecter) this tells me 2 threads one is trying to add elements to player vector (check for slot add new player) the other is doing removes and iterations (process) and well… this what happens… nothing wrong with destructor.</p>
<pre><code class="lang-auto">Player::~Player() {
	printf("[Player]: Destructor has been called\n");
	connected = false;
	hasLoggedIn = false; //for isPlayerOn.
	closesocket(mySock); //close player socket.
	delete outStream;
	delete inStream;
	delete outStreamCryption;
	delete inStreamCryption;
	delete playerName;
	delete playerPass;
	outStream = NULL;
	inStream = NULL;
	outStreamCryption = NULL;
	inStreamCryption = NULL;
	playerName = NULL;
	playerPass = NULL;
	playerListSize = 0;
}</code></pre>
<p>added allow one thread code… but its too hard to keep track of… cuz i gotta add EnterCirticalSections() all over my project now…</p>
<p>This thread<br>
CreateThread(NULL, 0,(LPTHREAD_START_ROUTINE)processThreadFix, /<em>server</em>/ NULL, 0, NULL);</p>
<pre><code class="lang-auto">
void processThreadFix(/*Server myServer*/) {
	server.worldProcesser();
}
</code></pre>
<p>calls all processes</p>
<pre><code class="lang-auto">
void Server::worldProcesser() {
	/* Initialize the critical section -- This must be done before locking */
	InitializeCriticalSection(&amp;server.cs);
	while(serverRunning) {
		try {
			/* Enter the critical section -- other threads are locked out */
			EnterCriticalSection(&amp;server.cs);

			playerHandler.process();
			npcHandler.process();

			/* Leave the critical section -- other threads can now EnterCriticalSection() */
			LeaveCriticalSection(&amp;server.cs);

			Sleep(1000); //1 second delay on thread (lower this to run process()es's faster.
		//(less time = more CPU power required)
		} catch(exception &amp; ex) {
  			printError("Exception caught: %s", ex.what());  
		} catch(...) {
			printError("Error in world timer!!!\n");
		}
	}
	/* Release system object when all finished -- usually at the end of the cleanup code */
	DeleteCriticalSection(&amp;server.cs);
}
</code></pre>
<p>ex.what() is not catching anything… maybe i can’t use 2 catches?? no Exception caught message.</p>
<p>I have figured out why a infinite loop happens though… because my try{}catch{} is preventing the server from crashing… but… it never calls serverRunning = false; so the loop dies but the thread calls it again… over and over… keeps going and printing error non-stop</p>
<p>ATM the project is kinda messy i want to just get stuff working… then i will do cleanups. im calling public variables without any methods.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/34">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/34</link>
        <pubDate>Sun, 21 Sep 2008 01:56:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-34</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@zstars zstars]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zstars">@zstars</a> wrote:</p>
          <blockquote>
              <p>It can’t be a too bad error, otherwise it would segfault, instead of throwing. As I’ve said, it is most likely in the Player destructor, which doesn’t appear in the video. Post full source, or at least the Player destructor source, and post also what is the text of the exception caught (.what()).</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/33">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/33</link>
        <pubDate>Sun, 21 Sep 2008 00:54:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-33</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@xEnt xEnt]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xent">@xEnt</a> wrote:</p>
          <blockquote>
              <blockquote>moparscape4lifez says</blockquote>
I stopped there.
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/32">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/32</link>
        <pubDate>Sat, 20 Sep 2008 22:47:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-32</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@moparscape4lifez moparscape4lifez]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparscape4lifez">@moparscape4lifez</a> wrote:</p>
          <blockquote>
              <p>seriously can someone tell me whats wrong in this debug video?? which crashes the server.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://web-cdn.spaces.hightail.com/client/13.10.5/styles/themes/spaces/favicon.ico" class="site-icon" width="32" height="32">
      <a href="https://spaces.hightail.com/resolve/download/bVlEYkJ0R0ZlcEozZUE9PQ" target="_blank" rel="nofollow noopener">Hightail Spaces</a>
  </header>
  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:88/86;"><img src="https://s3-us-west-2.amazonaws.com/bitspring-email-assets/hightop.png" class="thumbnail"></div>

<h3><a href="https://spaces.hightail.com/resolve/download/bVlEYkJ0R0ZlcEozZUE9PQ" target="_blank" rel="nofollow noopener">Hightail Spaces</a></h3>

<p>Hightail Spaces lets you send unlimited files, of any size, to anyone. Collaborate with your team and evolve your work.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>cmon I’m just trying to help ppl out in the long run.<br>
i think i got a idea the iterator might has to be a new one everytime… gonna try that.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/31">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/31</link>
        <pubDate>Sat, 20 Sep 2008 22:08:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-31</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@ilyaostr9 io9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ilyaostr9">@ilyaostr9</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="27" data-topic="231425">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/user_avatar/forum.moparisthebest.com/zstars/40/166_1.png" class="avatar"> zstars:</div>
<blockquote>
<p>Wut? How so?</p>
</blockquote>
</aside>
<p>Just look at all of his posts. He’s trying to make a c++ port of wL…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/30">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/30</link>
        <pubDate>Sat, 20 Sep 2008 21:20:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-30</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@Mopman Mopman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mopman">@Mopman</a> wrote:</p>
          <blockquote>
              <p>Let me recommend design.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/29">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/29</link>
        <pubDate>Sat, 20 Sep 2008 20:46:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-29</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@moparscape4lifez moparscape4lifez]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparscape4lifez">@moparscape4lifez</a> wrote:</p>
          <blockquote>
              <p>Lol well i’m not totally stupid but well I’d join but I want to create a base that people will be comfortable with similar to winterloves.</p>
<p>thx for that exception catcher I thought you had to make and throw your own exceptions only</p>
<p>Yah this is just a learning experience for me…</p>
<p>I already know the problem its kinda hard to get around now… the Player destructor is deleting the outStream pointer but in PlayerHandler the outStream pointer is trying to do playerupdates thats if… the player is removed in a bad cycle.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/28">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/28</link>
        <pubDate>Sat, 20 Sep 2008 20:36:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-28</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@zstars zstars]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zstars">@zstars</a> wrote:</p>
          <blockquote>
              <p>Wut? How so?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/27">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/27</link>
        <pubDate>Sat, 20 Sep 2008 19:21:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-27</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@frank frank_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/frank">@frank</a> wrote:</p>
          <blockquote>
              <p>[quote=“zstars, post:25, topic:231425”]The error is probably in Player’s destructor.[/quote]you obviously never read any of his other posts</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/26">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/26</link>
        <pubDate>Sat, 20 Sep 2008 16:49:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-26</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@zstars zstars]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zstars">@zstars</a> wrote:</p>
          <blockquote>
              <p>Nice to see I am not the only one who likes C++ servers <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>The error is probably in Player’s destructor. If you wanna make it a little easier to find what it is, you could replace the catch(…) with a:</p>
<pre><code class="lang-auto">catch(std::exception &amp; ex)
{ 
  std::cout &lt;&lt; "Exception caught: " &lt;&lt; ex.what();  
}</code></pre>
<p>That should print the cause of the error (Or at least an exception name).</p>
<p>Edit: By the way, although we have been somewhat inactive lately, at RuneEmu we’re making a server in C++ too, so if you want to join us, you are invited <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/25">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/25</link>
        <pubDate>Sat, 20 Sep 2008 14:47:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-25</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
      <item>
        <title>Which way is better for classes? C++</title>
        <dc:creator><![CDATA[@silabsoft RuneAgent]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/silabsoft">@silabsoft</a> wrote:</p>
          <blockquote>
              <p>[quote=“k00dr, post:22, topic:231425”][quote author=frank_ link=topic=304804.msg2447720#msg2447720 date=1221824439]</p>
<aside class="quote no-group">
<blockquote>
<p>But yah I guess cuz I haven’t added those process bool’s yet that RS2 servers have but after I do I hardly think its gonna change anything<br>
[/quote].</p>
</blockquote>
</aside>
<p>Owned.[/quote]<br>
<em>plays the twilightzone theme</em></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425/24</link>
        <pubDate>Sat, 20 Sep 2008 10:25:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-231425-24</guid>
        <source url="https://forum.moparisthebest.com/t/which-way-is-better-for-classes-c/231425.rss">Which way is better for classes? C++</source>
      </item>
  </channel>
</rss>
