<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Private chat logs?</title>
    <link>https://forum.moparisthebest.com/t/private-chat-logs/290965</link>
    <description>i&#39;ve been wondering how to make private chat logs... any help is apprecaited. :|</description>
    
    <lastBuildDate>Sun, 26 Jul 2009 04:35:40 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/private-chat-logs/290965.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Private chat logs?</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>ok, I forgot. replace the static { } thing I posted with this:</p>
<p><code>
static {
    try {
        pmWriter = new FileWriter("./data/PM Logs.txt");
        writer = new BufferedWriter(pmWriter);
    } catch(Exception error) {
        error.printStackTrace();
    }
}</code>[br][br][size=1]Posted on: July 25, 2009, 08:37:39 pm[/size][hr]You’ll probably get the same error when write is called from case 126.[br][br][size=1]Posted on: July 25, 2009, 10:27:24 pm[/size][hr]Has it worked?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-chat-logs/290965/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-chat-logs/290965/9</link>
        <pubDate>Sun, 26 Jul 2009 04:35:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-290965-9</guid>
        <source url="https://forum.moparisthebest.com/t/private-chat-logs/290965.rss">Private chat logs?</source>
      </item>
      <item>
        <title>Private chat logs?</title>
        <dc:creator><![CDATA[@Jddogg9 Jddogg9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jddogg9">@Jddogg9</a> wrote:</p>
          <blockquote>
              <p>alright hold on[br][br][size=1]Posted on: July 25, 2009, 10:00:21 pm[/size][hr]got this error in compiler</p>
<p><code>client.java:10080: unreported exception java.io.IOException; must be caught or d
eclared to be thrown
    pmWriter = new FileWriter("./data/PM Logs.txt");
               ^
1 error
Press any key to continue . . .
</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-chat-logs/290965/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-chat-logs/290965/8</link>
        <pubDate>Sun, 26 Jul 2009 03:58:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-290965-8</guid>
        <source url="https://forum.moparisthebest.com/t/private-chat-logs/290965.rss">Private chat logs?</source>
      </item>
      <item>
        <title>Private chat logs?</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>ya put this:</p>
<p>[code]<br>
public static FileWriter pmWriter;<br>
public static BufferedWriter writer;</p>
<p>static {<br>
pmWriter = new FileWriter("./data/PM Logs.txt");<br>
writer = new BufferedWriter(pmWriter);<br>
}[/code]</p>
<p>before</p>
<p><code>
private void parseIncomingPackets() {</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-chat-logs/290965/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-chat-logs/290965/7</link>
        <pubDate>Sun, 26 Jul 2009 03:56:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-290965-7</guid>
        <source url="https://forum.moparisthebest.com/t/private-chat-logs/290965.rss">Private chat logs?</source>
      </item>
      <item>
        <title>Private chat logs?</title>
        <dc:creator><![CDATA[@Jddogg9 Jddogg9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jddogg9">@Jddogg9</a> wrote:</p>
          <blockquote>
              <p>i’m guessing this?</p>
<p><code>private void parseIncomingPackets() {
		int i;
		int junk;
		int junk2;
		int junk3;
		lastPacket = System.currentTimeMillis();
		// if(packetType != 0) println("" + packetType);
		switch (packetType) {</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-chat-logs/290965/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-chat-logs/290965/6</link>
        <pubDate>Sun, 26 Jul 2009 03:54:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-290965-6</guid>
        <source url="https://forum.moparisthebest.com/t/private-chat-logs/290965.rss">Private chat logs?</source>
      </item>
      <item>
        <title>Private chat logs?</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">byte pmchatText[] = new byte[100];</code></pre>
<p>That’s the string in bytes. so do something like this:</p>
<p>Before the parseIncomingPackets method, add this</p>
<pre><code class="lang-auto">public static FileWriter pmWriter;
public static BufferedWriter writer;

static {
    pmWriter = new FileWriter("./data/PM Logs.txt");
    writer = new BufferedWriter(pmWriter);
}</code></pre>
<p>than replace the code you posted, with this…</p>
<p>[code]<br>
case 126:<br>
// pm message<br>
long friendtosend = inStream.readQWord();<br>
byte pmchatText[] = new byte[100];<br>
int pmchatTextSize = (byte) (packetSize - 8);</p>
<pre><code>inStream.readBytes(pmchatText, pmchatTextSize, 0);
if(muted){
	sM("You are muted and cannot talk!");
	break;
}
for (long element : friends) {
	if (element == friendtosend) {
		boolean pmsent = false;

		for (int i2 = 1; i2 &lt; handler.maxPlayers; i2++) {
			if ((handler.players[i2] != null) &amp;&amp; handler.players[i2].isActive &amp;&amp; (misc.playerNameToInt64(handler.players[i2].playerName) == friendtosend)) {
				if ((playerRights &gt;= 2) || (handler.players[i2].Privatechat == 0) || ((handler.players[i2].Privatechat == 1) &amp;&amp; handler.players[i2].isinpm(misc.playerNameToInt64(playerName)))) {
					handler.players[i2].sendpm(misc.playerNameToInt64(playerName), playerRights, pmchatText, pmchatTextSize);
					pmsent = true;
					writer.write(/*ServerEngine.getCurrentTime()*/sender.getName() + " sent to " + receiver.getName() + " message: " + sentMessage);
    				writer.flush();
				}
			break;
		}
	}[/code]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-chat-logs/290965/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-chat-logs/290965/5</link>
        <pubDate>Sun, 26 Jul 2009 03:51:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-290965-5</guid>
        <source url="https://forum.moparisthebest.com/t/private-chat-logs/290965.rss">Private chat logs?</source>
      </item>
      <item>
        <title>Private chat logs?</title>
        <dc:creator><![CDATA[@Jddogg9 Jddogg9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jddogg9">@Jddogg9</a> wrote:</p>
          <blockquote>
              <p>only found a case…</p>
<p>[code]case 126:<br>
// pm message<br>
long friendtosend = inStream.readQWord();<br>
byte pmchatText[] = new byte[100];<br>
int pmchatTextSize = (byte) (packetSize - 8);</p>
<pre><code>		inStream.readBytes(pmchatText, pmchatTextSize, 0);
</code></pre>
<p>if(muted){<br>
sM(“You are muted and cannot talk!”);<br>
break;<br>
}<br>
for (long element : friends) {<br>
if (element == friendtosend) {<br>
boolean pmsent = false;</p>
<pre><code>				for (int i2 = 1; i2 &lt; handler.maxPlayers; i2++) {
					if ((handler.players[i2] != null)
							&amp;&amp; handler.players[i2].isActive
							&amp;&amp; (misc
									.playerNameToInt64(handler.players[i2].playerName) == friendtosend)) {
						if ((playerRights &gt;= 2)
								|| (handler.players[i2].Privatechat == 0)
								|| ((handler.players[i2].Privatechat == 1) &amp;&amp; handler.players[i2]
										.isinpm(misc
												.playerNameToInt64(playerName)))) {
							handler.players[i2].sendpm(misc
									.playerNameToInt64(playerName),
									playerRights, pmchatText,
									pmchatTextSize);
							pmsent = true;
						}
						break;
					}
				}[/code]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-chat-logs/290965/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-chat-logs/290965/4</link>
        <pubDate>Sun, 26 Jul 2009 03:32:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-290965-4</guid>
        <source url="https://forum.moparisthebest.com/t/private-chat-logs/290965.rss">Private chat logs?</source>
      </item>
      <item>
        <title>Private chat logs?</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>In the class that handles your PMing(probably client), make it so that whenever a message is sent, it writes, and flushes the stream:</p>
<p>[code]<br>
public static FileWriter pmWriter;<br>
public static BufferedWriter writer;</p>
<p>static {<br>
pmWriter = new FileWriter("./data/PM Logs.txt");<br>
writer = new BufferedWriter(pmWriter);<br>
}</p>
<p>public void handlePM(Player sender, Player receiver) {//Or whatever the method is…<br>
try {<br>
…//Send message to other player<br>
writer.write(/<em>ServerEngine.getCurrentTime()</em>/sender.getName() + " sent to " + receiver.getName() + " message: " + sentMessage);<br>
writer.flush();<br>
} catch(Exception error) {<br>
error.printStackTrace();<br>
}<br>
}[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-chat-logs/290965/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-chat-logs/290965/3</link>
        <pubDate>Sun, 26 Jul 2009 03:24:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-290965-3</guid>
        <source url="https://forum.moparisthebest.com/t/private-chat-logs/290965.rss">Private chat logs?</source>
      </item>
      <item>
        <title>Private chat logs?</title>
        <dc:creator><![CDATA[@str_by_zammy str by zammy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/str_by_zammy">@str_by_zammy</a> wrote:</p>
          <blockquote>
              <p>You mean for Private Messages, right?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-chat-logs/290965/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-chat-logs/290965/2</link>
        <pubDate>Sun, 26 Jul 2009 03:17:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-290965-2</guid>
        <source url="https://forum.moparisthebest.com/t/private-chat-logs/290965.rss">Private chat logs?</source>
      </item>
      <item>
        <title>Private chat logs?</title>
        <dc:creator><![CDATA[@Jddogg9 Jddogg9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jddogg9">@Jddogg9</a> wrote:</p>
          <blockquote>
              <p>i’ve been wondering how to make private chat logs… any help is apprecaited. <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-chat-logs/290965/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-chat-logs/290965/1</link>
        <pubDate>Sun, 26 Jul 2009 03:11:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-290965-1</guid>
        <source url="https://forum.moparisthebest.com/t/private-chat-logs/290965.rss">Private chat logs?</source>
      </item>
  </channel>
</rss>
