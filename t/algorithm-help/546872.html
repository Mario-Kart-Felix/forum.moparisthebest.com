<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/algorithm-help/546872 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Algorithm help - General Programming - moparisthebest.com</title>
    <meta name="description" content="I am trying to make it so my player is render on the screen in relation to where it is on the map... 

[code=Java] 	@Override 	public void drawEntity(GUIContext container, Graphics g, MapBase map) 	{ 		if (skin == null) 	&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="546872.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Algorithm help&#39;" href="546872.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://puu.sh/bGpHi/dc5ed4819e.png" />
<meta property="og:image" content="http://puu.sh/bGpHi/dc5ed4819e.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/algorithm-help/546872" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/algorithm-help/546872" />
<meta property="og:title" content="Algorithm help" />
<meta name="twitter:title" content="Algorithm help" />
<meta property="og:description" content="I am trying to make it so my player is render on the screen in relation to where it is on the map…  	@Override 	public void drawEntity(GUIContext container, Graphics g, MapBase map) 	{ 		if (skin == null) 		{ 			skin = Textures.getSkin(getSkinIdx()); 		} 		int scrnTWidth = container.getWidth() / map.getTileWidth() / 2; // width of the viewport in tiles (note the &#39;2&#39; is scale and is static right now) 		int scrnTHeight = container.getHeight() / map.getTileHeight() / 2;// height of the viewport in ..." />
<meta name="twitter:description" content="I am trying to make it so my player is render on the screen in relation to where it is on the map…  	@Override 	public void drawEntity(GUIContext container, Graphics g, MapBase map) 	{ 		if (skin == null) 		{ 			skin = Textures.getSkin(getSkinIdx()); 		} 		int scrnTWidth = container.getWidth() / map.getTileWidth() / 2; // width of the viewport in tiles (note the &#39;2&#39; is scale and is static right now) 		int scrnTHeight = container.getHeight() / map.getTileHeight() / 2;// height of the viewport in ..." />
<meta property="article:published_time" content="2014-09-20T10:32:33+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="546872.html">Algorithm help</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/FusionLord.html'><span itemprop='name'>FusionLord</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-20T10:32:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:48:27Z' class='post-time'>
              August 4, 2016,  1:48pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I am trying to make it so my player is render on the screen in relation to where it is on the map…</p>
<pre><code class="lang-auto">	@Override
	public void drawEntity(GUIContext container, Graphics g, MapBase map)
	{
		if (skin == null)
		{
			skin = Textures.getSkin(getSkinIdx());
		}
		int scrnTWidth = container.getWidth() / map.getTileWidth() / 2; // width of the viewport in tiles (note the '2' is scale and is static right now)
		int scrnTHeight = container.getHeight() / map.getTileHeight() / 2;// height of the viewport in tiles (note the '2' is scale and is static right now)

		//Not Correct!!! RED AREA
		int drawX = xPos / scrnTWidth * map.getTileWidth() / 2; // this is where it error is I think...
		int drawY = yPos / scrnTHeight * map.getTileHeight() / 2;

		//This is working!!! GREEN AREA
		if (xPos &gt; scrnTWidth / 2 &amp;&amp; xPos + (scrnTWidth - 1) &lt; map.getWidth())
			drawX = scrnTWidth / 2 * map.getTileWidth();
		if (yPos &gt; scrnTHeight / 2 &amp;&amp; yPos + scrnTHeight &lt; map.getHeight())
			drawY = scrnTHeight / 2 * map.getTileHeight();
		skin.draw(g, drawX, drawY, map.getTileWidth(), map.getTileHeight(), skinX + 2, skinY);
	}</code></pre>
<p>Red is the problem.<br>
<img src="http://puu.sh/bGpHi/dc5ed4819e.png" alt width="" height=""></p>
<p>Thanks for any help you may provide.</p>
      </div>

      <meta itemprop='headline' content='Algorithm help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Docent.html'><span itemprop='name'>Docent</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-20T14:55:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:48:28Z' class='post-time'>
              August 4, 2016,  1:48pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>wait. so is the camera locked on the player so that the player is always in the center or is it a situation where the player can move freely. Either way, you want to move the map itself, not the player.</p>
      </div>

      <meta itemprop='headline' content='Algorithm help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/FusionLord.html'><span itemprop='name'>FusionLord</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-21T01:43:52Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:48:31Z' class='post-time'>
              August 4, 2016,  1:48pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="546872">
<div class="title">
<div class="quote-controls"></div>
 Limits:</div>
<blockquote>
<p>wait. so is the camera locked on the player so that the player is always in the center or is it a situation where the player can move freely. Either way, you want to move the map itself, not the player.</p>
</blockquote>
</aside>
<p>The player is locked in the center of the map when they are in the green area of the map, but when they are near the edge they move to the edge of the screen… so the map stops moving. I have the map moving correctly, just having issues with the player location on screen when on the right and bottom edge.</p>
      </div>

      <meta itemprop='headline' content='Algorithm help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/wildskiller.html'><span itemprop='name'>wildskiller</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-10-03T02:56:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:50:13Z' class='post-time'>
              August 4, 2016,  1:50pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Look Here: <a href="http://www.moparisthebest.com/smf/index.php/topic,663022.0.html" rel="nofollow noopener">http://www.moparisthebest.com/smf/index.php/topic,663022.0.html</a></p>
<p>Something like this</p>
<pre><code class="lang-auto">if (skin == null)
{
        skin = Textures.getSkin(getSkinIdx());
}
final int offsX = map.getWidth()  - container.getWidth();
final int offsY = map.getHeight() - container.getHeight();

int drawX = xPos - container.getWidth() / 2;
int drawY = yPos - container.getHeight() / 2;

if (drawX &lt; 0) drawX = 0;
if (drawX &gt; offsX) drawX = offsX;
if (drawY &lt; 0) drawY = 0;
if (drawY &gt; offsY) drawY = offsY;

skin.draw(g, drawX, drawY, map.getTileWidth(), map.getTileHeight(), skinX + 2, skinY);</code></pre>
<p>If you only want the green area of the map to scroll, you will have to replace the values using the total map bounds to use just the green area bounds.</p>
<p>Like so…</p>
<p>final int offsX = map.getGreenBounds()  - container.getWidth();</p>
      </div>

      <meta itemprop='headline' content='Algorithm help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/algorithm-help/546872 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:02 GMT -->
</html>
