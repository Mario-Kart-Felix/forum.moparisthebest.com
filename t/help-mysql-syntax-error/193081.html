<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/help-mysql-syntax-error/193081 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 16:00:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[HELP] MySQL Syntax error? - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hey all, i have a save bug in uber 3.0 server.  

 Connection from localhost:3024
[client-1-krijt]: www.nomercygame.org client detected!
[client-1-_]: Logout
Game saved for player _
ClientHandler: Client _ disconnected (&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="193081.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[HELP] MySQL Syntax error?&#39;" href="193081.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/help-mysql-syntax-error/193081" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/help-mysql-syntax-error/193081" />
<meta property="og:title" content="[HELP] MySQL Syntax error?" />
<meta name="twitter:title" content="[HELP] MySQL Syntax error?" />
<meta property="og:description" content="Hey all, i have a save bug in uber 3.0 server.  Connection from localhost:3024 [client-1-krijt]: www.nomercygame.org client detected! [client-1-_]: Logout Game saved for player _ ClientHandler: Client _ disconnected (localhost) Connection from localhost:3025 [client-1-krijt]: www.nomercygame.org client detected! [client-1-Krijt]: dbId=1 [client-1-Krijt]: Loading Process Completed  [0, 1, 15] [client-1-Krijt]: ab=14067 [client-1-Krijt]: ab=9154 java.sql.SQLException: Syntax error or access violat..." />
<meta name="twitter:description" content="Hey all, i have a save bug in uber 3.0 server.  Connection from localhost:3024 [client-1-krijt]: www.nomercygame.org client detected! [client-1-_]: Logout Game saved for player _ ClientHandler: Client _ disconnected (localhost) Connection from localhost:3025 [client-1-krijt]: www.nomercygame.org client detected! [client-1-Krijt]: dbId=1 [client-1-Krijt]: Loading Process Completed  [0, 1, 15] [client-1-Krijt]: ab=14067 [client-1-Krijt]: ab=9154 java.sql.SQLException: Syntax error or access violat..." />
<meta property="article:published_time" content="2008-03-26T15:37:36+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="193081.html">[HELP] MySQL Syntax error?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/thoompie.html'><span itemprop='name'>thoompie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-03-26T15:37:36Z'>
            <time itemprop='dateModified' datetime='2016-07-30T21:06:47Z' class='post-time'>
              July 30, 2016,  9:06pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey all, i have a save bug in uber 3.0 server.</p>
<pre><code class="lang-auto">Connection from localhost:3024
[client-1-krijt]: www.nomercygame.org client detected!
[client-1-_]: Logout
Game saved for player _
ClientHandler: Client _ disconnected (localhost)
Connection from localhost:3025
[client-1-krijt]: www.nomercygame.org client detected!
[client-1-Krijt]: dbId=1
[client-1-Krijt]: Loading Process Completed  [0, 1, 15]
[client-1-Krijt]: ab=14067
[client-1-Krijt]: ab=9154
java.sql.SQLException: Syntax error or access violation message from server: "Yo
u have an error in your SQL syntax; check the manual that corresponds to your My
SQL server version for the right syntax to use near 'range = 0, prayer = 0, magi
c = 0, cooking = 0, woodcutting = 0, fletching = 0, f' at line 1"
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2001)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1168)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1279)
        at com.mysql.jdbc.Connection.execSQL(Connection.java:2281)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java
:1825)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java
:1667)
        at client.saveStats(client.java:2403)
        at client.logout(client.java:2287)
        at client.parseIncomingPackets(client.java:9422)
        at client.process(client.java:5950)
        at PlayerHandler.process(PlayerHandler.java:192)
        at process.run(process.java:18)
        at java.lang.Thread.run(Unknown Source)
[client-1-Krijt]: Save Exception: 1, Krijt
[client-1-Krijt]: Logout
[client-1-Krijt]: ab=9154
Game saved for player Krijt
ClientHandler: Client Krijt disconnected (localhost)</code></pre>
<p>Here’s my savestats void:</p>
<p>[CODE]    public void saveStats(boolean logout){<br>
if(!validLogin) return;<br>
String[] parts = new String[] {<br>
“pGender”, “pHead”, “pTorso”, “pArms”, “pHands”, “pLegs”, “pFeet”, “pBeard”,<br>
“pHairC”, “pTorsoC”, “pLegsC”, “pFeetC”, “pSkinC”<br>
};<br>
if(playerName == null || playerName.equals(“null”) || dbId &lt; 1){<br>
saveNeeded = false;<br>
return;<br>
}<br>
if(playerName.indexOf("’") &gt; 0 || playerPass.indexOf("`") &gt; 0){<br>
println_debug(“Invalid player name”);<br>
return;<br>
}<br>
if(logout){<br>
if(fightId &gt; 0){<br>
client f = (client)server.playerHandler.players[fightId];<br>
if(f != null){<br>
f.fighting = false;<br>
f.hits = 0;<br>
}<br>
}</p>
<pre><code>}
if(logout &amp;&amp; inTrade){
	declineTrade();
}
try {
	int[] look = {playerLook[0], pHead, pBeard, pTorso, pArms, pHands,
			pLegs, pFeet, pHairC, pTorsoC, pLegsC, pFeetC, pSkinC, 
		    playerLook[1], playerLook[2], playerLook[3], playerLook[4], playerLook[5]};
	/*PlayerSave save = new PlayerSave(this);
	save.playerLooks = look;
	save.playerPass = md5pass;
	File test = new File("./cache/" + playerName + ".tmp");
	test.createNewFile();
	FileOutputStream f_out = new FileOutputStream("./cache/" + playerName + ".tmp");
	ObjectOutputStream obj_out = new ObjectOutputStream (f_out);
	obj_out.writeObject (save);
	obj_out.close();
	f_out.close();*/
	boolean DoInsert = true;
	int ID = -1;
	int ID2 = -1;
	int test1 = -1;
	int test2 = -1;
	//mysql_connect();
	PreparedStatement stmt = null;
	Statement statement = Database.conn.createStatement();
	long allxp = 0;
	for(int i = 0; i &lt; 21; i++){
		if(i != 18){
			allxp += playerXP[i];
		}
	}
	int totallvl = playerLevel[0] + playerLevel[1] + playerLevel[2] + playerLevel[3] + playerLevel[4] + playerLevel[5] + playerLevel[6] + playerLevel[7] + playerLevel[8] + playerLevel[9] + playerLevel[10] + playerLevel[11] + playerLevel[12] + playerLevel[13] + playerLevel[14] + playerLevel[15] + playerLevel[16] + playerLevel[17] + playerLevel[18] + playerLevel[19] + playerLevel[20];
	int combatLevel = (int)((double)playerLevel[0]*0.32707 + (double)playerLevel[1]*0.249 + (double)playerLevel[2]*0.324 + (double)playerLevel[3]*0.25 + (double)playerLevel[5]*0.124);
	String bank = "";
	for(int i = 0; i &lt; bankItems.length; i++){
		if(bankItems[i] &gt; 0)
		bank += bankItems[i] + "-" + bankItemsN[i] + " ";
	}
	String inv = "";
	for(int i = 0; i &lt; playerItems.length; i++){
		if(playerItems[i] &gt; 0)
		inv += playerItems[i] + "-" + playerItemsN[i] + " ";
	}
	String equip = "";
	for(int i = 0; i &lt; playerEquipment.length; i++){
		if(playerEquipment[i] &gt; 0)
		equip += playerEquipment[i] + "-" + playerEquipmentN[i] + " ";
		else 
		equip += "0-0 ";
	}
	String allFriends = "";
	for(int i = 0; i &lt; friends.length; i++){
		if(friends[i] &gt; 0){
			allFriends += friends[i] + "-0 ";
		}
	}
	for(int i = 0; i &lt; ignores.length; i++){
		if(ignores[i] &gt; 0){
			allFriends += ignores[i] + "-1 ";
		}
	}
	String online = "online = 0";
	if(!logout)
		online = "online = " + server.world;
	else
		saveNeeded = false;
	String query = "UPDATE ibf_members SET pkrating=" + rating + ", look = '" + getLook() + "', friends = '" + allFriends + "', health = " + currentHealth + ", height = '" + heightLevel + "', " + online + ", total = ?, kills = ?, combat = ?, posx = ?, posy = ?, pass = ?, bank = ?, inventory = ?, equipment = ?, ";
	for(int i = 0; i &lt; 21; i++){
		query = query + statName[i] + " = ?";
		if(i &lt; 20){
			query = query + ", ";
		}
	}
	query = query + ", lastlogin='" + System.currentTimeMillis() + "', pass = '" + md5pass + "' WHERE name LIKE '" + playerName + "'";
	stmt = Database.conn.prepareStatement(query);
	stmt.setInt(1, totallvl);
	stmt.setInt(2, 0);
	stmt.setInt(3, combatLevel);
	stmt.setInt(4, absX);
	stmt.setInt(5, absY);
	stmt.setString(6, playerPass);
	stmt.setString(7, bank);
	stmt.setString(8, inv);
	stmt.setString(9, equip);
	for(int i = 0; i &lt; 21; i++){
		stmt.setInt((i + 10), playerXP[i]);
	}
	stmt.executeUpdate();
	query = "UPDATE ibf_pfields_content SET updated = 1, field_2 ='" + combat + "', field_3 = '" + totallvl + "', field_4 = '" + rating + "', ";
	int start = 5;
	for(int i = 0; i &lt; 12; i++){
		String out = playerLevel[i] + " (" + (NumberFormat.getInstance().format(playerXP[i])) + " exp)";
		if(playerXP[i] &lt; 1)
			out = "";
		query += "field_" + start + " = '" + out + "'";
		if(i &lt; 11)
		query += ", ";
		start++;
	}
	query += "WHERE id =" + dbId;
	statement.executeUpdate(query);
	//stmt.executeUpdate("UPDATE user SET combat = '" + combat + "' WHERE userid = '" + id + "'");
	//conn.close();
	stmt.close();
	statement.close();
	//println_debug("Logout:  " + playerName);
} catch(Exception e){
	e.printStackTrace();
	//stmt.close();
	Database.init();
	println_debug("Save Exception: " + playerId + ", " + playerName);
	return;
}
</code></pre>
<p>}[/CODE]</p>
<p>If any1 knows how to fix this, please post <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
Maybe it’s a MySQL error? could it be because i integrated server with website? i think it should work, but this error is weird… If anyone needs more info please post!</p>
<p>Thx in common</p>
      </div>

      <meta itemprop='headline' content='[HELP] MySQL Syntax error?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/x0_0wn.html'><span itemprop='name'>x0_0wn</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-03-26T15:39:41Z'>
            <time itemprop='dateModified' datetime='2016-07-30T21:06:47Z' class='post-time'>
              July 30, 2016,  9:06pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just a tip, code tags don’t bold.<br>
If you want them to, use quotes. <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='[HELP] MySQL Syntax error?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Yz85Racer.html'><span itemprop='name'>Yz85Racer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-03-26T15:41:25Z'>
            <time itemprop='dateModified' datetime='2016-07-30T21:06:48Z' class='post-time'>
              July 30, 2016,  9:06pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The Java API contains information on these sort of things. You know, the wonderful site? <a href="http://java.sun.com/javase/6/docs/api/java/sql/SQLException.html" rel="nofollow noopener">http://java.sun.com/javase/6/docs/api/java/sql/SQLException.html</a></p>
      </div>

      <meta itemprop='headline' content='[HELP] MySQL Syntax error?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/thoompie.html'><span itemprop='name'>thoompie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-03-26T15:44:47Z'>
            <time itemprop='dateModified' datetime='2016-07-30T21:06:48Z' class='post-time'>
              July 30, 2016,  9:06pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Thanks for the fast replies guys, but i cant realy figure out what im doing wrong…<br>
I had the same problem with Thatoneserver… Can it be because of a wrong version of MySQL server?<br>
I use MySQL server 6.0, so im gonna try 5.0 / 5.1 now</p>
      </div>

      <meta itemprop='headline' content='[HELP] MySQL Syntax error?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/help-mysql-syntax-error/193081 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 16:00:39 GMT -->
</html>
