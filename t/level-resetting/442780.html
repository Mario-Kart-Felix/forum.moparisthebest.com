<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/level-resetting/442780 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 21:12:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Level resetting - Game Development - moparisthebest.com</title>
    <meta name="description" content="Recently in my lightchaser game I wanted to add a level reset feature I have come up with two different ideas of doing this. The first way which I have already implemented involves having a second array of the current ga&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="442780.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Level resetting&#39;" href="442780.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/level-resetting/442780" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/level-resetting/442780" />
<meta property="og:title" content="Level resetting" />
<meta name="twitter:title" content="Level resetting" />
<meta property="og:description" content="Recently in my lightchaser game I wanted to add a level reset feature I have come up with two different ideas of doing this. The first way which I have already implemented involves having a second array of the current game board that remains unmodified during the game play then is called to reset the playable game board. The second way which I though of after implementing the first way involves having an array of player made moves the idea is that you would just reverse the chain of moves until ..." />
<meta name="twitter:description" content="Recently in my lightchaser game I wanted to add a level reset feature I have come up with two different ideas of doing this. The first way which I have already implemented involves having a second array of the current game board that remains unmodified during the game play then is called to reset the playable game board. The second way which I though of after implementing the first way involves having an array of player made moves the idea is that you would just reverse the chain of moves until ..." />
<meta property="article:published_time" content="2012-05-21T03:00:19+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="442780.html">Level resetting</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming/game-development.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Game Development</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-05-21T03:00:19Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:46:38Z' class='post-time'>
              August 3, 2016,  2:46am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Recently in my lightchaser game I wanted to add a level reset feature I have come up with two different ideas of doing this. The first way which I have already implemented involves having a second array of the current game board that remains unmodified during the game play then is called to reset the playable game board. The second way which I though of after implementing the first way involves having an array of player made moves the idea is that you would just reverse the chain of moves until the player moves array was empty. However I have not implemented this yet so I won’t go further in detail until I do.  The first method is good for anyone that does not wish to have an undo/redo feature.</p>
<p>now lets look at the code involved:<br>
if you want to use my source to follow my tutorial directly you can view it here: <a href="https://github.com/silabsoft/LightChaser" rel="nofollow noopener">https://github.com/silabsoft/LightChaser</a></p>
<pre><code class="lang-auto">    var lights = []; //the playable gameboard
    var lightsCopy = []; // the shadow gameboard</code></pre>
<p>building the gameboard:</p>
<pre><code class="lang-auto"> this.buildGrid = function() {
        var size = width/lightSquared; //gameboard width divided by rowLength
        for (var i = 0; i &lt; lightSquared; i++) //generate the lights
        {
            lights[i]    =   [];
            lightsCopy[i] = [];
            for (var j = 0; j &lt; lightSquared; j++){
                lights[i][j]	=	new LightChaser.Light(i,j, size);
                lightsCopy[i][j] = new LightChaser.Light(i,j, size); 
            }
        }
		
        for (var i = 0; i &lt; lightSquared; i++) //set the Neighbors the copy board does not need this feature so we did not add the neighbors to the copy.
        {
            for (var j = 0; j &lt; lightSquared; j++)
            {
                var neighbor = [];
                var t = 0;
                if((i+1) &lt; lightSquared)
                    neighbor.push(lights[i+1][j]);
                if((j+1) &lt; lightSquared)
                    neighbor.push(lights[i][j+1]);
                if((i-1) &gt;= 0)
                    neighbor.push(lights[i-1][j]);
                if((j-1) &gt;= 0)
                    neighbor.push(lights[i][j-1]);
                lights[i][j].setNeighbor(neighbor);
            }
        }	

        
    };	</code></pre>
<p>Generating the level:</p>
<pre><code class="lang-auto">  this.generateLevel = function(){
        do{
            levelId = ""; 
            //console.log("generating level");
            for (var i = 0; i &lt; lightSquared; i++){
                levelId += levelKey[i];
                for (var j = 0; j &lt; lightSquared; j++){
                    if(getRandomInt(0,10) &gt; 6){
                        lights[i][j].changeState(false);
                        lightsCopy[i][j].changeState(false); //copy's the states of the gameboard
                        levelId += levelKey[5+j];
                    }
                }
            }
            
        }while(!solve()); //preform until solvable by Gaussian elimination
    }</code></pre>
<p>If we need to reset the board compare the copy boards state to the playable board if the state differs change it:</p>
<pre><code class="lang-auto">    this.resetLevel = function(){
        for (var i = 0; i &lt; lightSquared; i++){
            for (var j = 0; j &lt; lightSquared; j++){
                if(lights[i][j].getState() != lightsCopy[i][j].getState()){
                    lights[i][j].changeState(false);
                }
            }
        }
        
    }</code></pre>
<p>Obviously my code in this example is only useful to my game however you should see the process of creating a clone of the playable board then resetting the playable board to the original state if needed.</p>
      </div>

      <meta itemprop='headline' content='Level resetting'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Budda.html'><span itemprop='name'>Budda</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-05-22T02:00:37Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:47:44Z' class='post-time'>
              August 3, 2016,  2:47am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why not just keep track of the seed for the level and regenerate it with that seed if the person wants to reset it?</p>
      </div>

      <meta itemprop='headline' content='Level resetting'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-05-22T02:57:06Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:47:46Z' class='post-time'>
              August 3, 2016,  2:47am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="442780">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/budda/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Budda:</div>
<blockquote>
<p>Why not just keep track of the seed for the level and regenerate it with that seed if the person wants to reset it?</p>
</blockquote>
</aside>
<p>I suppose I could do that as well as I do generate a level ID based on the level generation however not all games would have that ability.</p>
      </div>

      <meta itemprop='headline' content='Level resetting'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/slavemaster.html'><span itemprop='name'>slavemaster</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-05-25T02:30:03Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:50:14Z' class='post-time'>
              August 3, 2016,  2:50am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It’ll probably be better to just keep a copy of the initial matrix. Storing player moves means the space taken up won’t be constant.<br>
If for whatever reason you figure that you want to try the second one for fun, know that all changes to the board are essentially just toggling the state of lights in the matrix… it follows naturally that this is its own inverse, so you’d just need to replay all of their plies.</p>
      </div>

      <meta itemprop='headline' content='Level resetting'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-05-25T05:44:48Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:50:20Z' class='post-time'>
              August 3, 2016,  2:50am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“veer, post:4, topic:442780”]It’ll probably be better to just keep a copy of the initial matrix. Storing player moves means the space taken up won’t be constant.<br>
If for whatever reason you figure that you want to try the second one for fun, know that all changes to the board are essentially just toggling the state of lights in the matrix… it follows naturally that this is its own inverse, so you’d just need to replay all of their plies.[/quote]<br>
My plan was to have two arrays a moveArray and a undoArray (the undo array would stay mostly empty unless a player was to pop a move from the move array and push it onto the undo array)</p>
      </div>

      <meta itemprop='headline' content='Level resetting'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/slavemaster.html'><span itemprop='name'>slavemaster</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-05-28T19:24:46Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:53:00Z' class='post-time'>
              August 3, 2016,  2:53am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“mopman_sucks, post:5, topic:442780”][quote author=veer link=topic=545465.msg4000471#msg4000471 date=1337913003]<br>
It’ll probably be better to just keep a copy of the initial matrix. Storing player moves means the space taken up won’t be constant.<br>
If for whatever reason you figure that you want to try the second one for fun, know that all changes to the board are essentially just toggling the state of lights in the matrix… it follows naturally that this is its own inverse, so you’d just need to replay all of their plies.<br>
[/quote]<br>
My plan was to have two arrays a moveArray and a undoArray (the undo array would stay mostly empty unless a player was to pop a move from the move array and push it onto the undo array)[/quote]</p>
<p>The undoArray is an LIFO stack, then, for implementing undo-redo functionality? That wouldn’t really matter.<br>
You can implement the same redo-undo functionality using a circular buffer over the move array with separate R/W pointers.</p>
      </div>

      <meta itemprop='headline' content='Level resetting'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/level-resetting/442780 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 21:12:35 GMT -->
</html>
