<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>PHP - Syntax error</title>
    <link>https://forum.moparisthebest.com/t/php-syntax-error/543374</link>
    <description>Hey Guys,

I need some help with something I&#39;m working on for a friend.

Basically this is my code (edit.php)

[code=php]&lt;?php
function renderForm($id, $name, $minval, $maxval, $date, $img, $error)
{ {
?&gt;
 &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;
 &lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;Price List&lt;/title&gt;
		&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot;&gt;

	&lt;/head&gt;
	&lt;body&gt;&lt;div id=&quot;logo&quot;&gt;&lt;/div&gt;
		&lt;div id=&quot;wrapper&quot;&gt;
 &lt;?php
        // if there are any errors, display them
        if ($error != &#39;&#39;) {
            echo &#39;&lt;div style=&quot;padding:4px; border:1px solid red; color:red;&quot;&gt;&#39; . $error . &#39;&lt;/div&gt;&#39;;
        }
?&gt; 
 
 &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
 &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;&lt;?php
        echo $id;
?&gt;&quot;/&gt;
 &lt;div&gt;
 &lt;p&gt;&lt;strong&gt;ID:&lt;/strong&gt; &lt;?php
        echo $id;
?&gt;&lt;/p&gt;
 &lt;strong&gt;Item Name:&lt;/strong&gt;&lt;br /&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;&lt;?php
        echo $name;
?&gt;&quot;/&gt;&lt;br/&gt;
 &lt;strong&gt;Minimum Value:&lt;/strong&gt;&lt;br /&gt;&lt;input type=&quot;text&quot; name=&quot;minval&quot; value=&quot;&lt;?php
        echo $minval;
?&gt;&quot;/&gt;&lt;br/&gt;
 &lt;strong&gt;Maximum Value:&lt;/strong&gt;&lt;br /&gt;&lt;input type=&quot;text&quot; name=&quot;maxval&quot; value=&quot;&lt;?php
        echo $maxval;
?&gt;&quot;/&gt;&lt;br/&gt;
 &lt;strong&gt;Date:&lt;/strong&gt;&lt;br /&gt;&lt;input type=&quot;text&quot; name=&quot;date&quot; value=&quot;&lt;?php
        echo $date;
?&gt;&quot;/&gt;&lt;br/&gt;
 &lt;strong&gt;Image Url:&lt;/strong&gt;&lt;br /&gt;&lt;input class=&quot;link&quot; type=&quot;text&quot; name=&quot;img&quot; value=&quot;&lt;?php
        echo $img;
?&gt;&quot;/&gt;&lt;br/&gt;
 &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Submit&quot;&gt;
 &lt;/form&gt; 
 
&lt;/body&gt;
&lt;/html&gt;
 &lt;?php
    }
    include(&#39;connect-db.php&#39;);
    if (isset($_POST[&#39;submit&#39;])) {
        if (is_numeric($_POST[&#39;id&#39;])) {
            $id     = $_POST[&#39;id&#39;];
            $name   = mysql_real_escape_string(htmlspecialchars($_POST[&#39;name&#39;]));
            $minval = mysql_real_escape_string(htmlspecialchars($_POST[&#39;minval&#39;]));
            $maxval = mysql_real_escape_string(htmlspecialchars($_POST[&#39;maxval&#39;]));
            $date   = mysql_real_escape_string(htmlspecialchars($_POST[&#39;date&#39;]));
            $img    = mysql_real_escape_string(htmlspecialchars($_POST[&#39;img&#39;]));
            
            if ($name == &#39;&#39; || $minval == &#39;&#39; || $maxval == &#39;&#39; || $date == &#39;&#39; || $img == &#39;&#39;) {
                $error = &#39;ERROR: Please fill in all required fields!&#39;;
                renderForm($id, $name, $minval, $maxval, $date, $img, $error);
            } else {
                mysql_query(&quot;UPDATE items SET name=&#39;$name&#39;, minval=&#39;$minval&#39;, maxval=&#39;$maxval&#39;, date=&#39;$date&#39;,img=&#39;$img&#39; WHERE id=&#39;$id&#39;&quot;) or die(mysql_error());
                header(&quot;Location: login.php&quot;);
            }
        } else {
            // if the &#39;id&#39; isn&#39;t valid, display an error
            echo &#39;Error!&#39;;
        }
    } else {
        if (isset($_GET[&#39;id&#39;]) &amp;&amp; is_numeric($_GET[&#39;id&#39;]) &amp;&amp; $_GET[&#39;id&#39;] &gt; 0) {
            $id = $_GET[&#39;id&#39;];
            $result = mysql_query(&quot;SELECT * FROM items WHERE id=$id&quot;) or die(mysql_error());
            $row = mysql_fetch_array($result);
            
            if ($row) {
                
                $name   = $row[&#39;name&#39;];
                $minval = $row[&#39;minval&#39;];
                $maxval = $row[&#39;maxval&#39;];
                $date   = $row[&#39;date&#39;];
                $img    = $row[&#39;img&#39;];
                
                renderForm($id, $name, $minval, $maxval, $date, $img, &#39;&#39;);
            } else {
                echo &quot;No results!&quot;;
            }
        } else {
            echo &#39;Error!&#39;;
        }
    }
?&gt;[/code]

and this is the error im getting

[code]Parse error: syntax error, unexpected end of file in C:\xampp\htdocs\values\edit.php on line 94[/code]</description>
    
    <lastBuildDate>Sun, 25 May 2014 15:26:52 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/php-syntax-error/543374.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>PHP - Syntax error</title>
        <dc:creator><![CDATA[@KempiScape KempiScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kempiscape">@KempiScape</a> wrote:</p>
          <blockquote>
              <p>Also</p>
<p>if ($error != ‘’) {</p>
<p>use !empty($error)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-syntax-error/543374/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-syntax-error/543374/4</link>
        <pubDate>Sun, 25 May 2014 15:26:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-543374-4</guid>
        <source url="https://forum.moparisthebest.com/t/php-syntax-error/543374.rss">PHP - Syntax error</source>
      </item>
      <item>
        <title>PHP - Syntax error</title>
        <dc:creator><![CDATA[@WowILikeToCode WowILikeToCode]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wowiliketocode">@WowILikeToCode</a> wrote:</p>
          <blockquote>
              <p>Thanks, I knew it was something stupid but for the life of me i couldn’t see it. To be honest i feel like such a twat now … <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"> awks</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-syntax-error/543374/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-syntax-error/543374/3</link>
        <pubDate>Sun, 25 May 2014 15:25:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-543374-3</guid>
        <source url="https://forum.moparisthebest.com/t/php-syntax-error/543374.rss">PHP - Syntax error</source>
      </item>
      <item>
        <title>PHP - Syntax error</title>
        <dc:creator><![CDATA[@KempiScape KempiScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kempiscape">@KempiScape</a> wrote:</p>
          <blockquote>
              <p>function renderForm($id, $name, $minval, $maxval, $date, $img, $error)<br>
{ {<br>
should only be one { there</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-syntax-error/543374/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-syntax-error/543374/2</link>
        <pubDate>Sun, 25 May 2014 15:24:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-543374-2</guid>
        <source url="https://forum.moparisthebest.com/t/php-syntax-error/543374.rss">PHP - Syntax error</source>
      </item>
      <item>
        <title>PHP - Syntax error</title>
        <dc:creator><![CDATA[@WowILikeToCode WowILikeToCode]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wowiliketocode">@WowILikeToCode</a> wrote:</p>
          <blockquote>
              <p>Hey Guys,</p>
<p>I need some help with something I’m working on for a friend.</p>
<p>Basically this is my code (edit.php)</p>
<p>[code=php]&lt;?php<br>
function renderForm($id, $name, $minval, $maxval, $date, $img, $error)<br>
{ {<br>
?&gt;</p>
 
 
	
		Price List
		
<pre><code>&lt;/head&gt;
&lt;body&gt;&lt;div id="logo"&gt;&lt;/div&gt;
	&lt;div id="wrapper"&gt;
</code></pre>
 &lt;?php
        // if there are any errors, display them
        if ($error != '') {
            echo '<div>' . $error . '</div>';
        }
?&gt; 
 
 
 <div>
 <p><strong>ID:</strong> &lt;?php
        echo $id;
?&gt;</p>
 <strong>Item Name:</strong><br><br>
 <strong>Minimum Value:</strong><br><br>
 <strong>Maximum Value:</strong><br><br>
 <strong>Date:</strong><br><br>
 <strong>Image Url:</strong><br><br>
 
  


 &lt;?php
    }
    include('connect-db.php');
    if (isset($_POST['submit'])) {
        if (is_numeric($_POST['id'])) {
            $id     = $_POST['id'];
            $name   = mysql_real_escape_string(htmlspecialchars($_POST['name']));
            $minval = mysql_real_escape_string(htmlspecialchars($_POST['minval']));
            $maxval = mysql_real_escape_string(htmlspecialchars($_POST['maxval']));
            $date   = mysql_real_escape_string(htmlspecialchars($_POST['date']));
            $img    = mysql_real_escape_string(htmlspecialchars($_POST['img']));
<pre><code>        if ($name == '' || $minval == '' || $maxval == '' || $date == '' || $img == '') {
            $error = 'ERROR: Please fill in all required fields!';
            renderForm($id, $name, $minval, $maxval, $date, $img, $error);
        } else {
            mysql_query("UPDATE items SET name='$name', minval='$minval', maxval='$maxval', date='$date',img='$img' WHERE id='$id'") or die(mysql_error());
            header("Location: login.php");
        }
    } else {
        // if the 'id' isn't valid, display an error
        echo 'Error!';
    }
} else {
    if (isset($_GET['id']) &amp;&amp; is_numeric($_GET['id']) &amp;&amp; $_GET['id'] &gt; 0) {
        $id = $_GET['id'];
        $result = mysql_query("SELECT * FROM items WHERE id=$id") or die(mysql_error());
        $row = mysql_fetch_array($result);
        
        if ($row) {
            
            $name   = $row['name'];
            $minval = $row['minval'];
            $maxval = $row['maxval'];
            $date   = $row['date'];
            $img    = $row['img'];
            
            renderForm($id, $name, $minval, $maxval, $date, $img, '');
        } else {
            echo "No results!";
        }
    } else {
        echo 'Error!';
    }
}
</code></pre>
<p>?&gt;[/code]</p>
<p>and this is the error im getting</p>
<pre><code class="lang-auto"></code></pre>
</div>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-syntax-error/543374/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-syntax-error/543374/1</link>
        <pubDate>Sun, 25 May 2014 15:21:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-543374-1</guid>
        <source url="https://forum.moparisthebest.com/t/php-syntax-error/543374.rss">PHP - Syntax error</source>
      </item>
  </channel>
</rss>
