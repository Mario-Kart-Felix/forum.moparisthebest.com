<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Running updates for a server</title>
    <link>https://forum.moparisthebest.com/t/running-updates-for-a-server/477273</link>
    <description>Can someone tell me how you run an update for your server after you changed something. Is there a command like ::update or something like that?</description>
    
    <lastBuildDate>Tue, 01 Jan 2013 19:48:11 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Running updates for a server</title>
        <dc:creator><![CDATA[@TheTutMan TheTutMan]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/thetutman">@TheTutMan</a> wrote:</p>
          <blockquote>
              <p>well he did say command and i put it would be faster do do it but he might wanna warn his players before</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/9</link>
        <pubDate>Tue, 01 Jan 2013 19:48:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477273-9</guid>
        <source url="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273.rss">Running updates for a server</source>
      </item>
      <item>
        <title>Running updates for a server</title>
        <dc:creator><![CDATA[@Christmas_tree Christmas_tree]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/christmas_tree">@Christmas_tree</a> wrote:</p>
          <blockquote>
              <p>Just restart your server quickly. It won’t affect your uptime truly.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/8</link>
        <pubDate>Tue, 01 Jan 2013 19:46:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477273-8</guid>
        <source url="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273.rss">Running updates for a server</source>
      </item>
      <item>
        <title>Running updates for a server</title>
        <dc:creator><![CDATA[@dlions0981 dlions0981]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dlions0981">@dlions0981</a> wrote:</p>
          <blockquote>
              <p>alright thanks I’ll try that source out</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/7</link>
        <pubDate>Tue, 01 Jan 2013 18:45:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477273-7</guid>
        <source url="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273.rss">Running updates for a server</source>
      </item>
      <item>
        <title>Running updates for a server</title>
        <dc:creator><![CDATA[@TheTutMan TheTutMan]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/thetutman">@TheTutMan</a> wrote:</p>
          <blockquote>
              <p>np there is some cool update commands on google just type ::udate command rune server ot you culd use search on moparscape</p>
<p>Btw i use this this base there is some bugs but you will learn how to fix <a href="http://www.moparisthebest.com/smf/index.php/topic,591850.0.html" rel="nofollow noopener">http://www.moparisthebest.com/smf/index.php/topic,591850.0.html</a></p>
<p>So the run sever.bat dosent spam you in sever side edit the .bat file and put this code in</p>
<p><code>
"C:\Program Files (x86)\Java\jdk1.7.0_10\bin\java.exe" -Xmx1000m -cp bin;deps/poi.jar;deps/mysql.jar;deps/mina.jar;deps/slf4j.jar;deps/slf4j-nop.jar;deps/jython.jar;log4j-1.2.15.jar; server.Server
paus</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/6</link>
        <pubDate>Tue, 01 Jan 2013 18:19:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477273-6</guid>
        <source url="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273.rss">Running updates for a server</source>
      </item>
      <item>
        <title>Running updates for a server</title>
        <dc:creator><![CDATA[@dlions0981 dlions0981]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dlions0981">@dlions0981</a> wrote:</p>
          <blockquote>
              <p>ok I appreciate the help</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/5</link>
        <pubDate>Tue, 01 Jan 2013 18:13:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477273-5</guid>
        <source url="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273.rss">Running updates for a server</source>
      </item>
      <item>
        <title>Running updates for a server</title>
        <dc:creator><![CDATA[@TheTutMan TheTutMan]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/thetutman">@TheTutMan</a> wrote:</p>
          <blockquote>
              <p>ok ill take a look and i advise u not to use that base i used to use it and then realise its crap and messy and un needed code but its up to<br>
u   This is cool <a href="http://www.rune-server.org/runescape-development/rs-503-client-server/tutorials/217227-perfect-update-command-perfect.html" rel="nofollow noopener">http://www.rune-server.org/runescape-development/rs-503-client-server/tutorials/217227-perfect-update-command-perfect.html</a> but i will have to convert if you carnt use this</p>
<p>add this to commands.java</p>
<p><code>if (playerCommand.startsWith("update") &amp;&amp; c.playerName.equalsIgnoreCase("IngameNameHere")) {  //or you could put plyerrights like 2 for admin
                                String[] args = playerCommand.split(" ");
                                int a = Integer.parseInt(args[1]);
                                PlayerHandler.updateSeconds = a;
                                PlayerHandler.updateAnnounced = false;
                                PlayerHandler.updateRunning = true;
                                PlayerHandler.updateStartTime = System.currentTimeMillis();
                        }</code></p>
<p>add this to playerhandler.java</p>
<p>[code]if(updateRunning &amp;&amp; !updateAnnounced) {<br>
updateAnnounced = true;<br>
Server.UpdateServer = true;<br>
}<br>
if(updateRunning &amp;&amp; (System.currentTimeMillis() - updateStartTime &gt; (updateSeconds*1000))) {<br>
kickAllPlayers  = true;<br>
}</p>
<pre><code>                    for(int i = 0; i &lt; Config.MAX_PLAYERS; i++) {
                            if(players[i] == null || !players[i].isActive) continue;
                            try {
                                    players[i].clearUpdateFlags();
                            } catch(Exception e) {
                                    e.printStackTrace();
                            }        
                    }
            Server.TIMES[2] = start - System.currentTimeMillis();
            }
    }[/code]
</code></pre>
<p>This should go somewhere in the void process in playerhandler.java</p>
<p><code>public static boolean updateAnnounced;
        public static boolean updateRunning;
        public static int updateSeconds;
        public static long updateStartTime;</code></p>
<p>Also add this to playerhandler.java</p>
<p>[code]public void updatePlayer(Player plr, Stream str) {<br>
//synchronized(plr) {<br>
updateBlock.currentOffset = 0;<br>
if(updateRunning &amp;&amp; !updateAnnounced) {<br>
str.createFrame(114);<br>
str.writeWordBigEndian(updateSeconds*50/30);<br>
}<br>
plr.updateThisPlayerMovement(str);<br>
boolean saveChatTextUpdate = plr.isChatTextUpdateRequired();<br>
plr.setChatTextUpdateRequired(false);<br>
plr.appendPlayerUpdateBlock(updateBlock);<br>
plr.setChatTextUpdateRequired(saveChatTextUpdate);<br>
str.writeBits(8, plr.playerListSize);<br>
int size = plr.playerListSize;<br>
plr.playerListSize = 0;<br>
for(int i = 0; i &lt; size; i++) {<br>
if(!plr.didTeleport &amp;&amp; !plr.playerList[i].didTeleport &amp;&amp; plr.withinDistance(plr.playerList[i])) {<br>
plr.playerList[i].updatePlayerMovement(str);<br>
plr.playerList[i].appendPlayerUpdateBlock(updateBlock);<br>
plr.playerList[plr.playerListSize++] = plr.playerList[i];<br>
} else {<br>
int id = plr.playerList[i].playerId;<br>
plr.playerInListBitmap[id&gt;&gt;3] &amp;= ~(1 &lt;&lt; (id&amp;7));<br>
str.writeBits(1, 1);<br>
str.writeBits(2, 3);<br>
}<br>
}<br>
int j = 0;<br>
for(int i = 0; i &lt; Config.MAX_PLAYERS; i++) {<br>
//if(updateBlock.currentOffset &gt;= 4000)<br>
//break;<br>
if(plr.playerListSize &gt;= 254) break;<br>
if(updateBlock.currentOffset+str.currentOffset &gt;= 4900)<br>
break;<br>
if(players[i] == null || !players[i].isActive || players[i] == plr) continue;<br>
int id = players[i].playerId;<br>
if((plr.playerInListBitmap[id&gt;&gt;3]&amp;(1 &lt;&lt; (id&amp;7))) != 0) continue;<br>
if(j &gt;= 10) break;<br>
if(!plr.withinDistance(players[i])) continue;<br>
plr.addNewPlayer(players[i], str, updateBlock);//open player .java for me<br>
j++;<br>
}</p>
<pre><code>                    if(updateBlock.currentOffset &gt; 0) {
                            str.writeBits(11, 2047);        
                            str.finishBitAccess();
    
                            
                            str.writeBytes(updateBlock.buffer, updateBlock.currentOffset, 0);
                    }
                    else str.finishBitAccess();
    
                    str.endFrameVarSizeWord();
            
    }[/code]
</code></pre>
<p>Btw i use this this base there is some bugs but you will learn ho to fix <a href="http://www.moparisthebest.com/smf/index.php/topic,591850.0.html" rel="nofollow noopener">http://www.moparisthebest.com/smf/index.php/topic,591850.0.html</a></p>
<p>So the run sever.bat dosent spam you in sever side edit the .bat file and put this code in</p>
<p><code>"C:\Program Files (x86)\Java\jdk1.7.0_10\bin\java.exe" -Xmx1000m -cp bin;deps/poi.jar;deps/mysql.jar;deps/mina.jar;deps/slf4j.jar;deps/slf4j-nop.jar;deps/jython.jar;log4j-1.2.15.jar; server.Server
paus</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/4</link>
        <pubDate>Tue, 01 Jan 2013 18:12:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477273-4</guid>
        <source url="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273.rss">Running updates for a server</source>
      </item>
      <item>
        <title>Running updates for a server</title>
        <dc:creator><![CDATA[@dlions0981 dlions0981]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dlions0981">@dlions0981</a> wrote:</p>
          <blockquote>
              <p>the source is trisidia x v3</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/3</link>
        <pubDate>Tue, 01 Jan 2013 18:10:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477273-3</guid>
        <source url="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273.rss">Running updates for a server</source>
      </item>
      <item>
        <title>Running updates for a server</title>
        <dc:creator><![CDATA[@TheTutMan TheTutMan]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/thetutman">@TheTutMan</a> wrote:</p>
          <blockquote>
              <p>Just close your command promt if you would like a command what base are u using</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/2</link>
        <pubDate>Tue, 01 Jan 2013 18:07:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477273-2</guid>
        <source url="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273.rss">Running updates for a server</source>
      </item>
      <item>
        <title>Running updates for a server</title>
        <dc:creator><![CDATA[@dlions0981 dlions0981]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dlions0981">@dlions0981</a> wrote:</p>
          <blockquote>
              <p>Can someone tell me how you run an update for your server after you changed something. Is there a command like ::update or something like that?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/running-updates-for-a-server/477273/1</link>
        <pubDate>Tue, 01 Jan 2013 17:38:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-477273-1</guid>
        <source url="https://forum.moparisthebest.com/t/running-updates-for-a-server/477273.rss">Running updates for a server</source>
      </item>
  </channel>
</rss>
