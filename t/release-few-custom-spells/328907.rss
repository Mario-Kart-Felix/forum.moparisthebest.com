<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Release] Few custom spells</title>
    <link>https://forum.moparisthebest.com/t/release-few-custom-spells/328907</link>
    <description>Some custom spells..

These will need to be modified to fit into your system.  If you can&#39;t make these basic mods you shouldn&#39;t have a server.

I encourage you to heavily modify these if you use them, I&#39;m sure they can be written better and I prefer to see creativity on servers...

[b]Heal Yourself[/b] SpellHandler.java
under case 206: // Cast on self...
[code]
if(spell.getSpellType() == 7) { //SELF HEALING
                                        if(player.inCombat()||player.isDueling()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage(&quot;@gry@[servmsg] Spell disabled.&quot;);
                                            return;
                                        }
					handleHeal(player, idx);
				}
[/code]
with the other handles...
[code]private void handleHeal(Player player, final int spellID) {
		player.setStatus(Action.CASTING_MOB);
                SpellDef spell = EntityHandler.getSpellDef(spellID);
                if(!checkAndRemoveRunes(player, spell)) {
			return;
		}
                player.resetPath();
                if(!canCast(player) || player.getStatus() != Action.CASTING_MOB) {
                        return;
                }
		player.resetAllExceptDueling();
                int curhp = player.getCurStat(3);
                int maxhp = player.getMaxStat(3);
                finalizeSpell(player, spell);
                switch(spellID) {
                        case 7:
                            if(curhp == maxhp) {
                                player.getActionSender().sendMessage(&quot;@pnk@[event] You tried to heal yourself, but were already max hits.&quot;);
                            } else if((maxhp-curhp) &lt;= 5) {
                                player.setCurStat(3, (curhp + (maxhp-curhp)));
                                player.getActionSender().sendMessage(&quot;@pnk@[event] You heal yourself for &quot; + (maxhp-curhp) + &quot; hits.&quot;);
                            } else if((maxhp-curhp) &gt; 5) {
                                player.setCurStat(3, (curhp + 5));
                                player.getActionSender().sendMessage(&quot;@pnk@[event] You heal yourself for &quot; + 5 + &quot; hits.&quot;);
                            }
                            player.getActionSender().sendStat(3);
                            return;
                        case 17:
                            if(curhp == maxhp) {
                                player.getActionSender().sendMessage(&quot;@pnk@[event] You tried to heal yourself, but were already max hits.&quot;);
                            } else if((maxhp-curhp) &lt;= 15) {
                                player.setCurStat(3, (curhp + (maxhp-curhp)));
                                player.getActionSender().sendMessage(&quot;@pnk@[event] You heal yourself for &quot; + (maxhp-curhp) + &quot; hits.&quot;);
                            } else if((maxhp-curhp) &gt; 15) {
                                player.setCurStat(3, (curhp + 15));
                                player.getActionSender().sendMessage(&quot;@pnk@[event] You heal yourself for &quot; + 15 + &quot; hits.&quot;);
                            }
                            player.getActionSender().sendStat(3);
                            return;
                        case 38:
                            if(curhp == maxhp) {
                                player.getActionSender().sendMessage(&quot;@pnk@[event] You tried to heal yourself, but were already max hits.&quot;);
                            } else if((maxhp-curhp) &lt;= 30) {
                                player.setCurStat(3, (curhp + (maxhp-curhp)));
                                player.getActionSender().sendMessage(&quot;@pnk@[event] You heal yourself for &quot; + (maxhp-curhp) + &quot; hits.&quot;);
                            } else if((maxhp-curhp) &gt; 30) {
                                player.setCurStat(3, (curhp + 30));
                                player.getActionSender().sendMessage(&quot;@pnk@[event] You heal yourself for &quot; + 30 + &quot; hits.&quot;);
                            }
                            player.getActionSender().sendStat(3);
                            return;
                }
        }[/code]

[b]Heal Other[/b] SpellHandler.java
in... case 55: // Cast on player
[code]
if(spell.getSpellType() == 8) { //HEAL OTHER
                                    Player affectedPlayer = world.getPlayer(p.readShort());
                                    if(affectedPlayer.isDueling()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage(&quot;@gry@[servmsg] Spell disabled.&quot;);
                                            return;
                                        }
                                    if(affectedPlayer.inCombat()||affectedPlayer.isDueling()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage(&quot;@gry@[servmsg] Spell disabled.&quot;);
                                            return;
                                        }
                                    handleHealOther(player, affectedPlayer, idx);
                                }
[/code]
with the other handles...
[code]private void handleHealOther(Player player, Player affectedPlayer, final int spellID) {
                SpellDef spell = EntityHandler.getSpellDef(spellID);
                if(!checkAndRemoveRunes(player, spell)) {
			return;
		}
                if(!player.isBusy()) {
			player.setFollowing(affectedPlayer);
		}
		player.setStatus(Action.CASTING_MOB);
		world.getDelayedEventHandler().add(new WalkToMobEvent(player, affectedPlayer, 5) {
			public void arrived() {
                                SpellDef spell = EntityHandler.getSpellDef(spellID);
                                Player affectedPlayer = (Player)affectedMob;
				owner.resetPath();
				if(!canCast(owner) || owner.getStatus() != Action.CASTING_MOB) {
					return;
				}
				owner.resetAllExceptDueling();
                                Projectile projectil = new Projectile(owner, affectedPlayer, 1);
                                ArrayList&lt;Player&gt; playersToInfor = new ArrayList&lt;Player&gt;();
                                playersToInfor.addAll(owner.getViewArea().getPlayersInView());
                                playersToInfor.addAll(affectedPlayer.getViewArea().getPlayersInView());
                                for(Player p : playersToInfor) {
				      	p.informOfProjectile(projectil);
                                }
                                int curhp = affectedPlayer.getCurStat(3);
                                int maxhp = affectedPlayer.getMaxStat(3);
                                finalizeSpell(owner, spell);
                                switch(spellID) {
                                    case 28:
                                        if(curhp == maxhp) {
                                            owner.getActionSender().sendMessage(&quot;@pnk@[event] You tried to heal &quot; + affectedPlayer.getUsername() + &quot;, but they were max hits.&quot;);
                                            affectedPlayer.getActionSender().sendMessage(&quot;@pnk@[event] &quot; + owner.getUsername() + &quot; tried to heal you, but you were max hits.&quot;);
                                        } else if((maxhp-curhp) &lt;= 10) {
                                            affectedPlayer.setCurStat(3, (curhp + (maxhp-curhp)));
                                            owner.getActionSender().sendMessage(&quot;@pnk@[event] You heal &quot; + affectedPlayer.getUsername() + &quot; for &quot; + (maxhp-curhp) + &quot; hits.&quot;);
                                            affectedPlayer.getActionSender().sendMessage(&quot;@pnk@[event] &quot; + owner.getUsername() + &quot; healed you for &quot; + (maxhp-curhp) + &quot; hits.&quot;);
                                        } else if((maxhp-curhp) &gt; 10) {
                                            affectedPlayer.setCurStat(3, (curhp + 10));
                                            owner.getActionSender().sendMessage(&quot;@pnk@[event] You heal &quot; + affectedPlayer.getUsername() + &quot; for &quot; + 10 + &quot; hits.&quot;);
                                            affectedPlayer.getActionSender().sendMessage(&quot;@pnk@[event] &quot; + owner.getUsername() + &quot; healed you for &quot; + 10 + &quot; hits.&quot;);
                                        }
                                        affectedPlayer.getActionSender().sendStat(3);
                                        return;
                                    case 41:
                                        if(curhp == maxhp) {
                                            owner.getActionSender().sendMessage(&quot;@pnk@[event] You tried to heal &quot; + affectedPlayer.getUsername() + &quot;, but they were max hits.&quot;);
                                            affectedPlayer.getActionSender().sendMessage(&quot;@pnk@[event] &quot; + owner.getUsername() + &quot; tried to heal you, but you were max hits.&quot;);
                                        } else if((maxhp-curhp) &lt;= 20) {
                                            affectedPlayer.setCurStat(3, (curhp + (maxhp-curhp)));
                                            owner.getActionSender().sendMessage(&quot;@pnk@[event] You heal &quot; + affectedPlayer.getUsername() + &quot; for &quot; + (maxhp-curhp) + &quot; hits.&quot;);
                                            affectedPlayer.getActionSender().sendMessage(&quot;@pnk@[event] &quot; + owner.getUsername() + &quot; healed you for &quot; + (maxhp-curhp) + &quot; hits.&quot;);
                                        } else if((maxhp-curhp) &gt; 20) {
                                            affectedPlayer.setCurStat(3, (curhp + 20));
                                            owner.getActionSender().sendMessage(&quot;@pnk@[event] You heal &quot; + affectedPlayer.getUsername() + &quot; for &quot; + 20 + &quot; hits.&quot;);
                                            affectedPlayer.getActionSender().sendMessage(&quot;@pnk@[event] &quot; + owner.getUsername() + &quot; healed you for &quot; + 20 + &quot; hits.&quot;);
                                        }
                                        affectedPlayer.getActionSender().sendStat(3);
                                        return;
                                }
                        }
                });
                return;
        }[/code]

[b]Blackout[/b]  SpellHandler.java
in... case 55: // Cast on player
[code]
if(spell.getSpellType() == 9) { //BLACKKKKOUUUTTTT
                                    Player affectedPlayer = world.getPlayer(p.readShort());
                                    if(affectedPlayer.isMod() &amp;&amp; affectedPlayer.getLocation().inWilderness()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage(&quot;@gry@[servmsg] Spell disabled.&quot;);
                                            return;
                                        }
                                        if(affectedPlayer.isAdmin() &amp;&amp; affectedPlayer.getLocation().inWilderness()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage(&quot;@gry@[servmsg] Spell disabled.&quot;);
                                            return;
                                        }
                                        if(affectedPlayer.isDueling()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage(&quot;@gry@[servmsg] Spell disabled.&quot;);
                                            return;
                                        }
                                        if(affectedPlayer.getX() &lt; 86 &amp;&amp; affectedPlayer.getX() &gt; 61 &amp;&amp; affectedPlayer.getY() == 129) {
                                               player.resetPath();
                                               player.getActionSender().sendMessage(&quot;@gry@[servmsg] Spell disabled.&quot;);
			                       return;

                			}
                                    handleBlackOut(player, affectedPlayer, idx);
                                }
[/code]
with the other handles...
[code]private void handleBlackOut(Player player, Player affectedPlayer, final int spellID) {
                SpellDef spell = EntityHandler.getSpellDef(spellID);
                if(!checkAndRemoveRunes(player, spell)) {
			return;
		}
                if(!player.isBusy()) {
			player.setFollowing(affectedPlayer);
		}
		player.setStatus(Action.CASTING_MOB);
		world.getDelayedEventHandler().add(new WalkToMobEvent(player, affectedPlayer, 5) {
			public void arrived() {
                                SpellDef spell = EntityHandler.getSpellDef(spellID);
                                Player affectedPlayer = (Player)affectedMob;
				owner.resetPath();
				if(!canCast(owner) || owner.getStatus() != Action.CASTING_MOB) {
					return;
				}
				owner.resetAllExceptDueling();
                                Projectile projectil = new Projectile(owner, affectedPlayer, 1);
                                ArrayList&lt;Player&gt; playersToInfor = new ArrayList&lt;Player&gt;();
                                playersToInfor.addAll(owner.getViewArea().getPlayersInView());
                                playersToInfor.addAll(affectedPlayer.getViewArea().getPlayersInView());
                                for(Player p : playersToInfor) {
				      	p.informOfProjectile(projectil);
                                }
                                affectedPlayer.getActionSender().sendMessage(&quot;@pnk@[event] &quot; + owner.getUsername() + &quot; has casted blackout on you!&quot;);
                                affectedPlayer.setBlackOut();
                                finalizeSpell(owner, spell);
                        }
                });
                return;

        }[/code]

Player.java
[code]public void setBlackOut() {
		lastBlackout = System.currentTimeMillis();
	}
	
	public boolean isBlackOut() {
                long l = System.currentTimeMillis() - lastBlackout;
                if(l &gt; 15000) {
                    return false;
                } else {
                    return true;
                }
	}[/code]</description>
    
    <lastBuildDate>Fri, 12 Feb 2010 14:00:33 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/release-few-custom-spells/328907.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Release] Few custom spells</title>
        <dc:creator><![CDATA[@yong_min yong min]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/yong_min">@yong_min</a> wrote:</p>
          <blockquote>
              <p>[quote=“imthenull, post:5, topic:328907”]This is cool, ive seen another server attemt to add this in, but they failed somehow lol.</p>
<aside class="quote no-group">
<blockquote>
<p> If you can’t make these basic mods you shouldn’t have a server.</p>
</blockquote>
</aside>
<p>I agree 100%[/quote]</p>
<p>So why are you making one? You made like 20+ topics asking the very basic questions.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-few-custom-spells/328907/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-few-custom-spells/328907/6</link>
        <pubDate>Fri, 12 Feb 2010 14:00:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-328907-6</guid>
        <source url="https://forum.moparisthebest.com/t/release-few-custom-spells/328907.rss">[Release] Few custom spells</source>
      </item>
      <item>
        <title>[Release] Few custom spells</title>
        <dc:creator><![CDATA[@imthenull imthenull]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imthenull">@imthenull</a> wrote:</p>
          <blockquote>
              <p>This is cool, ive seen another server attemt to add this in, but they failed somehow lol.</p>
<blockquote>If you can't make these basic mods you shouldn't have a server.</blockquote>
I agree 100%
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-few-custom-spells/328907/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-few-custom-spells/328907/5</link>
        <pubDate>Thu, 11 Feb 2010 22:57:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-328907-5</guid>
        <source url="https://forum.moparisthebest.com/t/release-few-custom-spells/328907.rss">[Release] Few custom spells</source>
      </item>
      <item>
        <title>[Release] Few custom spells</title>
        <dc:creator><![CDATA[@RSCShadow RSCShadow]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/rscshadow">@RSCShadow</a> wrote:</p>
          <blockquote>
              <p>Nice, I might use this later.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-few-custom-spells/328907/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-few-custom-spells/328907/4</link>
        <pubDate>Thu, 11 Feb 2010 04:44:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-328907-4</guid>
        <source url="https://forum.moparisthebest.com/t/release-few-custom-spells/328907.rss">[Release] Few custom spells</source>
      </item>
      <item>
        <title>[Release] Few custom spells</title>
        <dc:creator><![CDATA[@darscape darscape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/darscape">@darscape</a> wrote:</p>
          <blockquote>
              <p>Cool thanks</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-few-custom-spells/328907/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-few-custom-spells/328907/3</link>
        <pubDate>Thu, 11 Feb 2010 03:49:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-328907-3</guid>
        <source url="https://forum.moparisthebest.com/t/release-few-custom-spells/328907.rss">[Release] Few custom spells</source>
      </item>
      <item>
        <title>[Release] Few custom spells</title>
        <dc:creator><![CDATA[@yong_min yong min]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/yong_min">@yong_min</a> wrote:</p>
          <blockquote>
              <p>Not sure it’s something i’d use myself for all players (maybe only admins), however it’s nice to see some development in this section.</p>
<p>Goodjob.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-few-custom-spells/328907/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-few-custom-spells/328907/2</link>
        <pubDate>Wed, 10 Feb 2010 12:11:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-328907-2</guid>
        <source url="https://forum.moparisthebest.com/t/release-few-custom-spells/328907.rss">[Release] Few custom spells</source>
      </item>
      <item>
        <title>[Release] Few custom spells</title>
        <dc:creator><![CDATA[@xx_c1ph3r_xx xx c1ph3r xx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xx_c1ph3r_xx">@xx_c1ph3r_xx</a> wrote:</p>
          <blockquote>
              <p>Some custom spells…</p>
<p>These will need to be modified to fit into your system.  If you can’t make these basic mods you shouldn’t have a server.</p>
<p>I encourage you to heavily modify these if you use them, I’m sure they can be written better and I prefer to see creativity on servers…</p>
<p><span class="bbcode-b">Heal Yourself</span> SpellHandler.java<br>
under case 206: // Cast on self…</p>
<pre><code class="lang-auto">if(spell.getSpellType() == 7) { //SELF HEALING
                                        if(player.inCombat()||player.isDueling()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage("@gry@[servmsg] Spell disabled.");
                                            return;
                                        }
					handleHeal(player, idx);
				}</code></pre>
<p>with the other handles…</p>
<p><code>private void handleHeal(Player player, final int spellID) {
		player.setStatus(Action.CASTING_MOB);
                SpellDef spell = EntityHandler.getSpellDef(spellID);
                if(!checkAndRemoveRunes(player, spell)) {
			return;
		}
                player.resetPath();
                if(!canCast(player) || player.getStatus() != Action.CASTING_MOB) {
                        return;
                }
		player.resetAllExceptDueling();
                int curhp = player.getCurStat(3);
                int maxhp = player.getMaxStat(3);
                finalizeSpell(player, spell);
                switch(spellID) {
                        case 7:
                            if(curhp == maxhp) {
                                player.getActionSender().sendMessage("@pnk@[event] You tried to heal yourself, but were already max hits.");
                            } else if((maxhp-curhp) &lt;= 5) {
                                player.setCurStat(3, (curhp + (maxhp-curhp)));
                                player.getActionSender().sendMessage("@pnk@[event] You heal yourself for " + (maxhp-curhp) + " hits.");
                            } else if((maxhp-curhp) &gt; 5) {
                                player.setCurStat(3, (curhp + 5));
                                player.getActionSender().sendMessage("@pnk@[event] You heal yourself for " + 5 + " hits.");
                            }
                            player.getActionSender().sendStat(3);
                            return;
                        case 17:
                            if(curhp == maxhp) {
                                player.getActionSender().sendMessage("@pnk@[event] You tried to heal yourself, but were already max hits.");
                            } else if((maxhp-curhp) &lt;= 15) {
                                player.setCurStat(3, (curhp + (maxhp-curhp)));
                                player.getActionSender().sendMessage("@pnk@[event] You heal yourself for " + (maxhp-curhp) + " hits.");
                            } else if((maxhp-curhp) &gt; 15) {
                                player.setCurStat(3, (curhp + 15));
                                player.getActionSender().sendMessage("@pnk@[event] You heal yourself for " + 15 + " hits.");
                            }
                            player.getActionSender().sendStat(3);
                            return;
                        case 38:
                            if(curhp == maxhp) {
                                player.getActionSender().sendMessage("@pnk@[event] You tried to heal yourself, but were already max hits.");
                            } else if((maxhp-curhp) &lt;= 30) {
                                player.setCurStat(3, (curhp + (maxhp-curhp)));
                                player.getActionSender().sendMessage("@pnk@[event] You heal yourself for " + (maxhp-curhp) + " hits.");
                            } else if((maxhp-curhp) &gt; 30) {
                                player.setCurStat(3, (curhp + 30));
                                player.getActionSender().sendMessage("@pnk@[event] You heal yourself for " + 30 + " hits.");
                            }
                            player.getActionSender().sendStat(3);
                            return;
                }
        }</code></p>
<p><span class="bbcode-b">Heal Other</span> SpellHandler.java<br>
in… case 55: // Cast on player</p>
<pre><code class="lang-auto">if(spell.getSpellType() == 8) { //HEAL OTHER
                                    Player affectedPlayer = world.getPlayer(p.readShort());
                                    if(affectedPlayer.isDueling()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage("@gry@[servmsg] Spell disabled.");
                                            return;
                                        }
                                    if(affectedPlayer.inCombat()||affectedPlayer.isDueling()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage("@gry@[servmsg] Spell disabled.");
                                            return;
                                        }
                                    handleHealOther(player, affectedPlayer, idx);
                                }</code></pre>
<p>with the other handles…</p>
<p><code>private void handleHealOther(Player player, Player affectedPlayer, final int spellID) {
                SpellDef spell = EntityHandler.getSpellDef(spellID);
                if(!checkAndRemoveRunes(player, spell)) {
			return;
		}
                if(!player.isBusy()) {
			player.setFollowing(affectedPlayer);
		}
		player.setStatus(Action.CASTING_MOB);
		world.getDelayedEventHandler().add(new WalkToMobEvent(player, affectedPlayer, 5) {
			public void arrived() {
                                SpellDef spell = EntityHandler.getSpellDef(spellID);
                                Player affectedPlayer = (Player)affectedMob;
				owner.resetPath();
				if(!canCast(owner) || owner.getStatus() != Action.CASTING_MOB) {
					return;
				}
				owner.resetAllExceptDueling();
                                Projectile projectil = new Projectile(owner, affectedPlayer, 1);
                                ArrayList&lt;Player&gt; playersToInfor = new ArrayList&lt;Player&gt;();
                                playersToInfor.addAll(owner.getViewArea().getPlayersInView());
                                playersToInfor.addAll(affectedPlayer.getViewArea().getPlayersInView());
                                for(Player p : playersToInfor) {
				      	p.informOfProjectile(projectil);
                                }
                                int curhp = affectedPlayer.getCurStat(3);
                                int maxhp = affectedPlayer.getMaxStat(3);
                                finalizeSpell(owner, spell);
                                switch(spellID) {
                                    case 28:
                                        if(curhp == maxhp) {
                                            owner.getActionSender().sendMessage("@pnk@[event] You tried to heal " + affectedPlayer.getUsername() + ", but they were max hits.");
                                            affectedPlayer.getActionSender().sendMessage("@pnk@[event] " + owner.getUsername() + " tried to heal you, but you were max hits.");
                                        } else if((maxhp-curhp) &lt;= 10) {
                                            affectedPlayer.setCurStat(3, (curhp + (maxhp-curhp)));
                                            owner.getActionSender().sendMessage("@pnk@[event] You heal " + affectedPlayer.getUsername() + " for " + (maxhp-curhp) + " hits.");
                                            affectedPlayer.getActionSender().sendMessage("@pnk@[event] " + owner.getUsername() + " healed you for " + (maxhp-curhp) + " hits.");
                                        } else if((maxhp-curhp) &gt; 10) {
                                            affectedPlayer.setCurStat(3, (curhp + 10));
                                            owner.getActionSender().sendMessage("@pnk@[event] You heal " + affectedPlayer.getUsername() + " for " + 10 + " hits.");
                                            affectedPlayer.getActionSender().sendMessage("@pnk@[event] " + owner.getUsername() + " healed you for " + 10 + " hits.");
                                        }
                                        affectedPlayer.getActionSender().sendStat(3);
                                        return;
                                    case 41:
                                        if(curhp == maxhp) {
                                            owner.getActionSender().sendMessage("@pnk@[event] You tried to heal " + affectedPlayer.getUsername() + ", but they were max hits.");
                                            affectedPlayer.getActionSender().sendMessage("@pnk@[event] " + owner.getUsername() + " tried to heal you, but you were max hits.");
                                        } else if((maxhp-curhp) &lt;= 20) {
                                            affectedPlayer.setCurStat(3, (curhp + (maxhp-curhp)));
                                            owner.getActionSender().sendMessage("@pnk@[event] You heal " + affectedPlayer.getUsername() + " for " + (maxhp-curhp) + " hits.");
                                            affectedPlayer.getActionSender().sendMessage("@pnk@[event] " + owner.getUsername() + " healed you for " + (maxhp-curhp) + " hits.");
                                        } else if((maxhp-curhp) &gt; 20) {
                                            affectedPlayer.setCurStat(3, (curhp + 20));
                                            owner.getActionSender().sendMessage("@pnk@[event] You heal " + affectedPlayer.getUsername() + " for " + 20 + " hits.");
                                            affectedPlayer.getActionSender().sendMessage("@pnk@[event] " + owner.getUsername() + " healed you for " + 20 + " hits.");
                                        }
                                        affectedPlayer.getActionSender().sendStat(3);
                                        return;
                                }
                        }
                });
                return;
        }</code></p>
<p><span class="bbcode-b">Blackout</span>  SpellHandler.java<br>
in… case 55: // Cast on player</p>
<pre><code class="lang-auto">if(spell.getSpellType() == 9) { //BLACKKKKOUUUTTTT
                                    Player affectedPlayer = world.getPlayer(p.readShort());
                                    if(affectedPlayer.isMod() &amp;&amp; affectedPlayer.getLocation().inWilderness()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage("@gry@[servmsg] Spell disabled.");
                                            return;
                                        }
                                        if(affectedPlayer.isAdmin() &amp;&amp; affectedPlayer.getLocation().inWilderness()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage("@gry@[servmsg] Spell disabled.");
                                            return;
                                        }
                                        if(affectedPlayer.isDueling()) {
                                            player.resetPath();
                                            player.getActionSender().sendMessage("@gry@[servmsg] Spell disabled.");
                                            return;
                                        }
                                        if(affectedPlayer.getX() &lt; 86 &amp;&amp; affectedPlayer.getX() &gt; 61 &amp;&amp; affectedPlayer.getY() == 129) {
                                               player.resetPath();
                                               player.getActionSender().sendMessage("@gry@[servmsg] Spell disabled.");
			                       return;

                			}
                                    handleBlackOut(player, affectedPlayer, idx);
                                }</code></pre>
<p>with the other handles…</p>
<p>[code]private void handleBlackOut(Player player, Player affectedPlayer, final int spellID) {<br>
SpellDef spell = EntityHandler.getSpellDef(spellID);<br>
if(!checkAndRemoveRunes(player, spell)) {<br>
return;<br>
}<br>
if(!player.isBusy()) {<br>
player.setFollowing(affectedPlayer);<br>
}<br>
player.setStatus(Action.CASTING_MOB);<br>
world.getDelayedEventHandler().add(new WalkToMobEvent(player, affectedPlayer, 5) {<br>
public void arrived() {<br>
SpellDef spell = EntityHandler.getSpellDef(spellID);<br>
Player affectedPlayer = (Player)affectedMob;<br>
owner.resetPath();<br>
if(!canCast(owner) || owner.getStatus() != Action.CASTING_MOB) {<br>
return;<br>
}<br>
owner.resetAllExceptDueling();<br>
Projectile projectil = new Projectile(owner, affectedPlayer, 1);<br>
ArrayList playersToInfor = new ArrayList();<br>
playersToInfor.addAll(owner.getViewArea().getPlayersInView());<br>
playersToInfor.addAll(affectedPlayer.getViewArea().getPlayersInView());<br>
for(Player p : playersToInfor) {<br>
p.informOfProjectile(projectil);<br>
}<br>
affectedPlayer.getActionSender().sendMessage("<span class="mention">@pnk</span>@[event] " + owner.getUsername() + " has casted blackout on you!");<br>
affectedPlayer.setBlackOut();<br>
finalizeSpell(owner, spell);<br>
}<br>
});<br>
return;</p>
<pre><code>    }[/code]
</code></pre>
<p>Player.java</p>
<p>[code]public void setBlackOut() {<br>
lastBlackout = System.currentTimeMillis();<br>
}</p>
<pre><code>public boolean isBlackOut() {
            long l = System.currentTimeMillis() - lastBlackout;
            if(l &gt; 15000) {
                return false;
            } else {
                return true;
            }
}[/code]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-few-custom-spells/328907/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-few-custom-spells/328907/1</link>
        <pubDate>Wed, 10 Feb 2010 04:47:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-328907-1</guid>
        <source url="https://forum.moparisthebest.com/t/release-few-custom-spells/328907.rss">[Release] Few custom spells</source>
      </item>
  </channel>
</rss>
