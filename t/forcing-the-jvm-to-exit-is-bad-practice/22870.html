<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/forcing-the-jvm-to-exit-is-bad-practice/22870 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 20:30:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Forcing the JVM to exit is bad practice! - General Programming - moparisthebest.com</title>
    <meta name="description" content="Unfortunately I see a lot of people using System.exit(int) and/or JFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE) to terminate their java applications. 

IT&amp;#39;S NOT NEEDED! (Unless you really need the exit code.) 

L&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="22870.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Forcing the JVM to exit is bad practice!&#39;" href="22870.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/forcing-the-jvm-to-exit-is-bad-practice/22870" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/forcing-the-jvm-to-exit-is-bad-practice/22870" />
<meta property="og:title" content="Forcing the JVM to exit is bad practice!" />
<meta name="twitter:title" content="Forcing the JVM to exit is bad practice!" />
<meta property="og:description" content="Unfortunately I see a lot of people using  System.exit(int) and/or  JFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)  to terminate their java applications.  IT’S NOT NEEDED!  (Unless you really need the exit code.)  Let me introduce you to a few ways of terminating your application elegantly:  Solution to System.exit(int)  There are times when parameters X, Y and Z are set so that it is fatal for the application  to continue. You are tempted to System.exit when such an exception occurs…  BU..." />
<meta name="twitter:description" content="Unfortunately I see a lot of people using  System.exit(int) and/or  JFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)  to terminate their java applications.  IT’S NOT NEEDED!  (Unless you really need the exit code.)  Let me introduce you to a few ways of terminating your application elegantly:  Solution to System.exit(int)  There are times when parameters X, Y and Z are set so that it is fatal for the application  to continue. You are tempted to System.exit when such an exception occurs…  BU..." />
<meta property="article:published_time" content="2006-11-07T18:56:01+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="228704658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="22870.html">Forcing the JVM to exit is bad practice!</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k00dr.html'><span itemprop='name'>k00dr</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-07T18:56:01Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:51:10Z' class='post-time'>
              July 29, 2016, 11:51pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Unfortunately I see a lot of people using<br>
<span class="bbcode-b"><span class="bbcode-i">System.exit(int)</span></span> and/or<br>
<span class="bbcode-b"><span class="bbcode-i">JFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)</span></span><br>
to terminate their java applications.</p>
<p><span class="bbcode-b">IT’S NOT NEEDED!</span><br>
<span class="bbcode-i">(Unless you really need the exit code.)</span></p>
<p>Let me introduce you to a few ways of terminating your application elegantly:</p>
<p><span class="bbcode-b"><span class="bbcode-u">Solution to System.exit(int)</span></span></p>
<p>There are times when parameters X, Y and Z are set so that it is fatal for the application<br>
to continue. You are tempted to <span class="bbcode-i">System.exit</span> when such an exception occurs…<br>
BUT DON’T DO IT! Jesus christ…</p>
<p><span class="bbcode-b">Always</span> let your application end in the main method.<br>
The keyword <span class="bbcode-i">return</span> is now your best friend.<br>
If you are planning a threaded application, design it so,<br>
that the thread(s) can be interrupted without having to use <span class="bbcode-i">System.exit</span>.</p>
<p><span class="bbcode-b"><span class="bbcode-u">Solution to JFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)</span></span></p>
<p>Whenever you write a graphical user interface, and you’re done with it, it doesn’t let the JVM exit!</p>
<p>“WTF!!! YOU SON OF A BITCH I’LL <span class="bbcode-i">SYSTEM.EXIT</span> ON YOU! HOW DOES THAT FEEL!? HUH?!<br>
<span class="bbcode-b">OR</span> EVEN BETTER!!! I’LL LET THE JFRAME DO THE DIRTY WORK!!! MUAHAHAHAH!”</p>
<p>Ok, there’s an actual reason for this. You see, most computer systems are <span class="bbcode-i">event based</span>, meaning,<br>
that they won’t check around all the time if XYZ equals to QWERTY, and then try again in 2 seconds.<br>
No no, they are far better designed than that, they rely on <span class="bbcode-i">events</span>.</p>
<p>There is this thing what I’d call an <span class="bbcode-i">event handler</span>, that has access to thread ABC and CBA.<br>
They’re having threesome.<br>
CBA is the data processor, it does all kinds of work, and after it finishes something, for example change<br>
the data member XYZ, it tells the event handler what it has done, and the event handler will<br>
wake up ABC, who’s waiting for something to happen to XYZ.</p>
<p>Ok ok, fascinating… but how the hell does this have anything to do with my JFrame!?<br>
It’s still not letting my application exit! Are you suggesting that there’s <span class="bbcode-b">group sex</span> going on? What should I do, Dr. Phil?</p>
<p>Well, kind of. The Java classes for GUI are efficiently event based.<br>
There are multiple threads running in the background, that you have no control of.</p>
<p>Ok, whatever. After making me listen to all that, would you please tell me how<br>
I <span class="bbcode-b">should</span> end my GUI application?</p>
<p>Have you ever heard of <span class="bbcode-u"><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Window.html#dispose()" data-bbcode="true" rel="nofollow noopener">disposing</a></span> a window? Releasing the resources of a window?<br>
<span class="bbcode-b">Use it! Dispose your windows!</span></p>
<p><span class="bbcode-u"><span class="bbcode-b">Who the hell do you think you are? Giving us instructions on coding… We don’t need your help.<br>
Why should I believe you anyway? This 1337 coder called XYZ told me not to do what you told us!<br>
You don’t know java for shit! I haven’t even seen your code!</span></span></p>
<p>I’m a pretty new member at moparisthebest, but definately not new to Java, which I use to program all kinds of funny shit.<br>
I’m not a newbie on the “scene” either, I’ve had another alias on another forums for a long time (don’t try guessing).</p>
<p>-k00dr</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BobDole81.html'><span itemprop='name'>BobDole81</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-07T20:31:57Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:51:18Z' class='post-time'>
              July 29, 2016, 11:51pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“k00dr, post:1, topic:22870”]<span class="bbcode-u"><span class="bbcode-b">Who the hell do you think you are? Giving us instructions on coding… We don’t need your help.<br>
Why should I believe you anyway? This 1337 coder called XYZ told me not to do what you told us!<br>
You don’t know java for shit! I haven’t even seen your code!</span></span></p>
<p>I’m a pretty new member at moparisthebest, but definately not new to Java, which I use to program all kinds of funny shit.<br>
I’m not a newbie on the “scene” either, I’ve had another alias on another forums for a long time (don’t try guessing).</p>
<p>-k00dr[/quote]<br>
Going by the content of your post, I can’t see how anyone would call you a newbie <img src="../../images/emoji/twitter/winkc164.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
<p>As for your tips, I have to definitely agree with avoiding the EXIT_ON_CLOSE setting, but DISPOSE_ON_CLOSE should work just fine…assuming all user-defined threads are handled properly.</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-07T20:39:32Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:51:18Z' class='post-time'>
              July 29, 2016, 11:51pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I would have assumed that you would only use an exit code if you needed it as part of a larger system, as you implied <img src="../../images/emoji/twitter/stuck_out_tonguec164.png?v=9" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BobDole81.html'><span itemprop='name'>BobDole81</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-07T20:55:57Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:51:20Z' class='post-time'>
              July 29, 2016, 11:51pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>exit code as in the integer parameter to System.exit?  Not at all really…it’s not typically possible to view the exit code in the running jvm instance once system.exit is called.  Having a nonzero exit code changes the method of shutdown slightly from what I remember…it performs a halt on certain running threads or something, but I don’t know the specifics.  Anyway the primary use for error codes (and the main reason System.exit should be used) is to alert caller applications to the status of the execution of the java app.</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-07T20:58:38Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:51:20Z' class='post-time'>
              July 29, 2016, 11:51pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thats what i mean, if you are running the java app and rely on its execution for a greater system</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ruler.html'><span itemprop='name'>ruler</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-07T21:05:27Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:51:21Z' class='post-time'>
              July 29, 2016, 11:51pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Releasing the resources of a window?</p>
<p>I thought swing shutdown would handel that.  Swing shutdown is thrown on a system exit i think.</p>
<pre><code class="lang-auto">public void run() {
        theDisplay = new Display();
        splash();
        init();
        Thread BlackDotThread = new PaintThread();
        BlackDotThread.start();
        while (!theShell.isDisposed()) {
            if (!theDisplay.readAndDispatch())
                theDisplay.sleep();
        }
        BlackDotThread.stop();
        System.exit(-1);
    }</code></pre>
<p>i dont see how a System.exit is bad?  A System.exit makes it terminate much faster <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>I don’t feel like making the end user call applet.stop on all the running rs applets ect.  That would take time.  I like my system doing what ie does.</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k00dr.html'><span itemprop='name'>k00dr</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-07T21:16:42Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:51:23Z' class='post-time'>
              July 29, 2016, 11:51pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="2" data-topic="22870">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/bobdole81/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"> BobDole81:</div>
<blockquote>
<p>As for your tips, I have to definitely agree with avoiding the EXIT_ON_CLOSE setting, but DISPOSE_ON_CLOSE should work just fine…assuming all user-defined threads are handled properly.</p>
</blockquote>
</aside>
<p>Exactly, I, for instance use it all the time <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
I often override the dispose() method, so that I can finish my threads<br>
once the graphical interface has been closed and the user wishes to quit.</p>
<p>Oh, and now that I read my “article” again, it seems like it’s missing the actual<br>
reason why the use of System.exit is usually bad practice. Well anyway, it<br>
unexpectedly stops all the underlying threads.</p>
<p>Not that it’s such a bad thing, but it’s far from the clean exit you can get<br>
by finishing the code naturally.</p>
<aside class="quote no-group" data-post="6" data-topic="22870">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ruler/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"> ruler:</div>
<blockquote>
<p>i dont see how a System.exit is bad?  A System.exit makes it terminate much faster <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>That’s why people usually fall for it. <img src="../../images/emoji/twitter/smileyc164.png?v=9" title=":smiley:" class="emoji" alt=":smiley:"><br>
I’m not 100% sure, but it can be that as a result of doing what you do,<br>
some of the JVM’s memory might be left allocated, which, if repeated,<br>
might make your operating system sluggish.</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-08T05:23:22Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:53:03Z' class='post-time'>
              July 29, 2016, 11:53pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Excellent, er, write-up?</p>
<p>One step closer to making this a community of intellectually greater noobs, <img src="../../images/emoji/twitter/winkc164.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/1337h4x.html'><span itemprop='name'>1337h4x</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-08T05:52:39Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:53:12Z' class='post-time'>
              July 29, 2016, 11:53pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="1" data-topic="22903">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/lawl/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"><a href="../22903/1.html">On another topic</a>
</div>
<blockquote>
<p>doesnt it end up using exit(wtvr) like in c? <img src="../../images/emoji/twitter/expressionlessc164.png?v=9" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
</blockquote>
</aside>
<p>Probably yes, because both functions take in an int for an argument. And also, i don’t know but</p>
<pre><code class="lang-auto">public static int main(Strings args[]) </code></pre>
<p>just might work.</p>
<p>[java]do we have java tags? :P[/java]</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k00dr.html'><span itemprop='name'>k00dr</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-08T06:03:04Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:53:15Z' class='post-time'>
              July 29, 2016, 11:53pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="1" data-topic="22903">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/lawl/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"><a href="../22903/1.html">On another topic</a>
</div>
<blockquote>
<p>doesnt it end up using exit(wtvr) like in c? <img src="../../images/emoji/twitter/expressionlessc164.png?v=9" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
</blockquote>
</aside>
<p>Possibly, but not necessarily. <img src="../../images/emoji/twitter/winkc164.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Iamadam.html'><span itemprop='name'>Iamadam</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-08T13:17:09Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:54:18Z' class='post-time'>
              July 29, 2016, 11:54pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“1337h4x, post:9, topic:22870”][quote author=lawl link=topic=34941.msg417975#msg417975 date=1162939103]<br>
doesnt it end up using exit(wtvr) like in c? <img src="../../images/emoji/twitter/expressionlessc164.png?v=9" title=":expressionless:" class="emoji" alt=":expressionless:"><br>
[/quote]</p>
<p>Probably yes, because both functions take in an int for an argument. And also, i don’t know but</p>
<pre><code class="lang-auto">public static int main(Strings args[]) </code></pre>
<p>just might work.[/quote]<br>
Hmm…I’m pretty sure you can return a value from the main method.<br>
Just use</p>
<pre><code class="lang-auto">return;</code></pre>
<p>Not that hard</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BobDole81.html'><span itemprop='name'>BobDole81</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-09T18:29:42Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:58:27Z' class='post-time'>
              July 29, 2016, 11:58pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You can’t return a value from the main method in java…unless you don’t want the main method to be loaded by default by the jvm.  The jvm calls the main method by signature:  public static void main(java.lang.String[]) - so without that signature, it won’t be called by java.exe.</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pwnd.html'><span itemprop='name'>Pwnd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-09T22:44:00Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:58:45Z' class='post-time'>
              July 29, 2016, 11:58pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, if you’re doing “return;”, you’re not really returning a value, are you?</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BobDole81.html'><span itemprop='name'>BobDole81</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-10T01:11:12Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:59:06Z' class='post-time'>
              July 29, 2016, 11:59pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Nope, you’re not, and that’s why its allowed in main().  If you do return in the main method, I believe the jvm automatically sets the error code to 0, so that’s not an issue.  My point was that you can’t return an integer from the main method because that would involve changing its signature.</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kryptizzler.html'><span itemprop='name'>Kryptizzler</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-10T10:19:44Z'>
            <time itemprop='dateModified' datetime='2016-07-30T00:01:07Z' class='post-time'>
              July 30, 2016, 12:01am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>oman, is it kinda like this?</p>
<p>Like, say you’re riding a bike really fast on gravel (loose stones, etc) and you wanna stop. You don’t just jam on the breaks (because you fall and get a boo-boo), but you want to let everything slow down.</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k00dr.html'><span itemprop='name'>k00dr</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-10T11:10:27Z'>
            <time itemprop='dateModified' datetime='2016-07-30T00:01:12Z' class='post-time'>
              July 30, 2016, 12:01am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Kryptizzler, post:15, topic:22870”]oman, is it kinda like this?</p>
<p>Like, say you’re riding a bike really fast on gravel (loose stones, etc) and you wanna stop. You don’t just jam on the breaks (because you fall and get a boo-boo), but you want to let everything slow down.[/quote]</p>
<p>You got the point! <img src="../../images/emoji/twitter/smileyc164.png?v=9" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Javacisnotrecognized.html'><span itemprop='name'>Javacisnotrecognized</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-10T11:16:56Z'>
            <time itemprop='dateModified' datetime='2016-07-30T00:01:13Z' class='post-time'>
              July 30, 2016, 12:01am
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yes, except technically it is a collection of electrical pulses moving at a speed of 186,282.4 miles per second around a curcuit. It won’t move at a different pace at any given time, so I don’t see how thats a good analogy.</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ada.html'><span itemprop='name'>ada</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-11T19:53:53Z'>
            <time itemprop='dateModified' datetime='2016-07-30T00:06:16Z' class='post-time'>
              July 30, 2016, 12:06am
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Its better to use System.exit(int) <img src="../../images/emoji/twitter/smileyc164.png?v=9" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>At least it ends straight away like any other non-java program would. Anyway, mopar uses the System.exit command in his web client, so it must be useful for something…</p>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BobDole81.html'><span itemprop='name'>BobDole81</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-11T22:05:17Z'>
            <time itemprop='dateModified' datetime='2016-07-30T00:06:40Z' class='post-time'>
              July 30, 2016, 12:06am
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="18" data-topic="22870">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ada/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"> ada:</div>
<blockquote>
<p>At least it ends straight away like any other non-java program would. Anyway, mopar uses the System.exit command in his web client, so it must be useful for something…</p>
</blockquote>
</aside>
<aside class="quote no-group" data-post="4" data-topic="22870">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/bobdole81/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"> BobDole81:</div>
<blockquote>
<p>Anyway the primary use for error codes (and the main reason System.exit should be used) is to alert caller applications to the status of the execution of the java app. </p>
</blockquote>
</aside>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Javacisnotrecognized.html'><span itemprop='name'>Javacisnotrecognized</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-18T11:15:26Z'>
            <time itemprop='dateModified' datetime='2016-07-30T00:31:37Z' class='post-time'>
              July 30, 2016, 12:31am
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok, after rummaging through my JVM, I found something.<br>
basically, System.ext(int status); is RunTime.getRunTime.exit(status); which in turn is ShutDown.exit(status);</p>
<p>So, heres ShutDown:</p>
<pre><code class="lang-auto">/*
 * @(#)Shutdown.java	1.13 05/12/01
 *
 * Copyright 2006 Sun Microsystems, Inc. All rights reserved.
 * SUN PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 */

package java.lang;

import java.util.ArrayList;


/**
 * Package-private utility class containing data structures and logic
 * governing the virtual-machine shutdown sequence.
 *
 * @author   Mark Reinhold
 * @version  1.13, 05/12/01
 * @since    1.3
 */

class Shutdown {

    /* Shutdown state */
    private static final int RUNNING = 0;
    private static final int HOOKS = 1;
    private static final int FINALIZERS = 2;
    private static int state = RUNNING;

    /* Should we run all finalizers upon exit? */
    private static boolean runFinalizersOnExit = false;

    /* The set of registered, wrapped hooks, or null if there aren't any */
    private static ArrayList&lt;Runnable&gt; hooks = new ArrayList&lt;Runnable&gt;();

    /* The preceding static fields are protected by this lock */
    private static class Lock { };
    private static Object lock = new Lock();

    /* Lock object for the native halt method */
    private static Object haltLock = new Lock();

    /* Invoked by Runtime.runFinalizersOnExit */
    static void setRunFinalizersOnExit(boolean run) {
	synchronized (lock) {
	    runFinalizersOnExit = run;
	}
    }


    /* Add a new shutdown hook.  Checks the shutdown state and the hook itself,
     * but does not do any security checks.
     */
    static void add(Runnable hook) {
	synchronized (lock) {
	    if (state &gt; RUNNING)
		throw new IllegalStateException("Shutdown in progress");

	    hooks.add(hook);
	}
    }


    /* Remove a previously-registered hook.  Like the add method, this method
     * does not do any security checks.
     */
    static boolean remove(Runnable hook) {
	synchronized (lock) {
	    if (state &gt; RUNNING)
		throw new IllegalStateException("Shutdown in progress");
	    if (hook == null) throw new NullPointerException();
	    if (hooks == null) {
		return false;
	    } else {
		return hooks.remove(hook);
	    }
	}
    }


    /* Run all registered shutdown hooks
     */
    private static void runHooks() {
	/* We needn't bother acquiring the lock just to read the hooks field,
	 * since the hooks can't be modified once shutdown is in progress
	 */
	for (Runnable hook : hooks) {
	    try {
		hook.run();
	    } catch(Throwable t) { 
		if (t instanceof ThreadDeath) {
   		    ThreadDeath td = (ThreadDeath)t;
		    throw td;
		} 
	    }
	}
    }

    /* The halt method is synchronized on the halt lock
     * to avoid corruption of the delete-on-shutdown file list.
     * It invokes the true native halt method.
     */
    static void halt(int status) {
        synchronized (haltLock) {
            halt0(status);
        }
    }

    static native void halt0(int status);

    /* Wormhole for invoking java.lang.ref.Finalizer.runAllFinalizers */
    private static native void runAllFinalizers();


    /* The actual shutdown sequence is defined here.
     *
     * If it weren't for runFinalizersOnExit, this would be simple -- we'd just
     * run the hooks and then halt.  Instead we need to keep track of whether
     * we're running hooks or finalizers.  In the latter case a finalizer could
     * invoke exit(1) to cause immediate termination, while in the former case
     * any further invocations of exit(n), for any n, simply stall.  Note that
     * if on-exit finalizers are enabled they're run iff the shutdown is
     * initiated by an exit(0); they're never run on exit(n) for n != 0 or in
     * response to SIGINT, SIGTERM, etc.
     */
    private static void sequence() {
	synchronized (lock) {
	    /* Guard against the possibility of a daemon thread invoking exit
	     * after DestroyJavaVM initiates the shutdown sequence
	     */
	    if (state != HOOKS) return;
	}
	runHooks();
	boolean rfoe;
	synchronized (lock) {
	    state = FINALIZERS;
	    rfoe = runFinalizersOnExit;
	}
	if (rfoe) runAllFinalizers();
    }


    /* Invoked by Runtime.exit, which does all the security checks.
     * Also invoked by handlers for system-provided termination events,
     * which should pass a nonzero status code.
     */
    static void exit(int status) {
	boolean runMoreFinalizers = false;
	synchronized (lock) {
	    if (status != 0) runFinalizersOnExit = false;
	    switch (state) {
	    case RUNNING:	/* Initiate shutdown */
		state = HOOKS;
		break;
	    case HOOKS:		/* Stall and halt */
		break;
	    case FINALIZERS:
		if (status != 0) {
		    /* Halt immediately on nonzero status */
		    halt(status);
		} else {
		    /* Compatibility with old behavior:
		     * Run more finalizers and then halt
		     */
		    runMoreFinalizers = runFinalizersOnExit;
		}
		break;
	    }
	}
	if (runMoreFinalizers) {
	    runAllFinalizers();
	    halt(status);
	}
	synchronized (Shutdown.class) {
	    /* Synchronize on the class object, causing any other thread
             * that attempts to initiate shutdown to stall indefinitely
	     */
	    sequence();
	    halt(status);
	}
    }


    /* Invoked by the JNI DestroyJavaVM procedure when the last non-daemon
     * thread has finished.  Unlike the exit method, this method does not
     * actually halt the VM.
     */
    static void shutdown() {
	synchronized (lock) {
	    switch (state) {
	    case RUNNING:	/* Initiate shutdown */
		state = HOOKS;
		break;
	    case HOOKS:		/* Stall and then return */
	    case FINALIZERS:
		break;
	    }
	}
	synchronized (Shutdown.class) {
	    sequence();
	}
    }

}</code></pre>
      </div>

      <meta itemprop='headline' content='Forcing the JVM to exit is bad practice!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="228704658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/forcing-the-jvm-to-exit-is-bad-practice/22870 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 20:30:54 GMT -->
</html>
