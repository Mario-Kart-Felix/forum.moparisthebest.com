<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/object-action-traveling-system-features-base/542463 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 03:19:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Object Action Traveling System - (Features/Base) - Runescape - moparisthebest.com</title>
    <meta name="description" content="[center][size=18pt]Object Action Traveling System[/size][/center] 

[SIZE=3][FONT=Arial Narrow]Features:[/FONT][/SIZE] - Easy to implement a new travel object - Supports object&amp;#39;s action priorities - Supports for all obje&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="542463.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Object Action Traveling System - (Features/Base)&#39;" href="542463.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/object-action-traveling-system-features-base/542463" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/object-action-traveling-system-features-base/542463" />
<meta property="og:title" content="Object Action Traveling System - (Features/Base)" />
<meta name="twitter:title" content="Object Action Traveling System - (Features/Base)" />
<meta property="og:description" content="[center][size=18pt]Object Action Traveling System[/size][/center]  [B][SIZE=3][FONT=Arial Narrow]Features:[/FONT][/SIZE][/B]   Easy to implement a new travel object Supports object’s action priorities Supports for all object click packets Events Easy to add on more features Cleaner rather storing massive cases in object packets HashMap for storing a new travel object  The SimpleTravel.class:  [CODE=java]  package com.rs2.game.objects.traveling;  import com.rs2.game.model.Client;  /**   A class t..." />
<meta name="twitter:description" content="[center][size=18pt]Object Action Traveling System[/size][/center]  [B][SIZE=3][FONT=Arial Narrow]Features:[/FONT][/SIZE][/B]   Easy to implement a new travel object Supports object’s action priorities Supports for all object click packets Events Easy to add on more features Cleaner rather storing massive cases in object packets HashMap for storing a new travel object  The SimpleTravel.class:  [CODE=java]  package com.rs2.game.objects.traveling;  import com.rs2.game.model.Client;  /**   A class t..." />
<meta property="article:published_time" content="2014-04-23T02:04:25+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="542463.html">Object Action Traveling System - (Features/Base)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Hybris.html'><span itemprop='name'>Hybris</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-23T02:04:25Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:02:10Z' class='post-time'>
              August 4, 2016,  1:02pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[center][size=18pt]<span class="bbcode-b">Object Action Traveling System</span>[/size][/center]</p>
<p>[B][SIZE=3][FONT=Arial Narrow]Features:[/FONT][/SIZE][/B]</p>
<ul>
<li>Easy to implement a new travel object</li>
<li>Supports object’s action priorities</li>
<li>Supports for all object click packets</li>
<li>Events</li>
<li>Easy to add on more features</li>
<li>Cleaner rather storing massive cases in object packets</li>
<li>HashMap for storing a new travel object</li>
</ul>
<p>The SimpleTravel.class:</p>
<p>[CODE=java]<br>
package com.rs2.game.objects.traveling;</p>
<p>import com.rs2.game.model.Client;</p>
<p>/**</p>
<ul>
<li>A class to handle random traveling methods such as bridges, boats and other</li>
<li>means of travel.</li>
<li>
</li>
<li>
<span class="mention">@author</span> Hybris</li>
<li>
</li>
</ul>
<p>*/<br>
public abstract class SimpleTravel {</p>
<pre><code>public enum Priority{
/**
 * No actions disabled.
 */
NEVER,
/**
 * Walking disabled.
 */
WALKING,
/**
 * Only disables the minimap.
 */
MINIMAP,
/**
 * Displays an interface which blocks global interactions.
 */
INTERFACE,
/**
 * Disables all.
 */
HIGH
}

/**
 * The object id.
 */
private final int objectId;

/**
 * The delay of the action before executing a command.
 */
private final int cycle;

/**
 * The object packet id.
 */
private final String objectPacket;

/**
 * The constructor for the &lt;code&gt;SimpleTravel&lt;/code&gt;.
 * 
 * @param objectId
 *            the &lt;code&gt;objectId&lt;/code&gt;
 * @param objectPacket
 *            the &lt;code&gt;objectPacket&lt;/code&gt;
 */
public SimpleTravel(int objectId, String objectPacket, int cycle) {
this.objectId = objectId;
this.objectPacket = objectPacket;
this.cycle = cycle;
}

/**
 * Gets the object id.
 * 
 * @return &lt;code&gt;objectId&lt;/code&gt;
 */
public int getObjectId() {
return objectId;
}

/**
 * Gets the object packet id.
 * 
 * @return &lt;code&gt;objectPacket&lt;/code&gt;
 */
public String getObjectPacket() {
return objectPacket;
}

/**
 * Gets the event cycle.
 * 
 * @return &lt;code&gt;cycle&lt;/code&gt;
 */
public int getCycle() {
return cycle;
}


/**
 * Gets any messages to be displayed.
 * 
 * @return a collection of messages
 */
public String[] getInitialMessages() {
return new String[] {};
}

/**
 * The messages executed during a running event.
 * @return a collection of messages
 */
public String[] getFinalMessages(){
return new String[]{};
}

/**
 * If the player has the requirements then the execution phase will only
 * start.
 * 
 * @return false
 */
public boolean checkRequirements() {
return false;
}

/**
 * Gets the object's interaction priority level.
 * @return &lt;code&gt;Priority.NEVER&lt;/code&gt;
 */
public Priority getPriority(){
return Priority.HIGH;
}

/**
 * gets the interface id.
 * @return -1
 */
public int getInterface(){
return -1;
}

public abstract void execute(Client c);
</code></pre>
<p>}</p>
<p>[/CODE]</p>
<p>The SimpleTravelManager.class</p>
<p>[CODE=java]<br>
package com.rs2.game.objects.traveling;</p>
<p>import java.util.HashMap;<br>
import java.util.Map;</p>
<p>import com.rs2.game.event.CycleEvent;<br>
import com.rs2.game.event.CycleEventContainer;<br>
import com.rs2.game.event.CycleEventHandler;<br>
import com.rs2.game.model.Client;<br>
import com.rs2.game.model.player.ClientInitialize;</p>
<p>/**</p>
<ul>
<li>This class stores the information of the current objects implementing the</li>
<li>
<code>SimpleTravel</code> interface.</li>
<li>
</li>
<li>
<span class="mention">@author</span> Hybris</li>
<li>
</li>
</ul>
<p>*/<br>
public class SimpleTravelManager {</p>
<pre><code>private final Map&lt;Integer, SimpleTravel&gt; simpleTravel = new HashMap&lt;Integer, SimpleTravel&gt;();

public SimpleTravelManager() {
}

private void bind(SimpleTravel travel) {
simpleTravel.put(travel.getObjectId(), travel);
}

public boolean handle(final Client client, int objectId, String packetType){
final SimpleTravel sTravel = simpleTravel.get(objectId);
if(sTravel==null){
    return true;
}
if(packetType!=sTravel.getObjectPacket()){
    return true;
}
switch(sTravel.getPriority().HIGH){
case HIGH:
    client.getActionAssistant().showMinitureMap(true);
    client.getActionSender().sendRemoveSidebars();
    client.setCanWalk(false);
    break;
}
for(String messageString : sTravel.getInitialMessages()){
    client.getActionSender().sendMessage(messageString);
}
if(sTravel.getInterface()&gt;0){
client.getActionSender().showInterface(sTravel.getInterface());
}
CycleEventHandler.getSingleton().addEvent(client, new CycleEvent() {

    @Override
    public void execute(CycleEventContainer container) {
	// TODO Auto-generated method stub
	sTravel.execute(client);
	container.stop();
    }

    @Override
    public void stop() {
	// TODO Auto-generated method stub
	ClientInitialize.getSingleton(client).createSidebar(client);
	client.getActionAssistant().showMinitureMap(false);
	client.getActionSender().sendRemoveInterfaces();
	client.getActionAssistant().requestUpdates();
	client.setCanWalk(true);
    }
    
},sTravel.getCycle());
return false;
}
</code></pre>
<p>}</p>
<p>[/CODE]</p>
<p>Add this in your ActionHandler or wherever you handle your object actions.</p>
<p><code>private final SimpleTravelManager simpleTravelManager = new SimpleTravelManager();</code></p>
<p>Under each object click packet: (“first” for first click object etc)</p>
<p>[CODE=java]<br>
if(simpleTravelManager.handle(c, objectType, “first”)){</p>
<p>}<br>
[/CODE]</p>
<p>[B]Example of usage:[/B]</p>
<p>[CODE=java]<br>
package com.rs2.game.objects.traveling;</p>
<p>import com.rs2.game.model.Client;</p>
<p>/**</p>
<ul>
<li>Class to handle the boat to travel the player near Barrows.</li>
<li>
</li>
<li>
<span class="mention">@author</span> Hybris</li>
<li>
</li>
</ul>
<p>*/<br>
public class BarrowsBoatSimpleTravel extends SimpleTravel {</p>
<pre><code>/**
 * The automatically generated constructor.
 */
public BarrowsBoatSimpleTravel() {
super(6970, "first", 10);
// TODO Auto-generated constructor stub
}

@Override
public Priority getPriority(){
return Priority.HIGH;
}

@Override
public String[] getInitialMessages(){
return new String[]{"You get on the boat."};	
}

@Override
public int getInterface(){
return 18460;
}

@Override
public void execute(Client c) {
// TODO Auto-generated method stub
c.getActionAssistant().movePlayer(3521, 3284, 0);
}
</code></pre>
<p>}</p>
<p>[/CODE]<br>
To simply make this work add this:</p>
<p><code>bind(new BarrowsBoatSimpleTravel());</code><br>
in this:</p>
<p><code>
public SimpleTravelManager() {
}
</code></p>
<p>Import the correct packages and change the package in these files. Any errors, problems please post them. This is a base so does need a lot of work and feedback I appreciate thanks</p>
      </div>

      <meta itemprop='headline' content='Object Action Traveling System - (Features/Base)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-23T03:10:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:02:11Z' class='post-time'>
              August 4, 2016,  1:02pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Instead of creating systems for specific purposes I think things like this should be integral to a scripting system. Good job! I enjoy your usage of objects, enums, and your easy to read comments.</p>
      </div>

      <meta itemprop='headline' content='Object Action Traveling System - (Features/Base)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sorecheeny.html'><span itemprop='name'>sorecheeny</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-04-23T03:27:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:02:11Z' class='post-time'>
              August 4, 2016,  1:02pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Very clever!</p>
      </div>

      <meta itemprop='headline' content='Object Action Traveling System - (Features/Base)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/object-action-traveling-system-features-base/542463 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 03:19:42 GMT -->
</html>
