<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PHP] Simple BBCode Parser</title>
    <link>https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656</link>
    <description>hellote, Marluxia here :)

[code]
function ParseString($string) {
	preg_match_all(&quot;#\[([^&gt;]+)](.*?)\[/\\1]#si&quot;, $string, $matches, PREG_SET_ORDER);

	foreach ($matches as $match) {
			
		$allMatched = $match[0]; 
		$tagName = $match[1];
		$tagContent = $match[2];
			
		switch($tagName) {
			case &quot;img&quot;:
				$string = str_replace($allMatched, &quot;&lt;img src=\&quot;$tagContent\&quot; /&gt;&quot;, $string);
			break;
		}
	}
	return $string;
}
[/code]

Ok so I just wanted to use regex :D. I&#39;m not sure whether to keep using &quot;str_replace&quot; as it might be a security concern. You should probably filter XSS somewhere in there too, but i&#39;m not up to that yet :rolleyes:. Oh yea it doesn&#39;t support tags within tags :/ not yet anyways.

Well, yea hope this helps you as much as it did me. 

Cheers ~Barluxia</description>
    
    <lastBuildDate>Mon, 18 Jun 2007 02:24:44 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PHP] Simple BBCode Parser</title>
        <dc:creator><![CDATA[@usernamelol .Fusion]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/usernamelol">@usernamelol</a> wrote:</p>
          <blockquote>
              <p>[quote=“sppt, post:4, topic:109656”]i like <a href="http://www.moparisthebest.com/smf/index.php/topic,2933.msg27910.html#msg27910" data-bbcode="true" rel="nofollow noopener">mine</a> better.<br>
because i don’t see anyway to add tags like<br>
<a> url=(.+)</a>[ /url] (resulting in, for example, <a href="http://google.com" data-bbcode="true" rel="nofollow noopener">google</a><br>
also, i think that mine is a little bit faster, due to immediate replacing, instead of matching -&gt; replacing, but haven’t tested this :)[/quote]<br>
Yeah ftw yours is leet. <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=6" title=":smiley:" class="emoji" alt=":smiley:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/9</link>
        <pubDate>Mon, 18 Jun 2007 02:24:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-109656-9</guid>
        <source url="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656.rss">[PHP] Simple BBCode Parser</source>
      </item>
      <item>
        <title>[PHP] Simple BBCode Parser</title>
        <dc:creator><![CDATA[@Cheese_Police c|p]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cheese_police">@Cheese_Police</a> wrote:</p>
          <blockquote>
              <p>[quote=“marluxia, post:7, topic:109656”]thats why i added this</p>
<pre><code class="lang-auto">$string = htmlspecialchars($string);</code></pre>
<p>:D[/quote]</p>
<p>Sorry, managed to overlook that ;]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/8</link>
        <pubDate>Mon, 18 Jun 2007 00:39:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-109656-8</guid>
        <source url="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656.rss">[PHP] Simple BBCode Parser</source>
      </item>
      <item>
        <title>[PHP] Simple BBCode Parser</title>
        <dc:creator><![CDATA[@marluxia marluxia]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/marluxia">@marluxia</a> wrote:</p>
          <blockquote>
              <p>thats why i added this</p>
<pre><code class="lang-auto">$string = htmlspecialchars($string);</code></pre>
<p><img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=6" title=":smiley:" class="emoji" alt=":smiley:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/7</link>
        <pubDate>Sun, 17 Jun 2007 06:40:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-109656-7</guid>
        <source url="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656.rss">[PHP] Simple BBCode Parser</source>
      </item>
      <item>
        <title>[PHP] Simple BBCode Parser</title>
        <dc:creator><![CDATA[@Cheese_Police c|p]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cheese_police">@Cheese_Police</a> wrote:</p>
          <blockquote>
              <p>Not so secure, you could easily embed some HTML for a bit of XSS <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/6</link>
        <pubDate>Sun, 17 Jun 2007 01:24:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-109656-6</guid>
        <source url="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656.rss">[PHP] Simple BBCode Parser</source>
      </item>
      <item>
        <title>[PHP] Simple BBCode Parser</title>
        <dc:creator><![CDATA[@marluxia marluxia]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/marluxia">@marluxia</a> wrote:</p>
          <blockquote>
              <p>[quote=“sppt, post:4, topic:109656”]i like <a href="http://www.moparisthebest.com/smf/index.php/topic,2933.msg27910.html#msg27910" data-bbcode="true" rel="nofollow noopener">mine</a> better.<br>
because i don’t see anyway to add tags like<br>
<a> url=(.+)</a>[ /url] (resulting in, for example, <a href="http://google.com" data-bbcode="true" rel="nofollow noopener">google</a>[/quote]</p>
<pre><code class="lang-auto">if(preg_match_all("#\[([^&gt;]+)=(.*?)](.*?)\[/\\1]#si", $string, $matches, PREG_SET_ORDER)) {
	foreach ($matches as $match) {

		$allMatched = $match[0];
		$tagName = $match[1];
		$tagVar = $match[2];
		$tagContent = $match[3];

		if(isset($tagContent)) {		
			switch($tagName) {
				case "url":
					$string = str_replace($allMatched, "&lt;a href=\"$tagVar\"&gt;$tagContent&lt;/a&gt;", $string);
				break;
				case "size":
					$string = str_replace($allMatched, "&lt;span style=\"font-size:$tagVar;\"&gt;$tagContent&lt;/span&gt;", $string);
				break;
				case "font":
					$string = str_replace($allMatched, "&lt;font style=\"font-family:$tagVar;\"&gt;$tagContent&lt;/font&gt;", $string);
				break;
			}
		}
	}		
}</code></pre>
<p>yea i made this one to do that ;). Where was that article when i needed it <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>Also, does anyone know why it is not parsing tags within tags ? <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/5</link>
        <pubDate>Sat, 16 Jun 2007 05:40:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-109656-5</guid>
        <source url="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656.rss">[PHP] Simple BBCode Parser</source>
      </item>
      <item>
        <title>[PHP] Simple BBCode Parser</title>
        <dc:creator><![CDATA[@sppt sppt]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sppt">@sppt</a> wrote:</p>
          <blockquote>
              <p>i like <a href="http://www.moparisthebest.com/smf/index.php/topic,2933.msg27910.html#msg27910" data-bbcode="true" rel="nofollow noopener">mine</a> better.<br>
because i don’t see anyway to add tags like<br>
<a> url=(.+)</a>[ /url] (resulting in, for example, <a href="http://google.com" data-bbcode="true" rel="nofollow noopener">google</a><br>
also, i think that mine is a little bit faster, due to immediate replacing, instead of matching -&gt; replacing, but haven’t tested this <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/4</link>
        <pubDate>Sat, 16 Jun 2007 01:53:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-109656-4</guid>
        <source url="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656.rss">[PHP] Simple BBCode Parser</source>
      </item>
      <item>
        <title>[PHP] Simple BBCode Parser</title>
        <dc:creator><![CDATA[@marluxia marluxia]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/marluxia">@marluxia</a> wrote:</p>
          <blockquote>
              <p>yep <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"> that’s right</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/3</link>
        <pubDate>Fri, 15 Jun 2007 11:52:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-109656-3</guid>
        <source url="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656.rss">[PHP] Simple BBCode Parser</source>
      </item>
      <item>
        <title>[PHP] Simple BBCode Parser</title>
        <dc:creator><![CDATA[@runescape3dude runescape3dude]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runescape3dude">@runescape3dude</a> wrote:</p>
          <blockquote>
              <p>so to make more tags, i just add this in:</p>
<p><code>	case "url":
				$string = str_replace($allMatched, "&lt;a href=\"http://$tagContent\" /&gt; &lt;/a&gt;", $string);
			break;</code><br>
under the img tag</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/2</link>
        <pubDate>Fri, 15 Jun 2007 00:36:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-109656-2</guid>
        <source url="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656.rss">[PHP] Simple BBCode Parser</source>
      </item>
      <item>
        <title>[PHP] Simple BBCode Parser</title>
        <dc:creator><![CDATA[@marluxia marluxia]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/marluxia">@marluxia</a> wrote:</p>
          <blockquote>
              <p>hellote, Marluxia here <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<pre><code class="lang-auto">function ParseString($string) {
	preg_match_all("#\[([^&gt;]+)](.*?)\[/\\1]#si", $string, $matches, PREG_SET_ORDER);

	foreach ($matches as $match) {
			
		$allMatched = $match[0]; 
		$tagName = $match[1];
		$tagContent = $match[2];
			
		switch($tagName) {
			case "img":
				$string = str_replace($allMatched, "&lt;img src=\"$tagContent\" /&gt;", $string);
			break;
		}
	}
	return $string;
}</code></pre>
<p>Ok so I just wanted to use regex :D. I’m not sure whether to keep using “str_replace” as it might be a security concern. You should probably filter XSS somewhere in there too, but i’m not up to that yet :rolleyes:. Oh yea it doesn’t support tags within tags <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=6" title=":confused:" class="emoji" alt=":confused:"> not yet anyways.</p>
<p>Well, yea hope this helps you as much as it did me.</p>
<p>Cheers ~Barluxia</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656/1</link>
        <pubDate>Tue, 12 Jun 2007 15:59:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-109656-1</guid>
        <source url="https://forum.moparisthebest.com/t/php-simple-bbcode-parser/109656.rss">[PHP] Simple BBCode Parser</source>
      </item>
  </channel>
</rss>
