<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/718-untradeables-kept-on-death-problem/551145 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>718 Untradeables kept on death problem - Runescape - moparisthebest.com</title>
    <meta name="description" content="Ok I am using a 718 source. Base matrix/Cittelum I guess. 

I started working on untradeable items kept on death. 

I added all theese to itemconstants.java , and theyre not tradeable or anything anymore. 

 public stati&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="551145.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;718 Untradeables kept on death problem&#39;" href="551145.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/718-untradeables-kept-on-death-problem/551145" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/718-untradeables-kept-on-death-problem/551145" />
<meta property="og:title" content="718 Untradeables kept on death problem" />
<meta name="twitter:title" content="718 Untradeables kept on death problem" />
<meta property="og:description" content="Ok I am using a 718 source.  Base matrix/Cittelum I guess.  I started working on untradeable items kept on death.  I added all theese to itemconstants.java , and theyre not tradeable or anything anymore.  public static boolean isTradeable(Item item) { 		if (item.getDefinitions().getName().toLowerCase() 				.contains(&quot;flaming skull&quot;)) 			return false; 		String name = ItemDefinitions.getItemDefinitions(item.getId()) 				.getName().toLowerCase(); 		if (name.contains(&quot;lucky&quot;) 				|| name.contains(&quot;a..." />
<meta name="twitter:description" content="Ok I am using a 718 source.  Base matrix/Cittelum I guess.  I started working on untradeable items kept on death.  I added all theese to itemconstants.java , and theyre not tradeable or anything anymore.  public static boolean isTradeable(Item item) { 		if (item.getDefinitions().getName().toLowerCase() 				.contains(&quot;flaming skull&quot;)) 			return false; 		String name = ItemDefinitions.getItemDefinitions(item.getId()) 				.getName().toLowerCase(); 		if (name.contains(&quot;lucky&quot;) 				|| name.contains(&quot;a..." />
<meta property="article:published_time" content="2015-04-18T12:15:35+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="551145.html">718 Untradeables kept on death problem</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ritvarzzzz.html'><span itemprop='name'>ritvarzzzz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-18T12:15:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:05Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok I am using a 718 source.<br>
Base matrix/Cittelum I guess.</p>
<p>I started working on untradeable items kept on death.</p>
<p>I added all theese to itemconstants.java , and theyre not tradeable or anything anymore.</p>
<p><code>public static boolean isTradeable(Item item) {
		if (item.getDefinitions().getName().toLowerCase()
				.contains("flaming skull"))
			return false;
		String name = ItemDefinitions.getItemDefinitions(item.getId())
				.getName().toLowerCase();
		if (name.contains("lucky")
				|| name.contains("arcane stream")
				|| name.contains("quickfire")
				|| name.contains("Boss Token")
				|| name.contains("doomcore")
				|| name.contains("rusty")
				|| name.contains("chaotic")
				|| name.contains("primal longsword")
				|| name.contains("primal maul")
				|| name.contains("primal rapier")			
				|| name.contains("defender"))
			return false;
</code></p>
<p>Then I edited my death metod in player.java<br>
And added this thats meant to keep those items from itemconstants.java</p>
<pre><code>		[code]}
		keptItems.add(lastItem);
		containedItems.remove(lastItem);
	}
	inventory.reset();
	equipment.reset();	
	for (Item item : containedItems) {
	if (ItemConstants.isTradeable(item)) {
		getInventory().addItem(item);
	}	
		World.addGroundItem(item, getLastWorldTile(), killer == null ? this
				: killer, false, 180, true, true);
	}
}[/code]
</code></pre>
<p>"		for (Item item : containedItems) {<br>
if (ItemConstants.isTradeable(item)) {  &lt;&lt;&lt; THAT IS THE PART I ADDED.</p>
<p>But the problem is, it does it the other way around… It doesnt keep the untradeables, but keeps all of the tradeable items, and drops your tradeable items on the ground for the person that killed you… So i started making untradeables kept on death but ended up making a dupe… Anyone got anything to say about this?</p>
      </div>

      <meta itemprop='headline' content='718 Untradeables kept on death problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runescape_sucks.html'><span itemprop='name'>runescape_sucks</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-18T17:56:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:07Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>	public static boolean isTradeable(Item item) {
		if (item.getDefinitions().getName().toLowerCase()
				.contains("flaming skull"))
			return false;
		String name = ItemDefinitions.getItemDefinitions(item.getId())
				.getName().toLowerCase();
		if (name.contains("lucky")
				|| name.contains("arcane stream")
				|| name.contains("quickfire")
				|| name.contains("Boss Token")
				|| name.contains("doomcore")
				|| name.contains("rusty")
				|| name.contains("chaotic")
				|| name.contains("primal longsword")
				|| name.contains("primal maul")
				|| name.contains("primal rapier")			
				|| name.contains("defender"))
			return false;</code></p>
<p>[code=java]			}<br>
keptItems.add(lastItem);<br>
containedItems.remove(lastItem);<br>
}<br>
inventory.reset();<br>
equipment.reset();	<br>
for (Item item : containedItems) {<br>
if (ItemConstants.isTradeable(item)) {<br>
getInventory().addItem(item);<br>
}	<br>
World.addGroundItem(item, getLastWorldTile(), killer == null ? this<br>
: killer, false, 180, true, true);<br>
}<br>
}</p>
<pre><code>	for (Item item : containedItems) {
	if (ItemConstants.isTradeable(item)) {// &lt;&lt;&lt; THAT IS THE PART I ADDED.[/code]
</code></pre>
<p>Please put your code in [ code][/code] tags, it makes it much easier to read everything.</p>
<p>The problem that I can see is that when you’re looking for the items, I.E. the last portion of the code you provided, you have already reset your inventory and equipment, I don’t know if that means anything because you haven’t posted everything that’s in this method and related to it.</p>
<p>However, I can tell that</p>
<pre><code class="lang-auto"></code></pre>
<p>Would check if the item <span class="bbcode-b"><span class="bbcode-i">is tradeable</span></span>, so reverse that by either putting a “!” in front of the check, or “== false” at the end. (minus quotations for both)</p>
      </div>

      <meta itemprop='headline' content='718 Untradeables kept on death problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ritvarzzzz.html'><span itemprop='name'>ritvarzzzz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-18T18:05:04Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:07Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>Hmm, ok you want to see my whole senditemson death method? here...
[ code]	public void sendItemsOnDeath(Player killer) {
		if (rights == 2)
			return;
		if (rights == 7)
			return;
		charges.die();
		auraManager.removeAura();
		CopyOnWriteArrayList&lt;Item&gt; containedItems = new CopyOnWriteArrayList&lt;Item&gt;();
		for (int i = 0; i &lt; 14; i++) {
			if (equipment.getItem(i) != null
					&amp;&amp; equipment.getItem(i).getId() != -1
					&amp;&amp; equipment.getItem(i).getAmount() != -1)
				containedItems.add(new Item(equipment.getItem(i).getId(),
						equipment.getItem(i).getAmount()));
		}
		for (int i = 0; i &lt; 28; i++) {
			if (inventory.getItem(i) != null
					&amp;&amp; inventory.getItem(i).getId() != -1
					&amp;&amp; inventory.getItem(i).getAmount() != -1)
				containedItems.add(new Item(getInventory().getItem(i).getId(),
						getInventory().getItem(i).getAmount()));
		}
		if (containedItems.isEmpty())
			return;
		int keptAmount = 0;
		if (!(controlerManager.getControler() instanceof CorpBeastControler)
				&amp;&amp; !(controlerManager.getControler() instanceof CrucibleControler)) {
			keptAmount = hasSkull() ? 0 : 0;
			if (prayer.usingPrayer(0, 10) || prayer.usingPrayer(1, 0))
				keptAmount++;
		}
		if (donator &amp;&amp; Utils.random(2) == 0)
			keptAmount += 1;
		CopyOnWriteArrayList&lt;Item&gt; keptItems = new CopyOnWriteArrayList&lt;Item&gt;();
		Item lastItem = new Item(1, 1);
		for (int i = 0; i &lt; keptAmount; i++) {
			for (Item item : containedItems) {
				int price = item.getDefinitions().getValue();
					if (price &gt;= lastItem.getDefinitions().getValue()) {
						containedItems.remove(lastItem);
							lastItem = item;
				}
			}
			keptItems.add(lastItem);
			containedItems.remove(lastItem);
		}
		inventory.reset();
		equipment.reset();	
		for (Item item : containedItems) {
		if (ItemConstants.isTradeable(item)) {
			getInventory().addItem(item);
		}	
			World.addGroundItem(item, getLastWorldTile(), killer == null ? this
					: killer, false, 180, true, true);
		}
	}</code></p>
<p>And what do you mean with “! before check” or == false</p>
      </div>

      <meta itemprop='headline' content='718 Untradeables kept on death problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runescape_sucks.html'><span itemprop='name'>runescape_sucks</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-18T18:12:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:07Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="3" data-topic="551145">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ritvarzzzz/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> ritvarzzzz:</div>
<blockquote>
<p>And what do you mean with “! before check” or == false</p>
</blockquote>
</aside>
<p>Basically, if you have a boolean method or variable, such as</p>
<pre><code class="lang-auto"></code></pre>
<p>That would check that the item is tradeable because that’s what the method checks.</p>
<p>However, if we do either this</p>
<pre><code class="lang-auto"></code></pre>
<p>or</p>
<pre><code class="lang-auto"></code></pre>
<p>We would be checking if the item is not tradeable, because putting a “!” before the check or a “== false” after it means that we’re checking the opposite.</p>
<p>And after reading your code, this <span class="bbcode-i">seems</span> to be the problem.</p>
      </div>

      <meta itemprop='headline' content='718 Untradeables kept on death problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ritvarzzzz.html'><span itemprop='name'>ritvarzzzz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-18T18:20:52Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:07Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alright, i did the ! before check, and it drops all the tradeables… BUT, the untradeables that im supposed to keep turn into cash, and cash is left in my inventory. + The person that killed me gets the cash to. If you know where to fix this, tell me and I will send you a code of how it looks like.</p>
      </div>

      <meta itemprop='headline' content='718 Untradeables kept on death problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runescape_sucks.html'><span itemprop='name'>runescape_sucks</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-18T18:35:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:07Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Instead of this in your new code</p>
<pre><code class="lang-auto"></code></pre>
<p>Try this</p>
<pre><code class="lang-auto"></code></pre>
      </div>

      <meta itemprop='headline' content='718 Untradeables kept on death problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ritvarzzzz.html'><span itemprop='name'>ritvarzzzz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-04-18T18:43:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:04:07Z' class='post-time'>
              August 4, 2016,  3:04pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Done that, now it doesn’t keep anything atall. Just the killer gets the coins for the untradeable, but person that died keeps nothing.</p>
<p>EDITED: Can anyone please help me with that? ^</p>
      </div>

      <meta itemprop='headline' content='718 Untradeables kept on death problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/718-untradeables-kept-on-death-problem/551145 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:56 GMT -->
</html>
