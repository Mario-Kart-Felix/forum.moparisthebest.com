<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/client-server-sharing-packet-logic/553893 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Client/server sharing packet logic - Game Development - moparisthebest.com</title>
    <meta name="description" content="I haven&amp;#39;t seen many examples where the client and server use the same classes for their packet logic. Is there any reason for this? It could be used in a JS project, so the same file would be used by both the Node server&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="553893.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Client/server sharing packet logic&#39;" href="553893.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/client-server-sharing-packet-logic/553893" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/client-server-sharing-packet-logic/553893" />
<meta property="og:title" content="Client/server sharing packet logic" />
<meta name="twitter:title" content="Client/server sharing packet logic" />
<meta property="og:description" content="I haven’t seen many examples where the client and server use the same classes for their packet logic. Is there any reason for this? It could be used in a JS project, so the same file would be used by both the Node server and the user’s browser. This approach would mean that both sides would have the packet’s signature built in.  Here is some psuedocode demonstrating it:  [code=JavaScript]enum PacketDirection {  SERVER_TO_CLIENT,  CLIENT_TO_SERVER  }  interface Packet {  name: string;  direction:..." />
<meta name="twitter:description" content="I haven’t seen many examples where the client and server use the same classes for their packet logic. Is there any reason for this? It could be used in a JS project, so the same file would be used by both the Node server and the user’s browser. This approach would mean that both sides would have the packet’s signature built in.  Here is some psuedocode demonstrating it:  [code=JavaScript]enum PacketDirection {  SERVER_TO_CLIENT,  CLIENT_TO_SERVER  }  interface Packet {  name: string;  direction:..." />
<meta property="article:published_time" content="2015-11-20T00:43:37+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="553893.html">Client/server sharing packet logic</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming/game-development.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Game Development</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-11-20T00:43:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:38:03Z' class='post-time'>
              August 4, 2016,  4:38pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I haven’t seen many examples where the client and server use the same classes for their packet logic. Is there any reason for this? It could be used in a JS project, so the same file would be used by both the Node server and the user’s browser. This approach would mean that both sides would have the packet’s signature built in.</p>
<p>Here is some psuedocode demonstrating it:</p>
<p>[code=JavaScript]enum PacketDirection {<br>
SERVER_TO_CLIENT,<br>
CLIENT_TO_SERVER<br>
}</p>
<p>interface Packet {<br>
name: string;<br>
direction: PacketDirection;<br>
payload: any;<br>
}</p>
<p>class AddPlayerPacket implements Packet {<br>
name = “add_player”;<br>
direction = PacketDirection.SERVER_TO_CLIENT;<br>
payload = undefined;</p>
<pre><code>constructor(id : number, name: string) {
	this.payload = {
		id: id,
		name: name	
	};
}
</code></pre>
<p>}</p>
<p>class SendChatPacket implements Packet {<br>
name = “send_chat”;<br>
direction = PacketDirection.CLIENT_TO_SERVER;<br>
payload = undefined;</p>
<pre><code>constructor(message: string) {
	this.payload = {
		message: message	
	};
}
</code></pre>
<p>}</p>
<p>var add_player_pkt = new AddPlayerPacket(9, “Boris”);<br>
var send_chat_pkt_1 = new SendChatPacket(“Hello! This is my first message!”);<br>
var send_chat_pkt_2 = new SendChatPacket(“And this is another!”);[/code]</p>
<p>This would be useful on applications where both the back-end and the front-end are written in JavaScript and need to share models.</p>
      </div>

      <meta itemprop='headline' content='Client/server sharing packet logic'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lawl.html'><span itemprop='name'>lawl</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-11-22T18:17:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:38:13Z' class='post-time'>
              August 4, 2016,  4:38pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>if you want to share packet structure between server and client, you definitely want to use Google Protobuffers (or one of the many open source spinoffs like Msgpack, capnproto, Facebook Thrift)</p>
      </div>

      <meta itemprop='headline' content='Client/server sharing packet logic'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-11-22T18:46:07Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:38:13Z' class='post-time'>
              August 4, 2016,  4:38pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>“Is there any reason for this?”</p>
<ul>
<li>Yes, generally speaking its because the client -&gt; server packets are a lot different than the server -&gt; client packets.</li>
</ul>
      </div>

      <meta itemprop='headline' content='Client/server sharing packet logic'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/client-server-sharing-packet-logic/553893 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:10 GMT -->
</html>
