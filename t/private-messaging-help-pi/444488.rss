<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Private Messaging Help [PI]</title>
    <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488</link>
    <description>Everytime a moderator yells or talks the mod crown is correct but whenever they pm, its not, it shows up as a admin crown. How can I fix this?</description>
    
    <lastBuildDate>Sat, 09 Jun 2012 19:03:24 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@Onix Onix]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/onix">@Onix</a> wrote:</p>
          <blockquote>
              <p>Looks good from what I can see, but it’s 5am and I’ve been up all night. I think it might be the client here, just try use a different client, if not then I have no idea atm.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/14</link>
        <pubDate>Sat, 09 Jun 2012 19:03:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-14</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@akshayp1 akshayp1]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/akshayp1">@akshayp1</a> wrote:</p>
          <blockquote>
              <p><a href="http://pastebin.com/rKJCDaX1" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/rKJCDaX1</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/13</link>
        <pubDate>Sat, 09 Jun 2012 18:59:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-13</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@Onix Onix]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/onix">@Onix</a> wrote:</p>
          <blockquote>
              <p>[quote=“akshayp1, post:11, topic:444488”]You just want to see the playerassistant.java?[/quote]If that floats your boat, then okay.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/12</link>
        <pubDate>Sat, 09 Jun 2012 18:53:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-12</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@akshayp1 akshayp1]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/akshayp1">@akshayp1</a> wrote:</p>
          <blockquote>
              <p>You just want to see the playerassistant.java?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/11</link>
        <pubDate>Sat, 09 Jun 2012 18:51:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-11</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@Onix Onix]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/onix">@Onix</a> wrote:</p>
          <blockquote>
              <p>[quote=“akshayp1, post:9, topic:444488”]Yes I have checked that one too.[/quote]Show me your sendPM method?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/10</link>
        <pubDate>Sat, 09 Jun 2012 18:49:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-10</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@akshayp1 akshayp1]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/akshayp1">@akshayp1</a> wrote:</p>
          <blockquote>
              <p>Yes I have checked that one too.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/9</link>
        <pubDate>Sat, 09 Jun 2012 18:49:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-9</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@Onix Onix]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/onix">@Onix</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">Check out that method. That's the one that handles the packet or whatnot.

getPA() is PlayerAssistant or something maybe.</code></pre>
<p>Check out that method. That’s the one that handles the packet or whatnot.</p>
<p>getPA() is PlayerAssistant or something maybe.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/8</link>
        <pubDate>Sat, 09 Jun 2012 18:47:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-8</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@akshayp1 akshayp1]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/akshayp1">@akshayp1</a> wrote:</p>
          <blockquote>
              <p>[code=php]package server.model.players.packets;</p>
<p>import server.Config;<br>
import server.Server;<br>
import server.Connection;<br>
import server.model.players.Client;<br>
import server.model.players.PacketType;<br>
import server.util.Misc;</p>
<p>/**</p>
<ul>
<li>
<p>Private messaging, friends etc<br>
**/<br>
public class PrivateMessaging implements PacketType {</p>
<p>public final int ADD_FRIEND = 188, SEND_PM = 126, REMOVE_FRIEND = 215, CHANGE_PM_STATUS = 95, ADD_IGNORE = 133;<br>
<a class="mention" href="/u/override">@Override</a><br>
public void processPacket(Client c, int packetType, int packetSize) {<br>
switch(packetType) {</p>
<pre><code> 	case ADD_FRIEND:
 	c.friendUpdate = true;
 	long friendToAdd = c.getInStream().readQWord();
 	boolean canAdd = true;

 	for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
 		if (c.friends[i1] != 0 &amp;&amp; c.friends[i1] == friendToAdd) {
 			canAdd = false;
 			c.sendMessage(friendToAdd + " is already on your friends list.");
 		}
 	}
 	if (canAdd == true) {
 		for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
 			if (c.friends[i1] == 0) {
 				c.friends[i1] = friendToAdd;
 				for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
 					if (Server.playerHandler.players[i2] != null &amp;&amp; Server.playerHandler.players[i2].isActive &amp;&amp; Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)== friendToAdd) {
 						Client o = (Client)Server.playerHandler.players[i2];
 						if(o != null) {
 							if (Server.playerHandler.players[i2].privateChat == 0 || (Server.playerHandler.players[i2].privateChat == 1 &amp;&amp; o.getPA().isInPM(Misc.playerNameToInt64(c.playerName)))) {
 								c.getPA().loadPM(friendToAdd, 1);
 								break;
 							}
 						}
 					}
 				}
 				break;
 			}
 		}
 	}
 	break;
 	
 	case SEND_PM:
 	long sendMessageToFriendId = c.getInStream().readQWord();
     byte pmchatText[] = new byte[100];
     int pmchatTextSize = (byte) (packetSize - 8);
 	c.getInStream().readBytes(pmchatText, pmchatTextSize, 0);
 	c.getPA().writePMLog(Misc.textUnpack(pmchatText, packetSize-8));
 	if (Connection.isMuted(c))
 		break;
     for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
         if (c.friends[i1] == sendMessageToFriendId) {
             boolean pmSent = false;

             for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
                 if (Server.playerHandler.players[i2] != null &amp;&amp; Server.playerHandler.players[i2].isActive &amp;&amp; Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)== sendMessageToFriendId) {
                     Client o = (Client)Server.playerHandler.players[i2];
 					if(o != null) {
 						if (Server.playerHandler.players[i2].privateChat == 0 || (Server.playerHandler.players[i2].privateChat == 1 &amp;&amp; o.getPA().isInPM(Misc.playerNameToInt64(c.playerName)))) {
 							o.getPA().sendPM(Misc.playerNameToInt64(c.playerName), c.playerRights, pmchatText, pmchatTextSize);
                             pmSent = true;
                         }
 					}
                     break;
                 }
             }
             if (!pmSent) {
 				c.sendMessage("That player is currently offline.");
 				break;
             }
         }
     }
     break;	
 	
 	case REMOVE_FRIEND:
 	c.friendUpdate = true;
     long friendToRemove = c.getInStream().readQWord();

     for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
         if (c.friends[i1] == friendToRemove) {
 			for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
 				Client o = (Client)Server.playerHandler.players[i2];		
 				if(o != null) {
 					if(c.friends[i1] == Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)){
 						o.getPA().updatePM(c.playerId, 0);
 						break;
 					}
 				}
 			}
 			c.friends[i1] = 0;
             break;
         }
     }
     break;
 	
 	
 	case CHANGE_PM_STATUS:
     int tradeAndCompete = c.getInStream().readUnsignedByte();
     c.privateChat = c.getInStream().readUnsignedByte();
     int publicChat = c.getInStream().readUnsignedByte();
     for (int i1 = 1; i1 &lt; Config.MAX_PLAYERS; i1++) {
 	   if (Server.playerHandler.players[i1] != null &amp;&amp; Server.playerHandler.players[i1].isActive == true) {
             Client o = (Client)Server.playerHandler.players[i1];
 			if(o != null) {
 				o.getPA().updatePM(c.playerId, 1);
 			}
         }
     }
     break;
 	
 	case ADD_IGNORE:
 		//Not finished
 		break;
     
 }
</code></pre>
<p>}	<br>
}<br>
[/code]</p>
</li>
</ul>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/7</link>
        <pubDate>Sat, 09 Jun 2012 18:42:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-7</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@Onix Onix]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/onix">@Onix</a> wrote:</p>
          <blockquote>
              <p>[quote=“akshayp1, post:5, topic:444488”]Ok here is the privatemessaging.class<br>
<a href="http://www.mediafire.com/?n5oy3j76likc379%5B/quote%5DI" rel="nofollow noopener">http://www.mediafire.com/?n5oy3j76likc379[/quote]I</a> was referring to the actual ‘.java’ file as you call it, not the compiled binary file. The java source code file. Also, you can post it here with the code tags or on pastebin or something.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/6</link>
        <pubDate>Sat, 09 Jun 2012 18:38:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-6</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@akshayp1 akshayp1]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/akshayp1">@akshayp1</a> wrote:</p>
          <blockquote>
              <p>Ok here is the privatemessaging.class<br>
<a href="http://www.mediafire.com/?n5oy3j76likc379" class="onebox" target="_blank" rel="nofollow noopener">http://www.mediafire.com/?n5oy3j76likc379</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/5</link>
        <pubDate>Sat, 09 Jun 2012 18:33:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-5</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@Onix Onix]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/onix">@Onix</a> wrote:</p>
          <blockquote>
              <p>You don’t edit .class files. And could you post your privateMessaging class?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/4</link>
        <pubDate>Sat, 09 Jun 2012 18:29:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-4</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@akshayp1 akshayp1]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/akshayp1">@akshayp1</a> wrote:</p>
          <blockquote>
              <p>Yes I already did that I went in to private messaging.java and .class, and there was nothing in there related to &lt;img</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/3</link>
        <pubDate>Sat, 09 Jun 2012 18:27:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-3</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@Onix Onix]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/onix">@Onix</a> wrote:</p>
          <blockquote>
              <p>Where you handle private messaging, check to see you’re sending ‘&lt;img=1&gt;’ instead of 2, or whichever way around it is.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/2</link>
        <pubDate>Sat, 09 Jun 2012 18:23:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-2</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
      <item>
        <title>Private Messaging Help [PI]</title>
        <dc:creator><![CDATA[@akshayp1 akshayp1]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/akshayp1">@akshayp1</a> wrote:</p>
          <blockquote>
              <p>Everytime a moderator yells or talks the mod crown is correct but whenever they pm, its not, it shows up as a admin crown. How can I fix this?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/private-messaging-help-pi/444488/1</link>
        <pubDate>Sat, 09 Jun 2012 18:15:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-444488-1</guid>
        <source url="https://forum.moparisthebest.com/t/private-messaging-help-pi/444488.rss">Private Messaging Help [PI]</source>
      </item>
  </channel>
</rss>
