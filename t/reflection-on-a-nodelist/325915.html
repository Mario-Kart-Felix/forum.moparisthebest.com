<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/reflection-on-a-nodelist/325915 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 02:28:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Reflection on a NodeList - Runescape - moparisthebest.com</title>
    <meta name="description" content="Alright, so now that out of pure boredom and intrigue I have restarted my work on a runescape project, I need a little bit of help. 

I had never looked at Nodes previous to my research involved in this post, so please, &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="325915.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Reflection on a NodeList&#39;" href="325915.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/reflection-on-a-nodelist/325915" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/reflection-on-a-nodelist/325915" />
<meta property="og:title" content="Reflection on a NodeList" />
<meta name="twitter:title" content="Reflection on a NodeList" />
<meta property="og:description" content="Alright, so now that out of pure boredom and intrigue I have restarted my work on a runescape project, I need a little bit of help.  I had never looked at Nodes previous to my research involved in this post, so please, if I am way off on anything then feel free to correct me.  From looking around, I can see they now have a new class, “MenuNode” or whatever name would suit you.  This class is the class that actually contains an “Action” and “Option” variable for that instance of the open Menu.  W..." />
<meta name="twitter:description" content="Alright, so now that out of pure boredom and intrigue I have restarted my work on a runescape project, I need a little bit of help.  I had never looked at Nodes previous to my research involved in this post, so please, if I am way off on anything then feel free to correct me.  From looking around, I can see they now have a new class, “MenuNode” or whatever name would suit you.  This class is the class that actually contains an “Action” and “Option” variable for that instance of the open Menu.  W..." />
<meta property="article:published_time" content="2010-01-16T14:40:25+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="325915.html">Reflection on a NodeList</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_bank.html'><span itemprop='name'>the_bank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-01-16T14:40:25Z'>
            <time itemprop='dateModified' datetime='2016-07-31T14:04:30Z' class='post-time'>
              July 31, 2016,  2:04pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alright, so now that out of pure boredom and intrigue I have restarted my work on a runescape project, I need a little bit of help.</p>
<p>I had never looked at Nodes previous to my research involved in this post, so please, if I am way off on anything then feel free to correct me.</p>
<p>From looking around, I can see they now have a new class, “MenuNode” or whatever name would suit you.  This class is the class that actually contains an “Action” and “Option” variable for that instance of the open Menu.</p>
<p>Within the client is a MenuNodeList, which is a circularly-linked list of all the MenuNodes in the open menu.</p>
<p>Now I am attempting to look at this from a reflection standpoint.  Yes, I realize a BCEL solution would be rather simple, however as this project was created to be a learnign experience for me within the reflection API, it isn’t a path I wish to take.</p>
<p>Anywho, the standard “path” of reflection in runescape is simply like this :<br>
a.b - for something like GameState<br>
a.b.c - for something like Player Animation</p>
<p>My class is written to handle both these 2 object and 3 object “paths”.</p>
<p>Now, my problem is with a NodeList.  With such a thing I would be looking like this:</p>
<p>menuNodeList.getHead().getAction() - Would return the action of the MenuNode created in the constructor.  So far so good, let’s get the next one.</p>
<p>menuNodeList.getHead().getNext().getAction() - Oh shit, what now?  Ok, let’s make our class handle a path of 4 objects.</p>
<p>menuNodeList.getHead().getNext().getNext().getAction() - Get it yet?</p>
<p>Obviously one solution would be to design my reflection class to handle a path of any length, however I was hoping there was another solution.</p>
<p>So, now onto you, what is the best way to handle this problem?</p>
      </div>

      <meta itemprop='headline' content='Reflection on a NodeList'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-01-16T14:51:04Z'>
            <time itemprop='dateModified' datetime='2016-07-31T14:04:31Z' class='post-time'>
              July 31, 2016,  2:04pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>shitty api you’re restricting yourself to imo (this gay ‘path’ thing)</p>
      </div>

      <meta itemprop='headline' content='Reflection on a NodeList'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-01-16T15:30:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T14:04:38Z' class='post-time'>
              July 31, 2016,  2:04pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>not using reflection is a good start, but i dont get what your problem would be unless you are doing something silly</p>
<p>why are “paths” hardcoded for support?</p>
      </div>

      <meta itemprop='headline' content='Reflection on a NodeList'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_bank.html'><span itemprop='name'>the_bank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-01-16T15:35:14Z'>
            <time itemprop='dateModified' datetime='2016-07-31T14:04:39Z' class='post-time'>
              July 31, 2016,  2:04pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“frank_, post:3, topic:325915”]not using reflection is a good start, but i dont get what your problem would be unless you are doing something silly</p>
<p>why are “paths” hardcoded for support?[/quote]The way my current class works is it will take, in the constructor, the “path” to the field you are trying to reflect.  For example “gh.it”.  Next, it goes through the necessary steps to allow the user to retrieve the value of that field.</p>
<p>It is also configured so that when 3 objects are present (for example “gh.it.rq”) then it will the appropriate object as the parameter to get the vlaue of the field.</p>
<p>However, with the menu node list, the size of the actual “path” is unpredictable as it is circularly linked and therefore the only solution i could think of is to recreate my framework to allow for any number of objects in a path.</p>
<p>Having said that, I was simply was wonderign if there was another way…maybe by caching the previous Node?  I don’t know.</p>
      </div>

      <meta itemprop='headline' content='Reflection on a NodeList'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-01-16T15:51:44Z'>
            <time itemprop='dateModified' datetime='2016-07-31T14:04:46Z' class='post-time'>
              July 31, 2016,  2:04pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>why not utility classes like:</p>
<p>[code]package banks.shitty.bot.that.uses.reflection.and.some.stupid.path.bullshit.which.this.should.hopefully.deprecate;</p>
<p>class Nodes {</p>
<pre><code> private static final Field NEXT_FLD;

 private Nodes() { }

 public static Object next(Object node) {
     return NEXT_FLD.get(node);
 }
</code></pre>
<p>}<br>
[/code]</p>
<p>well hopefully not something that ugly but you get the idea…</p>
<p><code>Object node = NodeLists.head(list);
while (node != null) {
     String action = MenuNodes.action(node);
     node = Nodes.next(node);
}</code></p>
      </div>

      <meta itemprop='headline' content='Reflection on a NodeList'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-01-16T16:31:17Z'>
            <time itemprop='dateModified' datetime='2016-07-31T14:04:50Z' class='post-time'>
              July 31, 2016,  2:04pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>learn2recursion</p>
      </div>

      <meta itemprop='headline' content='Reflection on a NodeList'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Speljohan.html'><span itemprop='name'>Speljohan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-01-16T17:22:43Z'>
            <time itemprop='dateModified' datetime='2016-07-31T14:04:54Z' class='post-time'>
              July 31, 2016,  2:04pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="6" data-topic="325915">
<div class="title">
<div class="quote-controls"></div>
 frank_:</div>
<blockquote>
<p>learn2recursion</p>
</blockquote>
</aside>
      </div>

      <meta itemprop='headline' content='Reflection on a NodeList'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-01-16T18:44:48Z'>
            <time itemprop='dateModified' datetime='2016-07-31T14:05:01Z' class='post-time'>
              July 31, 2016,  2:05pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="6" data-topic="325915">
<div class="title">
<div class="quote-controls"></div>
 frank_:</div>
<blockquote>
<p>learn2recursion</p>
</blockquote>
</aside>
<p>why not iterate</p>
      </div>

      <meta itemprop='headline' content='Reflection on a NodeList'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-01-17T00:48:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T14:05:47Z' class='post-time'>
              July 31, 2016,  2:05pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>if you have the direct field (ie a.b.c.d.e.f), you can do something like this</p>
<p><code>Field getField(String s) throws &lt;whateverexceptionhere&gt; {
    Class&lt;?&gt; c = null;
    String[] str = s.split("\\.");
    for (int i = 0; i &lt; str.length; i++) {
        if ((i + 1) &lt; str.length) {
            c = (c == null) ? &lt;your_loader&gt;.getClass(str[i]) : c.getField(str[i]).getType();
            continue;
        }
        return c.getField(str[i]);
    }
    return null;
}</code></p>
<p>edit: obv wouldnt work like this, but you get the idea (instead of calling getType(), call get(null) (if static) or get(obj) (if not static) - but it was just an example)</p>
      </div>

      <meta itemprop='headline' content='Reflection on a NodeList'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/reflection-on-a-nodelist/325915 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 02:28:05 GMT -->
</html>
