<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-clipped-firemaking-problem/451661 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 01:18:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>PI clipped firemaking problem - Runescape - moparisthebest.com</title>
    <meta name="description" content="The source I&amp;#39;m using has clipped firemaking but it seems to be bugged making it not clipped at all. I&amp;#39;m trying to fix it but I can&amp;#39;t see anything wrong with it. If anyone could help/hint me that would be great. 

UseItem&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="451661.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;PI clipped firemaking problem&#39;" href="451661.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-clipped-firemaking-problem/451661" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-clipped-firemaking-problem/451661" />
<meta property="og:title" content="PI clipped firemaking problem" />
<meta name="twitter:title" content="PI clipped firemaking problem" />
<meta property="og:description" content="The source I’m using has clipped firemaking but it seems to be bugged making it not clipped at all.  I’m trying to fix it but I can’t see anything wrong with it. If anyone could help/hint me that would be great.  UseItem case  case 590: 				if (useWith == 1511 || useWith == 1521 || useWith == 1519 || useWith == 1517 || useWith == 1515 || useWith == 1513) { 					c.getFiremaking().checkLogType(itemUsed, useWith, fireX, fireY); 				} Firemaking.java  package server.model.players.skills;  import ser..." />
<meta name="twitter:description" content="The source I’m using has clipped firemaking but it seems to be bugged making it not clipped at all.  I’m trying to fix it but I can’t see anything wrong with it. If anyone could help/hint me that would be great.  UseItem case  case 590: 				if (useWith == 1511 || useWith == 1521 || useWith == 1519 || useWith == 1517 || useWith == 1515 || useWith == 1513) { 					c.getFiremaking().checkLogType(itemUsed, useWith, fireX, fireY); 				} Firemaking.java  package server.model.players.skills;  import ser..." />
<meta property="article:published_time" content="2012-07-28T12:25:46+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="451661.html">PI clipped firemaking problem</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pro_banana.html'><span itemprop='name'>pro_banana</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-28T12:25:46Z'>
            <time itemprop='dateModified' datetime='2016-08-03T19:44:57Z' class='post-time'>
              August 3, 2016,  7:44pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The source I’m using has clipped firemaking but it seems to be bugged making it not clipped at all.<br>
I’m trying to fix it but I can’t see anything wrong with it. If anyone could help/hint me that would be great.</p>
<p>UseItem case</p>
<pre><code class="lang-auto">case 590:
				if (useWith == 1511 || useWith == 1521 || useWith == 1519 || useWith == 1517 || useWith == 1515 || useWith == 1513) {
					c.getFiremaking().checkLogType(itemUsed, useWith, fireX, fireY);
				}</code></pre>
<p>Firemaking.java</p>
<pre><code class="lang-auto">package server.model.players.skills;

import server.Config;
import server.model.players.Client;
import server.model.players.PlayerHandler;
import server.model.objects.Objects;
import server.Server;
import server.world.map.VirtualWorld;
import server.model.items.GroundItem;
import server.event.Task;
import server.world.ItemHandler;

 
public class Firemaking {
 
 private Client c;
 
 public Firemaking(Client c) {
  this.c = c;
 }
 
 private int[] logs = {1511, 2862, 1521, 1519, 6333, 1517, 6332, 1515, 1513};
 private int[] level = {1, 1, 15, 30, 35, 45, 50, 60, 75};
 public long lastLight;
 private static final int EMOTE = 5208, ASHES = 592;
 public int firemakingTimer, direction;
 
 
 public void checkLogType(int logType, int otherItem, final int fireX, final int fireY) {
  for (int j = 0; j &lt; logs.length;j++) {
   if (logs[j] == logType || logs[j] == otherItem) {
    lightFire(j, fireX, fireY);
    return;
   }
  } 
 }
 
 private boolean canWeMakeSomeFire() {
	  try {
	  if(c.absX == Objects.getObjectX() &amp;&amp; c.absY == Objects.getObjectY() &amp;&amp; Objects.getObjectId() &gt; 0) {
	   c.sendMessage("You can't light a fire here !");
	   return false;
	  }
	  } catch (Exception e) {
	  }
	  return true;
	 }
 
 
 private void processFire(final int lastfireX, final int lastfireY) {
  Server.objectHandler.createAnObject(c, 2732, lastfireX, lastfireY);
  Server.getTaskScheduler().schedule(new Task(25) {
   @Override
   protected void execute() {
    if (c.disconnected) {
     stop();
     return;
    }
    Server.objectHandler.createAnObject(c, -1, lastfireX, lastfireY);
    ItemHandler.getSingleton().createGroundItem(c, ASHES, lastfireX, lastfireY, 1, c.getId());
    //ItemHandler.getSingleton().createGroundItem(c, ASHES, lastfireX, lastfireY, 1, c.getId());
    //GroundItem item = new GroundItem(ASHES, lastfireX, lastfireY, 1, c.playerId, 1, PlayerHandler.players[c.playerId].playerName);
    //ItemHandler.getSingleton().addItem(item);
    this.stop();
   }
  });
 }
 

 
 public void lightFire(final int slot, final int lastFireX, final int lastFireY) {
  if (c.duelStatus &gt;= 5) {
   c.sendMessage("Why am I trying to light a fire in the duel arena?");
   return;
  }
  if (c.getPlayerAction().checkAction()) {
   return;
  }
  if (canWeMakeSomeFire() == false) {
   return;
  }
  if (c.playerLevel[c.playerFiremaking] &gt;= level[slot]) {
   if (c.getItems().playerHasItem(590) &amp;&amp; c.getItems().playerHasItem(logs[slot])) {
     if(VirtualWorld.I(c.heightLevel, c.absX, c.absY, c.absX-1, c.absY, 0)) {
      c.getPlayerAction().setAction(true);
      c.getPlayerAction().canWalk(false);
      c.sendMessage("You attempted to light the fire...");
      c.startAnimation(EMOTE);
      c.getItems().deleteItem(logs[slot], c.getItems().getItemSlot(logs[slot]), 1);
      c.getPA().addSkillXP(logs[slot] / 3, c.playerFiremaking);
      ItemHandler.getSingleton().createGroundItem(c, logs[slot], lastFireX, lastFireY, 1, c.getId());
      direction = -1;
      firemakingTimer = 3;
      Server.getTaskScheduler().schedule(new Task(2) {
       @Override
       protected void execute() {
        if (c.disconnected) {
         stop();
         return;
        }
        c.turnPlayerTo(c.getX() + 1, c.getY());
        if (canWeMakeSomeFire() == false) {
         c.getPlayerAction().setAction(false);
         c.getPlayerAction().canWalk(true);
         firemakingTimer = -1;
         this.stop();
         return;
        }
        ItemHandler.getSingleton().removeGroundItem(c, logs[slot], lastFireX, lastFireY, false);
        processFire(lastFireX, lastFireY);
        c.sendMessage("You light the fire.");
        c.getPlayerAction().setAction(false);
        c.getPlayerAction().canWalk(true);
        this.stop();
       }
      });
     } else {
      c.getPlayerAction().setAction(true);
      c.getPlayerAction().canWalk(false);
      c.sendMessage("You attempted to light the fire...");
      c.startAnimation(EMOTE);
      c.getItems().deleteItem(logs[slot], c.getItems().getItemSlot(logs[slot]), 1);
      c.getPA().addSkillXP(logs[slot] / 3, c.playerFiremaking);
      ItemHandler.getSingleton().createGroundItem(c, logs[slot], lastFireX, lastFireY, 1, c.getId());
      direction = 1;
      firemakingTimer = 3;
      Server.getTaskScheduler().schedule(new Task(2) {
       @Override
       protected void execute() {
        if (c.disconnected) {
         stop();
         return;
        }
        c.turnPlayerTo(c.getX() + 1, c.getY());
        if (canWeMakeSomeFire() == false) {
         c.getPlayerAction().setAction(false);
         c.getPlayerAction().canWalk(true);
         firemakingTimer = -1;
         this.stop();
         return;
        }
        ItemHandler.getSingleton().removeGroundItem(c, logs[slot], lastFireX, lastFireY, false);
        processFire(lastFireX, lastFireY);
        c.sendMessage("You light the fire.");
        c.getPlayerAction().setAction(false);
        c.getPlayerAction().canWalk(true);
        this.stop();
       }
      });
     } 
   } else {
    c.sendMessage("You need a tinderbox to light these logs.");
   }
  } else {
   c.sendMessage("You need a higher level to burn these logs.");
   return;
  }
 } 
 
 public void firemakingProcess() {
  if (firemakingTimer &gt; 0) {
   firemakingTimer--;
  }
  if (firemakingTimer == 0) {
   c.getPA().walkTo(direction, 0);
   firemakingTimer = -1;
  }
 }
}</code></pre>
      </div>

      <meta itemprop='headline' content='PI clipped firemaking problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/RsMakerWoad.html'><span itemprop='name'>RsMakerWoad</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-28T12:28:41Z'>
            <time itemprop='dateModified' datetime='2016-08-03T19:44:57Z' class='post-time'>
              August 3, 2016,  7:44pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Do you have a client i could download to test this out? i aint too sure what your on about</p>
      </div>

      <meta itemprop='headline' content='PI clipped firemaking problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pro_banana.html'><span itemprop='name'>pro_banana</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-28T12:39:34Z'>
            <time itemprop='dateModified' datetime='2016-08-03T19:44:57Z' class='post-time'>
              August 3, 2016,  7:44pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="451661">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/rsmakerwoad/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> RsMakerWoad:</div>
<blockquote>
<p>Do you have a client i could download to test this out? i aint too sure what your on about</p>
</blockquote>
</aside>
<p>I don’t think that’s needed, I provided the code so you could have look at it.</p>
      </div>

      <meta itemprop='headline' content='PI clipped firemaking problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imsuperman05.html'><span itemprop='name'>imsuperman05</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-28T15:01:35Z'>
            <time itemprop='dateModified' datetime='2016-08-03T19:45:12Z' class='post-time'>
              August 3, 2016,  7:45pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Is this supposed to be your clipping?</p>
<pre><code class="lang-auto"> private boolean canWeMakeSomeFire() {
          try {
          if(c.absX == Objects.getObjectX() &amp;&amp; c.absY == Objects.getObjectY() &amp;&amp; Objects.getObjectId() &gt; 0) {
           c.sendMessage("You can't light a fire here !");
           return false;
          }
          } catch (Exception e) {
          }
          return true;
         }</code></pre>
<p>If so, why do you have a checked exception?  This will definitely not through any type of exception, and there is nothing even being done if an exception is caught.  This function is checking if the player is standing on an object, you should check if the player is going to stand on an object, like c.absX + 1 == Object.getObjectX() + 1.</p>
      </div>

      <meta itemprop='headline' content='PI clipped firemaking problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pro_banana.html'><span itemprop='name'>pro_banana</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-29T02:54:51Z'>
            <time itemprop='dateModified' datetime='2016-08-03T19:46:12Z' class='post-time'>
              August 3, 2016,  7:46pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“imsuperman05, post:4, topic:451661”]Is this supposed to be your clipping?</p>
<pre><code class="lang-auto"> private boolean canWeMakeSomeFire() {
          try {
          if(c.absX == Objects.getObjectX() &amp;&amp; c.absY == Objects.getObjectY() &amp;&amp; Objects.getObjectId() &gt; 0) {
           c.sendMessage("You can't light a fire here !");
           return false;
          }
          } catch (Exception e) {
          }
          return true;
         }</code></pre>
<p>If so, why do you have a checked exception?  This will definitely not through any type of exception, and there is nothing even being done if an exception is caught.  This function is checking if the player is standing on an object, you should check if the player is going to stand on an object, like c.absX + 1 == Object.getObjectX() + 1.[/quote]</p>
<p>Thanks for the help I tried that but it didn’t work so I rewrote the whole file with a tutorial from R-S. I only have a problem  with the walking now but I’m going to make a new post if I can’t fix it myself. anyway just wanna let you know that your help was appriciated.</p>
      </div>

      <meta itemprop='headline' content='PI clipped firemaking problem'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-clipped-firemaking-problem/451661 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 01:18:40 GMT -->
</html>
