<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Luna</title>
    <link>https://forum.moparisthebest.com/t/luna/553471</link>
    <description>[url=https://github.com/lare96/luna]Check out the repository, if you want[/url] :)

Luna is a Runescape emulator for the #317 protocol. I started it awhile ago because I was getting bored with my main project [url=https://github.com/lare96/asteria-3.0]Asteria[/url] and I was eager to try out various new things I&#39;ve been learning as of late. It isn&#39;t a serious project, just something I&#39;m using a sort of a canvas to throw my ideas at. Please tell me what you think, if you see something you don&#39;t like (or if you see something that you do ;)).


[u][b]Progress[/b][/u]

I haven&#39;t done all that much yet, but I do plan to make it into a full-fledged server. I managed to get past login decoding today though, among lots of other things.

[img]http://i.imgur.com/UbM3qux.png[/img]

I&#39;ll update the topic and post updates as I go. Hopefully it&#39;ll help keep me motivated.


[u][b]Thanks[/b][/u]

Ryley &lt;--- Always willing to talk over stuff and give me constructive criticism, big thanks!

Apollo Development Team &lt;--- Some things in here were inspired by various things I saw in Apollo, so thanks to the core Apollo development team</description>
    
    <lastBuildDate>Fri, 09 Oct 2015 21:03:18 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/luna/553471.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Luna</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>thanks for the advice and support sinisoul. i appreciate it</p>
<aside class="quote" data-post="4" data-topic="553471">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/sini/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sini:</div>
<blockquote>
<p>Why in the hell are you having one class store ‘immutable’ channel handlers. I mean yes, they DONT have any dependencies that are required to be passed for them to be initialized and your original thought may be to save memory (?) but in regard to design this isn’t wise. This really constricts what choices you can make in the future regarding modifications. Just make a new instance of each handler.</p>
</blockquote>
</aside>
<p>i can’t really think of a scenario where id ever need to change the mutability of one of the immutable ChannelHandler’s but I do see where you’re coming from with your point regarding design</p>
<aside class="quote" data-post="4" data-topic="553471">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/sini/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sini:</div>
<blockquote>
<p>I feel as if having a context is a better solution.</p>
</blockquote>
</aside>
<p>a context describing the type of message received by each session?</p>
<p>edit: could see this complicating things if a session were to receive two different types of messages</p>
<aside class="quote" data-post="4" data-topic="553471">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/sini/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sini:</div>
<blockquote>
<p>Using netty, EmbeddedChannel is your goto. Just google the class name and check out the javadocs.</p>
</blockquote>
</aside>
<p>never knew this even existed. thanks</p>
<aside class="quote" data-post="4" data-topic="553471">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/sini/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sini:</div>
<blockquote>
<p>I think the best simple approach is to have channels you can post events to, and the events on that channel are guaranteed to be handled in the order they were received.</p>
</blockquote>
</aside>
<p>how would those ‘channels’ be represented?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/luna/553471/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/luna/553471/5</link>
        <pubDate>Fri, 09 Oct 2015 21:03:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-553471-5</guid>
        <source url="https://forum.moparisthebest.com/t/luna/553471.rss">Luna</source>
      </item>
      <item>
        <title>Luna</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>Should write more unit tests. It’s good practice. Also I noticed in the one test you have you have one method that does multiple tests, try and keep your tests simple. Like if you had an ice cream test:</p>
<pre><code class="lang-auto">testNullFlavor()
testAddScoop()
testEat()</code></pre>
<p>Then as the class you are testing grows you can append more. Keeping them as slim as possible is the goal.</p>
<p>Why in the hell are you having one class store ‘immutable’ channel handlers. I mean yes, they DONT have any dependencies that are required to be passed for them to be initialized and your original thought may be to save memory (?) but in regard to design this isn’t wise. This really constricts what choices you can make in the future regarding modifications. Just make a new instance of each handler.</p>
<p>I can tell you took a lot of inspiration from Apollo from this. Having a concrete session type for each service is one way of creating a solution to the RS network client pattern, however, I feel as if having a context is a better solution. Especially since you will then have to create separate logic depending on the type of session instead of having a single system that can handle incoming packets in a simple manner.</p>
<p>You should write tests for your network stack so you don’t run into further issues. Also understanding the flow of the code in your network stack is confusing. I thnik that’s just because of the first note I added. Using netty, EmbeddedChannel is your goto. Just google the class name and check out the javadocs.</p>
<p>You should really wrap your lines to be a maximum of like 100-120 characters. Makes certain sections hard to read.</p>
<pre><code class="lang-auto">/**
 * An {@link EventBus} implementation that manages the publish-subscribe-style
 * communication between plugins (also known as subscribers) and events.
 * 
 * @author lare96 &lt;http://github.org/lare96&gt;
 */</code></pre>
<p>Okay cool.</p>
<p>[code]<br>
/**<br>
* {<span class="mention">@inheritDoc</span>}<br>
* </p><p><br>
* </p><p><br>
* {<a class="mention" href="/u/link">@link</a> AsyncPluginEvent}s are posted asynchronously while all other<br>
* events are posted synchronously.<br>
*/<br>
<a class="mention" href="/u/override">@Override</a><br>
public void post(Object event) {<br>
if (event instanceof AsyncPluginEvent) {<br>
context.getService().execute(() -&gt; super.post(event));</p>
<pre><code>    } else if (event instanceof GamePluginEvent) {
        GamePluginEvent evt = (GamePluginEvent) event;
        evt.context_$eq(context);
        super.post(evt);

    } else {
        super.post(event);

    }
}
</code></pre>
<pre><code class="lang-auto">  /**
     * {@inheritDoc}
     * &lt;p&gt;
     * &lt;p&gt;
     * {@link AsyncPluginEvent}s are posted asynchronously while all other
     * events are posted synchronously.
     */
    @Override
    public void post(Object event) {
        if (event instanceof AsyncPluginEvent) {
            context.getService().execute(() -&gt; super.post(event));

        } else if (event instanceof GamePluginEvent) {
            GamePluginEvent evt = (GamePluginEvent) event;
            evt.context_$eq(context);
            super.post(evt);

        } else {
            super.post(event);

        }
    }</code></pre>
<p>Can you make that many arguments for why this has to be designed this way. Event dispatching and the handling of such to make sure that certain modules do not interfere or edit memory in a harmful manner is difficult. I think the best simple approach is to have channels you can post events to, and the events on that channel are guaranteed to be handled in the order they were received. But I think you’re on the right track. Just, I hate the use of instanceof EXCEPT FOR special cases. Most of the time it can be serialized into a function instead of passing a variable, in low cases of use. Which I bet, is the case. So maybe you need to rethink the semantics of this.</p>
<p>You’re growing as a developer. This is good work. I suggest you try feature branching, and doing pull requests on feature branches so that you can have a nice crisp timeline of everything you’re working on. Posting issues too! That’s quite nice. Version control is an amazing tool.</p>
<p>Keep it up. Learn from this and I hope to see you move on to better new things.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/luna/553471/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/luna/553471/4</link>
        <pubDate>Thu, 08 Oct 2015 09:38:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-553471-4</guid>
        <source url="https://forum.moparisthebest.com/t/luna/553471.rss">Luna</source>
      </item>
      <item>
        <title>Luna</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="553471">
<div class="title">
<div class="quote-controls"></div>
 arham 4:</div>
<blockquote>
<p>Good luck once again old friend <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>thanks man</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/luna/553471/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/luna/553471/3</link>
        <pubDate>Sat, 03 Oct 2015 18:54:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-553471-3</guid>
        <source url="https://forum.moparisthebest.com/t/luna/553471.rss">Luna</source>
      </item>
      <item>
        <title>Luna</title>
        <dc:creator><![CDATA[@arham_4 arham 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/arham_4">@arham_4</a> wrote:</p>
          <blockquote>
              <p>Good luck once again old friend <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/luna/553471/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/luna/553471/2</link>
        <pubDate>Sat, 03 Oct 2015 13:54:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-553471-2</guid>
        <source url="https://forum.moparisthebest.com/t/luna/553471.rss">Luna</source>
      </item>
      <item>
        <title>Luna</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p><a href="https://github.com/lare96/luna" data-bbcode="true" rel="nofollow noopener">Check out the repository, if you want</a> <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Luna is a Runescape emulator for the <span class="hashtag">#317</span> protocol. I started it awhile ago because I was getting bored with my main project <a href="https://github.com/lare96/asteria-3.0" data-bbcode="true" rel="nofollow noopener">Asteria</a> and I was eager to try out various new things I’ve been learning as of late. It isn’t a serious project, just something I’m using a sort of a canvas to throw my ideas at. Please tell me what you think, if you see something you don’t like (or if you see something that you do ;)).</p>
<p><span class="bbcode-u"><span class="bbcode-b">Progress</span></span></p>
<p>I haven’t done all that much yet, but I do plan to make it into a full-fledged server. I managed to get past login decoding today though, among lots of other things.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/UbM3qux.png" title="UbM3qux.png" rel="nofollow noopener"><img src="http://i.imgur.com/UbM3qux.png" alt width="690" height="447"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">UbM3qux.png</span><span class="informations">761×494</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>I’ll update the topic and post updates as I go. Hopefully it’ll help keep me motivated.</p>
<p><span class="bbcode-u"><span class="bbcode-b">Thanks</span></span></p>
<p>Ryley &lt;— Always willing to talk over stuff and give me constructive criticism, big thanks!</p>
<p>Apollo Development Team &lt;— Some things in here were inspired by various things I saw in Apollo, so thanks to the core Apollo development team</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/luna/553471/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/luna/553471/1</link>
        <pubDate>Fri, 02 Oct 2015 04:40:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-553471-1</guid>
        <source url="https://forum.moparisthebest.com/t/luna/553471.rss">Luna</source>
      </item>
  </channel>
</rss>
