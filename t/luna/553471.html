<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/luna/553471 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Luna - Runescape - moparisthebest.com</title>
    <meta name="description" content="Check out the repository, if you want :slight_smile: 

Luna is a Runescape emulator for the #317 protocol. I started it awhile ago because I was getting bored with my main project Asteria and I was eager to try out vario&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="553471.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Luna&#39;" href="553471.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://i.imgur.com/UbM3qux.png" />
<meta property="og:image" content="http://i.imgur.com/UbM3qux.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/luna/553471" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/luna/553471" />
<meta property="og:title" content="Luna" />
<meta name="twitter:title" content="Luna" />
<meta property="og:description" content="Check out the repository, if you want ðŸ™‚  Luna is a Runescape emulator for the #317 protocol. I started it awhile ago because I was getting bored with my main project Asteria and I was eager to try out various new things Iâ€™ve been learning as of late. It isnâ€™t a serious project, just something Iâ€™m using a sort of a canvas to throw my ideas at. Please tell me what you think, if you see something you donâ€™t like (or if you see something that you do ;)).  Progress  I havenâ€™t done all tha..." />
<meta name="twitter:description" content="Check out the repository, if you want ðŸ™‚  Luna is a Runescape emulator for the #317 protocol. I started it awhile ago because I was getting bored with my main project Asteria and I was eager to try out various new things Iâ€™ve been learning as of late. It isnâ€™t a serious project, just something Iâ€™m using a sort of a canvas to throw my ideas at. Please tell me what you think, if you see something you donâ€™t like (or if you see something that you do ;)).  Progress  I havenâ€™t done all tha..." />
<meta property="article:published_time" content="2015-10-02T04:40:44+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="553471.html">Luna</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-02T04:40:44Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:32:07Z' class='post-time'>
              August 4, 2016,  4:32pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a href="https://github.com/lare96/luna" data-bbcode="true" rel="nofollow noopener">Check out the repository, if you want</a> <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Luna is a Runescape emulator for the <span class="hashtag">#317</span> protocol. I started it awhile ago because I was getting bored with my main project <a href="https://github.com/lare96/asteria-3.0" data-bbcode="true" rel="nofollow noopener">Asteria</a> and I was eager to try out various new things Iâ€™ve been learning as of late. It isnâ€™t a serious project, just something Iâ€™m using a sort of a canvas to throw my ideas at. Please tell me what you think, if you see something you donâ€™t like (or if you see something that you do ;)).</p>
<p><span class="bbcode-u"><span class="bbcode-b">Progress</span></span></p>
<p>I havenâ€™t done all that much yet, but I do plan to make it into a full-fledged server. I managed to get past login decoding today though, among lots of other things.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/UbM3qux.png" title="UbM3qux.png" rel="nofollow noopener"><img src="http://i.imgur.com/UbM3qux.png" alt width="690" height="447"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">UbM3qux.png</span><span class="informations">761Ã—494</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Iâ€™ll update the topic and post updates as I go. Hopefully itâ€™ll help keep me motivated.</p>
<p><span class="bbcode-u"><span class="bbcode-b">Thanks</span></span></p>
<p>Ryley &lt;â€” Always willing to talk over stuff and give me constructive criticism, big thanks!</p>
<p>Apollo Development Team &lt;â€” Some things in here were inspired by various things I saw in Apollo, so thanks to the core Apollo development team</p>
      </div>

      <meta itemprop='headline' content='Luna'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/arham_4.html'><span itemprop='name'>arham_4</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-03T13:54:38Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:32:26Z' class='post-time'>
              August 4, 2016,  4:32pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Good luck once again old friend <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Luna'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-03T18:54:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:32:27Z' class='post-time'>
              August 4, 2016,  4:32pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="553471">
<div class="title">
<div class="quote-controls"></div>
 arham 4:</div>
<blockquote>
<p>Good luck once again old friend <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>thanks man</p>
      </div>

      <meta itemprop='headline' content='Luna'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-08T09:38:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:32:47Z' class='post-time'>
              August 4, 2016,  4:32pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Should write more unit tests. Itâ€™s good practice. Also I noticed in the one test you have you have one method that does multiple tests, try and keep your tests simple. Like if you had an ice cream test:</p>
<pre><code class="lang-auto">testNullFlavor()
testAddScoop()
testEat()</code></pre>
<p>Then as the class you are testing grows you can append more. Keeping them as slim as possible is the goal.</p>
<p>Why in the hell are you having one class store â€˜immutableâ€™ channel handlers. I mean yes, they DONT have any dependencies that are required to be passed for them to be initialized and your original thought may be to save memory (?) but in regard to design this isnâ€™t wise. This really constricts what choices you can make in the future regarding modifications. Just make a new instance of each handler.</p>
<p>I can tell you took a lot of inspiration from Apollo from this. Having a concrete session type for each service is one way of creating a solution to the RS network client pattern, however, I feel as if having a context is a better solution. Especially since you will then have to create separate logic depending on the type of session instead of having a single system that can handle incoming packets in a simple manner.</p>
<p>You should write tests for your network stack so you donâ€™t run into further issues. Also understanding the flow of the code in your network stack is confusing. I thnik thatâ€™s just because of the first note I added. Using netty, EmbeddedChannel is your goto. Just google the class name and check out the javadocs.</p>
<p>You should really wrap your lines to be a maximum of like 100-120 characters. Makes certain sections hard to read.</p>
<pre><code class="lang-auto">/**
 * An {@link EventBus} implementation that manages the publish-subscribe-style
 * communication between plugins (also known as subscribers) and events.
 * 
 * @author lare96 &lt;http://github.org/lare96&gt;
 */</code></pre>
<p>Okay cool.</p>
<p>[code]<br>
/**<br>
* {<span class="mention">@inheritDoc</span>}<br>
* </p><p><br>
* </p><p><br>
* {<a class="mention" href="../../u/link.html">@link</a> AsyncPluginEvent}s are posted asynchronously while all other<br>
* events are posted synchronously.<br>
*/<br>
<a class="mention" href="../../u/override.html">@Override</a><br>
public void post(Object event) {<br>
if (event instanceof AsyncPluginEvent) {<br>
context.getService().execute(() -&gt; super.post(event));</p>
<pre><code>    } else if (event instanceof GamePluginEvent) {
        GamePluginEvent evt = (GamePluginEvent) event;
        evt.context_$eq(context);
        super.post(evt);

    } else {
        super.post(event);

    }
}
</code></pre>
<pre><code class="lang-auto">  /**
     * {@inheritDoc}
     * &lt;p&gt;
     * &lt;p&gt;
     * {@link AsyncPluginEvent}s are posted asynchronously while all other
     * events are posted synchronously.
     */
    @Override
    public void post(Object event) {
        if (event instanceof AsyncPluginEvent) {
            context.getService().execute(() -&gt; super.post(event));

        } else if (event instanceof GamePluginEvent) {
            GamePluginEvent evt = (GamePluginEvent) event;
            evt.context_$eq(context);
            super.post(evt);

        } else {
            super.post(event);

        }
    }</code></pre>
<p>Can you make that many arguments for why this has to be designed this way. Event dispatching and the handling of such to make sure that certain modules do not interfere or edit memory in a harmful manner is difficult. I think the best simple approach is to have channels you can post events to, and the events on that channel are guaranteed to be handled in the order they were received. But I think youâ€™re on the right track. Just, I hate the use of instanceof EXCEPT FOR special cases. Most of the time it can be serialized into a function instead of passing a variable, in low cases of use. Which I bet, is the case. So maybe you need to rethink the semantics of this.</p>
<p>Youâ€™re growing as a developer. This is good work. I suggest you try feature branching, and doing pull requests on feature branches so that you can have a nice crisp timeline of everything youâ€™re working on. Posting issues too! Thatâ€™s quite nice. Version control is an amazing tool.</p>
<p>Keep it up. Learn from this and I hope to see you move on to better new things.</p>
      </div>

      <meta itemprop='headline' content='Luna'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-10-09T21:03:18Z'>
            <time itemprop='dateModified' datetime='2016-08-04T16:32:53Z' class='post-time'>
              August 4, 2016,  4:32pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks for the advice and support sinisoul. i appreciate it</p>
<aside class="quote" data-post="4" data-topic="553471">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/sini/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sini:</div>
<blockquote>
<p>Why in the hell are you having one class store â€˜immutableâ€™ channel handlers. I mean yes, they DONT have any dependencies that are required to be passed for them to be initialized and your original thought may be to save memory (?) but in regard to design this isnâ€™t wise. This really constricts what choices you can make in the future regarding modifications. Just make a new instance of each handler.</p>
</blockquote>
</aside>
<p>i canâ€™t really think of a scenario where id ever need to change the mutability of one of the immutable ChannelHandlerâ€™s but I do see where youâ€™re coming from with your point regarding design</p>
<aside class="quote" data-post="4" data-topic="553471">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/sini/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sini:</div>
<blockquote>
<p>I feel as if having a context is a better solution.</p>
</blockquote>
</aside>
<p>a context describing the type of message received by each session?</p>
<p>edit: could see this complicating things if a session were to receive two different types of messages</p>
<aside class="quote" data-post="4" data-topic="553471">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/sini/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sini:</div>
<blockquote>
<p>Using netty, EmbeddedChannel is your goto. Just google the class name and check out the javadocs.</p>
</blockquote>
</aside>
<p>never knew this even existed. thanks</p>
<aside class="quote" data-post="4" data-topic="553471">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/sini/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sini:</div>
<blockquote>
<p>I think the best simple approach is to have channels you can post events to, and the events on that channel are guaranteed to be handled in the order they were received.</p>
</blockquote>
</aside>
<p>how would those â€˜channelsâ€™ be represented?</p>
      </div>

      <meta itemprop='headline' content='Luna'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/luna/553471 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:15 GMT -->
</html>
