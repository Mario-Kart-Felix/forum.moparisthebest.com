<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Database structure</title>
    <link>https://forum.moparisthebest.com/t/database-structure/448209</link>
    <description>I have a small project going where I am recording songs played on a radio station from Florida I currently have 3 tables

[code=sql]`artist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(75) NOT NULL,
  `date_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)[/code]
[code=sql]
`song` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(75) NOT NULL,
  `artist_id` int(11) NOT NULL,
  `date_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
[/code]


[code=sql]`playlog` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artist_id` int(11) NOT NULL,
  `song_id` int(11) NOT NULL,
  `time_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `artist_id` (`artist_id`,`song_id`)[/code]

basically a cron runs every 15 minute to check the last ten songs played and adds the new plays to the database. What I want to do now is start counting the song plays.

what I want is, Daily, Weekly, Monthly, Yearly of song plays and the same for artist plays

is it in my best interest to set up 4 tables as (daily,weekly,monthly,yearly) stats

or setup 1 table such as &quot;stats&quot; and have a column for stat type?

also would it be in my interest to further separate the tables by making a stat table for artists and a stat table for songs?</description>
    
    <lastBuildDate>Thu, 05 Jul 2012 00:33:53 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/database-structure/448209.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Database structure</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>i did something similar. what i did was have two tables - one with all info such as artist, album, track, year and have a key of a hash of all the information. the other table was the playlist which was keyed by an increasing integral (the song order of play since the start of the script) and the hash of the song in the track database.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/database-structure/448209/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/database-structure/448209/4</link>
        <pubDate>Thu, 05 Jul 2012 00:33:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448209-4</guid>
        <source url="https://forum.moparisthebest.com/t/database-structure/448209.rss">Database structure</source>
      </item>
      <item>
        <title>Database structure</title>
        <dc:creator><![CDATA[@silabsoft RuneAgent]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/silabsoft">@silabsoft</a> wrote:</p>
          <blockquote>
              <p>only stats I really can record is playcount and estimated playtime (this I already record in the playlog table)</p>
<p>the plan I had was to update the play log scraper to do the daily play count then create a separate cron for validating daily play count and be responsible for making the weekly monthly yearly ect.</p>
<p>I suppose I want an alltime table too that would be updated daily.</p>
<p><a href="http://silabsoft.org/98rocklog/beta.php?action=song&amp;type=id&amp;v=40" class="onebox" target="_blank" rel="nofollow noopener">http://silabsoft.org/98rocklog/beta.php?action=song&amp;type=id&amp;v=40</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/database-structure/448209/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/database-structure/448209/3</link>
        <pubDate>Wed, 04 Jul 2012 21:22:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448209-3</guid>
        <source url="https://forum.moparisthebest.com/t/database-structure/448209.rss">Database structure</source>
      </item>
      <item>
        <title>Database structure</title>
        <dc:creator><![CDATA[@LilXCj LilXCj]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lilxcj">@LilXCj</a> wrote:</p>
          <blockquote>
              <p>The last option sounds good, from what I’m interpreting you are separating the tables as such?</p>
<p>Artist &gt; Daily, Weekly, Monthly, Yearly<br>
Song &gt; Daily, Weekly, Monthly, Yearly</p>
<p>It’s probably more data than the first option but I’d guessing that isn’t a problem for you.</p>
<p>Define your ‘stat types’?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/database-structure/448209/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/database-structure/448209/2</link>
        <pubDate>Wed, 04 Jul 2012 17:49:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448209-2</guid>
        <source url="https://forum.moparisthebest.com/t/database-structure/448209.rss">Database structure</source>
      </item>
      <item>
        <title>Database structure</title>
        <dc:creator><![CDATA[@silabsoft RuneAgent]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/silabsoft">@silabsoft</a> wrote:</p>
          <blockquote>
              <p>I have a small project going where I am recording songs played on a radio station from Florida I currently have 3 tables</p>
<p><code>`artist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(75) NOT NULL,
  `date_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)</code></p>
<pre><code class="lang-auto">`song` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(75) NOT NULL,
  `artist_id` int(11) NOT NULL,
  `date_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)</code></pre>
<p><code>`playlog` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artist_id` int(11) NOT NULL,
  `song_id` int(11) NOT NULL,
  `time_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `artist_id` (`artist_id`,`song_id`)</code></p>
<p>basically a cron runs every 15 minute to check the last ten songs played and adds the new plays to the database. What I want to do now is start counting the song plays.</p>
<p>what I want is, Daily, Weekly, Monthly, Yearly of song plays and the same for artist plays</p>
<p>is it in my best interest to set up 4 tables as (daily,weekly,monthly,yearly) stats</p>
<p>or setup 1 table such as “stats” and have a column for stat type?</p>
<p>also would it be in my interest to further separate the tables by making a stat table for artists and a stat table for songs?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/database-structure/448209/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/database-structure/448209/1</link>
        <pubDate>Wed, 04 Jul 2012 15:17:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448209-1</guid>
        <source url="https://forum.moparisthebest.com/t/database-structure/448209.rss">Database structure</source>
      </item>
  </channel>
</rss>
