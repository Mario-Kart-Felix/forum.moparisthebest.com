<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/database-structure/448209 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 01:44:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Database structure - General Programming - moparisthebest.com</title>
    <meta name="description" content="I have a small project going where I am recording songs played on a radio station from Florida I currently have 3 tables 

[code=sql]artist (   id int(11) NOT NULL AUTO_INCREMENT,   name varchar(75) NOT NULL,   date_adde&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="448209.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Database structure&#39;" href="448209.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/database-structure/448209" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/database-structure/448209" />
<meta property="og:title" content="Database structure" />
<meta name="twitter:title" content="Database structure" />
<meta property="og:description" content="I have a small project going where I am recording songs played on a radio station from Florida I currently have 3 tables  `artist` (   `id` int(11) NOT NULL AUTO_INCREMENT,   `name` varchar(75) NOT NULL,   `date_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,   PRIMARY KEY (`id`)  `song` (   `id` int(11) NOT NULL AUTO_INCREMENT,   `name` varchar(75) NOT NULL,   `artist_id` int(11) NOT NULL,   `date_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,   PRIMARY KEY (`id`) `playlog` (   `id` ..." />
<meta name="twitter:description" content="I have a small project going where I am recording songs played on a radio station from Florida I currently have 3 tables  `artist` (   `id` int(11) NOT NULL AUTO_INCREMENT,   `name` varchar(75) NOT NULL,   `date_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,   PRIMARY KEY (`id`)  `song` (   `id` int(11) NOT NULL AUTO_INCREMENT,   `name` varchar(75) NOT NULL,   `artist_id` int(11) NOT NULL,   `date_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,   PRIMARY KEY (`id`) `playlog` (   `id` ..." />
<meta property="article:published_time" content="2012-07-04T15:17:54+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="448209.html">Database structure</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-04T15:17:54Z'>
            <time itemprop='dateModified' datetime='2016-08-03T10:03:46Z' class='post-time'>
              August 3, 2016, 10:03am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have a small project going where I am recording songs played on a radio station from Florida I currently have 3 tables</p>
<p><code>`artist` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(75) NOT NULL,
  `date_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)</code></p>
<pre><code class="lang-auto">`song` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(75) NOT NULL,
  `artist_id` int(11) NOT NULL,
  `date_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)</code></pre>
<p><code>`playlog` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artist_id` int(11) NOT NULL,
  `song_id` int(11) NOT NULL,
  `time_added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `artist_id` (`artist_id`,`song_id`)</code></p>
<p>basically a cron runs every 15 minute to check the last ten songs played and adds the new plays to the database. What I want to do now is start counting the song plays.</p>
<p>what I want is, Daily, Weekly, Monthly, Yearly of song plays and the same for artist plays</p>
<p>is it in my best interest to set up 4 tables as (daily,weekly,monthly,yearly) stats</p>
<p>or setup 1 table such as “stats” and have a column for stat type?</p>
<p>also would it be in my interest to further separate the tables by making a stat table for artists and a stat table for songs?</p>
      </div>

      <meta itemprop='headline' content='Database structure'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/LilXCj.html'><span itemprop='name'>LilXCj</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-04T17:49:13Z'>
            <time itemprop='dateModified' datetime='2016-08-03T10:03:57Z' class='post-time'>
              August 3, 2016, 10:03am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The last option sounds good, from what I’m interpreting you are separating the tables as such?</p>
<p>Artist &gt; Daily, Weekly, Monthly, Yearly<br>
Song &gt; Daily, Weekly, Monthly, Yearly</p>
<p>It’s probably more data than the first option but I’d guessing that isn’t a problem for you.</p>
<p>Define your ‘stat types’?</p>
      </div>

      <meta itemprop='headline' content='Database structure'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-04T21:22:15Z'>
            <time itemprop='dateModified' datetime='2016-08-03T10:04:15Z' class='post-time'>
              August 3, 2016, 10:04am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>only stats I really can record is playcount and estimated playtime (this I already record in the playlog table)</p>
<p>the plan I had was to update the play log scraper to do the daily play count then create a separate cron for validating daily play count and be responsible for making the weekly monthly yearly ect.</p>
<p>I suppose I want an alltime table too that would be updated daily.</p>
<p><a href="http://silabsoft.org/98rocklog/beta.php?action=song&amp;type=id&amp;v=40" class="onebox" target="_blank" rel="nofollow noopener">http://silabsoft.org/98rocklog/beta.php?action=song&amp;type=id&amp;v=40</a></p>
      </div>

      <meta itemprop='headline' content='Database structure'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-05T00:33:53Z'>
            <time itemprop='dateModified' datetime='2016-08-03T10:04:26Z' class='post-time'>
              August 3, 2016, 10:04am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i did something similar. what i did was have two tables - one with all info such as artist, album, track, year and have a key of a hash of all the information. the other table was the playlist which was keyed by an increasing integral (the song order of play since the start of the script) and the hash of the song in the track database.</p>
      </div>

      <meta itemprop='headline' content='Database structure'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/database-structure/448209 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 01:44:33 GMT -->
</html>
