<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/crappy-urban-dictionary-parser/463102 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 22:37:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Crappy Urban Dictionary Parser - General Programming - moparisthebest.com</title>
    <meta name="description" content="lol 

[code=python] 

Urban Dictionary Parser

by Whackatre

import re, urllib, urllib2 

def filt_out(s): 	return re.sub(&amp;#39;&amp;#39;, &amp;#39;&amp;#39;, s.replace(&amp;#39; &amp;#39;, &amp;#39;\n&amp;#39;).replace(&amp;#39;&amp;quot;&amp;#39;, &amp;#39;\&amp;quot;&amp;#39;).replace(&amp;#39;&amp;#39;, &amp;#39;&amp;#39;)) 

header = {&amp;#39;User-Agent&amp;#39; : &amp;#39;Mozil&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="463102.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Crappy Urban Dictionary Parser&#39;" href="463102.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/crappy-urban-dictionary-parser/463102" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/crappy-urban-dictionary-parser/463102" />
<meta property="og:title" content="Crappy Urban Dictionary Parser" />
<meta name="twitter:title" content="Crappy Urban Dictionary Parser" />
<meta property="og:description" content="lol  [code=python]  Urban Dictionary Parser by Whackatre import re, urllib, urllib2  def filt_out(s):  return re.sub(’’, ‘’, s.replace(’ ’, ‘\n’).replace(’&quot;’, ‘&quot;’).replace(’’, ‘’))  header = {‘User-Agent’ : ‘Mozilla/5.0’}  def_num = 1  base_url = ‘http://www.urbandictionary.com/define.php?term=’  word = raw_input(&#39;Enter a word to define: &#39;)  if len(word) &lt; 1:  exit()  print &#39;Defining ’ + word + ‘…\n’  response = urllib2.urlopen(urllib2.Request(base_url + word, urllib.urlencode(header), header))  ..." />
<meta name="twitter:description" content="lol  [code=python]  Urban Dictionary Parser by Whackatre import re, urllib, urllib2  def filt_out(s):  return re.sub(’’, ‘’, s.replace(’ ’, ‘\n’).replace(’&quot;’, ‘&quot;’).replace(’’, ‘’))  header = {‘User-Agent’ : ‘Mozilla/5.0’}  def_num = 1  base_url = ‘http://www.urbandictionary.com/define.php?term=’  word = raw_input(&#39;Enter a word to define: &#39;)  if len(word) &lt; 1:  exit()  print &#39;Defining ’ + word + ‘…\n’  response = urllib2.urlopen(urllib2.Request(base_url + word, urllib.urlencode(header), header))  ..." />
<meta property="article:published_time" content="2012-10-05T09:31:43+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="463102.html">Crappy Urban Dictionary Parser</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/whackatre.html'><span itemprop='name'>whackatre</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-05T09:31:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:32:13Z' class='post-time'>
              August 4, 2016, 12:32am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>lol</p>
<p>[code=python]</p>
<h1>Urban Dictionary Parser</h1>
<h1>by Whackatre</h1>
<p>import re, urllib, urllib2</p>
<p>def filt_out(s):<br>
return re.sub(’<a>’, ‘’, s.replace(’<br>’, ‘\n’).replace(’"’, ‘"’).replace(’</a>’, ‘’))</p>
<p>header = {‘User-Agent’ : ‘Mozilla/5.0’}<br>
def_num = 1<br>
base_url = ‘<a href="http://www.urbandictionary.com/define.php?term=" rel="nofollow noopener">http://www.urbandictionary.com/define.php?term=</a>’<br>
word = raw_input('Enter a word to define: ')<br>
if len(word) &lt; 1:<br>
exit()<br>
print 'Defining ’ + word + ‘…\n’</p>
<p>response = urllib2.urlopen(urllib2.Request(base_url + word, urllib.urlencode(header), header))<br>
for line in response.readlines():<br>
match = re.search(’</p><div>(.<em>)</em>
</div><div>(.)</div>’, line)<br>
if match:<br>
print 'Definition ’ + str(def_num) + ‘:\n’ + filt_out(match.groups()[0]) + ‘\n’<br>
print ‘Example:\n’ + filt_out(match.groups()[1]) + ‘\n’<br>
def_num += 1[/code]
<p>i’m attempting to learn regex. tips? feedback would be highly appreciated ty.</p>
      </div>

      <meta itemprop='headline' content='Crappy Urban Dictionary Parser'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pwnd.html'><span itemprop='name'>Pwnd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-05T09:49:54Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:32:14Z' class='post-time'>
              August 4, 2016, 12:32am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This language looks brutal</p>
      </div>

      <meta itemprop='headline' content='Crappy Urban Dictionary Parser'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Mopman.html'><span itemprop='name'>Mopman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-05T14:33:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:32:22Z' class='post-time'>
              August 4, 2016, 12:32am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>tips: dont use regex</p>
      </div>

      <meta itemprop='headline' content='Crappy Urban Dictionary Parser'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fat_Cookies.html'><span itemprop='name'>Fat_Cookies</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-05T15:03:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:32:24Z' class='post-time'>
              August 4, 2016, 12:32am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You can’t parse [X]HTML with regex. Because HTML can’t be parsed by regex. Regex is not a tool that can be used to correctly parse HTML. As I have answered in HTML-and-regex questions here so many times before, the use of regex will not allow you to consume HTML. Regular expressions are a tool that is insufficiently sophisticated to understand the constructs employed by HTML. HTML is not a regular language and hence cannot be parsed by regular expressions. Regex queries are not equipped to break down HTML into its meaningful parts. so many times but it is not getting to me. Even enhanced irregular regular expressions as used by Perl are not up to the task of parsing HTML. You will never make me crack. HTML is a language of sufficient complexity that it cannot be parsed by regular expressions. Even Jon Skeet cannot parse HTML using regular expressions. Every time you attempt to parse HTML with regular expressions, the unholy child weeps the blood of virgins, and Russian hackers pwn your webapp. Parsing HTML with regex summons tainted souls into the realm of the living. HTML and regex go together like love, marriage, and ritual infanticide. The  cannot hold it is too late. The force of regex and HTML together in the same conceptual space will destroy your mind like so much watery putty. If you parse HTML with regex you are giving in to Them and their blasphemous ways which doom us all to inhuman toil for the One whose Name cannot be expressed in the Basic Multilingual Plane, he comes. HTML-plus-regexp will liquify the n​erves of the sentient whilst you observe, your psyche withering in the onslaught of horror. Rege̿̔̉x-based HTML parsers are the cancer that is killing StackOverflow it is too late it is too late we cannot be saved the trangession of a chi͡ld ensures regex will consume all living tissue (except for HTML which it cannot, as previously prophesied) dear lord help us how can anyone survive this scourge using regex to parse HTML has doomed humanity to an eternity of dread torture and security holes using regex as a tool to process HTML establishes a breach between this world and the dread realm of c͒ͪo͛ͫrrupt entities (like SGML entities, but more corrupt) a mere glimpse of the world of reg​ex parsers for HTML will ins​tantly transport a programmer’s consciousness into a world of ceaseless screaming, he comes, the pestilent slithy regex-infection wil​l devour your HT​ML parser, application and existence for all time like Visual Basic only worse he comes he comes do not fi​ght he com̡e̶s, ̕h̵i​s un̨ho͞ly radiańcé destro҉ying all enli̍̈́̂̈́ghtenment, HTML tags lea͠ki̧n͘g fr̶ǫm ̡yo​͟ur eye͢s̸ ̛l̕ik͏e liq​uid pain, the song of re̸gular exp​ression parsing will exti​nguish the voices of mor​tal man from the sp​here I can see it can you see ̲͚̖͔̙î̩́t̲͎̩̱͔́̋̀ it is beautiful t​he final snuffing of the lie​s of Man ALL IS LOŚ͖̩͇̗̪̏̈́T ALL I​S LOST the pon̷y he comes he c̶̮omes he comes the ich​or permeates all MY FACE MY FACE ᵒh god no NO NOO̼O​O NΘ stop the an​*̶͑̾̾​̅ͫ͏̙̤g͇̫͛͆̾ͫ̑͆l͖͉̗̩̳̟̍ͫͥͨe̠̅s ͎a̧͈͖r̽̾̈́͒͑e n​ot rè̑ͧ̌aͨl̘̝̙̃ͤ͂̾̆ ZA̡͊͠͝LGΌ ISͮ̂҉̯͈͕̹̘̱ TO͇̹̺ͅƝ̴ȳ̳ TH̘Ë͖́̉ ͠P̯͍̭O̚​N̐Y̡ H̸̡̪̯ͨ͊̽̅̾̎Ȩ̬̩̾͛ͪ̈́̀́͘ ̶̧̨̱̹̭̯ͧ̾ͬC̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ</p>
      </div>

      <meta itemprop='headline' content='Crappy Urban Dictionary Parser'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-05T18:38:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:32:31Z' class='post-time'>
              August 4, 2016, 12:32am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a href="http://nokogiri.org/" data-bbcode="true" rel="nofollow noopener">http://nokogiri.org/</a></p>
<p>the end</p>
      </div>

      <meta itemprop='headline' content='Crappy Urban Dictionary Parser'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ollie.html'><span itemprop='name'>Ollie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-05T19:28:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:32:32Z' class='post-time'>
              August 4, 2016, 12:32am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“c|p, post:5, topic:463102”]<a href="http://nokogiri.org/" data-bbcode="true" rel="nofollow noopener">http://nokogiri.org/</a></p>
<p>the end[/quote]</p>
<p>was going to suggest this, really good for scraping in ruby.</p>
      </div>

      <meta itemprop='headline' content='Crappy Urban Dictionary Parser'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Mopman.html'><span itemprop='name'>Mopman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-05T23:34:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:32:51Z' class='post-time'>
              August 4, 2016, 12:32am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>psst OP used python</p>
      </div>

      <meta itemprop='headline' content='Crappy Urban Dictionary Parser'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Phillipe.html'><span itemprop='name'>Phillipe</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-05T23:44:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:32:51Z' class='post-time'>
              August 4, 2016, 12:32am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>pssst use scrapy</p>
      </div>

      <meta itemprop='headline' content='Crappy Urban Dictionary Parser'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-06T15:16:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:33:15Z' class='post-time'>
              August 4, 2016, 12:33am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>psst OP use ruby instead</p>
      </div>

      <meta itemprop='headline' content='Crappy Urban Dictionary Parser'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ollie.html'><span itemprop='name'>Ollie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-10-08T16:52:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:35:51Z' class='post-time'>
              August 4, 2016, 12:35am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/nickcharlton/urbanscraper/blob/master/app.rb" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/nickcharlton/urbanscraper/blob/master/app.rb" target="_blank" rel="nofollow noopener">nickcharlton/urbanscraper/blob/master/app.rb</a></h4>
<pre><code class="lang-rb">require 'sinatra'
require "raven"
require 'redcarpet'
require 'pygments'
require 'json'
require 'sinatra/jsonp'

require_relative 'helpers/markdown'
require_relative 'helpers/time'
require_relative 'helpers/response'
require_relative 'scrapers/urbandictionary'

use Raven::Rack

#
# UrbanDictionary Global
#
ud = UrbanDictionary.new

# custom error handling classes
</code></pre>

  This file has been truncated. <a href="https://github.com/nickcharlton/urbanscraper/blob/master/app.rb" target="_blank" rel="nofollow noopener">show original</a>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>[code=ruby]</p>
<p>require ‘sinatra’<br>
require ‘nokogiri’<br>
require ‘open-uri’<br>
require ‘json’</p>
<h1>some error handling for later</h1>
<p>NoDef = Class.new(StandardError)</p>
<h1>all of the methods used to parse the file</h1>
<p>helpers do<br>
def get_definition(term)<br>
# pull it into nokogiri<br>
doc = Nokogiri::HTML(open(‘<a href="http://www.urbandictionary.com/define.php?term=" rel="nofollow noopener">http://www.urbandictionary.com/define.php?term=</a>’ + term))</p>
<pre><code># run the xpath
result = doc.xpath("/html[1]/body[1]/div[3]/div[1]/table[1]/tr[1]/td[2]/div[1]/table[1]/tr[2]/td[2]/div[@class='definition']/node()")

definition = String.new
result.each { |e| definition &lt;&lt; e }

definition
</code></pre>
<p>end</p>
<p>def get_example(term)<br>
# pull it into nokogiri<br>
doc = Nokogiri::HTML(open(‘<a href="http://www.urbandictionary.com/define.php?term=" rel="nofollow noopener">http://www.urbandictionary.com/define.php?term=</a>’ + term))</p>
<pre><code># run the xpath
result = doc.xpath("/html[1]/body[1]/div[3]/div[1]/table[1]/tr[1]/td[2]/div[1]/table[1]/tr[2]/td[2]/div[@class='example']/node()")
 
example = String.new
result.each { |e| example &lt;&lt; e }

example
</code></pre>
<p>end<br>
end</p>
<p>get ‘/’ do<br>
erb :home<br>
end</p>
<p>get ‘/define/:term.json’ do<br>
data = Hash[<br>
“word” =&gt; params[:term], # term requested<br>
“timestamp” =&gt; Time.now.to_i, # the timestamp of the definition<br>
“status” =&gt; 200, # status of the request<br>
“url” =&gt; “<a href="http://www.urbandictionary.com/define.php?term=#%7Bparams%5B:term%5D%7D" rel="nofollow noopener">http://www.urbandictionary.com/define.php?term=#{params[:term]}</a>” # the url for the word<br>
]</p>
<p>data[:definition] = get_definition(params[:term])</p>
<p>if data[:definition].empty?<br>
raise NoDef<br>
end<br>
data[:example] = get_example(params[:term])</p>
<p>content_type :text<br>
data.to_json<br>
end</p>
<h1>some error handling</h1>
<p>error NoDef do<br>
Hash[‘status’ =&gt; ‘404’, ‘message’ =&gt; ‘No definition found’].to_json<br>
end[/code]</p>
      </div>

      <meta itemprop='headline' content='Crappy Urban Dictionary Parser'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/crappy-urban-dictionary-parser/463102 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 22:37:04 GMT -->
</html>
