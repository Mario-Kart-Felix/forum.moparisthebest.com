<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/a-more-efficent-players-in-view/335526?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 23:04:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>A More Efficent Players in View - Runescape - moparisthebest.com</title>
    <meta name="description" content="[image] 

Our player is always @ 0,0 

Him being able to see 15 x1 15 y1 16 x2 16 y2 as what reines wanted. 

So watching players inside zones would be more efficient then watches the entire landscape. 

So... lets go in&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="3355264658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;A More Efficent Players in View&#39;" href="335526.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://img532.imageshack.us/img532/2740/zoned.jpg" />
<meta property="og:image" content="http://img532.imageshack.us/img532/2740/zoned.jpg" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/a-more-efficent-players-in-view/335526?page=2" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/a-more-efficent-players-in-view/335526?page=2" />
<meta property="og:title" content="A More Efficent Players in View" />
<meta name="twitter:title" content="A More Efficent Players in View" />
<meta property="og:description" content="[quote=“imthenull, post:20, topic:335526”][quote author=Crooks link=topic=431906.msg3172665#msg3172665 date=1270556407]   I don’t claim to be anything special in Java but having seen Crooks defend his ability to code over and over again, it does make you wonder.  Oh and Tommy, you claimed on this thread that you fixed lots of players being in one area with ‘zones’:  [quote=GaWdZ]I in no way want to help really…  I have played around with my old source and multi threaded the entire thing…  I also..." />
<meta name="twitter:description" content="[quote=“imthenull, post:20, topic:335526”][quote author=Crooks link=topic=431906.msg3172665#msg3172665 date=1270556407]   I don’t claim to be anything special in Java but having seen Crooks defend his ability to code over and over again, it does make you wonder.  Oh and Tommy, you claimed on this thread that you fixed lots of players being in one area with ‘zones’:  [quote=GaWdZ]I in no way want to help really…  I have played around with my old source and multi threaded the entire thing…  I also..." />
<meta property="article:published_time" content="2010-04-06T15:19:59+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="335526.html">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="335526.html">A More Efficent Players in View</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Crooks.html'><span itemprop='name'>Crooks</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-04-06T15:19:59Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:45:49Z' class='post-time'>
              July 31, 2016,  3:45pm
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“imthenull, post:20, topic:335526”][quote author=Crooks link=topic=431906.msg3172665#msg3172665 date=1270556407]</p>
<aside class="quote no-group">
<blockquote>
<p>The shit that makes me laugh more is the idiots who see a block of code and replies saying nice or whatever just to look like they know what’s going on…</p>
<aside class="quote no-group">
<blockquote>
<p>Nice <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> keep it up.</p>
</blockquote>
</aside>
<p>I don’t claim to be anything special in Java but having seen Crooks defend his ability to code over and over again, it does make you wonder.</p>
<p>Oh and Tommy, you claimed on <a href="http://www.rscemulation.net/forum/viewtopic.php?id=7052" data-bbcode="true" rel="nofollow noopener">this thread</a> that you fixed lots of players being in one area with ‘zones’:</p>
<p>[quote=GaWdZ]I in no way want to help really…<br>
I have played around with my old source and multi threaded the entire thing…<br>
I also have fixed the players in view with zones…<br>
I just don’t see a point in comming back<br>
I don’t want to deal with a million complaints again…[/quote]</p>
</blockquote>
</aside>
<p>First, you suck dick yourself.<br>
Second don’t talk shit over internet you dont know a shit about. KTHX</p>
<p>Why tha fuck do you care about others all the time?<br>
idiot. IMO<br>
[/quote]</p>
<p>I agree with you, all he does is flame about others. doesn’t contribute to anything, just posts and complains, why are you even here Kryptix?[/quote]<br>
Thank you for being with and you dare to stand on, should be more people who can write what they think.</p>
      </div>

      <meta itemprop='headline' content='A More Efficent Players in View'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/inTouch.html'><span itemprop='name'>inTouch</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-04-06T15:37:49Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:45:50Z' class='post-time'>
              July 31, 2016,  3:45pm
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“imthenull, post:20, topic:335526”]why are you even here Kryptix?[/quote]Free spam-advertising! <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='A More Efficent Players in View'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/NewbieNewty.html'><span itemprop='name'>NewbieNewty</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-04-06T15:44:23Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:45:55Z' class='post-time'>
              July 31, 2016,  3:45pm
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Quit QQ’ing and stay on topic.</p>
      </div>

      <meta itemprop='headline' content='A More Efficent Players in View'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/gawdz666.html'><span itemprop='name'>gawdz666</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-04-06T19:15:36Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:46:03Z' class='post-time'>
              July 31, 2016,  3:46pm
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Kryptix, post:7, topic:335553”][quote author=Peeter link=topic=431906.msg3172525#msg3172525 date=1270540117]<br>
Actually what he’s trying to achieve is rather important. Updating all NPCs and Players every loop is a resource hog (especially if you have to walk NPCs). It’s simply not needed.</p>
<p>Say you have 4500 NPCs on your server. And one person. 4500 npcs all over the map are getting updated / moved around. Why? Bigger processing time INSIDE LOOPS exponentially increases your resource uses / overall speed of the system.[/quote]<br>
I’m not saying you’re wrong but I just spawned 5,000 KBD’s and the CPU didn’t move up from 2%. It didn’t change what-so-ever. Plus, how often does that happen? Never unless you’re being a twat messing about. It’s proven to work just fine with the normal amount of NPC’s over the map.</p>
<p><img src="http://img717.imageshack.us/img717/2690/screenshot9u.png" alt width="" height=""></p>
<p>Anyway, I’m not saying you’re wrong, and I agree with any optimization wherever possible but saying it’s important isn’t necessarily true…</p>
<aside class="quote no-group">
<blockquote>
<p>why are you even here Kryptix?</p>
</blockquote>
</aside>
<p>Sorry, next time someone posts something I will say “Nice <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> keep it up.” even though I don’t agree with it.</p>
<aside class="quote no-group">
<blockquote>
<p>It’s not like this will make much difference until someone has a need to have 500+ players in an area.</p>
</blockquote>
</aside>
<p>Actually RSCD will disconnect clients at around 50-60 players in one area if they leave the area and come back (being summoned or going down stairs and then back up) or around 90-120 if they just walk into the pack. We actually had a ban on having drop parties for months as people would host a drop party, 80-120+ would turn up and everyone would disconnect. When GaWdZ ran RSCEmulation we had a drop party with 30-40 online and if you went downstairs and back up you would disconnect.[/quote]</p>
<p>because of…</p>
<pre><code class="lang-auto">		for (Player p : newPlayers) {
			byte[] offsets = DataConversions.getMobPositionOffsets(p
					.getLocation(), playerToUpdate.getLocation());
			packet.addBits(p.getIndex(), 16);
			packet.addBits(offsets[0], 5);
			packet.addBits(offsets[1], 5);
			packet.addBits(p.getSprite(), 4);
			packet.addBits(0, 1);
		}
System.out.println("The packet length is " + packet.Length());
		return packet.toPacket();
	}</code></pre>
<p>When you go into a new area it doesnt care how many bytes it sends or how many people are there.<br>
It simply says fuck it send it all @ once.</p>
      </div>

      <meta itemprop='headline' content='A More Efficent Players in View'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Zilent.html'><span itemprop='name'>Zilent</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-04-06T19:19:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:46:03Z' class='post-time'>
              July 31, 2016,  3:46pm
            </time>
        <span itemprop='position'>#25</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What we need to realize here is that these routines only add or remove from data structures that contain references to the entities in question, memory locations if you will.</p>
<p>Base rscdv25 step through:</p>
<p><code>        public void updateViewedPlayers() {
                List&lt;Player&gt; playersInView = viewArea.getPlayersInView();
                for (Player p : playersInView) {
                        if (p.getIndex() != getIndex() &amp;&amp; p.loggedIn()) {
                                this.informOfPlayer(p);    //See this call below
                                p.informOfPlayer(this);
                           System.out.println(p.getUsername() + " is being updated");
                        }
                }</code></p>
<p><code>public void informOfPlayer(Player p) {
                if ((!watchedPlayers.contains(p) || watchedPlayers.isRemoving(p)) &amp;&amp; withinRange(p)) {
                        watchedPlayers.add(p);
                }
        }</code></p>
<p>Now let’s compare the number of boolean comparisons per one iteration here<br>
for each player within 15x16:</p>
<p>Is the subject player the same one we’re updating?</p>
<blockquote>
<p>No? Get the next player<br>
Yes?<br>
Is the player logged in?<br>
No? Get the next player<br>
Yes? Call the routine org.rscdaemon.model.Player.informOfPlayer(Player)<br>
–Inside call<br>
Does our entity list already contain this player?<br>
No? return<br>
Yes? is the player currently being removed from our entity list?<br>
No? return<br>
Yes? is the player within our viewing range (they should be, otherwise we wouldn’t be in this call in the first place if they weren’t within 15x16, so is this comparison necessary?)<br>
No? return<br>
Yes? Add the player to our watched players entity list<br>
return to calling routine and grab the next player</p>
</blockquote>
<p>Modified code stepping:</p>
<p><code>        public void updateViewedPlayers() {
//Sector A
                List&lt;Player&gt; playersInViewA = viewArea.getPlayersSectorA();
                for (Player p : playersInViewA) {
                        if (p.getIndex() != getIndex() &amp;&amp; p.loggedIn() &amp;&amp; System.currentTimeMillis() - p.getLastMoved() &lt; 1000) {
System.out.println(p.getUsername() + " walked inside + " this.getUsername() + "'s sector A");
                                this.informOfPlayer(p);
                                p.informOfPlayer(this);
                        }
                }
//Sector B
                List&lt;Player&gt; playersInViewB = viewArea.getPlayersSectorB();
                for (Player p : playersInViewB) {
                        if (p.getIndex() != getIndex() &amp;&amp; p.loggedIn() &amp;&amp; System.currentTimeMillis() - p.getLastMoved() &lt; 1000) {
System.out.println(p.getUsername() + " walked inside + " this.getUsername() + "'s sector B");
                                this.informOfPlayer(p);
                                p.informOfPlayer(this);
                        }
                }
//Sector C
                List&lt;Player&gt; playersInViewC = viewArea.getPlayersSectorC();
                for (Player p : playersInViewC) {
                        if (p.getIndex() != getIndex() &amp;&amp; p.loggedIn() &amp;&amp; System.currentTimeMillis() - p.getLastMoved() &lt; 1000) {
System.out.println(p.getUsername() + " walked inside + " this.getUsername() + "'s sector C");
                                this.informOfPlayer(p);
                                p.informOfPlayer(this);
                        }
                }
//Sector D
                List&lt;Player&gt; playersInViewD = viewArea.getPlayersSectorD();
                for (Player p : playersInViewD) {
                        if (p.getIndex() != getIndex() &amp;&amp; p.loggedIn() &amp;&amp; System.currentTimeMillis() - p.getLastMoved() &lt; 1000) {
System.out.println(p.getUsername() + " walked inside + " this.getUsername() + "'s sector D");
                                this.informOfPlayer(p);
                                p.informOfPlayer(this);
                        }
                }
        }</code></p>
<p>[code=java5]        public List getPlayersSectorA() {<br>
List players = new ArrayList();<br>
ActiveTile[][] viewArea = getViewedArea(15, 0, 0, 16);<br>
for (int x = 0; x &lt; viewArea.length; x++)<br>
for (int y = 0; y &lt; viewArea[x].length; y++) {<br>
ActiveTile t = viewArea[x][y];<br>
if (t != null) {<br>
List temp = t.getPlayers();<br>
if (temp != null) {<br>
players.addAll(temp);<br>
}<br>
}<br>
}<br>
return players;<br>
}</p>
<pre><code>    public List&lt;Player&gt; getPlayersSectorB() {
            List&lt;Player&gt; players = new ArrayList&lt;Player&gt;();
            ActiveTile[][] viewArea = getViewedArea(0, 0, 16, 16);
            for (int x = 0; x &lt; viewArea.length; x++)
                    for (int y = 0; y &lt; viewArea[x].length; y++) {
                            ActiveTile t = viewArea[x][y];
                            if (t != null) {
                                    List&lt;Player&gt; temp = t.getPlayers();
                                    if (temp != null) {
                                            players.addAll(temp);
                                    }
                            }
                    }
            return players;
    }

    public List&lt;Player&gt; getPlayersSectorC() {
            List&lt;Player&gt; players = new ArrayList&lt;Player&gt;();
            ActiveTile[][] viewArea = getViewedArea(0, 15, 16, 0);
            for (int x = 0; x &lt; viewArea.length; x++)
                    for (int y = 0; y &lt; viewArea[x].length; y++) {
                            ActiveTile t = viewArea[x][y];
                            if (t != null) {
                                    List&lt;Player&gt; temp = t.getPlayers();
                                    if (temp != null) {
                                            players.addAll(temp);
                                    }
                            }
                    }
            return players;
    }

    public List&lt;Player&gt; getPlayersSectorD() {
            List&lt;Player&gt; players = new ArrayList&lt;Player&gt;();
            ActiveTile[][] viewArea = getViewedArea(15, 15, 0, 0);
            for (int x = 0; x &lt; viewArea.length; x++)
                    for (int y = 0; y &lt; viewArea[x].length; y++) {
                            ActiveTile t = viewArea[x][y];
                            if (t != null) {
                                    List&lt;Player&gt; temp = t.getPlayers();
                                    if (temp != null) {
                                            players.addAll(temp);
                                    }
                            }
                    }
            return players;
    }[/code]
</code></pre>
<p>Now let’s compare the number of boolean comparisons per one iteration here</p>
<p>for each player within sector A:</p>
<p>Is the subject player the same one we’re updating?</p>
<blockquote>
<p>No? Get the next player<br>
Yes?<br>
Is the player logged in?<br>
No? Get the next player<br>
Yes? Call the routine org.rscdaemon.model.Player.informOfPlayer(Player)<br>
–Inside call<br>
Does our entity list already contain this player?<br>
No? return<br>
Yes? is the player currently being removed from our entity list?<br>
No? return<br>
Yes? is the player within our viewing range<br>
No? return<br>
Yes? Add the player to our watched players entity list<br>
return to calling routine and grab the next player from sector A</p>
</blockquote>
<p>for each player within sector B:</p>
<p>Is the subject player the same one we’re updating?</p>
<blockquote>
<p>No? Get the next player<br>
Yes?<br>
Is the player logged in?<br>
No? Get the next player<br>
Yes? Call the routine org.rscdaemon.model.Player.informOfPlayer(Player)<br>
–Inside call<br>
Does our entity list already contain this player?<br>
No? return<br>
Yes? is the player currently being removed from our entity list?<br>
No? return<br>
Yes? is the player within our viewing range<br>
No? return<br>
Yes? Add the player to our watched players entity list<br>
return to calling routine and grab the next player from sector B</p>
</blockquote>
<p>for each player within sector C:</p>
<p>Is the subject player the same one we’re updating?</p>
<blockquote>
<p>No? Get the next player<br>
Yes?<br>
Is the player logged in?<br>
No? Get the next player<br>
Yes? Call the routine org.rscdaemon.model.Player.informOfPlayer(Player)<br>
–Inside call<br>
Does our entity list already contain this player?<br>
No? return<br>
Yes? is the player currently being removed from our entity list?<br>
No? return<br>
Yes? is the player within our viewing range<br>
No? return<br>
Yes? Add the player to our watched players entity list<br>
return to calling routine and grab the next player from sector C</p>
</blockquote>
<p>for each player within sector D:</p>
<p>Is the subject player the same one we’re updating?</p>
<blockquote>
<p>No? Get the next player<br>
Yes?<br>
Is the player logged in?<br>
No? Get the next player<br>
Yes? Call the routine org.rscdaemon.model.Player.informOfPlayer(Player)<br>
–Inside call<br>
Does our entity list already contain this player?<br>
No? return<br>
Yes? is the player currently being removed from our entity list?<br>
No? return<br>
Yes? is the player within our viewing range<br>
No? return<br>
Yes? Add the player to our watched players entity list<br>
return to calling routine and grab the next player from sector D</p>
</blockquote>
<p>Without any benchmark testing, who’s to say, but in my opinion all we would be accomplishing here would most likely not even result in a millisecond gain in execution speed.</p>
<ul>
<li>
</li>
</ul>
<p>If you want to make the system more efficient, I would suggest an event-driven implementation rather than one ran on a cycle.  What I mean by this, is updating the proper collections as the incoming packets from the clients dictate.</p>
<blockquote>
<p>Player logging in: get this players view area and update it<br>
Player moving: get this players view area and update position to players who already have this entity in view, and all to players who do not.<br>
Player equips item: get this players view area and update worn items</p>
</blockquote>
<p>I’m sure you get the idea, however with such a simple system and the low amount of data (~30 bytes) to transfer, you would likely not notice a difference yet.</p>
<ul>
<li>
</li>
</ul>
<p>One final note - what’s with all of this internal tension between everyone?  This is a development board.  Drama stays out.</p>
      </div>

      <meta itemprop='headline' content='A More Efficent Players in View'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pljay03.html'><span itemprop='name'>pljay03</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-04-08T00:32:21Z'>
            <time itemprop='dateModified' datetime='2016-07-31T15:47:38Z' class='post-time'>
              July 31, 2016,  3:47pm
            </time>
        <span itemprop='position'>#26</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Zilent, post:25, topic:335526”]public void informOfPlayer(Player p) {<br>
if ((!watchedPlayers.contains§ || watchedPlayers.isRemoving§) &amp;&amp; withinRange§) {<br>
watchedPlayers.add§;<br>
}<br>
}[/quote]<br>
nice</p>
      </div>

      <meta itemprop='headline' content='A More Efficent Players in View'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="335526.html">← previous page</a></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/a-more-efficent-players-in-view/335526?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 23:04:44 GMT -->
</html>
