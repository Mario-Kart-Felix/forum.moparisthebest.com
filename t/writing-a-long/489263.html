<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/writing-a-long/489263 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Writing a long - General Programming - moparisthebest.com</title>
    <meta name="description" content="Hello, I&amp;#39;ve been writing a Runescape style framework lately. Everything has gone perfectly except for the Login Protocol Decoding. I&amp;#39;m using the NIO library and implementing the ByteBuffer class to read and I thought to &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="489263.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Writing a long&#39;" href="489263.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/writing-a-long/489263" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/writing-a-long/489263" />
<meta property="og:title" content="Writing a long" />
<meta name="twitter:title" content="Writing a long" />
<meta property="og:description" content="Hello, I&#39;ve been writing a Runescape style framework lately. Everything has gone perfectly except for the Login Protocol Decoding. I&#39;m using the NIO library and implementing the ByteBuffer class to read and I thought to write data. I&#39;ve got to the point where I need to return the session key to the client being a long. I can&#39;t seem to figure out how to-do this. Any help would be appreciated. I know this may fall under the &#39;Server Help&#39; category but I doubt anyone who visits that section would ha..." />
<meta name="twitter:description" content="Hello, I&#39;ve been writing a Runescape style framework lately. Everything has gone perfectly except for the Login Protocol Decoding. I&#39;m using the NIO library and implementing the ByteBuffer class to read and I thought to write data. I&#39;ve got to the point where I need to return the session key to the client being a long. I can&#39;t seem to figure out how to-do this. Any help would be appreciated. I know this may fall under the &#39;Server Help&#39; category but I doubt anyone who visits that section would ha..." />
<meta property="article:published_time" content="2013-02-18T02:02:26+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="489263.html">Writing a long</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iz3_legend.html'><span itemprop='name'>iz3_legend</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:02:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:25:56Z' class='post-time'>
              August 4, 2016,  3:25am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <pre><code>Hello, I've been writing a Runescape style framework lately. Everything has gone perfectly except for the Login Protocol Decoding. I'm using the NIO library and implementing the ByteBuffer class to read and I thought to write data. I've got to the point where I need to return the session key to the client being a long. I can't seem to figure out how to-do this. Any help would be appreciated. I know this may fall under the 'Server Help' category but I doubt anyone who visits that section would have adequate knowledge about this problem. I provided a bit of my code if it could help in anyway, and ignore the dinky comments which will be edited when I finish.
</code></pre>
<pre><code class="lang-auto">                        /*
			 * Allocating the underlying buffer.
			 */
			ByteBuffer buffer = ByteBuffer.allocateDirect(126);
			/*
			 * Read the buffer from the client.
			 */
			client.getSocketChannel().read(buffer);
			/*
			 * Flip the buffer.
			 */
			buffer.flip();
			/*
			 * The initial u byte with a value of fourteen.
			 */
			int initialByte = buffer.get() &amp; 0xff;</code></pre>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:08:30Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:25:57Z' class='post-time'>
              August 4, 2016,  3:25am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Read 8 bytes and shift each left, start at 0 and incrementing by 8 each time. The order depends on whether or not you want it to be big- or little-endian.</p>
<p>Example:</p>
<p><code>
long l = (readByte()) + (readByte() &lt;&lt; 8) + (readByte() &lt;&lt; 16) + (readByte() &lt;&lt; 24) + (readByte() &lt;&lt; 32) + (readByte() &lt;&lt; 40) + (readByte() &lt;&lt; 48) + (readByte() &lt;&lt; 56);</code></p>
<p>The other option is reading two same-endian integers and shifting one of them left by 32.</p>
<p>EDIT: I thought you wanted to read one. Writing the process is the same, except you’re going to write 8 bytes and shift right, incrementing by 8 each time and ANDing by 255 (FF).</p>
<p>Example:</p>
<p><code>
for (int i = 0; i &lt; 8; i++)
    buffer[i + offset] = (myLong &gt;&gt; (i * 8)) &amp; 0xFF;</code></p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iz3_legend.html'><span itemprop='name'>iz3_legend</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:12:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:25:57Z' class='post-time'>
              August 4, 2016,  3:25am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <ul>
<li>
</li>
</ul>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:16:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:25:57Z' class='post-time'>
              August 4, 2016,  3:25am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#putLong(long)" class="onebox" target="_blank" rel="nofollow noopener">http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#putLong(long)</a></p>
<p>??</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:17:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:25:57Z' class='post-time'>
              August 4, 2016,  3:25am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I like to make my code pretty and not trail off the page.</p>
<p><code>public long readLong() {
    long value;
    for (int i = 7; i &gt;= 0; i--) {
        value |= readByte() &lt;&lt; (i * 8);
    }
    return value;
}</code></p>
<p>Lol edit too: I tl;dr’d op, went of Lins post.</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iz3_legend.html'><span itemprop='name'>iz3_legend</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:21:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:26:00Z' class='post-time'>
              August 4, 2016,  3:26am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I may have butchered your code, but like so?</p>
<pre><code class="lang-auto">        public ByteBuffer writeSessionKey(ByteBuffer buffer, long sessionKey) {
	     byte[] buffers = new byte[8];
	     for (int i = 0; i &lt; 8; i++) {
	          buffers[i + 0] = (byte) ((sessionKey &gt;&gt; (i * 8)) &amp; 0xFF);
	     }
	     return buffer.put(buffers);
	}</code></pre>
<p>And Justin, I’ve tried that. I get an “BufferOverflow” exception. I’ve also tried implemeting the LongBuffer class but have no way of reading it’s data through the SocketChannel.</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:34:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:26:11Z' class='post-time'>
              August 4, 2016,  3:26am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>BufferOverflow is because there is not enough remaining space in the buffer, hence the Overflow. Have you tried ‘flipping’ the buffer to reset the read/write index? You may need to keep a separate buffer for writing so you don’t reset the inbound data.</p>
<p>For those interested, the source from ByteBuffer.putLong</p>
<p>[code]    private static byte long7(long x) { return (byte)(x &gt;&gt; 56); }<br>
private static byte long6(long x) { return (byte)(x &gt;&gt; 48); }<br>
private static byte long5(long x) { return (byte)(x &gt;&gt; 40); }<br>
private static byte long4(long x) { return (byte)(x &gt;&gt; 32); }<br>
private static byte long3(long x) { return (byte)(x &gt;&gt; 24); }<br>
private static byte long2(long x) { return (byte)(x &gt;&gt; 16); }<br>
private static byte long1(long x) { return (byte)(x &gt;&gt;  8); }<br>
private static byte long0(long x) { return (byte)(x      ); }</p>
<pre><code>static void putLongL(ByteBuffer bb, int bi, long x) {
    bb._put(bi + 7, long7(x));
    bb._put(bi + 6, long6(x));
    bb._put(bi + 5, long5(x));
    bb._put(bi + 4, long4(x));
    bb._put(bi + 3, long3(x));
    bb._put(bi + 2, long2(x));
    bb._put(bi + 1, long1(x));
    bb._put(bi    , long0(x));
}[/code]</code></pre>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:40:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:26:19Z' class='post-time'>
              August 4, 2016,  3:26am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Did someone seriously not mention the ByteBuffer.putLong(long l) method?</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iz3_legend.html'><span itemprop='name'>iz3_legend</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:41:44Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:26:22Z' class='post-time'>
              August 4, 2016,  3:26am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m flipping it before starting to read the initial unsigned bytes which read perfectly. Would I need to flip it again before writing the outgoing responses?</p>
<p><a class="mention" href="../../u/sini.html">@Sini</a>. BufferOverFlow exception.</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:46:27Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:26:25Z' class='post-time'>
              August 4, 2016,  3:26am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sinisoul, post:8, topic:489263”]Did someone seriously not mention the ByteBuffer.putLong(long l) method?[/quote][quote=“HcoJustin, post:4, topic:489263”]<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#putLong(long)" rel="nofollow noopener">http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#putLong(long)</a></p>
<p>??[/quote]</p>
<p>[quote=“iz3 legend, post:9, topic:489263”]I’m flipping it before starting to read the initial unsigned bytes which read perfectly. Would I need to flip it again before writing the outgoing responses?</p>
<p><a class="mention" href="../../u/sini.html">@Sini</a>. BufferOverFlow exception.[/quote]<br>
If you are sharing the buffers, yes you would. I would suggest keeping a second buffer dedicated to writing</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iz3_legend.html'><span itemprop='name'>iz3_legend</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-18T02:48:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:26:25Z' class='post-time'>
              August 4, 2016,  3:26am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“HcoJustin, post:10, topic:489263”][quote author=sinisoul link=topic=607495.msg4229134#msg4229134 date=1361155243]<br>
Did someone seriously not mention the ByteBuffer.putLong(long l) method?<br>
[/quote][quote author=HcoJustin link=topic=607495.msg4229067#msg4229067 date=1361153802]<br>
<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#putLong(long)" class="onebox" target="_blank" rel="nofollow noopener">http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#putLong(long)</a></p>
<p>??<br>
[/quote]</p>
<aside class="quote">
<blockquote>
<p>I’m flipping it before starting to read the initial unsigned bytes which read perfectly. Would I need to flip it again before writing the outgoing responses?</p>
<p><a class="mention" href="../../u/sini.html">@Sini</a>. BufferOverFlow exception.</p>
</blockquote>
</aside>
<p>If you are sharing the buffers, yes you would. I would suggest keeping a second buffer dedicated to writing[/quote]</p>
<p>Alright will try it out, thanks.</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-19T04:45:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:31:11Z' class='post-time'>
              August 4, 2016,  3:31am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Read why the buffer overflow is happening instead of trying to work around it. This is pretty obvious, so I’m surprised no one else said it. This should apply to everything in programming. If something goes wrong, fix it, rather than working around it and almost certainly creating more problems for yourself.</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-19T04:57:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:31:12Z' class='post-time'>
              August 4, 2016,  3:31am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="12" data-topic="489263">
<div class="title">
<div class="quote-controls"></div>
 Taharok:</div>
<blockquote>
<p>Read why the buffer overflow is happening instead of trying to work around it. This is pretty obvious, so I’m surprised no one else said it. This should apply to everything in programming. If something goes wrong, fix it, rather than working around it and almost certainly creating more problems for yourself.</p>
</blockquote>
</aside>
<p>I thought that answer was implied.</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-19T05:39:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:31:13Z' class='post-time'>
              August 4, 2016,  3:31am
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sinisoul, post:13, topic:489263”][quote author=Taharok link=topic=607495.msg4230718#msg4230718 date=1361249103]<br>
Read why the buffer overflow is happening instead of trying to work around it. This is pretty obvious, so I’m surprised no one else said it. This should apply to everything in programming. If something goes wrong, fix it, rather than working around it and almost certainly creating more problems for yourself.<br>
[/quote]</p>
<p>I thought that answer was implied.[/quote]</p>
<p>Evidently not. Almost every solution on this page is working around the problem, rather than guiding the OP to finding out why he’s getting a buffer overflow exception.</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-19T07:04:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:31:42Z' class='post-time'>
              August 4, 2016,  3:31am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="12" data-topic="489263">
<div class="title">
<div class="quote-controls"></div>
 Taharok:</div>
<blockquote>
<p>Read why the buffer overflow is happening instead of trying to work around it. This is pretty obvious, so I’m surprised no one else said it. This should apply to everything in programming. If something goes wrong, fix it, rather than working around it and almost certainly creating more problems for yourself.[/quote][quote=“HcoJustin, post:7, topic:489263”]BufferOverflow is because there is not enough remaining space in the buffer, hence the Overflow. Have you tried ‘flipping’ the buffer to reset the read/write index?</p>
</blockquote>
</aside>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-19T07:09:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:31:42Z' class='post-time'>
              August 4, 2016,  3:31am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>We just hate giving the obvious correct answers to help them learn what failure is <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/arham_4.html'><span itemprop='name'>arham_4</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-19T07:10:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:31:42Z' class='post-time'>
              August 4, 2016,  3:31am
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“HcoJustin, post:15, topic:489263”][quote author=Taharok link=topic=607495.msg4230718#msg4230718 date=1361249103]<br>
Read why the buffer overflow is happening instead of trying to work around it. This is pretty obvious, so I’m surprised no one else said it. This should apply to everything in programming. If something goes wrong, fix it, rather than working around it and almost certainly creating more problems for yourself.<br>
[/quote][quote author=HcoJustin link=topic=607495.msg4229112#msg4229112 date=1361154845]<br>
BufferOverflow is because there is not enough remaining space in the buffer, hence the Overflow. Have you tried ‘flipping’ the buffer to reset the read/write index?<br>
[/quote][/quote]you take quoting classes?</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-19T07:15:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:31:42Z' class='post-time'>
              August 4, 2016,  3:31am
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“arham 4, post:17, topic:489263”][quote author=HcoJustin link=topic=607495.msg4230855#msg4230855 date=1361257456]</p>
<aside class="quote">
<blockquote>
<p>Read why the buffer overflow is happening instead of trying to work around it. This is pretty obvious, so I’m surprised no one else said it. This should apply to everything in programming. If something goes wrong, fix it, rather than working around it and almost certainly creating more problems for yourself.<br>
[/quote][quote author=HcoJustin link=topic=607495.msg4229112#msg4229112 date=1361154845]<br>
BufferOverflow is because there is not enough remaining space in the buffer, hence the Overflow. Have you tried ‘flipping’ the buffer to reset the read/write index?</p>
</blockquote>
</aside>
<p>[/quote]you take quoting classes?[/quote]<br>
How did you know?! I have a great teacher! <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/iKilem.html'><span itemprop='name'>iKilem</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-19T13:05:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:32:07Z' class='post-time'>
              August 4, 2016,  3:32am
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lin, post:2, topic:489263”]Example:</p>
<p><code>
long l = (readByte()) + (readByte() &lt;&lt; 8) + (readByte() &lt;&lt; 16) + (readByte() &lt;&lt; 24) + (readByte() &lt;&lt; 32) + (readByte() &lt;&lt; 40) + (readByte() &lt;&lt; 48) + (readByte() &lt;&lt; 56);</code>[/quote]<br>
FYI, that wouldn’t work. You’d get an overflow for the last four bytes unless you cast the return value of readByte() to long. Same goes for imthenull.</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-19T15:09:34Z'>
            <time itemprop='dateModified' datetime='2016-08-04T03:32:14Z' class='post-time'>
              August 4, 2016,  3:32am
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“iKilem, post:19, topic:489263”][quote author=Lin link=topic=607495.msg4229060#msg4229060 date=1361153310]<br>
Example:</p>
<p><code>
long l = (readByte()) + (readByte() &lt;&lt; 8) + (readByte() &lt;&lt; 16) + (readByte() &lt;&lt; 24) + (readByte() &lt;&lt; 32) + (readByte() &lt;&lt; 40) + (readByte() &lt;&lt; 48) + (readByte() &lt;&lt; 56);</code><br>
[/quote]<br>
FYI, that wouldn’t work. You’d get an overflow for the last four bytes unless you cast the return value of readByte() to long. Same goes for imthenull.[/quote]<br>
Right, forgot about that. I wrote that in the reply, oh well.</p>
      </div>

      <meta itemprop='headline' content='Writing a long'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/writing-a-long/489263 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:38 GMT -->
</html>
