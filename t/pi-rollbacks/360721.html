<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-rollbacks/360721 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 14:17:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>PI Rollbacks :( - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hey.. when I close runeserver.bat, and put it back online, all the accounts are rolled back...... 

It&amp;#39;s really annoying to me and my members... Makes me feel bad when I update the server, and I really shouldn&amp;#39;t... If an&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="360721.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;PI Rollbacks :(&#39;" href="360721.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-rollbacks/360721" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-rollbacks/360721" />
<meta property="og:title" content="PI Rollbacks :(" />
<meta name="twitter:title" content="PI Rollbacks :(" />
<meta property="og:description" content="Hey…  when I close runeserver.bat, and put it back online, all the accounts are rolled back…  It’s really annoying to me and my members…  Makes me feel bad when I update the server, and I really shouldn’t…  If anyone knows a fix, please post here!" />
<meta name="twitter:description" content="Hey…  when I close runeserver.bat, and put it back online, all the accounts are rolled back…  It’s really annoying to me and my members…  Makes me feel bad when I update the server, and I really shouldn’t…  If anyone knows a fix, please post here!" />
<meta property="article:published_time" content="2010-09-18T03:42:15+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="360721.html">PI Rollbacks :(</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Keatrm.html'><span itemprop='name'>Keatrm</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-09-18T03:42:15Z'>
            <time itemprop='dateModified' datetime='2016-07-31T21:40:16Z' class='post-time'>
              July 31, 2016,  9:40pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey…<br>
when I close runeserver.bat, and put it back online, all the accounts are rolled back…</p>
<p>It’s really annoying to me and my members…<br>
Makes me feel bad when I update the server, and I really shouldn’t…<br>
If anyone knows a fix, please post here!</p>
      </div>

      <meta itemprop='headline' content='PI Rollbacks :('>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Spades.html'><span itemprop='name'>Spades</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-09-18T04:08:24Z'>
            <time itemprop='dateModified' datetime='2016-07-31T21:40:17Z' class='post-time'>
              July 31, 2016,  9:40pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I believe “Lin” posted a fix for rollbacks, just look it is in tutorials section I believe.</p>
      </div>

      <meta itemprop='headline' content='PI Rollbacks :('>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ownageunited.html'><span itemprop='name'>ownageunited</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-09-18T04:34:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T21:40:20Z' class='post-time'>
              July 31, 2016,  9:40pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ill give u link if u find it =)</p>
      </div>

      <meta itemprop='headline' content='PI Rollbacks :('>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Scape-JAVA.html'><span itemprop='name'>Scape-JAVA</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-09-18T05:04:38Z'>
            <time itemprop='dateModified' datetime='2016-07-31T21:40:22Z' class='post-time'>
              July 31, 2016,  9:40pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group">
<div class="title">
<div class="quote-controls"></div>
 I Vain I:</div>
<blockquote>
<p>I thought it had something to do with the player saving.</p>
</blockquote>
</aside>
<p>I don’t think so, it’s usually dealt with a shutdown hook.</p>
      </div>

      <meta itemprop='headline' content='PI Rollbacks :('>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Spades.html'><span itemprop='name'>Spades</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-09-18T05:11:54Z'>
            <time itemprop='dateModified' datetime='2016-07-31T21:40:22Z' class='post-time'>
              July 31, 2016,  9:40pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>LIN:<br>
<span class="bbcode-b"><span class="bbcode-i">Almost</span> Completely preventing roll-backs</span><br>
This is a simple fix, and thanks zstars for telling me about the shutDownHook.</p>
<p>First, in your PlayerHandler class, find this:</p>
<p><code>PlayerHandler() {</code>This is the constructor. Inside it, we’re going to add the shutDownHook:</p>
<p><code>Runtime.getRuntime().addShutdownHook(new Thread()
		{
			public void run()
			{
				for (int i = 0; i &lt; maxPlayers; i++)
					if(players[i] != null)
						((Client)players[i]).savegame(false);
			}
		});</code>This makes it so whenever you manually close the server, it saves for all players.</p>
<p>This next one requires some work by you. Back in the client class, wherever you see <span class="bbcode-i">disconnect = true;</span> or the destruct method being called, add this:</p>
<p><code>savegame(false);</code>This makes it so you save whenever you disconnect, whether it be from a packet timeout, the client crashing, you shutting down your computer, or whatever reason, you don’t lose your data. The only way the character files won’t save is if the server’s process is killed, which means if you end it with Task Manager, shut down your computer the wrong way, or your computer crashes.</p>
<p>Alright. That’s all I can think of at the top of my head. Note I added these to one of my old servers and just ripped them out to post here, because I was always too lazy to do it, and now the tutorial section is unlocked. If anything is wrong, let me know.</p>
      </div>

      <meta itemprop='headline' content='PI Rollbacks :('>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-rollbacks/360721 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 14:17:34 GMT -->
</html>
