<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/silent-mouse/344672 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 04:35:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>&quot;Silent Mouse&quot; - General Programming - moparisthebest.com</title>
    <meta name="description" content="Okay, So I&amp;#39;ve set up a few Hooks. But one thing I&amp;#39;ve been interested in but never figured out how to do it was the &amp;quot;silent mouse&amp;quot; as in moving the mouse on the client without affecting the users mouse, allowing it to be &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="344672.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;&quot;Silent Mouse&quot;&#39;" href="344672.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/silent-mouse/344672" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/silent-mouse/344672" />
<meta property="og:title" content="&quot;Silent Mouse&quot;" />
<meta name="twitter:title" content="&quot;Silent Mouse&quot;" />
<meta property="og:description" content="Okay, So I’ve set up a few Hooks. But one thing I’ve been interested in but never figured out how to do it was the “silent mouse” as in moving the mouse on the client without affecting the users mouse, allowing it to be minimized. Can anyone share/lead me in the right Direction?  Justin186" />
<meta name="twitter:description" content="Okay, So I’ve set up a few Hooks. But one thing I’ve been interested in but never figured out how to do it was the “silent mouse” as in moving the mouse on the client without affecting the users mouse, allowing it to be minimized. Can anyone share/lead me in the right Direction?  Justin186" />
<meta property="article:published_time" content="2010-06-18T01:43:20+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="344672.html">&quot;Silent Mouse&quot;</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Justin186.html'><span itemprop='name'>Justin186</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T01:43:20Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:00Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Okay, So I’ve set up a few Hooks. But one thing I’ve been interested in but never figured out how to do it was the “silent mouse” as in moving the mouse on the client without affecting the users mouse, allowing it to be minimized. Can anyone share/lead me in the right Direction?</p>
<p>Justin186</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Unhandled.html'><span itemprop='name'>Unhandled</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T01:48:38Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:00Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just inject mouse events lol!!</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/White_Castle.html'><span itemprop='name'>White_Castle</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T02:04:11Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:00Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’ve done some tinkering with this in the past, but I don’t feel like I’ve got a really solid understanding of the precautions you should take. I can try to lead you in the right direction, though.</p>
<p>You’re going to be mostly interested in hijacking Runescape’s implementations of java.awt.Component and sending fake Events (look <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/awt/event/package-summary.html" data-bbcode="true" rel="nofollow noopener">here</a>). Now, I’m not sure how “high detail” Runescape factors into this, but you probably don’t need to worry. AWT is Java’s basic toolkit for writing GUIs (it stands for Abstract Window Toolkit). Every Runescape graphic that you see is “painted” onto a subclass of java.awt.Component (Jagex implements their own… have fun dealing with their magic). Components have associated EventListeners that, well, listen for events, in this case pertaining to user input. Now, as far as I know, all you have to do is hook the appropriate component, construct a legitimate “event” (MouseEvent, KeyEvent, whatever… this is harder than it sounds. Good luck coming up with a real-looking mouse path algorithm), and pass it to Component.dispatchEvent.</p>
<p>This is the part of bot-making that’s likely to get you banned. It’s quite difficult to mimic a real player.</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T02:56:16Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:04Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Instead of using Java’s Robot class to move the mouse, you can either directly send fake events to the client via AWT’s event management system or you can write different implementations of sending fake events at the native level, which is much less detectable, especially since the client doesn’t fiddle too much around with native calls.</p>
<p>As for the AWT option, you can either invoke ‘Component.dispatchEvent’, as White Castle stated, or you can get an instance of the client’s ‘Mouse’ class via reflection and explicitly call its respective mouse listener function. Both are seemingly easily detectable although the latter is much more detectable seeing how it doesn’t pass through the entire AWT event processing system.</p>
<p>As for the native alternative, this is much less detectable but much more annoying. Firstly, you have to be acquainted with a language that compiles to native, so if you lack this skill you should discard this idea. You also have to be acquainted with the basic use of the JNI API, which isn’t really a hard task to carry out. Secondly, you have to have a basic understanding of how the window-event management works on each underlying operating system you plan on supporting and write a different implementation on each. To be completely honest, the implementation for each OS shouldn’t be more than a couple of calls to its native API.</p>
<p>To sum it all up, the portable Java approach is much, much easier to write but also easily detectable, while the native approach lacks the simplicity the former approach carries, but to the advantage that it will only come to be as detectable as you make it be (for how well you simulate user mouse movement).</p>
<p>As for my personal opinion, just implement the AWT approach as the game’s base of bot-detectability isn’t how these events are sent, but the pattern they are sent in. Speed, accuracy and randomness are all factors that will be taken into account by the server.</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T04:07:22Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:09Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This is one thing I feel I really got right in <a href="http://sourceforge.net/projects/cherokeeengine/" data-bbcode="true">cherokee</a>, there is even a test applet so you can test out how real you think your mouse movements look.  You are of course free to use that code however you see fit, in compliance with the license.  You want to look in the com.cherokee.input package.</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Justin186.html'><span itemprop='name'>Justin186</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T07:05:00Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:31Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Mmmm yeah thanks guys =)<br>
I’ve had a look at an old updater.</p>
<p>Im not quite sure on some of the methods used for the hookMouse thingo</p>
<pre><code class="lang-auto"> public void hackMouse() {
        for (ClassGen cg : classes) {
            String interfaces[] = cg.getInterfaceNames();
            for (String iface : interfaces) {
                if (iface.indexOf("Mouse") != -1) {
                    classnames.put("Mouse", cg.getClassName());
                    ConstantPoolGen cpg = cg.getConstantPool();
                    cpg.setConstant(cpg.lookupUtf8("mouseClicked"), new ConstantUtf8("_mouseClicked"));
                    cpg.setConstant(cpg.lookupUtf8("mousePressed"), new ConstantUtf8("_mousePressed"));
                    cpg.setConstant(cpg.lookupUtf8("mouseReleased"), new ConstantUtf8("_mouseReleased"));
                    cpg.setConstant(cpg.lookupUtf8("mouseEntered"), new ConstantUtf8("_mouseEntered"));
                    cpg.setConstant(cpg.lookupUtf8("mouseExited"), new ConstantUtf8("_mouseExited"));
                    cpg.setConstant(cpg.lookupUtf8("mouseDragged"), new ConstantUtf8("_mouseDragged"));
                    cpg.setConstant(cpg.lookupUtf8("mouseMoved"), new ConstantUtf8("_mouseMoved"));
                    cpg.setConstant(cpg.lookupUtf8("focusGained"), new ConstantUtf8("_focusGained"));
                    cpg.setConstant(cpg.lookupUtf8("focusLost"), new ConstantUtf8("_focusLost"));
                    ((ConstantClass) cpg.getConstant(cg.getSuperclassNameIndex())).setNameIndex(cpg.addUtf8("com/bawt/hook/Mouse"));

                    return;
                }
            }
        }
    }</code></pre>
<p>The only thing I understand whats going on in this is it loops through the classes until it finds one with an interface that is a type of mouse listener (since it contains “mouse” in its name) I don’t really understand any more of it…</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ollie.html'><span itemprop='name'>Ollie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T08:15:57Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:33Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="4" data-topic="344672">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/abraham2119/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> abraham2119:</div>
<blockquote>
<p>Instead of using Java’s Robot class to move the mouse, you can either directly send fake events to the client via AWT’s event management system or you can write different implementations of sending fake events at the native level, which is <span class="bbcode-b">much less undetectable</span>, especially since the client doesn’t fiddle too much around with native calls.</p>
</blockquote>
</aside>
<p>[me=Ollie]giggles![/me]</p>
<p>Good explaination though, I actually expected this topic to turn into a flame fest! Evidently I was mistaken of the maturity of these forums.</p>
<aside class="quote no-group quote-modified" data-post="6" data-topic="344672">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/justin186/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> Justin186:</div>
<blockquote>
<p>The only thing I understand whats going on in this is it loops through the classes until it finds one with an interface that is a type of mouse listener (since it contains “mouse” in its name) I don’t really understand any more of it…</p>
</blockquote>
</aside>
<p>The code you pasted basically replaces the names of the game events, mouse, keyboard and focus with custom ones so that you can intercept as they pass through the client! I don’t actually think you should use this way to emulate mouse movement, White Castle and abraham2119 both posted great information. I suggest learning the fundementals of java abit more then re-reading their posts and having a shot at it.</p>
<p>Good luck.</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Justin186.html'><span itemprop='name'>Justin186</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T08:35:29Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:34Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’ve done Java for quite awhile. I was just unsure on the Bcel method “setConstant(ConstantUtf8, ConstantUtf8)”<br>
And Mopar where is this “test applet” in that RAR file? I can’t seem to find it.<br>
I’m new to this “scene”</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T10:56:25Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:36Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Justin186, post:6, topic:344672”]Mmmm yeah thanks guys =)<br>
I’ve had a look at an old updater.</p>
<p>Im not quite sure on some of the methods used for the hookMouse thingo</p>
<pre><code class="lang-auto"> public void hackMouse() {
        for (ClassGen cg : classes) {
            String interfaces[] = cg.getInterfaceNames();
            for (String iface : interfaces) {
                if (iface.indexOf("Mouse") != -1) {
                    classnames.put("Mouse", cg.getClassName());
                    ConstantPoolGen cpg = cg.getConstantPool();
                    cpg.setConstant(cpg.lookupUtf8("mouseClicked"), new ConstantUtf8("_mouseClicked"));
                    cpg.setConstant(cpg.lookupUtf8("mousePressed"), new ConstantUtf8("_mousePressed"));
                    cpg.setConstant(cpg.lookupUtf8("mouseReleased"), new ConstantUtf8("_mouseReleased"));
                    cpg.setConstant(cpg.lookupUtf8("mouseEntered"), new ConstantUtf8("_mouseEntered"));
                    cpg.setConstant(cpg.lookupUtf8("mouseExited"), new ConstantUtf8("_mouseExited"));
                    cpg.setConstant(cpg.lookupUtf8("mouseDragged"), new ConstantUtf8("_mouseDragged"));
                    cpg.setConstant(cpg.lookupUtf8("mouseMoved"), new ConstantUtf8("_mouseMoved"));
                    cpg.setConstant(cpg.lookupUtf8("focusGained"), new ConstantUtf8("_focusGained"));
                    cpg.setConstant(cpg.lookupUtf8("focusLost"), new ConstantUtf8("_focusLost"));
                    ((ConstantClass) cpg.getConstant(cg.getSuperclassNameIndex())).setNameIndex(cpg.addUtf8("com/bawt/hook/Mouse"));

                    return;
                }
            }
        }
    }</code></pre>
<p>The only thing I understand whats going on in this is it loops through the classes until it finds one with an interface that is a type of mouse listener (since it contains “mouse” in its name) I don’t really understand any more of it…[/quote]If I recall correctly, that code is straight from RSBot. It basically “detoured” (at the Java level :P) the mouse listener functions to their custom ones (ie “mouseListener” -&gt; “_mouseListener”) which then called the normal ones (ie “mouseListener”) by replacing all invocations of normal ones with its regular one. As to why it looks for the class implementing the ‘Mouse’ interface, it’s because this is the standard way to write a bytecode bot. Basically, one injects an interface and implements the methods defined by that interface, and can then cast the loaded class via reflection to that interface and perform calls to those functions.</p>
<p>Just some pseudocode to get you an idea of how it works:</p>
<pre><code class="lang-auto">class ClientMouseImplementation implements MouseListener, MouseMotionLister..... { //different listeners here
    //....
}[/code] after the updater is ran, it looks something like:
[code]class ClientMouseImplementation implements MouseListener, MouseMotionListener, Mouse.... {

    public int getMouseX() {
        //return last clicked mouse X coordinate
    }

    public int getMouseY() {
        //return last clicked Y coordinate
    }

    public int getMouseMovedX() {
        //return last moved mouse X coordinate
    }

    public int getMouseMovedY() {
        //return last moved mouse Y coordiante
    }
}[/code]Assuming the 'Mouse' interface is as follows:
[code]public interface Mouse {
    public int getMouseX();
    public int getMouseY();
    public int getMouseMovedX();
    public int getMouseMovedY();
}[/code]That interface should just be within your bot's classpath, it doesn't necessarily have to be injected in the client (it's better that it's not as it affects class count and such).

So basically, once you have that, you have a few static functions in your 'Client' interface (that will be injected into 'client') since 'client' is never renamed and is thus easily identified and upon loading it in your bot, you cast to that interface, call the static function (like "getMouse") and retrieve an instance of the 'Mouse'. As so:
[code]    Class&lt;?&gt; client = &lt;your_custom_classloader&gt;.loadClass("client");
    Client castedClient = (Client) client;
    Mouse mouse = (Mouse) castedClient.getMouse();
    /* You are now free to call whatever function defined in your 'mouse' interface */</code></pre>
<p>edit: Didn’t see this above post:</p>
<p>[quote=“Justin186, post:8, topic:344672”]I’ve done Java for quite awhile. I was just unsure on the Bcel method “setConstant(ConstantUtf8, ConstantUtf8)”[/quote]I suggest you learn the basics of the class file internals and get a more in-depth view on bytecode before proceeding with this bot of yours. Basically, each method-invocation instruction (INVOKEVIRTUAL, INVOKESTATIC, INVOKESPECIAL, INVOKEINTERFACE) takes a word (two bytes) as an argument, used as in index into the constant pool. This index points to a ‘method_ref’ constant, which then contains an index into the constant pool corresponding to its ‘name_and_type’ constant. This constant holds 2 indices pointing to two different ‘utf8’ constants, one pointing to the name of the method/field and another pointing to the signature.</p>
<p>In a more visual aspect, it would be like this:</p>
<pre><code class="lang-auto">INVOKE(VIRTUAL/STATIC/SPECIAL/INTERFACE) -&gt; method_ref -&gt; name_and_type -&gt; two utf8 constants (name and signature)</code></pre>
<p>Knowing this, you can now see exactly what the function is doing when replacing the ‘utf8’ constants. It’s replacing the ‘name utf8’ pointed to by the ‘name_and_type’ pointed by an index in the ‘method_ref’ constant pointed by the argument of either of the invoke instructions. The application doesn’t exactly verify it’s pointed to by all these constants, but since the constant pool only stores one of each constant, it’s known that if there’s a reference to the mouse listener functions, there will be a corresponding ‘utf8’ constant in the constant pool for the name of this function.</p>
<p>This may be a bit confusing at first, but once you get the hang of it, it comes naturally. I do suggest you read proper documentation on this, however.</p>
<p><a href="http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html" class="onebox" target="_blank" rel="nofollow noopener">http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html</a><br>
<a href="http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecIX.fm.html" class="onebox" target="_blank" rel="nofollow noopener">http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecIX.fm.html</a></p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Justin186.html'><span itemprop='name'>Justin186</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T15:07:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:42Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Wow thanks <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>And to actually get the instance of the mouse you HAVE to use reflection? or is there a possible way with bcel?</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/chri5.html'><span itemprop='name'>chri5</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T15:22:06Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:42Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="10" data-topic="344672">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/justin186/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> Justin186:</div>
<blockquote>
<p>And to actually get the instance of the mouse you HAVE to use reflection? or is there a possible way with bcel?</p>
</blockquote>
</aside>
<p>[quote=“abraham2119, post:9, topic:344672”]So basically, once you have that, you have a few static functions in your ‘Client’ interface (that will be injected into ‘client’) since ‘client’ is never renamed and is thus easily identified and upon loading it in your bot, you cast to that interface, call the static function (like “getMouse”) and retrieve an instance of the ‘Mouse’. As so:</p>
<p><code>    Class&lt;?&gt; client = &lt;your_custom_classloader&gt;.loadClass("client");
    Client castedClient = (Client) client;
    Mouse mouse = (Mouse) castedClient.getMouse();
    /* You are now free to call whatever function defined in your 'mouse' interface */
</code>[/quote]</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-18T15:28:49Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:10:43Z' class='post-time'>
              July 31, 2016,  5:10pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Justin186, post:10, topic:344672”]Wow thanks <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>And to actually get the instance of the mouse you HAVE to use reflection? or is there a possible way with bcel?[/quote]I don’t think you understand the difference between both. Reflection is a standard Java library used to interact with a running instance of the JVM and with all loaded classes, while BCEL is a bytecode modification library used to modify the content of a class file <span class="bbcode-i">before</span> it’s ran. Therefore, yes. The only way to get a <span class="bbcode-i">running</span> instance of the mouse class is via reflection; you load the client through the classloader, call the static ‘getMouse’ function (located in whichever class you want – preferably an easily identifiable one) and cast to the ‘Mouse’ interface.</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-19T04:21:46Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:11:24Z' class='post-time'>
              July 31, 2016,  5:11pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Justin186, post:8, topic:344672”]Mopar where is this “test applet” in that RAR file? I can’t seem to find it.<br>
I’m new to this “scene”[/quote]</p>
<p>Sorry for not being more clear, you want to check out the latest source from SVN and not download the zip/rar file.</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Justin186.html'><span itemprop='name'>Justin186</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-06-19T14:22:01Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:11:52Z' class='post-time'>
              July 31, 2016,  5:11pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thankyou guys <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>You’s have been so patient with me and not raged/flamed at all (which I did expect, But I’m happy it didn’t happen)</p>
      </div>

      <meta itemprop='headline' content='&quot;Silent Mouse&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/silent-mouse/344672 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 04:35:24 GMT -->
</html>
