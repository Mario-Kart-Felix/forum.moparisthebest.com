<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/server-status-checker-opinions/434907 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Server Status Checker Opinions - Community Inside Talk - moparisthebest.com</title>
    <meta name="description" content="I just finished re-writing the server status checker in a much better fashion, but still can&amp;#39;t come up with a good solution to a problem that I&amp;#39;ve always had, so I&amp;#39;m hoping one of you have good ideas. 

As you know, peop&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="434907.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Server Status Checker Opinions&#39;" href="434907.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/server-status-checker-opinions/434907" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/server-status-checker-opinions/434907" />
<meta property="og:title" content="Server Status Checker Opinions" />
<meta name="twitter:title" content="Server Status Checker Opinions" />
<meta property="og:description" content="I just finished re-writing the server status checker in a much better fashion, but still can’t come up with a good solution to a problem that I’ve always had, so I’m hoping one of you have good ideas.  As you know, people can put a hostname for their server address, each time I check the servers I resolve the hostname to an IP and save that as well.  This allows me to stop new people from registering IP addresses that other servers already point to, which works fine.  Here are some simplified ex..." />
<meta name="twitter:description" content="I just finished re-writing the server status checker in a much better fashion, but still can’t come up with a good solution to a problem that I’ve always had, so I’m hoping one of you have good ideas.  As you know, people can put a hostname for their server address, each time I check the servers I resolve the hostname to an IP and save that as well.  This allows me to stop new people from registering IP addresses that other servers already point to, which works fine.  Here are some simplified ex..." />
<meta property="article:published_time" content="2012-03-02T21:37:33+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="434907.html">Server Status Checker Opinions</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/community-inside-talk.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Community Inside Talk</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-02T21:37:33Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:17:50Z' class='post-time'>
              August 2, 2016,  4:17pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I just finished re-writing the server status checker in a much better fashion, but still can’t come up with a good solution to a problem that I’ve always had, so I’m hoping one of you have good ideas.</p>
<p>As you know, people can put a hostname for their server address, each time I check the servers I resolve the hostname to an IP and save that as well.  This allows me to stop new people from registering IP addresses that other servers already point to, which works fine.  Here are some simplified examples:</p>
<p>[table]<br>
[tr]<br>
[td]id[/td][td]hostname[/td][td]resolvedIP[/td]<br>
[/tr]<br>
[tr]<br>
[td]1[/td][td]<a href="http://bob.com/">bob.com</a>[/td][td]5.5.5.5[/td]<br>
[/tr]<br>
[tr]<br>
[td]2[/td][td]<a href="http://tom.com/">tom.com</a>[/td][td]6.6.6.6[/td]<br>
[/tr]<br>
[/table]</p>
<p>Which of course is fine, and if someone tries to register ‘<a href="http://alan.com/">alan.com</a>’ which resolves to ‘5.5.5.5’ I see that is already registered to <a href="http://bob.com/">bob.com</a> so I don’t allow it.</p>
<p>The problem happens when I am checking if the currently registered servers are online, if domains are re-pointed they may look like this:</p>
<p>[table]<br>
[tr]<br>
[td]id[/td][td]hostname[/td][td]resolvedIP[/td]<br>
[/tr]<br>
[tr]<br>
[td]1[/td][td]<a href="http://bob.com/">bob.com</a>[/td][td]5.5.5.5[/td]<br>
[/tr]<br>
[tr]<br>
[td]2[/td][td]<a href="http://tom.com/">tom.com</a>[/td][td]5.5.5.5[/td]<br>
[/tr]<br>
[/table]</p>
<p>Now the naive approach is to say since <a href="http://bob.com/">bob.com</a> was registered first, give it preference and say <a href="http://tom.com/">tom.com</a> is offline even though it isn’t.  That is the fair thing to do in this case, but then you come across a change like this instead:</p>
<p>[table]<br>
[tr]<br>
[td]id[/td][td]hostname[/td][td]resolvedIP[/td]<br>
[/tr]<br>
[tr]<br>
[td]1[/td][td]<a href="http://bob.com/">bob.com</a>[/td][td]6.6.6.6[/td]<br>
[/tr]<br>
[tr]<br>
[td]2[/td][td]<a href="http://tom.com/">tom.com</a>[/td][td]6.6.6.6[/td]<br>
[/tr]<br>
[/table]</p>
<p>Now <a href="http://bob.com/">bob.com</a> gets to use <a href="http://tom.com/">tom.com</a>’s uptime, while kicking them ‘offline’, so that isn’t fair.</p>
<p>I used to delete all servers that resolved to the same IP, which is fair if it’s one guy posting them all, but isn’t for competing servers posting a dual advertisement for an enemy and getting their server deleted.</p>
<p>So, can anyone come up with a GOOD or even a DECENT solution to this problem?  If I don’t get a good discussion going on here, I may move this topic to the public, just a fair warning. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-02T21:40:18Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:17:51Z' class='post-time'>
              August 2, 2016,  4:17pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Don’t let people change IP’s to one that has already been taken (resolved or not)?</p>
<p>If someone registers an IP, and it’s online, they have verified that they own the server there (unless they register someone elses IP before they can, which is unlikely)</p>
<p>Thus switching to one that has already been taken is not plausible in a legitimate case that I can think of</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-02T21:47:21Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:17:51Z' class='post-time'>
              August 2, 2016,  4:17pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don’t have control over the changing, the hostname they have registered (like ‘<a href="http://bob.com/">bob.com</a>’) doesn’t change, and has already been verified as being owned by the poster, but they can point it to whatever IP (like ‘5.5.5.5’) they like whenever they like.  Hence the problem.</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-02T21:48:58Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:17:51Z' class='post-time'>
              August 2, 2016,  4:17pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I know but you can check if it changes whenever you check uptime. If it changes, ‘disable’ their advertisement (deleting would get annoying) and give them a message when they go to server control panel, maybe have it send them an email to their moparscape account email and a private message, etc. Then just check it again whenever the normal online checks are done, and if it’s back to an unregistered IP re-enable the advert</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-02T21:57:03Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:17:52Z' class='post-time'>
              August 2, 2016,  4:17pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So disable it every single time the IP changes?  What about dynamic IPs?</p>
<p>Or are you saying only disable it every time it is changed to an already-registered IP?</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-02T21:58:28Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:17:53Z' class='post-time'>
              August 2, 2016,  4:17pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yea I meant if it’s changed to an already registered one <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>[quote=“Davidi2, post:4, topic:434907”]if it’s back to an unregistered IP re-enable the advert[/quote]Forgot to put that at the start too</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-02T22:03:29Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:17:53Z' class='post-time'>
              August 2, 2016,  4:17pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What if they own that IP though?  So I should give them the opportunity to verify it?  And if they do verify they own it, what should be done with the other server squatting on their IP?</p>
<p>Finally, what if, say, <a href="http://bob.com/">bob.com</a> and <a href="http://tom.com/">tom.com</a> have different IPs, and during one run, they both change their IP to the same IP.  Which one gets priority?  Or just give them both the chance to verify and disable the other?  What if they both verify that they own the IP?  (like a shared box, or a developer and owner both posting the same server?)</p>
<p>This is hurting my head…</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-02T22:44:09Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:17:58Z' class='post-time'>
              August 2, 2016,  4:17pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Moparisthebest, post:7, topic:434907”]What if they own that IP though?  So I should give them the opportunity to verify it?  And if they do verify they own it, what should be done with the other server squatting on their IP?</p>
<p>Finally, what if, say, <a href="http://bob.com/">bob.com</a> and <a href="http://tom.com/">tom.com</a> have different IPs, and during one run, they both change their IP to the same IP.  Which one gets priority?  Or just give them both the chance to verify and disable the other?  What if they both verify that they own the IP?  (like a shared box, or a developer and owner both posting the same server?)</p>
<p>This is hurting my head…[/quote]Don’t you already have methods to prevent that? Like it needs to be posted from the IP you put in? You could have it so that whenever the IP changes they need to do that again (disabling it in the meantime) until they verify that they own that IP. In the case of two co-owners posting the same IP, just go first come first serve. Whoever can verify first gets it, and the other gets disabled. We don’t wanna get mixed up in any of that stuff, right? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-02T22:58:33Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:17:59Z' class='post-time'>
              August 2, 2016,  4:17pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Davidi2, post:8, topic:434907”][quote author=Moparisthebest link=topic=537627.msg3931554#msg3931554 date=1330725809]<br>
What if they own that IP though?  So I should give them the opportunity to verify it?  And if they do verify they own it, what should be done with the other server squatting on their IP?</p>
<p>Finally, what if, say, <a href="http://bob.com/">bob.com</a> and <a href="http://tom.com/">tom.com</a> have different IPs, and during one run, they both change their IP to the same IP.  Which one gets priority?  Or just give them both the chance to verify and disable the other?  What if they both verify that they own the IP?  (like a shared box, or a developer and owner both posting the same server?)</p>
<p>This is hurting my head…<br>
[/quote]Don’t you already have methods to prevent that? Like it needs to be posted from the IP you put in? You could have it so that whenever the IP changes they need to do that again (disabling it in the meantime) until they verify that they own that IP. In the case of two co-owners posting the same IP, just go first come first serve. Whoever can verify first gets it, and the other gets disabled. We don’t wanna get mixed up in any of that stuff, right? :)[/quote]<br>
Yes, I verify that the user that posted the server owns the IP that the hostname resolves to by connecting to my server from it.  But of course that goes out the window afterwards because they can point their hostnames to whatever IP they like.  So two different servers pointing to different IPs could both change to point at the same IP in one run, and I don’t know how to handle that one, suggestions?</p>
<aside class="quote quote-modified" data-post="9" data-topic="434907">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/rln/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> RLN:</div>
<blockquote>
<p>Force people to register if they don’t have to already, make them verify that the ip is theirs, maybe by getting them to ping your server from theirs or something. Only allow one user to claim that ip as their own.</p>
</blockquote>
</aside>
<p>They do have to register and verify they own the IP already, but when the hostname points to a different IP later I’m not sure how to handle it.  That’s the reason for this thread.</p>
<p>edit:<br>
For example, it just happened in the last update:</p>
<p>key: ‘new-ip’ value: ‘id,hostname,old-ip;’<br>
key: ‘89.1.232.123’ value: ‘28141,justsopro.no-ip.info,70.247.172.11;25026,<a href="http://runeinsanity.no-ip.org/">runeinsanity.no-ip.org</a>,38.114.126.77’</p>
<p>Both of those hostnames point at this new IP, and it wasn’t the old IP of either one of them, how should this situation be handled?</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-02T23:23:43Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:18:01Z' class='post-time'>
              August 2, 2016,  4:18pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>as far as shared boxes goes, perhaps check for port similarity?</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-03T00:35:35Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:18:12Z' class='post-time'>
              August 2, 2016,  4:18pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Do it so that it gives priority to the server with the hostname that resolved to the given IP address first. Every time you resolve a hostname, store it in a table:</p>
<pre><code class="lang-auto">CREATE TABLE hostname_resolution_log (
  server_id INT NOT NULL,
  resolved_ip VARCHAR(255) NOT NULL,
  port INT NOT NULL,
  resolution_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  blacklisted BOOL NOT NULL DEFAULT FALSE
  PRIMARY KEY(server_id, resolved_ip, port, resolution_time)
);</code></pre>
<p>Insert like so:</p>
<pre><code class="lang-auto">INSERT INTO hostname_resolution_log (server_id, resolved_ip, port) VALUES (147, '127.0.0.1', 43594);</code></pre>
<p>To obtain the first server that resolved to a given ip, query like so:</p>
<pre><code class="lang-auto">SELECT server_id, resolved_ip, MIN(resolution_time) AS earliest_time
FROM hostname_resolution_log
WHERE blacklisted = FALSE AND resolved_ip = '127.0.0.1' AND port = 43594;</code></pre>
<p>NOTE: This SQL doesn’t mention foreign keys, but the server_id field is supposed to be a foreign key that references the table that you store server data in. Also, if you only wish to support IPv4 then you can make use of an integer to store the IP address instead of a VARCHAR.</p>
<p>Hope that helps.</p>
<p>EDIT: Added port field, so that the issue with two servers sharing an IP address won’t be a problem.<br>
EDIT2: Added blacklisting of rows - now you can simply blacklist all log entries for a server that needs to be removed/banned, which ensures that you won’t reach a situation where an IP address/port becomes unusable due to unremoved log entries.</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-03T03:16:55Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:18:19Z' class='post-time'>
              August 2, 2016,  4:18pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don’t want to let two servers use the same IP, even with different ports.  It’s just not practical.</p>
<p><a class="mention" href="../../u/lothy.html">@Lothy</a>, but in my last example, in a single run (so at the same time) two hostnames resolved to the same IP.  So how to resolve that?</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-03T04:09:35Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:18:22Z' class='post-time'>
              August 2, 2016,  4:18pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>My approach works as long as a legitimate server exists before malicious users attempt to leech off its uptime. Whether it was created a year before, or just seconds before, a second server using the same IP address is irrelevant.</p>
<p>In my mind, this was the scenario that I came up with that solution for:</p>
<ol>
<li>Legitimate user registers server with hostname X which resolves to IP address Y. The IP address is resolved for the first time at the time of creation.</li>
<li>Illegitimate user, at any later stage, registers a server with hostname Z which resolves to IP address Y. The IP address is resolved for the first time at the time of creation.</li>
<li>Using the MIN function, you can obtain the earliest log entry for a given IP address that isn’t marked as blacklisted.</li>
</ol>
<p>When your program runs, it makes a new insertion into this table for each server when it resolves the hostname, so you will always have that trail of IP address resolutions.</p>
<p>What I should have mentioned is that this approach works perfectly if you use it from the beginning. I suspect it will be tricky to implement now though if you don’t already have some form of auditing built into the system that will allow you to identify which servers first made use of which IP addresses.</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-03T04:18:42Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:18:23Z' class='post-time'>
              August 2, 2016,  4:18pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So then once a server uses one IP address it is blacklisted from being used again forever?</p>
<p>In your example, if Y is no longer used by X (or any other server), then Z should be able to use it, right?</p>
<p>As to what I am trying (but failing miserably) to explain, I’ll try your way.</p>
<ol>
<li>Server registers with hostname X which resolves to address Y.</li>
<li>Server registers with hostname N which resolves to address Q.</li>
<li>Now all of the sudden, both hostname X and N both resolve to previously unused address Z.  What do I do here?</li>
</ol>
<p>Here is actual output from the server checking program that includes some real-life examples:</p>
<pre><code class="lang-auto">1.
resolvedIP:         '89.1.232.123'
		id:         '28141'
		newServer:  'false'
		hostName:   'justsopro.no-ip.info'
		online:     'true'
		previousIP: '70.247.172.11'

		id:         '25026'
		newServer:  'false'
		hostName:   'runeinsanity.no-ip.org'
		online:     'true'
		previousIP: '38.114.126.77'

------------------------------------------
2.
resolvedIP:         '220.255.4.29'
		id:         '28783'
		newServer:  'false'
		hostName:   'battleroyale.gamespeakz.com'
		online:     'true'
		previousIP: '24.86.123.242'

		id:         '19937'
		newServer:  'false'
		hostName:   '220.255.4.29'
		online:     'true'
		previousIP: '220.255.4.29'

------------------------------------------
3.
resolvedIP:         '184.154.20.204'
		id:         '21666'
		newServer:  'false'
		hostName:   'genericx.no-ip.org'
		online:     'true'
		previousIP: '64.229.171.174'

		id:         '30234'
		newServer:  'false'
		hostName:   '184.154.20.204'
		online:     'true'
		previousIP: '184.154.20.204'

		id:         '28644'
		newServer:  'false'
		hostName:   'lethium.no-ip.org'
		online:     'true'
		previousIP: '173.32.113.9'

------------------------------------------
4.
resolvedIP:         '178.18.246.109'
		id:         '31782'
		newServer:  'false'
		hostName:   'bizaarpk.no-ip.org'
		online:     'true'
		previousIP: '93.186.168.220'

		id:         '37252'
		newServer:  'true'
		hostName:   'xbrutalpkz.zapto.org'
		online:     'true'
		previousIP: '178.18.246.109'</code></pre>
<p>Now, in cases 2 and 3 it’s obvious who should ‘win’, the servers that use the actual IP and not the hostnames, because someone verified they owned that IP and it can never change.  What should be done in this case though?  Delete the other two servers?  Disable them? or what?</p>
<p>Case 4 would be decided in favor of the second server because it previously resolved to that IP before the other server.  The issue in this particular case is that the supposed ‘malicious’ server has already been posted, while the ‘new’ server is the one that looks legitimate.  Ideas?</p>
<p>Case 1 is the tricky one I described above, what is the fair way to resolve this case?</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-03T05:34:01Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:18:25Z' class='post-time'>
              August 2, 2016,  4:18pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It sounds like your approach to cases 2 and 3 (which is to disable the imposters) is a fine solution. Someone has the IP address claimed, that’s the end of it.</p>
<p>My solution above should solve case 4 - if the second server resolved to the IP before the other server then it is logged as having resolved to that IP at an earlier time, and would be identified using that select query above.<br>
The catch is that if someone knows which IP address a person will use and makes a page before them then we can’t detect that. Of course, we should be able to reasonably suspect that users can keep their mouths shut to avoid this problem. It’s not our job to deal with their in-fighting.</p>
<p>I can’t see a solution for case 1 if that output is from one execution of the server checking program.</p>
<p>As for blacklisting, you only blacklist the log entries based on the server id that those entries are for. That’s why the blacklisting occurs in the logging table that I’ve described, and not elsewhere.</p>
<p>For example, this query would blacklist all entries in the resolution log table for the server that you ban. If a new server was registered with the same IP address then those new log entries would not be blacklisted, and so they would be obtained by the select query given above.</p>
<pre><code class="lang-auto">UPDATE hostname_resolution_log
SET blacklisted = TRUE
WHERE server_id = 147</code></pre>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fat_Cookies.html'><span itemprop='name'>Fat_Cookies</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-03T12:13:47Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:18:32Z' class='post-time'>
              August 2, 2016,  4:18pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How often does this kind of problem happen? If it’s not incredibly prevalent, I wouldn’t see the harm in making the status page generate a list of “conflicting” servers every 24 hours or so, and then you (or the staff) could contact the server owners querying as to why the conflict is happening.</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-04T04:09:48Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:19:36Z' class='post-time'>
              August 2, 2016,  4:19pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It actually happens a lot more than you would think really.</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/deathschaos9.html'><span itemprop='name'>deathschaos9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-03-05T00:17:01Z'>
            <time itemprop='dateModified' datetime='2016-08-02T16:20:52Z' class='post-time'>
              August 2, 2016,  4:20pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I go through the first few pages of the status page every once in awhile and I usually end up deleting at least 5 servers that have been posted more than once.</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-27T02:26:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:54:15Z' class='post-time'>
              August 4, 2016,  1:54am
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I went ahead and released this server checking code, and ended up not doing anything about this ‘conflict resolution’ as of yet.  The code is on github if anyone is interested in seeing how they would do it.</p>
      </div>

      <meta itemprop='headline' content='Server Status Checker Opinions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/server-status-checker-opinions/434907 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:06 GMT -->
</html>
