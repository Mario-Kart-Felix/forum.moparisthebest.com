<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Networking</title>
    <link>https://forum.moparisthebest.com/t/networking/441787</link>
    <description>Hello, I would like to get a brief explanation on how the networking in an RSPS works. I would like to have the following questions answered,


[ol][li]What parts of Java do I need to learn to complete this task?[/li]
[li]What is required to get the server to work?[/li]
[li]What is the most efficient way of creating the networking?[/li][/ol]

I don&#39;t need the answer to be biased by any one server, just a general idea of what I need to do.</description>
    
    <lastBuildDate>Sun, 13 May 2012 21:00:22 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/networking/441787.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@slavemaster veer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/slavemaster">@slavemaster</a> wrote:</p>
          <blockquote>
              <p>[quote="_s, post:31, topic:441787"][quote author=veer link=topic=544470.msg3993040#msg3993040 date=1336860495]</p>
<p>[quote author=_s link=topic=544470.msg3991800#msg3991800 date=1336687502]akka exposes a software-transactional memory API in case you need to mutate shared state since atomic state mutations are much nicer behaviour for actors to work with than lock-based concurrency control.<br>
[/quote]</p>
<p>Perhaps I misunderstood, but STM and atomic state mutation is not compatible with the actor model as one espouses safe concurrent access to shared, global state without traditional pessimistic variable-grained locking, whereas the other is based around a system being composed of individual entities only communicating via limited message passing and maintaining private protected state. These two approaches are diametric in their stance on state.</p>
<p>While not purely either approach, I think what you’re discussing is the transactor model (<a href="http://www.cs.rpi.edu/research/pdf/04-15.pdf" rel="nofollow noopener">http://www.cs.rpi.edu/research/pdf/04-15.pdf</a>), which attempts to merge the two into a coherent blend. AFAIK, Akka enables one to take this route, though it is distinguished from plain actor and STM approaches.<br>
[/quote]i’m going off Akka says at the moment, and it does describe a usage of STM as “When you want to share a datastructure across actors.” (<a href="http://doc.akka.io/docs/akka/2.0.1/java/stm.html" rel="nofollow noopener">http://doc.akka.io/docs/akka/2.0.1/java/stm.html</a>) which is mixing up the two approaches, i haven’t looked into much more than the documentation though so i won’t say any more.[/quote]</p>
<p>Shared global state is at odds with a pure actor model, hence at the bottom you see a link to work on those transactors I mentioned earlier (along with an implementation of agents):<br>
<a href="http://doc.akka.io/docs/akka/2.0.1/java/transactors.html#transactors-java" class="onebox" target="_blank" rel="nofollow noopener">http://doc.akka.io/docs/akka/2.0.1/java/transactors.html#transactors-java</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/32">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/32</link>
        <pubDate>Sun, 13 May 2012 21:00:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-32</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@_s11 s1gma]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_s11">@_s11</a> wrote:</p>
          <blockquote>
              <p>[quote=“veer, post:30, topic:441787”][quote author=_s link=topic=544470.msg3991800#msg3991800 date=1336687502]akka exposes a software-transactional memory API in case you need to mutate shared state since atomic state mutations are much nicer behaviour for actors to work with than lock-based concurrency control.<br>
[/quote]</p>
<p>Perhaps I misunderstood, but STM and atomic state mutation is not compatible with the actor model as one espouses safe concurrent access to shared, global state without traditional pessimistic variable-grained locking, whereas the other is based around a system being composed of individual entities only communicating via limited message passing and maintaining private protected state. These two approaches are diametric in their stance on state.</p>
<p>While not purely either approach, I think what you’re discussing is the transactor model (<a href="http://www.cs.rpi.edu/research/pdf/04-15.pdf" rel="nofollow noopener">http://www.cs.rpi.edu/research/pdf/04-15.pdf</a>), which attempts to merge the two into a coherent blend. AFAIK, Akka enables one to take this route, though it is distinguished from plain actor and STM approaches.[/quote]i’m going off Akka says at the moment, and it does describe a usage of STM as “When you want to share a datastructure across actors.” (<a href="http://doc.akka.io/docs/akka/2.0.1/java/stm.html" rel="nofollow noopener">http://doc.akka.io/docs/akka/2.0.1/java/stm.html</a>) which is mixing up the two approaches, i haven’t looked into much more than the documentation though so i won’t say any more.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/31">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/31</link>
        <pubDate>Sat, 12 May 2012 23:31:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-31</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@slavemaster veer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/slavemaster">@slavemaster</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="16" data-topic="441787">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/sinisoul/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sinisoul:</div>
<blockquote>
<p>There’s nothing wrong with using IO properly. Both have obvious trade offs. It’s not very efficient to use NIO unless you’re expecting a large amount of connections in a short period of time because of the overhead from the reactor pattern.</p>
</blockquote>
</aside>
<p>There are absolutely no advantages to using <a href="http://java.io" rel="nofollow noopener">java.io</a> over java.nio, blocking or non-blocking. It possesses the ability do both much better than the pre-1.4 solutions can.<br>
Presuming you’re arguing between blocking and non-blocking I/O, take a look at the <a href="http://www.kegel.com/c10k.html" data-bbcode="true" rel="nofollow noopener">C10k problem</a>.<br>
The trade-off you’re arguing about is almost entirely between 1:1 and N:1 client-thread mapping.</p>
<p>Using a 1:1 mapping (known traditionally as a <span class="bbcode-i">threaded</span> approach), you have simple &amp; linear code flow with blocking I/O and take advantage of the vast benefits that multicore and multiprocessors provide in terms of parallel processing. Unfortunately, you lack scalability – once you hit a peak number of threads, performance rapidly degrades because you’ve already hit CPU saturation and concurrency. Expensive preemptive context switches between heavyweight client threads (as well as other threads OS-wide) end up dominating CPU time. The large sizes of thread stack sizes ends up swallowing more and more memory until you incur harsh penalties of virtual memory swapping.</p>
<p>On the flip-side, a N:1 (i.e. <span class="bbcode-i">evented</span> approach) scales very well and takes on an increasing load via non-blocking I/O without such a rapid degradation of performance. Using only one thread, it will never grow to dominate CPU time by expensive context switches in the way thread-per-client servers do, and thus they don’t consume memory via sheer number of thread stacks either. The N:1 approach falls short however in terms of taking advantage of parallelism – due to their single-threaded nature, they underutilize the processing power virtually universal in modern servers and thus never reach CPU saturation. In addition, non-blocking and asynchronous I/O call for a departure from simple linear code flow; instead, complicated solutions of state machine loops and tangled callbacks become the norm.</p>
<p>Of these two, the N:1 single-thread event-driven approach is much better. Non-blocking scalability becomes a major factor with likely far fewer clients than you let on, so I don’t understand the perpetuation of this myth that 1:1 works for most approaches until a “large” number of clients. Don’t believe me? To quote blakeman8192…</p>
<blockquote>It is widely known and accepted that as soon as your software uses more threads than CPU cores available, you will see degradation.
<p>I own a licensed software company and am doing very well because of it. Don’t tell me what the “real world” is, because I work in it buddy. Updating the positions and activities 2,000 players for 2,000 players twice a second is quite a large task in the first place, and when your CPU is busy juggling the context switches of 2,000 simply for I/O threads it’s not going to get much done very fast. The goal of networking is to do as little work as possible - to be as lightweight as possible, not to be as fast as possible. You want to dedicate all CPU power and memory to the application logic instead of just networking.</p>
<p>You probably don’t know this because you haven’t been here for very long, but Graham took the original winterlove server (which operates on thread-per-client) and made it use MINA. To give you some context, the vanilla winterlove server cannot handle more than a couple hundred players before reaching maximum load on the average machine today. I benchmarked the server after Graham’s change, and it handled 2,000 players just fine without being at maximum load. Now you’re telling me that threads don’t have much overhead, and 10,000 threads is reasonable?</p>
<p>Yes, the original Java I/O has better slightly better bandwidth throughput than NIO. Throughput, however, does not matter in the slightest. Scalability is key, and I/O scales much, much worse than NIO. Traditional I/O with thread-per-client design is not by any means a practical solution to efficient MMO servers.</p>
<p>Why don’t you research the C10K problem, and how it was solved:<br>
C10k problem - Wikipedia, the free encyclopedia</p>
<p>Don’t you see the trend that literally all of the solutions to this problem make use of asynchronous I/O?</p>
<p>Go do some research, and testing for yourself. Learn something instead of reading articles that idiots have written. Come back when you’re done and make constructive contributions instead of challenging time-tested and well-known software solutions.</p>
</blockquote>
<p>A superior tripartist solution I explored is an N:M hybrid between the above two, which remains event-driven but also utilizes a thread-pool with a level of parallelism equal to the available logical processors ± 1. This reaches full CPU utilization without performance degradation and retains high scalability. To remedy the issue of complex event-driven code, a solution via continuable fibers brings the simplicity of blocking code while still ultimately event-driven. Lightweight context switches become cheap as preemption is abandoned in favor of cooperative multitasking. I’ve posted about it here and on rune-server quite a bit, so look for my threads. This is better than the evented solution and consequentially <span class="bbcode-i">much</span> better than the threaded one.</p>
<blockquote>Stop helping the rising fad that if you add netty to a server you gain 1600 players because your networking is so 1337. Its complete bullshit.</blockquote>
<p>While it’s not merely that simple, plugging in a scalable non-blocking I/O solution can easily allow your server to be capable of servicing many times more clients as blakeman8192 demonstrated. True, it’s not the only key to the puzzle as the rest of your server must be made scalable as well; it must be acknowledged, though, that poor networking design is the first and foremost limiting barrier to being able to reach that many players in the first place. :rolleyes:</p>
<p>[quote=“sinisoul, post:23, topic:441787”]<span class="mention">@s1gma</span></p>
<p>After talking to Ed, I came to the conclusion if I was to ever use the actor model in a project then I would try and use it sparingly. You could expect if you rewrite pieces of the state machine with the linear based actor processing then you would see major performance boosts.[/quote]</p>
<p>I’m afraid you might not understand how actors work… they’re much more like event-driven state machines than they are linear simple code, seeing as they operate on message-passing between discrete individual actors in order to protect state. Like _s mentioned, actors are generally a natural outgrowth of objects in an OO-oriented setting, if you consider method calls as message passing as it is in namely Smalltalk and Objective-C. The actor model isn’t what you think it is and cannot be easily meshed with event-driven state machines.</p>
<aside class="quote" data-post="24" data-topic="441787">
<div class="title">
<div class="quote-controls"></div>
 _s:</div>
<blockquote>
<p>akka exposes a software-transactional memory API in case you need to mutate shared state since atomic state mutations are much nicer behaviour for actors to work with than lock-based concurrency control.</p>
</blockquote>
</aside>
<p>Perhaps I misunderstood, but STM and atomic state mutation is not compatible with the actor model as one espouses safe concurrent access to shared, global state without traditional pessimistic variable-grained locking, whereas the other is based around a system being composed of individual entities only communicating via limited message passing and maintaining private protected state. These two approaches are diametric in their stance on state.</p>
<p>While not purely either approach, I think what you’re discussing is the transactor model (<a href="http://www.cs.rpi.edu/research/pdf/04-15.pdf" rel="nofollow noopener">http://www.cs.rpi.edu/research/pdf/04-15.pdf</a>), which attempts to merge the two into a coherent blend. AFAIK, Akka enables one to take this route, though it is distinguished from plain actor and STM approaches.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/30">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/30</link>
        <pubDate>Sat, 12 May 2012 22:08:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-30</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>[quote=“imsuperman05, post:28, topic:441787”][quote author=t4 link=topic=544470.msg3991833#msg3991833 date=1336690485]</p>
<aside class="quote">
<blockquote>
<p>But I meant reading the data sent from the client on the server…</p>
</blockquote>
</aside>
<p><a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#getInputStream()" class="onebox" target="_blank" rel="nofollow noopener">http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#getInputStream()</a><br>
???<br>
[/quote]<br>
Yeah, I use that as part of my buffer, but how would I read any packets that are coming?  I already tried read() in the world tick, but it just gives other data…[/quote]<br>
the data in the buffer will contain opcode followed by data corresponding the the opcode… (or data in certain transactions like login)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/29">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/29</link>
        <pubDate>Thu, 10 May 2012 23:26:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-29</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>[quote=“t4, post:27, topic:441787”][quote author=imsuperman05 link=topic=544470.msg3991826#msg3991826 date=1336689727]<br>
But I meant reading the data sent from the client on the server…<br>
[/quote]<br>
<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#getInputStream()" class="onebox" target="_blank" rel="nofollow noopener">http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#getInputStream()</a><br>
???[/quote]<br>
Yeah, I use that as part of my buffer, but how would I read any packets that are coming?  I already tried read() in the world tick, but it just gives other data…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/28">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/28</link>
        <pubDate>Thu, 10 May 2012 23:03:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-28</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="26" data-topic="441787">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/imsuperman05/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> imsuperman05:</div>
<blockquote>
<p>But I meant reading the data sent from the client on the server…</p>
</blockquote>
</aside>
<p><a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#getInputStream()" class="onebox" target="_blank" rel="nofollow noopener">http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#getInputStream()</a><br>
???</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/27">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/27</link>
        <pubDate>Thu, 10 May 2012 22:54:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-27</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>But I meant reading the data sent from the client on the server…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/26">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/26</link>
        <pubDate>Thu, 10 May 2012 22:42:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-26</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>[quote=“sinisoul, post:23, topic:441787”][quote author=t4 link=topic=544470.msg3991696#msg3991696 date=1336678007]</p>
<aside class="quote">
<blockquote>
<p>but with standard/blocking IO, how would you read the incoming packets?</p>
</blockquote>
</aside>
<p>grab the incoming stream and place read packets into an array. that’s the way to do it and that’s how winterlove does it.<br>
[/quote]</p>
<p>Or since the maximum amount of bytes coming from a 317 client will never exceed 5k bytes, buffer it all and then handle it appropriately in accordance with the protocols the server supports .You can’t expect the packet structure in different protocols to be compliant with one another.</p>
<pre><code class="lang-auto">
    /**
     * The size of the input buffer for all clients.
     */
    public static final int INPUTBUFFER_SIZE = 5000;

    /**
     * The clients input byte buffer.
     */
    byte[] inputbuffer;

    /**
     * The write offset in the input byte buffer.
     */
    int inputWriteOffset;

    /**
     * The read offset in the input byte buffer.
     */
    int inputReadOffset;</code></pre>
<p>…</p>
<pre><code class="lang-auto">int available = client.inputstream.available();
int availInput = client.inputReadOffset &gt; client.inputWriteOffset ?
                      client.inputReadOffset - client.inputWriteOffset :
                     (Client.INPUTBUFFER_SIZE - client.inputWriteOffset) + client.inputReadOffset;
if(available &gt; availInput)
  throw new IOException("Expected inputbuffer overflow");
client.inputstream.read(buffer, 0, available);
if(available + client.inputWriteOffset &gt; Client.INPUTBUFFER_SIZE) {                              
  System.arraycopy(buffer, 0, client.inputbuffer, client.inputWriteOffset, Client.INPUTBUFFER_SIZE - client.inputWriteOffset);
  System.arraycopy(buffer, Client.INPUTBUFFER_SIZE - client.inputWriteOffset, client.inputbuffer, 0, available - Client.INPUTBUFFER_SIZE - client.inputWriteOffset);
} else {
  System.arraycopy(buffer, 0, client.inputbuffer, client.inputWriteOffset, available);
}
client.inputWriteOffset = (client.inputWriteOffset + available) % Client.INPUTBUFFER_SIZE;</code></pre>
<p><span class="mention">@s1gma</span></p>
<p>After talking to Ed, I came to the conclusion if I was to ever use the actor model in a project then I would try and use it sparingly. You could expect if you rewrite pieces of the state machine with the linear based actor processing then you would see major performance boosts.[/quote]<br>
wtf do you think grabbing the data stream and putting it in an array DOES?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/25">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/25</link>
        <pubDate>Thu, 10 May 2012 22:37:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-25</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@_s11 s1gma]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_s11">@_s11</a> wrote:</p>
          <blockquote>
              <p>[quote=“sinisoul, post:23, topic:441787”][quote author=t4 link=topic=544470.msg3991696#msg3991696 date=1336678007]</p>
<aside class="quote">
<blockquote>
<p>but with standard/blocking IO, how would you read the incoming packets?</p>
</blockquote>
</aside>
<p>grab the incoming stream and place read packets into an array. that’s the way to do it and that’s how winterlove does it.<br>
[/quote]</p>
<p>Or since the maximum amount of bytes coming from a 317 client will never exceed 5k bytes, buffer it all and then handle it appropriately in accordance with the protocols the server supports .You can’t expect the packet structure in different protocols to be compliant with one another.</p>
<pre><code class="lang-auto">
    /**
     * The size of the input buffer for all clients.
     */
    public static final int INPUTBUFFER_SIZE = 5000;

    /**
     * The clients input byte buffer.
     */
    byte[] inputbuffer;

    /**
     * The write offset in the input byte buffer.
     */
    int inputWriteOffset;

    /**
     * The read offset in the input byte buffer.
     */
    int inputReadOffset;</code></pre>
<p>…</p>
<pre><code class="lang-auto">int available = client.inputstream.available();
int availInput = client.inputReadOffset &gt; client.inputWriteOffset ?
                      client.inputReadOffset - client.inputWriteOffset :
                     (Client.INPUTBUFFER_SIZE - client.inputWriteOffset) + client.inputReadOffset;
if(available &gt; availInput)
  throw new IOException("Expected inputbuffer overflow");
client.inputstream.read(buffer, 0, available);
if(available + client.inputWriteOffset &gt; Client.INPUTBUFFER_SIZE) {                              
  System.arraycopy(buffer, 0, client.inputbuffer, client.inputWriteOffset, Client.INPUTBUFFER_SIZE - client.inputWriteOffset);
  System.arraycopy(buffer, Client.INPUTBUFFER_SIZE - client.inputWriteOffset, client.inputbuffer, 0, available - Client.INPUTBUFFER_SIZE - client.inputWriteOffset);
} else {
  System.arraycopy(buffer, 0, client.inputbuffer, client.inputWriteOffset, available);
}
client.inputWriteOffset = (client.inputWriteOffset + available) % Client.INPUTBUFFER_SIZE;</code></pre>
<p><span class="mention">@s1gma</span></p>
<p>After talking to Ed, I came to the conclusion if I was to ever use the actor model in a project then I would try and use it sparingly. You could expect if you rewrite pieces of the state machine with the linear based actor processing then you would see major performance boosts.[/quote]wtf when would state transformations ever cause performance bottlenecks, there’d be a tiny improvement with linear processing due to the instantaneous nature of continuing upon read whereas the reactor will have to cycle but that is such a negligible thing to benchmark that you’d be retarded to even care (note: if Selector is implemented well with NT’s IOCP or the epoll API with Linux you really won’t see a difference although i’m unsure what it does).</p>
<p>also i think you don’t understand the first single thing about actors if you intend to use them ‘sparingly’ considering they’re effectively an extension to the object-oriented way where objects are thrown into their own process and communicate through asynchronous message passing (message passing is how OOP should be done btw look at Smalltalk), you should go by the rule of thumb that objects are to be replaced for the most part in your server with actors (the point of actors is to encapsulate state fully so shared state is something to avoid). akka exposes a software-transactional memory API in case you need to mutate shared state since atomic state mutations are much nicer behaviour for actors to work with than lock-based concurrency control.</p>
<p>ps i have a funny feeling you rly don’t know wtf you’re on about, if so stfu</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/24</link>
        <pubDate>Thu, 10 May 2012 22:05:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-24</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>[quote=“t4, post:21, topic:441787”][quote author=imsuperman05 link=topic=544470.msg3991641#msg3991641 date=1336672663]<br>
but with standard/blocking IO, how would you read the incoming packets?<br>
[/quote]<br>
grab the incoming stream and place read packets into an array. that’s the way to do it and that’s how winterlove does it.[/quote]</p>
<p>Or since the maximum amount of bytes coming from a 317 client will never exceed 5k bytes, buffer it all and then handle it appropriately in accordance with the protocols the server supports .You can’t expect the packet structure in different protocols to be compliant with one another.</p>
<pre><code class="lang-auto">
    /**
     * The size of the input buffer for all clients.
     */
    public static final int INPUTBUFFER_SIZE = 5000;

    /**
     * The clients input byte buffer.
     */
    byte[] inputbuffer;

    /**
     * The write offset in the input byte buffer.
     */
    int inputWriteOffset;

    /**
     * The read offset in the input byte buffer.
     */
    int inputReadOffset;</code></pre>
<p>…</p>
<pre><code class="lang-auto">int available = client.inputstream.available();
int availInput = client.inputReadOffset &gt; client.inputWriteOffset ?
                      client.inputReadOffset - client.inputWriteOffset :
                     (Client.INPUTBUFFER_SIZE - client.inputWriteOffset) + client.inputReadOffset;
if(available &gt; availInput)
  throw new IOException("Expected inputbuffer overflow");
client.inputstream.read(buffer, 0, available);
if(available + client.inputWriteOffset &gt; Client.INPUTBUFFER_SIZE) {                              
  System.arraycopy(buffer, 0, client.inputbuffer, client.inputWriteOffset, Client.INPUTBUFFER_SIZE - client.inputWriteOffset);
  System.arraycopy(buffer, Client.INPUTBUFFER_SIZE - client.inputWriteOffset, client.inputbuffer, 0, available - Client.INPUTBUFFER_SIZE - client.inputWriteOffset);
} else {
  System.arraycopy(buffer, 0, client.inputbuffer, client.inputWriteOffset, available);
}
client.inputWriteOffset = (client.inputWriteOffset + available) % Client.INPUTBUFFER_SIZE;</code></pre>
<p><span class="mention">@s1gma</span></p>
<p>After talking to Ed, I came to the conclusion if I was to ever use the actor model in a project then I would try and use it sparingly. You could expect if you rewrite pieces of the state machine with the linear based actor processing then you would see major performance boosts.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/23">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/23</link>
        <pubDate>Thu, 10 May 2012 20:44:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-23</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@_s11 s1gma]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_s11">@_s11</a> wrote:</p>
          <blockquote>
              <p>[quote=“Davidi2, post:20, topic:441787”]if it’s based on needs, certainly there must be rules that should dictate which one you use based on your needs?</p>
<p>it’s like saying you need food, but there are no rules as to what constitutes edible food vs non-edible food because some people eat paper or whatever…</p>
<p>point being, what would you constitute as criteria to base your decision on, for each type?[/quote]of course there are ‘rules’, patterns require certain criteria to be met before they should be applied ie. the factory pattern should be used to encapsulate object creation complexities/eyesores. these predicates for application can be wildly varied though, since concurrency+networking can be defined in many different yet powerful ways and it can be a very personal thing so laying concrete rules here will probably reflect far too much on my own opinions and preferences. i personally always opt for the natural, expressive and scalable options, which is why i like the idea of actors for an rs emulator because the game world is expressed so well with the paradigm and they have the added bonus of good libraries and languages built upon top. meanwhile, i would probably be less keen on using actors for something like a RESTful data-retrieval API because it’s such a simple request-response concept that i would personally probably opt for a reactor, purely because there’s nothing more to maintain other than waiting for a read event (which will be a request), parsing the request and reacting with data retrieved from a database. there’s no shared state in this sort of thing anyway, so any advantage that actors provide in avoiding state sharing is voided through the lack of need.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/22">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/22</link>
        <pubDate>Thu, 10 May 2012 20:38:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-22</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="18" data-topic="441787">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/imsuperman05/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> imsuperman05:</div>
<blockquote>
<p>but with standard/blocking IO, how would you read the incoming packets?</p>
</blockquote>
</aside>
<p>grab the incoming stream and place read packets into an array. that’s the way to do it and that’s how winterlove does it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/21</link>
        <pubDate>Thu, 10 May 2012 19:26:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-21</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>if it’s based on needs, certainly there must be rules that should dictate which one you use based on your needs?</p>
<p>it’s like saying you need food, but there are no rules as to what constitutes edible food vs non-edible food because some people eat paper or whatever…</p>
<p>point being, what would you constitute as criteria to base your decision on, for each type?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/20</link>
        <pubDate>Thu, 10 May 2012 19:00:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-20</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@_s11 s1gma]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_s11">@_s11</a> wrote:</p>
          <blockquote>
              <p>it’s not really a quirk of winterlove’s server so much as it’s a trait of general thread-per-client (or actors) + blocking io that code is generally easier to follow. also, Davidi, you probably didn’t see far beyond my point if you only assume that tpc+blocking modeling serves as a way to deconvolute the abstract complexities of demultiplexing and the various things that come with it (which is still indeed a good thing according to KISS) since it also serves as a general good basis for natural modeling of a server’s processes to a degree, albeit it’s still a little bit off. that’s why i like actors more, you stretch the actors to the point where every actor represents a game entity and the simple interactions between entities are easily modeled as messages between processes.</p>
<p>ps you’re both being far too assumptive that blocking and non-blocking io should be used dependent upon frequency of session establishment and longevity. the whole pattern part of their descriptions should cause you both to consider that patterns are to be used when beneficial, and i’ve seen far too many cases where architectures have employed one or the other in complete contradiction to your generalised outlooks to believe that generalisation is effectively pointless because it’s so dependent upon other variables. i’m sure there is more than one file-sharing site that a utilises a reactor-based httpd like nginx and deals with shitloads of uploading. ik Davidi regarded that exceptions exist, but the amount of exceptions really does invalidate the rule. again, it’s down to individual needs.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/19</link>
        <pubDate>Thu, 10 May 2012 18:14:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-19</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>but with standard/blocking IO, how would you read the incoming packets?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/18</link>
        <pubDate>Thu, 10 May 2012 17:57:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-18</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>[quote=“sinisoul, post:16, topic:441787”][quote author=Davidi2 link=topic=544470.msg3991122#msg3991122 date=1336599687]<br>
no… just no</p>
<p>Don’t start with standard blocking IO if you plan on switching to NIO, because they are not at all similar and it will end up much more confusing to you if you’re used to just using arrays and creating a new thread per client connection and not having to register with a specific channel object. Or you’d forget about some of the cooler parts of NIO and waste the functionality. The number of times you see people look at NIO, see the similarities to standard IO, and then develop a worthless server just using the different objects (like socketchannel.socket, or bytebuffer.array) in replacement to standard IO ideas is pretty sad.</p>
<p>Similar concepts with netty or mina. You need to develop with them the way they were intended, or you lose any advantage to having an external library in the first place, and you may as well have just the standard raw NIO that comes with Java (which is what I do, I find it simpler).</p>
<p>A raw NIO server is extremely simple to get it functional, and a backbone can be developed in about 30 minutes in just a few hundred lines, depending on your update design.</p>
<p>Take a look at this package that I wrote about 9 months ago (not the best example, but still you can get the gist of it, ignore the player buffers class it’s a placeholder):<br>
<a href="http://code.google.com/p/unnamed-rpg/source/browse/trunk/RPG/src/server/net/" class="onebox" target="_blank">http://code.google.com/p/unnamed-rpg/source/browse/trunk/RPG/src/server/net/</a></p>
<p>You could easily adapt this package to the RS protocol with a login and update method… then expand fronthere</p>
<p>ps - t4’s only real skills are with google keywords<br>
[/quote]</p>
<p>I couldn’t tell what you were arguing. There’s nothing wrong with using IO properly. Both have obvious trade offs. It’s not very efficient to use NIO unless you’re expecting a large amount of connections in a short period of time because of the overhead from the reactor pattern. Faggot. Stop helping the rising fad that if you add netty to a server you gain 1600 players because your networking is so 1337. Its complete bullshit.[/quote]pretty sure i specifically said i prefer raw NIO over netty <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> not sure how hard it is to understand:</p>
<blockquote>Similar concepts with netty or mina. You need to develop with them the way they were intended, or you lose any advantage to having an external library in the first place, and you may as well have just the standard raw NIO that comes with Java (which is what I do, I find it simpler).</blockquote>'the way they were intended', meaning as large production servers with proper implementation. Can't tell if you read my post or not or were just being a jerk
<p>And no, ‘large amounts of connections over short periods of time’ is not the main benefit of NIO. At all. Implying such makes me assume you only read the first sentence or so of a wikipedia article and left it at that. Standard/Blocking IO (pls dont just call it IO as that is extremely ambiguous) has its pros and cons of course, but the most common implementation with RSPS’s (thread per client, henceforth abbr. TPC) has never been done correctly here, in a way that can be physically represented as just as good when you try to reach the ‘2000 player’ benchmark. Which really, every server should be ideally designed for. WinterLove, as s1gma pointed out to me on IRC, has a very elegant approach to blockingIO TPC that makes it extremely simple to understand the protocol and such without the use of state machines, but besides that there is nothing that stands out. It’s pretty common knowledge that standard IO is for low client number, high bandwidth intensive servers (like a file upload server for example maybe?), and non blocking IO is for high client number, lower bandwith intensive servers, like small packet senders. Of course there are exceptions, but that’s really just what the designs imply.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/17</link>
        <pubDate>Wed, 09 May 2012 23:57:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-17</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>[quote=“Davidi2, post:6, topic:441787”]no… just no</p>
<p>Don’t start with standard blocking IO if you plan on switching to NIO, because they are not at all similar and it will end up much more confusing to you if you’re used to just using arrays and creating a new thread per client connection and not having to register with a specific channel object. Or you’d forget about some of the cooler parts of NIO and waste the functionality. The number of times you see people look at NIO, see the similarities to standard IO, and then develop a worthless server just using the different objects (like socketchannel.socket, or bytebuffer.array) in replacement to standard IO ideas is pretty sad.</p>
<p>Similar concepts with netty or mina. You need to develop with them the way they were intended, or you lose any advantage to having an external library in the first place, and you may as well have just the standard raw NIO that comes with Java (which is what I do, I find it simpler).</p>
<p>A raw NIO server is extremely simple to get it functional, and a backbone can be developed in about 30 minutes in just a few hundred lines, depending on your update design.</p>
<p>Take a look at this package that I wrote about 9 months ago (not the best example, but still you can get the gist of it, ignore the player buffers class it’s a placeholder):<br>
<a href="http://code.google.com/p/unnamed-rpg/source/browse/trunk/RPG/src/server/net/" class="onebox" target="_blank" rel="nofollow noopener">http://code.google.com/p/unnamed-rpg/source/browse/trunk/RPG/src/server/net/</a></p>
<p>You could easily adapt this package to the RS protocol with a login and update method… then expand fronthere</p>
<p>ps - t4’s only real skills are with google keywords[/quote]</p>
<p>I couldn’t tell what you were arguing. There’s nothing wrong with using IO properly. Both have obvious trade offs. It’s not very efficient to use NIO unless you’re expecting a large amount of connections in a short period of time because of the overhead from the reactor pattern. Faggot. Stop helping the rising fad that if you add netty to a server you gain 1600 players because your networking is so 1337. Its complete bullshit.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/16</link>
        <pubDate>Wed, 09 May 2012 23:29:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-16</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@_s11 s1gma]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_s11">@_s11</a> wrote:</p>
          <blockquote>
              <p>btw working with blocking and non-blocking io will probably help you understand the advantages and shortcomings of both.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/15</link>
        <pubDate>Wed, 09 May 2012 22:28:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-15</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p><span class="mention">@t4</span>, you are correct on that one, I am wanting to learn general networking in RSPS manly… Doing so would teach me how to do it out side of RSPS as well though…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/14</link>
        <pubDate>Wed, 09 May 2012 22:08:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-14</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>use actors and s1gma will love u 4ever</p>
<ol start="2">
<li>
<p>the client sends bits of data and reads bits of data before fully connecting to assure a proper login.</p>
</li>
<li>
<p>kind of a bad question… there are many factors that can influence this, and depends on what you really want: speed, stability, etc…</p>
</li>
</ol>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/13</link>
        <pubDate>Wed, 09 May 2012 22:04:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-13</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>[quote=“Davidi2, post:10, topic:441787”][quote author=t4 link=topic=544470.msg3991128#msg3991128 date=1336600135]</p>
<aside class="quote">
<blockquote>
<p>no… just no</p>
<p>Don’t start with standard blocking IO if you plan on switching to NIO, because they are not at all similar and it will end up much more confusing to you if you’re used to just using arrays and creating a new thread per client connection and not having to register with a specific channel object. Or you’d forget about some of the cooler parts of NIO and waste the functionality. The number of times you see people look at NIO, see the similarities to standard IO, and then develop a worthless server just using the different objects (like socketchannel.socket, or bytebuffer.array) in replacement to standard IO ideas is pretty sad.</p>
<p>Similar concepts with netty or mina. You need to develop with them the way they were intended, or you lose any advantage to having an external library in the first place, and you may as well have just the standard raw NIO that comes with Java (which is what I do, I find it simpler).</p>
<p>A raw NIO server is extremely simple to get it functional, and a backbone can be developed in about 30 minutes in just a few hundred lines, depending on your update design.</p>
<p>Take a look at this package that I wrote about 9 months ago (not the best example, but still you can get the gist of it, ignore the player buffers class it’s a placeholder):<br>
<a href="http://code.google.com/p/unnamed-rpg/source/browse/trunk/RPG/src/server/net/" rel="nofollow noopener">http://code.google.com/p/unnamed-rpg/source/browse/trunk/RPG/src/server/net/</a></p>
<p>You could easily adapt this package to the RS protocol with a login and update method… then expand fronthere</p>
<p>ps - t4’s only real skills are with google keywords</p>
</blockquote>
</aside>
<p>can you please tell me what is wrong with blocking IO, especially on a small start up project to get one familiar with the rs2 protocol? why you think i suggest replacing objects to accomplish NIO? google keywords - what, do you think i’m as fucking stupid as you?<br>
[/quote]he said he wanted help networking, not learning the protocol, in which case yes, using standard IO is completely pointless when there is a better alternative to learn. if you want to learn the protocol you dont even need to do your own networking, just take a plain server base like what i showed and expand on it with the RS2 protocol. Especially because you wouldnt change the protocol based on your networking preference rofl</p>
<p>ps - i was teasing you with my other ps nub[/quote]<br>
since his post is heavily influence by RSPS, it’s only natural to assume he means being familiar with general networking AND the rs2 protocol.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/12</link>
        <pubDate>Wed, 09 May 2012 22:02:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-12</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>The main reason I want to learn networking, is because I would like to attempt to implement the networking of my own into the PI I am working on… The other reason is because I  just want to learn the stuff… I think I am going to use NIO, seeing as most people I have talked to have said it is better… Anyone have any good links in specific that could help me?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/11</link>
        <pubDate>Wed, 09 May 2012 21:59:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-11</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>[quote=“t4, post:7, topic:441787”][quote author=Davidi2 link=topic=544470.msg3991122#msg3991122 date=1336599687]<br>
no… just no</p>
<p>Don’t start with standard blocking IO if you plan on switching to NIO, because they are not at all similar and it will end up much more confusing to you if you’re used to just using arrays and creating a new thread per client connection and not having to register with a specific channel object. Or you’d forget about some of the cooler parts of NIO and waste the functionality. The number of times you see people look at NIO, see the similarities to standard IO, and then develop a worthless server just using the different objects (like socketchannel.socket, or bytebuffer.array) in replacement to standard IO ideas is pretty sad.</p>
<p>Similar concepts with netty or mina. You need to develop with them the way they were intended, or you lose any advantage to having an external library in the first place, and you may as well have just the standard raw NIO that comes with Java (which is what I do, I find it simpler).</p>
<p>A raw NIO server is extremely simple to get it functional, and a backbone can be developed in about 30 minutes in just a few hundred lines, depending on your update design.</p>
<p>Take a look at this package that I wrote about 9 months ago (not the best example, but still you can get the gist of it, ignore the player buffers class it’s a placeholder):<br>
<a href="http://code.google.com/p/unnamed-rpg/source/browse/trunk/RPG/src/server/net/" class="onebox" target="_blank">http://code.google.com/p/unnamed-rpg/source/browse/trunk/RPG/src/server/net/</a></p>
<p>You could easily adapt this package to the RS protocol with a login and update method… then expand fronthere</p>
<p>ps - t4’s only real skills are with google keywords<br>
[/quote]<br>
can you please tell me what is wrong with blocking IO, especially on a small start up project to get one familiar with the rs2 protocol? why you think i suggest replacing objects to accomplish NIO? google keywords - what, do you think i’m as fucking stupid as you?[/quote]he said he wanted help networking, not learning the protocol, in which case yes, using standard IO is completely pointless when there is a better alternative to learn. if you want to learn the protocol you dont even need to do your own networking, just take a plain server base like what i showed and expand on it with the RS2 protocol. Especially because you wouldnt change the protocol based on your networking preference rofl</p>
<p>ps - i was teasing you with my other ps nub</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/10</link>
        <pubDate>Wed, 09 May 2012 21:55:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-10</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@_s11 s1gma]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_s11">@_s11</a> wrote:</p>
          <blockquote>
              <p>[quote=“tyb97, post:8, topic:441787”]What is the difference exactly between a standard blocking IO, and NIO?[/quote]one of them is highly avoided by idiots here because they have no clue how to use it effectively</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/9</link>
        <pubDate>Wed, 09 May 2012 21:50:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-9</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
      <item>
        <title>Networking</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>What is the difference exactly between a standard blocking IO, and NIO?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/networking/441787/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/networking/441787/8</link>
        <pubDate>Wed, 09 May 2012 21:49:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-441787-8</guid>
        <source url="https://forum.moparisthebest.com/t/networking/441787.rss">Networking</source>
      </item>
  </channel>
</rss>
