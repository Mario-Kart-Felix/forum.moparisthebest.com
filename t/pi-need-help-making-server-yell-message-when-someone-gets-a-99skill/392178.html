<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-need-help-making-server-yell-message-when-someone-gets-a-99skill/392178 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 03:54:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[pi] Need help making server yell message when someone gets a 99skill - Runescape - moparisthebest.com</title>
    <meta name="description" content="Basically i am trying to add a message that broadcasts to everyone (like yell) for when someone reaches level 99 of a skill. So for example when player A reaches 99 strength everyone sees the message Server: Player A has&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="392178.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[pi] Need help making server yell message when someone gets a 99skill&#39;" href="392178.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-need-help-making-server-yell-message-when-someone-gets-a-99skill/392178" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-need-help-making-server-yell-message-when-someone-gets-a-99skill/392178" />
<meta property="og:title" content="[pi] Need help making server yell message when someone gets a 99skill" />
<meta name="twitter:title" content="[pi] Need help making server yell message when someone gets a 99skill" />
<meta property="og:description" content="Basically i am trying to add a message that broadcasts to everyone (like yell) for when someone reaches level 99 of a skill. So for example when player A reaches 99 strength everyone sees the message Server: Player A has just received 99 strength. I tried to do this awhile ago but after not being able to get it working i had to move onto more important fixes.  Heres what i currently have (not currently in my server as i removed it due to its problems), however all it does is causes the server to..." />
<meta name="twitter:description" content="Basically i am trying to add a message that broadcasts to everyone (like yell) for when someone reaches level 99 of a skill. So for example when player A reaches 99 strength everyone sees the message Server: Player A has just received 99 strength. I tried to do this awhile ago but after not being able to get it working i had to move onto more important fixes.  Heres what i currently have (not currently in my server as i removed it due to its problems), however all it does is causes the server to..." />
<meta property="article:published_time" content="2011-04-23T07:09:15+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="392178.html">[pi] Need help making server yell message when someone gets a 99skill</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/avirunes.html'><span itemprop='name'>avirunes</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-04-23T07:09:15Z'>
            <time itemprop='dateModified' datetime='2016-08-01T11:23:38Z' class='post-time'>
              August 1, 2016, 11:23am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Basically i am trying to add a message that broadcasts to everyone (like yell) for when someone reaches level 99 of a skill. So for example when player A reaches 99 strength everyone sees the message Server: Player A has just received 99 strength. I tried to do this awhile ago but after not being able to get it working i had to move onto more important fixes.</p>
<p>Heres what i currently have (not currently in my server as i removed it due to its problems), however all it does is causes the server to mess up whenever people start leveling and doesnt display the message. Initially i had it written completely different however it would just say the skill number rather than name ie Server: A has just received 99 2 (instead of Server: A has just received 99 strength)</p>
<p>above public void refreshSkill(int i) {</p>
<p>[code] public String getSkillName(int skillId) {<br>
switch (skillId) {<br>
case 0:<br>
return “Attack”;<br>
case 1:<br>
return “Defence”;<br>
case 2:<br>
return “Strength”;<br>
case 3:<br>
return “Hitpoints”;<br>
case 4:<br>
return “Ranged”;<br>
case 5:<br>
return “Prayer”;<br>
case 6:<br>
return “Magic”;<br>
case 7:<br>
return “Cooking”;<br>
case 8:<br>
return “Woodcutting”;<br>
case 9:<br>
return “Fletching”;<br>
case 10:<br>
return “Fishing”;<br>
case 11:<br>
return “Firemaking”;<br>
case 12:<br>
return “Crafting”;<br>
case 13:<br>
return “Smithing”;<br>
case 14:<br>
return “Mining”;<br>
case 15:<br>
return “Herblore”;<br>
case 16:<br>
return “Agility”;<br>
case 17:<br>
return “Theiving”;<br>
case 18:<br>
return “Slayer”;<br>
case 19:<br>
return “Runecrafting”;</p>
<p>}<br>
return c.playerName;</p>
<p>}[/code]</p>
<p>i’m not sure why i have return c.playerName there, but i know i needed something for it to work otherwise compile errors.</p>
<p>and in my public void levelUp(int skill) { , it obviously continues with the rest of that void but im just showing what i added to each skill =p</p>
<p>[code]                    case 1:<br>
sendFrame126(“Congratulations, you just advanced a defence level!”, 6254);<br>
sendFrame126(“Congratulations, you just advanced a defence level!”, 6254);<br>
sendFrame126(“Your defence level is now “+getLevelForXP(c.playerXP[skill])+”.”, 6255);<br>
c.sendMessage(“Congratulations, you just advanced a defence level.”);</p>
<pre><code>                    sendFrame164(6253);
                                            sendFrame164(6247);
                    for (int j = 0; j &lt; Server.playerHandler.players.length; j++) {
Client c2 = (Client)Server.playerHandler.players[j];
c2.sendMessage(c.playerName + " has just reached 99 in " + getSkillName(skill) + "!");
</code></pre>
<p>}<br>
break;</p>
<pre><code>                    case 2:
        sendFrame126("Congratulations, you just advanced a strength level!", 6207);
        sendFrame126("Your strength level is now "+getLevelForXP(c.playerXP[skill])+".", 6208);
        c.sendMessage("Congratulations, you just advanced a strength level.");
            
                    sendFrame164(6206);
                    for (int j = 0; j &lt; Server.playerHandler.players.length; j++) {
Client c2 = (Client)Server.playerHandler.players[j];
c2.sendMessage(c.playerName + " has just reached 99 in " + getSkillName(skill) + "!");
    }
                    break;
                    
                    case 3:
        sendFrame126("Congratulations, you just advanced a hitpoints level!", 6217);
        sendFrame126("Your hitpoints level is now "+getLevelForXP(c.playerXP[skill])+".", 6218);
        c.sendMessage("Congratulations, you just advanced a hitpoints level.");
                    
                    sendFrame164(6216);
                    for (int j = 0; j &lt; Server.playerHandler.players.length; j++) {
Client c2 = (Client)Server.playerHandler.players[j];
c2.sendMessage(c.playerName + " has just reached 99 in " + getSkillName(skill) + "!");
    }
                    break;[/code]
</code></pre>
<p>thanks</p>
      </div>

      <meta itemprop='headline' content='[pi] Need help making server yell message when someone gets a 99skill'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/nadnerb_doow.html'><span itemprop='name'>nadnerb_doow</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-04-23T13:00:40Z'>
            <time itemprop='dateModified' datetime='2016-08-01T11:23:49Z' class='post-time'>
              August 1, 2016, 11:23am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>At the end of levelUp (outside the switch statement), add this:</p>
<p><code>
String[] skillNames = {"attack", "defence", "strength", "hitpoints", "ranged", "prayer", "magic", "cooking", "woodcutting", "fletching", "fishing", "firemaking", "crafting", "smithing", "mining", "herblore", "agility", "thieving", "slayer", "runecrafting"};
if(c.playerLevel[skill] == 99) {
	for(int i = 0; i &lt; Server.playerHandler.players.length; i++) {
		if(Server.playerHandler.players[i] != null) {
			Client c2 = (Client)Server.playerHandler.players[i];
			c2.sendMessage(c.playerName + " has just reached level 99 " + skillNames[skill] + "!");
		}
	}
}
    </code></p>
<p>Just quickly typed up then, so it may have a few misspelled variables or whatever. Getting the skill names from an array is much cleaner than writing a switch to retrieve them, and the only other differences are that it’s only sent when the player reaches level 99 in that skill, and the server checks if the message recipient is valid (i.e. not null) before sending the message.</p>
<p>Also this code assumes the player’s level has been updated to reflect the new level before the congratulations message is displayed. If that’s not the case, replace [font=courier new]if(c.playerLevel[skill] == 99)[/font] with [font=courier new]if(getLevelForXP(c.playerXP[skill]) == 99)[/font].</p>
      </div>

      <meta itemprop='headline' content='[pi] Need help making server yell message when someone gets a 99skill'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/avirunes.html'><span itemprop='name'>avirunes</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-04-24T10:13:10Z'>
            <time itemprop='dateModified' datetime='2016-08-01T11:25:12Z' class='post-time'>
              August 1, 2016, 11:25am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“nadnerb_doow, post:2, topic:392178”]At the end of levelUp (outside the switch statement), add this:</p>
<p><code>
String[] skillNames = {"attack", "defence", "strength", "hitpoints", "ranged", "prayer", "magic", "cooking", "woodcutting", "fletching", "fishing", "firemaking", "crafting", "smithing", "mining", "herblore", "agility", "thieving", "slayer", "runecrafting"};
if(c.playerLevel[skill] == 99) {
	for(int i = 0; i &lt; Server.playerHandler.players.length; i++) {
		if(Server.playerHandler.players[i] != null) {
			Client c2 = (Client)Server.playerHandler.players[i];
			c2.sendMessage(c.playerName + " has just reached level 99 " + skillNames[skill] + "!");
		}
	}
}
    </code></p>
<p>Just quickly typed up then, so it may have a few misspelled variables or whatever. Getting the skill names from an array is much cleaner than writing a switch to retrieve them, and the only other differences are that it’s only sent when the player reaches level 99 in that skill, and the server checks if the message recipient is valid (i.e. not null) before sending the message.</p>
<p>Also this code assumes the player’s level has been updated to reflect the new level before the congratulations message is displayed. If that’s not the case, replace [font=courier new]if(c.playerLevel[skill] == 99)[/font] with [font=courier new]if(getLevelForXP(c.playerXP[skill]) == 99)[/font].[/quote]</p>
<p>God bless you good sir!</p>
      </div>

      <meta itemprop='headline' content='[pi] Need help making server yell message when someone gets a 99skill'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-need-help-making-server-yell-message-when-someone-gets-a-99skill/392178 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 03:54:07 GMT -->
</html>
