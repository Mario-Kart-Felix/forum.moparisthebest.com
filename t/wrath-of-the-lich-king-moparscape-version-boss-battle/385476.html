<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/wrath-of-the-lich-king-moparscape-version-boss-battle/385476 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 06:02:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Wrath of the Lich King [moparscape version - boss battle] - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hello,  I&amp;#39;ve been working on multiple things lately... The main focus of which was to simplify the way we code moparscape :stuck_out_tongue: 

In technical terms: I&amp;#39;ve been working on a way that allows us to avoid having&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="385476.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Wrath of the Lich King [moparscape version - boss battle]&#39;" href="385476.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/wrath-of-the-lich-king-moparscape-version-boss-battle/385476" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/wrath-of-the-lich-king-moparscape-version-boss-battle/385476" />
<meta property="og:title" content="Wrath of the Lich King [moparscape version - boss battle]" />
<meta name="twitter:title" content="Wrath of the Lich King [moparscape version - boss battle]" />
<meta property="og:description" content="Hello,  I‚Äôve been working on multiple things lately‚Ä¶  The main focus of which was to simplify the way we code moparscape üòõ  In technical terms:  I‚Äôve been working on a way that allows us to avoid having to recompile server, just to change a specific ability that a dragon or something might have.  And the way I did that was by creating ‚ÄúnpcAbility(int ability);‚Äù  its a switch with multiple cases written in it (call it spell ID‚Äôs if you will).  Each can have anything in it‚Ä¶ rangin..." />
<meta name="twitter:description" content="Hello,  I‚Äôve been working on multiple things lately‚Ä¶  The main focus of which was to simplify the way we code moparscape üòõ  In technical terms:  I‚Äôve been working on a way that allows us to avoid having to recompile server, just to change a specific ability that a dragon or something might have.  And the way I did that was by creating ‚ÄúnpcAbility(int ability);‚Äù  its a switch with multiple cases written in it (call it spell ID‚Äôs if you will).  Each can have anything in it‚Ä¶ rangin..." />
<meta property="article:published_time" content="2011-03-08T23:33:39+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="385476.html">Wrath of the Lich King [moparscape version - boss battle]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/fuzzout.html'><span itemprop='name'>fuzzout</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-08T23:33:39Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:02:03Z' class='post-time'>
              August 1, 2016,  8:02am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello,<br>
I‚Äôve been working on multiple things lately‚Ä¶<br>
The main focus of which was to simplify the way we code moparscape <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>In technical terms:<br>
I‚Äôve been working on a way that allows us to avoid having to recompile server, just to change a specific ability that a dragon or something might have.<br>
And the way I did that was by creating ‚ÄúnpcAbility(int ability);‚Äù<br>
its a switch with multiple cases written in it (call it spell ID‚Äôs if you will).<br>
Each can have anything in it‚Ä¶ ranging from changing your heightLevel down to killing the NPC for you.<br>
of course that didn‚Äôt make anything simpler‚Ä¶ but here is the second tool required for the job:<br>
loadEncounter(int encounter);</p>
<p>now this works by loading a text file, named after the NPC that you attack (npcId).<br>
Let‚Äôs imagine this:<br>
I go ingame and attack a king black dragon‚Ä¶ when the attacknpc() executes, the server will go into the ‚Äúencounters folder‚Äù and check for a text file named ‚Äú50.txt‚Äù (kbd‚Äôs ID)‚Ä¶ if it finds it, it will apply the things written inside‚Ä¶<br>
in case you wondering ‚Äúthings?..‚Äù<br>
this is what a file typically would look like.</p>
<pre><code class="lang-auto">timer = 3500
text = CHAMPIONS ATTACK!
spell = 28
spell = 15
spell = 666</code></pre>
<p>in case you‚Äôre curious: 666 is a death spell‚Ä¶ kills you.<br>
the first 3 lines (up to; and including spell 28) are actually from my lich king encounter‚Ä¶<br>
<span class="bbcode-b"><br>
so: how does it work?</span><br>
Ok, this is what happens when you attack kbd (with the encounter mentioned above):</p>
<p><span class="bbcode-i">attacknpc();<br>
loadEncounter(50);<br>
<em>lots of ints are filled with spell id‚Äôs now, and theyre all checked by the process</em><br>
‚ÄúCHAMPIONS ATTACK!‚Äù - player<br>
npcAbility(28);<br>
Kbd casts defile on the player *during this moment, a spell slot is emptied, and a cooldown is raised (usually around 20-40, depending on what spell).<br>
cooldown reaches 0.<br>
<em>checks for any available spells - yes there is - spell 15</em><br>
Kbd casts vine lash <em>cooldown raised to 20</em><br>
cooldown reaches 0.<br>
<em>checks for a spell: 666 is there</em><br>
kbd kills you.<br>
</span></p>
<p>now the encounter and all the integers that go with it are very scattered across client.java (i like it that way!) because they have to do resets and stuff at different times‚Ä¶</p>
<p>so now to the topic:<br>
THE LICH KING</p>
<p>Here‚Äôs a link to a severely outdated video <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> (the ending is completely different now, in terms of visuals and timing, and that weird emote mis-timing lol)<br>
oh by the way - ALL OF THE encounter is run by an encounter file! so it was largely a test of the whole system, when the video was made.</p>
<p>note: You see what ‚Äútext = CHAMPIONS ATTACK‚Äù does, in the video <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<div class="lazyYT" data-youtube-id="bfa6i4pzvlU" data-youtube-title="Kingdom of Power - Lich King Encounter (moparscape)" data-width="480" data-height="270" data-parameters="feature=oembed&amp;wmode=opaque"></div>
<p>Since then, i have greatly updated the following:<br>
[i]defile - now expands when it hits a player</p>
<p>instead of sending a message ‚Äúvalky has been killed‚Äù it sends ‚Äúshade has been killed‚Äù</p>
<p>made defile/remorseless winter less packet munching (doesnt hit per process-tick anymore, now its on a timer)</p>
<p>re-designed defile and winter using <a href="http://pastebin.com/7EzvQes6" data-bbcode="true" rel="nofollow noopener">isWithin()</a> function.</p>
<p>fixed a bug where a party member could attack lich king during roleplay phase‚Ä¶</p>
<p>changed most of the emotes seen in the video to more suitable ones‚Ä¶</p>
<p>added a couple of direct attacks that lich king uses within NPCHandler (more damage output that way)[/i]</p>
<p>I‚Äôll make a more updated video, or just screenies and upload them <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
let me know if you like the idea <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/apocalypsePK.html'><span itemprop='name'>apocalypsePK</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-08T23:50:31Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:02:04Z' class='post-time'>
              August 1, 2016,  8:02am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>WoW this is really epic!  wow im just amazed rep + nice!!</p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/fuzzout.html'><span itemprop='name'>fuzzout</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-09T00:07:14Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:02:05Z' class='post-time'>
              August 1, 2016,  8:02am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"><br>
I would capture a new video‚Ä¶ but i keep dying x.x</p>
<p>really hard XDDD</p>
<p>[edit:] I tried capturing the video again‚Ä¶ but i keep dying!</p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Liquid_Magic.html'><span itemprop='name'>Liquid_Magic</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-09T03:49:55Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:02:21Z' class='post-time'>
              August 1, 2016,  8:02am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a href="http://www.youtube.com/watch?v=CSvFpBOe8eY" rel="nofollow noopener">http://www.youtube.com/watch?v=CSvFpBOe8eY</a> is  ftw?</p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Wintercanon.html'><span itemprop='name'>Wintercanon</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-09T07:37:33Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:02:27Z' class='post-time'>
              August 1, 2016,  8:02am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Loading variables from an external source isn‚Äôt new. Using a text file is a horribad way of doing it though. Use a database or XML file so it doesn‚Äôt have to process every single line in every single file. This method will allow small changes to the server without compiling.</p>
<p>If you want to be able to change actual content look into a scripting system. That way you can change content and gameplay without recompiling. Just rebuild the scripts after they have been modified, or if have the game interpret the script when needed.</p>
<p>Good job at trying something innovative, I hope you take my suggestions into account.</p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/fuzzout.html'><span itemprop='name'>fuzzout</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-09T08:46:33Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:02:28Z' class='post-time'>
              August 1, 2016,  8:02am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hmm‚Ä¶ XML file has never crossed my mind, but yes! you‚Äôre right!.. although that‚Äôd mean I‚Äôd have to re-code pretty much all of the system that I have so far <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>hmm‚Ä¶ well, in that case there‚Äôs only one problem ‚Ä¶ oh wait‚Ä¶ there isnt! <em>epiphany</em> I could just re-locate the read code to NPCHandler, and make it read the XML file for the specific npcId every time the NPC attacks <em>continuously looping through?.. I hope the system will load the XML into RAM first‚Ä¶</em>‚Ä¶<br>
so a scripting language like‚Ä¶ RuneScript‚Ä¶ but going like this:</p>
<p>DamageInflictPlayer(30); //these are all examples, ignore the numbers presented <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
DamageInflictNpc(30);<br>
HeightLevelChange(playerId * 4);<br>
playerGfx(gfx);<br>
npcGfx(gfx, id);<br>
npcSpeech(‚ÄúYou are not prepared!‚Äù, 3005);<br>
npcSpeechInstance(‚ÄúYou are not prepared!‚Äù, heightLevel); /<em>in the example, check for whether the player and the NPC have the same height, could use other things too, such as isWithin() or attackNpc.</em>/<br>
npcEmote(2890, 212);// emote, Id.<br>
npcEmoteInstance(2890, 212, heightLevel);<br>
playerSay(‚ÄúSay hello to my little friend!‚Äù);<br>
playerDamageWithin(30, 5, 444); //damage, range, gfx<br>
isWithin();<br>
npcDamageWithin(30, 5, 444);<br>
pausePlayerAttacks();<br>
pausePartyAttacks();<br>
partyCheck(); //I have a custom build party system, which allows 4 people to team up and kill a boss in a seperate instance, so nobody can interrupt them‚Ä¶ and anyone within the same party can attack, without being affected by non-multi areas.<br>
partyCreate(); //no idea what I could use this for‚Ä¶<br>
enrageTimer(500); //yeh‚Ä¶ 500 units later they all shall die! mwuhahaha<br>
areaChange(x, y, h);<br>
areaSpell(x, y, duration, damagePerTick, tickDelay, gfx); // this is my so called defile! <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"><br>
summonNpc(x, y, h);<br>
playerEmote(2890); //almost forgot about this one x.x<br>
encounterTimer(timer); //when timer reaches 0 in the client, it will re-load the entire encounter again.<br>
percentageCheck(npcId); // this allows me to control the battle without needing timers<br>
npcMove(x, y);<br>
playerMove(x, y);</p>
<p>These are just examples of the functions I could use in a script :P‚Ä¶ gonna go and try to make it today‚Ä¶</p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Wintercanon.html'><span itemprop='name'>Wintercanon</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-09T08:58:41Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:02:28Z' class='post-time'>
              August 1, 2016,  8:02am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Since your above example of a script isn‚Äôt multi-line you wouldn‚Äôt even ‚Äòneed‚Äô a end of line delimiter. Just have a buffered reader interpreter read each line. You could have a kind of line starts with reader, for example:</p>
<p>sendGraphic 1226<br>
telePlayer 1455 1455 0<br>
setPlayerSkill 2 99<br>
isWithin</p>
<p>But it would be more ideal to use a proper scripting engine for example: Python or Ruby. Probably jRuby since Jython isn‚Äôt being developed anymore, if I remember correctly.</p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/fuzzout.html'><span itemprop='name'>fuzzout</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-09T09:46:21Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:02:29Z' class='post-time'>
              August 1, 2016,  8:02am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>There‚Äôs the one thing though‚Ä¶ Your point in the first comment is only partially valid <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
reading the encounters from text files is efficient, the reason I say this is: that‚Äôs how the characters are loaded (and they‚Äôre much larger in terms of size, and complexity/checks)‚Ä¶<br>
plus, I wouldn‚Äôt want it to run through an entire file full of scripts just to find out that kbd‚Äôs encounter hasn‚Äôt been written yet.</p>
<p>and the thing is - they are only being read once‚Ä¶ if they were to be non-stop looped, I would then see the problem.</p>
<p>because I haven‚Äôt written an encounter for every NPC in the list, nor do I have the playerbase to put a strain on the hard drive (speaking of that, I use an SSD drive, loading things is not a problem :D)‚Ä¶</p>
<p>Not that I wont take your idea on board, I will try to develop it further, perhaps until it reaches a meaningful state within the server‚Ä¶ and perhaps then I could tell others how they can implement it.</p>
<p>Until then, I‚Äôll keep it simple. I‚Äôll use text files (they work for me so far, I don‚Äôt mind)</p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/riku9182.html'><span itemprop='name'>riku9182</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-10T06:50:27Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:03:30Z' class='post-time'>
              August 1, 2016,  8:03am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Very Nice! Rep++</p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/fuzzout.html'><span itemprop='name'>fuzzout</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-10T16:13:26Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:03:47Z' class='post-time'>
              August 1, 2016,  8:03am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hmm‚Ä¶ I re-coded the encounter loader‚Ä¶ (Well not the loader itself, but the variables containing the loaded data)‚Ä¶ Instead of using 30 different variables, I‚Äôve switched to a 2 dimensional array, which comes with many advantages (loop-able phases, npc health percentage checks instead of timers, and of course‚Ä¶ Less lines of code), much easier to expand if I need to and well, yeh‚Ä¶ Its good, with one downside:</p>
<p>I‚Äôve run into a problem <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> the old way of executing the spells (using cooldown/spellSlot system) had to be re-written, and currently I‚Äôm running into the following problem <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>It jumps straight to the last phase-last ability in the file‚Ä¶ And loooooooops XD</p>
<p>So‚Ä¶ Yeh‚Ä¶ Imma try to make a function that does additional checks to both the percentage, cooldowns and general order of spells‚Ä¶ And perhaps then ill create a tutorial to allow others to do that <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/AridTag.html'><span itemprop='name'>AridTag</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-10T17:27:19Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:03:52Z' class='post-time'>
              August 1, 2016,  8:03am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The way you explained this it sounds like you are loading this file every time you start attacking the NPC (or in a later post it sounds like every time the NPC attacks).</p>
<p>This is horrible. Imagine for a moment that you have 500 players attack 500 NPC‚Äôs.<br>
I think you see the problem here.</p>
<p>You should create a command or some other way to tell the server to reload data for the NPC you changed. So it only happens when you actually make a change.</p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/fuzzout.html'><span itemprop='name'>fuzzout</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-10T17:37:32Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:03:52Z' class='post-time'>
              August 1, 2016,  8:03am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>now there, you DO have a point!</p>
<p>Here‚Äôs the ace up my sleeve:<br>
I have the framework for a filechecker (happens when server boots up) it keeps the encounters in the memory, and scans the actual encounter folder (thus - removing the unneeded searching for non-existant files) - of course, if I add an encounter i can always ::rescan.</p>
<p>how does it do that? an array:<br>
encounter[npcId][phases][spells]</p>
<p><img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> how cool is that?! XD</p>
<p>[edit] HAH! I managed to solve my looping issue <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
and I also managed to solve an issue that came from that‚Ä¶ (where attacking a different npc during the encounter would utterly freeze the server :D)<br>
just had to make a check on the npcId (if the Id matches to the one that the encounter belongs to, then update the percentage (main npc‚Äôs health))</p>
      </div>

      <meta itemprop='headline' content='Wrath of the Lich King [moparscape version - boss battle]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/wrath-of-the-lich-king-moparscape-version-boss-battle/385476 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 06:02:15 GMT -->
</html>
