<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/matrix-global-item-spawns-ground-items/544781 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 23:40:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Matrix] Global Item Spawns (Ground Items) - Runescape - moparisthebest.com</title>
    <meta name="description" content="Not sure if this released, but I made this (except for the World class method). 

GlobalItems class [code=java] package com.rs.utils; 

import com.rs.game.World; import com.rs.game.WorldTile; import com.rs.game.item.Item&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="544781.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Matrix] Global Item Spawns (Ground Items)&#39;" href="544781.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/matrix-global-item-spawns-ground-items/544781" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/matrix-global-item-spawns-ground-items/544781" />
<meta property="og:title" content="[Matrix] Global Item Spawns (Ground Items)" />
<meta name="twitter:title" content="[Matrix] Global Item Spawns (Ground Items)" />
<meta property="og:description" content="Not sure if this released, but I made this (except for the World class method).  GlobalItems class  package com.rs.utils;  import com.rs.game.World; import com.rs.game.WorldTile; import com.rs.game.item.Item;  import java.io.*; import java.nio.ByteBuffer; import java.nio.channels.FileChannel;  /**  * Created by Arham 4 on 7/9/14.  */ public class GlobalItems {      public static final void init() {         if (!new File(&quot;data/items/packedItemSpawns&quot;).exists())             packItemSpawns();     }..." />
<meta name="twitter:description" content="Not sure if this released, but I made this (except for the World class method).  GlobalItems class  package com.rs.utils;  import com.rs.game.World; import com.rs.game.WorldTile; import com.rs.game.item.Item;  import java.io.*; import java.nio.ByteBuffer; import java.nio.channels.FileChannel;  /**  * Created by Arham 4 on 7/9/14.  */ public class GlobalItems {      public static final void init() {         if (!new File(&quot;data/items/packedItemSpawns&quot;).exists())             packItemSpawns();     }..." />
<meta property="article:published_time" content="2014-07-09T18:42:27+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="544781.html">[Matrix] Global Item Spawns (Ground Items)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/arham_4.html'><span itemprop='name'>arham_4</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-09T18:42:27Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:24:55Z' class='post-time'>
              August 4, 2016,  1:24pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Not sure if this released, but I made this (except for the World class method).</p>
<p>GlobalItems class</p>
<pre><code class="lang-auto">package com.rs.utils;

import com.rs.game.World;
import com.rs.game.WorldTile;
import com.rs.game.item.Item;

import java.io.*;
import java.nio.ByteBuffer;
import java.nio.channels.FileChannel;

/**
 * Created by Arham 4 on 7/9/14.
 */
public class GlobalItems {

    public static final void init() {
        if (!new File("data/items/packedItemSpawns").exists())
            packItemSpawns();
    }

    private static final void packItemSpawns() {
        Logger.log("GlobalItems", "Packing item spawns...");
        if (!new File("data/items/packedItemSpawns").mkdir())
            throw new RuntimeException("Couldn't create packedItemSpawns directory.");
        try {
            BufferedReader in = new BufferedReader(new FileReader("data/items/unpackedItemSpawns.txt"));
            while (true) {
                String line = in.readLine();
                if (line == null)
                    break;
                if (line.startsWith("//"))
                    continue;
                String[] splitedLine = line.split(" - ");
                if (splitedLine.length != 3)
                    throw new RuntimeException("Invalid Object Spawn line: " + line);
                String[] splitedLine2 = splitedLine[0].split(" ");
                String[] splitedLine3 = splitedLine[1].split(" ");
                if (splitedLine2.length != 2 &amp;&amp; splitedLine3.length != 3)
                    throw new RuntimeException("Invalid Object Spawn line: " + line);
                int itemId = Integer.parseInt(splitedLine2[0]);
                int itemAmount = Integer.parseInt(splitedLine2[1]);
                int tick = Integer.parseInt(splitedLine[2]);
                WorldTile tile = new WorldTile(Integer.parseInt(splitedLine3[0]), Integer.parseInt(splitedLine3[1]), Integer.parseInt(splitedLine3[2]));
                addItemSpawn(itemId, itemAmount, tile.getRegionId(), tile, tick);
            }
            in.close();
        } catch (Throwable e) {
            Logger.handle(e);
        }
    }

    public static final void loadItemSpawns(int regionId) {
        File file = new File("data/items/packedItemSpawns/" + regionId + ".os");
        if (!file.exists())
            return;
        try {
            RandomAccessFile in = new RandomAccessFile(file, "r");
            FileChannel channel = in.getChannel();
            ByteBuffer buffer = channel.map(FileChannel.MapMode.READ_ONLY, 0, channel.size());
            while (buffer.hasRemaining()) {
                int itemId = buffer.getShort() &amp; 0xffff;
                int itemAmount = buffer.getShort() &amp; 0xffff;
                int plane = buffer.get() &amp; 0xff;
                int x = buffer.getShort() &amp; 0xffff;
                int y = buffer.getShort() &amp; 0xffff;
                int tick = buffer.getShort() &amp; 0xffff;
                World.addGroundItem2(new Item(itemId, itemAmount), new WorldTile(x, y, plane), tick, true);
            }
            channel.close();
            in.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    private static final void addItemSpawn(int itemId, int itemAmount, int regionId, WorldTile tile, int tick) {
        try {
            DataOutputStream out = new DataOutputStream(new FileOutputStream("data/items/packedItemSpawns/" + regionId + ".os", true));
            out.writeShort(itemId);
            out.writeShort(itemAmount);
            out.writeByte(tile.getPlane());
            out.writeShort(tile.getX());
            out.writeShort(tile.getY());
            out.writeShort(tick);
            out.flush();
            out.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    private GlobalItems() {
    }

}</code></pre>
<p>WorldPacketsDecoder class</p>
<pre><code class="lang-auto">        } else if (packetId == DONE_LOADING_REGION_PACKET) {
            GlobalItems.loadItemSpawns(player.getRegionId());</code></pre>
<p>Compare or replace your ITEM_TAKE_PACKET with mine:</p>
<pre><code class="lang-auto">       else if (packetId == ITEM_TAKE_PACKET) {
            if (!player.hasStarted() || !player.clientHasLoadedMapRegion()
                    || player.isDead())
                return;
            long currentTime = Utils.currentTimeMillis();
            if (player.getLockDelay() &gt; currentTime)
                // || player.getFreezeDelay() &gt;= currentTime)
                return;
            int y = stream.readUnsignedShort();
            int x = stream.readUnsignedShortLE();
            final int id = stream.readUnsignedShort();
            boolean forceRun = stream.read128Byte() == 1;
            final WorldTile tile = new WorldTile(x, y, player.getPlane());
            final int regionId = tile.getRegionId();
            if (!player.getMapRegionsIds().contains(regionId))
                return;
            final FloorItem item = World.getRegion(regionId).getGroundItem(id,
                    tile, player);
            if (item == null)
                return;
            player.stopAll(false);
            if (forceRun)
                player.setRun(forceRun);
            player.setCoordsEvent(new CoordsEvent(tile, new Runnable() {
                @Override
                public void run() {
                    final FloorItem item = World.getRegion(regionId)
                            .getGroundItem(id, tile, player);
                    if (item == null)
                        return;
                    if (item.isSpawned()) {
                        WorldTasksManager.schedule(new WorldTask() {
                            @Override
                            public void run() {
                                GlobalItems.loadItemSpawns(item.getTile().getRegionId());
                                this.stop();
                            }
                        }, item.getTick());
                    }
                    player.setNextFaceWorldTile(tile);
                    player.addWalkSteps(tile.getX(), tile.getY(), 1);
                    World.removeGroundItem(player, item);
                }
            }, 1, 1));
        }</code></pre>
<p>World class</p>
<pre><code class="lang-auto">    public static final void addGroundItem2(final Item item, final WorldTile tile, final int tick, final boolean spawned) {
        FloorItem floorItem = World.getRegion(tile.getRegionId())
                .getGroundItem(item.getId(), tile, null);
        if (floorItem == null) {
            floorItem = new FloorItem(item, tile, null, false, false, tick, spawned);
            final Region region = getRegion(tile.getRegionId());
            region.forceGetFloorItems().add(floorItem);
            int regionId = tile.getRegionId();
            for (Player player : players) {
                if (player == null || !player.hasStarted() || player.hasFinished()
                        || player.getPlane() != tile.getPlane()
                        || !player.getMapRegionsIds().contains(regionId))
                    continue;
                player.getPackets().sendGroundItem(floorItem);
            }
        }
    }</code></pre>
<p>FloorItem class</p>
<pre><code class="lang-auto">package com.rs.game.item;

import com.rs.game.WorldTile;
import com.rs.game.player.Player;

@SuppressWarnings("serial")
public class FloorItem extends Item {

    private WorldTile tile;
    private Player owner;
    private boolean invisible;
    private boolean grave;
    private int tick;
    private boolean spawned;

    public FloorItem(int id) {
        super(id);
    }

    @Override
    public void setAmount(int amount) {
        this.amount = amount;
    }

    public FloorItem(Item item, WorldTile tile, Player owner,
                     boolean underGrave, boolean invisible) {
        super(item.getId(), item.getAmount());
        this.tile = tile;
        this.owner = owner;
        grave = underGrave;
        this.invisible = invisible;
    }

    public FloorItem(Item item, WorldTile tile, Player owner,
                     boolean underGrave, boolean invisible, int tick, boolean spawned) {
        super(item.getId(), item.getAmount());
        this.tile = tile;
        this.owner = owner;
        grave = underGrave;
        this.invisible = invisible;
        this.tick = tick;
        this.spawned = spawned;
    }

    public WorldTile getTile() {
        return tile;
    }

    public boolean isGrave() {
        return grave;
    }

    public boolean isInvisible() {
        return invisible;
    }

    public Player getOwner() {
        return owner;
    }

    public void setInvisible(boolean invisible) {
        this.invisible = invisible;
    }

    public boolean isSpawned() {
        return spawned;
    }

    public int getTick() {
        return tick;
    }
}</code></pre>
<p>Make a new txt file in data/items. Name it unpackedItemSpawns.txt. In it, add:</p>
<pre><code class="lang-auto">//itemID itemAmount - X Y PLANE - ticks</code></pre>
<p>[hr]</p>
<p>EDIT: If you guys want a command to add (this is like the ;;spawn command, it doesnt write it to the packed or unpacked files, it makes a spawn.txt that you can cut and paste into your unpacked files).</p>
<p>Command class</p>
<pre><code class="lang-auto">                case "itemspawn":
                    try {
                        amount = 1;
                        int tick = 20;
                        if (cmd.length == 3)
                            amount = Integer.parseInt(cmd[2]);
                        if (cmd.length == 4) {
                            amount = Integer.parseInt(cmd[2]);
                            tick = Integer.parseInt(cmd[3]);
                        }
                        if (cmd.length &lt; 2) {
                            player.getPackets().sendGameMessage(
                                    "Use: ::itemspawn itemid"
                            );
                            return true;
                        }
                        try {
                            if (GlobalItems.addSpawn(
                                    player.getUsername(),
                                    Integer.parseInt(cmd[1]), player, amount, tick
                            )) {
                                player.getPackets().sendGameMessage("Added spawn!");
                                return true;
                            }
                        } catch (Throwable e) {
                            e.printStackTrace();
                        }
                        player.getPackets().sendGameMessage(
                                "Failed removing spawn!"
                        );
                        return true;
                    } catch (NumberFormatException e) {
                        player.getPackets().sendGameMessage("Use: ::itemspawn itemid");
                    }
                    return true;</code></pre>
<p>GlobalItems class</p>
<pre><code class="lang-auto">    public static boolean addSpawn(String username, int id, WorldTile tile, int amount, int tick) throws Throwable {
        File file = new File("data/items/spawns.txt");
        BufferedWriter writer = new BufferedWriter(new FileWriter(file, true));
        writer.write("// " + ItemDefinitions.getItemDefinitions(id).getName() + ", added by: " + username);
        writer.newLine();
        writer.flush();
        writer.write(id + " " + amount + " - " + tile.getX() + " " + tile.getY() + " " + tile.getPlane() + " - " + tick);
        writer.newLine();
        writer.flush();
        World.addGroundItem(new Item(id), tile);
        return true;
    }</code></pre>
<p><span class="bbcode-b">The command can be either ;;itemspawn ITEMID, ;;itemspawn ITEMID ITEMAMOUNT, or ;;itemspawn ITEMID ITEMAMOUNT TICK.</span></p>
<p>The result:</p>
<pre><code class="lang-auto">// Red spiders' eggs, added by: arham_4
223 - 3162 9891 0 - 20</code></pre>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Driman_Rune.html'><span itemprop='name'>Driman_Rune</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-09T22:59:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:25:00Z' class='post-time'>
              August 4, 2016,  1:25pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Da fuck?</p>
<p>Normally in Winterlove bases(RuneSource, Project Insanity, Delta) it takes several lines of codes and a txt file, to make global items.</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pure2ownage.html'><span itemprop='name'>pure2ownage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-10T01:30:18Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:25:01Z' class='post-time'>
              August 4, 2016,  1:25pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Driman Rune, post:2, topic:544781”]Da fudge?</p>
<p>Normally in Winterlove bases(RuneSource, Project Insanity, Delta) it takes several lines of codes and a txt file, to make global items.[/quote]Another stupid comment from a stupid user.</p>
<p>OP has them loading from files, respawning, verified etc.</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-10T05:22:45Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:25:04Z' class='post-time'>
              August 4, 2016,  1:25pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>        try {
            BufferedReader in = new BufferedReader(new FileReader("data/items/unpackedItemSpawns.txt"));
            while (true) {
                String line = in.readLine();
                if (line == null)
                    break;
                if (line.startsWith("//"))
                    continue;
                String[] splitedLine = line.split(" - ");
                if (splitedLine.length != 3)
                    throw new RuntimeException("Invalid Object Spawn line: " + line);
                String[] splitedLine2 = splitedLine[0].split(" ");
                String[] splitedLine3 = splitedLine[1].split(" ");
                if (splitedLine2.length != 2 &amp;&amp; splitedLine3.length != 3)
                    throw new RuntimeException("Invalid Object Spawn line: " + line);
                int itemId = Integer.parseInt(splitedLine2[0]);
                int itemAmount = Integer.parseInt(splitedLine2[1]);
                int tick = Integer.parseInt(splitedLine[2]);
                WorldTile tile = new WorldTile(Integer.parseInt(splitedLine3[0]), Integer.parseInt(splitedLine3[1]), Integer.parseInt(splitedLine3[2]));
                addItemSpawn(itemId, itemAmount, tile.getRegionId(), tile, tick);
            }
            in.close();
        } catch (Throwable e) {
            Logger.handle(e);
        }</code></p>
<p>jesus fuc<span class="bbcode-b"></span>king christ</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/arham_4.html'><span itemprop='name'>arham_4</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-10T09:45:30Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:25:06Z' class='post-time'>
              August 4, 2016,  1:25pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lare69, post:4, topic:544781”]<code>        try {
            BufferedReader in = new BufferedReader(new FileReader("data/items/unpackedItemSpawns.txt"));
            while (true) {
                String line = in.readLine();
                if (line == null)
                    break;
                if (line.startsWith("//"))
                    continue;
                String[] splitedLine = line.split(" - ");
                if (splitedLine.length != 3)
                    throw new RuntimeException("Invalid Object Spawn line: " + line);
                String[] splitedLine2 = splitedLine[0].split(" ");
                String[] splitedLine3 = splitedLine[1].split(" ");
                if (splitedLine2.length != 2 &amp;&amp; splitedLine3.length != 3)
                    throw new RuntimeException("Invalid Object Spawn line: " + line);
                int itemId = Integer.parseInt(splitedLine2[0]);
                int itemAmount = Integer.parseInt(splitedLine2[1]);
                int tick = Integer.parseInt(splitedLine[2]);
                WorldTile tile = new WorldTile(Integer.parseInt(splitedLine3[0]), Integer.parseInt(splitedLine3[1]), Integer.parseInt(splitedLine3[2]));
                addItemSpawn(itemId, itemAmount, tile.getRegionId(), tile, tick);
            }
            in.close();
        } catch (Throwable e) {
            Logger.handle(e);
        }</code></p>
<p>jesus fuc<span class="bbcode-b"></span>king christ[/quote]<br>
?</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Driman_Rune.html'><span itemprop='name'>Driman_Rune</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-10T10:07:57Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:25:07Z' class='post-time'>
              August 4, 2016,  1:25pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“arham 4, post:5, topic:544781”][quote author=lare69 link=topic=663658.msg4435525#msg4435525 date=1404969765]</p>
<p><code>        try {
            BufferedReader in = new BufferedReader(new FileReader("data/items/unpackedItemSpawns.txt"));
            while (true) {
                String line = in.readLine();
                if (line == null)
                    break;
                if (line.startsWith("//"))
                    continue;
                String[] splitedLine = line.split(" - ");
                if (splitedLine.length != 3)
                    throw new RuntimeException("Invalid Object Spawn line: " + line);
                String[] splitedLine2 = splitedLine[0].split(" ");
                String[] splitedLine3 = splitedLine[1].split(" ");
                if (splitedLine2.length != 2 &amp;&amp; splitedLine3.length != 3)
                    throw new RuntimeException("Invalid Object Spawn line: " + line);
                int itemId = Integer.parseInt(splitedLine2[0]);
                int itemAmount = Integer.parseInt(splitedLine2[1]);
                int tick = Integer.parseInt(splitedLine[2]);
                WorldTile tile = new WorldTile(Integer.parseInt(splitedLine3[0]), Integer.parseInt(splitedLine3[1]), Integer.parseInt(splitedLine3[2]));
                addItemSpawn(itemId, itemAmount, tile.getRegionId(), tile, tick);
            }
            in.close();
        } catch (Throwable e) {
            Logger.handle(e);
        }</code></p>
<p>jesus fuc<span class="bbcode-b"></span>king christ<br>
[/quote]<br>
?[/quote]<br>
He means that looks horrible.</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/arham_4.html'><span itemprop='name'>arham_4</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-10T10:53:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:25:08Z' class='post-time'>
              August 4, 2016,  1:25pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Driman Rune, post:6, topic:544781”][quote author=arham 4 link=topic=663658.msg4435564#msg4435564 date=1404985530]</p>
<aside class="quote">
<blockquote>
<p><code>        try {
            BufferedReader in = new BufferedReader(new FileReader("data/items/unpackedItemSpawns.txt"));
            while (true) {
                String line = in.readLine();
                if (line == null)
                    break;
                if (line.startsWith("//"))
                    continue;
                String[] splitedLine = line.split(" - ");
                if (splitedLine.length != 3)
                    throw new RuntimeException("Invalid Object Spawn line: " + line);
                String[] splitedLine2 = splitedLine[0].split(" ");
                String[] splitedLine3 = splitedLine[1].split(" ");
                if (splitedLine2.length != 2 &amp;&amp; splitedLine3.length != 3)
                    throw new RuntimeException("Invalid Object Spawn line: " + line);
                int itemId = Integer.parseInt(splitedLine2[0]);
                int itemAmount = Integer.parseInt(splitedLine2[1]);
                int tick = Integer.parseInt(splitedLine[2]);
                WorldTile tile = new WorldTile(Integer.parseInt(splitedLine3[0]), Integer.parseInt(splitedLine3[1]), Integer.parseInt(splitedLine3[2]));
                addItemSpawn(itemId, itemAmount, tile.getRegionId(), tile, tick);
            }
            in.close();
        } catch (Throwable e) {
            Logger.handle(e);
        }</code></p>
<p>jesus fuc<span class="bbcode-b"></span>king christ</p>
</blockquote>
</aside>
<p>?<br>
[/quote]<br>
He means that looks horrible.[/quote]<br>
I know what he means. I don’t know how to write that better though (besides the naming).</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pure2ownage.html'><span itemprop='name'>pure2ownage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-10T12:19:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:25:10Z' class='post-time'>
              August 4, 2016,  1:25pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Change your format or serialize?</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/arham_4.html'><span itemprop='name'>arham_4</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-10T12:22:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:25:10Z' class='post-time'>
              August 4, 2016,  1:25pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="8" data-topic="544781">
<div class="title">
<div class="quote-controls"></div>
 Pure_:</div>
<blockquote>
<p>Change your format or serialize?</p>
</blockquote>
</aside>
<p>I’m making it pack my txt file via region ID. When it’s packed, that method isn’t even looked at unless you remove your packedItemSpawns directory to pack it again.</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Dan0194.html'><span itemprop='name'>Dan0194</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-10T16:33:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:25:15Z' class='post-time'>
              August 4, 2016,  1:25pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote author=arham 4 link=topic=663658.msg4435593#msg4435593 date=1404994967]</p>
<aside class="quote" data-post="8" data-topic="544781">
<div class="title">
<div class="quote-controls"></div>
 Pure_:</div>
<blockquote>
<p>Change your format or serialize?</p>
</blockquote>
</aside>
<p>I’m making it pack my txt file via region ID. When it’s packed, that method isn’t even looked at unless you remove your packedItemSpawns directory to pack it again.</p>
<p>[quote]</p>
<p>So useless to add objects on the game so it saves to the txt file. Also don’t use txt use something like json or xml to load your stuff externally.</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/arham_4.html'><span itemprop='name'>arham_4</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-10T16:48:56Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:25:16Z' class='post-time'>
              August 4, 2016,  1:25pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Dan0194, post:10, topic:544781”][quote author=arham 4 link=topic=663658.msg4435593#msg4435593 date=1404994967]</p>
<aside class="quote">
<blockquote>
<p>Change your format or serialize?</p>
</blockquote>
</aside>
<p>I’m making it pack my txt file via region ID. When it’s packed, that method isn’t even looked at unless you remove your packedItemSpawns directory to pack it again.<br>
[/quote]<br>
So useless to add objects on the game so it saves to the txt file. Also don’t use txt use something like json or xml to load your stuff externally.[/quote]<br>
I am not loading from the TXT, the TXT is the unpacked file, and it packs it (based on region ID) to a new directory.</p>
<p><img src="http://puu.sh/a5jcs/7c73352c4f.png" alt width="" height=""></p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Michael_P1.html'><span itemprop='name'>Michael_P1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-12T22:08:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:26:45Z' class='post-time'>
              August 4, 2016,  1:26pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why is it an OS file?</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pure2ownage.html'><span itemprop='name'>pure2ownage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-12T22:43:58Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:26:45Z' class='post-time'>
              August 4, 2016,  1:26pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Michael P, post:12, topic:544781”]Why is it an OS file?[/quote].object spawn?<br>
File extension doesn’t mean much.</p>
      </div>

      <meta itemprop='headline' content='[Matrix] Global Item Spawns (Ground Items)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/matrix-global-item-spawns-ground-items/544781 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 23:40:21 GMT -->
</html>
