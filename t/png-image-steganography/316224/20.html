<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/png-image-steganography/316224/20 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>PNG Image Steganography - General Programming - moparisthebest.com</title>
    <meta name="description" content="Can you tell the difference between these images? 

[image] 

[image] 

[image] 

[image] 

The first one is the original, and the rest have files hidden inside them by flipping bits. The second uses the last bit of ever&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../316224.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;PNG Image Steganography&#39;" href="../316224.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/letter_avatar/frank/200/5_8504b32b4165840149d2c3dd52eb0686.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/letter_avatar/frank/200/5_8504b32b4165840149d2c3dd52eb0686.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/png-image-steganography/316224/20" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/png-image-steganography/316224/20" />
<meta property="og:title" content="PNG Image Steganography" />
<meta name="twitter:title" content="PNG Image Steganography" />
<meta property="og:description" content="[quote=“sanga282, post:19, topic:316224”][quote author=la­wl link=topic=412802.msg3041776#msg3041776 date=1259174947]  just use the entire alpha channel if its all unused  [/quote]  surely if you had a png with an unused alpha channel you’d use a jpeg?[/quote]NAH MAENG PNG IS DA BEST FORMAT U SHUD USE IT EVRWHER" />
<meta name="twitter:description" content="[quote=“sanga282, post:19, topic:316224”][quote author=la­wl link=topic=412802.msg3041776#msg3041776 date=1259174947]  just use the entire alpha channel if its all unused  [/quote]  surely if you had a png with an unused alpha channel you’d use a jpeg?[/quote]NAH MAENG PNG IS DA BEST FORMAT U SHUD USE IT EVRWHER" />
<meta property="article:published_time" content="2009-11-26T18:07:28+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html">
          <img src="../../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="../316224.html">PNG Image Steganography</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T18:39:11Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:09Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="3" data-topic="316224">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar/sanga282/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> sanga282:</div>
<blockquote>
<p>you can tell the difference when looking at some of them but i take it to keep the message a secret you have lowered the quality to keep the filesize the same? this is a similar method to the way that i posted in the tutorials section</p>
</blockquote>
</aside>
<p>It does not add any data to the image file, it only changes the last n bits of each color byte to the next n bits of the data you are encoding.</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/sppt.html'><span itemprop='name'>sppt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T18:41:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:09Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I can actually see differences if I look at it closely.<br>
Anyway, nice, much better than just dumping the file data before or after the image data, heh.</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/sanga282.html'><span itemprop='name'>sanga282</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T18:49:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:11Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sppt, post:6, topic:316224”]I can actually see differences if I look at it closely.<br>
Anyway, nice, much better than just dumping the file data before or after the image data, heh.[/quote]<br>
the dice one is most obvious and the second car, there is a definite drop of quality</p>
<p>[quote=“Cheese_Police, post:5, topic:316224”][quote author=sanga282 link=topic=412802.msg3041732#msg3041732 date=1259172983]<br>
you can tell the difference when looking at some of them but i take it to keep the message a secret you have lowered the quality to keep the filesize the same? this is a similar method to the way that i posted in the tutorials section<br>
[/quote]</p>
<p>It does not add any data to the image file, it only changes the last n bits of each color byte to the next n bits of the data you are encoding.[/quote]<br>
oright ic, thats pretty damn clever actually</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/lawl.html'><span itemprop='name'>lawl</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T18:49:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:11Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>just use the entire alpha channel if its all unused</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/sppt.html'><span itemprop='name'>sppt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T18:57:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:11Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sanga282, post:7, topic:316224”][quote author=sppt link=topic=412802.msg3041763#msg3041763 date=1259174492]<br>
I can actually see differences if I look at it closely.<br>
Anyway, nice, much better than just dumping the file data before or after the image data, heh.<br>
[/quote]<br>
the dice one is most obvious and the second car, there is a definite drop of quality[/quote]<br>
Look at the edge of the light in the bottom right corner of the second car picture. It’s slightly more brown than the original.</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/sanga282.html'><span itemprop='name'>sanga282</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T19:01:19Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:14Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sppt, post:9, topic:316224”][quote author=sanga282 link=topic=412802.msg3041775#msg3041775 date=1259174942]</p>
<aside class="quote no-group">
<blockquote>
<p>I can actually see differences if I look at it closely.<br>
Anyway, nice, much better than just dumping the file data before or after the image data, heh.</p>
</blockquote>
</aside>
<p>the dice one is most obvious and the second car, there is a definite drop of quality<br>
[/quote]<br>
Look at the edge of the light in the bottom right corner of the second car picture. It’s slightly more brown than the original.[/quote]<br>
and the left seat is slightly lighter on the second picture</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/_Sep.html'><span itemprop='name'>_Sep</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T19:38:13Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:18Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yea, we can all see a difference if we look for it…but that’s the thing. Which “average person” would see a png that’s just a little distorted (most likely they wouldn’t notice) with an average file size, and think there’s a message, file, or image embedded piece by piece in every single pixel?</p>
<p>Clever and efficient imo.</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/R.I.html'><span itemprop='name'>R.I.P_RSC</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T20:15:24Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:21Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Besides, you wouldn’t send both the original image and the one with the message in it.</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/eczema3.html'><span itemprop='name'>eczema3</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T20:15:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:21Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Actually the 2nd image is slightly lighter all over, not just on certain areas.</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/Frell.html'><span itemprop='name'>Frell</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T21:28:36Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:26Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="13" data-topic="316224">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../letter_avatar/eczema3/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> eczema3:</div>
<blockquote>
<p>Actually the 2nd image is slightly lighter all over, not just on certain areas.</p>
</blockquote>
</aside>
<p>ye second image looks a little pink</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/inertia.html'><span itemprop='name'>inertia</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-25T22:33:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:34Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The quality of the highlight gradient thing under the back wheel is the most obvious difference, everything else is unnoticeable as long as you’re not looking at each one trying to pick out the differences.</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-26T00:59:29Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:40Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Cool program, but I found a few errors (and one annoyance) and fixed them.  Attached is a patch.</p>
<p>I just made a few small changes in png.c:</p>
<p><code>	FILE* message_fd = fopen("message.txt", "rb");
	if(!message_fd) {
			perror("fopen()");
			return;
	}</code><br>
to</p>
<p><code>	FILE* message_fd = fopen(outputname, "rb");
	if(!message_fd) {
			printf("File not found: %s\n", outputname);
			perror("fopen()");
			return;
	}</code><br>
Explanation: As you see you accidentally left message.txt hard coded in there, also it didn’t tell me the name of the file it couldn’t find, I found that annoying so I added in the printf line.</p>
<p>and</p>
<p><code>	FILE* out_fd = fopen(outputname, "wb");
	fwrite(buffer, 1, buffersize, out_fd);
	fclose(out_fd);</code><br>
to</p>
<p><code>	FILE* out_fd = fopen(pngfilename, "wb");
	fwrite(buffer, 1, buffersize, out_fd);
	fclose(out_fd);</code><br>
Explanation: You overwrote the file to hide instead of the PNG file, unless you meant to do that, but that wasn’t specified anywhere so I don’t think that you did. (and I don’t want my original file to hide destroyed anyhow)</p>
<p>And simply a preference thing, I added this code:</p>
<p>[code]	//check if png file exists, because LodePNG library doesn’t return helpful errors<br>
FILE* image_fd = fopen(pngfilename, “rb”);<br>
if(!image_fd) {<br>
printf(“File not found: %s\n”, pngfilename);<br>
perror(“fopen()”);<br>
return;<br>
}<br>
fclose(image_fd);</p>
<pre><code>unsigned int error;
unsigned char* image;
int w, h;[/code]
</code></pre>
<p>right before:</p>
<p><code>	unsigned int error;
	unsigned char* image;
	int w, h;</code></p>
<p>Because, as the comment states, if the png file doesn’t exist the error returned is:</p>
<pre><code class="lang-auto">LodePNG_decode32f(): 78</code></pre>
<p>Not very helpful…</p>
<p>Also a suggestion for the program, on the fly compression would be handy, so when I specify a file to hide it compresses it with bzip2 or gzip or similar and then hides it.  Alternatively support for stdin and stdout would do essentially the same thing, so I could do this:</p>
<pre><code class="lang-auto">bzip2 -c lodepng.c | ./png h2 christmas.png -</code></pre>
<p>and</p>
<pre><code class="lang-auto">./png e christmas.png - | bunzip2 -c &gt; lodepng.c</code></pre>
<p><img src="../../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-26T01:30:01Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:43Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>very clever</p>
<p>the only apparent problem i see with this is in the case where an image does not contain enough pixels to encapsulate the hidden message (ie the image is 16x16, so 256 * 3 = 768 bytes (not supporting transparency), and if you were to manipulate the last 2 bits of every byte, then you would only be able to attach a file of 192 bytes (768 / (8 / 2)))</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-26T03:03:42Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:46:49Z' class='post-time'>
              July 31, 2016, 12:46pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“abraham2119, post:17, topic:316224”]very clever</p>
<p>the only apparent problem i see with this is in the case where an image does not contain enough pixels to encapsulate the hidden message (ie the image is 16x16, so 256 * 3 = 768 bytes (not supporting transparency), and if you were to manipulate the last 2 bits of every byte, then you would only be able to attach a file of 192 bytes (768 / (8 / 2)))[/quote]</p>
<p>Then you use compression and/or get a bigger image.</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/sanga282.html'><span itemprop='name'>sanga282</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-26T13:36:24Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:47:08Z' class='post-time'>
              July 31, 2016, 12:47pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="8" data-topic="316224">
<div class="title">
<div class="quote-controls"></div>
 la­wl:</div>
<blockquote>
<p>just use the entire alpha channel if its all unused</p>
</blockquote>
</aside>
<p>surely if you had a png with an unused alpha channel you’d use a jpeg?</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-26T18:07:28Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:47:21Z' class='post-time'>
              July 31, 2016, 12:47pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sanga282, post:19, topic:316224”][quote author=la­wl link=topic=412802.msg3041776#msg3041776 date=1259174947]<br>
just use the entire alpha channel if its all unused<br>
[/quote]<br>
surely if you had a png with an unused alpha channel you’d use a jpeg?[/quote]NAH MAENG PNG IS DA BEST FORMAT U SHUD USE IT EVRWHER</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                  <a href="../../t-h-e-lol-glitch/325807/13.html" itemprop='item'>
                    <meta itemprop='url' content='../../t-h-e-lol-glitch/325807/13.html'>
                    <meta itemprop='position' content='1'>
                    <span itemprop='name'>T h e -&gt; lol (GLITCH)</span>
                  </a>
                </div>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-26T18:10:07Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:47:22Z' class='post-time'>
              July 31, 2016, 12:47pm
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“frank_, post:20, topic:316224”][quote author=sanga282 link=topic=412802.msg3042646#msg3042646 date=1259242584]</p>
<aside class="quote no-group">
<blockquote>
<p>just use the entire alpha channel if its all unused</p>
</blockquote>
</aside>
<p>surely if you had a png with an unused alpha channel you’d use a jpeg?<br>
[/quote]NAH MAENG PNG IS DA BEST FORMAT U SHUD USE IT EVRWHER[/quote]</p>
<p>it’s true; wikipedia says it!</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/yakman.html'><span itemprop='name'>yakman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-26T23:46:18Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:47:41Z' class='post-time'>
              July 31, 2016, 12:47pm
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>very nice moparisthebest, I approve</p>
<p>I didnt realise that hardcoding and overwriting, I think theres a deeper issue there. There should be three files specified in the command line arguments, the input png image, the output png image and the message file.</p>
<p>IMO, on-the-fly compression would violate that unix principle of ‘do one thing, do it well’.<br>
piping should be fine though.</p>
<p>one last thing is I’d much prefer if you used the unified diff format, (-u command line flag) because I think it produces easier to understand patch files and I think you would agree if you made you patch again with -u and compared the two patches.</p>
<p>its a shame that the default diff format is not unified, but only GNU diff/patch understand unified, so I suppose it would be mean to make it the default.</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-28T03:06:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:49:01Z' class='post-time'>
              July 31, 2016, 12:49pm
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“yakman, post:22, topic:316224”]I didnt realise that hardcoding and overwriting, I think theres a deeper issue there. There should be three files specified in the command line arguments, the input png image, the output png image and the message file.</p>
<p>IMO, on-the-fly compression would violate that unix principle of ‘do one thing, do it well’.<br>
piping should be fine though.[/quote]</p>
<p>I thought you might have wanted to specify 3 arguments, but since you didn’t I just fixed it the way it was.  It would be fine both ways in my opinion.</p>
<p>I also agree with you on the ‘do one thing, do it well’, which is why piping would be excellent. <img src="../../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>I have also attached a unified diff to this post.  It is a much nicer format.</p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../../u/yakman.html'><span itemprop='name'>yakman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-03T15:31:58Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:31:36Z' class='post-time'>
              July 31, 2016,  5:31pm
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Russian spies used this technique.<br>
<a href="http://www.newscientist.com/article/dn19126-russian-spy-ring-hid-secret-messages-on-the-web.html" class="onebox" target="_blank" rel="nofollow noopener">http://www.newscientist.com/article/dn19126-russian-spy-ring-hid-secret-messages-on-the-web.html</a></p>
      </div>

      <meta itemprop='headline' content='PNG Image Steganography'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/png-image-steganography/316224/20 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:43 GMT -->
</html>
