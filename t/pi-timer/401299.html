<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-timer/401299 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 01:08:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PI] Timer - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hello people, I&amp;#39;ve just added summoning to my server. But I made a tab with the goal: Wait 60 seconds and you will get healed 3 hp. The problem is: The Timer 

How would I do this? I want it to heal you when you click th&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="401299.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PI] Timer&#39;" href="401299.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-timer/401299" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-timer/401299" />
<meta property="og:title" content="[PI] Timer" />
<meta name="twitter:title" content="[PI] Timer" />
<meta property="og:description" content="Hello people,  I’ve just added summoning to my server.  But I made a tab with the goal:  Wait 60 seconds and you will get healed 3 hp.  The problem is: The Timer  How would I do this?  I want it to heal you when you click the tab and when you have waited atleast 60 seconds.  Please respond." />
<meta name="twitter:description" content="Hello people,  I’ve just added summoning to my server.  But I made a tab with the goal:  Wait 60 seconds and you will get healed 3 hp.  The problem is: The Timer  How would I do this?  I want it to heal you when you click the tab and when you have waited atleast 60 seconds.  Please respond." />
<meta property="article:published_time" content="2011-06-28T16:12:36+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="401299.html">[PI] Timer</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rickrolla.html'><span itemprop='name'>Rickrolla</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-06-28T16:12:36Z'>
            <time itemprop='dateModified' datetime='2016-08-01T12:44:48Z' class='post-time'>
              August 1, 2016, 12:44pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello people,<br>
I’ve just added summoning to my server.<br>
But I made a tab with the goal:<br>
Wait 60 seconds and you will get healed 3 hp.<br>
The problem is: <span class="bbcode-b">The Timer</span></p>
<p>How would I do this?<br>
I want it to heal you when you click the tab and when you have waited atleast 60 seconds.</p>
<p>Please respond.</p>
      </div>

      <meta itemprop='headline' content='[PI] Timer'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-06-28T16:34:13Z'>
            <time itemprop='dateModified' datetime='2016-08-01T12:44:49Z' class='post-time'>
              August 1, 2016, 12:44pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>There are two ways to do that. Well, one way really, but two ways to accomplish it.</p>
<p>The first is if you want to keep the “timer” state even after logout. For example, you heal, 30 seconds have passed, and when you login again you still need to wait 30 seconds. For this, you need to add a field to the saved player’s file. There are plenty of tutorials on how to add fields to various server bases.</p>
<p>The second is if you don’t want to keep the timer state after logout. Meaning that you heal, wait 30 seconds, logout, and you can immediately heal yourself again.</p>
<p>Although, I suppose the method is the same for either decision you make. In either case, I would suggest defining a variable that hold the last time they healed themselves.</p>
<p>It might look something like this:</p>
<pre><code class="lang-auto">long lastHealed;
// ...
public void handleButtonClick(final int id) {
    switch (id) {
        // ...
        case yourButtonId:
            final long deltaTime = (System.currentTimeMillis() - lastHealed) / 1000;
            if (deltaTime &gt;= 60) {// if at least 60 seconds have passed
                setHealth(levels[Skill.HIT_POINTS.getId()]);// Set health to max
                lastHealed = System.currentTimeMillis();
            }
            else {
                sendMessage("You must wait " + deltaTime + " seconds before you can use this again.");
            }
            break;
    }
}</code></pre>
      </div>

      <meta itemprop='headline' content='[PI] Timer'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-timer/401299 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 01:08:58 GMT -->
</html>
