<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Timer</title>
    <link>https://forum.moparisthebest.com/t/pi-timer/401299</link>
    <description>Hello people,
I&#39;ve just added summoning to my server.
But I made a tab with the goal:
Wait 60 seconds and you will get healed 3 hp.
The problem is: [b]The Timer[/b]

How would I do this?
I want it to heal you when you click the tab and when you have waited atleast 60 seconds.

Please respond.</description>
    
    <lastBuildDate>Tue, 28 Jun 2011 16:34:13 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-timer/401299.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Timer</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>There are two ways to do that. Well, one way really, but two ways to accomplish it.</p>
<p>The first is if you want to keep the “timer” state even after logout. For example, you heal, 30 seconds have passed, and when you login again you still need to wait 30 seconds. For this, you need to add a field to the saved player’s file. There are plenty of tutorials on how to add fields to various server bases.</p>
<p>The second is if you don’t want to keep the timer state after logout. Meaning that you heal, wait 30 seconds, logout, and you can immediately heal yourself again.</p>
<p>Although, I suppose the method is the same for either decision you make. In either case, I would suggest defining a variable that hold the last time they healed themselves.</p>
<p>It might look something like this:</p>
<pre><code class="lang-auto">long lastHealed;
// ...
public void handleButtonClick(final int id) {
    switch (id) {
        // ...
        case yourButtonId:
            final long deltaTime = (System.currentTimeMillis() - lastHealed) / 1000;
            if (deltaTime &gt;= 60) {// if at least 60 seconds have passed
                setHealth(levels[Skill.HIT_POINTS.getId()]);// Set health to max
                lastHealed = System.currentTimeMillis();
            }
            else {
                sendMessage("You must wait " + deltaTime + " seconds before you can use this again.");
            }
            break;
    }
}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-timer/401299/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-timer/401299/2</link>
        <pubDate>Tue, 28 Jun 2011 16:34:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-401299-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-timer/401299.rss">[PI] Timer</source>
      </item>
      <item>
        <title>[PI] Timer</title>
        <dc:creator><![CDATA[@Rickrolla Rickrolla]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/rickrolla">@Rickrolla</a> wrote:</p>
          <blockquote>
              <p>Hello people,<br>
I’ve just added summoning to my server.<br>
But I made a tab with the goal:<br>
Wait 60 seconds and you will get healed 3 hp.<br>
The problem is: <span class="bbcode-b">The Timer</span></p>
<p>How would I do this?<br>
I want it to heal you when you click the tab and when you have waited atleast 60 seconds.</p>
<p>Please respond.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-timer/401299/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-timer/401299/1</link>
        <pubDate>Tue, 28 Jun 2011 16:12:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-401299-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-timer/401299.rss">[PI] Timer</source>
      </item>
  </channel>
</rss>
