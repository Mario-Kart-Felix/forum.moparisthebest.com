<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-npc-interaction/379281 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 07:51:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PI] NPC interaction - Runescape - moparisthebest.com</title>
    <meta name="description" content="In clickitem.java 

 if(itemId == ####) {
			c.getItems().deleteItem(####, #);
			c.sendMessage(&amp;quot;Text&amp;quot;);
Server.npcHandler.spawnNpc(Client c, int npcType, int x, int y, int heightLevel, int WalkingType, int HP, int maxHi&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="379281.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PI] NPC interaction&#39;" href="379281.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-npc-interaction/379281" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-npc-interaction/379281" />
<meta property="og:title" content="[PI] NPC interaction" />
<meta name="twitter:title" content="[PI] NPC interaction" />
<meta property="og:description" content="In clickitem.java  if(itemId == ####) { 			c.getItems().deleteItem(####, #); 			c.sendMessage(&quot;Text&quot;); Server.npcHandler.spawnNpc(Client c, int npcType, int x, int y, int heightLevel, int WalkingType, int HP, int maxHit, int attack, int defence, boolean attackPlayer, boolean headIcon, int playerId); 		}  How do I make it so no other player except the one who spawned this NPC can interact with it?, Not just attack but cant open a shop, activate dialogue or anything else via this NPC. Thats my que..." />
<meta name="twitter:description" content="In clickitem.java  if(itemId == ####) { 			c.getItems().deleteItem(####, #); 			c.sendMessage(&quot;Text&quot;); Server.npcHandler.spawnNpc(Client c, int npcType, int x, int y, int heightLevel, int WalkingType, int HP, int maxHit, int attack, int defence, boolean attackPlayer, boolean headIcon, int playerId); 		}  How do I make it so no other player except the one who spawned this NPC can interact with it?, Not just attack but cant open a shop, activate dialogue or anything else via this NPC. Thats my que..." />
<meta property="article:published_time" content="2011-01-21T00:49:40+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="379281.html">[PI] NPC interaction</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KrypitcRc.html'><span itemprop='name'>KrypitcRc</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-21T00:49:40Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:05:09Z' class='post-time'>
              August 1, 2016,  7:05am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>In clickitem.java</p>
<p><code>if(itemId == ####) {
			c.getItems().deleteItem(####, #);
			c.sendMessage("Text");
Server.npcHandler.spawnNpc(Client c, int npcType, int x, int y, int heightLevel, int WalkingType, int HP, int maxHit, int attack, int defence, boolean attackPlayer, boolean headIcon, int playerId);
		}</code><br>
How do I make it so no other player except the one who spawned this NPC can interact with it?, Not just attack but cant open a shop, activate dialogue or anything else via this NPC. Thats my question</p>
<p>P.S Not all comments below are still completely relevent</p>
      </div>

      <meta itemprop='headline' content='[PI] NPC interaction'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KrypitcRc.html'><span itemprop='name'>KrypitcRc</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-21T01:44:53Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:05:13Z' class='post-time'>
              August 1, 2016,  7:05am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“I Vain I”]NPCHandler contains a method called followPlayer.</p>
<p>I suggest you look into it.[/quote]</p>
<p>I was already looking at that, I’m more intrested in how to get the NPC to spawn, what would I add to this?</p>
<p><code>if(itemId == ####) {
			c.getItems().deleteItem(####, 1);
			c.sendMessage("Text");
		}</code></p>
      </div>

      <meta itemprop='headline' content='[PI] NPC interaction'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KrypitcRc.html'><span itemprop='name'>KrypitcRc</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-21T02:37:04Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:05:16Z' class='post-time'>
              August 1, 2016,  7:05am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>if(itemId == ####) {
			c.getItems().deleteItem(####, 1);
			c.sendMessage("Text.");
Server.npcHandler.spawnNpc(c, NPC_ID, c.getX(), c.getY(), 0, 0, 0, 0, 0, 0, false, false);
		}</code></p>
<p>This spawns the correct npc in the correct place, Now how can I get it to follow me?</p>
      </div>

      <meta itemprop='headline' content='[PI] NPC interaction'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KrypitcRc.html'><span itemprop='name'>KrypitcRc</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-21T20:20:16Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:05:58Z' class='post-time'>
              August 1, 2016,  7:05am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group">
<div class="title">
<div class="quote-controls"></div>
 I Vain I:</div>
<blockquote>
<p>By using the followPlayer method.</p>
</blockquote>
</aside>
<pre><code class="lang-auto">spawnNpc(Client c, int npcType, int x, int y, int heightLevel, int WalkingType, int HP, int maxHit, int attack, int defence, boolean attackPlayer, boolean headIcon);</code></pre>
<p>I changed this to</p>
<pre><code class="lang-auto">spawnNpc(Client c, int npcType, int x, int y, int heightLevel, int WalkingType, int HP, int maxHit, int attack, int defence, boolean attackPlayer, boolean headIcon, boolean followPlayer);</code></pre>
<p>And set the followPlayer to true but that didn’t work, I’m assuming then that there is another way to apply it to the NPC.<br>
Any hints? <img src="../../images/emoji/twitter/expressionlessae52.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
      </div>

      <meta itemprop='headline' content='[PI] NPC interaction'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KrypitcRc.html'><span itemprop='name'>KrypitcRc</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-21T23:50:51Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:06:06Z' class='post-time'>
              August 1, 2016,  7:06am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>src\server\Server.java:61: cannot find symbol
symbol  : constructor NPCHandler()
location: class server.model.npcs.NPCHandler
        public static NPCHandler npcHandler = new NPCHandler();
                                              ^
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
1 error
Press any key to continue . . .</code>I fixed several errors but when I go and look at this it appears to be in order, know whats wrong?</p>
      </div>

      <meta itemprop='headline' content='[PI] NPC interaction'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KrypitcRc.html'><span itemprop='name'>KrypitcRc</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-22T00:16:07Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:06:07Z' class='post-time'>
              August 1, 2016,  7:06am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don’t think <span class="bbcode-i">I</span> added it, Unless I have developed short term memory loss and if I remove it I get 100 errors in the NPCHandler.java?</p>
<p><code>Exception in thread "main" java.lang.NoSuchMethodError: server.model.npcs.NPCHan
dler: method &lt;init&gt;()V not found
        at server.Server.&lt;clinit&gt;(Server.java:61)
Could not find the main class: server.Server.  Program will exit.
Press any key to continue . . .</code></p>
<p>and now I get this when I try and run the server -.-…sucks too my removable storage backup is a few days old and I’ll lose a considerable amount of work if it’s screwed</p>
      </div>

      <meta itemprop='headline' content='[PI] NPC interaction'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KrypitcRc.html'><span itemprop='name'>KrypitcRc</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-22T00:22:35Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:06:07Z' class='post-time'>
              August 1, 2016,  7:06am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“I Vain I”]That error is caused by Server class. Meaning you did something I told you not to do.</p>
<p>I never once said Server class, so it’s your fault.[/quote]</p>
<p>Never blamed you, got a bunch of errors so I went around fixing them but I didn’t do the usually backup so instead of just starting over I’d rather fix this so I don’t lose a considerable amount of time.</p>
<p>Back to my question, any idea on a fix?</p>
      </div>

      <meta itemprop='headline' content='[PI] NPC interaction'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KrypitcRc.html'><span itemprop='name'>KrypitcRc</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-01-22T08:14:37Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:06:35Z' class='post-time'>
              August 1, 2016,  7:06am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group">
<div class="title">
<div class="quote-controls"></div>
 I Vain I:</div>
<blockquote>
<p>Remove the stuff from Server class. &gt;.&gt;</p>
</blockquote>
</aside>
<p>I already restored my base from a few days ago, server class was exactly the same so I have no idea what caused the problem.</p>
<p>Anyway I got this to compile correctly</p>
<pre><code class="lang-auto">Server.npcHandler.followPlayer(NPC_ID, c.playerId));</code></pre>
<p>But it didn’t work so I made a new method specificly for this task</p>
<pre><code>[code]/**
* Summoning spawn method
**/
public void spawnNpc3(Client c, int npcType, int x, int y, int heightLevel, int WalkingType, int HP, int maxHit, int attack, int defence, boolean followPlayer, int playerId) {
	// first, search for a free slot
	int slot = -1;
	for (int i = 1; i &lt; maxNPCs; i++) {
		if (npcs[i] == null) {
			slot = i;
			break;
		}
	}[/code]
</code></pre>
<p>But even after I fixed all the errors and compiled correctly it didn’t work…so now I’m using the original spawnNpc method and made the attackPlayer = True with a 6 hour attack delay, so now it follows me.</p>
<p>My next goal is I don’t want other people to be able to interact in anyway way with the NPC unless they spawned it, I’m looking at the barrows brothers code to use for guide lines but I’m not using the “attack” option on these NPC’s so I expect to need to change several things and as always any help, tips or hints are appreciated.</p>
<p>O and what do I put in the int hieghtLevel to make the NPC spawn at the same hieght as the player, at the moment I have it set as 0 and that won’t work for tears of guthix or GWD. I know I use c.getX(), c.getY(), for coords but not what I need for hieght.</p>
      </div>

      <meta itemprop='headline' content='[PI] NPC interaction'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-npc-interaction/379281 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 07:51:35 GMT -->
</html>
