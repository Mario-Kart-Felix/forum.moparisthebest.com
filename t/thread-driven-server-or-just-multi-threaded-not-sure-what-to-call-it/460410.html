<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/thread-driven-server-or-just-multi-threaded-not-sure-what-to-call-it/460410 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 18:50:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Thread Driven Server (or just multi-threaded, not sure what to call it) - Runescape - moparisthebest.com</title>
    <meta name="description" content="I just had a simple idea, don&amp;#39;t know if it&amp;#39;s correct or efficient, I would just like to have this confirmed. How would it work out using a multi-threaded server, but having a new thread for most common tasks, such as, sk&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="460410.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Thread Driven Server (or just multi-threaded, not sure what to call it)&#39;" href="460410.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/thread-driven-server-or-just-multi-threaded-not-sure-what-to-call-it/460410" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/thread-driven-server-or-just-multi-threaded-not-sure-what-to-call-it/460410" />
<meta property="og:title" content="Thread Driven Server (or just multi-threaded, not sure what to call it)" />
<meta name="twitter:title" content="Thread Driven Server (or just multi-threaded, not sure what to call it)" />
<meta property="og:description" content="I just had a simple idea, don’t know if it’s correct or efficient, I would just like to have this confirmed. How would it work out using a multi-threaded server, but having a new thread for most common tasks, such as, skills have their own thread, the networking has its own thread, and player updating having it’s own thread. What do you think?" />
<meta name="twitter:description" content="I just had a simple idea, don’t know if it’s correct or efficient, I would just like to have this confirmed. How would it work out using a multi-threaded server, but having a new thread for most common tasks, such as, skills have their own thread, the networking has its own thread, and player updating having it’s own thread. What do you think?" />
<meta property="article:published_time" content="2012-09-18T10:38:19+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="460410.html">Thread Driven Server (or just multi-threaded, not sure what to call it)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/tyb97.html'><span itemprop='name'>tyb97</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-18T10:38:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:11:44Z' class='post-time'>
              August 4, 2016, 12:11am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I just had a simple idea, don’t know if it’s correct or efficient, I would just like to have this confirmed. How would it work out using a multi-threaded server, but having a new thread for most common tasks, such as, skills have their own thread, the networking has its own thread, and player updating having it’s own thread. What do you think?</p>
      </div>

      <meta itemprop='headline' content='Thread Driven Server (or just multi-threaded, not sure what to call it)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/doom_j.html'><span itemprop='name'>doom_j</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-18T11:19:01Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:11:45Z' class='post-time'>
              August 4, 2016, 12:11am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sounds more or less like the Thread-Per-Client model with the exception of a thread per connection… It wouldn’t work out to easy and would be fairly hard to implement since you would need to make sure all code that would be executed by multiple threads is thread safe, so any gain from it could be lost due to synchronizing.</p>
<p>EDIT: Graham has a thread for parallel packet handling.</p>
<p><a href="http://www.rune-server.org/runescape-development/rs2-server/255196-parallel-packet-handling.html" class="onebox" target="_blank" rel="nofollow noopener">http://www.rune-server.org/runescape-development/rs2-server/255196-parallel-packet-handling.html</a></p>
      </div>

      <meta itemprop='headline' content='Thread Driven Server (or just multi-threaded, not sure what to call it)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Nebulae.html'><span itemprop='name'>Nebulae</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-18T13:55:20Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:11:49Z' class='post-time'>
              August 4, 2016, 12:11am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I always thought that if there is a bottleneck for when everything is being executed in a single thread, that there would eventually be a bottleneck for having thread after thread pile up…?</p>
      </div>

      <meta itemprop='headline' content='Thread Driven Server (or just multi-threaded, not sure what to call it)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/doom_j.html'><span itemprop='name'>doom_j</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-18T17:53:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:12:00Z' class='post-time'>
              August 4, 2016, 12:12am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="3" data-topic="460410">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/nebulae/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Nebulae:</div>
<blockquote>
<p>I always thought that if there is a bottleneck for when everything is being executed in a single thread, that there would eventually be a bottleneck for having thread after thread pile up…?</p>
</blockquote>
</aside>
<p>Both can be a problem, since both will sooner or later lose all efficiency when scaled up. You should try to balance your server so that it will perform at its best. If you know your server will be running on very low end hardware lets say 2-4gbs RAM, and say a duo core cpu then you may have to opt for a server that uses say 1 thread for logic, a thread for I/O, then a thread for networking. Try to not have your I/O operations like saving and loading on the same thread as your logic, if your server sends a lot of data then it will push back your logic processing, this is one of the many reasons why WinterLove loses a lot of performance.</p>
<p>Now for a multi-core or even a multi-processor. When you create code that is executed by multiple threads at the same time you will need to make sure that your code is thread safe, I proved a link below to a thread Graham created that explains thread safety. A benefit to using multiple threads is you can have Entity updating done in parallel instead of just one at a time in a single thread, you can do this because Entity updating doesn’t have many write operations more or less a change in the local player list is all that happens for a write operation which you can synchronize with very little lose.</p>
<p>You can either read over this or just talk on irc with some of the more programming proficient bunch.</p>
      </div>

      <meta itemprop='headline' content='Thread Driven Server (or just multi-threaded, not sure what to call it)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Nebulae.html'><span itemprop='name'>Nebulae</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-18T18:03:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:12:01Z' class='post-time'>
              August 4, 2016, 12:12am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for the invite, but I wouldn’t class myself as programming proficient yet. I follow what you say though.</p>
      </div>

      <meta itemprop='headline' content='Thread Driven Server (or just multi-threaded, not sure what to call it)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/doom_j.html'><span itemprop='name'>doom_j</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-18T18:08:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:12:01Z' class='post-time'>
              August 4, 2016, 12:12am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="5" data-topic="460410">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/nebulae/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Nebulae:</div>
<blockquote>
<p>Thanks for the invite, but I wouldn’t class myself as programming proficient yet. I follow what you say though.</p>
</blockquote>
</aside>
<p>Not a lot of people on this forum can classify their self as proficient in programming. But that shouldn’t stop you from talking with other people who have information that could prove invaluable to your learning of both a programming language and also the RS2 protocol.</p>
      </div>

      <meta itemprop='headline' content='Thread Driven Server (or just multi-threaded, not sure what to call it)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/tyb97.html'><span itemprop='name'>tyb97</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-18T20:35:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:12:07Z' class='post-time'>
              August 4, 2016, 12:12am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for the great reads and the link Jmood, I have been enlightened.</p>
      </div>

      <meta itemprop='headline' content='Thread Driven Server (or just multi-threaded, not sure what to call it)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Mikau.html'><span itemprop='name'>Mikau</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-25T08:20:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:21:39Z' class='post-time'>
              August 4, 2016, 12:21am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Remember a processor core can execute one thread concurrently. A good multi-threaded approach would be to have a threadpool in which tasks are dispatched to, such as individual player updates, packet processing and logic updating of game content.</p>
      </div>

      <meta itemprop='headline' content='Thread Driven Server (or just multi-threaded, not sure what to call it)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/thread-driven-server-or-just-multi-threaded-not-sure-what-to-call-it/460410 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 18:50:47 GMT -->
</html>
