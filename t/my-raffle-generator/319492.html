<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/my-raffle-generator/319492 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 08:24:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>My Raffle Generator - General Programming - moparisthebest.com</title>
    <meta name="description" content="A website asked me to write a program which would connect to their smf forums database and pick a random member from the membergroup &amp;quot;Premium Member&amp;quot;, which has an id of 9. Then they wanted it to display that id as the a&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="319492.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;My Raffle Generator&#39;" href="319492.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/my-raffle-generator/319492" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/my-raffle-generator/319492" />
<meta property="og:title" content="My Raffle Generator" />
<meta name="twitter:title" content="My Raffle Generator" />
<meta property="og:description" content="A website asked me to write a program which would connect to their smf forums database and pick a random member from the membergroup “Premium Member”, which has an id of 9. Then they wanted it to display that id as the actual account username so they could use it to create a raffle. The problem i’m having is I can’t find java’s equivalent to php’s mysql_fetch_array() so that I can build an array of the member’s ids, and then randomize a value from the array and re-connect to the database and dis..." />
<meta name="twitter:description" content="A website asked me to write a program which would connect to their smf forums database and pick a random member from the membergroup “Premium Member”, which has an id of 9. Then they wanted it to display that id as the actual account username so they could use it to create a raffle. The problem i’m having is I can’t find java’s equivalent to php’s mysql_fetch_array() so that I can build an array of the member’s ids, and then randomize a value from the array and re-connect to the database and dis..." />
<meta property="article:published_time" content="2009-12-14T03:31:11+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="319492.html">My Raffle Generator</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rawrmoan.html'><span itemprop='name'>Rawrmoan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-14T03:31:11Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:08:05Z' class='post-time'>
              July 31, 2016,  1:08pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>A website asked me to write a program which would connect to their smf forums database and pick a random member from the membergroup “Premium Member”, which has an id of 9. Then they wanted it to display that id as the actual account username so they could use it to create a raffle. The problem i’m having is I can’t find java’s equivalent to php’s mysql_fetch_array() so that I can build an array of the member’s ids, and then randomize a value from the array and re-connect to the database and display their username. Here is what I have got (I will not provide the Logger class, as it only handles [sets a runtime] out and error printing):</p>
<p>Main class:</p>
<pre><code class="lang-auto">public class Main {

	public static Main main;
	public static Generate generate;

	public static void main(String[] args) {
		Main.main = new Main();
		main.init();
	}

	private void init() {
		System.setOut(new Logger(System.out));
		System.setErr(new Logger(System.err));
		System.out.println("Welcome to the official raffle picker.");
		main.generate.init();
	}

}</code></pre>
<p>It calls the init method in the Generate class:</p>
<pre><code class="lang-auto">public class Generate {

	public static int accountIDs[] = {};

	public static int randomAccount() {
		return accountIDs[(int)(Math.random()*accountIDs.length)];
	}

	public static void init() {
		Database.connect();
		Database.buildList();
		System.out.println("This month's lucky user ID is: " + randomAccount() + ".");
		Database.disconnect();
	}

}</code></pre>
<p>Here is the methods located in the Database class:</p>
<p>[code]</p>
<p>public class Database {</p>
<pre><code>private static Connection connection = null;
private static Statement statement;
private static String dbHostname = "localhost";
private static int dbPort = 3306;
private static String dbName = "smf";
private static String dbUsername = "removed for safety reasons";
private static String dbPassword = "removed for safety reasons";	

public static void connect() {
	try {
		Class.forName("com.mysql.jdbc.Driver").newInstance();
		connection = DriverManager.getConnection("jdbc:mysql://" + dbHostname + ":" + dbPort + "/" + dbName, dbUsername, dbPassword);
		statement = connection.createStatement();
	} catch (Exception e) {
		e.printStackTrace();
	}
}

public static void buildList() {
	try {
		ResultSet result = statement.executeQuery("SELECT * FROM smf_members WHERE id_group=9");
		result.first();
		System.out.println("IDs of all the members in the group Premium Members: " + result.getInt("id_member")); // Also wrong!
		//Generate.accountIDs = result.getInt("id_member");  // This is obviously wrong as it will only count the number of members in the group, which is not an array
	}
	catch(SQLException e) {
		e.printStackTrace();
	}
}

public static void disconnect(){
	try {
		statement.close();
		connection.close();
	} catch (Exception e) {
		e.printStackTrace();
	}
}
</code></pre>
<p>}[/code]</p>
      </div>

      <meta itemprop='headline' content='My Raffle Generator'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/nueb35.html'><span itemprop='name'>nueb35</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-14T03:41:16Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:08:08Z' class='post-time'>
              July 31, 2016,  1:08pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i would make it connect to <a href="http://www.moparisthebest.com/smf/index.php?action=profile;u=9" rel="nofollow noopener">http://www.moparisthebest.com/smf/index.php?action=profile;u=9</a> and parse out the username from there.</p>
      </div>

      <meta itemprop='headline' content='My Raffle Generator'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rawrmoan.html'><span itemprop='name'>Rawrmoan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-14T03:45:48Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:08:08Z' class='post-time'>
              July 31, 2016,  1:08pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The userID is not 9, the membergroupID is 9, for example administrator on smf forum’s membergroupID is 1, and global moderator is 2.</p>
      </div>

      <meta itemprop='headline' content='My Raffle Generator'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Zero_Freeze.html'><span itemprop='name'>Zero_Freeze</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-14T08:58:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:08:23Z' class='post-time'>
              July 31, 2016,  1:08pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You wouldn’t want to retrieve all members of that group, store the results in memory and select a random member from that - what if the group had the size of 10 million? That’d sure whore bandwidth and mem.</p>
<pre><code class="lang-auto">SELECT member_name FROM smf_members WHERE id_group=9 ORDER BY RAND() LIMIT 1</code></pre>
<pre><code class="lang-auto">String name = result.getString("member_name"); // randomly selected name, whoo</code></pre>
<p>something like that.</p>
      </div>

      <meta itemprop='headline' content='My Raffle Generator'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rawrmoan.html'><span itemprop='name'>Rawrmoan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-14T09:51:25Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:08:24Z' class='post-time'>
              July 31, 2016,  1:08pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you heaps ZeroFreeze, problem solved.</p>
      </div>

      <meta itemprop='headline' content='My Raffle Generator'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/my-raffle-generator/319492 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 08:24:31 GMT -->
</html>
