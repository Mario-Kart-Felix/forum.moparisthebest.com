<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/using-scala-as-a-scripting-language/554726 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Using Scala as a scripting language - General Programming - moparisthebest.com</title>
    <meta name="description" content="is there any way to use this script 

[code=scala]import java.util.Optional import java.util.concurrent.ThreadLocalRandom 

import io.luna.game.GameService import io.luna.game.event.Event import io.luna.game.model.mobile&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="554726.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Using Scala as a scripting language&#39;" href="554726.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/using-scala-as-a-scripting-language/554726" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/using-scala-as-a-scripting-language/554726" />
<meta property="og:title" content="Using Scala as a scripting language" />
<meta name="twitter:title" content="Using Scala as a scripting language" />
<meta property="og:description" content="is there any way to use this script  [code=scala]import java.util.Optional  import java.util.concurrent.ThreadLocalRandom  import io.luna.game.GameService  import io.luna.game.event.Event  import io.luna.game.model.mobile.attr.AttributeValue  import io.luna.game.model.mobile.{MobileEntity, Npc, Player, PlayerRights}  import io.luna.game.model.{Position, World}  import io.luna.game.plugin.{PluginFailureException, PluginFunction, PluginManager}  import io.luna.game.task.Task  import io.luna.net.ms..." />
<meta name="twitter:description" content="is there any way to use this script  [code=scala]import java.util.Optional  import java.util.concurrent.ThreadLocalRandom  import io.luna.game.GameService  import io.luna.game.event.Event  import io.luna.game.model.mobile.attr.AttributeValue  import io.luna.game.model.mobile.{MobileEntity, Npc, Player, PlayerRights}  import io.luna.game.model.{Position, World}  import io.luna.game.plugin.{PluginFailureException, PluginFunction, PluginManager}  import io.luna.game.task.Task  import io.luna.net.ms..." />
<meta property="article:published_time" content="2016-02-14T04:42:30+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="5547264658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="554726.html">Using Scala as a scripting language</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-14T04:42:30Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:27Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>is there any way to use this script</p>
<p>[code=scala]import java.util.Optional<br>
import java.util.concurrent.ThreadLocalRandom</p>
<p>import io.luna.game.GameService<br>
import io.luna.game.event.Event<br>
import io.luna.game.model.mobile.attr.AttributeValue<br>
import io.luna.game.model.mobile.{MobileEntity, Npc, Player, PlayerRights}<br>
import io.luna.game.model.{Position, World}<br>
import io.luna.game.plugin.{PluginFailureException, PluginFunction, PluginManager}<br>
import io.luna.game.task.Task<br>
import io.luna.net.msg.out.{SendForceTabMessage, SendGameInfoMessage, SendWidgetTextMessage}</p>
<p>import scala.reflect.ClassTag</p>
<p>// context instances<br>
<span class="mention">@inline</span> val plugins: PluginManager = ctx.plugins<br>
<span class="mention">@inline</span> val world: World = ctx.world<br>
<span class="mention">@inline</span> val service: GameService = ctx.service</p>
<p>// type aliases<br>
type Mob = io.luna.game.model.mobile.MobileEntity<br>
type MobList[E &lt;: Mob] = io.luna.game.model.mobile.MobileEntityList[E]</p>
<p>type ItemDef = io.luna.game.model.<code>def</code>.ItemDefinition<br>
type NpcDef = io.luna.game.model.<code>def</code>.NpcDefinition</p>
<p>// common constants<br>
<span class="mention">@inline</span> val rightsPlayer = PlayerRights.PLAYER<br>
<span class="mention">@inline</span> val rightsMod = PlayerRights.MODERATOR<br>
<span class="mention">@inline</span> val rightsAdmin = PlayerRights.ADMINISTRATOR<br>
<span class="mention">@inline</span> val rightsDev = PlayerRights.DEVELOPER</p>
<p>// preconditions and plugin failure, prefer lazy evaluation of ‘msg’ parameters<br>
// where applicable<br>
def fail(msg: Any = “execution failure”) = throw new PluginFailureException(msg)<br>
def failIf(cond: Boolean, msg: =&gt; Any = “cond == false”) = if (cond) {fail(msg)}</p>
<p>// aliases for utilities<br>
def rand = ThreadLocalRandom.current</p>
<p>// message handling<br>
def on[T &lt;: Event](func: (T, Player) =&gt; Unit)(implicit tag: ClassTag[T]) = plugins<br>
.submit(tag.runtimeClass, new PluginFunction(func))</p>
<p>// implicit conversions<br>
implicit def asScalaOption[T](optional: Optional[T]): Option[T] = {<br>
if (optional.isPresent) {<br>
Some(optional.get)<br>
}<br>
else None<br>
}<br>
implicit def asJavaOptional[T](option: Option[T]): Optional[T] = {<br>
option match {<br>
case Some(it) =&gt; Optional.of(it)<br>
case None =&gt; Optional.empty()<br>
}<br>
}</p>
<p>// enriched classes<br>
implicit class PlayerImplicits(player: Player) {<br>
def address = player.getSession.getHostAddress<br>
def sendMessage(message: String) = player.queue(new SendGameInfoMessage(message))<br>
def sendWidgetText(text: String, widget: Int) = player.queue(new SendWidgetTextMessage(text, widget))<br>
def sendForceTab(id: Int) = player.queue(new SendForceTabMessage(id))<br>
}</p>
<p>implicit class MobileEntityImplicits(mob: MobileEntity) {<br>
def attr[T](key: String): T = {<br>
val attr: AttributeValue[T] = mob.getAttributes.get(key)<br>
attr.get<br>
}<br>
def attr[T](key: String, value: T) = {<br>
val attr: AttributeValue[T] = mob.getAttributes.get(key)<br>
attr.set(value)<br>
}<br>
}</p>
<p>implicit class WorldImplicits(world: World) {<br>
def addNpc(id: Int, position: Position) = {<br>
val npc = new Npc(world.getContext, id, position)<br>
world.getNpcs.add(npc)<br>
npc<br>
}<br>
def schedule(instant: Boolean, delay: Int)(action: Task =&gt; Unit): Unit = {<br>
world.schedule(new Task(instant, delay) {<br>
override protected def execute() = action(this)<br>
})<br>
}<br>
def schedule(delay: Int)(action: Task =&gt; Unit): Unit = schedule(false, delay)(action)<br>
}</p>
<p>implicit class ArrayImplicits[T](array: Array[T]) {<br>
def shuffle = {<br>
var i = array.length - 1<br>
while (i &gt; 0) {<br>
val index = rand.nextInt(i + 1)<br>
val a = array(index)<br>
array(index) = array(i)<br>
array(i) = a<br>
i -= 1<br>
i + 1<br>
}<br>
array<br>
}<br>
def randElement = array((rand.nextDouble * array.length).toInt)<br>
}</p>
<p>implicit class SeqImplicits[T](seq: Seq[T]) {<br>
def shuffle = util.Random.shuffle(seq)<br>
def randElement = seq((rand.nextDouble * seq.length).toInt)<br>
}[/code]</p>
<p>as a dependency for all other scripts? so I can evaluate other simple scripts like this</p>
<p>[code=scala]import io.luna.game.event.impl.LoginEvent</p>
<p>on[LoginEvent] { (msg, plr) =&gt;<br>
plr.setRights(if (plr.address.equals(“127.0.0.1”)) rightsDev else plr.getRights)</p>
<p>plr.sendMessage(“Welcome to Luna, a <span class="hashtag">#317</span> Runescape emulator!”)</p>
<p>if (plr.attr(“first_login”)) {<br>
plr.sendMessage(“blah blah blah blah”)<br>
plr.attr(“first_login”, false)<br>
}<br>
}[/code]</p>
<p>does anyone know how I’d go about doing this? i’ve been playing around with it but can’t really come up with an elegant solution. thanks!</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-14T11:42:06Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:28Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don’t see your problem. You import the first file into the second, and then you can use it?</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-14T16:56:49Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:28Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="554726">
<div class="title">
<div class="quote-controls"></div>
 Bowser jr:</div>
<blockquote>
<p>I don’t see your problem. You import the first file into the second, and then you can use it?</p>
</blockquote>
</aside>
<p>my problem is that i have multiple scripts just like the second, i need the first script to have “global” state</p>
<p>edit: i got it working, thanks anyway</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Yz85Racer.html'><span itemprop='name'>Yz85Racer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-18T10:59:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:56Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Are you using scala for a scripting language for a RuneScape server? Interesting</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-18T11:26:24Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:56Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why<br>
not<br>
nashorn</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-18T12:49:40Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:56Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="554726">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/yz85racer/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Yz85Racer:</div>
<blockquote>
<p>Are you using scala for a scripting language for a RuneScape server? Interesting</p>
</blockquote>
</aside>
<p>yeah! originally I was compiling the Scala code into bytecode and using DelayedInit to create a function that wraps around the initialization code, so all I had to do was instantiate the classes on startup and add the wrapped function to a map as a listener (with the event class type as the key)</p>
<p>but this proved not to be sufficient enough because it was still too verbose (a top level class was required for it to work, annoying) plus DelayedInit is deprecated and will probably be removed soon so now I’m just using Scala as a scripting language. its nice because I have a lot more control over exactly how I want it to be</p>
<p>[quote=“sini, post:5, topic:554726”]Why<br>
not<br>
nashorn[/quote]<br>
JavaScript?<br>
no<br>
thank<br>
you</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pwnd.html'><span itemprop='name'>Pwnd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-18T12:53:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:56Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lare69, post:6, topic:554726”][quote author=sini link=topic=673647.msg4504575#msg4504575 date=1455794784]<br>
Why<br>
not<br>
nashorn<br>
[/quote]<br>
JavaScript?<br>
no<br>
thank<br>
you[/quote]<br>
Come on man, it’s the language of the futureeeeeee</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-18T12:57:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:56Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Scala tried to simplify things so much it actually made things harder to read. Imagine that.</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-18T16:13:50Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:56Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lare69, post:3, topic:554726”][quote author=Bowser jr link=topic=673647.msg4504368#msg4504368 date=1455450126]<br>
I don’t see your problem. You import the first file into the second, and then you can use it?<br>
[/quote]<br>
my problem is that i have multiple scripts just like the second, i need the first script to have “global” state</p>
<p>edit: i got it working, thanks anyway[/quote]<br>
What did you do to fix it?</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-19T03:31:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:50:59Z' class='post-time'>
              August 4, 2016,  5:50pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="9" data-topic="554726">
<div class="title">
<div class="quote-controls"></div>
 Bowser jr:</div>
<blockquote>
<p>What did you do to fix it?</p>
</blockquote>
</aside>
<p>because the plugin system is based on event listeners, the scripts are only evaluated once on startup. so what I did was just evaluate the bootstrap (the first block of code in OP) -&gt; script dependencies -&gt; misc. scripts (second code block in OP would fall under this) in that order</p>
<p>i had to define a file that specifically declares what order the “script dependencies” should be evaluated in, to ensure that a script dependency that depends on another script dependency is evaluated after what it depends on</p>
<p>this also means that circular script dependencies won’t work, but there’s ways around that so I don’t think it’ll be an issue</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Death_Style.html'><span itemprop='name'>Death_Style</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-19T05:18:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:00Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>why not write the entire thing in node and save yourself a headache</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/DemonWars.html'><span itemprop='name'>DemonWars</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-19T08:59:56Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:00Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Private servers are NOT Emulators.</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-19T12:16:50Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:00Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="11" data-topic="554726">
<div class="title">
<div class="quote-controls"></div>
 Death Style:</div>
<blockquote>
<p>why not write the entire thing in node and save yourself a headache</p>
</blockquote>
</aside>
<p>that would be more of a headache</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-19T17:18:40Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:01Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="12" data-topic="554726">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/demonwars/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> DemonWars:</div>
<blockquote>
<p>Private servers are NOT Emulators.</p>
</blockquote>
</aside>
<p>what</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/whackatre.html'><span itemprop='name'>whackatre</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-19T18:42:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:01Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>so much clutter you may as well use python</p>
<aside class="quote" data-post="12" data-topic="554726">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/demonwars/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> DemonWars:</div>
<blockquote>
<p>Private servers are NOT Emulators.</p>
</blockquote>
</aside>
<p>l0l</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xx_matty_xx.html'><span itemprop='name'>xx_matty_xx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-19T19:59:52Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:01Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>lol just use ruby</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-19T20:52:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:01Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="15" data-topic="554726">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/whackatre/40/7608_1.png" class="avatar"> Whackatre:</div>
<blockquote>
<p>so much clutter you may as well use python</p>
</blockquote>
</aside>
<p>bitch where</p>
<aside class="quote" data-post="16" data-topic="554726">
<div class="title">
<div class="quote-controls"></div>
 Justin Bieber:</div>
<blockquote>
<p>lol just use ruby</p>
</blockquote>
</aside>
<p>nah</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Yz85Racer.html'><span itemprop='name'>Yz85Racer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-20T03:24:27Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:02Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="8" data-topic="554726">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/sini/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sini:</div>
<blockquote>
<p>Scala tried to simplify things so much it actually made things harder to read. Imagine that.</p>
</blockquote>
</aside>
<p>I actually find Scala nice to read. fu<span class="bbcode-b"></span>ck me right</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-20T04:06:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:02Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>scheme is the way to go</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-20T15:53:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:51:03Z' class='post-time'>
              August 4, 2016,  5:51pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="19" data-topic="554726">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/justaguy/40/61_1.png" class="avatar"> justaguy:</div>
<blockquote>
<p>scheme is the way to go</p>
</blockquote>
</aside>
<p>(((((())))))(())()()()))()))))</p>
      </div>

      <meta itemprop='headline' content='Using Scala as a scripting language'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="5547264658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/using-scala-as-a-scripting-language/554726 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:09 GMT -->
</html>
