<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/some-of-my-useful-procedures/5356 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 11 Aug 2019 18:11:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Some of my useful procedures - Runescape - moparisthebest.com</title>
    <meta name="description" content="For your use or whatever, some are too specific to be put into SRL. 

This finds your principal reference color with tolerance then looks to find ALL other refence colors in the specified box nearby... The concept: There&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="5356.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Some of my useful procedures&#39;" href="5356.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/some-of-my-useful-procedures/5356" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/some-of-my-useful-procedures/5356" />
<meta property="og:title" content="Some of my useful procedures" />
<meta name="twitter:title" content="Some of my useful procedures" />
<meta property="og:description" content="For your use or whatever, some are too specific to be put into SRL.  This finds your principal reference color with tolerance then looks to find ALL other refence colors in the specified box nearby…  The concept: There might be 2 objects on the screen with similar colors… but do they share every single color…  {******************************************************************************* function FindAllColorsInBoxTolerance(var x,y: integer; ColorArray: array of Integer; BoxSize,Tol:integer):b..." />
<meta name="twitter:description" content="For your use or whatever, some are too specific to be put into SRL.  This finds your principal reference color with tolerance then looks to find ALL other refence colors in the specified box nearby…  The concept: There might be 2 objects on the screen with similar colors… but do they share every single color…  {******************************************************************************* function FindAllColorsInBoxTolerance(var x,y: integer; ColorArray: array of Integer; BoxSize,Tol:integer):b..." />
<meta property="article:published_time" content="2006-07-19T00:26:11+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="5356.html">Some of my useful procedures</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/roberty_bob.html'><span itemprop='name'>roberty_bob</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-07-19T00:26:11Z'>
            <time itemprop='dateModified' datetime='2016-07-29T20:42:51Z' class='post-time'>
              July 29, 2016,  8:42pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>For your use or whatever, some are too specific to be put into SRL.</p>
<p>This finds your principal reference color with tolerance then looks to find ALL other refence colors in the specified box nearby…<br>
The concept: There might be 2 objects on the screen with similar colors… but do they share every single color…</p>
<pre><code class="lang-auto">{*******************************************************************************
function FindAllColorsInBoxTolerance(var x,y: integer; ColorArray: array of Integer; BoxSize,Tol:integer):boolean;
By: Roberty Bob
Description: Pass in an array of object colors with principal reference color in Array[0]
             Returns true if all the colors were found in a box surrounding the principal reference color.
*******************************************************************************}
function FindAllColorsInBoxTolerance(var x,y: integer; ColorArray: array of Integer; BoxSize,Tol:integer):boolean;

var
  i,j,a1,b1,HBox,ArraySize,Sx,Sy,Ex,Ey: integer;
var
  AllFound,ColorMissing: boolean;

begin
  //******** Set these to your specific search area, to make function more efficient.
  Sx:= MSX1;     //currently main screen
  Sy:= MSY1;
  Ex:= MSX2;
  Ey:= MSY2;
  //********
  HBox:= (BoxSize/2);
  ColorMissing:= false;
  AllFound:= false;
  ArraySize:= GetArrayLength(ColorArray);
  x:= MSCX-250+random(500);
  y:= MSCY-200+random(400);

  repeat
    FindColorSpiralTolerance(x,y,ColorArray[0],Sx,Sy,Ex,Ey,Tol);
    a1:= x;
    b1:= y;
    i:= 0;
    repeat
      if FindColorSpiralTolerance(a1,b1,ColorArray[i],a1-(HBox),b1-(HBox),a1+(HBox),b1+(HBox),Tol) then
        AllFound:=true
      else
        begin
          ColorMissing:= true;
          AllFound:= false;
          break;
        end;

      i:= i+1;
    until i= (ArraySize-1)
    if ColorMissing then break;
    j:= j+1;
  until AllFound or (j=10)

result:= AllFound;
end;</code></pre>
<p>For example… to find a fire…  <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>setarraylength(Fire,8);<br>
Fire[0]:= 3326963;  // principal reference color.<br>
Fire[1]:= 13376;<br>
Fire[2]:= 10548;<br>
Fire[3]:= 11834;<br>
Fire[4]:= 1997728;<br>
Fire[5]:= 2261664;<br>
Fire[6]:= 3840432;<br>
FindAllColorsInBoxTolerance(x,y,Fire,15,30)</p>
<p>This is my motion detector from SRL. It uses a doubly symetric grid to scan for color change… Its very fast, even on super detaile motion checks…</p>
<pre><code class="lang-auto">{*******************************************************************************
Function DetectMotionInBox(var x,y:integer; BoxDimension,PointsHV,Accuracy,TimeFrame:integer):boolean;
By: Roberty Bob.
Description: Generates a grid of size (PointsHV X PointsHV) within a box of BoxDimension
around the x,y coords inputed. Accuracy (0-100) reflects how many pixels changing color will trigger the detector.
Timeframe is the time in ms which the change will occur over. This will be improved in future version.
*******************************************************************************}
Function DetectMotionInBox(var x,y:integer; BoxDimension,PointsHV,Accuracy,TimeFrame:integer):boolean;
var
  f,g,h,i,j,k, ArraySize,TempColor,
  x1,y1,x2,y2 :integer;
var
  Store1, Store2: array of integer;

begin
  ArraySize:= PointsHV*PointsHV;
  SetArrayLength(Store1,Arraysize);
  SetArrayLength(Store2,Arraysize);

  x1:= x-(BoxDimension/2);
  y1:= y-(BoxDimension/2);
  x2:= x+(BoxDimension/2);
  y2:= y+(BoxDimension/2);

  g:= 0;
  h:= 0;
  //---------------------------
  i:=  0;
  j:= x1;
  k:= y1;

  f:= 0;
  repeat
    Store1[f]:= 0;
    f:= f+1;
  until f=ArraySize-1

  f:= 0;
  repeat
    Store2[f]:= 0;
    f:= f+1;
  until f=ArraySize-1
  
  
  repeat
        j:=x1;
        repeat
          begin
            TempColor:= GetColor(j,k);

            Store1[i]:= TempColor;

            i:= i+1;
            j:= j+(BoxDimension/(PointsHV-1));
          end;
        until j&gt;=x2
    k:= k+(BoxDimension/(PointsHV-1));
  until k&gt;=y2

  wait(TimeFrame);
  //---------------------------
  i:=  0;
  j:= x1;
  k:= y1;
  repeat
        j:=x1;
        repeat
          begin
            TempColor:= GetColor(j,k);
            Store2[i]:= TempColor;

            if Store1[i] = Store2[i] then
              begin
                g:= g+1;
                h:= h+1;
              end
            else
                h:= h+1;

            i:= i+1;
            j:= j+(BoxDimension/(PointsHV-1));
          end;
        until j&gt;=x2
    k:= k+(BoxDimension/(PointsHV-1));
  until k&gt;=y2
  //---------------------------

if (Round(g/h*100))&gt;=Accuracy then
Result:= False
else
Result:= True;
end;</code></pre>
<p>This is to count specific ores. ie. how many coal ores are in my inventory. Just basic but just sharing the love.</p>
<pre><code class="lang-auto">{*******************************************************************************
Function CountOres(WhichOre: string; Tol:integer) :Integer;
By: Roberty Bob.
Description: Returns the number of specific ores in your inventory.
  Argument 'all' returns the total number of ores you have.
*******************************************************************************}
Function CountOres(WhichOre: string; Tol:integer) :Integer;
var
  OreCount: integer;

begin
  OreCount:= 0;

  case WhichOre of
  'copper' : OreCount:= CountItemBmpTol( CopperOre, Tol)  ;
  'tin'    : OreCount:= CountItemBmpTol( TinOre, Tol)     ;
  'iron'   : OreCount:= CountItemBmpTol( IronOre, Tol)    ;
  'coal'   : OreCount:= CountItemBmpTol( CoalOre, Tol)    ;
  'silver' : OreCount:= CountItemBmpTol( SilverOre, Tol)  ;
  'gold'   : OreCount:= CountItemBmpTol( GoldOre, Tol)    ;
  'mith'   : OreCount:= CountItemBmpTol( MithOre, Tol)    ;
  'addy'   : OreCount:= CountItemBmpTol( AdamantOre, Tol) ;
  'rune'   : OreCount:= CountItemBmpTol( RuniteOre, Tol)  ;
  'all'    : begin
               OreCount:= OreCount + CountItemBmpTol( CopperOre, Tol)  ;
               OreCount:= OreCount + CountItemBmpTol( TinOre, Tol)     ;
               OreCount:= OreCount + CountItemBmpTol( IronOre, Tol)    ;
               OreCount:= OreCount + CountItemBmpTol( SilverOre, Tol)  ;
               OreCount:= OreCount + CountItemBmpTol( CoalOre, Tol)    ;
               OreCount:= OreCount + CountItemBmpTol( GoldOre, Tol)    ;
               OreCount:= OreCount + CountItemBmpTol( MithOre, Tol)    ;
               OreCount:= OreCount + CountItemBmpTol( AdamantOre, Tol) ;
               OreCount:= OreCount + CountItemBmpTol( RuniteOre, Tol)  ;
             end;
  end;

Result:= OreCount;
end;</code></pre>
<p>Another one for your miners… a random ore dropper… I have a better version of this somewhere but can’t find it… this one will need a little tweaking… <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Not for SRL, just for whoever can use it.</p>
<pre><code class="lang-auto">{*******************************************************************************
Procedure OreDropRandom;
Description: Drops all normal Ores randomly.
By: Roberty Bob
Description: Drops all ores from your inventory in a guided random process.
*******************************************************************************}
Procedure OreDropRandom;

var
  a,b,
  c,d,
  OreMask: integer;

begin
  OreMask := BitmapFromString(11, 11, 'z78DA73730301033070436' +
       '2238B60024C35B84CC0A5923C13F0BB937813F0EB22DE04CC5022' +
       'CF04CADD404CC890EA0BFCE2F85D4E4C6A212FF470998FCC0600F' +
       'B599CC1');

  Repeat
    a:= a-80+random(160);
    b:= b-80+random(160);
    if FindBitmapMaskTolerance(OreMask, a, b, MIX1, MIY1, MIX2, MIY2, 10, 10) then
      begin
        MMouse(a,b,0,0);
        Wait(50+random(50));
        Mouse(a,b,5,5,false);
        Wait(200+Random(50));
        ChooseOption(c, d, 'rop');
        Wait(400+Random(200));
      end;
  until not FindBitmapMaskTolerance(OreMask, a, b, MIX1, MIY1, MIX2, MIY2, 10, 10)
  FreeBitmap(OreMask);
  
end;</code></pre>
      </div>

      <meta itemprop='headline' content='Some of my useful procedures'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheesehunk.html'><span itemprop='name'>Cheesehunk</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-07-19T00:40:16Z'>
            <time itemprop='dateModified' datetime='2016-07-29T20:42:51Z' class='post-time'>
              July 29, 2016,  8:42pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You got some nice stuff in there… Keep up the good work!</p>
      </div>

      <meta itemprop='headline' content='Some of my useful procedures'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Starblaster100.html'><span itemprop='name'>Starblaster100</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-07-19T20:24:53Z'>
            <time itemprop='dateModified' datetime='2016-07-29T20:43:45Z' class='post-time'>
              July 29, 2016,  8:43pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Can you show me an example of how DetectMotionInBox works?<br>
Looks very nice</p>
      </div>

      <meta itemprop='headline' content='Some of my useful procedures'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/roberty_bob.html'><span itemprop='name'>roberty_bob</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-07-20T00:44:55Z'>
            <time itemprop='dateModified' datetime='2016-07-29T20:43:58Z' class='post-time'>
              July 29, 2016,  8:43pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’ve stuck this piece of code just after the “result assigment” so i know triggering accuracies for various things/ events.</p>
<pre><code class="lang-auto">WriteLn(inttostr(Round(g/h*100)));</code></pre>
<p>The below example is making a 10 point by 10 point box of size 40 located in the top left of the screen for arbitary motion checking… It will trigger on 50% color change in the gridpoints, as accuracy is set to 50%. It is scanning 150 ms apart in time. (much less than this will get your processor warmed up  :P)</p>
<pre><code class="lang-auto">begin
  repeat
    x:=50;
    y:=50;
  until DetectMotionInBox(x,y,40,10,50,150)
WriteLn('You are almost certainly in motion, depending on your environment');
end.</code></pre>
<p>Let me know how it goes. Just run the script while you are stationary… and then walk somewhere to watch it break out of the loop with the motion detector.</p>
      </div>

      <meta itemprop='headline' content='Some of my useful procedures'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheesehunk.html'><span itemprop='name'>Cheesehunk</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-07-20T00:56:58Z'>
            <time itemprop='dateModified' datetime='2016-07-29T20:43:59Z' class='post-time'>
              July 29, 2016,  8:43pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>That is awesome! It works great as well. Awesome job Roberty rob, one of the most useful/cool procedures I have seen in a while. Also, it is very unique. <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Keep up the good work.</p>
      </div>

      <meta itemprop='headline' content='Some of my useful procedures'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ron.html'><span itemprop='name'>Ron</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-07-20T02:44:04Z'>
            <time itemprop='dateModified' datetime='2016-07-29T20:44:05Z' class='post-time'>
              July 29, 2016,  8:44pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="5" data-topic="5356">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/cheesehunk/40/5_8504b32b4165840149d2c3dd52eb0686.png" class="avatar"> Cheesehunk:</div>
<blockquote>
<p>That is awesome! It works great as well. Awesome job Roberty rob, one of the most useful/cool procedures I have seen in a while. Also, it is very unique. <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Keep up the good work.</p>
</blockquote>
</aside>
<p>I totally agree. Man you guys are on fire today creating new procedures and showing what you’ve been hiding from us all this time! Shame! lol. This is really wonderful man, sure would help on finding stuff a hell of a lot faster. <img src="../../images/emoji/twitter/slight_smilec164.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Some of my useful procedures'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/tarajunky.html'><span itemprop='name'>tarajunky</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-07-29T04:25:17Z'>
            <time itemprop='dateModified' datetime='2016-07-29T20:54:46Z' class='post-time'>
              July 29, 2016,  8:54pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>FindAllColorsInBoxTolerance looks great.  The one issue I would have with it is that it will only search for one box at the very first position found for the primary color.</p>
<p>So, if you’re looking for a fire, and you character happens to have a similar color cape or hair or something, then you’ll get a lot of ‘false negatives’ and miss a lot of fires.  If you set it up like a FindObj type procedure where it would scan the screen from left top to right bottom, you could test every color that matches your primary color and find a fire on the screen every time.</p>
<p>Of course, this could also be done using a loop that repeatedly calls the FindAllColorsInBoxTolerance procedure using a range of starting x,y positions, but I just wanted to give you some feedback.  Nice work!</p>
      </div>

      <meta itemprop='headline' content='Some of my useful procedures'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/roberty_bob.html'><span itemprop='name'>roberty_bob</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-07-29T08:53:56Z'>
            <time itemprop='dateModified' datetime='2016-07-29T20:54:55Z' class='post-time'>
              July 29, 2016,  8:54pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey Thanks Tara. I’m glad to see we haven’t lost you with Villavu gone…  <img src="../../images/emoji/twitter/smileyc164.png?v=9" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>thanks for the feedback… It does work better with some things than others… I usually run it in a loop with a certain number of iterations / uptext condition.</p>
<p>I have made it so that every time you loop the starting coordinates for the spiral change to a random MS point.  Kinda like a Monte Carlo searching algorithm.</p>
<p>I find it better than searching for one color with tolerance though. You could always use it with a tolerance raising loop too I suppose.</p>
<p>~Rob</p>
      </div>

      <meta itemprop='headline' content='Some of my useful procedures'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_DEAD.html'><span itemprop='name'>_DEAD</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-07-29T14:15:35Z'>
            <time itemprop='dateModified' datetime='2016-07-29T20:55:08Z' class='post-time'>
              July 29, 2016,  8:55pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ive got a better “find all colours in box” procedure, instead of being limited to a rectangle, you can scan any quadrilateral, ill post it if i can find it.</p>
      </div>

      <meta itemprop='headline' content='Some of my useful procedures'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/WhiteShadow.html'><span itemprop='name'>WhiteShadow</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-08-09T06:56:27Z'>
            <time itemprop='dateModified' datetime='2016-07-29T21:10:23Z' class='post-time'>
              July 29, 2016,  9:10pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>LoadSmithingBitMaps;? For CountOres;</p>
<p>After I studied, your function a bit now I get prinicipal reference color.<br>
Basically this creates a box (size box based on BoxSize) around the principal color, then searches for the <span class="bbcode-b">all</span> other color that’s in the box. If there is all colors in the box then Result:= true;</p>
<p>Just in case you don’t know.</p>
<ul>
<li>Booleans are default false - locals are default 0.</li>
<li>for to dos are much faster looping than repeat until, and less messy! xD<br>
Well, I admire your work. Keep it up dude!</li>
</ul>
<p>One question. Why div BoxSize? Just tell people that it’s pixels out from coord. Or else they insert a small pixel and you div it even more can cause more result falses then needed.<br>
Also what would happen if this part…<br>
[scar]FindColorSpiralTolerance(x, y, ColorArray[0], MSX1, MSY1, MSX2, MSY2, Tol)<br>
a1:= x;<br>
b1:= y;[/scar]<br>
FindSpiral were false then you would get a1 b1 equalling 0, 0. Your box would be screwed too. Negative top left corner coords.<br>
I fixed it a bit<br>
[scar]{*******************************************************************************<br>
function FindAllColorsInBoxTolerance(var x,y: integer; ColorArray: array of Integer; BoxSize,Tol:integer):boolean;<br>
By: Roberty Bob<br>
Description: Pass in an array of object colors with principal reference color in Array[0]<br>
Returns true if all the colors were found in a box surrounding the principal reference color.<br>
*******************************************************************************}<br>
function FindAllColorsInBoxTolerance(var x, y : Integer; ColorArray: array of Integer; BoxSize, Tol : Integer) : Boolean;<br>
var<br>
i, j, a1, b1, ArraySize : Integer;<br>
AllFound, ColorMissing  : Boolean;<br>
begin<br>
ArraySize:= GetArrayLength(ColorArray);<br>
x:= MSCX - 250 + random(500);<br>
y:= MSCY - 200 + random(400);<br>
repeat<br>
if(not(FindColorSpiralTolerance(x, y, ColorArray[0], MSX1, MSY1, MSX2, MSY2, Tol))then<br>
begin<br>
Result:= False;<br>
Exit;<br>
end else<br>
begin<br>
a1:= x;<br>
b1:= y;<br>
end;<br>
for i:= 0 to ArraySize - 1 do<br>
begin<br>
if(FindColorSpiralTolerance(a1, b1, ColorArray[i], a1 - BoxSize, b1 - BoxSize, a1 + BoxSize, b1 + BoxSize, Tol))then<br>
AllFound:= True<br>
else<br>
begin<br>
ColorMissing:= True;<br>
AllFound:= False;<br>
Break;<br>
end;<br>
end;<br>
j:= j + 1;<br>
if(ColorMissing)then Break;<br>
until(AllFound) or (j &gt;= 10)<br>
Result:= AllFound;<br>
end;[/scar]<br>
If you mind, I’ll just remove it. :S</p>
<p>and again, great work!</p>
<p>-WhiteShadow</p>
      </div>

      <meta itemprop='headline' content='Some of my useful procedures'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/some-of-my-useful-procedures/5356 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 11 Aug 2019 18:11:58 GMT -->
</html>
