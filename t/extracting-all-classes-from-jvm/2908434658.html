<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/extracting-all-classes-from-jvm/290843?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 11:28:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Extracting all classes from JVM? - General Programming - moparisthebest.com</title>
    <meta name="description" content="Is it possible to extract all classes that are currently loaded to JVM(classes for all java applications that are running)? I believe I would need the target applications classloader name and then get the classes, but I &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2908434658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Extracting all classes from JVM?&#39;" href="290843.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/extracting-all-classes-from-jvm/290843?page=2" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/extracting-all-classes-from-jvm/290843?page=2" />
<meta property="og:title" content="Extracting all classes from JVM?" />
<meta name="twitter:title" content="Extracting all classes from JVM?" />
<meta property="og:description" content="[quote=“the bank, post:19, topic:290843”][quote author=frank_ link=topic=384511.msg2884588#msg2884588 date=1248531562]   Actually, is it possible to use a javaagent on a JVM running runescape?  Detectable?[/quote]  sure thing Dear, no smartness required right there." />
<meta name="twitter:description" content="[quote=“the bank, post:19, topic:290843”][quote author=frank_ link=topic=384511.msg2884588#msg2884588 date=1248531562]   Actually, is it possible to use a javaagent on a JVM running runescape?  Detectable?[/quote]  sure thing Dear, no smartness required right there." />
<meta property="article:published_time" content="2009-07-25T14:35:58+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="290843.html">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="290843.html">Extracting all classes from JVM?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Nader_H.I.html'><span itemprop='name'>Nader_H.I.M</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T14:35:58Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:31:08Z' class='post-time'>
              July 31, 2016,  9:31am
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“the bank, post:19, topic:290843”][quote author=frank_ link=topic=384511.msg2884588#msg2884588 date=1248531562]</p>
<aside class="quote no-group">
<blockquote>
<p><span class="mention">@OP</span><br>
if they went to this trouble, don’t you think it will also be obbed?<br>
[/quote]has that stopped us with runescape?</p>
</blockquote>
</aside>
<p>Actually, is it possible to use a javaagent on a JVM running runescape?  Detectable?[/quote]<br>
sure thing Dear, no smartness required right there.</p>
      </div>

      <meta itemprop='headline' content='Extracting all classes from JVM?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_bank.html'><span itemprop='name'>the_bank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T15:00:50Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:31:10Z' class='post-time'>
              July 31, 2016,  9:31am
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Nader[H.I.M”]link=topic=384511.msg2884597#msg2884597 date=1248532558]</p>
<p>[quote author=the bank link=topic=384511.msg2884590#msg2884590 date=1248531721]</p>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<p><span class="mention">@OP</span><br>
if they went to this trouble, don’t you think it will also be obbed?<br>
[/quote]has that stopped us with runescape?</p>
</blockquote>
</aside>
<p>Actually, is it possible to use a javaagent on a JVM running runescape?  Detectable?</p>
</blockquote>
</aside>
<p>sure thing Dear, no smartness required right there.[/quote]Why are you talking?</p>
      </div>

      <meta itemprop='headline' content='Extracting all classes from JVM?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Beatz.html'><span itemprop='name'>The_Beatz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T15:43:22Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:31:12Z' class='post-time'>
              July 31, 2016,  9:31am
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I decided to try use agent attaching. Will post here when I get the classes out. <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>

      <meta itemprop='headline' content='Extracting all classes from JVM?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T16:41:43Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:31:14Z' class='post-time'>
              July 31, 2016,  9:31am
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“frank_, post:20, topic:290843”][quote author=the bank link=topic=384511.msg2884590#msg2884590 date=1248531721]<br>
Actually, is it possible to use a javaagent on a JVM running runescape?  Detectable?<br>
[/quote]yes to both[/quote]<br>
why is it detectable?</p>
<p>put your classes in a package with an obscure name and there is no way that the classes would be detected.<br>
hiding your thread would be harder but i’m sure you can instrument the return of the list of threads in a threadGroup.</p>
      </div>

      <meta itemprop='headline' content='Extracting all classes from JVM?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Beatz.html'><span itemprop='name'>The_Beatz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T18:10:24Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:31:22Z' class='post-time'>
              July 31, 2016,  9:31am
            </time>
        <span itemprop='position'>#25</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>OK, I faced new problems now.</p>
<pre><code class="lang-auto">classes from current classloader:

com.regexlab.j2e.Jar2ExeClassLoader - loaded by: sun.misc.Launcher$AppClassLoader@d9f9c3
AttachableAgent - loaded by: sun.misc.Launcher$AppClassLoader@d9f9c3</code></pre>
<p>This is the output from the attached agent. The problem is that com.regexlab.j2e.Jar2ExeClassLoader is creating a new classloader and I don’t know what it is. Is it possible to list up all classloaders in a given JVM process?</p>
      </div>

      <meta itemprop='headline' content='Extracting all classes from JVM?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T19:49:09Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:31:37Z' class='post-time'>
              July 31, 2016,  9:31am
            </time>
        <span itemprop='position'>#26</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Jar2exe calls JNI_CreateJavaVM indirectly, through getting the function address through GetProcAddress() and then calling that. I managed to get the classes <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> First, in OllyDBG, I searched all referenced strings and found the JNI_CreateJavaVM string that is passed to GetProcAddress(). I traced it into the code and set a breakpoint on GetProcAddress(). I then ran a simple C app I wrote that is merely a DLL injector. It injected a DLL which I had also written in C that detoured JNI_CreateJavaVM inside the jvm.dll module to my own JNI_CreateJavaVM. My own JNI_CreateJavaVM was basically the following:</p>
<pre><code class="lang-auto">jint JNICALL MyCreateJavaVM(JavaVM **pvm, void **penv, void *args) {
    JavaVMInitArgs *vmargs = (JavaVMInitArgs *) args;
    JavaVMOption *oldOptions = (JavaVMOption *) vmargs-&gt;options;
    int nOldOptions = vmargs-&gt;nOptions;
    JavaVMOption newOptions[nOldOptions + 1];
    int i;
    for (i = 0; i &lt; nOldOptions; ++i) {
        JavaVMOption option = oldOptions[i];
        newOptions[i].optionString = option-&gt;optionString;
    }
    newOptions[nOldOptions].optionString = "-javaagent:agent.jar";
    vmargs-&gt;options = newOptions;
    vmargs-&gt;nOptions = nOldOptions + 1;
    return OrigCreateJavaVM(pvm, penv, vmargs);
}</code></pre>
<p>This adds my own javaagent VM option to be passed to the CreateJavaVM function so that my own agent.jar simple intrumentation agent is ran with it.[br][br][size=1]Posted on: July 25, 2009, 03:54:31 am[/size][hr]BTW all, if the classes aren’t ‘hidden’, you can easily get them out just by renaming the EXE to ZIP and then extracting <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='Extracting all classes from JVM?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/yakman.html'><span itemprop='name'>yakman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T20:07:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:31:37Z' class='post-time'>
              July 31, 2016,  9:31am
            </time>
        <span itemprop='position'>#27</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>and did it work?<br>
If I remember correctly, passing args like that to JNI is quite different from passing them as command line args to java.exe<br>
jni docs said the only thing that works is “-D” and everything in Xusage.txt</p>
<pre><code class="lang-auto">    -Xmixed           mixed mode execution (default)
    -Xint             interpreted mode execution only
    -Xbootclasspath:&lt;directories and zip/jar files separated by ;&gt;
                      set search path for bootstrap classes and resources
    -Xbootclasspath/a:&lt;directories and zip/jar files separated by ;&gt;
                      append to end of bootstrap class path
    -Xbootclasspath/p:&lt;directories and zip/jar files separated by ;&gt;
                      prepend in front of bootstrap class path
    -Xnoclassgc       disable class garbage collection
    -Xincgc           enable incremental garbage collection
    -Xloggc:&lt;file&gt;    log GC status to a file with time stamps
    -Xbatch           disable background compilation
    -Xms&lt;size&gt;        set initial Java heap size
    -Xmx&lt;size&gt;        set maximum Java heap size
    -Xss&lt;size&gt;        set java thread stack size
    -Xprof            output cpu profiling data
    -Xfuture          enable strictest checks, anticipating future default
    -Xrs              reduce use of OS signals by Java/VM (see documentation)
    -Xcheck:jni       perform additional checks for JNI functions
    -Xshare:off	      do not attempt to use shared class data
    -Xshare:auto      use shared class data if possible (default)
    -Xshare:on	      require using shared class data, otherwise fail.

The -X options are non-standard and subject to change without notice.</code></pre>
<p>For instance “-splash” works on java.exe but doesnt work with jni. So how come “-javaagent” worked?<br>
Damn vague docs again…</p>
      </div>

      <meta itemprop='headline' content='Extracting all classes from JVM?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-25T20:13:11Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:31:38Z' class='post-time'>
              July 31, 2016,  9:31am
            </time>
        <span itemprop='position'>#28</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yakman, yes it worked for me <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Take a look at this:</p>
<p>[code]A.2 JAVA_TOOL_OPTIONS Environment Variable</p>
<p>In many environments the command line to start the application is not readily accessible. This often arises with applications that use embedded VMs (meaning they use the JNI Invocation API to start the VM), or where the startup is deeply nested in scripts. In these environments the JAVA_TOOL_OPTIONS environment variable can be useful to augment a command line.</p>
<p>When this environment variable is set, the JNI_CreateJavaVM function (in the JNI Invocation API) prepends the value of the environment variable to the options supplied in its JavaVMInitArgs argument. In some cases this option is disabled for security reasons, for example, on Solaris OS the option is disabled when the effective user or group ID differs from the real ID.</p>
<p>This environment variable allows you to specify the initialization of tools, specifically the launching of native or Java programming language agents using the -agentlib or -javaagent options. In the following example the environment variable is set so that the HPROF profiler is launched when the application is started.[/code]</p>
<p>I think I found an even easier alternative <img src="../../images/emoji/twitter/open_mouthae52.png?v=5" title=":open_mouth:" class="emoji" alt=":open_mouth:"></p>
      </div>

      <meta itemprop='headline' content='Extracting all classes from JVM?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-26T03:20:48Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:32:11Z' class='post-time'>
              July 31, 2016,  9:32am
            </time>
        <span itemprop='position'>#29</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“BAsh, post:24, topic:290843”][quote author=frank_ link=topic=384511.msg2884593#msg2884593 date=1248531978]</p>
<aside class="quote no-group">
<blockquote>
<p>Actually, is it possible to use a javaagent on a JVM running runescape?  Detectable?<br>
[/quote]yes to both</p>
</blockquote>
</aside>
<p>why is it detectable?</p>
<p>put your classes in a package with an obscure name and there is no way that the classes would be detected.<br>
hiding your thread would be harder but i’m sure you can instrument the return of the list of threads in a threadGroup.[/quote]i originally took a path like this, loading an agent that had its name randomly generated, it works ok but it is still “detectable” due to <a href="http://java.sun.com/javase/6/docs/api/java/lang/Package.html#getPackages%28%29" data-bbcode="true" rel="nofollow noopener">Package.getPackages()</a> (amongst other things) and i didnt want to instrument any classes other than the client</p>
<p>hiding the thread was a nonissue because the cheat would work in the main game thread (probably detectable)</p>
      </div>

      <meta itemprop='headline' content='Extracting all classes from JVM?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-07-26T04:42:39Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:32:17Z' class='post-time'>
              July 31, 2016,  9:32am
            </time>
        <span itemprop='position'>#30</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Package.getPackages() only returns the packages known to the current classloader. Since the javagent is in the bootstrap loader the class that has premain() is part of that list. So just call that class some random name and then trampoline into a class loaded by your own class loader.</p>
<p>about the thread: unless your code waits or is excessively computationally expensive it shouldn’t be a problem. timing attacks are very machine dependent and cannot be accurately measured sine there are many things going on in the background. additionally if you jam your hook in at startup there is no base case to measure.</p>
<p>also: is a Package always created for packages? i got the idea that if a class was defined without the ClassLoader.defineClass() call that doesn’t have a Package as an argument then there wouldn’t be a package even if the class was called a name that meant it was in a package.</p>
      </div>

      <meta itemprop='headline' content='Extracting all classes from JVM?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="290843.html">← previous page</a></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/extracting-all-classes-from-jvm/290843?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 11:28:51 GMT -->
</html>
