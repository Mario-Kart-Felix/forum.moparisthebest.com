<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/an-actual-working-unique-php-txt-counter/362693 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 01:10:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>An actual working unique php .txt counter - General Programming - moparisthebest.com</title>
    <meta name="description" content="I&amp;#39;ve been looking everywhere for a simple php counter that counts the hit and only does it per unique. The stupid thing records the ip address not the hit, for example: 

[php]&amp;lt;?php $filename = &amp;quot;hits.txt&amp;quot;; 

$file = file&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="362693.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;An actual working unique php .txt counter&#39;" href="362693.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/an-actual-working-unique-php-txt-counter/362693" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/an-actual-working-unique-php-txt-counter/362693" />
<meta property="og:title" content="An actual working unique php .txt counter" />
<meta name="twitter:title" content="An actual working unique php .txt counter" />
<meta property="og:description" content="I’ve been looking everywhere for a simple php counter that counts the hit and only does it per unique. The stupid thing records the ip address not the hit, for example:  [php]&lt;?php  $filename = “hits.txt”;  $file = file($filename);  $file = array_unique($file);  $hits = count($file);  echo $hits;  $fd = fopen ($filename , “r”);  $fstring = fread ($fd , filesize ($filename));  fclose($fd);  $fd = fopen ($filename , “w”);  $fcounted = $fstring.&quot;\n&quot;.getenv(“REMOTE_ADDR”);  $fout= fwrite ($fd , $fco..." />
<meta name="twitter:description" content="I’ve been looking everywhere for a simple php counter that counts the hit and only does it per unique. The stupid thing records the ip address not the hit, for example:  [php]&lt;?php  $filename = “hits.txt”;  $file = file($filename);  $file = array_unique($file);  $hits = count($file);  echo $hits;  $fd = fopen ($filename , “r”);  $fstring = fread ($fd , filesize ($filename));  fclose($fd);  $fd = fopen ($filename , “w”);  $fcounted = $fstring.&quot;\n&quot;.getenv(“REMOTE_ADDR”);  $fout= fwrite ($fd , $fco..." />
<meta property="article:published_time" content="2010-10-03T12:47:46+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="362693.html">An actual working unique php .txt counter</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/I_james_I.html'><span itemprop='name'>I_james_I</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-10-03T12:47:46Z'>
            <time itemprop='dateModified' datetime='2016-08-01T00:09:43Z' class='post-time'>
              August 1, 2016, 12:09am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’ve been looking everywhere for a simple php counter that counts the hit and only does it per unique. The stupid thing records the ip address not the hit, for example:</p>
<p>[php]&lt;?php<br>
$filename = “hits.txt”;</p>
<p>$file = file($filename);<br>
$file = array_unique($file);<br>
$hits = count($file);<br>
echo $hits;</p>
<p>$fd = fopen ($filename , “r”);<br>
$fstring = fread ($fd , filesize ($filename));<br>
fclose($fd);<br>
$fd = fopen ($filename , “w”);<br>
$fcounted = $fstring."\n".getenv(“REMOTE_ADDR”);<br>
$fout= fwrite ($fd , $fcounted );<br>
fclose($fd);<br>
?&gt;[/php]</p>
<p>edit: it records the actull unique hit on the webpage (“echo $hits;”) but i want it to display the unique hits in a file because i’m using a direct header redirect not a displayed page</p>
      </div>

      <meta itemprop='headline' content='An actual working unique php .txt counter'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-10-04T01:57:19Z'>
            <time itemprop='dateModified' datetime='2016-08-01T00:10:54Z' class='post-time'>
              August 1, 2016, 12:10am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Not only is this very disk intensive, and CPU intensive, you are going to run into horrible problems if more than one instance of this page is ran at the same time.  You can only have the file open for writing from one PHP instance, if another tries to do it at the same time it will fail.</p>
      </div>

      <meta itemprop='headline' content='An actual working unique php .txt counter'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xx_matty_xx.html'><span itemprop='name'>xx_matty_xx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-10-04T09:21:34Z'>
            <time itemprop='dateModified' datetime='2016-08-01T00:11:04Z' class='post-time'>
              August 1, 2016, 12:11am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What’s so bad about using a database?</p>
      </div>

      <meta itemprop='headline' content='An actual working unique php .txt counter'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/I_james_I.html'><span itemprop='name'>I_james_I</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-10-04T17:37:14Z'>
            <time itemprop='dateModified' datetime='2016-08-01T00:11:22Z' class='post-time'>
              August 1, 2016, 12:11am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="3" data-topic="362693">
<div class="title">
<div class="quote-controls"></div>
 xx matty xx:</div>
<blockquote>
<p>What’s so bad about using a database?</p>
</blockquote>
</aside>
<p>Nothing, thanks!</p>
      </div>

      <meta itemprop='headline' content='An actual working unique php .txt counter'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Mopman.html'><span itemprop='name'>Mopman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-10-04T23:05:56Z'>
            <time itemprop='dateModified' datetime='2016-08-01T00:11:40Z' class='post-time'>
              August 1, 2016, 12:11am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>uh</p>
<p>whats so good about using a database, in this situation?</p>
      </div>

      <meta itemprop='headline' content='An actual working unique php .txt counter'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-10-05T02:09:24Z'>
            <time itemprop='dateModified' datetime='2016-08-01T00:11:55Z' class='post-time'>
              August 1, 2016, 12:11am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Mopman, post:5, topic:362693”]uh</p>
<p>whats so good about using a database, in this situation?[/quote]<br>
storing large amounts of data that needs to be conveniently and quickly parsed? I would have mutliple tables however for different IP blocks rather than going through one large table.</p>
      </div>

      <meta itemprop='headline' content='An actual working unique php .txt counter'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/an-actual-working-unique-php-txt-counter/362693 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 01:10:30 GMT -->
</html>
