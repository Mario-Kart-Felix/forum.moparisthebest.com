<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/why-does-not-this-add-a-method-to-client-class/255645 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 14:24:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Why does not this add a method to client.class? - General Programming - moparisthebest.com</title>
    <meta name="description" content="Im trying to learn bcel! 

jc is ofcourse ClassParser(...).parse()  

         ClassGen cGen = new ClassGen(jc);
        ConstantPoolGen ThePool = cGen.getConstantPool();
        
    FieldGen FieldGenerated = new FieldG&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="255645.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Why does not this add a method to client.class?&#39;" href="255645.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/why-does-not-this-add-a-method-to-client-class/255645" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/why-does-not-this-add-a-method-to-client-class/255645" />
<meta property="og:title" content="Why does not this add a method to client.class?" />
<meta name="twitter:title" content="Why does not this add a method to client.class?" />
<meta property="og:description" content="Im trying to learn bcel!  jc is ofcourse ClassParser(…).parse()          ClassGen cGen = new ClassGen(jc);         ConstantPoolGen ThePool = cGen.getConstantPool();                   FieldGen FieldGenerated = new FieldGen(Constants.ACC_PUBLIC | Constants.ACC_FINAL, Type.INT, &quot;mc.p&quot;, ThePool);         String MethodName = &quot;getNPCCount&quot;;          Field fieldObject = FieldGenerated.getField();          addReturnMethod(fieldObject, MethodName, cGen, ThePool);         //Go through all the methods     ..." />
<meta name="twitter:description" content="Im trying to learn bcel!  jc is ofcourse ClassParser(…).parse()          ClassGen cGen = new ClassGen(jc);         ConstantPoolGen ThePool = cGen.getConstantPool();                   FieldGen FieldGenerated = new FieldGen(Constants.ACC_PUBLIC | Constants.ACC_FINAL, Type.INT, &quot;mc.p&quot;, ThePool);         String MethodName = &quot;getNPCCount&quot;;          Field fieldObject = FieldGenerated.getField();          addReturnMethod(fieldObject, MethodName, cGen, ThePool);         //Go through all the methods     ..." />
<meta property="article:published_time" content="2009-01-09T22:16:22+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="255645.html">Why does not this add a method to client.class?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pker.html'><span itemprop='name'>Pker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-09T22:16:22Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:40:49Z' class='post-time'>
              July 31, 2016,  4:40am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Im trying to learn bcel!</p>
<p>jc is ofcourse ClassParser(…).parse()</p>
<pre><code class="lang-auto">        ClassGen cGen = new ClassGen(jc);
        ConstantPoolGen ThePool = cGen.getConstantPool();

        
        FieldGen FieldGenerated = new FieldGen(Constants.ACC_PUBLIC | Constants.ACC_FINAL, Type.INT, "mc.p", ThePool);
        String MethodName = "getNPCCount";

        Field fieldObject = FieldGenerated.getField();

        addReturnMethod(fieldObject, MethodName, cGen, ThePool);

       //Go through all the methods

       //save the changes to the class
       jc.setConstantPool(ThePool.getFinalConstantPool());
        try {
               System.out.println("Saving updated client.class.");
               //Again, very easy to save the "compiled" class back to disk with one line.
               jc.dump("./client/" + jc.getClassName() + ".class");
         } catch (IOException ioe) { System.out.println("Failed to save updated client.class."); }


// This is the function from the TUT thread... the one im using!
public static void addReturnMethod(Field returnField, String methodName, ClassGen cGen, ConstantPoolGen cPoolGen)
{
	InstructionList methodIList = new InstructionList();
	System.out.println("addReturnMethod-&gt;cGen.getClassName() = "+cGen.getClassName()+"\n");
	MethodGen getMethod = new MethodGen(Constants.ACC_PUBLIC, returnField.getType(), Type.NO_ARGS, new String[]{}, methodName, cGen.getClassName(), methodIList, cPoolGen);

	InstructionFactory iFactory = new InstructionFactory(cGen, cPoolGen);

	methodIList.append(new ALOAD(0));
  methodIList.append(iFactory.createFieldAccess(cGen.getClassName(), returnField.getName(), returnField.getType(), Constants.GETSTATIC));
	methodIList.append(InstructionFactory.createReturn(returnField.getType()));

	getMethod.setMaxStack();
	getMethod.setMaxLocals();

	cGen.addMethod(getMethod.getMethod());
  System.out.println("addReturnMethod-&gt;returnField.getType() = "+returnField.getType()+"\n");
	System.out.println(cGen.getClassName() + " -&gt; added " + methodName);


}
</code></pre>
<p>When i decompile /client/client.class  - I only see the standard code :&lt; whats wrong?</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ilyaostr9.html'><span itemprop='name'>ilyaostr9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-09T22:24:00Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:40:50Z' class='post-time'>
              July 31, 2016,  4:40am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>have you tried da statiks?</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pker.html'><span itemprop='name'>Pker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-09T22:28:01Z'>
            <time itemprop='dateModified' datetime='2019-01-10T19:06:43Z' class='post-time'>
              January 10, 2019,  7:06pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Im sorry, what do you mean by da statiks ?</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/nueb35.html'><span itemprop='name'>nueb35</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-09T22:41:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:40:52Z' class='post-time'>
              July 31, 2016,  4:40am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>make sure you actually dump the edited classes, classGen.getJavaClass().dump(somePlace);</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pker.html'><span itemprop='name'>Pker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-09T22:51:19Z'>
            <time itemprop='dateModified' datetime='2019-01-10T19:06:42Z' class='post-time'>
              January 10, 2019,  7:06pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you man!</p>
<p>You saved my life.</p>
<p>Now it works <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
<p>Edit:</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/nueb35.html'><span itemprop='name'>nueb35</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-09T22:57:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:40:56Z' class='post-time'>
              July 31, 2016,  4:40am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>methodIList.append(new ALOAD(0)); &lt;-- ALOAD_0 adds the “this” which is not needed as it is a static field</p>
<p>EDIT that would just remove the this,</p>
<p>heres my method adding method :</p>
<p>[code]	public static void addReturn(ClassGen from, ClassGen to, String field, String method, String sig)<br>
{<br>
if (to.containsMethod(method, “()” + sig) != null)<br>
{<br>
return;<br>
}</p>
<pre><code>	Field f = from.containsField(field);
	InstructionList list = new InstructionList();

	if (!f.isStatic())
	{
		list.append(new ALOAD(0));
	}

	list.append(new InstructionFactory(from, to.getConstantPool()).createFieldAccess(from.getClassName(), field, f.getType(), f.isStatic() ? Constants.GETSTATIC : Constants.GETFIELD));
	list.append(InstructionFactory.createReturn(Type.getType(sig)));

	MethodGen gen = new MethodGen(Constants.ACC_PUBLIC, Type.getType(sig), Type.NO_ARGS, new String[] {}, method, to.getClassName(), list, to.getConstantPool());

	gen.setMaxStack();
	gen.setMaxLocals();
	gen.removeLineNumbers();
	gen.removeLocalVariables();

	to.addMethod(gen.getMethod());

	System.out.println("  - " + to.getClassName() + "." + method + "() returns " + from.getClassName() + "." + f.getName());
	fields++;
}[/code]</code></pre>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pker.html'><span itemprop='name'>Pker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-09T23:04:43Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:40:56Z' class='post-time'>
              July 31, 2016,  4:40am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you nueb!</p>
<p>Your helping me understand big time here.</p>
<p>Edit:</p>
<p>Anyone have an idea of how to implement custom import’s ?<br>
like<br>
import com.project.*;<br>
Into the client.class file…</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T01:31:23Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:07Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You don’t import. All the fields and method descriptors are fully qualified names. Not String but java.lang.String. As such there is no need for imports.</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ilyaostr9.html'><span itemprop='name'>ilyaostr9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T01:53:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:09Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Pker, post:5, topic:255645”][quote author=nueb35 link=topic=337785.msg2622206#msg2622206 date=1231540862]<br>
make sure you actually dump the edited classes, classGen.getJavaClass().dump(somePlace);<br>
[/quote]<br>
Now it works ;)[/quote]<br>
Weren’t you doing that anyway? Right here:</p>
<p><code>
jc.setConstantPool(ThePool.getFinalConstantPool());
        try {
               System.out.println("Saving updated client.class.");
               //Again, very easy to save the "compiled" class back to disk with one line.
               jc.dump("./client/" + jc.getClassName() + ".class");
         } catch (IOException ioe) { System.out.println("Failed to save updated client.class."); }</code></p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/nueb35.html'><span itemprop='name'>nueb35</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T02:13:48Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:10Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“io9, post:9, topic:255645”][quote author=Pker link=topic=337785.msg2622224#msg2622224 date=1231541479]</p>
<aside class="quote no-group">
<blockquote>
<p>make sure you actually dump the edited classes, classGen.getJavaClass().dump(somePlace);</p>
</blockquote>
</aside>
<p>Now it works <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"><br>
[/quote]<br>
Weren’t you doing that anyway? Right here:</p>
<p><code>
jc.setConstantPool(ThePool.getFinalConstantPool());
        try {
               System.out.println("Saving updated client.class.");
               //Again, very easy to save the "compiled" class back to disk with one line.
               jc.dump("./client/" + jc.getClassName() + ".class");
         } catch (IOException ioe) { System.out.println("Failed to save updated client.class."); }</code>[/quote]</p>
<p>i think the javaclass instance changes when you do getJavaClass, it creates a whole new javaclass with all the new added methods/fields/etc.</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ilyaostr9.html'><span itemprop='name'>ilyaostr9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T02:35:30Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:11Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>o rite cos hes dumpin da JavaClass not da ClassGen</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pker.html'><span itemprop='name'>Pker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T03:33:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:15Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ah ok thank you.</p>
<p>I was wondering, is there any easy way of adding like this:<br>
adding a variable:<br>
<span class="bbcode-b">public static Callback callback;</span></p>
<p>?</p>
<p>I tried to search for adding variable and adding implements … but its to many results of incorrect answers.</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/chrisn2323.html'><span itemprop='name'>chrisn2323</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T04:00:46Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:16Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>classGenInstance.addField(Field f);</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pker.html'><span itemprop='name'>Pker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T04:15:23Z'>
            <time itemprop='dateModified' datetime='2019-01-10T18:20:25Z' class='post-time'>
              January 10, 2019,  6:20pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yea.<br>
This is know, but i mean how should the field be ?<br>
This did not work!</p>
<p>new FieldGen(Constants.ACC_PUBLIC | Constants.ACC_STATIC, Type.getType(“com.mybot.accsessor.Callback”), “callback”, cPoolGen).getField()</p>
<p>Type.getType(“com.mybot.accsessor.Callback”) &lt;— This must be wrong… Dunno how to get the type right… But its the right path to the object atleast.</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/yakman.html'><span itemprop='name'>yakman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T13:11:30Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:32Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Type.getType(“Lcom.mybot.accsessor.Callback;”)</p>
<p>or</p>
<p>new ObjectType(“com.mybot.accsessor.Callback”)</p>
<p>the first one ends up calling the second one anyway</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pker.html'><span itemprop='name'>Pker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T17:35:13Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:51Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you so much!</p>
<p>Now im allmost done, im however stressing with finding out how to add a method like this:</p>
<pre><code>public final void setCallback(Callback arg0)
{
    callback = arg0;
}
</code></pre>
<p>This is my tries:</p>
<pre><code class="lang-auto">                  // Add public void setCallback(Callback callback);
                  InstructionList il = new InstructionList();
                  MethodGen  mg = new MethodGen(Constants.ACC_FINAL | Constants.ACC_PUBLIC, // access flags
                                Type.VOID,               // return type
                                new Type[] {             // argument types
                                  Type.getType("Lcom.speljohan.rsbot.accessors.Callback;") },
                                new String[] { "arg0" }, // arg names
                                "setCallback", "client",    // method, class
                                il, cPoolGen);

                  LocalVariableGen lg = mg.addLocalVariable("callback", Type.getType("Lcom.speljohan.rsbot.accessors.Callback;"), null, null);
                  int name = lg.getIndex();
                  //InstructionFactory factory = new InstructionFactory(cGen);
                  //factory.createPutField("client","callback",Type.getType("Lcom.speljohan.rsbot.accessors.Callback;"));
                  il.append(InstructionConstants.ACONST_NULL);
                  lg.setStart(il.append(new ASTORE(name))); // "i" valid from here
                  
                  mg.setMaxStack();
                  mg.setMaxLocals();
                  mg.removeLineNumbers();
                  cGen.addMethod(mg.getMethod());</code></pre>
<p>This is what i currently get:</p>
<pre><code>public final void setCallback(Callback arg0)
{
    Object obj = null;
}
</code></pre>
<p>So i only need to change Object obj = null to callback = arg0;</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/nueb35.html'><span itemprop='name'>nueb35</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T17:43:29Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:52Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>make a test class for example :</p>
<p>[code]public class Test<br>
{<br>
String test = “”;</p>
<pre><code>public void test(String t)
{
	test = t;
}
</code></pre>
<p>}[/code]</p>
<p>then open it up on JBE and see what instructions are needed</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pker.html'><span itemprop='name'>Pker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T18:39:38Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:56Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>0 aload_0<br>
1 aload_1<br>
2 putfield <span class="hashtag">#3</span> &lt;Test/test Ljava/lang/String;&gt;<br>
5 return</p>
<p>I see this are the instructions. But im not sure what putfield or how to implement this</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/nueb35.html'><span itemprop='name'>nueb35</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-10T19:04:00Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:41:58Z' class='post-time'>
              July 31, 2016,  4:41am
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>if GETFIELD gets the content of a field, PUTFIELD will set the contents of a field.</p>
<p>[tt]new InstructionFactory(classGenOfClassContainingTheField, constantPoolOfClassReceivingTheInstruction).createPutField(classGenOfClassContainingTheField.getClassName(), “field name”, fieldType);[/tt]</p>
      </div>

      <meta itemprop='headline' content='Why does not this add a method to client.class?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/why-does-not-this-add-a-method-to-client-class/255645 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 14:24:55 GMT -->
</html>
