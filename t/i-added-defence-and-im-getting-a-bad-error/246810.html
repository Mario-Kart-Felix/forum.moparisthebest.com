<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/i-added-defence-and-im-getting-a-bad-error/246810 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 02:03:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>I added defence and im getting a bad error - Runescape - moparisthebest.com</title>
    <meta name="description" content="After following the tut below i end up with this error saying that it cannont find defence.cfg but it is with all my cfg files and i also tried with all my other files. This is what i have in defence.cfg  

 //--npcid---&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="246810.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;I added defence and im getting a bad error&#39;" href="246810.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/i-added-defence-and-im-getting-a-bad-error/246810" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/i-added-defence-and-im-getting-a-bad-error/246810" />
<meta property="og:title" content="I added defence and im getting a bad error" />
<meta name="twitter:title" content="I added defence and im getting a bad error" />
<meta property="og:description" content="After following the tut below i end up with this error saying that it cannont find defence.cfg but it is with all my cfg files and i also tried with all my other files. This is what i have in defence.cfg  //--npcid------attak--magedef---defbonus---name-----// npc = 19	20	20	20	//whiteknight [EOF]  So whenever i attack a white knight in my runserver box it says it cannot find defence.cfg and ive also tried capslock and uncaps lock, I really want to fix this error.  Here is the tutorial  Descripti..." />
<meta name="twitter:description" content="After following the tut below i end up with this error saying that it cannont find defence.cfg but it is with all my cfg files and i also tried with all my other files. This is what i have in defence.cfg  //--npcid------attak--magedef---defbonus---name-----// npc = 19	20	20	20	//whiteknight [EOF]  So whenever i attack a white knight in my runserver box it says it cannot find defence.cfg and ive also tried capslock and uncaps lock, I really want to fix this error.  Here is the tutorial  Descripti..." />
<meta property="article:published_time" content="2008-11-26T23:17:36+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="246810.html">I added defence and im getting a bad error</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bmxscape.html'><span itemprop='name'>bmxscape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-11-26T23:17:36Z'>
            <time itemprop='dateModified' datetime='2016-07-31T03:31:29Z' class='post-time'>
              July 31, 2016,  3:31am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>After following the tut below i end up with this error saying that it cannont find defence.cfg but it is with all my cfg files and i also tried with all my other files. This is what i have in defence.cfg</p>
<p><code>//--npcid------attak--magedef---defbonus---name-----//
npc = 19	20	20	20	//whiteknight
[EOF]</code></p>
<p>So whenever i attack a white knight in my runserver box it says it cannot find defence.cfg and ive also tried capslock and uncaps lock, I really want to fix this error.</p>
<p>Here is the tutorial</p>
<p>Description: Full melee defence</p>
<p>Difficulty: 1</p>
<p>Credits: 90% Palidino76 and 10% me for bring it to you.</p>
<p>Step 1:</p>
<p>Declare these:</p>
<p>[code]<br>
public int meleeDef()<br>
{<br>
int i = playerBonus[bestmeleeDef()];<br>
int j = playerLevel[playerDefence];<br>
int k = getLevelForXP(playerXP[playerDefence]);<br>
int l = 0;	<br>
l += (int)((double)j + (double)j * 0.14999999999999999D + ((double)i + (double)i * 0.050000000000000003D));<br>
return l / (int)((double)1.54234476);<br>
}</p>
<pre><code>public int meleeAtk()
{
    int i = playerBonus[bestmeleeAtk()];
    int j = playerLevel[playerAttack];
    int k = getLevelForXP(playerXP[playerAttack]);
    int l = 0;
    l += (int)((double)j + (double)j * 0.14999999999999999D + ((double)i + (double)i * 0.050000000000000003D));
    return l;
}	

public int bestmeleeAtk()
{
    if(playerBonus[0] &gt; playerBonus[1] &amp;&amp; playerBonus[0] &gt; playerBonus[2])
    {
        return 0;
    }
    if(playerBonus[1] &gt; playerBonus[0] &amp;&amp; playerBonus[1] &gt; playerBonus[2])
    {
        return 1;
    }
    return playerBonus[2] &lt;= playerBonus[1] || playerBonus[2] &lt;= playerBonus[0] ? 0 : 2;
}

public int bestmeleeDef()
{
    if(playerBonus[5] &gt; playerBonus[6] &amp;&amp; playerBonus[5] &gt; playerBonus[7])
    {
        return 5;
    }
    if(playerBonus[6] &gt; playerBonus[5] &amp;&amp; playerBonus[6] &gt; playerBonus[7])
    {
        return 6;
    }
    return playerBonus[7] &lt;= playerBonus[5] || playerBonus[7] &lt;= playerBonus[6] ? 5 : 7;
}[/code]Step 2: In boolean attack() { add these
</code></pre>
<p><code>
		int meleeAtk = misc.random(meleeAtk());
		int meleeDef = misc.random(p.meleeDef());</code>Note: p is equivalent to the value of</p>
<p><code> 
(client) PlayerHandler.players[AttackingOn];</code>Step 3: In boolean attack() { search for playerMaxHit or the equivalent then replace it with this</p>
<p><code>
					if(meleeAtk &gt; meleeDef)
					{
						hitDiff = misc.random(playerMaxHit);
					} else {
						hitDiff = 0;
					}The end, there you have it melee defence</code></p>
<p>orrr?</p>
<p>make file called defHandler.java and put this in it</p>
<p>[code]<br>
import <a href="http://java.io/" rel="nofollow noopener">java.io</a>.*;<br>
import java.util.StringTokenizer;</p>
<p>public class defHandler {</p>
<pre><code>public defHandler()
{
}
public int nMDef, nRDef, nDef, nAtk;
public int	Attack = 3,
			Defence = 3,
			Mdef = 3,
			RangeDef = 3;
public static String message;
public stream inStream;
public stream outStream;
public void calcDef(int npcId2)
{
	String line = "";
	String token = "";
	String token2 = "";
	String token2_2 = "";
	String[] token3 = new String[5];
	boolean EndOfFile = false;
	int ReadMode = 0;
	BufferedReader characterfile = null;
	try 
	{
		characterfile = new BufferedReader(new FileReader("Defence.cfg"));
	} catch(FileNotFoundException fileex) 
	{
		misc.println("defence.cfg: file not found.");
	}
	try 
	{
		line = characterfile.readLine();
	} catch(IOException ioexception) 
	{
		misc.println("defence.cfg: error loading file.");
	}
	while(EndOfFile == false &amp;&amp; line != null) 
	{
		line = line.trim();
		int spot = line.indexOf("=");
		if (spot &gt; -1) 
		{
			token = line.substring(0, spot);
			token = token.trim();
			token2 = line.substring(spot + 1);
			token2 = token2.trim();
			token2_2 = token2.replaceAll("\t\t", "\t");
			token2_2 = token2_2.replaceAll("\t\t", "\t");
			token2_2 = token2_2.replaceAll("\t\t", "\t");
			token2_2 = token2_2.replaceAll("\t\t", "\t");
			token2_2 = token2_2.replaceAll("\t\t", "\t");
			token3 = token2_2.split("\t");
			if (token.equals("npc")) 
			{
				if (npcId2 == Integer.parseInt(token3[0]))
				{
					if (Integer.parseInt(token3[1]) != -1)
					{
						nAtk = Integer.parseInt(token3[1]);
					}
					else
					{
						nAtk = Attack;
					}
					if (Integer.parseInt(token3[2]) != -1)
					{
						nMDef = Integer.parseInt(token3[2]);
					}
					else
					{
						nMDef = Mdef;
					}
					if (Integer.parseInt(token3[3]) != -1)
					{
						nDef = Integer.parseInt(token3[3]);
					}
					else
					{
						nDef = Defence;
					}
				}
			}
		} 
		else 
		{
			if (line.equals("[EOF]")) 
			{
				try 
				{ 
					characterfile.close(); 
				} 
				catch(IOException ioexception) 
				{ 
				
				}
			}
		}
		try 
		{
			line = characterfile.readLine();
		} 
		catch(IOException ioexception1) 
		{ 
			EndOfFile = true; 
		}
	}
	try 
	{ 
		characterfile.close(); 
	} 
	catch(IOException ioexception) 
	{ 
	
	}
}
</code></pre>
<p>}[/code]step 2: open up client.java and add these booleans</p>
<p>[code]<br>
public int CheckBestBonus2() {</p>
<p>if(playerBonus[6] &gt; playerBonus[7] &amp;&amp; playerBonus[6] &gt; playerBonus[8])<br>
return 6;<br>
if(playerBonus[7] &gt; playerBonus[6] &amp;&amp; playerBonus[7] &gt; playerBonus[8])<br>
return 7;<br>
if(playerBonus[8] &gt; playerBonus[6] &amp;&amp; playerBonus[8] &gt; playerBonus[7])<br>
return 8;</p>
<p>return 6;<br>
}<br>
public boolean GetHitNPC(int npcIndex) {<br>
client c  = (client) server.playerHandler.players[playerId];</p>
<p>if(server.npcHandler.npcs[npcIndex] == null) return false;<br>
if(server.npcHandler.npcs[npcIndex].HP &lt; 1) return false;<br>
int Bonusused = CheckBestBonus2();<br>
int TESTZORS=server.npcHandler.npcs[attacknpc].npcType;<br>
server.defHandler.calcDef(TESTZORS);<br>
int npcAtk = server.defHandler.nAtk;<br>
int myBonus = playerBonus[Bonusused] + (c.playerLevel[1] / 2);<br>
if(myBonus &lt;= 4) {<br>
myBonus = 5;<br>
}</p>
<p>if(misc.random(myBonus) &gt; misc.random(npcAtk)) {<br>
return true;<br>
}<br>
return false;<br>
}<br>
public boolean HitNPC(int npcIndex) {<br>
if(server.npcHandler.npcs[npcIndex] == null) return false;<br>
if(server.npcHandler.npcs[npcIndex].HP &lt; 1) return false;<br>
int BonusUsed = CheckBestBonus();<br>
int TESTZORS=server.npcHandler.npcs[attacknpc].npcType;<br>
server.defHandler.calcDef(TESTZORS);<br>
int npcDef = server.defHandler.nDef;<br>
int myBonus = playerBonus[BonusUsed] + (playerLevel[0]);<br>
if(myBonus &lt;= 4) {<br>
myBonus = 5;<br>
}</p>
<p>if(misc.random(myBonus) &gt; misc.random(npcDef)) {<br>
return true;<br>
}<br>
return false;<br>
}<br>
public int CheckBestBonus() {</p>
<p>if(playerBonus[1] &gt; playerBonus[2] &amp;&amp; playerBonus[1] &gt; playerBonus[3])<br>
return 1;<br>
if(playerBonus[2] &gt; playerBonus[1] &amp;&amp; playerBonus[2] &gt; playerBonus[3])<br>
return 2;<br>
if(playerBonus[3] &gt; playerBonus[2] &amp;&amp; playerBonus[3] &gt; playerBonus[1])<br>
return 3;</p>
<p>return 1;<br>
}[/code]step 3: search for boolean attacknpc() and add this in there:</p>
<p><code>
    if(!HitNPC(attacknpc)) {
		hitDiff = 0; 
	} else if ((EnemyHP - hitDiff) &lt; 0) {
		hitDiff = EnemyHP;
	} else {
		hitDiff = misc.random(playerMaxHitMelee);
	}</code>step 4: in npchandler add this to under your attackplayer method</p>
<p><code> 
						if(p.GetHitNPC(Player) == true) {
							hitDiff = 0;
						}</code>step 5:<br>
make a file called defence.cfg and make it like this</p>
<p><code> 
//--npcid------attak--magedef---defbonus---name-----//
npc = npcid	attackbonus	magicdefence	defence bonus	//description
[EOF]</code>step 6:</p>
<p><code>
defHandler = new defHandler();
public static defHandler defHandler = null;</code></p>
<p>there it is!</p>
      </div>

      <meta itemprop='headline' content='I added defence and im getting a bad error'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/i-added-defence-and-im-getting-a-bad-error/246810 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 02:03:34 GMT -->
</html>
