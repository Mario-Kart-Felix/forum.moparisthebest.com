<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Graphics Help - Double Buffering</title>
    <link>https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697</link>
    <description>So I&#39;m trying to learn about java game programming, and ran into a snag. I read up on double buffering, but when I put it to use in my application, it only shows the updated version when I resize or minimize the applet. Can someone please help?
[code]import java.applet.*;
import java.awt.*;
import java.awt.image.CropImageFilter;
import java.awt.image.FilteredImageSource;
import java.io.PrintStream;
import java.awt.image.*;
import javax.imageio.*;
import java.io.*;
import java.awt.event.*;
/**
 *
 * @author dsign
 */
public class Main extends Applet
        implements Runnable,KeyListener
{
  Color filtergreen;
  Thread runner;
  BufferedImage[] cha,til;
  BufferedImage character,tiles,buff;
  Image im;
  int xpos=0;
  int ypos=0;
  //Direction int: 0=up, 1=right,2=down,3=left
  int direction = 0;
  //step int
  int step;
  int chImg;
  
private Image dbImage;
private Graphics dbg;

  public void init() {
    setSize(500,450);
    addKeyListener(this);
    setBackground(Color.blue);
    Image im = new Image();
    //Creates the tiles for the map
    tiles = im.loadImage(&quot;C:\\Documents and Settings\\Michael\\doa\\tileset.png&quot;);
    tiles = im.makeColorTransparent(&quot;C:\\Documents and Settings\\Michael\\doa\\tileset.png&quot;, Color.black);
    til = im.splitImage(tiles, 8, 20);
    //Splits up the character
    filtergreen = new Color(32,156,0);
    character = im.makeColorTransparent(&quot;C:\\Documents and Settings\\Michael\\doa\\character.png&quot;,filtergreen);
    cha = im.splitImage(character, 3, 4);
  }


  public void start() {
    runner = new Thread(this);
    runner.start();
  }


  public void stop() { }


  public void destroy() { }


  public void run(){
    Thread.currentThread().setPriority(Thread.MIN_PRIORITY);
    while(true){
        xpos++;

        repaint();
        
        try{
            Thread.sleep(20);
        } catch(InterruptedException inter){}
        Thread.currentThread().setPriority(Thread.MAX_PRIORITY);
    }

  }

  public void keyPressed(KeyEvent e){
        if(e.getKeyCode() == 38)
            direction = 0;
        if(e.getKeyCode() == 40)
            direction = 2;
        if(e.getKeyCode() == 37)
            direction = 3;
        if(e.getKeyCode() == 39)
            direction = 4;
  }
  public void keyReleased(KeyEvent e){
      step = 1;
  }
  public void keyTyped(KeyEvent e){

  }
    public void paint (Graphics g) {
        for(int w=0;w&lt;getWidth();w++){
            for(int h=0;h&lt;getHeight();h++){
                g.drawImage(til[3], w*16, h*16, this);
            }
        }
        
        step = 0;
        chImg = ((direction * 3) + step);
        g.drawImage (cha[chImg], xpos, ypos, this);
    }
    public void update (Graphics g)
    {
          // initialize buffer
          if (buff == null)
          {
                buff = (BufferedImage)(this.createImage(this.WIDTH, this.HEIGHT));
                dbg = buff.getGraphics ();
          }

          // clear screen in background
          dbg.setColor (getBackground ());
          dbg.fillRect (0, 0, this.getSize().width, this.getSize().height);

          // draw elements in background
          dbg.setColor (getForeground());
          paint (dbg);

          // draw image on the screen
          

    }
}
[/code]</description>
    
    <lastBuildDate>Wed, 21 Jan 2009 01:01:40 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Graphics Help - Double Buffering</title>
        <dc:creator><![CDATA[@xEnt xEnt]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xent">@xEnt</a> wrote:</p>
          <blockquote>
              <p>As well as i. I even went as far as downloading the file, and laughing at the stupid readme’s etc.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/7</link>
        <pubDate>Wed, 21 Jan 2009 01:01:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-256697-7</guid>
        <source url="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697.rss">Graphics Help - Double Buffering</source>
      </item>
      <item>
        <title>Graphics Help - Double Buffering</title>
        <dc:creator><![CDATA[@new_Nub new Nub();]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/new_nub">@new_Nub</a> wrote:</p>
          <blockquote>
              <p>this is completely off topic but i looked at your sig io9 and nearly died laughing when i opened the link and looked at the comments.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/6</link>
        <pubDate>Tue, 20 Jan 2009 08:01:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-256697-6</guid>
        <source url="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697.rss">Graphics Help - Double Buffering</source>
      </item>
      <item>
        <title>Graphics Help - Double Buffering</title>
        <dc:creator><![CDATA[@d_sign d_sign]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/d_sign">@d_sign</a> wrote:</p>
          <blockquote>
              <p>Thank you <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/5</link>
        <pubDate>Fri, 16 Jan 2009 15:08:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-256697-5</guid>
        <source url="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697.rss">Graphics Help - Double Buffering</source>
      </item>
      <item>
        <title>Graphics Help - Double Buffering</title>
        <dc:creator><![CDATA[@ilyaostr9 io9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ilyaostr9">@ilyaostr9</a> wrote:</p>
          <blockquote>
              <p><a href="http://javaboutique.internet.com/tutorials/Step/Chapter4/DoubleBuffering.html" class="onebox" target="_blank" rel="nofollow noopener">http://javaboutique.internet.com/tutorials/Step/Chapter4/DoubleBuffering.html</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/4</link>
        <pubDate>Fri, 16 Jan 2009 01:50:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-256697-4</guid>
        <source url="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697.rss">Graphics Help - Double Buffering</source>
      </item>
      <item>
        <title>Graphics Help - Double Buffering</title>
        <dc:creator><![CDATA[@d_sign d_sign]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/d_sign">@d_sign</a> wrote:</p>
          <blockquote>
              <p>If you mean like this</p>
<p>[code]    public void paint (Graphics g) {<br>
if (buff == null)<br>
{<br>
buff = (BufferedImage)(this.createImage(this.WIDTH, this.HEIGHT));<br>
dbg = buff.getGraphics ();<br>
}<br>
for(int w=0;w&lt;getWidth();w++){<br>
for(int h=0;h&lt;getHeight();h++){<br>
dbg.drawImage(til[3], w<em>16, h</em>16, this);<br>
}<br>
}</p>
<pre><code>    direction = 0;
    step = 0;
    chImg = ((direction * 3)+step);
    dbg.drawImage (cha[chImg], xpos, ypos, this);
    g.drawImage(buff, 0, 0, this);
}[/code]
</code></pre>
<p>When i run that, I just see the background of the applet.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/3</link>
        <pubDate>Fri, 16 Jan 2009 00:24:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-256697-3</guid>
        <source url="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697.rss">Graphics Help - Double Buffering</source>
      </item>
      <item>
        <title>Graphics Help - Double Buffering</title>
        <dc:creator><![CDATA[@ilyaostr9 io9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ilyaostr9">@ilyaostr9</a> wrote:</p>
          <blockquote>
              <p>btw use clearRect instead of fillRect for ease. Also, it doesnt seem as though you are ever drawing to the second buffer. In paint(), you should first draw everything to the second buffer, then draw the second buffer over the screen. (for(…) { dbg.drawImage(…) } , then g.drawImage(dbg))</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/2</link>
        <pubDate>Fri, 16 Jan 2009 00:14:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-256697-2</guid>
        <source url="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697.rss">Graphics Help - Double Buffering</source>
      </item>
      <item>
        <title>Graphics Help - Double Buffering</title>
        <dc:creator><![CDATA[@d_sign d_sign]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/d_sign">@d_sign</a> wrote:</p>
          <blockquote>
              <p>So I’m trying to learn about java game programming, and ran into a snag. I read up on double buffering, but when I put it to use in my application, it only shows the updated version when I resize or minimize the applet. Can someone please help?</p>
<p>[code]import java.applet.<em>;<br>
import java.awt.</em>;<br>
import java.awt.image.CropImageFilter;<br>
import java.awt.image.FilteredImageSource;<br>
import java.io.PrintStream;<br>
import java.awt.image.<em>;<br>
import javax.imageio.</em>;<br>
import <a href="http://java.io" rel="nofollow noopener">java.io</a>.<em>;<br>
import java.awt.event.</em>;<br>
/**<br>
*</p>
<ul>
<li>
<span class="mention">@author</span> dsign<br>
*/<br>
public class Main extends Applet<br>
implements Runnable,KeyListener<br>
{<br>
Color filtergreen;<br>
Thread runner;<br>
BufferedImage[] cha,til;<br>
BufferedImage character,tiles,buff;<br>
Image im;<br>
int xpos=0;<br>
int ypos=0;<br>
//Direction int: 0=up, 1=right,2=down,3=left<br>
int direction = 0;<br>
//step int<br>
int step;<br>
int chImg;</li>
</ul>
<p>private Image dbImage;<br>
private Graphics dbg;</p>
<p>public void init() {<br>
setSize(500,450);<br>
addKeyListener(this);<br>
setBackground(Color.blue);<br>
Image im = new Image();<br>
//Creates the tiles for the map<br>
tiles = im.loadImage(“C:\Documents and Settings\Michael\doa\tileset.png”);<br>
tiles = im.makeColorTransparent(“C:\Documents and Settings\Michael\doa\tileset.png”, Color.black);<br>
til = im.splitImage(tiles, 8, 20);<br>
//Splits up the character<br>
filtergreen = new Color(32,156,0);<br>
character = im.makeColorTransparent(“C:\Documents and Settings\Michael\doa\character.png”,filtergreen);<br>
cha = im.splitImage(character, 3, 4);<br>
}</p>
<p>public void start() {<br>
runner = new Thread(this);<br>
runner.start();<br>
}</p>
<p>public void stop() { }</p>
<p>public void destroy() { }</p>
<p>public void run(){<br>
Thread.currentThread().setPriority(Thread.MIN_PRIORITY);<br>
while(true){<br>
xpos++;</p>
<pre><code>    repaint();
    
    try{
        Thread.sleep(20);
    } catch(InterruptedException inter){}
    Thread.currentThread().setPriority(Thread.MAX_PRIORITY);
}
</code></pre>
<p>}</p>
<p>public void keyPressed(KeyEvent e){<br>
if(e.getKeyCode() == 38)<br>
direction = 0;<br>
if(e.getKeyCode() == 40)<br>
direction = 2;<br>
if(e.getKeyCode() == 37)<br>
direction = 3;<br>
if(e.getKeyCode() == 39)<br>
direction = 4;<br>
}<br>
public void keyReleased(KeyEvent e){<br>
step = 1;<br>
}<br>
public void keyTyped(KeyEvent e){</p>
<p>}<br>
public void paint (Graphics g) {<br>
for(int w=0;w&lt;getWidth();w++){<br>
for(int h=0;h&lt;getHeight();h++){<br>
g.drawImage(til[3], w<em>16, h</em>16, this);<br>
}<br>
}</p>
<pre><code>    step = 0;
    chImg = ((direction * 3) + step);
    g.drawImage (cha[chImg], xpos, ypos, this);
}
public void update (Graphics g)
{
      // initialize buffer
      if (buff == null)
      {
            buff = (BufferedImage)(this.createImage(this.WIDTH, this.HEIGHT));
            dbg = buff.getGraphics ();
      }

      // clear screen in background
      dbg.setColor (getBackground ());
      dbg.fillRect (0, 0, this.getSize().width, this.getSize().height);

      // draw elements in background
      dbg.setColor (getForeground());
      paint (dbg);

      // draw image on the screen
      

}
</code></pre>
<p>}<br>
[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697/1</link>
        <pubDate>Thu, 15 Jan 2009 23:58:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-256697-1</guid>
        <source url="https://forum.moparisthebest.com/t/graphics-help-double-buffering/256697.rss">Graphics Help - Double Buffering</source>
      </item>
  </channel>
</rss>
