<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/tut-functions-as-parameters-advanced/32071 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 11 Aug 2019 11:44:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[TUT] Functions as parameters (Advanced) - Runescape - moparisthebest.com</title>
    <meta name="description" content="Since I&amp;#39;ve never written a tutorial for SCAR, I figured I might try it out. :wink: Wasn&amp;#39;t sure what to write about since there&amp;#39;s only so much you can do with SCAR. Hopefully there has been a tutorial for this already... &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="32071.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[TUT] Functions as parameters (Advanced)&#39;" href="32071.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/tut-functions-as-parameters-advanced/32071" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/tut-functions-as-parameters-advanced/32071" />
<meta property="og:title" content="[TUT] Functions as parameters (Advanced)" />
<meta name="twitter:title" content="[TUT] Functions as parameters (Advanced)" />
<meta property="og:description" content="Since I‚Äôve never written a tutorial for SCAR, I figured I might try it out. üòâ  Wasn‚Äôt sure what to write about since there‚Äôs only so much you can do with SCAR.  Hopefully there has been a tutorial for this already‚Ä¶ it‚Äôs always hard to tell.  This tutorial will explain how to use functions as arguments in other functions. This is not used very often‚Ä¶ most likely because there is not all that many uses for it (SCAR being limited with objects, pointers, variables, and such). But it could have ..." />
<meta name="twitter:description" content="Since I‚Äôve never written a tutorial for SCAR, I figured I might try it out. üòâ  Wasn‚Äôt sure what to write about since there‚Äôs only so much you can do with SCAR.  Hopefully there has been a tutorial for this already‚Ä¶ it‚Äôs always hard to tell.  This tutorial will explain how to use functions as arguments in other functions. This is not used very often‚Ä¶ most likely because there is not all that many uses for it (SCAR being limited with objects, pointers, variables, and such). But it could have ..." />
<meta property="article:published_time" content="2006-12-04T13:07:25+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="32071.html">[TUT] Functions as parameters (Advanced)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cruel.html'><span itemprop='name'>cruel</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-12-04T13:07:25Z'>
            <time itemprop='dateModified' datetime='2016-07-30T01:34:45Z' class='post-time'>
              July 30, 2016,  1:34am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Since I‚Äôve never written a tutorial for SCAR, I figured I might try it out. <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"><br>
Wasn‚Äôt sure what to write about since there‚Äôs only so much you can do with SCAR.<br>
Hopefully there has been a tutorial for this already‚Ä¶ it‚Äôs always hard to tell.</p>
<p>This tutorial will explain how to use functions as arguments in other functions. This is not used very often‚Ä¶ most likely because there is not all that many uses for it (SCAR being limited with objects, pointers, variables, and such). But it could have potential use for some people who just don‚Äôt know about it.<br>
If you‚Äôve ever worked with forms, then you‚Äôve used this somewhat (even if you didn‚Äôt know it). I will post a sample script and explain it bit-by-bit afterward, for those that need it.</p>
<p>[code]program New;<br>
type TMyFunc = function(v: TVariantArray): TVariantArray;</p>
<p>function RandomFunc(Func: TMyFunc; var v: TVariantArray; Range: Integer): Boolean;<br>
begin<br>
Result:= Random(Range)+1 = Range;<br>
if Result then v:= Func(v);<br>
end;</p>
<p>function zFindColor(v: TVariantArray): TVariantArray;<br>
var<br>
x,y: Integer;<br>
dBool: Boolean;<br>
begin<br>
SetArrayLength(Result,3);<br>
dBool:= FindColor(x,y,v[0],v[1],v[2],v[3],v[4]);<br>
Result:= [dBool,x,y];<br>
end;</p>
<p>var<br>
i: Integer;<br>
Params: TVariantArray;</p>
<p>begin<br>
for i:= 1 to 10 do begin<br>
SetArrayLength(Params,5);<br>
Params:= [clWhite,0,0,500,500];<br>
if RandomFunc(<span class="mention">@zFindColor</span>,Params,2) then<br>
if Params[0] then<br>
WriteLn(‚ÄòColor found at: (‚Äô+IntToStr(Params[1])+‚Äô,‚Äô+IntToStr(Params[2])+‚Äô)‚Äô);<br>
end;<br>
end.[/code]<br>
Doesn‚Äôt look too hard, eh?<br>
Now for the explanations:</p>
<pre><code class="lang-auto">type TMyFunc = function(v: TVariantArray): TVariantArray;</code></pre>
<p>This is exactly what it looks like. This make a variable of a function with such parameters.<br>
This specific script uses <span class="bbcode-b">function zFindColor(v: TVariantArray): TVariantArray;</span> as the main desired function.<br>
And to assigned that function to something, or use it as a parameter, you simply use <span class="mention">@zFindColor</span>. You‚Äôll see later.<br>
TVariantArray type is use for what I like to call ‚Äúgeneralization for encapsulation‚Äù. Meaning that it is purposefully generalized for any possible combination of arguments so that it allows for a good encapsulation function for virtually every function. So feel free to change it if you‚Äôre not in need of such generalization. You could make several different <span class="bbcode-i">types</span> if you wished.</p>
<p><code>function RandomFunc(Func: TMyFunc; var v: TVariantArray; Range: Integer): Boolean;
begin
   Result:= Random(Range)+1 = Range;
   if Result then v:= Func(v);
end;</code><br>
This is the function we‚Äôll be using directly. This is just an example of a possible use for functions in arguments.<br>
As you can see, the first parameter is our function type [TMyFunc]. The second if our parameter array, both input and output. Meaning that parameters are supplied to <span class="bbcode-b">Func</span> with this, and they likewise handle the returned values (hence the <span class="bbcode-i">var</span> switch).<br>
The third parameter, Range, unlike the first two, is unique to this function‚Ä¶ since the first two are needed just to fulfill the function and it‚Äôs generalized parameters. <span class="bbcode-i">Range</span> simply specifies the chance of function execution (1 for 100%, 2 for 50%, 20 for 5%, etc, etc).<br>
And if the function is executed, if returns True.<br>
This boolean return value is also essential, so that it can give back a signal to whether or not this function is returning parameters from the specified function parameter to be handled.</p>
<p><code>function zFindColor(v: TVariantArray): TVariantArray;
var
   x,y: Integer;
   dBool: Boolean;
begin
   SetArrayLength(Result,3);
   dBool:= FindColor(x,y,v[0],v[1],v[2],v[3],v[4]);
   Result:= [dBool,x,y];
end;</code><br>
This function, as I said, is the function we‚Äôre using to pass as a parameter. And you can plainly see how it follows the declaration format of the <span class="bbcode-i">TMyFunc</span> type.<br>
Basically, all this function does is call <span class="bbcode-b">FindColor</span>. Lame? Yes‚Ä¶ but this is just a simple example, lol.<br>
The first line of the actual function is setting the length of the returned array, which is the number of variable to be returned. In this case we‚Äôre returning 3 variables (one for the boolean result of FindColor, and the other two for the x &amp; y values it returns).<br>
Then we simply call the function (using the supplied parameters from the array, <span class="bbcode-b">v</span>) and then return the resulting values.</p>
<p>And now onto the main code:</p>
<p><code>begin
   for i:= 1 to 10 do begin
      SetArrayLength(Params,5);
      Params:= [clWhite,0,0,500,500];
      if RandomFunc(@zFindColor,Params,2) then
         if Params[0] then
            WriteLn('Color found at: ('+IntToStr(Params[1])+','+IntToStr(Params[2])+')');
   end;
end.</code><br>
This will loop through 10 times and execute <span class="bbcode-b">RandomFunc</span> (to display it‚Äôs random behavior).<br>
It supplies the parameter [clWhite,0,0,500,500] for <span class="bbcode-i">zFindColor</span> which, if you look back at that function, is just the color and the search box coords for FindColor to use. Then it checks the returned boolean param and prints out the coord that has the color, if found.<br>
Since it‚Äôs using 2 as the range, it should print out the coord around 5 times (50%).</p>
<p>That‚Äôs about it.<br>
Now you should get the general idea. You won‚Äôt use this often probably‚Ä¶ but the TVariantArray type definitely could be. <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>

      <meta itemprop='headline' content='[TUT] Functions as parameters (Advanced)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/yakman.html'><span itemprop='name'>yakman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-12-04T14:17:15Z'>
            <time itemprop='dateModified' datetime='2016-07-30T01:34:47Z' class='post-time'>
              July 30, 2016,  1:34am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i kind of see what your saying, is it that TVariantArray can hold loads of parameters,</p>
<p>this is what i undedstand about it<br>
[scar]<br>
function VarGetMousePos:TVariantArray;<br>
var tx,ty:integer;<br>
begin<br>
getmousepos(tx,ty);<br>
setarraylength(result,2);<br>
result[0]:=tx:<br>
result[1]:=ty;<br>
end;<br>
[/scar]</p>
<p>but i think this is only half to story, since you use another type and call it with a function</p>
      </div>

      <meta itemprop='headline' content='[TUT] Functions as parameters (Advanced)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cruel.html'><span itemprop='name'>cruel</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-12-05T05:30:37Z'>
            <time itemprop='dateModified' datetime='2016-07-30T01:35:22Z' class='post-time'>
              July 30, 2016,  1:35am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeah, exactly. And it can hold any types‚Ä¶ probably even arrays.</p>
<p>And the rest of the tut just explains for the RandomFunc function uses the zFindColor function.<br>
It may help if I post more sample scripts. Perhaps some that have a better use.</p>
      </div>

      <meta itemprop='headline' content='[TUT] Functions as parameters (Advanced)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/yakman.html'><span itemprop='name'>yakman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-12-05T05:56:52Z'>
            <time itemprop='dateModified' datetime='2016-07-30T01:35:28Z' class='post-time'>
              July 30, 2016,  1:35am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>this could be quite good for SCAR doing two things at once, like moving the mouse and looking for a color at the same time<br>
[scar]</p>
<p>procedure MMouseFunc(x1,y1,dx,dy:integer;left:boolean; Func:TMyFunc; var t:TVariantArray);<br>
begin<br>
//‚Ä¶benland‚Äôs spline alogarithm<br>
end;</p>
<p>begin<br>
MMouseFunc(50,50,5,5,true, zFindColor, Parims);</p>
<p>Mouse(Parims[0],Parims[1],0,0,true);<br>
end.<br>
[/scar]</p>
      </div>

      <meta itemprop='headline' content='[TUT] Functions as parameters (Advanced)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Janilabo.html'><span itemprop='name'>Janilabo</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-12-05T09:38:07Z'>
            <time itemprop='dateModified' datetime='2016-07-30T01:36:21Z' class='post-time'>
              July 30, 2016,  1:36am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sweet one Cruel <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='[TUT] Functions as parameters (Advanced)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/tut-functions-as-parameters-advanced/32071 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 11 Aug 2019 11:44:30 GMT -->
</html>
