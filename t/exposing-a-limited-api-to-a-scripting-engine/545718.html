<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/exposing-a-limited-api-to-a-scripting-engine/545718 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Exposing a limited API to a scripting engine - General Programming - moparisthebest.com</title>
    <meta name="description" content="I was just curious as to if anyone know how to expose a limited API to a scripting engine. I would like to expose some portions of my code to a scripting engine (Javascript, ruby, lua or something similar). The framework&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="545718.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Exposing a limited API to a scripting engine&#39;" href="545718.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/exposing-a-limited-api-to-a-scripting-engine/545718" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/exposing-a-limited-api-to-a-scripting-engine/545718" />
<meta property="og:title" content="Exposing a limited API to a scripting engine" />
<meta name="twitter:title" content="Exposing a limited API to a scripting engine" />
<meta property="og:description" content="I was just curious as to if anyone know how to expose a limited API to a scripting engine. I would like to expose some portions of my code to a scripting engine (Javascript, ruby, lua or something similar). The framework I’m working on would allow users to upload their custom scripts for other users to download, but I don’t want the average user to download a script, that ends up wiping their player database (or some similar effect). Is there a way I could do this? Would I have to use a Security..." />
<meta name="twitter:description" content="I was just curious as to if anyone know how to expose a limited API to a scripting engine. I would like to expose some portions of my code to a scripting engine (Javascript, ruby, lua or something similar). The framework I’m working on would allow users to upload their custom scripts for other users to download, but I don’t want the average user to download a script, that ends up wiping their player database (or some similar effect). Is there a way I could do this? Would I have to use a Security..." />
<meta property="article:published_time" content="2014-08-07T03:02:05+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="545718.html">Exposing a limited API to a scripting engine</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T03:02:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:36:46Z' class='post-time'>
              August 4, 2016,  1:36pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I was just curious as to if anyone know how to expose a limited API to a scripting engine. I would like to expose some portions of my code to a scripting engine (Javascript, ruby, lua or something similar). The framework I’m working on would allow users to upload their custom scripts for other users to download, but I don’t want the average user to download a script, that ends up wiping their player database (or some similar effect). Is there a way I could do this? Would I have to use a SecurityManager or something similar? (The framework is written in Java).</p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T03:16:38Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:36:47Z' class='post-time'>
              August 4, 2016,  1:36pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Probably just export modules that have exposed functions that manipulate specific pieces of the application.</p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T03:27:56Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:36:47Z' class='post-time'>
              August 4, 2016,  1:36pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What would stop the user from just using the primary jar used for running the server though? In the framework there needs to be key components that are public so that they can communicate between packages. Because of this, I can’t think of a way to prevent a user from doing that.</p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T04:02:57Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:36:47Z' class='post-time'>
              August 4, 2016,  1:36pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Limit access in the scripts to only the modules?</p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T05:19:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:36:47Z' class='post-time'>
              August 4, 2016,  1:36pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>if we are talking about just preventing average joes from running a shifty scripts make what you don’t want scriptable private a person writing a malicious script probably won’t go through the time using reflection or a bytecode library to change the access flag.</p>
<p>option B obfuscate core leave scripting classes unobfuscated.</p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Death_Style.html'><span itemprop='name'>Death_Style</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T07:03:22Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:36:47Z' class='post-time'>
              August 4, 2016,  1:36pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>set up event handlers and pass safe objects as arguments</p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Nothing1.html'><span itemprop='name'>Nothing1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T07:28:40Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:36:48Z' class='post-time'>
              August 4, 2016,  1:36pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="5" data-topic="545718">
<div class="title">
<div class="quote-controls"></div>
 Miss Silabsoft:</div>
<blockquote>
<p>if we are talking about just preventing average joes from running a shifty scripts, make what you don’t want scriptable private. A person writing a malicious script probably won’t go through the time using reflection or a bytecode library to change the access flag.</p>
</blockquote>
</aside>
<p>I had to fix it…</p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T09:16:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:36:49Z' class='post-time'>
              August 4, 2016,  1:36pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You all suck.</p>
<p>Use a separate database security context for running SQL from untrusted downloaded scripts. Do this by connecting to the database using a login which is limited in what it can do (for starters, it won’t be allowed to drop the database, change database structure, access the password field in a player table view, etc).<br>
If you load the downloaded scripts and execute them in such a way that they can’t bypass use of this security context then you’re all good. You just need to make sure your database login for this purpose is restricted in what it can do.</p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T15:38:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:36:55Z' class='post-time'>
              August 4, 2016,  1:36pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You can set up a security shutter and allow the scripts to only access certain classes and methods to be accessed via a white/black list, that seems like the most logical solution</p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xx_matty_xx.html'><span itemprop='name'>xx_matty_xx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T17:02:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:36:56Z' class='post-time'>
              August 4, 2016,  1:36pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lothy, post:8, topic:545718”]You all suck.</p>
<p>Use a separate database security context for running SQL from untrusted downloaded scripts. Do this by connecting to the database using a login which is limited in what it can do (for starters, it won’t be allowed to drop the database, change database structure, access the password field in a player table view, etc).<br>
If you load the downloaded scripts and execute them in such a way that they can’t bypass use of this security context then you’re all good. You just need to make sure your database login for this purpose is restricted in what it can do.[/quote]wtf… typical government programmers</p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/General_Awesome.html'><span itemprop='name'>General_Awesome</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-08-07T19:27:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:37:04Z' class='post-time'>
              August 4, 2016,  1:37pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Justin Bieber, post:10, topic:545718”][quote author=Lothy link=topic=664601.msg4442812#msg4442812 date=1407402972]<br>
You all suck.</p>
<p>Use a separate database security context for running SQL from untrusted downloaded scripts. Do this by connecting to the database using a login which is limited in what it can do (for starters, it won’t be allowed to drop the database, change database structure, access the password field in a player table view, etc).<br>
If you load the downloaded scripts and execute them in such a way that they can’t bypass use of this security context then you’re all good. You just need to make sure your database login for this purpose is restricted in what it can do.<br>
[/quote]wtf… typical government programmers[/quote]</p>
<p><img src="http://4.bp.blogspot.com/-Mo54B8g1JCY/UdF_azy_3UI/AAAAAAAAGfA/Qxf53e1f1aQ/s1031/Legolas_Isengard.jpg" alt width="" height=""></p>
      </div>

      <meta itemprop='headline' content='Exposing a limited API to a scripting engine'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/exposing-a-limited-api-to-a-scripting-engine/545718 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:11 GMT -->
</html>
