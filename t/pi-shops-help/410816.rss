<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Shops Help</title>
    <link>https://forum.moparisthebest.com/t/pi-shops-help/410816</link>
    <description>Hey guys, Im trying to add a Dungeoneering Token shop with the tokens being 10936, which is some sort of Reward Token. I have the Shop in the .cfg file, but the problem is, for example the Chaotic Rapier is set to 1.5k Tokens in the shop, even when you click on value it says &quot;this item is 1.5k tokens&quot;, but when you actually go to buy it in the shop, it only replaces the coins for the Reward token. For example, I have 1.5k tokens want to buy a rapier, but it says &quot;you do not have enough tokens&quot; and the shop connects to the prices.txt file in the cfg folder in data, so the real cost is about 1b tokens. I have the case 18349 and the return set to 1500. 22 is the ID of the Reward Shop.


This is what I added to ShopAssistant.Java.
[code]               if(c.myShopId == 22) {
                	if (c.playerItemsN[Slot4] &gt;= TotPrice2) {
						if (c.getItems().freeSlots() &gt; 0) {
							c.getItems().deleteItem(10936, c.getItems().getItemSlot(10936), TotPrice2);
							c.getItems().addItem(itemID, 1);
							Server.shopHandler.ShopItemsN[c.myShopId][fromSlot] -= 1;
							Server.shopHandler.ShopItemsDelay[c.myShopId][fromSlot] = 0;
							if (fromSlot + 1 &gt; Server.shopHandler.ShopItemsStandard[c.myShopId]) {
								Server.shopHandler.ShopItems[c.myShopId][fromSlot] = 0;
							}
						} else {
							c.sendMessage(&quot;You don&#39;t have enough space in your inventory.&quot;);
							break;
						}
					} else {
						c.sendMessage(&quot;You don&#39;t have enough dung tokens.&quot;);
						break;
					}
				}
[/code]

[code]				TotPrice2 = (int)Math.floor(getItemShopValue(itemID, 0, fromSlot));
				Slot = c.getItems().getItemSlot(995);
				Slot1 = c.getItems().getItemSlot(6529);
				Slot3 = c.getItems().getItemSlot(7478);
				Slot4 = c.getItems().getItemSlot(10936);//this is what i added
				if (Slot == -1 &amp;&amp; c.myShopId != 11 &amp;&amp; c.myShopId != 29 &amp;&amp; c.myShopId != 30 &amp;&amp; c.myShopId != 31 &amp;&amp; c.myShopId != 47 &amp;&amp; c.myShopId != 22) {
					c.sendMessage(&quot;You don&#39;t have enough coins.&quot;);
					break;
				}
				if(Slot1 == -1 &amp;&amp; c.myShopId == 29 || c.myShopId == 30 || c.myShopId == 31) {

					c.sendMessage(&quot;You don&#39;t have enough tokkul.&quot;);
					break;
				}
				if(Slot3 == -1 &amp;&amp; c.myShopId == 11) {
					c.sendMessage(&quot;You don&#39;t have enough donator gold.&quot;);
					break;
				}
				if(Slot4 == -1 &amp;&amp; c.myShopId == 22) {
					c.sendMessage(&quot;You don&#39;t have enough Reward tokens.&quot;);
					break;//this is also what i added
				}[/code]</description>
    
    <lastBuildDate>Thu, 18 Aug 2011 21:32:30 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-shops-help/410816.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Shops Help</title>
        <dc:creator><![CDATA[@batistaboy4 batistaboy4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/batistaboy4">@batistaboy4</a> wrote:</p>
          <blockquote>
              <p><code> if (c.playerItemsN[Slot4] &gt;= TotPrice2) {
</code><br>
change the c.playerItemsN[Slot4] to c.dungPoints</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-shops-help/410816/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-shops-help/410816/2</link>
        <pubDate>Thu, 18 Aug 2011 21:32:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-410816-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-shops-help/410816.rss">[PI] Shops Help</source>
      </item>
      <item>
        <title>[PI] Shops Help</title>
        <dc:creator><![CDATA[@yoshiman860 yoshiman860]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/yoshiman860">@yoshiman860</a> wrote:</p>
          <blockquote>
              <p>Hey guys, Im trying to add a Dungeoneering Token shop with the tokens being 10936, which is some sort of Reward Token. I have the Shop in the .cfg file, but the problem is, for example the Chaotic Rapier is set to 1.5k Tokens in the shop, even when you click on value it says “this item is 1.5k tokens”, but when you actually go to buy it in the shop, it only replaces the coins for the Reward token. For example, I have 1.5k tokens want to buy a rapier, but it says “you do not have enough tokens” and the shop connects to the prices.txt file in the cfg folder in data, so the real cost is about 1b tokens. I have the case 18349 and the return set to 1500. 22 is the ID of the Reward Shop.</p>
<p>This is what I added to ShopAssistant.Java.</p>
<p><code>               if(c.myShopId == 22) {
                	if (c.playerItemsN[Slot4] &gt;= TotPrice2) {
						if (c.getItems().freeSlots() &gt; 0) {
							c.getItems().deleteItem(10936, c.getItems().getItemSlot(10936), TotPrice2);
							c.getItems().addItem(itemID, 1);
							Server.shopHandler.ShopItemsN[c.myShopId][fromSlot] -= 1;
							Server.shopHandler.ShopItemsDelay[c.myShopId][fromSlot] = 0;
							if (fromSlot + 1 &gt; Server.shopHandler.ShopItemsStandard[c.myShopId]) {
								Server.shopHandler.ShopItems[c.myShopId][fromSlot] = 0;
							}
						} else {
							c.sendMessage("You don't have enough space in your inventory.");
							break;
						}
					} else {
						c.sendMessage("You don't have enough dung tokens.");
						break;
					}
				}
</code></p>
<p>[code]				TotPrice2 = (int)Math.floor(getItemShopValue(itemID, 0, fromSlot));<br>
Slot = c.getItems().getItemSlot(995);<br>
Slot1 = c.getItems().getItemSlot(6529);<br>
Slot3 = c.getItems().getItemSlot(7478);<br>
Slot4 = c.getItems().getItemSlot(10936);//this is what i added<br>
if (Slot == -1 &amp;&amp; c.myShopId != 11 &amp;&amp; c.myShopId != 29 &amp;&amp; c.myShopId != 30 &amp;&amp; c.myShopId != 31 &amp;&amp; c.myShopId != 47 &amp;&amp; c.myShopId != 22) {<br>
c.sendMessage(“You don’t have enough coins.”);<br>
break;<br>
}<br>
if(Slot1 == -1 &amp;&amp; c.myShopId == 29 || c.myShopId == 30 || c.myShopId == 31) {</p>
<pre><code>				c.sendMessage("You don't have enough tokkul.");
				break;
			}
			if(Slot3 == -1 &amp;&amp; c.myShopId == 11) {
				c.sendMessage("You don't have enough donator gold.");
				break;
			}
			if(Slot4 == -1 &amp;&amp; c.myShopId == 22) {
				c.sendMessage("You don't have enough Reward tokens.");
				break;//this is also what i added
			}[/code]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-shops-help/410816/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-shops-help/410816/1</link>
        <pubDate>Thu, 18 Aug 2011 13:22:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-410816-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-shops-help/410816.rss">[PI] Shops Help</source>
      </item>
  </channel>
</rss>
