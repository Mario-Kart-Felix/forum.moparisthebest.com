<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/317-testscape-based-sources-stop-player-death-on-first-join/389161 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 04:49:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[317] TestScape Based Sources - Stop Player Death on First Join - Runescape - moparisthebest.com</title>
    <meta name="description" content="This tutorial will show you how to prevent the death of a player when they first connect to the server (before there user file etc. has been created). 

1) First of all open your client.java file. 

2) Search for the fol&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="389161.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[317] TestScape Based Sources - Stop Player Death on First Join&#39;" href="389161.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/317-testscape-based-sources-stop-player-death-on-first-join/389161" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/317-testscape-based-sources-stop-player-death-on-first-join/389161" />
<meta property="og:title" content="[317] TestScape Based Sources - Stop Player Death on First Join" />
<meta name="twitter:title" content="[317] TestScape Based Sources - Stop Player Death on First Join" />
<meta property="og:description" content="This tutorial will show you how to prevent the death of a player when they first connect to the server (before there user file etc. has been created).    First of all open your client.java file.    Search for the following:     Below that you should see an if statement that begins:   Find the end of this if statement. It will look something similar to this:  	playerLevel = loadgame.playerLevel; 	playerXP = loadgame.playerXP; 	// PlayerHandler.messageToAll = 	// playerName+&quot;: has logged in! There..." />
<meta name="twitter:description" content="This tutorial will show you how to prevent the death of a player when they first connect to the server (before there user file etc. has been created).    First of all open your client.java file.    Search for the following:     Below that you should see an if statement that begins:   Find the end of this if statement. It will look something similar to this:  	playerLevel = loadgame.playerLevel; 	playerXP = loadgame.playerXP; 	// PlayerHandler.messageToAll = 	// playerName+&quot;: has logged in! There..." />
<meta property="article:published_time" content="2011-04-02T15:48:17+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="389161.html">[317] TestScape Based Sources - Stop Player Death on First Join</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/jSherz.html'><span itemprop='name'>jSherz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-04-02T15:48:17Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:39:09Z' class='post-time'>
              August 1, 2016,  8:39am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This tutorial will show you how to prevent the death of a player when they first connect to the server (before there user file etc. has been created).</p>
<ol>
<li>
<p>First of all open your <span class="bbcode-i">client.java</span> file.</p>
</li>
<li>
<p>Search for the following:</p>
</li>
</ol>
<pre><code class="lang-auto"></code></pre>
<p>Below that you should see an if statement that begins:</p>
<pre><code class="lang-auto"></code></pre>
<p>Find the end of this if statement. It will look something similar to this:</p>
<p><code>	playerLevel = loadgame.playerLevel;
	playerXP = loadgame.playerXP;
	// PlayerHandler.messageToAll =
	// playerName+": has logged in! There is now "+PlayerHandler.getPlayerCount()
	// + " players.";
}</code></p>
<p>Once you have found the end of the if statement. Add the following code directly after it:</p>
<p><code>else {
	currentHealth = 10;
	NewHP = 10;
	playerLevel[playerHitpoints] = 10;
}</code></p>
<p>The end of the if will now look similar to this:</p>
<p><code>	playerXP = loadgame.playerXP;
	// PlayerHandler.messageToAll =
	// playerName+": has logged in! There is now "+PlayerHandler.getPlayerCount()
	// + " players.";
} else {
	currentHealth = 10;
	NewHP = 10;
	playerLevel[playerHitpoints] = 10;
}</code></p>
<p><span class="bbcode-b">Explanation:</span> When loading the server attempts to load the data of the player (e.g. their level, health etc.) from a file. If this file is not found and the loading fails, the loadMythgame function returns null. The if that we have just added to checks for this. If it is not null, the health and other skills are loaded and checked. Although, if it is null, nothing is done to ensure that the health of the player is set. Once this happens, a check to see if the health is 0 (player death) is run - the player is then made to die. We prevent this by setting the health of the player if the playerâ€™s information failed to load (loadMythgame returns null).</p>
      </div>

      <meta itemprop='headline' content='[317] TestScape Based Sources - Stop Player Death on First Join'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Mod_Whip.html'><span itemprop='name'>Mod_Whip</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-04-02T15:52:23Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:39:10Z' class='post-time'>
              August 1, 2016,  8:39am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>O.O I remember testscape!!</p>
      </div>

      <meta itemprop='headline' content='[317] TestScape Based Sources - Stop Player Death on First Join'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-04-03T00:48:53Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:40:14Z' class='post-time'>
              August 1, 2016,  8:40am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="389161">
<div class="title">
<div class="quote-controls"></div>
 Mod Whip:</div>
<blockquote>
<p>O.O I remember testscape!!</p>
</blockquote>
</aside>
<p>â€¦</p>
<p><span class="mention">@OP</span>: Nice tutorial.</p>
      </div>

      <meta itemprop='headline' content='[317] TestScape Based Sources - Stop Player Death on First Join'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runewings317.html'><span itemprop='name'>runewings317</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-04-03T02:58:09Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:40:32Z' class='post-time'>
              August 1, 2016,  8:40am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Never heard of Test-Scape but looks great! <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='[317] TestScape Based Sources - Stop Player Death on First Join'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Scape-JAVA.html'><span itemprop='name'>Scape-JAVA</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-04-03T21:09:02Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:41:24Z' class='post-time'>
              August 1, 2016,  8:41am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>More or less of a snippet, post this in the snippets thread.</p>
      </div>

      <meta itemprop='headline' content='[317] TestScape Based Sources - Stop Player Death on First Join'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/317-testscape-based-sources-stop-player-death-on-first-join/389161 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 04:49:22 GMT -->
</html>
