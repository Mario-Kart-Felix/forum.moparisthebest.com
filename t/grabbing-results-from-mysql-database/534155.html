<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/grabbing-results-from-mysql-database/534155 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Grabbing results from MySQL database? - General Programming - moparisthebest.com</title>
    <meta name="description" content="Anybody know what I am doing wrong here? It is writing to the database fine but I null pointer at [size=8pt][i]rs = statement.executeQuery();[/i][/size] 

I am trying to return the values in my tables from row and column&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="534155.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Grabbing results from MySQL database?&#39;" href="534155.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://i41.tinypic.com/2l9muq0.png" />
<meta property="og:image" content="http://i41.tinypic.com/2l9muq0.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/grabbing-results-from-mysql-database/534155" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/grabbing-results-from-mysql-database/534155" />
<meta property="og:title" content="Grabbing results from MySQL database?" />
<meta name="twitter:title" content="Grabbing results from MySQL database?" />
<meta property="og:description" content="Anybody know what I am doing wrong here? It is writing to the database fine but I null pointer at [size=8pt]rs = statement.executeQuery();[/size]  I am trying to return the values in my tables from row and column. E.g. getting the username from the username column and returning the result from the selected row.  How the table looks in phpMyAdmin    Console: [size=8pt]java.sql.SQLException: Can not issue data manipulation statements with executeQuery().[/size]  [code=java]    PreparedStatement st..." />
<meta name="twitter:description" content="Anybody know what I am doing wrong here? It is writing to the database fine but I null pointer at [size=8pt]rs = statement.executeQuery();[/size]  I am trying to return the values in my tables from row and column. E.g. getting the username from the username column and returning the result from the selected row.  How the table looks in phpMyAdmin    Console: [size=8pt]java.sql.SQLException: Can not issue data manipulation statements with executeQuery().[/size]  [code=java]    PreparedStatement st..." />
<meta property="article:published_time" content="2013-10-15T16:59:41+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="534155.html">Grabbing results from MySQL database?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ashi.html'><span itemprop='name'>Ashi</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-10-15T16:59:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:49:09Z' class='post-time'>
              August 4, 2016, 10:49am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Anybody know what I am doing wrong here? It is writing to the database fine but I null pointer at [size=8pt]<span class="bbcode-i">rs = statement.executeQuery();</span>[/size]</p>
<p>I am trying to return the values in my tables from row and column. E.g. getting the username from the username column and returning the result from the selected row.</p>
<p><span class="bbcode-u">How the table looks in phpMyAdmin</span><br>
<img src="http://i41.tinypic.com/2l9muq0.png" alt width="" height=""></p>
<p><span class="bbcode-b">Console</span>: <span class="bbcode-i">[size=8pt]java.sql.SQLException: Can not issue data manipulation statements with executeQuery().[/size]</span></p>
<p>[code=java]    PreparedStatement statement;<br>
ResultSet rs;</p>
<pre><code>String username = "myName";
String password = "myPassword";	
int rights = 5;

String query = "INSERT INTO `players` (`username`, `password`, `rights`) VALUES(?, ?, ?)";

statement = connection.prepareStatement(query);

statement.setString(1, username);
statement.setString(2, password);
statement.setInt(3, rights);
statement.executeUpdate();

rs = statement.executeQuery();
		
while (rs.next()) {
    System.out.println(rs.getString(1));
    System.out.println(rs.getString(2));
System.out.println(rs.getInt(3));
}[/code]
</code></pre>
<p>That’s just a sample code of what I could work out giving an idea of getting information from what ever column the getString() method had. I’m sure not how I should be querying results or if that even makes a difference.</p>
<p>I’ve skimmed through docs and looked around Google but couldn’t find anything. Any ideas?</p>
      </div>

      <meta itemprop='headline' content='Grabbing results from MySQL database?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sspoke.html'><span itemprop='name'>sspoke</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-10-15T17:49:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:49:09Z' class='post-time'>
              August 4, 2016, 10:49am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You don’t need to do statement.executeUpdate();  that’s probably for saving information! not retrieving it.</p>
<p><code>rs = statement.executeQuery();</code>       will work</p>
<p>You will need to update the query to retreive information such as</p>
<pre><code class="lang-auto">java.sql.PreparedStatement statement = connection.prepareStatement(
               "SELECT * FROM players WHERE username = ? AND password = ?");
stmt.setString(1, username);
stmt.setString(2, password);
ResultSet rs = stmt.executeQuery();

    while (rs.next()) {
        System.out.println(rs.getString(1)); //username
        System.out.println(rs.getString(2)); //password
        System.out.println(rs.getInt(3)); //rights
        System.out.println(rs.getInt(4));
        System.out.println(rs.getInt(5));
        System.out.println(rs.getInt(6));
        System.out.println(rs.getInt(7));
        System.out.println(rs.getInt(8));
        System.out.println(rs.getInt(9));
        System.out.println(rs.getInt(10));
        System.out.println(rs.getInt(11));
        System.out.println(rs.getInt(12));
        System.out.println(rs.getInt(13)); //bank
        System.out.println(rs.getInt(14)); //misc
    }</code></pre>
      </div>

      <meta itemprop='headline' content='Grabbing results from MySQL database?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ashi.html'><span itemprop='name'>Ashi</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-10-15T18:01:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:49:10Z' class='post-time'>
              August 4, 2016, 10:49am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sspoke, post:2, topic:534155”]You don’t need to do statement.executeUpdate();  that’s probably for saving information! not retrieving it.</p>
<pre><code class="lang-auto"></code></pre>
<p>[code=java]    String query = “INSERT INTO <code>players</code> (<code>username</code>, <code>password</code>, <code>rights</code>) VALUES(?, ?, ?)”;</p>
<pre><code>statement = connection.prepareStatement(query);

statement.setString(1, username);
statement.setString(2, password);
statement.setInt(3, rights);
statement.executeUpdate();[/code]
</code></pre>
<p>That whole block is used for inserting into database/saving</p>
<p>[code=java]  rs = statement.executeQuery();</p>
<pre><code>while (rs.next()) {
    System.out.println(rs.getString(1));
    System.out.println(rs.getString(2));
    System.out.println(rs.getInt(3));
}
</code></pre>
<p>[/code]<br>
This is how I was trying to test it. It’s not correct (assuming).<br>
The exception is thrown at <span class="bbcode-i">rs = statement.executeQuery();</span></p>
      </div>

      <meta itemprop='headline' content='Grabbing results from MySQL database?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sspoke.html'><span itemprop='name'>sspoke</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-10-15T18:12:04Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:49:10Z' class='post-time'>
              August 4, 2016, 10:49am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>INSERTing is only used for adding new players to table not updating players that already exist.</p>
<p>You will have to use INSERT if player doesn’t exist… (NEW PLAYER) and UPDATE if player already exists and you want to save them.</p>
<p>to save a player you don’t use INSERT that you can use to add a NEW Player to database…</p>
<p>To update a table that ALREADY EXISTS.</p>
<p>you need to use UPDATE</p>
<p>[code=mysql]String query = “UPDATE players SET xPos = ?, yPos = ? WHERE username = ? AND password = ?”;</p>
<p>stmt = con.prepareStatement(query);<br>
stmt.setInt(1, xPosNumber); //this will update xPos<br>
stmt.setInt(2, yPosNumber); //this will update yPos<br>
stmt.setString(3, userName); //this will find username<br>
stmt.setString(4, passWord); //this will find password with username.<br>
stmt.executeUpdate(); //you need to do Update here and you can’t retrieve anything!<br>
[/code]</p>
      </div>

      <meta itemprop='headline' content='Grabbing results from MySQL database?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/hadesflames.html'><span itemprop='name'>hadesflames</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-10-15T18:41:32Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:49:10Z' class='post-time'>
              August 4, 2016, 10:49am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>In your code you’re running execute update And THEN running execute query to get a result set. You’re only meant to run one of them, once you do execute update, the execute query will return null.</p>
      </div>

      <meta itemprop='headline' content='Grabbing results from MySQL database?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-10-15T18:46:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:49:10Z' class='post-time'>
              August 4, 2016, 10:49am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>IIRC you need to select first</p>
<pre><code class="lang-auto">Statement statement = connection.createStatement();
ResultSet resultSet = statement.executeQuery("SELECT * FROM `players`");
// while (resultSet.next()) { ... }
PreparedStatement preparedStatement = connection.prepareStatement("SELECT username, password, rights FROM `players`");
resultSet = preparedStatement.executeQuery();
// setString(...), setInt(...) ...
preparedStatement.executeUpdate();</code></pre>
      </div>

      <meta itemprop='headline' content='Grabbing results from MySQL database?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ashi.html'><span itemprop='name'>Ashi</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-10-15T20:26:18Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:49:12Z' class='post-time'>
              August 4, 2016, 10:49am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“AtomicInt_, post:6, topic:534155”]IIRC you need to select first</p>
<p><code>
Statement statement = connection.createStatement();
ResultSet resultSet = statement.executeQuery("SELECT * FROM `players`");
// while (resultSet.next()) { ... }
PreparedStatement preparedStatement = connection.prepareStatement("SELECT username, password, rights FROM `players`");
resultSet = preparedStatement.executeQuery();
// setString(...), setInt(...) ...
preparedStatement.executeUpdate();
</code>[/quote]<br>
^ Was more helpful thanks! Got it slightly working just revamping it to work as I wanted it.</p>
<aside class="quote" data-post="5" data-topic="534155">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/hadesflames/40/9987_1.png" class="avatar"> hadesflames:</div>
<blockquote>
<p>In your code you’re running execute update And THEN running execute query to get a result set. You’re only meant to run one of them, once you do execute update, the execute query will return null.</p>
</blockquote>
</aside>
<p>I didn’t know that before. Never worked with MySQL and Java practically. I was wondering why I got null result.</p>
<p><a class="mention" href="../../u/sspoke.html">@sspoke</a><br>
I understand that using INSERT will create a new field in the database and am know that I should use UPDATE when I practically use this. Thanks though <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Thanks for the help guys <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
Hope I don’t run into anymore problems <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Grabbing results from MySQL database?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/grabbing-results-from-mysql-database/534155 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:56 GMT -->
</html>
