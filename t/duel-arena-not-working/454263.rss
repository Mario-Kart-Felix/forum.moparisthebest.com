<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Duel Arena Not Working</title>
    <link>https://forum.moparisthebest.com/t/duel-arena-not-working/454263</link>
    <description>When I go to duel arena on my server there is no &quot;challenge&quot; option. How do I fix this? It should be there according to my duelcontroler.java. So anyone help?

DuelControler.Java:

[CODE]package com.rs.game.player.controlers;

import com.rs.game.WorldTile;
import com.rs.game.player.DuelConfigurations;
import com.rs.game.player.Player;

public class DuelControler extends Controler {

 [MENTION=15855]Over[/MENTION]ride
	public void start() {
		sendInterfaces();
		player.getAppearence().generateAppearenceData();
		player.getPackets().sendPlayerOption(&quot;Challenge&quot;, 1, false);
		moved();
	}

 [MENTION=15855]Over[/MENTION]ride
	public boolean login() {
		start();
		return false;
	}

	public boolean logout() {
		return false;
	}

 [MENTION=15855]Over[/MENTION]ride
	public void forceClose() {
		remove();
	}

	public boolean processMagicTeleport(WorldTile toTile) {
		return true;
	}

	public boolean processItemTeleport(WorldTile toTile) {
		return true;
	}

 [MENTION=15855]Over[/MENTION]ride
	public void magicTeleported(int type) {
		removeControler();
		remove();
	}

 [MENTION=15855]Over[/MENTION]ride
	public void moved() {
		if (!isAtDuelArena(player)) {
			removeControler();
			remove();
		}
	}

 [MENTION=15855]Over[/MENTION]ride
	public boolean canPlayerOption1(Player target) {
		player.stopAll(true);
		if (target.getInterfaceManager().containsScreenInter()) {
			player.getPackets().sendGameMessage(&quot;The other player is busy.&quot;);
			return false;
		}
		if (target.getTemporaryAttributtes().get(&quot;DuelChallenged&quot;) == player) {
			target.getTemporaryAttributtes().remove(&quot;DuelChallenged&quot;);
			DuelConfigurations duelConfigurations = new DuelConfigurations(
					player, target, (Boolean) target.getTemporaryAttributtes()
							.remove(&quot;DuelFriendly&quot;));
			player.setDuelConfigurations(duelConfigurations);
			target.setDuelConfigurations(duelConfigurations);
			return false;
		}
		player.getTemporaryAttributtes().put(&quot;DuelTarget&quot;, target);
		player.getInterfaceManager().sendInterface(640);
		player.getTemporaryAttributtes().put(&quot;WillDuelFriendly&quot;, true); // default
																		// must
																		// be
																		// friendly
		player.getPackets().sendConfig(283, 67108864);
		return false;
	}

	public static void challenge(Player player) {
		player.closeInterfaces();
		Boolean friendly = (Boolean) player.getTemporaryAttributtes().remove(
				&quot;WillDuelFriendly&quot;);
		if (friendly == null)
			return;
		Player target = (Player) player.getTemporaryAttributtes().remove(
				&quot;DuelTarget&quot;);
		if (target == null
				|| target.hasFinished()
				|| !target.withinDistance(player, 14)
				|| !(target.getControlerManager().getControler() instanceof DuelControler)) {
			player.getPackets().sendGameMessage(
					&quot;Unable to find &quot;
							+ (target == null ? &quot;your target&quot; : target
									.getDisplayName()));
			return;
		}
		player.getTemporaryAttributtes().put(&quot;DuelChallenged&quot;, target);
		player.getTemporaryAttributtes().put(&quot;DuelFriendly&quot;, friendly);
		player.getPackets().sendGameMessage(
				&quot;Sending &quot; + target.getDisplayName() + &quot; a request...&quot;);
		target.getPackets().sendDuelChallengeRequestMessage(player, friendly);
	}

	public void remove() {
		player.getPackets().closeInterface(
				player.getInterfaceManager().hasRezizableScreen() ? 10 : 8);
		player.getAppearence().generateAppearenceData();
		player.getPackets().sendPlayerOption(&quot;null&quot;, 1, false);
	}

 [MENTION=15855]Over[/MENTION]ride
	public void sendInterfaces() {
		if (isAtDuelArena(player)) {
			player.getInterfaceManager().sendTab(
					player.getInterfaceManager().hasRezizableScreen() ? 10 : 8,
					638);
		}
	}

	public static boolean isAtDuelArena(WorldTile player) {
		return (player.getX() &gt;= 3355 &amp;&amp; player.getX() &lt;= 3360
				&amp;&amp; player.getY() &gt;= 3267 &amp;&amp; player.getY() &lt;= 3279)
				|| (player.getX() &gt;= 3355 &amp;&amp; player.getX() &lt;= 3379
						&amp;&amp; player.getY() &gt;= 3272 &amp;&amp; player.getY() &lt;= 3279)
				|| (player.getX() &gt;= 3374 &amp;&amp; player.getX() &lt;= 3379
						&amp;&amp; player.getY() &gt;= 3267 &amp;&amp; player.getY() &lt;= 3271);
	}

}
[/CODE]</description>
    
    <lastBuildDate>Tue, 14 Aug 2012 20:56:31 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/duel-arena-not-working/454263.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Duel Arena Not Working</title>
        <dc:creator><![CDATA[@mista_pnut mista pnut]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mista_pnut">@mista_pnut</a> wrote:</p>
          <blockquote>
              <p>IGNORE THIS IF YOU’RE RUNNING PI - Didn’t notice until prior to writing this.</p>
<p>Client.java under <span class="bbcode-i">public class client extends Player implements Runnable {</span> add this</p>
<pre><code class="lang-auto">public void rightClickCheck() {
		if(isInDuelArea== false) {
			outStream.createFrameVarSize(104);
			outStream.writeByteC(3);
			outStream.writeByteA(0);
			outStream.writeString("null");
			outStream.endFrameVarSize();
		}
		if(isInDuelArea(absX, absY, 1)) {
		outStream.createFrameVarSize(104);
			outStream.writeByteC(3);
			outStream.writeByteA(0);		
			outStream.writeString("Challenge");
			outStream.endFrameVarSize();
		}
	}</code></pre>
<p>Then, you’ll need to add the boolean, isInDuelArea, which would be basically the box/rectangle that you want the people to be able to use the challenge option in. It’d look something like this</p>
<p><code>
public boolean isInDuelArea(){
if(coordX &lt;= xxxx &amp;&amp; coordX &gt;= xxxx &amp;&amp; coordY &gt;= xxxx &amp;&amp; coordY &lt;= xxxx){
	return true;
	}
	else {
		return false;
	}
}</code></p>
<p>Lastly, search for “follow”, and right above that, call for the void you placed earlier. It should look something like this:</p>
<p>[code=java]<br>
rightClickCheck();</p>
<p>outStream.createFrameVarSize(104);<br>
outStream.writeByteC(4); // command slot (does it matter which one?)<br>
outStream.writeByteA(0); // 0 or 1; 0 if command should be placed on top in context menu<br>
outStream.writeString(“Follow”);<br>
outStream.endFrameVarSize();[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/duel-arena-not-working/454263/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/duel-arena-not-working/454263/2</link>
        <pubDate>Tue, 14 Aug 2012 20:56:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-454263-2</guid>
        <source url="https://forum.moparisthebest.com/t/duel-arena-not-working/454263.rss">Duel Arena Not Working</source>
      </item>
      <item>
        <title>Duel Arena Not Working</title>
        <dc:creator><![CDATA[@Deathly_Claws Deathly Claws]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/deathly_claws">@Deathly_Claws</a> wrote:</p>
          <blockquote>
              <p>When I go to duel arena on my server there is no “challenge” option. How do I fix this? It should be there according to my duelcontroler.java. So anyone help?</p>
<p>DuelControler.Java:</p>
<p>[CODE]package com.rs.game.player.controlers;</p>
<p>import com.rs.game.WorldTile;<br>
import com.rs.game.player.DuelConfigurations;<br>
import com.rs.game.player.Player;</p>
<p>public class DuelControler extends Controler {</p>
<p>[MENTION=15855]Over[/MENTION]ride<br>
public void start() {<br>
sendInterfaces();<br>
player.getAppearence().generateAppearenceData();<br>
player.getPackets().sendPlayerOption(“Challenge”, 1, false);<br>
moved();<br>
}</p>
<p>[MENTION=15855]Over[/MENTION]ride<br>
public boolean login() {<br>
start();<br>
return false;<br>
}</p>
<pre><code>public boolean logout() {
	return false;
}
</code></pre>
<p>[MENTION=15855]Over[/MENTION]ride<br>
public void forceClose() {<br>
remove();<br>
}</p>
<pre><code>public boolean processMagicTeleport(WorldTile toTile) {
	return true;
}

public boolean processItemTeleport(WorldTile toTile) {
	return true;
}
</code></pre>
<p>[MENTION=15855]Over[/MENTION]ride<br>
public void magicTeleported(int type) {<br>
removeControler();<br>
remove();<br>
}</p>
<p>[MENTION=15855]Over[/MENTION]ride<br>
public void moved() {<br>
if (!isAtDuelArena(player)) {<br>
removeControler();<br>
remove();<br>
}<br>
}</p>
<p>[MENTION=15855]Over[/MENTION]ride<br>
public boolean canPlayerOption1(Player target) {<br>
player.stopAll(true);<br>
if (target.getInterfaceManager().containsScreenInter()) {<br>
player.getPackets().sendGameMessage(“The other player is busy.”);<br>
return false;<br>
}<br>
if (target.getTemporaryAttributtes().get(“DuelChallenged”) == player) {<br>
target.getTemporaryAttributtes().remove(“DuelChallenged”);<br>
DuelConfigurations duelConfigurations = new DuelConfigurations(<br>
player, target, (Boolean) target.getTemporaryAttributtes()<br>
.remove(“DuelFriendly”));<br>
player.setDuelConfigurations(duelConfigurations);<br>
target.setDuelConfigurations(duelConfigurations);<br>
return false;<br>
}<br>
player.getTemporaryAttributtes().put(“DuelTarget”, target);<br>
player.getInterfaceManager().sendInterface(640);<br>
player.getTemporaryAttributtes().put(“WillDuelFriendly”, true); // default<br>
// must<br>
// be<br>
// friendly<br>
player.getPackets().sendConfig(283, 67108864);<br>
return false;<br>
}</p>
<pre><code>public static void challenge(Player player) {
	player.closeInterfaces();
	Boolean friendly = (Boolean) player.getTemporaryAttributtes().remove(
			"WillDuelFriendly");
	if (friendly == null)
		return;
	Player target = (Player) player.getTemporaryAttributtes().remove(
			"DuelTarget");
	if (target == null
			|| target.hasFinished()
			|| !target.withinDistance(player, 14)
			|| !(target.getControlerManager().getControler() instanceof DuelControler)) {
		player.getPackets().sendGameMessage(
				"Unable to find "
						+ (target == null ? "your target" : target
								.getDisplayName()));
		return;
	}
	player.getTemporaryAttributtes().put("DuelChallenged", target);
	player.getTemporaryAttributtes().put("DuelFriendly", friendly);
	player.getPackets().sendGameMessage(
			"Sending " + target.getDisplayName() + " a request...");
	target.getPackets().sendDuelChallengeRequestMessage(player, friendly);
}

public void remove() {
	player.getPackets().closeInterface(
			player.getInterfaceManager().hasRezizableScreen() ? 10 : 8);
	player.getAppearence().generateAppearenceData();
	player.getPackets().sendPlayerOption("null", 1, false);
}
</code></pre>
<p>[MENTION=15855]Over[/MENTION]ride<br>
public void sendInterfaces() {<br>
if (isAtDuelArena(player)) {<br>
player.getInterfaceManager().sendTab(<br>
player.getInterfaceManager().hasRezizableScreen() ? 10 : 8,<br>
638);<br>
}<br>
}</p>
<pre><code>public static boolean isAtDuelArena(WorldTile player) {
	return (player.getX() &gt;= 3355 &amp;&amp; player.getX() &lt;= 3360
			&amp;&amp; player.getY() &gt;= 3267 &amp;&amp; player.getY() &lt;= 3279)
			|| (player.getX() &gt;= 3355 &amp;&amp; player.getX() &lt;= 3379
					&amp;&amp; player.getY() &gt;= 3272 &amp;&amp; player.getY() &lt;= 3279)
			|| (player.getX() &gt;= 3374 &amp;&amp; player.getX() &lt;= 3379
					&amp;&amp; player.getY() &gt;= 3267 &amp;&amp; player.getY() &lt;= 3271);
}
</code></pre>
<p>}<br>
[/CODE]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/duel-arena-not-working/454263/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/duel-arena-not-working/454263/1</link>
        <pubDate>Tue, 14 Aug 2012 17:47:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-454263-1</guid>
        <source url="https://forum.moparisthebest.com/t/duel-arena-not-working/454263.rss">Duel Arena Not Working</source>
      </item>
  </channel>
</rss>
