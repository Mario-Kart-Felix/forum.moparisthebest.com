<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/general-design/469229 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 13:45:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>General Design - Runescape - moparisthebest.com</title>
    <meta name="description" content="What sort of design are we looking for? Pseudo code would be helpful; I&amp;#39;ve never had to write something like this so I need a place to start :smiley: 

Are we going to just try and like extend the packet handlers, so if &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="469229.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;General Design&#39;" href="469229.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/general-design/469229" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/general-design/469229" />
<meta property="og:title" content="General Design" />
<meta name="twitter:title" content="General Design" />
<meta property="og:description" content="What sort of design are we looking for? Pseudo code would be helpful; I’ve never had to write something like this so I need a place to start 😃  Are we going to just try and like extend the packet handlers, so if someone was writing a herblore plugin:  //@authors bob, joe, josh //@manager susan  public class Herblore extends GenericPlugin {    VARIABLES AND STUFF    void register() { //all genericplugins have this     scriptmanager.register(herbloreitemonitem, Hooks.ItemonItem) //adds a ho..." />
<meta name="twitter:description" content="What sort of design are we looking for? Pseudo code would be helpful; I’ve never had to write something like this so I need a place to start 😃  Are we going to just try and like extend the packet handlers, so if someone was writing a herblore plugin:  //@authors bob, joe, josh //@manager susan  public class Herblore extends GenericPlugin {    VARIABLES AND STUFF    void register() { //all genericplugins have this     scriptmanager.register(herbloreitemonitem, Hooks.ItemonItem) //adds a ho..." />
<meta property="article:published_time" content="2012-11-19T19:38:47+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="469229.html">General Design</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-19T19:38:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:16:39Z' class='post-time'>
              August 4, 2016,  1:16am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What sort of design are we looking for? Pseudo code would be helpful; I’ve never had to write something like this so I need a place to start <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>Are we going to just try and like extend the packet handlers, so if someone was writing a herblore plugin:</p>
<pre><code class="lang-auto">//@authors bob, joe, josh
//@manager susan

public class Herblore extends GenericPlugin {
 
 VARIABLES AND STUFF 

 void register() { //all genericplugins have this
    scriptmanager.register(herbloreitemonitem, Hooks.ItemonItem) //adds a hook to the script manager
    scriptmanager.register(herbloreitemclick, Hook.ItemClick)
 }

 class herbloreitemonitem extends itemonitemscript { //could also use reflection and replace these classes with just methods
   @Override
   boolean run(Player p, itemid1, itemid2 etcetc) {
    //mixing potions and stuff
   }
 }

 class herbloreitemclick extends itemclickscript {
   @Override
   boolean run(Player p, itemid, slot) {
    //cleaning herbs and stuff
   }
 }</code></pre>
<p>Or did you guys have something else in mind</p>
<p>Basically then all we’d have to do is add a new folder to the build path and dynamically load that folder on startup. I think this would be the easiest way at least, and wouldn’t take very long to develop. However I could be completely misunderstanding what you guys mean when you say API! My understanding is basically the classes we would need to write the code above, and then also just give them easy access to some methods.</p>
      </div>

      <meta itemprop='headline' content='General Design'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-19T20:03:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:16:40Z' class='post-time'>
              August 4, 2016,  1:16am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, every handler should probably implement the appropriate ActionListener, so for items, have something like</p>
<pre><code class="lang-auto">public class GrindItemListener implements ItemActionListener {

	@Override
	public onItemAction(final ItemOnItemAction action) {
		// do default checking, has item and such
		getGroundItem(action.getItemUsed());
		//
	}
}</code></pre>
<p>Then just register it in whatever scripting language we decide, like</p>
<pre><code class="lang-auto">	ItemActionListeners.register(new GrindItemListener(), PESTLE_MORTAR, CLEANED_GUAM, CLEANED_TARROMIN, ...);</code></pre>
<p>But then you run into multiple listeners for multiple items</p>
<pre><code class="lang-auto">	ItemActionListeners.register(new GrindItemListener(), PESTLE_MORTAR, CLEANED_GUAM, CLEANED_TARROMIN, ...);
	ItemActionListeners.register(new PotionMixListener(), WATER_VIAL, CLEANED_GUAM, CLEANED_TARROMIN, ...);</code></pre>
      </div>

      <meta itemprop='headline' content='General Design'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-19T20:19:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:16:41Z' class='post-time'>
              August 4, 2016,  1:16am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yes that’s what I was saying. (the itemonitemscript is just what I meant by itemonitemaction) But in the case of items, there is nothing wrong with having multiple listeners for multiple items. However, in Osiris it looks like you only need to look for a primary item id also in this case. For example:</p>
<p>[quote=“zyle1992, post:2, topic:469229”]<code>
	ItemActionListeners.register(new GrindItemListener(), PESTLE_MORTAR);
	ItemActionListeners.register(new PotionMixListener(), WATER_VIAL, UNFINISHED POTIONS);
</code>[/quote]And then the PotionMixListener has the information about the rest. Basically just make sure that ONE of the items used is in that first list.</p>
<p>But yea that’s somewhat off topic I just mean general design <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='General Design'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-19T20:38:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:16:42Z' class='post-time'>
              August 4, 2016,  1:16am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I mean basically the idea is to give them the tools they need to develop content without them having to modify the original source, right?</p>
<p>So the actions/events are a great start really as they are easily expanded and extended.</p>
<p>What about things like player(instance) variables? That sounds like something we’d have to design as we don’t want them to be added to the original player class right?</p>
      </div>

      <meta itemprop='headline' content='General Design'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-19T20:57:54Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:16:43Z' class='post-time'>
              August 4, 2016,  1:16am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Davidi2, post:4, topic:469229”]I mean basically the idea is to give them the tools they need to develop content without them having to modify the original source, right?</p>
<p>So the actions/events are a great start really as they are easily expanded and extended.</p>
<p>What about things like player(instance) variables? That sounds like something we’d have to design as we don’t want them to be added to the original player class right?[/quote]</p>
<p>The only thing I can think of for that is something like a HashMap, or a Properties object for each player. Then they can set whatever extra values there. When the player logs out, those properties are saved as well.</p>
<p>Also, perhaps if a certain feature is used enough, that is stored in the Properties object, we could move it outside as an actual field.</p>
      </div>

      <meta itemprop='headline' content='General Design'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-19T21:46:14Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:16:44Z' class='post-time'>
              August 4, 2016,  1:16am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>There should also be a “SessionVariables” object for each player, for things that are unique each time the player logs in, or doesn’t need to be saved.</p>
      </div>

      <meta itemprop='headline' content='General Design'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-20T17:37:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:17:11Z' class='post-time'>
              August 4, 2016,  1:17am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It’s going to be based on state machines and actions, where actions can be ran across a timeline. I’ll explain this in greater detail the next time I can talk to you guys on IRC. Hopefully that’s soon, since I really would like for this to start asap. <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='General Design'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/general-design/469229 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 13:45:50 GMT -->
</html>
