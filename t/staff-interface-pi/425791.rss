<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Staff interface [pi]</title>
    <link>https://forum.moparisthebest.com/t/staff-interface-pi/425791</link>
    <description>hey,

i want to make a interface that says what staff is online.
so if you talk to the ´interface guy (or something)´ you can see what admins are online.

like:

owner status: online
admin 1 status: offline

i know how to make a interface but how do i do the online/offline part?</description>
    
    <lastBuildDate>Sun, 18 Dec 2011 18:33:49 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/staff-interface-pi/425791.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Staff interface [pi]</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>[quote=“E z Range, post:7, topic:425791”]Add this to your playerHandler</p>
<p><code>public String getOnlineStatus(String playerName) {
        for (Player p : players) {
                if (p == null || p.disconnected 
                        || !p.playerName.equalsIgnoreCase(playerName))
                        continue;
                return "@gre@Online";
        }
        return "@red@Offline";
}	</code></p>
<p>Use it like this</p>
<pre><code class="lang-auto"></code></pre>
<p>There was a guide for it somewhere, pretty simple though.[/quote]It was a delta guide and a few older PI servers just converted it <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> There is a bug with this actually if I remember correctly…something about it will make it show if only one staff member is on it wont show them or something I forget the full bug.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/staff-interface-pi/425791/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/staff-interface-pi/425791/8</link>
        <pubDate>Sun, 18 Dec 2011 18:33:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-425791-8</guid>
        <source url="https://forum.moparisthebest.com/t/staff-interface-pi/425791.rss">Staff interface [pi]</source>
      </item>
      <item>
        <title>Staff interface [pi]</title>
        <dc:creator><![CDATA[@E_z_Range E z Range]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/e_z_range">@E_z_Range</a> wrote:</p>
          <blockquote>
              <p>Add this to your playerHandler</p>
<p><code>public String getOnlineStatus(String playerName) {
        for (Player p : players) {
                if (p == null || p.disconnected 
                        || !p.playerName.equalsIgnoreCase(playerName))
                        continue;
                return "@gre@Online";
        }
        return "@red@Offline";
}	</code></p>
<p>Use it like this</p>
<pre><code class="lang-auto"></code></pre>
<p>There was a guide for it somewhere, pretty simple though.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/staff-interface-pi/425791/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/staff-interface-pi/425791/7</link>
        <pubDate>Sun, 18 Dec 2011 18:30:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-425791-7</guid>
        <source url="https://forum.moparisthebest.com/t/staff-interface-pi/425791.rss">Staff interface [pi]</source>
      </item>
      <item>
        <title>Staff interface [pi]</title>
        <dc:creator><![CDATA[@drubrkletern drubrkletern]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/drubrkletern">@drubrkletern</a> wrote:</p>
          <blockquote>
              <p>Make it loop through the players online and if it detects that player (The admin or staff w/e) make it say they are online?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/staff-interface-pi/425791/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/staff-interface-pi/425791/6</link>
        <pubDate>Sun, 18 Dec 2011 18:12:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-425791-6</guid>
        <source url="https://forum.moparisthebest.com/t/staff-interface-pi/425791.rss">Staff interface [pi]</source>
      </item>
      <item>
        <title>Staff interface [pi]</title>
        <dc:creator><![CDATA[@jaspertje80 jaspertje80]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jaspertje80">@jaspertje80</a> wrote:</p>
          <blockquote>
              <p>[quote=“Loveandpower, post:4, topic:425791”]You should read the section rules</p>
<p>[quote]3. We are not a Spoonfeeding community. We do not teach in an oversimplified manner to discourage independent thought. We encourage independent thought, meaning you must help yourselves before requesting help. Failure to provide some sort of prior knowledge or work to the problem will result in a lock of the topic. This is final.</p>
<p>Don’t just request code to be made for you.[/quote][/quote]<br>
im not asking for the code -,-<br>
i just need some help…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/staff-interface-pi/425791/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/staff-interface-pi/425791/5</link>
        <pubDate>Sun, 18 Dec 2011 18:11:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-425791-5</guid>
        <source url="https://forum.moparisthebest.com/t/staff-interface-pi/425791.rss">Staff interface [pi]</source>
      </item>
      <item>
        <title>Staff interface [pi]</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>You should read the section rules</p>
<blockquote>3. We are not a Spoonfeeding community. We do not teach in an oversimplified manner to discourage independent thought. We encourage independent thought, meaning you must help yourselves before requesting help. Failure to provide some sort of prior knowledge or work to the problem will result in a lock of the topic. This is final.
<p>Don’t just request code to be made for you.</p>
</blockquote>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/staff-interface-pi/425791/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/staff-interface-pi/425791/4</link>
        <pubDate>Sun, 18 Dec 2011 18:09:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-425791-4</guid>
        <source url="https://forum.moparisthebest.com/t/staff-interface-pi/425791.rss">Staff interface [pi]</source>
      </item>
      <item>
        <title>Staff interface [pi]</title>
        <dc:creator><![CDATA[@jaspertje80 jaspertje80]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jaspertje80">@jaspertje80</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="425791">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/loveandpower/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Loveandpower:</div>
<blockquote>
<p>If you look at how the friends list shows people are online you will understand</p>
</blockquote>
</aside>
<p>this is my code…<br>
but i dont really understand it <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>[code]package server.model.players.packets;</p>
<p>import server.Config;<br>
import server.Server;<br>
import server.Connection;<br>
import server.model.players.Client;<br>
import server.model.players.PacketType;<br>
import server.util.Misc;</p>
<p>/**</p>
<ul>
<li>
<p>Private messaging, friends etc<br>
**/<br>
public class PrivateMessaging implements PacketType {</p>
<p>public final int ADD_FRIEND = 188, SEND_PM = 126, REMOVE_FRIEND = 215, CHANGE_PM_STATUS = 95, ADD_IGNORE = 133;<br>
<a class="mention" href="/u/override">@Override</a><br>
public void processPacket(Client c, int packetType, int packetSize) {<br>
switch(packetType) {</p>
<pre><code> 	case ADD_FRIEND:
 	c.friendUpdate = true;
 	long friendToAdd = c.getInStream().readQWord();
 	boolean canAdd = true;

 	for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
 		if (c.friends[i1] != 0 &amp;&amp; c.friends[i1] == friendToAdd) {
 			canAdd = false;
 			c.sendMessage(friendToAdd + " is already on your friends list.");
 		}
 	}
 	if (canAdd == true) {
 		for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
 			if (c.friends[i1] == 0) {
 				c.friends[i1] = friendToAdd;
 				for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
 					if (Server.playerHandler.players[i2] != null &amp;&amp; Server.playerHandler.players[i2].isActive &amp;&amp; Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)== friendToAdd) {
 						Client o = (Client)Server.playerHandler.players[i2];
 						if(o != null) {
 							if (Server.playerHandler.players[i2].privateChat == 0 || (Server.playerHandler.players[i2].privateChat == 1 &amp;&amp; o.getPA().isInPM(Misc.playerNameToInt64(c.playerName)))) {
 								c.getPA().loadPM(friendToAdd, 1);
 								break;
 							}
 						}
 					}
 				}
 				break;
 			}
 		}
 	}
 	break;
 	
 	case SEND_PM:
 	long sendMessageToFriendId = c.getInStream().readQWord();
     byte pmchatText[] = new byte[100];
     int pmchatTextSize = (byte) (packetSize - 8);
 	c.getInStream().readBytes(pmchatText, pmchatTextSize, 0);
 	if (Connection.isMuted(c))
 		break;
     for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
         if (c.friends[i1] == sendMessageToFriendId) {
             boolean pmSent = false;

             for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
                 if (Server.playerHandler.players[i2] != null &amp;&amp; Server.playerHandler.players[i2].isActive &amp;&amp; Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)== sendMessageToFriendId) {
                     Client o = (Client)Server.playerHandler.players[i2];
 					if(o != null) {
 						if (Server.playerHandler.players[i2].privateChat == 0 || (Server.playerHandler.players[i2].privateChat == 1 &amp;&amp; o.getPA().isInPM(Misc.playerNameToInt64(c.playerName)))) {
 							o.getPA().sendPM(Misc.playerNameToInt64(c.playerName), c.playerRights, pmchatText, pmchatTextSize);
                             pmSent = true;
                         }
 					}
                     break;
                 }
             }
             if (!pmSent) {
 				c.sendMessage("That player is currently offline.");
 				break;
             }
         }
     }
     break;	
 	
 	case REMOVE_FRIEND:
 	c.friendUpdate = true;
     long friendToRemove = c.getInStream().readQWord();

     for (int i1 = 0; i1 &lt; c.friends.length; i1++) {
         if (c.friends[i1] == friendToRemove) {
 			for (int i2 = 1; i2 &lt; Config.MAX_PLAYERS; i2++) {
 				Client o = (Client)Server.playerHandler.players[i2];		
 				if(o != null) {
 					if(c.friends[i1] == Misc.playerNameToInt64(Server.playerHandler.players[i2].playerName)){
 						o.getPA().updatePM(c.playerId, 0);
 						break;
 					}
 				}
 			}
 			c.friends[i1] = 0;
             break;
         }
     }
     break;
 	
 	
 	case CHANGE_PM_STATUS:
     int tradeAndCompete = c.getInStream().readUnsignedByte();
     c.privateChat = c.getInStream().readUnsignedByte();
     int publicChat = c.getInStream().readUnsignedByte();
     for (int i1 = 1; i1 &lt; Config.MAX_PLAYERS; i1++) {
 	   if (Server.playerHandler.players[i1] != null &amp;&amp; Server.playerHandler.players[i1].isActive == true) {
             Client o = (Client)Server.playerHandler.players[i1];
 			if(o != null) {
 				o.getPA().updatePM(c.playerId, 1);
 			}
         }
     }
     break;
 	
 	case ADD_IGNORE:
 		//TODO: fix this so it works :)
 		break;
     
 }
</code></pre>
<p>}	<br>
}<br>
[/code]</p>
</li>
</ul>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/staff-interface-pi/425791/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/staff-interface-pi/425791/3</link>
        <pubDate>Sun, 18 Dec 2011 18:06:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-425791-3</guid>
        <source url="https://forum.moparisthebest.com/t/staff-interface-pi/425791.rss">Staff interface [pi]</source>
      </item>
      <item>
        <title>Staff interface [pi]</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>If you look at how the friends list shows people are online you will understand</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/staff-interface-pi/425791/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/staff-interface-pi/425791/2</link>
        <pubDate>Sun, 18 Dec 2011 18:05:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-425791-2</guid>
        <source url="https://forum.moparisthebest.com/t/staff-interface-pi/425791.rss">Staff interface [pi]</source>
      </item>
      <item>
        <title>Staff interface [pi]</title>
        <dc:creator><![CDATA[@jaspertje80 jaspertje80]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jaspertje80">@jaspertje80</a> wrote:</p>
          <blockquote>
              <p>hey,</p>
<p>i want to make a interface that says what staff is online.<br>
so if you talk to the ´interface guy (or something)´ you can see what admins are online.</p>
<p>like:</p>
<p>owner status: online<br>
admin 1 status: offline</p>
<p>i know how to make a interface but how do i do the online/offline part?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/staff-interface-pi/425791/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/staff-interface-pi/425791/1</link>
        <pubDate>Sun, 18 Dec 2011 17:53:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-425791-1</guid>
        <source url="https://forum.moparisthebest.com/t/staff-interface-pi/425791.rss">Staff interface [pi]</source>
      </item>
  </channel>
</rss>
