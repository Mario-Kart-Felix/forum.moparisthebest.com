<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>PHP Page Help</title>
    <link>https://forum.moparisthebest.com/t/php-page-help/421621</link>
    <description>I keep getting this while trying to make pages: &lt;blockquote&gt;Notice: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;ORDER BY lvl DESC, xp DESC LIMIT 0,22&#39; at line 1 in SELECT * FROM skillsoverall ORDER BY lvl DESC, xp DESC ORDER BY lvl DESC, xp DESC LIMIT 0,22 in /home/sagescap/public_html/hiscores/something.php on line 16

Warning: mysql_fetch_array() expects parameter 1 to be resource, boolean given in /home/sagescap/public_html/hiscores/something.php on line 18
Found rows: 4


Warning: Invalid argument supplied for foreach() in /home/sagescap/public_html/hiscores/something.php on line 31

Pages: 1&lt;/blockquote&gt;
Here&#39;s my code: [code=php]&lt;?
include &quot;mysql.php&quot;;
include &quot;functions.php&quot;;
$per_page = 22;
$from_where=&quot;FROM skillsoverall ORDER BY lvl DESC, xp DESC&quot;;
$sql = &quot;SELECT count(*) &quot;.$from_where;
$res = mysql_query($sql) or trigger_error(mysql_error().&quot; in &quot;.$sql);
$row = mysql_fetch_row($res);
$total_rows = $row[0];


if (isset($_GET[&#39;page&#39;])) $CUR_PAGE = intval($_GET[&#39;page&#39;]); else $CUR_PAGE=1;
$start = abs(($CUR_PAGE-1)*$per_page);

$sql = &quot;SELECT * $from_where ORDER BY lvl DESC, xp DESC LIMIT $start,$per_page&quot;;
$res = mysql_query($sql) or trigger_error(mysql_error().&quot; in &quot;.$sql);
while ($row=mysql_fetch_array($res)) $DATA[++$start]=$row;

$uri = strtok($_SERVER[&#39;REQUEST_URI&#39;],&quot;?&quot;).&quot;?&quot;;    
$tmpget = $_GET;
unset($tmpget[&#39;page&#39;]);
if ($tmpget) {
  $uri .= http_build_query($tmpget).&quot;&amp;&quot;;
}    
$num_pages=ceil($total_rows/$per_page);
for($i=1;$i&lt;=$num_pages;$i++) $PAGES[$i]=$uri.&#39;page=&#39;.$i;

?&gt;
Found rows: &lt;b&gt;&lt;?=$total_rows?&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;
&lt;? foreach ($DATA as $i =&gt; $row): ?&gt;
&lt;?=$i?&gt;. &lt;a href=&quot;?id=&lt;?=$row[&#39;id&#39;]?&gt;&quot;&gt;&lt;?=$row[&#39;title&#39;]?&gt;&lt;/a&gt;&lt;br&gt;
&lt;? endforeach ?&gt; 

&lt;br&gt;
Pages: 
&lt;? foreach ($PAGES as $i =&gt; $link): ?&gt;
&lt;? if ($i == $CUR_PAGE): ?&gt;
&lt;b&gt;&lt;?=$i?&gt;&lt;/b&gt;
&lt;? else: ?&gt; 
&lt;a href=&quot;&lt;?=$link?&gt;&quot;&gt;&lt;?=$i?&gt;&lt;/a&gt;
&lt;? endif ?&gt; 
&lt;? endforeach ?&gt; [/code]Any ideas? Nvm, fixed it, there was a problem with the first $sql.</description>
    
    <lastBuildDate>Mon, 14 Nov 2011 15:27:56 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/php-page-help/421621.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>PHP Page Help</title>
        <dc:creator><![CDATA[@vortex vortex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vortex">@vortex</a> wrote:</p>
          <blockquote>
              <p><code>
$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);</code><br>
this is a boolean, just execute the query and check for errors later</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-page-help/421621/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-page-help/421621/2</link>
        <pubDate>Mon, 14 Nov 2011 15:27:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421621-2</guid>
        <source url="https://forum.moparisthebest.com/t/php-page-help/421621.rss">PHP Page Help</source>
      </item>
      <item>
        <title>PHP Page Help</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>I keep getting this while trying to make pages: </p><blockquote>Notice: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ‘ORDER BY lvl DESC, xp DESC LIMIT 0,22’ at line 1 in SELECT * FROM skillsoverall ORDER BY lvl DESC, xp DESC ORDER BY lvl DESC, xp DESC LIMIT 0,22 in /home/sagescap/public_html/hiscores/something.php on line 16
<p>Warning: mysql_fetch_array() expects parameter 1 to be resource, boolean given in /home/sagescap/public_html/hiscores/something.php on line 18<br>
Found rows: 4</p>
<p>Warning: Invalid argument supplied for foreach() in /home/sagescap/public_html/hiscores/something.php on line 31</p>
<p>Pages: 1</p>
</blockquote><br>
Here’s my code: [code=php]&lt;?<br>
include “mysql.php”;<br>
include “functions.php”;<br>
$per_page = 22;<br>
$from_where=“FROM skillsoverall ORDER BY lvl DESC, xp DESC”;<br>
$sql = "SELECT count(*) “.$from_where;<br>
$res = mysql_query($sql) or trigger_error(mysql_error().” in ".$sql);<br>
$row = mysql_fetch_row($res);<br>
$total_rows = $row[0];
<p>if (isset($_GET[‘page’])) $CUR_PAGE = intval($_GET[‘page’]); else $CUR_PAGE=1;<br>
$start = abs(($CUR_PAGE-1)*$per_page);</p>
<p>$sql = “SELECT * $from_where ORDER BY lvl DESC, xp DESC LIMIT $start,$per_page”;<br>
$res = mysql_query($sql) or trigger_error(mysql_error()." in ".$sql);<br>
while ($row=mysql_fetch_array($res)) $DATA[++$start]=$row;</p>
<p>$uri = strtok($_SERVER[‘REQUEST_URI’],"?")."?";<br>
$tmpget = $_GET;<br>
unset($tmpget[‘page’]);<br>
if ($tmpget) {<br>
$uri .= http_build_query($tmpget)."&amp;";<br>
}<br>
$num_pages=ceil($total_rows/$per_page);<br>
for($i=1;$i&lt;=$num_pages;$i++) $PAGES[$i]=$uri.‘page=’.$i;</p>
<p>?&gt;<br>
Found rows: <b>&lt;?=$total_rows?&gt;</b><br><br></p>
&lt;? foreach ($DATA as $i =&gt; $row): ?&gt;
&lt;?=$i?&gt;. <a>&lt;?=$row['title']?&gt;</a><br>
&lt;? endforeach ?&gt; 
<br>
Pages: 
&lt;? foreach ($PAGES as $i =&gt; $link): ?&gt;
&lt;? if ($i == $CUR_PAGE): ?&gt;
<b>&lt;?=$i?&gt;</b>
&lt;? else: ?&gt; 
<a>&lt;?=$i?&gt;</a>
&lt;? endif ?&gt; 
&lt;? endforeach ?&gt; [/code]Any ideas? Nvm, fixed it, there was a problem with the first $sql.
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-page-help/421621/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-page-help/421621/1</link>
        <pubDate>Mon, 14 Nov 2011 15:00:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421621-1</guid>
        <source url="https://forum.moparisthebest.com/t/php-page-help/421621.rss">PHP Page Help</source>
      </item>
  </channel>
</rss>
