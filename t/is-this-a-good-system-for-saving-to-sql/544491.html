<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/is-this-a-good-system-for-saving-to-sql/544491 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 00:14:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Is this a good system for saving to SQL? - Runescape - moparisthebest.com</title>
    <meta name="description" content="Alright.. Just made this system up to save player information to SQL. This information will be integrated to show &amp;quot;Player Cards&amp;quot; on SMF/MyBB profiles. On logout, the SQL is saved, or if the player does, ironically, the c&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="544491.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Is this a good system for saving to SQL?&#39;" href="544491.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://i.imgur.com/zBwvBeZ.png" />
<meta property="og:image" content="http://i.imgur.com/zBwvBeZ.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/is-this-a-good-system-for-saving-to-sql/544491" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/is-this-a-good-system-for-saving-to-sql/544491" />
<meta property="og:title" content="Is this a good system for saving to SQL?" />
<meta name="twitter:title" content="Is this a good system for saving to SQL?" />
<meta property="og:description" content="Alright… Just made this system up to save player information to SQL. This information will be integrated to show “Player Cards” on SMF/MyBB profiles. On logout, the SQL is saved, or if the player does, ironically, the command, ::save. The fastest I’ve got it is 1/20th of a second (47ms) but depending on how much I’m running on my computer it has taken up to 375ms, in bad occasions. Here is how the system works…  I’m utilizing StringBuilder, first off I initialize all the StringBuilders…  StringB..." />
<meta name="twitter:description" content="Alright… Just made this system up to save player information to SQL. This information will be integrated to show “Player Cards” on SMF/MyBB profiles. On logout, the SQL is saved, or if the player does, ironically, the command, ::save. The fastest I’ve got it is 1/20th of a second (47ms) but depending on how much I’m running on my computer it has taken up to 375ms, in bad occasions. Here is how the system works…  I’m utilizing StringBuilder, first off I initialize all the StringBuilders…  StringB..." />
<meta property="article:published_time" content="2014-07-01T02:12:16+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="544491.html">Is this a good system for saving to SQL?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T02:12:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:23Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alright… Just made this system up to save player information to SQL. This information will be integrated to show “Player Cards” on SMF/MyBB profiles. On logout, the SQL is saved, or if the player does, ironically, the command, <span class="bbcode-i"><span class="bbcode-b">::save</span></span>. The fastest I’ve got it is 1/20th of a second (47ms) but depending on how much I’m running on my computer it has taken up to 375ms, in bad occasions. Here is how the system works…</p>
<p>I’m utilizing StringBuilder, first off I initialize all the StringBuilders…</p>
<p><code>StringBuilder ids = new StringBuilder();
			StringBuilder amts = new StringBuilder();
			StringBuilder equipId = new StringBuilder();
			StringBuilder equipAmt = new StringBuilder();
			StringBuilder lookSB = new StringBuilder();
			StringBuilder skillLvl = new StringBuilder();
			StringBuilder skillXp = new StringBuilder();
			StringBuilder itemId = new StringBuilder();
			StringBuilder itemAmt = new StringBuilder();</code></p>
<p>Then I have loops that push values to the string builder… Looking something like this.</p>
<pre><code class="lang-auto">for (int i = 0; i &lt; c.bankItems.length; i++) {
				if (c.bankItems[i] &gt; 0) {
					ids.append(Integer.toString(c.bankItems[i])+" ");
					amts.append(Integer.toString(c.bankItemsN[i])+" ");
				}
			}</code></pre>
<p>Then the query is simply the column names and StringBuilderName.toString();</p>
<p>Now the values are in the database and the delimiter is simply a space. So I can just use explode() to get each individual value.</p>
<p><img src="http://i.imgur.com/zBwvBeZ.png" alt width="" height=""></p>
<p><span class="bbcode-i"><span class="bbcode-b">What do you think about this system? Is there a better way? Average time for a player to log out is ~120ms.</span></span></p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T04:42:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:24Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="1" data-topic="544491">
<div class="title">
<div class="quote-controls"></div>
 The Web Guy:</div>
<blockquote>
<p>So I can just use explode() to get each individual value.</p>
</blockquote>
</aside>
<p>This is definitely not how you should be doing it.</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T05:46:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:25Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This is not the right way to do this.</p>
<p>First of all you should be utilizing the <a href="http://en.wikipedia.org/wiki/Relational_model" data-bbcode="true" rel="nofollow noopener">relational model</a>.</p>
<p>Storing everything as text does not allow you to create a proper unique key and managing this would be a nightmare. There is nothing wrong with 600 rows for someones bank.</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T09:14:06Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:25Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“AtomicInt_, post:3, topic:544491”]This is not the right way to do this.</p>
<p>First of all you should be utilizing the <a href="http://en.wikipedia.org/wiki/Relational_model" data-bbcode="true" rel="nofollow noopener">relational model</a>.</p>
<p>Storing everything as text does not allow you to create a proper unique key and managing this would be a nightmare. There is nothing wrong with 600 rows for someones bank.[/quote]</p>
<p>I first used a relational database, where everything was linked to playerName. And separate tables for bank, stats, etc. However, saving 600 rows for someones bank is extremely slow. I would rather have this system lack website-sided.</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="3" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Terraforming.html'><span itemprop='name'>Terraforming</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T09:25:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:25Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Pretty darn good.</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T10:01:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:26Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="544491">
<div class="title">
<div class="quote-controls"></div>
 The Web Guy:</div>
<blockquote>
<p>I first used a relational database, where everything was linked to playerName. And separate tables for bank, stats, etc. However, saving 600 rows for someones bank is extremely slow. I would rather have this system lack website-sided.</p>
</blockquote>
</aside>
<p>You should be batching your transactions then.</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T10:59:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:27Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“HcoJustin, post:6, topic:544491”][quote author=The Web Guy link=topic=663368.msg4433291#msg4433291 date=1404206046]<br>
I first used a relational database, where everything was linked to playerName. And separate tables for bank, stats, etc. However, saving 600 rows for someones bank is extremely slow. I would rather have this system lack website-sided.<br>
[/quote]<br>
You should be batching your transactions then.[/quote]</p>
<p>Hmm, okay. Is doing that easy to do? So basically… If the player has more than 25, split the queries into 25 at a time and queue them? But is an average for ~70ms of saving to SQL that bad? Even though it’ll be slow as crap website-sided most likely.</p>
<p>Alright, saving all skills, a full inventory, and 100 items in bank takes 78ms. Is it <span class="bbcode-i">that</span> bad?</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Terraforming.html'><span itemprop='name'>Terraforming</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T12:27:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:28Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:7, topic:544491”][quote author=HcoJustin link=topic=663368.msg4433316#msg4433316 date=1404208903]</p>
<aside class="quote">
<blockquote>
<p>I first used a relational database, where everything was linked to playerName. And separate tables for bank, stats, etc. However, saving 600 rows for someones bank is extremely slow. I would rather have this system lack website-sided.</p>
</blockquote>
</aside>
<p>You should be batching your transactions then.<br>
[/quote]</p>
<p>Hmm, okay. Is doing that easy to do? So basically… If the player has more than 25, split the queries into 25 at a time and queue them? But is an average for ~70ms of saving to SQL that bad? Even though it’ll be slow as crap website-sided most likely.</p>
<p>Alright, saving all skills, a full inventory, and 100 items in bank takes 78ms. Is it <span class="bbcode-i">that</span> bad?[/quote]</p>
<p>If that’s how long it takes to save it to the characters file and website, then no that’s beautiful!</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ashi.html'><span itemprop='name'>Ashi</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T12:31:46Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:28Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It should only take up to 20ms.</p>
<p>Are you doing this locally?</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T13:07:49Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:29Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Ashi, post:9, topic:544491”]It should only take up to 20ms.</p>
<p>Are you doing this locally?[/quote]</p>
<p>Yes, on a half ass computer. The quickest I got it was at 46ms. And that’s for all skills, items, inventory, and other player information. Plus that’s included to saving to a text file. Not sure on average how long it should take to save to a text file.</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T13:27:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:29Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:4, topic:544491”][quote author=AtomicInt_ link=topic=663368.msg4433275#msg4433275 date=1404193607]<br>
This is not the right way to do this.</p>
<p>First of all you should be utilizing the <a href="http://en.wikipedia.org/wiki/Relational_model" data-bbcode="true" rel="nofollow noopener">relational model</a>.</p>
<p>Storing everything as text does not allow you to create a proper unique key and managing this would be a nightmare. There is nothing wrong with 600 rows for someones bank.<br>
[/quote]</p>
<p>I first used a relational database, where everything was linked to playerName. And separate tables for bank, stats, etc. However, saving 600 rows for someones bank is extremely slow. I would rather have this system lack website-sided.[/quote]</p>
<p>Well your first flaw is using the players name for lookups you also need to batch your queries</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T13:38:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:29Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“AtomicInt_, post:11, topic:544491”][quote author=The Web Guy link=topic=663368.msg4433291#msg4433291 date=1404206046]</p>
<aside class="quote">
<blockquote>
<p>This is not the right way to do this.</p>
<p>First of all you should be utilizing the <a href="http://en.wikipedia.org/wiki/Relational_model" data-bbcode="true" rel="nofollow noopener">relational model</a>.</p>
<p>Storing everything as text does not allow you to create a proper unique key and managing this would be a nightmare. There is nothing wrong with 600 rows for someones bank.</p>
</blockquote>
</aside>
<p>I first used a relational database, where everything was linked to playerName. And separate tables for bank, stats, etc. However, saving 600 rows for someones bank is extremely slow. I would rather have this system lack website-sided.<br>
[/quote]</p>
<p>Well your first flaw is using the players name for lookups you also need to batch your queries[/quote]</p>
<p>Yeah, I was looking for a UID, I know that there is one based on how the friends system works, but I couldn’t figure out where it was.</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T18:04:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:34Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:7, topic:544491”][quote author=HcoJustin link=topic=663368.msg4433316#msg4433316 date=1404208903]</p>
<aside class="quote">
<blockquote>
<p>I first used a relational database, where everything was linked to playerName. And separate tables for bank, stats, etc. However, saving 600 rows for someones bank is extremely slow. I would rather have this system lack website-sided.</p>
</blockquote>
</aside>
<p>You should be batching your transactions then.<br>
[/quote]</p>
<p>Hmm, okay. Is doing that easy to do? So basically… If the player has more than 25, split the queries into 25 at a time and queue them? But is an average for ~70ms of saving to SQL that bad? Even though it’ll be slow as crap website-sided most likely.</p>
<p>Alright, saving all skills, a full inventory, and 100 items in bank takes 78ms. Is it <span class="bbcode-i">that</span> bad?[/quote]<br>
Yes it is bad. You can’t do something like count the number of coins in the game using a simple sql query, or get the total XP earned in one skill, etc. It also means when you go to write highscores you will have to process that string array for every single player and then sort them.</p>
<p>Check with your SQL driver for batching implementations. As far as I am aware most jdbc drivers support it although it is not required. <a href="http://www.tutorialspoint.com/jdbc/jdbc-batch-processing.htm" rel="nofollow noopener">http://www.tutorialspoint.com/jdbc/jdbc-batch-processing.htm</a></p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-01T21:37:30Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:52Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“HcoJustin, post:13, topic:544491”][quote author=The Web Guy link=topic=663368.msg4433327#msg4433327 date=1404212371]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I first used a relational database, where everything was linked to playerName. And separate tables for bank, stats, etc. However, saving 600 rows for someones bank is extremely slow. I would rather have this system lack website-sided.</p>
</blockquote>
</aside>
<p>You should be batching your transactions then.</p>
</blockquote>
</aside>
<p>Hmm, okay. Is doing that easy to do? So basically… If the player has more than 25, split the queries into 25 at a time and queue them? But is an average for ~70ms of saving to SQL that bad? Even though it’ll be slow as crap website-sided most likely.</p>
<p>Alright, saving all skills, a full inventory, and 100 items in bank takes 78ms. Is it <span class="bbcode-i">that</span> bad?<br>
[/quote]<br>
Yes it is bad. You can’t do something like count the number of coins in the game using a simple sql query, or get the total XP earned in one skill, etc. It also means when you go to write highscores you will have to process that string array for every single player and then sort them.</p>
<p>Check with your SQL driver for batching implementations. As far as I am aware most jdbc drivers support it although it is not required. <a href="http://www.tutorialspoint.com/jdbc/jdbc-batch-processing.htm%5B/quote%5D" rel="nofollow noopener">http://www.tutorialspoint.com/jdbc/jdbc-batch-processing.htm[/quote]</a></p>
<p>I can make the data fast and efficient website sided, that’s no problem. But thank you for the tips. I’ll look into batching queries.</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-02T01:16:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:22:55Z' class='post-time'>
              August 4, 2016,  1:22pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="14" data-topic="544491">
<div class="title">
<div class="quote-controls"></div>
 The Web Guy:</div>
<blockquote>
<p>I can make the data fast and efficient website sided, that’s no problem. But thank you for the tips. I’ll look into batching queries.</p>
</blockquote>
</aside>
<p>How are you going to do that without having a separate list updated regularly?</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-02T13:33:54Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:02Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“HcoJustin, post:15, topic:544491”][quote author=The Web Guy link=topic=663368.msg4433557#msg4433557 date=1404250650]<br>
I can make the data fast and efficient website sided, that’s no problem. But thank you for the tips. I’ll look into batching queries.<br>
[/quote]<br>
How are you going to do that without having a separate list updated regularly?[/quote]</p>
<p>I’m not completely sure what you mean. This is what the data currently looks like.<br>
<img src="http://i.imgur.com/bGi6tVF.png" alt width="" height=""></p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-02T20:31:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:07Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:16, topic:544491”][quote author=HcoJustin link=topic=663368.msg4433623#msg4433623 date=1404263796]</p>
<aside class="quote">
<blockquote>
<p>I can make the data fast and efficient website sided, that’s no problem. But thank you for the tips. I’ll look into batching queries.</p>
</blockquote>
</aside>
<p>How are you going to do that without having a separate list updated regularly?<br>
[/quote]</p>
<p>I’m not completely sure what you mean. This is what the data currently looks like.<br>
<img src="http://i.imgur.com/bGi6tVF.png" alt width="" height="">[/quote]<br>
Okay, lets use the highscores example. How will you find the top 10 people in Magic? The current system requires you to select every player, explode their level and xp into arrays, and then sort those arrays and grab the first 10. Using a properly designed table you could use a simple query:</p>
<pre><code class="lang-auto"></code></pre>
<p>Lets use another example. How will you find the number of coins in everyone’s bank? You’d have to select every single player, explode their bank ids and amounts, linear search until you find the coins, and then add them all up. Or:</p>
<pre><code class="lang-auto"></code></pre>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xx_matty_xx.html'><span itemprop='name'>xx_matty_xx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-02T22:23:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:08Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:4, topic:544491”][quote author=AtomicInt_ link=topic=663368.msg4433275#msg4433275 date=1404193607]<br>
This is not the right way to do this.</p>
<p>First of all you should be utilizing the <a href="http://en.wikipedia.org/wiki/Relational_model" data-bbcode="true" rel="nofollow noopener">relational model</a>.</p>
<p>Storing everything as text does not allow you to create a proper unique key and managing this would be a nightmare. There is nothing wrong with 600 rows for someones bank.<br>
[/quote]</p>
<p>I first used a relational database, where everything was linked to playerName. And separate tables for bank, stats, etc. However, saving 600 rows for someones bank is extremely slow. I would rather have this system lack website-sided.[/quote]I have a feeling you could easily optimise that. Maybe only update rows for bank slots that have changed since the last save, etc. If you don’t want relational then don’t use SQL… there are plenty of other databases available.</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-07-02T22:44:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:23:09Z' class='post-time'>
              August 4, 2016,  1:23pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>In my database I’ve got a table which has these rows: player_id (the uid of the player) player_name (obv.) and visibility (this is for enabling/disabling a bank viewer and other features). Then (an example of one I have) in my bank table it’s set up:<br>
player_id item_slot item_id item_amount. (thnx to AtmoicInt_ for the base design)</p>
      </div>

      <meta itemprop='headline' content='Is this a good system for saving to SQL?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/is-this-a-good-system-for-saving-to-sql/544491 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 00:14:21 GMT -->
</html>
