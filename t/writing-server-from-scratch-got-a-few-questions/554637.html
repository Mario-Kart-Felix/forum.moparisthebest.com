<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/writing-server-from-scratch-got-a-few-questions/554637 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Writing server from scratch, got a few questions - Runescape - moparisthebest.com</title>
    <meta name="description" content="So I finally decided to take the time to read up on the RS2 protocol (big thanks to all the people providing the RS Wiki with all the info btw) and right now I&amp;#39;m at stage 3 where the client sends the user&amp;#39;s name and pass&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="554637.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Writing server from scratch, got a few questions&#39;" href="554637.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/writing-server-from-scratch-got-a-few-questions/554637" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/writing-server-from-scratch-got-a-few-questions/554637" />
<meta property="og:title" content="Writing server from scratch, got a few questions" />
<meta name="twitter:title" content="Writing server from scratch, got a few questions" />
<meta property="og:description" content="So I finally decided to take the time to read up on the RS2 protocol (big thanks to all the people providing the RS Wiki with all the info btw) and right now I’m at stage 3 where the client sends the user’s name and pass to the server. I wanted to get a few questions out of the way before I start adding too much and have to go back…  First of all, I’m not using any API’s for networking. Utility features like apache’s ByteBuffer are things I could write myself but I’m more concerned about speed a..." />
<meta name="twitter:description" content="So I finally decided to take the time to read up on the RS2 protocol (big thanks to all the people providing the RS Wiki with all the info btw) and right now I’m at stage 3 where the client sends the user’s name and pass to the server. I wanted to get a few questions out of the way before I start adding too much and have to go back…  First of all, I’m not using any API’s for networking. Utility features like apache’s ByteBuffer are things I could write myself but I’m more concerned about speed a..." />
<meta property="article:published_time" content="2016-02-04T04:08:09+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="554637.html">Writing server from scratch, got a few questions</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-04T04:08:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:27Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So I finally decided to take the time to read up on the RS2 protocol (big thanks to all the people providing the RS Wiki with all the info btw) and right now I’m at stage 3 where the client sends the user’s name and pass to the server. I wanted to get a few questions out of the way before I start adding too much and have to go back…</p>
<p>First of all, I’m not using any API’s for networking. Utility features like apache’s ByteBuffer are things I could write myself but I’m more concerned about speed and reliability. Since <a href="http://java.io/" rel="nofollow noopener">java.io</a> and <a href="http://java.net/" rel="nofollow noopener">java.net</a> are such  core packages to Java, they shouldn’t have security flaws… right?</p>
<p>Second, the RS client supports reconnecting to lost sessions (disconnections). Should I incorporate this feature to my server? I mean, is it worth it? Do RSPS clients utilize this feature?</p>
<p>I need someone to explain me the ISAAC thing. I <em>think</em> I get it but I’m not sure. I’m not at the point where I have to use or work with it yet (and when I do I’ll be sure to trial/error my way out of the problem) but I don’t get the point of it since RSA is disabled on RSPS clients (from what I read).</p>
<p>Lastly, I will be uploading the source shortly, if anyone could quickly browse through and give me feedback that would be great.</p>
      </div>

      <meta itemprop='headline' content='Writing server from scratch, got a few questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-04T06:20:20Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:28Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Java has it’s own ByteBuffer, java.nio</p>
<p>And yes it shouldnt have security flaws innately… it will have them depending on how poorly you design it.</p>
      </div>

      <meta itemprop='headline' content='Writing server from scratch, got a few questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/my-swagger.html'><span itemprop='name'>my-swagger</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-04T12:01:14Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:28Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Security issues depend on implementation. I wouldn’t recommend using .net instead use netty or a netty based api.</p>
<p>Also <a href="https://en.wikipedia.org/wiki/ISAAC_(cipher)" rel="nofollow noopener">https://en.wikipedia.org/wiki/ISAAC_(cipher)</a></p>
<p>Disabling RSA is stupid imo</p>
      </div>

      <meta itemprop='headline' content='Writing server from scratch, got a few questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-04T15:53:55Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:28Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Cres, post:1, topic:554637”]So I finally decided to take the time to read up on the RS2 protocol (big thanks to all the people providing the RS Wiki with all the info btw) and right now I’m at stage 3 where the client sends the user’s name and pass to the server. I wanted to get a few questions out of the way before I start adding too much and have to go back…</p>
<p><span class="bbcode-b">First of all, I’m not using any API’s for networking. Utility features like apache’s ByteBuffer are things I could write myself but I’m more concerned about speed and reliability. Since <a href="http://java.io/" rel="nofollow noopener">java.io</a> and <a href="http://java.net/" rel="nofollow noopener">java.net</a> are such  core packages to Java, they shouldn’t have security flaws… right?</span></p>
<p><span class="bbcode-b">Second, the RS client supports reconnecting to lost sessions (disconnections). Should I incorporate this feature to my server? I mean, is it worth it? Do RSPS clients utilize this feature?</span></p>
<p><span class="bbcode-b">I need someone to explain me the ISAAC thing. I <em>think</em> I get it but I’m not sure. I’m not at the point where I have to use or work with it yet (and when I do I’ll be sure to trial/error my way out of the problem) but I don’t get the point of it since RSA is disabled on RSPS clients (from what I read).</span></p>
<p>Lastly, I will be uploading the source shortly, if anyone could quickly browse through and give me feedback that would be great.[/quote]</p>
<p>1). Security flaws are usually oversights in how a user can interact with the application in a malicious intent.<br>
2). It’s a feature therefore its a choice.<br>
3). ISSAC is a PRNG used to obfuscate the ids of packets.<br>
4). RSA shouldn’t be disabled but in a small environment it doesn’t matter much. It prevents someone snooping on the packets from being able to send any, decipher the password and username. Because of the way RSA works; you can encrypt the data because the public key is available but you won’t be able to decrypt the data ever unless you have the private key.</p>
      </div>

      <meta itemprop='headline' content='Writing server from scratch, got a few questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xx_matty_xx.html'><span itemprop='name'>xx_matty_xx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-04T17:08:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:29Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="554637">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/sini/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sini:</div>
<blockquote>
<p>4). RSA shouldn’t be disabled but in a small environment it doesn’t matter much. It prevents someone snooping on the packets from being able to send any, decipher the password and username. Because of the way RSA works; you can encrypt the data because the public key is available but you won’t be able to decrypt the data ever unless you have the private key.</p>
</blockquote>
</aside>
<p>Interesting… do you know how the key distribution works?</p>
      </div>

      <meta itemprop='headline' content='Writing server from scratch, got a few questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-05T02:30:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:30Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>got another question; should the server session key that is returned from the client be the same as the one that is initially sent from the server?<br>
all the other data I get returned by the client seems to match except for the server session key</p>
<p>edit: the buffer doesn’t indicate that there are remaining bytes and the name and password also match so I think it has something to do with how I’m unpacking the ssk.</p>
<p>how I’m sending the long value:</p>
<p><code>
	public void writeLong(long b) {
		this.bytes[counter++] = (byte)(b&gt;&gt;56);
		this.bytes[counter++] = (byte)(b&gt;&gt;48);
		this.bytes[counter++] = (byte)(b&gt;&gt;40);
		this.bytes[counter++] = (byte)(b&gt;&gt;32);
		this.bytes[counter++] = (byte)(b&gt;&gt;24);
		this.bytes[counter++] = (byte)(b&gt;&gt;16);
		this.bytes[counter++] = (byte)(b&gt;&gt;8);
		this.bytes[counter++] = (byte)(b&amp;0xff);
	}</code></p>
<p>how I’m reading the long value:</p>
<p><code>	public long readLong() {
		long val = 0;
		val |= bytes[counter++];
		val &lt;&lt;= 8;
		val |= bytes[counter++];
		val &lt;&lt;= 8;
		val |= bytes[counter++];
		val &lt;&lt;= 8;
		val |= bytes[counter++];
		val &lt;&lt;= 8;
		val |= bytes[counter++];
		val &lt;&lt;= 8;
		val |= bytes[counter++];
		val &lt;&lt;= 8;
		val |= bytes[counter++];
		val &lt;&lt;= 8;
		val |= bytes[counter++];
		return (long)val;
	}</code></p>
      </div>

      <meta itemprop='headline' content='Writing server from scratch, got a few questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-05T06:23:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:31Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Justin Bieber, post:5, topic:554637”][quote author=sini link=topic=673562.msg4503724#msg4503724 date=1454601235]<br>
4). RSA shouldn’t be disabled but in a small environment it doesn’t matter much. It prevents someone snooping on the packets from being able to send any, decipher the password and username. Because of the way RSA works; you can encrypt the data because the public key is available but you won’t be able to decrypt the data ever unless you have the private key.<br>
[/quote]<br>
Interesting… do you know how the key distribution works?[/quote]</p>
<p>I assume you understand how RSA works. But the keys for the PRNG are encrypted in the RSA block therefore you could send your own keys but at the same time youd have to send all the other relevant data too, you wouldn’t be able to decrypt that data when you stand in the middle without knowing the private key.</p>
      </div>

      <meta itemprop='headline' content='Writing server from scratch, got a few questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/writing-server-from-scratch-got-a-few-questions/554637 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:45 GMT -->
</html>
