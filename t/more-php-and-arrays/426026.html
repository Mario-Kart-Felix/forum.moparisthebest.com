<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/more-php-and-arrays/426026 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 08:39:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>More PHP and Arrays - General Programming - moparisthebest.com</title>
    <meta name="description" content="So I&amp;#39;m working on this pokemon project. 

I have these arrays:  

 $attacks[&amp;#39;Fighting&amp;#39;] = array(&amp;#39;Weak Slap&amp;#39;, &amp;#39;Karate Chop&amp;#39;, &amp;#39;Seismic Toss&amp;#39;, &amp;#39;Double Kick&amp;#39;, &amp;#39;Mach Punch&amp;#39;, &amp;#39;Brick Break&amp;#39;, 
	&amp;#39;Drain Punch&amp;#39;, &amp;#39;Cross Chop&amp;#39;, &amp;#39;Sky &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="426026.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;More PHP and Arrays&#39;" href="426026.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/more-php-and-arrays/426026" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/more-php-and-arrays/426026" />
<meta property="og:title" content="More PHP and Arrays" />
<meta name="twitter:title" content="More PHP and Arrays" />
<meta property="og:description" content="So I’m working on this pokemon project.  I have these arrays:  $attacks[&#39;Fighting&#39;] = array(&#39;Weak Slap&#39;, &#39;Karate Chop&#39;, &#39;Seismic Toss&#39;, &#39;Double Kick&#39;, &#39;Mach Punch&#39;, &#39;Brick Break&#39;,  	&#39;Drain Punch&#39;, &#39;Cross Chop&#39;, &#39;Sky Uppercut&#39;, &#39;Hammer Arm&#39;, &#39;Close Combat&#39;, &#39;Aura Sphere&#39;, &#39;Superpower&#39;);  $attacks[&#39;Fire&#39;] = array(&#39;Melting Fire&#39;, &#39;Ember&#39;, &#39;Flame Wheel&#39;, &#39;Fire Fang&#39;, &#39;Fire Punch&#39;, &#39;Flamethrower&#39;,  	&#39;Fire Blast&#39;, &#39;Purgatory&#39;, &#39;Heat Wave&#39;, &#39;Overheat&#39;, &#39;Sacred Flame&#39;, &#39;Eruption&#39;, &#39;White Flame&#39;); I’m no..." />
<meta name="twitter:description" content="So I’m working on this pokemon project.  I have these arrays:  $attacks[&#39;Fighting&#39;] = array(&#39;Weak Slap&#39;, &#39;Karate Chop&#39;, &#39;Seismic Toss&#39;, &#39;Double Kick&#39;, &#39;Mach Punch&#39;, &#39;Brick Break&#39;,  	&#39;Drain Punch&#39;, &#39;Cross Chop&#39;, &#39;Sky Uppercut&#39;, &#39;Hammer Arm&#39;, &#39;Close Combat&#39;, &#39;Aura Sphere&#39;, &#39;Superpower&#39;);  $attacks[&#39;Fire&#39;] = array(&#39;Melting Fire&#39;, &#39;Ember&#39;, &#39;Flame Wheel&#39;, &#39;Fire Fang&#39;, &#39;Fire Punch&#39;, &#39;Flamethrower&#39;,  	&#39;Fire Blast&#39;, &#39;Purgatory&#39;, &#39;Heat Wave&#39;, &#39;Overheat&#39;, &#39;Sacred Flame&#39;, &#39;Eruption&#39;, &#39;White Flame&#39;); I’m no..." />
<meta property="article:published_time" content="2011-12-20T05:48:12+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="426026.html">More PHP and Arrays</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/whackatre.html'><span itemprop='name'>whackatre</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-20T05:48:12Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:37:33Z' class='post-time'>
              August 2, 2016,  2:37pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So I’m working on this pokemon project.</p>
<p>I have these arrays:</p>
<pre><code class="lang-auto">$attacks['Fighting'] = array('Weak Slap', 'Karate Chop', 'Seismic Toss', 'Double Kick', 'Mach Punch', 'Brick Break', 
	'Drain Punch', 'Cross Chop', 'Sky Uppercut', 'Hammer Arm', 'Close Combat', 'Aura Sphere', 'Superpower');

$attacks['Fire'] = array('Melting Fire', 'Ember', 'Flame Wheel', 'Fire Fang', 'Fire Punch', 'Flamethrower', 
	'Fire Blast', 'Purgatory', 'Heat Wave', 'Overheat', 'Sacred Flame', 'Eruption', 'White Flame');</code></pre>
<p>I’m not sure how to do this. I want to search through all the arrays and their elements and return the element type.<br>
Like:</p>
<pre><code class="lang-auto">getTypeOfMove('Fire Spin');</code></pre>
<p>would return ‘Fire’.</p>
<p>There’s also an infinite loop with this function which I cannot find:</p>
<pre><code class="lang-auto">function getRandomMoveset($i)
{
	$type = getPokemonType($i);
	$type2 = getPokemonType($i);
	if ($type2 == "")
	{
		//echo "Its type is " . $type1 . ".&lt;br&gt;";
		//looping through the crap
		for ($j = 0; $j &lt; 3; $j++)
		{
			$_SESSION['defaultMoveset'][$i][$j] = getAttack($_SESSION['myPokemon'][$i][2], $i);
			$count = $j + 1;
			//echo "Move $count: " . $_SESSION['defaultMoveset'][$i][$j] . "&lt;br&gt;"; //double arrays cannot be placed inside double quotes
		}
		$_SESSION['defaultMoveset'][$i][4] = getAttack('Normal', $i); //single typed pokemons have one normal type attack
		//echo "Move 4: " . $_SESSION['defaultMoveset'][$i][4] . "&lt;br&gt;";
	}
	else
	{
		//echo "Its type is " . $type1 . " and " . $type2 . ".&lt;br&gt;";
		//looping through the crap again
		for ($j = 0; $j &lt; 2; $j++)
		{
			$_SESSION['defaultMoveset'][$i][$j] = getAttack($_SESSION['myPokemon'][$i][2], $i);
			//$count = $j + 1;
			//echo "Move $count: " . $_SESSION['defaultMoveset'][$i][$j] . "&lt;br&gt;";
		}
		for ($j = 2; $j &lt; 4; $j++)
		{
			$_SESSION['defaultMoveset'][$i][$j] = getAttack($_SESSION['myPokemon'][$i][3], $i);
			//$count = $j + 1;
			//echo "Move $count: " . $_SESSION['defaultMoveset'][$i][$j] . "&lt;br&gt;";
		}
	}
}</code></pre>
<p>and</p>
<pre><code class="lang-auto">function getAttack($type, $ID)
{
	global $attacks;
	//$_SESSION['defaultMoveset'][$j] = getAttack($_SESSION['myPokemon'][$i][2]);
	$moves = 0;
	if ($type == 'Normal')
		$moves = rand(0, 23);
	else
		$moves = rand(0, 12);
	$a = $attacks[$type][$moves];
	if ($type == 'Normal' and rand(0, 8) == 1) //random generation for any type moves
	{
		$moves = rand(0, 12);
		$randType = getTypeName(rand(0, 16), false);
		return $attacks[$randType][$moves];
	}
	/*
	for ($c = 0; $c &lt; 4; $c++)
	{
		if (@$_SESSION['defaultMoveset'][$ID][$c] == $a)
		{
			$a = getAttack($type, $ID); //LOL @ recursive, fair method of checking tho
		}
	}
	*/
	return $a;
}</code></pre>
<p>Also, is there a more efficient (and simple) way to redo this:</p>
<pre><code class="lang-auto">$_SESSION['myPokemon'][slot] = array(id, name, type1, type2, level, health);</code></pre>
<p>^That’s what I store the variables currently.</p>
      </div>

      <meta itemprop='headline' content='More PHP and Arrays'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-20T21:24:18Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:38:19Z' class='post-time'>
              August 2, 2016,  2:38pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <ol>
<li>For your first problem, a custom search function should be used here:</li>
</ol>
<p>[code]function getTypeofMove($moveName, $moves) {<br>
foreach (array_keys($moves) as $moveType) {<br>
if (array_search($moveName, $moves[$moveType]) !== false)<br>
return $moveType;<br>
}</p>
<p>return false;<br>
}[/code]</p>
<p>Modify it to your needs.</p>
<ol start="2">
<li>
<p>Probably where you are using recursion in the code you commented out - too lazy to look at it.</p>
</li>
<li>
<p>Ask yourself: do you really need all the pokemon stored as session data? Why not just define a function for loading the pokemon?</p>
</li>
</ol>
      </div>

      <meta itemprop='headline' content='More PHP and Arrays'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Muroth.html'><span itemprop='name'>Muroth</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-20T23:47:02Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:38:38Z' class='post-time'>
              August 2, 2016,  2:38pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I suggest using a database to load the pokemon and all their information(type, health, moves, statistics)</p>
      </div>

      <meta itemprop='headline' content='More PHP and Arrays'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-21T00:08:15Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:38:40Z' class='post-time'>
              August 2, 2016,  2:38pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Muroth, post:3, topic:426026”]I suggest using a database to load the pokemon and all their information(type, health, moves, statistics)[/quote]This.</p>
<p>A database can be manipulated easier and then used in multiple scenarios as well</p>
      </div>

      <meta itemprop='headline' content='More PHP and Arrays'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-21T02:50:38Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:38:55Z' class='post-time'>
              August 2, 2016,  2:38pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, he COULD still be loading them from the database if he is using database-driven sessions, but that is completely unnecessary and more work than needed to have the pokemon data stored like that too.</p>
<p><span class="mention">@OP</span>: But yes, what the others above mean is correct in the sense of having the pokemon stored in the database seperatly from sessions entirely.</p>
      </div>

      <meta itemprop='headline' content='More PHP and Arrays'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/whackatre.html'><span itemprop='name'>whackatre</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-24T06:25:26Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:45:14Z' class='post-time'>
              August 2, 2016,  2:45pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks, I just finished the basic randomized battle engine. Currently planning to store players’ pokemons in the database.</p>
<p>I’m building it right now, is this appropriate:</p>
<pre><code class="lang-auto">	$tableData = "CREATE TABLE Pokemon(
					Owner varchar(20) NOT NULL,
					Slot int NOT NULL,
					ID int NOT NULL,
					Exp int NOT NULL,
					Move1 varchar(24),
					Move2 varchar(24),
					Move3 varchar(24),
					Move4 varchar(24),
					)";</code></pre>
<p>About the session variables, what do you mean? I’m loading the data from the mysql database and then placing it into session data for the players’ use. Unless there’s a much better way to transfer variables from page to page, I will stick with session.</p>
      </div>

      <meta itemprop='headline' content='More PHP and Arrays'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-24T16:18:47Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:45:39Z' class='post-time'>
              August 2, 2016,  2:45pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“whackatre, post:6, topic:426026”]Thanks, I just finished the basic randomized battle engine. Currently planning to store players’ pokemons in the database.</p>
<p>I’m building it right now, is this appropriate:</p>
<pre><code class="lang-auto">	$tableData = "CREATE TABLE Pokemon(
					Owner varchar(20) NOT NULL,
					Slot int NOT NULL,
					ID int NOT NULL,
					Exp int NOT NULL,
					Move1 varchar(24),
					Move2 varchar(24),
					Move3 varchar(24),
					Move4 varchar(24),
					)";</code></pre>
<p>About the session variables, what do you mean? I’m loading the data from the mysql database and then placing it into session data for the players’ use. Unless there’s a much better way to transfer variables from page to page, I will stick with session.[/quote]</p>
<p>Session data isnt meant to hold a lot of data from page to page, because depending on how you are using sessions, they get retrieved from a file or the database. Rather, you should have the database load up the data this way you can play around with the data from the database and manipulate how you would like. For example, you could have moves stored as ints while having move names and such defined in an array or something.</p>
      </div>

      <meta itemprop='headline' content='More PHP and Arrays'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/more-php-and-arrays/426026 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 08:39:30 GMT -->
</html>
