<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/error-info-updated/257836 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 22:16:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Error [info] [UPDATED] - Runescape - moparisthebest.com</title>
    <meta name="description" content="I keep getting this error when I try to run the server 

 Twilight Server 1.0 - http://vnbpc.com
-------------------------------------------------------
com.mysql.jdbc.Driver
Connection from localhost:2105
ClientHandler:&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="257836.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Error [info] [UPDATED]&#39;" href="257836.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/error-info-updated/257836" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/error-info-updated/257836" />
<meta property="og:title" content="Error [info] [UPDATED]" />
<meta name="twitter:title" content="Error [info] [UPDATED]" />
<meta property="og:description" content="I keep getting this error when I try to run the server  [code]  Twilight Server 1.0 - http://vnbpc.com  com.mysql.jdbc.Driver  Connection from localhost:2105  ClientHandler: Client null disconnected (localhost)  java.lang.NullPointerException  at process.run(process.java:27)  at java.lang.Thread.run(Unknown Source)  java.lang.NullPointerException  at process.run(process.java:27)  at java.lang.Thread.run(Unknown Source)  java.lang.NullPointerException  at process.run(process.java:27)  at java.lan..." />
<meta name="twitter:description" content="I keep getting this error when I try to run the server  [code]  Twilight Server 1.0 - http://vnbpc.com  com.mysql.jdbc.Driver  Connection from localhost:2105  ClientHandler: Client null disconnected (localhost)  java.lang.NullPointerException  at process.run(process.java:27)  at java.lang.Thread.run(Unknown Source)  java.lang.NullPointerException  at process.run(process.java:27)  at java.lang.Thread.run(Unknown Source)  java.lang.NullPointerException  at process.run(process.java:27)  at java.lan..." />
<meta property="article:published_time" content="2009-01-22T01:19:05+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="257836.html">Error [info] [UPDATED]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/fungame4u.html'><span itemprop='name'>fungame4u</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-01-22T01:19:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:57:07Z' class='post-time'>
              July 31, 2016,  4:57am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I keep getting this error when I try to run the server</p>
<h2>[code]<br>
Twilight Server 1.0 - <a href="http://vnbpc.com/" rel="nofollow noopener">http://vnbpc.com</a>
</h2>
<p>com.mysql.jdbc.Driver<br>
Connection from localhost:2105<br>
ClientHandler: Client null disconnected (localhost)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException<br>
at process.run(process.java:27)<br>
at java.lang.Thread.run(Unknown Source)<br>
java.lang.NullPointerException [/code]</p>
<p>This is my server.java if this helps.</p>
<pre><code class="lang-auto">import java.sql.*;
import java.io.*;
import java.util.*;
import java.net.*;
public class server implements Runnable {


	public server() {
		// the current way of controlling the server at runtime and a great debugging/testing tool
		//jserv js = new jserv(this);
		//js.start();

	}

	// TODO: yet to figure out proper value for timing, but 500 seems good
	public static boolean trading = true, dueling = true;
	public static boolean pickup = true;
	public static boolean fightcaves = true;
	public static int delay = 500;
	public static long delayUpdate = 0, lastRunite = 0;
	public static ArrayList&lt;Integer&gt; bannedUid = new ArrayList&lt;Integer&gt;();
	public static int world = 1;
	public static boolean enforceClient = false;
	public static boolean loginServerConnected = true;

	public static final int cycleTime = 500;
	public static boolean updateServer = false;
	public static int updateSeconds = 180; //180 because it doesnt make the time jump at the start :P
	public static long startTime;
	public static GraphicsHandler GraphicsHandler = null;
	public static String MySQLDataBase = "vlargen1_vnb";
	public static String MySQLURL = "";
	public static String MySQLUser = "";
	public static String MySQLPassword = "";
	public static Connection conn = null;
	public static special special = null;
        public static Wearing Wearing = null;
	public static Statement statement = null;
	public static setConfig setConfig = null;
	public static textHandler textHandler = null;
        public static potions potions = null;
	public static clickingMost clickingMost = null;
	public static ResultSet results = null;
	public int[] ips = new int[1000];
	public long[] lastConnect = new long[1000];
	public static int[][] runesRequired = new int[24][9];
	public static DoorHandler doorHandler;
	public static ArrayList&lt;String&gt; connections = new ArrayList&lt;String&gt;();
	public static ArrayList&lt;String&gt; banned = new ArrayList&lt;String&gt;();
	public static ArrayList&lt;Object&gt; objects = new ArrayList&lt;Object&gt;();
	public static boolean mysql_connect(){
        try{
            Class.forName("com.mysql.jdbc.Driver").newInstance();
            conn = DriverManager.getConnection(MySQLURL, MySQLUser, MySQLPassword);
            statement = conn.createStatement();
            return true;
        } catch(Exception e){
            mysql_error(e.getMessage());
        }
        return false;
    }
    public static ResultSet mysql_query(String query){
        try{
            return statement.executeQuery(query);
        } catch(Exception e){
            mysql_error(e.getMessage());
        }
        return null;
    }
    public static void mysql_update(String query){
        try{
            statement.executeUpdate(query);
        } catch(Exception e){
            mysql_error(e.getMessage());
        }
    }
    public static void mysql_disconnect(){
        try{
            conn.close();
        } catch(Exception e){
            mysql_error(e.getMessage());
        }
    }
    public static void mysql_error(String err){
	    System.out.println(err);
    }
	public static void main(java.lang.String args[]) throws NullPointerException {
		GraphicsHandler = new GraphicsHandler();
		misc.println("Twilight Server 1.0 - http://vnbpc.com");
		misc.println("-------------------------------------------------------");
		try{
			File f = new File("server.ini");
			if(!f.exists()){
				misc.println("server.ini doesn't exist!");
			}
			Properties p = new Properties();
			p.load(new FileInputStream("./server.ini"));
			int client = Integer.parseInt(p.getProperty("ClientRequired").trim());
			world = Integer.parseInt(p.getProperty("WorldId"));
			serverlistenerPort = Integer.parseInt(p.getProperty("ServerPort").trim());
			MySQLUser = p.getProperty("User");
			MySQLPassword = p.getProperty("Pass");
			MySQLDataBase = p.getProperty("Database");
			MySQLURL = p.getProperty("MySQL") + MySQLDataBase;
			if(client &gt; 0){
				misc.println("Enforcing dodian.com client requirement");
				enforceClient = true;
			}
		} catch(Exception e){
			misc.println("Error loading settings");
			e.printStackTrace();
		}
		Database.init();
				clientHandler = new server();
		(new Thread(clientHandler)).start(); // launch server listener
		playerHandler = new PlayerHandler();
		npcHandler = new NPCHandler();
		itemHandler = new ItemHandler();
		doorHandler = new DoorHandler();
		GraphicsHandler = new GraphicsHandler();
		//checkPlayerCapes = new checkPlayerCapes();
		/*handlers made by Delta*/
                Wearing = new Wearing();
              
                setConfig = new setConfig();
		textHandler = new textHandler();
		potions = new potions();
		clickingMost = new clickingMost();
	
		

		GraphicsHandler = new GraphicsHandler();
		process proc = new process();
			new Thread(proc).start();
		/*
		int waitFails = 0;
		long lastTicks = System.currentTimeMillis();
		long totalTimeSpentProcessing = 0;
		int cycle = 0;
		while(!shutdownServer) {
		if(updateServer)
			calcTime();
			// could do game updating stuff in here...
			// maybe do all the major stuff here in a big loop and just do the packet
			// sending/receiving in the client subthreads. The actual packet forming code
			// will reside within here and all created packets are then relayed by the subthreads.
			// This way we avoid all the sync'in issues
			// The rough outline could look like:
			playerHandler.process();			// updates all player related stuff
			npcHandler.process();

		
			// doNpcs()		// all npc related stuff
			// doObjects()
			// doWhatever()
	
			// taking into account the time spend in the processing code for more accurate timing
			long timeSpent = System.currentTimeMillis() - lastTicks;
			totalTimeSpentProcessing += timeSpent;
			if(timeSpent &gt;= cycleTime) {
				timeSpent = cycleTime;
				if(++waitFails &gt; 100) {
					//shutdownServer = true;
					//misc.println("[KERNEL]: machine is too slow to run this server!");
				}
			}
			try {
				Thread.sleep(cycleTime-timeSpent);
			} catch(java.lang.Exception _ex) { }
			lastTicks = System.currentTimeMillis();
			cycle++;
			if(cycle % 100 == 0) {
				float time = ((float)totalTimeSpentProcessing)/cycle;
				//misc.println_debug("[KERNEL]: "+(time*100/cycleTime)+"% processing time");
			}
			if (ShutDown == true) {
				if (ShutDownCounter &gt;= 100) {
					shutdownServer = true;
				}
				ShutDownCounter++;
			}
		}

		// shut down the server
		playerHandler.destruct();
		clientHandler.killServer();
		clientHandler = null;*/
	}

	public static server clientHandler = null;			// handles all the clients
	public static java.net.ServerSocket clientListener = null;
	public static boolean shutdownServer = false;		// set this to true in order to shut down and kill the server
	public static boolean shutdownClientHandler;			// signals ClientHandler to shut down
	public static int serverlistenerPort = 43594; //43594=default
	public static PlayerHandler playerHandler = null;
	public static NPCHandler npcHandler = null;
	public static ItemHandler itemHandler = null;
	public static ShopHandler shopHandler = null;


	public static void calcTime() {
		long curTime = System.currentTimeMillis();
		updateSeconds = 180 - ((int)(curTime - startTime) / 1000);
		if(updateSeconds == 0) {
			shutdownServer = true;
		}
	}

	public void run() {
		// setup the listener
		try {
			shutdownClientHandler = false;
			clientListener = new java.net.ServerSocket(serverlistenerPort, 1, null);
			while(true) {
				try{
					java.net.Socket s = clientListener.accept();
					s.setTcpNoDelay(true);
					String connectingHost = s.getInetAddress().getHostName();
					if(/*connectingHost.startsWith("localhost") || connectingHost.equals("127.0.0.1")*/true) {
						if(connectingHost.startsWith("izar.lunarpages.com") || connectingHost.startsWith("server2") || connectingHost.startsWith("dodian.com") || connectingHost.startsWith("newgamersworld.com") || connectingHost.startsWith("sputnik") || connectingHost.startsWith("sugardaddy")){
							misc.println("Checking Server Status...");
							s.close();
						} else {
							connections.add(connectingHost);
							if (checkHost(connectingHost)) {
								misc.println("Connection from "+connectingHost+":"+s.getPort());
								playerHandler.newPlayerClient(s, connectingHost);
							} else {
								misc.println("ClientHandler: Rejected "+connectingHost+":"+s.getPort());
								s.close();
							}
						}
					} else {
						misc.println("ClientHandler: Rejected "+connectingHost+":"+s.getPort());
						s.close();
					}
					if(delayUpdate &gt; 0 &amp;&amp; System.currentTimeMillis() &gt; delayUpdate){
						delay = 500;
						delayUpdate = 0;
					}
					Thread.sleep(delay);
				} catch(Exception e){
					logError(e.getMessage());
				}
			}
		} catch(java.io.IOException ioe) {
			if(!shutdownClientHandler) {
				misc.println("Server is already in use.");
			} else {
				misc.println("ClientHandler was shut down.");
			}
		}
	}

	public void killServer() {
		try {
			shutdownClientHandler = true;
			if(clientListener != null) clientListener.close();
			clientListener = null;
		} catch(java.lang.Exception __ex) {
			__ex.printStackTrace();
		}
	}
	public static void logError(String message){
		misc.println(message);
    }
	public int getConnections(String host){
		int count = 0;
		for(int i = 0; i &lt; playerHandler.players.length; i++){
			Player p = playerHandler.players[i];
			if(p != null &amp;&amp; !p.disconnected &amp;&amp; p.connectedFrom.equalsIgnoreCase(host)){
				count++;
			}
		}
		return count;
	}
	public boolean checkHost(String host){
		for(String h : banned){
			if(h.equals(host)) return false;
		}
		int num = 0;
		for(String h : connections){
			if(host.equals(h)){
				num++;
			}
		}
		if(num &gt; 5){
			banHost(host, num);
			return false;
		}
		return true;
	}
	public void banHost(String host, int num){
		if(false){
			banned.add(host);
		} else {
			try{
				misc.println("BANNING HOST " + host + " (flooding)");
				openPage("http://dodian.com/ban.php?host=" + host);
				banned.add(host);
				delay = 2000;
				delayUpdate = System.currentTimeMillis() + 60000;
			} catch(Exception e){
				e.printStackTrace();
			}
		}
			
	}
	public static void openPage(String pageName){
		try{
			URL page = new URL(pageName);
			URLConnection conn = page.openConnection();
			DataInputStream in = new DataInputStream(conn.getInputStream());
			String source, pageSource = "";
			while((source = in.readLine()) != null){
				pageSource += source;
			}
		} catch (Exception e){
			e.printStackTrace();
			return;
		}
        }
	public static void loadObjects(){
		try{
			Statement statement = Database.conn.createStatement();
			ResultSet results = statement.executeQuery("SELECT * from uber3_objects");
			while(results.next()){
				objects.add(new Object(results.getInt("id"), results.getInt("x"), results.getInt("y"), results.getInt("type")));
			}
		} catch(Exception e){
			e.printStackTrace();
		}
	}

	public static int EnergyRegian = 60;

	public static int MaxConnections = 100000;
	public static String[] Connections = new String[MaxConnections];
	public static int[] ConnectionCount = new int[MaxConnections];
	public static boolean ShutDown = false;
	public static int ShutDownCounter = 0;
}
</code></pre>
      </div>

      <meta itemprop='headline' content='Error [info] [UPDATED]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/error-info-updated/257836 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 22:16:20 GMT -->
</html>
