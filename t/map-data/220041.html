<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/map-data/220041 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 03:20:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Map Data? - Runescape - moparisthebest.com</title>
    <meta name="description" content="Well, I&amp;#39;ve been browsing a few forums lately. On one of them, there&amp;#39;s a huge craze over a 474 server/client, and they keep complaining how they dont have the mapdata serverside so they can&amp;#39;t do much. 

My question is: Wh&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="220041.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Map Data?&#39;" href="220041.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/map-data/220041" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/map-data/220041" />
<meta property="og:title" content="Map Data?" />
<meta name="twitter:title" content="Map Data?" />
<meta property="og:description" content="Well, I’ve been browsing a few forums lately. On one of them, there’s a huge craze over a 474 server/client, and they keep complaining how they dont have the mapdata serverside so they can’t do much.  My question is:  What is mapdata and why is it needed serverside?  I’ve looked through the 503 client and am able to identify the map data regions and such, but I am still unclear when it comes to what is mapdata, why is there, and if it already exists client-side, why is it needed server-side?  An..." />
<meta name="twitter:description" content="Well, I’ve been browsing a few forums lately. On one of them, there’s a huge craze over a 474 server/client, and they keep complaining how they dont have the mapdata serverside so they can’t do much.  My question is:  What is mapdata and why is it needed serverside?  I’ve looked through the 503 client and am able to identify the map data regions and such, but I am still unclear when it comes to what is mapdata, why is there, and if it already exists client-side, why is it needed server-side?  An..." />
<meta property="article:published_time" content="2008-07-14T05:49:13+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="220041.html">Map Data?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/TeleNubby.html'><span itemprop='name'>TeleNubby</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-14T05:49:13Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:14:22Z' class='post-time'>
              July 31, 2016, 12:14am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, I’ve been browsing a few forums lately. On one of them, there’s a huge craze over a 474 server/client, and they keep complaining how they dont have the mapdata serverside so they can’t do much.</p>
<p>My question is:<br>
What is mapdata and why is it needed serverside?</p>
<p>I’ve looked through the 503 client and am able to identify the map data regions and such, but I am still unclear when it comes to <span class="bbcode-b">what is mapdata</span>, <span class="bbcode-b">why is there</span>, and <span class="bbcode-b">if it already exists client-side, why is it needed server-side?</span></p>
<p>Any help/comments are appreciated. Thanks.</p>
<p>EDIT:<br>
Maybe it’ll help if you understand what I know about it as of now. Currently, I know that when walking across the map and a region (still unloaded) appears black on the mini-map, a new map region is loaded. I’m not sure how many regions there are loaded at once, but it seems that a region is unloaded/discarded when out of range. <span class="bbcode-b">So if anybody could elaborate on that, that’d be great.</span></p>
<p>EDIT 2:<br>
I looked a little further into it after editing my post last time, and quickly came across a conclusion. I was able to dump some data about a few regions (at Varrock Square) using the 503 client:</p>
<blockquote>A: 0
B: 1446102763
B: 1355166075
B: 586264619
B: 1060975024
A: 1
B: -424757646
B: 1138421849
B: -1625417991
B: 2062991820
A: 2
B: 525960416
B: -1265964384
B: 1915385223
B: 146842718
A: 3
B: 0
B: 0
B: 0
B: 0
A: 4
B: 0
B: 0
B: 0
B: 0
A: 5
B: -1214992993
B: 1537351771
B: 1201190695
B: 708896891</blockquote>
<p>I am, for some reason, stuck with the reasoning that A would be the ID of the current region loaded (on an index, not like it’s actual ID like shown here: <a href="http://img236.imageshack.us/img236/5751/ss20080713124636le0.png" rel="nofollow noopener">http://img236.imageshack.us/img236/5751/ss20080713124636le0.png</a>). But, I’m also convinced that the B data are the coordinates of the map region (and are somehow messed with before actually being used). The thing is though, my theory doesn’t make sense because of the B data with a value of 0.</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ry60003333.html'><span itemprop='name'>ry60003333</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-14T05:56:24Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:14:23Z' class='post-time'>
              July 31, 2016, 12:14am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It seems that the MapData has something to do with loading. Here is some code from my server:</p>
<pre><code class="lang-auto">            int i_28_ = 0;
            
            for (int i_34_ = (mapCords.coordinateX - 6) / 8; i_34_ &lt;= ((mapCords.coordinateX + 6) / 8); i_34_++)
            {
                for (int i_35_ = (mapCords.coordinateY - 6) / 8; i_35_ &lt;= ((mapCords.coordinateY + 6) / 8); i_35_++)
                {
                    int i_36_ = i_35_ + (i_34_ * 256);
                    if (!bool_33_ || ((i_35_ != 49) &amp;&amp; (i_35_ != 149) &amp;&amp; (i_35_ != 147) &amp;&amp; (i_34_ != 50) &amp;&amp; ((i_34_ != 49) || (i_35_ != 47))))
                    {
                        int[] mapData = WorldData.getMapAreaData(i_36_);
                        mapPacket.writeDWordBigEndian(mapData[0]);
                        mapPacket.writeDWordBigEndian(mapData[1]);
                        mapPacket.writeDWordBigEndian(mapData[2]);
                        mapPacket.writeDWordBigEndian(mapData[3]);
                        i_28_++;
                    }
                }
            }</code></pre>
<p>So the MapData isn’t always needed. Heres some of the MapData:</p>
<pre><code class="lang-auto">case 12079:// done
			mapData[0] = 339960494;
			mapData[1] = -1350930341;
			mapData[2] = -272469140;
			mapData[3] = 318766784;
			break;
		case 12080:// done
			mapData[0] = -1938428459;
			mapData[1] = -1838574783;
			mapData[2] = 131585942;
			mapData[3] = -1297008627;
			break;
		case 12180://done
			mapData[0] = 0;
			mapData[1] = 0;
			mapData[2] = 0;
			mapData[3] = 0;
			break;
		case 12335:// done
			mapData[0] = -387260899;
			mapData[1] = -2132243418;
			mapData[2] = 654609855;
			mapData[3] = -1092457792;
			break;
		case 12336:// done
			mapData[0] = -1411171834;
			mapData[1] = 1276476423;
			mapData[2] = -1942992293;
			mapData[3] = -449512187;
			break;
		case 12436://done
			mapData[0] = 399007290;
			mapData[1] = 768017220;
			mapData[2] = 1423287782;
			mapData[3] = -1886380141;
			break;
		case 12592:// done
			mapData[0] = -794001650;
			mapData[1] = -436110669;
			mapData[2] = 1193837402;
			mapData[3] = 1311524977;
			break;</code></pre>
<p>Also, I had the server make my character walk far enough to get to an area that the server did not have the MapData for, and the client heaped on “Loading - Please Wait”. So I’m assuming it has something to do with loading.</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/TeleNubby.html'><span itemprop='name'>TeleNubby</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-14T06:02:03Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:14:23Z' class='post-time'>
              July 31, 2016, 12:14am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m sure “mapdata”, or whatever the term actually is, is used when a new map region is loaded. I am sure of this because when I log into RS with my deob, I am able to dump the data when I walk into an unloaded map region. What I am not sure of is, how the map data work and what it’s data represents.</p>
<p>P.S. Why do you use variable names such as i_36_ on a server that wasn’t deobfuscated/decompiled?</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ry60003333.html'><span itemprop='name'>ry60003333</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-14T06:29:39Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:14:25Z' class='post-time'>
              July 31, 2016, 12:14am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="3" data-topic="220041">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/telenubby/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> TeleNubby:</div>
<blockquote>
<p>P.S. Why do you use variable names such as i_36_ on a server that wasn’t deobfuscated/decompiled?</p>
</blockquote>
</aside>
<p>That was in cellkyborg’s server, it was copied from the client I’m assuming.</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/z.html'><span itemprop='name'>z</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-14T11:49:50Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:14:50Z' class='post-time'>
              July 31, 2016, 12:14am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The packet work hasn’t changed very much for the 474 compared to the 317. One of the bigger changes I noticed was that they moved the packet work out of the packet method into its own method. Look for method934 in the 474 client; hopefully that should bring you close to what it looks like in the 503.</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/TeleNubby.html'><span itemprop='name'>TeleNubby</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-14T22:55:27Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:15:27Z' class='post-time'>
              July 31, 2016, 12:15am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Zachera, post:5, topic:220041”]The packet work hasn’t changed very much for the 474 compared to the 317. One of the bigger changes I noticed was that they moved the packet work out of the packet method into its own method. Look for method934 in the 474 client; hopefully that should bring you close to what it looks like in the 503.[/quote]Yes, that looks very similar to what I’ve been looking at in the 503 client. The thing is, why do I need this mapdata serverside? Wait… is it stored in the cache, or does the server send it over? (Probably the latter)</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Edu2.html'><span itemprop='name'>Edu2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-15T00:27:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:15:34Z' class='post-time'>
              July 31, 2016, 12:15am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“TeleNubby, post:6, topic:220041”][quote author=Zachera link=topic=289010.msg2334692#msg2334692 date=1216036190]<br>
The packet work hasn’t changed very much for the 474 compared to the 317. One of the bigger changes I noticed was that they moved the packet work out of the packet method into its own method. Look for method934 in the 474 client; hopefully that should bring you close to what it looks like in the 503.<br>
[/quote]Yes, that looks very similar to what I’ve been looking at in the 503 client. The thing is, why do I need this mapdata serverside? Wait… is it stored in the cache, or does the server send it over? (Probably the latter)[/quote]<br>
The client sends the mapArea id, and then the server should reply with mapdata, so the client can correctly load the new area.</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/z.html'><span itemprop='name'>z</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-15T13:39:44Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:16:14Z' class='post-time'>
              July 31, 2016, 12:16am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Edu2, post:7, topic:220041”][quote author=TeleNubby link=topic=289010.msg2335415#msg2335415 date=1216076127]</p>
<aside class="quote no-group">
<blockquote>
<p>The packet work hasn’t changed very much for the 474 compared to the 317. One of the bigger changes I noticed was that they moved the packet work out of the packet method into its own method. Look for method934 in the 474 client; hopefully that should bring you close to what it looks like in the 503.<br>
[/quote]Yes, that looks very similar to what I’ve been looking at in the 503 client. The thing is, why do I need this mapdata serverside? Wait… is it stored in the cache, or does the server send it over? (Probably the latter)</p>
</blockquote>
</aside>
<p>The client sends the mapArea id, and then the server should reply with mapdata, so the client can correctly load the new area.[/quote]</p>
<p>He might be right, not sure though. It’d make sense if it was true though. Instead of the client initializing which region to load, the server will tell it what region to load, which would be a better method of controlling what is loaded and what is not.</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/dino1001.html'><span itemprop='name'>dino1001</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-16T22:08:30Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:18:05Z' class='post-time'>
              July 31, 2016, 12:18am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>what i gather “map Data” is sent from the server to reduce client lag and</p>
<p>the only difference is the client doesn’t load it anymore</p>
<p>if u look in OnDemandFetcher.java in the rename client</p>
<pre><code class="lang-auto">            mapIndices1[i2] = stream2.readUnsignedWord();
            mapIndices2[i2] = stream2.readUnsignedWord();
            mapIndices3[i2] = stream2.readUnsignedWord();
            mapIndices4[i2] = stream2.readUnsignedByte();</code></pre>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/z.html'><span itemprop='name'>z</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-18T08:59:28Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:20:30Z' class='post-time'>
              July 31, 2016, 12:20am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“dino1001, post:9, topic:220041”]what i gather “map Data” is sent from the server to reduce client lag and</p>
<p>the only difference is the client doesn’t load it anymore</p>
<p>if u look in OnDemandFetcher.java in the rename client</p>
<p><code>
            mapIndices1[i2] = stream2.readUnsignedWord();
            mapIndices2[i2] = stream2.readUnsignedWord();
            mapIndices3[i2] = stream2.readUnsignedWord();
            mapIndices4[i2] = stream2.readUnsignedByte();
</code>[/quote]</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../uploads/default/original/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a.png" class="site-icon" width="32" height="32">
      <a href="../../index9728.html?topic=289433.0" target="_blank">moparisthebest.com</a>
  </header>
  <article class="onebox-body">
    <img src="../../uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" class="thumbnail onebox-avatar" width="500" height="500">

<h3><a href="../../index9728.html?topic=289433.0" target="_blank">moparisthebest.com</a></h3>

<p>programming, irc, cars</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/TeleNubby.html'><span itemprop='name'>TeleNubby</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-18T21:28:57Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:20:55Z' class='post-time'>
              July 31, 2016, 12:20am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think I have it worked out.</p>
<p>It would work something like this:<br>
<span class="bbcode-i">SERVER_READ</span> mapdata/maploading opcode (uint8)<br>
serverside:<br>
get four crc checksum values and ready them to be sent<br>
<span class="bbcode-i">SERVER_WRITE</span> crc checksum (int32 x4)<br>
clientside:<br>
reads the four checksums and gets the correct map data from the cache using them</p>
<p>If they’re not CRCs then they are hashes. <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-18T23:31:19Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:21:03Z' class='post-time'>
              July 31, 2016, 12:21am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="11" data-topic="220041">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/telenubby/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> TeleNubby:</div>
<blockquote>
<p>If they’re not CRCs then they are hashes. <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
</blockquote>
</aside>
<p>Find out how they are used once received, that will give you your answer</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/TeleNubby.html'><span itemprop='name'>TeleNubby</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-19T00:05:16Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:21:05Z' class='post-time'>
              July 31, 2016, 12:21am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Cheese_Police, post:12, topic:220041”][quote author=TeleNubby link=topic=289010.msg2342157#msg2342157 date=1216416537]<br>
If they’re not CRCs then they are hashes. <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"><br>
[/quote]</p>
<p>Find out how they are used once received, that will give you your answer[/quote]Well, obviously. I just haven’t had the time (meh, not time, I’m just too lazy) to do it. <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Impulser.html'><span itemprop='name'>Impulser</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-07-19T14:55:53Z'>
            <time itemprop='dateModified' datetime='2016-07-31T00:22:00Z' class='post-time'>
              July 31, 2016, 12:22am
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well mapdata, is basicly like offsets for parts of map regions stored in the cache, Heres an example:<br>
The runescape cache consists of 3 data files, and 27 indexes (i think), what good would the data files be if there were no indexs?</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/peterbjornx.html'><span itemprop='name'>peterbjornx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-10-05T11:09:21Z'>
            <time itemprop='dateModified' datetime='2016-07-31T02:06:59Z' class='post-time'>
              July 31, 2016,  2:06am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Map data is the map cache indexes<br>
In 317 they were loaded by onDemandFetcher from MAP_INDEXES</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/defyboy.html'><span itemprop='name'>defyboy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-11-07T19:25:53Z'>
            <time itemprop='dateModified' datetime='2016-07-31T02:58:07Z' class='post-time'>
              July 31, 2016,  2:58am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have also looked into this, I have followed the mapdata right through the client. It ends up getting passed to a method on a stream object which performs what looks like simple decryption on that stream.</p>
<p>I am also having trouble retrieving most of the files out of cache <span class="hashtag">#5</span>, It does appear to be encoded/encrypted. there are 3607 Files in here. I think this cache contains the object data/terrain data where the mapdata keys are used to decrypt these.</p>
<p>I have not tested this scenario however, I only assume this could be the case.</p>
      </div>

      <meta itemprop='headline' content='Map Data?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/map-data/220041 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 03:20:30 GMT -->
</html>
