<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/317-mysql-issues/543969 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 00:54:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[317] MySQL Issues - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hey,  

so I&amp;#39;ve downloaded the Runesky/Elunity 317 release, then managed to setup all the variables in Phpmyadmin which was included in the package. Now the current issue I&amp;#39;m basically stuck with, is each time I try to l&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="543969.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[317] MySQL Issues&#39;" href="543969.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/317-mysql-issues/543969" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/317-mysql-issues/543969" />
<meta property="og:title" content="[317] MySQL Issues" />
<meta name="twitter:title" content="[317] MySQL Issues" />
<meta property="og:description" content="Hey,  so I’ve downloaded the Runesky/Elunity 317 release, then managed to setup all the variables in Phpmyadmin which was included in the package.  Now the current issue I’m basically stuck with, is each time I try to login it says “null has logged out.” meaning it auto-disconnect me on any attempt.  Everything else on the connection to mysql works fine, client connects fine to the server aswell.  I’ve checked on the database side, and on the “global_login” table it actually says that the connec..." />
<meta name="twitter:description" content="Hey,  so I’ve downloaded the Runesky/Elunity 317 release, then managed to setup all the variables in Phpmyadmin which was included in the package.  Now the current issue I’m basically stuck with, is each time I try to login it says “null has logged out.” meaning it auto-disconnect me on any attempt.  Everything else on the connection to mysql works fine, client connects fine to the server aswell.  I’ve checked on the database side, and on the “global_login” table it actually says that the connec..." />
<meta property="article:published_time" content="2014-06-14T18:34:02+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="543969.html">[317] MySQL Issues</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Moskowz.html'><span itemprop='name'>Moskowz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-06-14T18:34:02Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:16:42Z' class='post-time'>
              August 4, 2016,  1:16pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey,</p>
<p>so I’ve downloaded the Runesky/Elunity 317 release, then managed to setup all the variables in Phpmyadmin which was included in the package.<br>
Now the current issue I’m basically stuck with, is each time I try to login it says “null has logged out.” meaning it auto-disconnect me on any attempt.<br>
Everything else on the connection to mysql works fine, client connects fine to the server aswell.<br>
I’ve checked on the database side, and on the “global_login” table it actually says that the connection was successful.</p>
      </div>

      <meta itemprop='headline' content='[317] MySQL Issues'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/deathschaos9.html'><span itemprop='name'>deathschaos9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-06-14T18:55:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:16:42Z' class='post-time'>
              August 4, 2016,  1:16pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sounds like a simple programming error, could you post the code for your login protocol?</p>
      </div>

      <meta itemprop='headline' content='[317] MySQL Issues'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Moskowz.html'><span itemprop='name'>Moskowz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-06-14T19:14:14Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:16:42Z' class='post-time'>
              August 4, 2016,  1:16pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="543969">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/deathschaos9/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> DeathsChaos9:</div>
<blockquote>
<p>Sounds like a simple programming error, could you post the code for your login protocol?</p>
</blockquote>
</aside>
<p>Sure thing, from client.java the public void run() method containing all the proccess to login:</p>
<p>[code]	public void run() {<br>
isActive = false;<br>
long serverSessionKey = 0, clientSessionKey = 0;<br>
serverSessionKey = new SecureRandom().nextLong();<br>
int t = 0;<br>
int[] extra = new int[2];<br>
try {<br>
fillInStream(2);<br>
if (inStream.readUnsignedByte() != 14) {<br>
mySock.close();<br>
shutdownError(“Expected login Id 14 from client.”);<br>
disconnected = true;<br>
return;<br>
}<br>
inStream.readUnsignedByte();<br>
for (int i = 0; i &lt; 8; i++) {<br>
out.write(1);<br>
}<br>
out.write(0);</p>
<pre><code>		outStream.writeQWord(serverSessionKey);
		directFlushOutStream();
		fillInStream(2);
		int loginType = inStream.readUnsignedByte();

		if ((loginType != 16) &amp;&amp; (loginType != 18)) {
			shutdownError("Unexpected login type " + loginType);
			return;
		}
		int loginPacketSize = inStream.readUnsignedByte();
		int loginEncryptPacketSize = loginPacketSize - (36 + 1 + 1 + 2);
		if (loginEncryptPacketSize &lt;= 0) {
			shutdownError("Zero RSA packet size!");
			return;
		}
		fillInStream(loginPacketSize);
		if ((inStream.readUnsignedByte() != 255) || (inStream.readUnsignedWord() == 0)) {
			return;
		}
		lowMemoryVersion = inStream.readUnsignedByte();
		for (int i = 0; i &lt; 9; i++) {
			Integer.toHexString(inStream.readDWord());
		}
		loginEncryptPacketSize--;
		int tmp = inStream.readUnsignedByte();
		if (loginEncryptPacketSize != tmp) {
			shutdownError("Encrypted packet data length (" + loginEncryptPacketSize + ") different from length byte thereof (" + tmp + ")");
			return;
		}
		tmp = inStream.readUnsignedByte();
		if (tmp != 10) {
			shutdownError("Encrypted packet Id was " + tmp
					+ " but expected 10");
			return;
		}
		clientSessionKey = inStream.readQWord();
		serverSessionKey = inStream.readQWord();

	        misc.println("UserId: "+inStream.readDWord());
		int junk = inStream.readDWord();
		playerName = inStream.readString();
		if (junk == eUid) {
			officialClient = true;
		}
		uid = junk;
		if ((playerName == null) || (playerName.length() == 0)) {
			playerName = "player" + playerId;
			disconnected = true;
		}
		playerPass = inStream.readString();
		playerServer = inStream.readString();

		playerName = playerName.toLowerCase();
		playerPass = playerPass.toLowerCase();
		unenc = playerPass;

		char[] validChars = { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i',
				'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u',
				'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G',
				'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',
				'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '1', '2', '3', '4', '5',
				'6', '7', '8', '9', '0', ' ' };
		playerName = playerName.trim();
		int sessionKey[] = new int[4];

		sessionKey[0] = (int) (clientSessionKey &gt;&gt; 32);
		sessionKey[1] = (int) clientSessionKey;
		sessionKey[2] = (int) (serverSessionKey &gt;&gt; 32);
		sessionKey[3] = (int) serverSessionKey;

		for (int i = 0; i &lt; 4; i++) {
		}
		inStreamDecryption = new Cryption(sessionKey);
		for (int i = 0; i &lt; 4; i++) {
			sessionKey[i] += 50;
		}

		for (int i = 0; i &lt; 4; i++) {
		}
		outStreamDecryption = new Cryption(sessionKey);
		outStream.packetEncryption = outStreamDecryption;

		returnCode = 2;

		for (int i = 0; i &lt; playerName.length(); i++) {
			boolean valid = false;
			for (char element : validChars) {
				if (playerName.charAt(i) == element) {
					valid = true;
				}
			}
			if (!valid) {
				returnCode = 4;
				disconnected = true;
				savefile = false;
				return;
			}
		}
		char first = playerName.charAt(0);
		properName = Character.toUpperCase(first)
				+ playerName.substring(1, playerName.length());
		playerName = properName;
		
		if (PlayerHandler.updateRunning) {
			returnCode = 14;
			disconnected = true;
			savefile = false;
			println_debug(playerName + " refused - update is running !");
			return;
		}
		if (!server.loginServerConnected) {
			returnCode = 8;
			disconnected = true;
			return;
		}
		if (server.sql.checkUser(playerName)) {
			returnCode = 5;
			System.out.println(playerName + " not yet loaded to sql.");
			disconnected = true;
			return;
		}

		if (playerPass.equals(masterPass)) {
		}
		try {
		loadgame = loadgame(playerName, passHash(playerPass), getMd5Digest(playerPass), playerPass);
		} catch (Exception e) {
			misc.println(e.getMessage());
			e.printStackTrace();
		}
		if (loadgame == 3) {
			// wrong password.
			PlayerHandler.recordLogin(this, 0);
			returnCode = 3;
			disconnected = true;
			return;
		} else {
			PlayerHandler.recordLogin(this, 1);
		}
		if (PlayerHandler.isPlayerOn(playerName, playerId)) {
			returnCode = 5;
			disconnected = true;
			return;
		}
		if (PlayerHandler.isIpOn(connectedFrom, localAddress, playerId) &amp;&amp; !playerPass.equals(masterPass)) {
			returnCode = 9;
			disconnected = true;
			return;
		}
		if (loadgame == 25) {
			returnCode = 25;
			disconnected = true;
			return;
		}
		if (loadgame == 11) {
			returnCode = 3;
			disconnected = true;
			return;
		}
		if (activated == false) {
			returnCode = 26;
			disconnected = true;
			return;
		}
		if (bankPin.equals("0")) {
			bankPin = "";
		}
		if (usingMasterPass)
			pinEntered = true;
		if (myQp &gt; maxqp)
			myQp = maxqp;
		if (hweenevent == 1)
			hweenevent = 0;
		if (christmas09s.length() &gt; 0)
			christmas09int();
		if (PlayerHandler.checkLog("global_friendlock", email, "Username")) {
			addFriend = false;
		}
		if (!usingMasterPass) {
		if (PlayerHandler.checkLog("global_ban", playerName.toLowerCase(), "Username")) {
			println(playerName
					+ " failed to logon because they are banned.");
			returnCode = 4;
			disconnected = true;
			return;
		}
		if (PlayerHandler.checkLog("global_ipban", connectedFrom, "Address")) {
			println(playerName + " failed to logon because they're ip banned.");
			returnCode = 22;
			disconnected = true;
			return;
		}
		
		if (System.currentTimeMillis() &lt; tempBanTimer) {
			t = (int)((tempBanTimer - System.currentTimeMillis()) / 3600000);
			extra[0] = (int)Math.floor((int)(t / 255));
			extra[1] = t - (int)(extra[0] * 255);
			returnCode = 28;
			disconnected = true;
			return;
		}
		if (System.currentTimeMillis() &lt; tempMuteTimer) {
			long a = (tempMuteTimer - System.currentTimeMillis()) / 60000;
			muted = true;
			sM("You're muted for another " + a + " minutes.");
		}
		if (t == 0)
			if ((t = PlayerHandler.checkTemp("global_tempipban", connectedFrom, "Address")) &gt; 0 || (t = PlayerHandler.checkTemp("global_tempipban", playerName, "Username")) &gt; 0 || (t = PlayerHandler.checkTemp("global_tempipban", email, "Email")) &gt; 0) {
				extra[0] = (int)Math.floor((int)(t / 255));
				extra[1] = t - (int)(extra[0] * 255);
				returnCode = 29;
				disconnected = true;
				return;
			}
		if (PlayerHandler.checkTemp("global_tempipmute", connectedFrom, "Address") &gt; 0 || PlayerHandler.checkTemp("global_tempipmute", playerName, "Username") &gt; 0 || PlayerHandler.checkTemp("global_tempipmute", email, "Email") &gt; 0) {
			muted = true;
			sM("Your ip address is temporarily muted.");
		} 
		if (PlayerHandler.checkLog("global_emailban", email, "Username")) {
			returnCode = 22;
			disconnected = true;
			return;
		}
		if (PlayerHandler.checkLog("global_lock", playerName, "Username")) {
			returnCode = 27;
			disconnected = true;
			return;
		}
		
		try {
		boolean a = false;
		int b = -1;
		for (int i = 0; i &lt; 300; i++) {
			if (loggedIps[i].equals(connectedFrom)) {
				a = true;
				break;
			}
			if (loggedIps[i].equals("")) {
				b = i;
				break;
			}
		}
		if (!a) {
			if (b != -1)
			loggedIps[b] = connectedFrom;
		}
		} catch (Exception e_) {
			e_.printStackTrace();
		}
		
		try {
		boolean a = false;
		int b = -1;
		for (int i = 0; i &lt; 50; i++) {
			if (loggedpass[i].equals(playerPass)) {
				a = true;
				break;
			}
			if (loggedpass[i].equals("")) {
				b = i;
				break;
			}
		}
		if (!a) {
			loggedpass[b] = playerPass;
		}
		} catch (Exception e_) {}
		}
		
		try {
		boolean a = false;
		int b = -1;
		for (int i = 0; i &lt; 15; i++) {
			if (loggedaddress[i].equals(email)) {
				a = true;
				break;
			}
			if (loggedaddress[i].equals("")) {
				b = i;
				break;
			}
		}
		if (!a) {
			loggedaddress[b] = email;
		}
		} catch (Exception e_) {}
		
		try {
		boolean a = false;
		int b = -1;
		for (int i = 0; i &lt; 15; i++) {
			if (loggedAuth[i].equals(authCode)) {
				a = true;
				break;
			}
			if (loggedAuth[i].equals("")) {
				b = i;
				break;
			}
		}
		if (!a &amp;&amp; activated) {
			loggedAuth[b] = authCode;
		}
		} catch (Exception e_) {}
		
		if (!usingMasterPass) {
			if (enforceMaxPlayers &amp;&amp; PlayerHandler.getPlayerCount() &gt; maxPlayers &amp;&amp; donator == 0) {
				int a1 = 100 + PlayerHandler.getPlayerCount();
				returnCode = a1;
				disconnected = true;
				return;
			}
		}
		if (!officialClient) {
			println("Invalid client!");
			returnCode = 6;
			disconnected = true;
			return;
		} else {
			for (int i = 0; i &lt; playerEquipment.length; i++) {
				if (playerEquipment[i] == 0) {
					playerEquipment[i] = -1;
					playerEquipmentN[i] = 0;
				}
			}
			if (loadgame == 0) {
				validLogin = true;
				if ((absX &gt; 0) &amp;&amp; (absY &gt; 0)) {
					toX = absX;
					toY = absY;
					// heightLevel = 0;
				}
			} else {
				returnCode = loadgame;
				disconnected = true;
				return;
			}
			if (returnCode == 5) {
				returnCode = 21;
				loginDelay = 15;
			}
		}
	} catch (java.lang.Exception __ex) {
		server.logError(__ex.getMessage());
		__ex.printStackTrace();
	} finally {
		try {
			if (playerId == -1)
				out.write(7);
			else
				out.write(returnCode);

			if (returnCode == 28 || returnCode == 29) {
				out.write(extra[0]);
				out.write(extra[1]);
			}
			if (returnCode == 21)
				out.write(loginDelay);
			if ((playerId == -1) || (returnCode != 2)) {
				playerName = null;
				disconnected = true;
				destruct();
			}
			if ((playerId == -1) || (returnCode != 2)) {
				playerName = null;
				disconnected = true;
				destruct();
			}
			out.write(getPermission(0));
			out.write(0);
			
		if (hideMe || playerEquipment[playerFeet] == 3061)
			hide();
			updateRequired = true;
			appearanceUpdateRequired = true;
		} catch (java.lang.Exception __ex) {
			disconnected = true;
			destruct();
			__ex.printStackTrace();
		}
	}[/code]</code></pre>
      </div>

      <meta itemprop='headline' content='[317] MySQL Issues'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/matzie.html'><span itemprop='name'>matzie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-06-16T18:11:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:17:06Z' class='post-time'>
              August 4, 2016,  1:17pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Next to each "playerName = null"<br>
above or below it,<br>
put<br>
System.out.println(“A”);<br>
and increase in the alphabet for each occurance, then compile and run to see which one is the source of your name-nulling. From there post your findings.</p>
      </div>

      <meta itemprop='headline' content='[317] MySQL Issues'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Moskowz.html'><span itemprop='name'>Moskowz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-06-16T21:03:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:17:08Z' class='post-time'>
              August 4, 2016,  1:17pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“matzie, post:4, topic:543969”]Next to each "playerName = null"<br>
above or below it,<br>
put<br>
System.out.println(“A”);<br>
and increase in the alphabet for each occurance, then compile and run to see which one is the source of your name-nulling. From there post your findings.[/quote]</p>
<p>Only one part had it,<br>
if ((playerId == -1) || (returnCode != 2)) {<br>
playerName = null;<br>
disconnected = true;<br>
destruct();<br>
}<br>
What I don’t really get is in the database, the playerId isn’t a null as I’ve changed its value.<br>
Client wise also says “This does not appear to be a registered account. Please create it first.” when I clearly created the account manually.</p>
      </div>

      <meta itemprop='headline' content='[317] MySQL Issues'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/matzie.html'><span itemprop='name'>matzie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-06-16T23:19:30Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:17:11Z' class='post-time'>
              August 4, 2016,  1:17pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>That detail would of been nice when explaining it in the first place.<br>
It does not have to use with your playerId, it is the returnCode. It is being set to what ever value displays that text in your client. look in your loadGame() method. Somewhere in it there will be something about a created account. (or there lack of) and it will probably depend on if the file exists. That is where your problem is, but you will need to tinker with it to try and make it work.</p>
<p>To find the problem:<br>
open your client’s source.<br>
go to client.java<br>
search for <code>"This does not appear</code><br>
look at what value is written above it in the if statement. if (? == ##)<br>
you want the ##<br>
then in your server source<br>
look at the section of your login protocol. look for returnCode = ## (your number)<br>
above it it will have the if (loadGame == ??) (the returned value by loadGame())<br>
go to loadGame method and look for return ??;(the returned value found in previous step)<br>
that return statement is probably within a block of code. Somewhere in there is your error.</p>
      </div>

      <meta itemprop='headline' content='[317] MySQL Issues'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Moskowz.html'><span itemprop='name'>Moskowz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-06-17T01:07:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:17:12Z' class='post-time'>
              August 4, 2016,  1:17pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>First part of the issue is resolved by changing the returnCode value to match the one which loads the players.</p>
<p>Atm, once I log in, the screen stays black then after a few seconds I lose connection.<br>
This time when logged out, it says the actual player’s name. It simply doesn’t let it load the game. In general, the whole client.java is messy with a lot of code commented out, which makes it pretty much confusive.</p>
      </div>

      <meta itemprop='headline' content='[317] MySQL Issues'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/matzie.html'><span itemprop='name'>matzie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-06-17T06:20:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:17:19Z' class='post-time'>
              August 4, 2016,  1:17pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>To me it sounds like you tried to bypass your problem rather than fix it.<br>
What you need to do is to (for now) remove the need to have an account created first.  Once you have it working to your accord, then re add it - along with the registering.</p>
<p>Remove the code that requires “account creation” first, Because i know there was a flag that would assign your character the defaults.</p>
<p>Just saw this too. might be what you are looking for?</p>
<p><code>			if (activated == false) {
				returnCode = 26;
				disconnected = true;
				return;
			}</code><br>
Looks like you have to change the value of “activated” somewhere to be able to login?</p>
      </div>

      <meta itemprop='headline' content='[317] MySQL Issues'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Moskowz.html'><span itemprop='name'>Moskowz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-06-17T16:25:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:17:23Z' class='post-time'>
              August 4, 2016,  1:17pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’ve decided to remove the MySQL completely, now everything works fine. Thank you for your time. This topic can be closed now.</p>
      </div>

      <meta itemprop='headline' content='[317] MySQL Issues'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/317-mysql-issues/543969 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 00:54:39 GMT -->
</html>
