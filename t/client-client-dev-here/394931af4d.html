<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/client-client-dev-here/394931?page=5 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 14:11:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Client &amp; Client Dev Here - Runescape - moparisthebest.com</title>
    <meta name="description" content="this is the client we are gonna work off. 

http://uppit.com/kwbew719poqw/Client.rar 

we need a nice logo, and we gotta find that F2P landscape that we had at RSCAngel one time (who has it?) 

if there are any suggestio&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="394931af4d.html?page=5" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Client &amp; Client Dev Here&#39;" href="394931.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/client-client-dev-here/394931?page=5" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/client-client-dev-here/394931?page=5" />
<meta property="og:title" content="Client &amp; Client Dev Here" />
<meta name="twitter:title" content="Client &amp; Client Dev Here" />
<meta property="og:description" content="I have absolutely no idea or clue why they won’t work, then again I haven’t really played with applets before." />
<meta name="twitter:description" content="I have absolutely no idea or clue why they won’t work, then again I haven’t really played with applets before." />
<meta property="article:published_time" content="2012-01-26T21:19:53+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="394931fdb0.html?page=4">
      <link rel="next" href="394931c575.html?page=6">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="394931.html">Client &amp; Client Dev Here</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/vortex.html'><span itemprop='name'>vortex</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-26T21:19:53Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:33:51Z' class='post-time'>
              August 2, 2016,  3:33pm
            </time>
        <span itemprop='position'>#81</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have absolutely no idea or clue why they won’t work, then again I haven’t really played with applets before.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-26T21:32:23Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:33:52Z' class='post-time'>
              August 2, 2016,  3:33pm
            </time>
        <span itemprop='position'>#82</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorry, my bad.  Somehow this code change of mine made the mouse not work on the buttons:</p>
<p>appletInstance.addKeyListener(this);</p>
<p>I can’t imagine why though.  Otherwise, I think it works. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>edit:<br>
What about drawing my image during the loading process?  That doesn’t work.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/vortex.html'><span itemprop='name'>vortex</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-26T21:44:24Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:33:52Z' class='post-time'>
              August 2, 2016,  3:33pm
            </time>
        <span itemprop='position'>#83</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Moparisthebest, post:82, topic:394931”]Sorry, my bad.  Somehow this code change of mine made the mouse not work on the buttons:</p>
<p>appletInstance.addKeyListener(this);</p>
<p>I can’t imagine why though.  Otherwise, I think it works. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>edit:<br>
What about drawing my image during the loading process?  That doesn’t work.[/quote]Have you looked at the GameFrame class yet? That might help.<br>
My bad with the logo painting, it should be drawn after the area gets fillRect’d. <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rodgerwilco.html'><span itemprop='name'>Rodgerwilco</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-26T22:05:36Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:33:53Z' class='post-time'>
              August 2, 2016,  3:33pm
            </time>
        <span itemprop='position'>#84</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why does the 201 client ‘feel’ different than the 204 client?</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-26T22:58:24Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:33:59Z' class='post-time'>
              August 2, 2016,  3:33pm
            </time>
        <span itemprop='position'>#85</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Awesome!  As of the latest commit:</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/xetr0v/mpc-client/commit/67be60bc89ae29d4fc224b98d1629b7adae508ca" target="_blank" rel="nofollow noopener">github.com/xetr0v/mpc-client</a>
  </header>
  <article class="onebox-body">
    
<h4>
  <a href="https://github.com/xetr0v/mpc-client/commit/67be60bc89ae29d4fc224b98d1629b7adae508ca" target="_blank" rel="nofollow noopener">loading logo fix</a>
</h4>


<div class="date">
  by <a href="#"></a>
  on <a href="https://github.com/xetr0v/mpc-client/commit/67be60bc89ae29d4fc224b98d1629b7adae508ca" target="_blank" rel="nofollow noopener">09:43PM - 26 Jan 12</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>2 additions</strong>
  and <strong>2 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I am working with your completely un-altered code, here is my client class that MoparScape needs to run it:</p>
<p>/[code=java5]*</p>
<ul>
<li>Copyright © 2012  moparisthebest</li>
<li>
</li>
<li>This program is free software: you can redistribute it and/or modify</li>
<li>it under the terms of the GNU General Public License as published by</li>
<li>the Free Software Foundation, either version 3 of the License, or</li>
<li>(at your option) any later version.</li>
<li>
</li>
<li>This program is distributed in the hope that it will be useful,</li>
<li>but WITHOUT ANY WARRANTY; without even the implied warranty of</li>
<li>MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</li>
<li>GNU General Public License for more details.</li>
<li>
</li>
<li>You should have received a copy of the GNU General Public License</li>
<li>along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</li>
<li>
</li>
<li>Official forums are <a href="http://www.moparisthebest.com/smf/">http://www.moparisthebest.com/smf/</a>
</li>
<li>Email me at <a href="mailto:admin@moparisthebest.com">admin@moparisthebest.com</a> , I read it but dont usually respond.<br>
*/</li>
</ul>
<p>import mudclient.Config;<br>
import org.moparscape.iface.ClientInterface;</p>
<p>import java.awt.image.BufferedImage;<br>
import java.util.HashMap;<br>
import java.util.Map;</p>
<p>/**</p>
<ul>
<li>
<p><span class="mention">@author</span> mopar<br>
*/<br>
public class client extends mudclient.mudclient implements ClientInterface {</p>
<p>int width = 512;<br>
int height = 344;</p>
<p>public void setServer(String server) {<br>
Config.SERVER_IP = server;<br>
}</p>
<p>public void setPort(int port) {<br>
Config.SERVER_PORT = port;<br>
}</p>
<p>public void setCacheDir(String cacheDir) {<br>
Config.CONF_DIR = cacheDir;<br>
Config.MEDIA_DIR = cacheDir;<br>
}</p>
<p>public int getPort() {<br>
return Config.SERVER_PORT;<br>
}</p>
<p>public java.awt.Dimension getDimension() {<br>
return new java.awt.Dimension(width, height);<br>
}</p>
<p>public Map&lt;String, String&gt; getParams() {<br>
HashMap&lt;String, String&gt; ret = new HashMap&lt;String, String&gt;();<br>
// set params<br>
ret.put(“getCodeBase”, “<a href="http://localhost/">http://localhost</a>”);<br>
ret.put(“getDocumentBase”, “<a href="http://localhost/index.php">http://localhost/index.php</a>”);<br>
return ret;<br>
}</p>
<p>public void setBackground(java.awt.Image image) {<br>
//image = null; System.out.println(“image disabled!”);<br>
if (image == null)<br>
return;<br>
// the login screen image needs to be this size, and an array of pixels<br>
int newWidth = width;<br>
int newHeight = 200;<br>
bgPixels = new int[newWidth][newHeight];<br>
int oldWidth = image.getWidth(null);<br>
int oldHeight = image.getHeight(null);<br>
bgImage = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);</p>
<pre><code> bgImage.getGraphics().drawImage(image,
         0, 0, newWidth, newHeight,
         0, 0, oldWidth, oldHeight,
         null);

 for (int x = 0; x &lt; newWidth; x++)
     for (int y = 0; y &lt; newHeight; y++)
         bgPixels[x][y] = bgImage.getRGB(x, y);

 // the loading screen image can be full size, and an image
 newWidth = width;
 newHeight = height;
 bgImage = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);
 bgImage.getGraphics().drawImage(image,
         0, 0, newWidth, newHeight,
         0, 0, oldWidth, oldHeight,
         null);
</code></pre>
<p>}</p>
<p>// below here are unused imports</p>
<p>public void setKeyListener(java.awt.event.KeyListener kl) {<br>
<a href="http://super.addkeylistener/">//super.addKeyListener</a>(kl);<br>
}</p>
<p>public org.moparscape.userver.Server[] getUpdateServers(String defaultLocation, String customLocation) {<br>
return null;<br>
}</p>
<p>public void setOndemandPort(int port) {<br>
}</p>
<p>public void setJaggrabPort(int port) {</p>
<p>}</p>
<p>public void setMapLock(boolean maplock, int mapface) {</p>
<p>}</p>
<p>public void setHPheads(boolean on) {</p>
<p>}</p>
<p>public void setZoom(boolean on) {</p>
<p>}</p>
<p>public void modZoomInts(int zoom, int fwdbwd, int lftrit) {</p>
<p>}</p>
<p>static {<br>
Config.CONF_DIR = “/home/mopar/.moparscape4/devCache/”;<br>
Config.MEDIA_DIR = Config.CONF_DIR;<br>
}</p>
</li>
</ul>
<p>}<br>
[/code]</p>
<p>All that is left to do, and it’s not really that big of a deal, is to get the keyListener thing working.  I think the problem is that RSC uses java’s deprecated event system, so when I try to add a new current KeyListener, it disables the legacy event system all together.  <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/vortex.html'><span itemprop='name'>vortex</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-27T00:21:33Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:34:06Z' class='post-time'>
              August 2, 2016,  3:34pm
            </time>
        <span itemprop='position'>#86</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/xetr0v/mpc-client/commit/461d01cb8ac77eb468c9d3ae395c22fd33a1e486" target="_blank" rel="nofollow noopener">github.com/xetr0v/mpc-client</a>
  </header>
  <article class="onebox-body">
    
<h4>
  <a href="https://github.com/xetr0v/mpc-client/commit/461d01cb8ac77eb468c9d3ae395c22fd33a1e486" target="_blank" rel="nofollow noopener">a few fixes</a>
</h4>

  <pre class="message" style="white-space: pre-wrap;">switched away from the deprecated input handling (GameFrame)
fonts file now load properly
loader will now try to load the data from:
1) inside...</pre>

<div class="date">
  by <a href="#"></a>
  on <a href="https://github.com/xetr0v/mpc-client/commit/461d01cb8ac77eb468c9d3ae395c22fd33a1e486" target="_blank" rel="nofollow noopener">12:20AM - 27 Jan 12</a>
</div>

<div class="github-commit-stats">
  changed <strong>5 files</strong>
  with <strong>224 additions</strong>
  and <strong>160 deletions</strong>.
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-27T03:30:13Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:34:42Z' class='post-time'>
              August 2, 2016,  3:34pm
            </time>
        <span itemprop='position'>#87</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“vortex, post:86, topic:394931”]<a href="https://github.com/xetr0v/mpc-client/commit/461d01cb8ac77eb468c9d3ae395c22fd33a1e486">https://github.com/xetr0v/mpc-client/commit/461d01cb8ac77eb468c9d3ae395c22fd33a1e486</a><br>
:)[/quote]</p>
<p>But then the deprecated code is still in use in Loader, the applet won’t work at all, and you’ve re-implemented everything twice (once in Loader, once in GameFrame)</p>
<p>I looked at how the 317 client did it, and did similar, now all the implementation code is in GameApplet, and it works when mudclient is ran directly as an applet or application, or when loader is ran as an applet.  So please apply this patch (sorry about a little formatting, my IDE did it automatically, force of habit…) <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<pre><code class="lang-auto">diff --git a/src/mudclient/GameApplet.java b/src/mudclient/GameApplet.java
index 763ff15..1d171ae 100644
--- a/src/mudclient/GameApplet.java
+++ b/src/mudclient/GameApplet.java
@@ -1,15 +1,22 @@
 package mudclient;
 
+import javax.swing.event.MouseInputListener;
 import java.applet.Applet;
 import java.awt.*;
 import java.awt.event.KeyEvent;
+import java.awt.event.KeyListener;
+import java.awt.event.MouseEvent;
+import java.awt.event.MouseMotionListener;
 import java.awt.image.BufferedImage;
-import java.io.*;
-import java.net.*;
+import java.io.DataInputStream;
+import java.io.IOException;
+import java.net.InetAddress;
+import java.net.Socket;
+import java.net.URL;
 
 @SuppressWarnings("serial")
 public class GameApplet extends Applet
-    implements Runnable {
+        implements Runnable, KeyListener, MouseInputListener, MouseMotionListener {
 
     protected void loadGame() {
     }
@@ -49,6 +56,46 @@ public class GameApplet extends Applet
 
     }
     
+    public void keyTyped(KeyEvent e) {
+        //ignore
+    }
+
+    public void mouseClicked(MouseEvent e) {
+        //ignore
+    }
+
+    public void keyPressed(KeyEvent evt) {
+        this.keyDown(evt.getKeyCode(), evt.getKeyChar());
+    }
+
+    public void keyReleased(KeyEvent evt) {
+        this.keyUp(evt.getKeyCode(), evt.getKeyChar());
+    }
+
+    public void mouseEntered(MouseEvent evt) {
+        this.mouseMove(evt.getX(), evt.getY());
+    }
+
+    public void mouseExited(MouseEvent evt) {
+        this.mouseMove(evt.getX(), evt.getY());
+    }
+
+    public void mousePressed(MouseEvent evt) {
+        this.mouseDown(evt.getX(), evt.getY(), evt.isMetaDown());
+    }
+
+    public void mouseReleased(MouseEvent evt) {
+        this.mouseUp(evt.getX(), evt.getY());
+    }
+
+    public void mouseDragged(MouseEvent evt) {
+        this.mouseDrag(evt.getX(), evt.getY(), evt.isMetaDown());
+    }
+
+    public void mouseMoved(MouseEvent evt) {
+        this.mouseMove(evt.getX(), evt.getY());
+    }
+
     public void keyDown(int key, char c) {
         handleKeyDown(key, c);
         if(key == KeyEvent.VK_LEFT)
@@ -106,21 +153,21 @@ public class GameApplet extends Applet
 
     public final synchronized boolean mouseMove(int x, int y) {
         mouseX = x;
-        mouseY = y + mouseYOffset;
+        mouseY = y - mouseYOffset;
         mouseButton = 0;
         return true;
     }
 
     public final synchronized boolean mouseUp(int x, int y) {
         mouseX = x;
-        mouseY = y + mouseYOffset;
+        mouseY = y - mouseYOffset;
         mouseButton = 0;
         return true;
     }
 
     public final synchronized boolean mouseDown(int x, int y, boolean metaDown) {
         mouseX = x;
-        mouseY = y + mouseYOffset;
+        mouseY = y - mouseYOffset;
         mouseButton = metaDown ? 2 : 1;
         lastMouseButton = mouseButton;
         handleMouseDown(mouseButton, x, y);
@@ -132,7 +179,7 @@ public class GameApplet extends Applet
 
     public final synchronized boolean mouseDrag(int x, int y, boolean metaDown) {
         mouseX = x;
-        mouseY = y + mouseYOffset;
+        mouseY = y - mouseYOffset;
         mouseButton = metaDown ? 2 : 1;
         return true;
     }
@@ -162,8 +209,7 @@ public class GameApplet extends Applet
         runStatus = -1;
         try {
             Thread.sleep(2000L);
-        }
-        catch(Exception _ex) { }
+        } catch (Exception _ex) { }
         if(runStatus == -1) {
             System.out.println("2 seconds expired, forcing kill");
             closeProgram();
@@ -180,15 +226,24 @@ public class GameApplet extends Applet
         close();
         try {
             Thread.sleep(1000L);
-        }
-        catch(Exception _ex) { }
+        } catch (Exception _ex) { }
         if(gameFrame != null)
             gameFrame.dispose();
         if(!inBrowser)
             System.exit(0);
     }
 
+    Component getGameComponent() {
+        if (gameFrame != null)
+            return gameFrame;
+        else
+            return this;
+    }
+
     public final void run() {
+        getGameComponent().addKeyListener(this);
+        getGameComponent().addMouseListener(this);
+        getGameComponent().addMouseMotionListener(this);
         if(gameLoadingScreen == 1) {
             gameLoadingScreen = 2;
             graphics = getGraphics();
@@ -221,8 +276,7 @@ public class GameApplet extends Applet
             if(timeArray[i] == 0L) {
                 k = i2;
                 sleepTime = j2;
-            } else
-            if(l1 &gt; timeArray[i])
+            } else if (l1 &gt; timeArray[i])
                 k = (int)((long)(2560 * refreshRate) / (l1 - timeArray[i]));
             if(k &lt; 25)
                 k = 25;
@@ -234,8 +288,7 @@ public class GameApplet extends Applet
             }
             try {
                 Thread.sleep(sleepTime);
-            }
-            catch(InterruptedException _ex) { }
+            } catch (InterruptedException _ex) { }
             timeArray[i] = l1;
             i = (i + 1) % 10;
             if(sleepTime &gt; 1) {
@@ -309,8 +362,7 @@ public class GameApplet extends Applet
             graphics.fillRect(i, k, (277 * percentage) / 100, 20);
             graphics.setColor(new Color(198, 198, 198));
             drawString(graphics, fileTitle, gameLoadingFont, i + 138, k + 10);
-        }
-        catch(Exception _ex) { }
+        } catch (Exception _ex) { }
     }
 
     protected final void drawLoadingBarText(int i, String s) {
@@ -329,8 +381,7 @@ public class GameApplet extends Applet
             graphics.setColor(new Color(198, 198, 198));
             drawString(graphics, s, gameLoadingFont, k + 138, l + 10);
             return;
-        }
-        catch(Exception _ex) {
+        } catch (Exception _ex) {
             return;
         }
     }
@@ -373,8 +424,7 @@ public class GameApplet extends Applet
                     drawLoadingBarText(startPercentage, "Loading " + fileTitle + " - " + (5 + (l * 95) / k) + "%");
                 }
                 datainputstream.close();
-            }
-            catch(IOException _ex) { }
+            } catch (IOException _ex) { }
         }
         drawLoadingBarText(startPercentage, "Unpacking " + fileTitle);
         if(k != i) {
@@ -467,7 +517,7 @@ public class GameApplet extends Applet
     private boolean inBrowser;
     public int runStatus;
     private int fij;
-    public int mouseYOffset;
+    public int mouseYOffset = 0;
     public int gameLoadingScreen;
     private int gameLoadingPercentage;
     private String gameLoadingFileTitle;
diff --git a/src/mudclient/GameFrame.java b/src/mudclient/GameFrame.java
index 795adfb..8ae0873 100644
--- a/src/mudclient/GameFrame.java
+++ b/src/mudclient/GameFrame.java
@@ -11,7 +11,7 @@ import java.awt.event.WindowListener;
 import javax.swing.event.MouseInputListener;
 
 @SuppressWarnings({ "deprecation", "serial" })
-public class GameFrame extends Frame implements KeyListener, MouseInputListener, MouseMotionListener, WindowListener {
+public class GameFrame extends Frame implements WindowListener {
 
     public GameFrame(GameApplet arg0, int width, int height, String title, boolean resizable, boolean translate) {
         yOffset = 28;
@@ -22,15 +22,13 @@ public class GameFrame extends Frame implements KeyListener, MouseInputListener,
             yOffset = 48;
         else
             yOffset = 28;
+        gameApplet.mouseYOffset = 24;
         setTitle(title);
         setResizable(resizable);
         show();
         toFront();
         resize(frameWidth, frameHeight);
         
-        addKeyListener(this);
-        addMouseListener(this);
-        addMouseMotionListener(this);
         addWindowListener(this);
     }
 
@@ -51,38 +49,6 @@ public class GameFrame extends Frame implements KeyListener, MouseInputListener,
         gameApplet.paint(g);
     }
     
-    public void keyPressed(KeyEvent evt) {
-        gameApplet.keyDown(evt.getKeyCode(), evt.getKeyChar());
-    }
-
-    public void keyReleased(KeyEvent evt) {
-        gameApplet.keyUp(evt.getKeyCode(), evt.getKeyChar());
-    }
-
-    public void mouseEntered(MouseEvent evt) {
-        gameApplet.mouseMove(evt.getX(), evt.getY() - 24);
-    }
-
-    public void mouseExited(MouseEvent evt) {
-        gameApplet.mouseMove(evt.getX(), evt.getY() - 24);
-    }
-
-    public void mousePressed(MouseEvent evt) {
-        gameApplet.mouseDown(evt.getX(), evt.getY() - 24, evt.isMetaDown());
-    }
-
-    public void mouseReleased(MouseEvent evt) {
-        gameApplet.mouseUp(evt.getX(), evt.getY() - 24);
-    }
-
-    public void mouseDragged(MouseEvent evt) {
-        gameApplet.mouseDrag(evt.getX(), evt.getY() - 24, evt.isMetaDown());
-    }
-
-    public void mouseMoved(MouseEvent evt) {
-        gameApplet.mouseMove(evt.getX(), evt.getY() - 24);
-    }
-
     public void windowClosed(WindowEvent evt) {
         if(gameApplet.runStatus != -1)
             gameApplet.destroy();
@@ -108,12 +74,6 @@ public class GameFrame extends Frame implements KeyListener, MouseInputListener,
     public void windowOpened(WindowEvent evt) {
     }
     
-    public void keyTyped(KeyEvent evt) {
-    }
-
-    public void mouseClicked(MouseEvent evt) {
-    }
-
     int frameWidth;
     int frameHeight;
     int fej;
diff --git a/src/mudclient/Loader.java b/src/mudclient/Loader.java
index c03a9df..a2537bc 100644
--- a/src/mudclient/Loader.java
+++ b/src/mudclient/Loader.java
@@ -50,6 +50,9 @@ public class Loader extends Applet implements Runnable {
             client = new mudclient();
             client.init();
             client.start();
+            this.addKeyListener(client);
+            this.addMouseListener(client);
+            this.addMouseMotionListener(client);
         } catch(Exception e) {
             e.printStackTrace();
         }
@@ -156,39 +159,4 @@ public class Loader extends Applet implements Runnable {
             client.destroy();
     }
     
-    public boolean mouseDown(Event evt, int x, int y) {
-        if(client != null)
-            return client.mouseDown(x, y, evt.metaDown());
-        return true;
-    }
-    
-    public boolean mouseDrag(Event evt, int x, int y) {
-        if(client != null)
-            return client.mouseDrag(x, y, evt.metaDown());
-        return true;
-    }
-    
-    public boolean mouseUp(Event evt, int x, int y) {
-        if(client != null)
-            return client.mouseUp(x, y);
-        return true;
-    }
-    
-    public boolean mouseMove(Event evt, int x, int y) {
-        if(client != null)
-            return client.mouseMove(x, y);
-        return true;
-    }
-    
-    public boolean keyDown(Event evt, int key) {
-        if(client != null)
-            client.keyDown(key, (char)key);
-        return true;
-    }
-    
-    public boolean keyUp(Event evt, int key) {
-        if(client != null)
-            client.keyUp(key, (char)key);
-        return true;
-    }
 }
diff --git a/src/mudclient/mudclient.java b/src/mudclient/mudclient.java
index ca5d806..798bc33 100644
--- a/src/mudclient/mudclient.java
+++ b/src/mudclient/mudclient.java
@@ -2305,7 +2305,6 @@ boolean print = false;
             l += l1;
             experienceList[i1] = l &amp; 0xffffffc;
         }
-        super.mouseYOffset = 0;
         loadChatFilter();
         if(errorLoading)
             return;</code></pre>
<p>edit:<br>
Moving on to another topic, I’d like the option of hashing the password in the client before sending it to the server, it looks like the place to add this would be in GameAppletMiddleman around line 22, the only potential problem I see is that it appears this call:</p>
<p>pass = DataOperations.formatString(pass, 20);</p>
<p>Pad’s the password on the right side with spaces, out to a length of 20.  So will something on the server need changed as well if I want to support longer ‘passwords’?  (like 40 for sha1 for instance).  I was hoping nothing on the server needed changed.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/vortex.html'><span itemprop='name'>vortex</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-27T17:09:26Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:35:28Z' class='post-time'>
              August 2, 2016,  3:35pm
            </time>
        <span itemprop='position'>#88</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I just thought of that as a quick temporary solution after you said you didn’t want load the Loader in MoparScape 4 <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
As for the login, I think the client already encrypts it, look at the part where LoginDataEncryption is used in GameAppletMiddleMan. In the login server the class that handles the login is PlayerLogin (or something similar)</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-27T17:16:45Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:35:28Z' class='post-time'>
              August 2, 2016,  3:35pm
            </time>
        <span itemprop='position'>#89</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I saw you applied my patch, thanks.</p>
<p>I think you are right about password encryption, but the server still ends up with the clear-text password right?  I’d like an option to stop that from happening, as it shouldn’t ever need anything more than a sha1 hash of the password.  That’s actually even how this forum works, if you have javascript enabled, it hashes your password before it sends it to the server, so I could never get to the clear-text password even if I wanted to.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                  <a href="../beta/431137/2.html" itemprop='item'>
                    <meta itemprop='url' content='../beta/431137/2.html'>
                    <meta itemprop='position' content='1'>
                    <span itemprop='name'>Beta</span>
                  </a>
                </div>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T22:41:04Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:38:34Z' class='post-time'>
              August 2, 2016,  3:38pm
            </time>
        <span itemprop='position'>#90</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So any ideas about that?  Would the server, as-is, accept a 40 character password?</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/vortex.html'><span itemprop='name'>vortex</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T23:40:37Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:38:37Z' class='post-time'>
              August 2, 2016,  3:38pm
            </time>
        <span itemprop='position'>#91</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If you don’t feel like waiting for response from someone who knows the answer to that, you could always clone the files to your own server and try.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-30T00:13:01Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:38:38Z' class='post-time'>
              August 2, 2016,  3:38pm
            </time>
        <span itemprop='position'>#92</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="90" data-topic="394931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/moparisthebest/40/30_1.png" class="avatar"> Moparisthebest:</div>
<blockquote>
<p>So any ideas about that?  Would the server, as-is, accept a 40 character password?</p>
</blockquote>
</aside>
<p>No, but it would be easy enough to adjust.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-30T09:28:09Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:39:06Z' class='post-time'>
              August 2, 2016,  3:39pm
            </time>
        <span itemprop='position'>#93</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>There’s no reason it can’t use a 40 character password – you’ll need to extend the length of the RSA key though, otherwise you’ll have problems. <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> Key size must be at least as long as the plain text it will be encrypting (if you want to encrypt it in one go as is done at the moment).</p>
<p>Regarding the database, use a stored procedure to perform the password comparison at login and create a view over the player table so that there is simply no way to dump the password hashes.<br>
Just be sure to create all of the tables/views with one account and then assign permissions to a second account which will be used by the game server/etc to perform queries.<br>
This ensures that only the database administrator will ever have the ability to access the password hashes, injection attacks will be futile, and even game server developers who sneak code into the server (unlikely, but a risk nonetheless) won’t be able to access the password hashes.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-30T16:25:51Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:39:17Z' class='post-time'>
              August 2, 2016,  3:39pm
            </time>
        <span itemprop='position'>#94</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="91" data-topic="394931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/vortex/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> vortex:</div>
<blockquote>
<p>If you don’t feel like waiting for response from someone who knows the answer to that, you could always clone the files to your own server and try.</p>
</blockquote>
</aside>
<p>I wasn’t just waiting, I’m putting the finishing touches on MoparScape 4 still, for some reason I am getting strange class loading errors with my new classloader, but only when ran as an applet, works perfectly as an application… <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>[quote=“CodeForFame, post:92, topic:394931”][quote author=Moparisthebest link=topic=492122.msg3902383#msg3902383 date=1327876864]<br>
So any ideas about that?  Would the server, as-is, accept a 40 character password?<br>
[/quote]<code>password = p.readString(20).trim();</code></p>
<p>No, but it would be easy enough to adjust.[/quote]<br>
Alright, that is what I guessed.  Doesn’t sound too bad though, maybe it can be re-written in a way that accepts both ways.</p>
<p><a class="mention" href="../../u/lothy.html">@Lothy</a>, changing the RSA key on the client requires changing it on the server as well, correct?  Also, I’ve never heard of being able to do that with the database, got any examples I could look at?  I don’t know if/how it will help though, as the server code will probably always have to have access to the hash right?</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-30T21:50:03Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:39:39Z' class='post-time'>
              August 2, 2016,  3:39pm
            </time>
        <span itemprop='position'>#95</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeah, you’ll have to create a new public/private keypair, and then place the new public key and modulo in the client and the new private key and modulo in the server.<br>
I’ll try to help write the database stuff I mentioned tonight when I get home from work.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-30T22:14:07Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:39:42Z' class='post-time'>
              August 2, 2016,  3:39pm
            </time>
        <span itemprop='position'>#96</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>We should properly implement it…  Have the keys hard-coded is not very secure from my understanding.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-30T23:19:20Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:39:48Z' class='post-time'>
              August 2, 2016,  3:39pm
            </time>
        <span itemprop='position'>#97</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="96" data-topic="394931">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/codeforfame/40/3743_1.png" class="avatar"> CodeForFame:</div>
<blockquote>
<p>We should properly implement it…  Have the keys hard-coded is not very secure from my understanding.</p>
</blockquote>
</aside>
<p>You have to hard-code the client (public) key, no other way to do that.</p>
<p>But, as you said, if the server (private) key is public, then this whole thing is useless, since anyone can use it to decrypt things.  So, ideally, the private key should be loaded from a file so the server administrator can load it (load a default key if the file doesn’t exist), then distribute a client with the public key.  (or I could have the client download the public key from a specific location…)</p>
<p>edit:<br>
Actually, I will add support in MoparScape for downloading the public key.  Just do the server-side stuff.</p>
<p>edit2:<br>
How would you generate a RSA keypair in the format the client’s use?  As in the string sent to BigInteger.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-30T23:50:39Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:39:51Z' class='post-time'>
              August 2, 2016,  3:39pm
            </time>
        <span itemprop='position'>#98</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Moparisthebest, post:97, topic:394931”][quote author=CodeForFame link=topic=492122.msg3903213#msg3903213 date=1327961647]<br>
We should properly implement it…  Have the keys hard-coded is not very secure from my understanding.<br>
[/quote]</p>
<p>You have to hard-code the client (public) key, no other way to do that.</p>
<p>But, as you said, if the server (private) key is public, then this whole thing is useless, since anyone can use it to decrypt things.  So, ideally, the private key should be loaded from a file so the server administrator can load it (load a default key if the file doesn’t exist), then distribute a client with the public key.  (or I could have the client download the public key from a specific location…)</p>
<p>edit:<br>
Actually, I will add support in MoparScape for downloading the public key.  Just do the server-side stuff.</p>
<p>edit2:<br>
How would you generate a RSA keypair in the format the client’s use?  As in the string sent to BigInteger.[/quote]You can always send a key upon login, and have it unique for each user.  This way they’d have to do a man in the middle attack, and it would need to be re-done for each person.</p>
<p>You could get around this by using certificates delivered via SSL every so often (via the website, or automatically while playing the game).  This approach would add another level of security, because then their certificate would have to be hijacked, and we can essentially lock certificates to a specific network/machine.  The system I’m describing is somewhat like GitHub.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-31T00:25:40Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:39:54Z' class='post-time'>
              August 2, 2016,  3:39pm
            </time>
        <span itemprop='position'>#99</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here’s a keypair generator for you:</p>
<pre><code class="lang-auto">import java.security.KeyPair;
import java.security.KeyPairGenerator;

/**
 * Created by IntelliJ IDEA.
 * User: dloth
 * Date: 31/01/12
 * Time: 11:21 AM
 * To change this template use File | Settings | File Templates.
 */
public class KeyGenerator {
    
    public static void main(String[] args) throws Exception {
        KeyPairGenerator keyGen = KeyPairGenerator.getInstance("RSA");

        // Generate a key that is 2048 bits long
        RSAKeyGenParameterSpec spec = new RSAKeyGenParameterSpec(2048, RSAKeyGenParameterSpec.F4);
        keyGen.initialize(spec);
        KeyPair pair = keyGen.generateKeyPair();
        System.out.printf("Private key: %s\n\n", pair.getPrivate());
        System.out.printf("Public key: %s\n\n", pair.getPublic());
    }
}</code></pre>
<p>[quote=“CodeForFame, post:98, topic:394931”][quote author=Moparisthebest link=topic=492122.msg3903273#msg3903273 date=1327965560]</p>
<aside class="quote">
<blockquote>
<p>We should properly implement it…  Have the keys hard-coded is not very secure from my understanding.</p>
</blockquote>
</aside>
<p>You have to hard-code the client (public) key, no other way to do that.</p>
<p>But, as you said, if the server (private) key is public, then this whole thing is useless, since anyone can use it to decrypt things.  So, ideally, the private key should be loaded from a file so the server administrator can load it (load a default key if the file doesn’t exist), then distribute a client with the public key.  (or I could have the client download the public key from a specific location…)</p>
<p>edit:<br>
Actually, I will add support in MoparScape for downloading the public key.  Just do the server-side stuff.</p>
<p>edit2:<br>
How would you generate a RSA keypair in the format the client’s use?  As in the string sent to BigInteger.</p>
<p>[/quote]You can always send a key upon login, and have it unique for each user.  This way they’d have to do a man in the middle attack, and it would need to be re-done for each person.</p>
<p>You could get around this by using certificates delivered via SSL every so often (via the website, or automatically while playing the game).  This approach would add another level of security, because then their certificate would have to be hijacked, and we can essentially lock certificates to a specific network/machine.  The system I’m describing is somewhat like GitHub.[/quote]<br>
SSL certificates are bound to an IP address, not the machine. So it’s a possibility if the service being used for hosting offers multiple static IP addresses (one for general use, one for SSL usage).</p>
<p>With that said, there’s nothing wrong with using RSA like we have been. We just need to be careful with how we do it.</p>
<p>If you’re hosting the server on a linux box then create a new user to host it under, and create a file containing the private key and modulo. Give this file 0600 permissions and change its owner to the user that the server will run under so that only the user running the server has access to the file for reading and writing, and then set the JVM security manager using the command line (I think that’s possible with the -D argument?) so that it can’t be usurped by malicious code at runtime.<br>
It should be possible to set the security manager to throw an exception if somebody attempts to access that specific file. All you need to do then is have the security manager internally store the private key and modulo, and expose a public decryption function.<br>
Done and done. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-31T01:02:57Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:39:55Z' class='post-time'>
              August 2, 2016,  3:39pm
            </time>
        <span itemprop='position'>#100</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don’t think you need to worry about the server-side of it, if someone has access to the machine and the right user permissions they already have the key.  I also think, as to getting the public key, that I’ll probably just allow people to both paste the whole thing in as a parameter (if HTTP POST allows a variable that long), or provide a URL to a text file with the key in it.  This can be a torrent or even a HTTPS URL, which should be really hard to hi-jack.</p>
<p>I’m also still going to put the option in the client to send the hash of the password instead of the password in the first place, which I want the official Mopar Classic server to use.</p>
      </div>

      <meta itemprop='headline' content='Client &amp; Client Dev Here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="394931fdb0.html?page=4">← previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="394931c575.html?page=6">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/client-client-dev-here/394931?page=5 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 14:11:28 GMT -->
</html>
