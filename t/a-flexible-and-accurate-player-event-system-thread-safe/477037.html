<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/a-flexible-and-accurate-player-event-system-thread-safe/477037 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 08:52:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>A Flexible and Accurate Player Event System [Thread Safe] - Runescape - moparisthebest.com</title>
    <meta name="description" content="This will be a very beefy tutorial, make sure you read everything or you may be missing out on valuable information. 

Introduction With that out of the way I&amp;#39;m kinda proud, cause about two or three months ago I never th&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="477037.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;A Flexible and Accurate Player Event System [Thread Safe]&#39;" href="477037.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/a-flexible-and-accurate-player-event-system-thread-safe/477037" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/a-flexible-and-accurate-player-event-system-thread-safe/477037" />
<meta property="og:title" content="A Flexible and Accurate Player Event System [Thread Safe]" />
<meta name="twitter:title" content="A Flexible and Accurate Player Event System [Thread Safe]" />
<meta property="og:description" content="This will be a very beefy tutorial, make sure you read everything or you may be missing out on valuable information.  Introduction  With that out of the way I’m kinda proud, cause about two or three months ago I never thought that I could even attempt to make something of this manner. I basically made this because every task/event system I had used either had not met my expectations or wasn’t as flexible as I hoped. So I figured, why not design my own to meet my own needs?  I’m going to give you..." />
<meta name="twitter:description" content="This will be a very beefy tutorial, make sure you read everything or you may be missing out on valuable information.  Introduction  With that out of the way I’m kinda proud, cause about two or three months ago I never thought that I could even attempt to make something of this manner. I basically made this because every task/event system I had used either had not met my expectations or wasn’t as flexible as I hoped. So I figured, why not design my own to meet my own needs?  I’m going to give you..." />
<meta property="article:published_time" content="2012-12-30T05:35:15+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="4770374658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="477037.html">A Flexible and Accurate Player Event System [Thread Safe]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-30T05:35:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:58:24Z' class='post-time'>
              August 4, 2016,  1:58am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><span class="bbcode-b">This will be a very beefy tutorial, make sure you read everything or you may be missing out on valuable information.</span></p>
<p><span class="bbcode-u"><span class="bbcode-b">Introduction</span></span><br>
With that out of the way I’m kinda proud, cause about two or three months ago I never thought that I could even attempt to make something of this manner. I basically made this because every task/event system I had used either had not met my expectations or wasn’t as flexible as I hoped. So I figured, why not design my own to meet my own needs?</p>
<p>I’m going to give you all the code and explain how to add it and then explain everything later.</p>
<p><span class="bbcode-b"><span class="bbcode-u">The Event System</span></span></p>
<p><span class="bbcode-u">Event class</span><br>
This is basically a dynamic container class that holds data for an event. Or in simpler terms this class represents a single event.</p>
<p>[code=java]package server.event;</p>
<p>import server.rs2.players.Client;</p>
<p>/**</p>
<ul>
<li>
<p>Represents a single event</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> lare96<br>
*/<br>
public abstract class Event {</p>
<p>/**</p>
<ul>
<li>Amount of cycles before the event executes<br>
*/<br>
private int cycles;</li>
</ul>
<p>/**</p>
<ul>
<li>If the event is running<br>
*/<br>
private boolean running;</li>
</ul>
<p>/**</p>
<ul>
<li>Player the event is binded too<br>
*/<br>
private Client player;</li>
</ul>
<p>/**</p>
<ul>
<li>Amount of ticks this event holds<br>
*/<br>
public int ticks;</li>
</ul>
<p>/**</p>
<ul>
<li>Stop without executing ‘done()’<br>
*/<br>
private boolean stopNoExecute;</li>
</ul>
<p>/**</p>
<ul>
<li>Creates a new event<br>
*/<br>
public Event(int cycles, Client player) {<br>
setCycles(cycles);<br>
setRunning(true);<br>
setStopNoExecute(false);<br>
setPlayer(player);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Called on execution of the event<br>
*/<br>
protected abstract void event();</li>
</ul>
<p>/**</p>
<ul>
<li>Called whenever the ‘stop()’ method is invoked<br>
*/<br>
protected abstract void done();</li>
</ul>
<p>/**</p>
<ul>
<li>Stop the current event<br>
*/<br>
public void stop() {<br>
this.setRunning(false);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Stop the current event, do not execute ‘done()’<br>
*/<br>
public void stopNoExecute() {<br>
this.setRunning(false);<br>
this.setStopNoExecute(true);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="../../u/return.html">@return</a> the cycles<br>
*/<br>
public int getCycles() {<br>
return cycles;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="../../u/param.html">@param</a> cycles</li>
<li>
<pre><code>       the cycles to set
</code></pre>
</li>
</ul>
<p>*/<br>
public void setCycles(int cycles) {<br>
this.cycles = cycles;<br>
}</p>
<p>/**</p>
<ul>
<li>
<a class="mention" href="../../u/return.html">@return</a> the running<br>
*/<br>
public boolean isRunning() {<br>
return running;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="../../u/param.html">@param</a> running</li>
<li>
<pre><code>       the running to set
</code></pre>
</li>
</ul>
<p>*/<br>
public void setRunning(boolean running) {<br>
this.running = running;<br>
}</p>
<p>/**</p>
<ul>
<li>
<a class="mention" href="../../u/return.html">@return</a> the player<br>
*/<br>
public Client getPlayer() {<br>
return player;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="../../u/param.html">@param</a> player</li>
<li>
<pre><code>       the player to set
</code></pre>
</li>
</ul>
<p>*/<br>
public void setPlayer(Client player) {<br>
this.player = player;<br>
}</p>
<p>/**</p>
<ul>
<li>
<a class="mention" href="../../u/return.html">@return</a> the stopNoExecute<br>
*/<br>
public boolean isStopNoExecute() {<br>
return stopNoExecute;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="../../u/param.html">@param</a> stopNoExecute</li>
<li>
<pre><code>       the stopNoExecute to set
</code></pre>
</li>
</ul>
<p>*/<br>
public void setStopNoExecute(boolean stopNoExecute) {<br>
this.stopNoExecute = stopNoExecute;<br>
}<br>
}<br>
[/code]</p>
</li>
</ul>
<p><span class="bbcode-u">EventScheduler class</span><br>
Processes all events</p>
<p>[code=java]package server.event;</p>
<p>import java.util.ArrayList;<br>
import java.util.List;<br>
import java.util.concurrent.Executors;<br>
import java.util.concurrent.ScheduledExecutorService;<br>
import java.util.concurrent.TimeUnit;</p>
<p>/**</p>
<ul>
<li>
<p>The event scheduler which is processed by ScheduledExecutorService and runs</p>
</li>
<li>
<p>on its own thread is basically to manage and process all events</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> lare96<br>
*/<br>
public class EventScheduler implements Runnable {</p>
<p>/**</p>
<ul>
<li>The event scheduler<br>
*/<br>
private static EventScheduler instance;</li>
</ul>
<p>/**</p>
<ul>
<li>Scheduled executor service, used to process the event scheduler<br>
*/<br>
private final static ScheduledExecutorService processing = Executors<br>
.newSingleThreadScheduledExecutor();</li>
</ul>
<p>/**</p>
<ul>
<li>The status of the event scheduler, making this false will essentially</li>
<li>shut down the scheduler<br>
*/<br>
public static boolean running = true;</li>
</ul>
<p>/**</p>
<ul>
<li>List of active events instanced for every player<br>
*/<br>
public List active = new ArrayList();</li>
</ul>
<p>/**</p>
<ul>
<li>Starts the event scheduler<br>
*/<br>
public void start() {<br>
processing.scheduleAtFixedRate(this, 0, 600, TimeUnit.MILLISECONDS);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<p>Called every 600ms by ScheduledExecutorService, and processes all events.</p>
</li>
<li>
<p>This method should never be called directly or you will experience</p>
</li>
<li>
<p>exetreme timing issues.<br>
<em>/<br>
<a class="mention" href="../../u/override.html">@Override</a><br>
public void run() {<br>
try {<br>
/</em>*<br>
* If not running, shut down<br>
*/<br>
if (!running) {<br>
processing.shutdown();<br>
return;<br>
}</p>
<pre><code> /**
  * No elements, do not proceed with processing, why waste cpu time
  * looping through an empty array?
  */
 if (active.isEmpty()) {
 	return;
 }

 /**
  * Loop through all active events
  */
 for (int i = 0; i &lt; active.size(); i++) {
 	/**
 	 * To make sure no null objects are being processed
 	 */
 	if (active.get(i) == null) {
 		continue;
 	}

 	/**
 	 * Remove events that are no longer running
 	 */
 	if (!active.get(i).isRunning()) {

 		if (!active.get(i).isStopNoExecute()) {
 			active.get(i).done();
 		}

 		synchronized (active) {
 			active.remove(active.get(i));
 		}
 		return;
 	}

 	/**
 	 * Increase the events ticks by one
 	 */
 	synchronized (active.get(i)) {
 		active.get(i).ticks++;
 	}

 	/**
 	 * If enough ticks have passed, execute this event
 	 */
 	if (active.get(i).ticks == active.get(i).getCycles()
 			&amp;&amp; active.get(i).isRunning()) {
 		active.get(i).event();

 		synchronized (active.get(i)) {
 			active.get(i).ticks = 0;
 		}
 	}
 }
 /**
  * Error handling
  */
</code></pre>
<p>} catch (Exception e) {<br>
e.printStackTrace();<br>
}<br>
}</p>
</li>
</ul>
<p>/**</p>
<ul>
<li>Ends the event scheduler<br>
*/<br>
public static void end() {<br>
running = false;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<p>Gets the scheduler<br>
*/<br>
public static EventScheduler getSingleton() {<br>
if (instance == null) {<br>
instance = new EventScheduler();<br>
}</p>
<p>return instance;<br>
}<br>
}<br>
[/code]</p>
</li>
</ul>
</li>
</ul>
<p><span class="bbcode-u">Stopping events on logout</span><br>
Since our events are binded to a player, we can stop all events binded to a certain player. This means that we can stop all events for a player whenever we choose. This is extremely helpful because now we don’t have to check if the player has logged out on our events!</p>
<p>Add this method somewhere, preferably in your Client class:</p>
<p>[code=java]	/**<br>
* Stop all events for designated a player<br>
*<br>
* <a class="mention" href="../../u/param.html">@param</a> player<br>
*            the player to stop all events for<br>
*/<br>
public void stopAllEvents(Client player) {<br>
try {<br>
if (EventScheduler.getSingleton().active.isEmpty()) {<br>
return;<br>
}<br>
if (player == null) {<br>
return;<br>
}</p>
<pre><code>		for (int i = 0; i &lt; EventScheduler.getSingleton().active.size(); i++) {
			if (EventScheduler.getSingleton().active.get(i) == null) {
				continue;
			}

			if (EventScheduler.getSingleton().active.get(i).getPlayer() == player) {
				synchronized (EventScheduler.getSingleton().active.get(i)) {
					EventScheduler.getSingleton().active.get(i)
							.stopNoExecute();
				}
			}
		}
	} catch (Exception e) {
		e.printStackTrace();
	}
}
</code></pre>
<p>[/code]</p>
<p>Put this in your ‘logout()’ method</p>
<pre><code class="lang-auto"></code></pre>
<p><span class="bbcode-u">Starting the EventScheduler</span><br>
Open your Server class, and right under somewhere in “public static void main(java.lang.String args[]) {”</p>
<p><code>		/**
		 * Starts the event scheduler
		 */
		EventScheduler.getSingleton().start();</code></p>
<p><span class="bbcode-u">Submitting a new event</span><br>
Add this in your Server class</p>
<p>[code=java]        /**<br>
* Submits a new active event to the event scheduler to be processed and<br>
* later executed<br>
*<br>
* <a class="mention" href="../../u/param.html">@param</a> event<br>
*            the event to be submitted<br>
*/<br>
public void submit(Event event) {<br>
if (event.getPlayer() == null) {<br>
return;<br>
}</p>
<pre><code>	synchronized (EventScheduler.getSingleton().active) {
		EventScheduler.getSingleton().active.add(event);
	}
}[/code]
</code></pre>
<p><span class="bbcode-u"><span class="bbcode-b">How this works?</span></span><br>
A lot of the times people make useful things, but don’t explain how they work which can cause confusion (especially with inexperienced users).</p>
<p><span class="bbcode-i">The event class</span>: Represents a single event. Every time you submit a new event, you create a new Event object and it is added to the list of active events (Containing other Event objects).</p>
<p><span class="bbcode-i">The event scheduler class</span>: This is the engine. It executes events that need to be executed, and removes Events from the list of active events that have been flagged as no longer running. Without this events would not be able to be processed which would defeat the purpose of this whole thing.</p>
<p><span class="bbcode-i">So…</span></p>
<ol>
<li>An new Event object is added to the list of active events</li>
<li>The scheduler determines when that event needs to be executed</li>
<li>When it is time, the event executes, and depending on the event, it either stops (then the ‘done()’ method will execute) or its ticks are reset and it keeps looping.</li>
<li>If the event stops, it is flagged as not running</li>
<li>In the next cycle it is removed from the list of active events (because it was flagged as not running)</li>
</ol>
<p><span class="bbcode-u"><span class="bbcode-b">How do I use this?</span></span><br>
Trying to keep this short because I know I’m gonna hit the character limit. Lets start with the structure of an event:</p>
<p>[code=java]submit(new Event(THE DELAY IN TICKS!!, THE CLIENT OBJECT TO BIND THE EVENT TOO) {<br>
<a class="mention" href="../../u/override.html">@Override</a><br>
public void event() {<br>
// what will happen after the delay in ticks</p>
<pre><code>}

@Override
public void done() {
	// This is only called when the 'stop()' method is invoked

}
</code></pre>
<p>});[/code]</p>
<p>If you don’t know what the client object is, look at the examples below. So say I want to send a message to this player after 5 ticks (3000ms/3seconds), and right after I want the event to stop. Let’s also say this code was put in the Client class!</p>
<p>[code=java]sendMessage(“Hi, I’ll talk to you 5 ticks later dude!”);</p>
<p>submit(new Event(5, this) {<br>
<a class="mention" href="../../u/override.html">@Override</a><br>
public void event() {<br>
getPlayer().sendMessage(“Hi, It’s me again!”);<br>
stop();<br>
}</p>
<pre><code>@Override
public void done() {
	getPlayer().sendMessage("I've been stopped :(");
}
</code></pre>
<p>});[/code]</p>
<p><span class="bbcode-u">The result would be:</span><br>
“Hi, I’ll talk to you 5 ticks later dude!”<br>
<span class="bbcode-i">3 seconds later…</span><br>
“Hi, It’s me again!”<br>
“I’ve been stopped :(”</p>
<p><span class="bbcode-u"><span class="bbcode-b">Important</span></span><br>
A tick = 600ms<br>
We use “getPlayer().” to ensure that the effects of the event are happening to the player the event is bound too! This is optional! It won’t make a difference whether you decide to use that or not.<br>
Anything else I missed, post below</p>
<p><span class="bbcode-u"><span class="bbcode-b">Updates</span></span><br>
The first being that you cannot submit events with the Client Object being null, you also can also now not do <span class="bbcode-i">stopAllEvents(null)</span>.</p>
<p>I also had to re-write the <span class="bbcode-i">stopAllEvents</span> method because it was throwing a CurrentModificationException (stupid mistake on my part). There was also an issue with the method that it wouldn’t stop all the events, that’s been fixed.</p>
<p>I’ve added a new function to the Event class, this being <span class="bbcode-i">stopNoExecute</span>. This function serves the same purpose as the stop function (to stop the event) but it does not execute the done method.</p>
<p>This was not thread safe when first posted. I’ve applied the appropriate changes. Thanks Graham for your post on thread safety, and thanks for saifix from rune-server for notifying me!</p>
<p><span class="bbcode-u"><span class="bbcode-b">Thanks</span></span><br>
Graham<br>
Stuart<br>
Null++<br>
saifix<br>
imthenull<br>
oobe</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/PvPXile.html'><span itemprop='name'>PvPXile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-30T20:50:20Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:58:45Z' class='post-time'>
              August 4, 2016,  1:58am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Good job, good, neat use of comments and neat code.</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/drubrkletern.html'><span itemprop='name'>drubrkletern</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T02:47:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:58:54Z' class='post-time'>
              August 4, 2016,  1:58am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>looks nice gj</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k1ng0frs.html'><span itemprop='name'>k1ng0frs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T03:03:07Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:58:55Z' class='post-time'>
              August 4, 2016,  1:58am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well done Clawz</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/strucker.html'><span itemprop='name'>strucker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T03:25:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:58:56Z' class='post-time'>
              August 4, 2016,  1:58am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You keep impressing me with your work.<br>
Good job lare</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T03:41:45Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:58:57Z' class='post-time'>
              August 4, 2016,  1:58am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So if the <span class="bbcode-i">stopAllEvents</span> method is in the client class, why would you need the clients reference as a parameter??</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T04:16:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:59:00Z' class='post-time'>
              August 4, 2016,  1:59am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="477037">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/imthenull/40/1273_1.png" class="avatar"> imthenull:</div>
<blockquote>
<p>So if the <span class="bbcode-i">stopAllEvents</span> method is in the client class, why would you need the clients reference as a parameter??</p>
</blockquote>
</aside>
<p>I have a ‘World’ class which handles stuff like this, so I need that parameter. The code was obviously ripped from my server. Also:</p>
<aside class="quote" data-post="1" data-topic="477037">
<div class="title">
<div class="quote-controls"></div>
 Clawz fury:</div>
<blockquote>
<p>Add this method somewhere, <span class="bbcode-b">preferably</span> in your Client class:</p>
</blockquote>
</aside>
<p>It doesn’t have to be in the client class. I just said that so the inexperienced people using this tutorial wouldn’t get confused with anything <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T05:20:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:59:06Z' class='post-time'>
              August 4, 2016,  1:59am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Oh ok good. Your example you supplied is misleading.</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/thock321.html'><span itemprop='name'>thock321</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T17:42:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:59:29Z' class='post-time'>
              August 4, 2016,  1:59am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You could also check if the player is a null in the loop so if the player is, then stop the event.  That way if the logout method was somehow not executed, it would still stop the events, and you wouldn’t have to loop through the events more times than needed.</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T19:00:02Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:59:31Z' class='post-time'>
              August 4, 2016,  1:59am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="9" data-topic="477037">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/thock321/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> thock321:</div>
<blockquote>
<p>You could also check if the player is a null in the loop so if the player is, then stop the event.  That way if the logout method was somehow not executed, it would still stop the events, and you wouldn’t have to loop through the events more times than needed.</p>
</blockquote>
</aside>
<p>What if the event doesn’t require a player instance? Why would the <span class="bbcode-i">stopAllEvents</span> fail to execute? It doesn’t throw any exceptions</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T20:44:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:59:36Z' class='post-time'>
              August 4, 2016,  1:59am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“imthenull, post:10, topic:477037”][quote author=thock321 link=topic=595228.msg4192072#msg4192072 date=1356975768]<br>
You could also check if the player is a null in the loop so if the player is, then stop the event.  That way if the logout method was somehow not executed, it would still stop the events, and you wouldn’t have to loop through the events more times than needed.<br>
[/quote]<br>
What if the event doesn’t require a player instance? Why would the <span class="bbcode-i">stopAllEvents</span> fail to execute? It doesn’t throw any exceptions[/quote]<br>
Thanks a lot for this criticism guys its really getting me to think.</p>
<p><span class="mention">@thock</span>: I could do this, but I’m pretty sure it would throw a NullPointerException with what I’m about to reply</p>
<p><a class="mention" href="../../u/imthenull.html">@imthenull</a>: If the event doesn’t require a player instance, that would essentially make it a <span class="bbcode-b">global</span> event. The design of the system doesn’t really have support for global events, mainly because it was designed to be a player-bound event system. But, if you really wanted to make a periodically executing global task that <span class="bbcode-b">does not</span> need to be stopped using <span class="bbcode-i">stopAllEvents</span> you could do ~</p>
<p>[code=java]sendMessage(“An attempt at a global event!”);</p>
<p>submit(new Event(10, null) {<br>
<a class="mention" href="../../u/override.html">@Override</a><br>
public void event() {<br>
System.out.println(“You wouldn’t be able to use ‘getPlayer()’ because there is no player!”);<br>
}</p>
<pre><code>    @Override
    public void done() {
            // will never execute
    }
</code></pre>
<p>});[/code]</p>
<p>I’ve tried processing the whole server like this and it worked just fine. You would be able to stop individual global events by using the ‘stop()’ method but you wouldn’t be able to do <span class="bbcode-i">stopAllEvents(null)</span> mainly because I don’t think you can compare <span class="bbcode-i">null</span> values like that. I’m pretty sure it would result in a NullPointerException. But all in all I don’t think this should be used for global events. I’ll update the system.</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T21:15:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:59:39Z' class='post-time'>
              August 4, 2016,  1:59am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It should be used in a ‘global’ manor, and have a player extension. Having two event managers makes no sense. This is something I wrote a few months ago.</p>
<p>[code=java]package com.projectrsc.gameserver.event;</p>
<p>public interface TaskEvent {</p>
<pre><code>/**
 * @return Whether or not the game engine should invoke &lt;code&gt;execute&lt;/code&gt;
 */
public boolean satisfied();

/**
 * @return Whether or not the game engine should remove this listener from
 *         it's queue
 */
public boolean remove();

/**
 * Invoked when &lt;code&gt;satisfy&lt;/code&gt; returns true, when the game engine
 * processes this listener
 */
public void handle();
</code></pre>
<p>}[/code]</p>
<p>[code=java]package com.projectrsc.gameserver.event.detail;</p>
<p>import com.projectrsc.gameserver.event.TaskEvent;</p>
<p>/**</p>
<ul>
<li>An event listener that will invoke <code>run</code> only once, when the game</li>
<li>engine processes this listener</li>
<li>
</li>
<li>
<span class="mention">@author</span> Hikilaka</li>
<li>
</li>
</ul>
<p>*/<br>
public abstract class OneTimeEvent implements TaskEvent {</p>
<pre><code>    @Override
    public boolean satisfied() {
            return true;
    }

    @Override
    public boolean remove() {
            return true;
    }

    @Override
    public void handle() {
            run();
    }

    public abstract void run();
</code></pre>
<p>}[/code]</p>
<p>[code=java]package com.projectrsc.gameserver.event.detail;</p>
<p>import com.projectrsc.gameserver.event.TaskEvent;</p>
<p>/**</p>
<ul>
<li>A <code>TaskEvent</code> that will invoke <code>run</code> every time the</li>
<li>delay has passed. The task will be removed from the game engine queue once</li>
<li>
<code>running</code> has been set to <code>false</code>
</li>
<li>
</li>
<li>
<span class="mention">@author</span> Hikilaka</li>
<li>
</li>
</ul>
<p>*/<br>
public abstract class RecurringEvent implements TaskEvent {</p>
<pre><code>    private final int delay;

    private long lastRun;

    protected boolean running = true;

    public RecurringEvent(int delay) {
            this.lastRun = System.currentTimeMillis();
            this.delay = delay;
    }

    @Override
    public boolean satisfied() {
            long now = System.currentTimeMillis();
            return (now - lastRun) &gt;= delay;
    }

    @Override
    public boolean remove() {
            return !running;
    }

    @Override
    public void handle() {
            run();
            lastRun = System.currentTimeMillis();
    }

    public abstract void run();
</code></pre>
<p>}[/code]</p>
<p>Notice how I expanded upon the TaskEvent interface, this is the key to unifying an event system. Although I never wrote a player event, I’m sure you can elaborate.</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-31T22:27:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:59:43Z' class='post-time'>
              August 4, 2016,  1:59am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks, although I wish I saw that before I made the updates I made :mad:</p>
<p>I’ve made some updates, which involve every single part of this tutorial.</p>
<p>The first being that you cannot submit events with the Client Object being null, you also can also now not do <span class="bbcode-i">stopAllEvents(null)</span>.</p>
<p>I also had to re-write the <span class="bbcode-i">stopAllEvents</span> method because it was throwing a CurrentModificationException (stupid mistake on my part). There was also an issue with the method that it wouldn’t stop all the events, that’s been fixed.</p>
<p>I’ve added a new function to the Event class, this being <span class="bbcode-i">stopNoExecute</span>. This function serves the same purpose as the stop function (to stop the event) but it does not execute the done method.</p>
<p>Eg:</p>
<p>[code=java]World.getWorld().submit(new Event(10, player) {<br>
<a class="mention" href="../../u/override.html">@Override</a><br>
protected void event() {<br>
getPlayer().sendMessage(“hi i just executed!”);<br>
stopNoExecute();</p>
<pre><code>}

@Override
protected void done() {
	getPlayer().sendMessage("hi i just stopped!");
}
</code></pre>
<p>});[/code]</p>
<p>Result would be:</p>
<p><span class="bbcode-i">Event submitted…</span><br>
<span class="bbcode-i">10 ticks later…</span><br>
“hi i just executed!”</p>
<p>You would not see “hi i just stopped!” because we used stopNoExecute()</p>
<p>Next time I make an update I’ll keep the design in thought more.</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/thock321.html'><span itemprop='name'>thock321</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-01T04:49:51Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:00:04Z' class='post-time'>
              August 4, 2016,  2:00am
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“imthenull, post:10, topic:477037”][quote author=thock321 link=topic=595228.msg4192072#msg4192072 date=1356975768]<br>
You could also check if the player is a null in the loop so if the player is, then stop the event.  That way if the logout method was somehow not executed, it would still stop the events, and you wouldn’t have to loop through the events more times than needed.<br>
[/quote]<br>
What if the event doesn’t require a player instance? Why would the <span class="bbcode-i">stopAllEvents</span> fail to execute? It doesn’t throw any exceptions[/quote]<br>
stopAllEvents wouldn’t fail to execute, the <span class="bbcode-i"><span class="bbcode-u"><span class="bbcode-b">logout method</span></span></span> could.</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-01T05:15:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:00:06Z' class='post-time'>
              August 4, 2016,  2:00am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="14" data-topic="477037">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/thock321/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> thock321:</div>
<blockquote>
<p>stopAllEvents wouldn’t fail to execute, the <span class="bbcode-i"><span class="bbcode-u"><span class="bbcode-b">logout method</span></span></span> could.</p>
</blockquote>
</aside>
<p>Never thought of this, thank you. I’ll make some changes.</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-01T18:42:02Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:00:41Z' class='post-time'>
              August 4, 2016,  2:00am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“thock321, post:14, topic:477037”][quote author=imthenull link=topic=595228.msg4192098#msg4192098 date=1356980402]</p>
<aside class="quote">
<blockquote>
<p>You could also check if the player is a null in the loop so if the player is, then stop the event.  That way if the logout method was somehow not executed, it would still stop the events, and you wouldn’t have to loop through the events more times than needed.</p>
</blockquote>
</aside>
<p>What if the event doesn’t require a player instance? Why would the <span class="bbcode-i">stopAllEvents</span> fail to execute? It doesn’t throw any exceptions<br>
[/quote]<br>
stopAllEvents wouldn’t fail to execute, the <span class="bbcode-i"><span class="bbcode-u"><span class="bbcode-b">logout method</span></span></span> could. [/quote]<br>
Fair enough but if your source is so unstable it can’t handle a simple logout request, you should just move it to the trash now…</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-01T20:12:52Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:00:48Z' class='post-time'>
              August 4, 2016,  2:00am
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="16" data-topic="477037">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/imthenull/40/1273_1.png" class="avatar"> imthenull:</div>
<blockquote>
<p>Fair enough but if your source is so unstable it can’t handle a simple logout request, you should just move it to the trash now…</p>
</blockquote>
</aside>
<p>lol</p>
<p>gonna make a whole new system, when I’m making this a lot more thought it going to be put into the overall design of the system</p>
<p>porbably not gonna release but im gonna ask a few people how i can improve on it once im finished</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/thock321.html'><span itemprop='name'>thock321</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-02T07:47:58Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:01:32Z' class='post-time'>
              August 4, 2016,  2:01am
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“imthenull, post:16, topic:477037”][quote author=thock321 link=topic=595228.msg4192464#msg4192464 date=1357015791]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>You could also check if the player is a null in the loop so if the player is, then stop the event.  That way if the logout method was somehow not executed, it would still stop the events, and you wouldn’t have to loop through the events more times than needed.</p>
</blockquote>
</aside>
<p>What if the event doesn’t require a player instance? Why would the <span class="bbcode-i">stopAllEvents</span> fail to execute? It doesn’t throw any exceptions</p>
</blockquote>
</aside>
<p>stopAllEvents wouldn’t fail to execute, the <span class="bbcode-i"><span class="bbcode-u"><span class="bbcode-b">logout method</span></span></span> could.<br>
[/quote]<br>
Fair enough but if your source is so unstable it can’t handle a simple logout request, you should just move it to the trash now…[/quote]<br>
It’s called a fail-safe.  Also, this doesn’t have anything to do with how stable my source is, so you should just move yourself to the trash now.</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-02T15:31:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:01:40Z' class='post-time'>
              August 4, 2016,  2:01am
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="18" data-topic="477037">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/thock321/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> thock321:</div>
<blockquote>
<p>It’s called a fail-safe.  Also, this doesn’t have anything to do with how stable my source is, so you should just move yourself to the trash now.</p>
</blockquote>
</aside>
<p>ur garbage bro</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-03T06:11:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:02:11Z' class='post-time'>
              August 4, 2016,  2:02am
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“imthenull, post:19, topic:477037”][quote author=thock321 link=topic=595228.msg4193173#msg4193173 date=1357112878]<br>
It’s called a fail-safe.  Also, this doesn’t have anything to do with how stable my source is, so you should just move yourself to the trash now.<br>
[/quote]<br>
ur garbage bro[/quote]<br>
no fighting now u guys r both cool and r 1 of the few people here who actually know what they’re doing feel special</p>
<p>ii, this is outdated and isn’t that great. I have a better version that I’m improving on though that I won’t be releasing.</p>
      </div>

      <meta itemprop='headline' content='A Flexible and Accurate Player Event System [Thread Safe]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="4770374658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/a-flexible-and-accurate-player-event-system-thread-safe/477037 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 08:52:41 GMT -->
</html>
