<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>My new forum script</title>
    <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275</link>
    <description>Version: Uncutweb Beta 3 (http://www.uncutweb.com)

Details: I kinda gave up on Uncutweb beta 2 for a while then decided to continue working on it.


Uncutweb beta 3 uses my new professional CSS only layout. Some pages are still in beta 2 which use a table. (ex. members list page)


Help me out by posting any security issues you come across or ways to improve it.

I will be referring to this topic for answers to any questions I may have.

[u][b]My Unanswered Questions:[/b][/u]
1. How do I order the topics by last date posted in?
2. Why does the date on my website change when I change the clock on my computer, even though the timezone is set to EST?


Website: http://www.uncutweb.com</description>
    
    <lastBuildDate>Mon, 23 Feb 2009 22:38:04 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@runescape3dude runescape3dude]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runescape3dude">@runescape3dude</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">$dP = $_GET['dP'];
showResults($dP);
function showResults($dP) {
for($dP = $dP*5;$dP == $dP*5-5;$dP--) {
//mysql stuff here eg select from results where resultid=$dp 
}
}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/35">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/35</link>
        <pubDate>Mon, 23 Feb 2009 22:38:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-35</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>[quote=“runescape3dude, post:32, topic:258275”]Your forums are vBulletin…</p>
<p><code>
Powered by vBulletin® Version 3.8.1
Copyright ©2000 - 2009, Jelsoft Enterprises Ltd. </code>[/quote]</p>
<p>Wow thats really helpful to me? I obviously don’t have it online anymore?[br][br][size=1]Posted on: February 19, 2009, 07:54:54 pm[/size][hr]Well I know this…</p>
<p>Whatever $y is. Is how many results are displayed. But I don’t know how to make $y display lets say results 1-5 on one page and 6-11 on another.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/34">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/34</link>
        <pubDate>Thu, 19 Feb 2009 19:46:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-34</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@ric914 ric914]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ric914">@ric914</a> wrote:</p>
          <blockquote>
              <p>[quote=“runescape3dude, post:32, topic:258275”]Your forums are vBulletin…</p>
<p><code>
Powered by vBulletin® Version 3.8.1
Copyright ©2000 - 2009, Jelsoft Enterprises Ltd. </code>[/quote]<br>
That’s because it is vbulletin.</p>
<p>Quote from his site.</p>
<blockquote>I made the switch back to vBulletin because of it's stability.
<p>Uncutweb is now a website for programming and web design. So if your interested in creating pictures, designing websites, or just posting on forums, this is the place for you!</p>
</blockquote>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/33">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/33</link>
        <pubDate>Thu, 19 Feb 2009 10:56:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-33</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@runescape3dude runescape3dude]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runescape3dude">@runescape3dude</a> wrote:</p>
          <blockquote>
              <p>Your forums are vBulletin…</p>
<p><code>
Powered by vBulletin® Version 3.8.1
Copyright ©2000 - 2009, Jelsoft Enterprises Ltd. </code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/32">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/32</link>
        <pubDate>Thu, 19 Feb 2009 08:19:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-32</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>Yeah but I’m saying his thing doesn’t work well with like any pagination that I know of…</p>
<p>Here it is without my attempt on pagination</p>
<p>[code]&lt;?php<br>
$forum_name = ‘<a href="http://Uncutweb.com" rel="nofollow noopener">Uncutweb.com</a>’;<br>
$forum_desc = ‘Discussion about updates or anything related to the site.’;<br>
$table = ‘topics’;//Table name here<br>
$limit = 1;//Limit of results here</p>
<p>$totalrows = mysql_num_rows(mysql_query(“SELECT id FROM topics WHERE forum=$getforum and important=0”));//Get the total rows of the table</p>
<p>/* check if forum exits <em>/<br>
if (mysql_fetch_row(mysql_query(“SELECT * FROM forums WHERE id = ‘$getforum’”))) {<br>
/<em>Get forum title</em>/<br>
if (mysql_fetch_row(mysql_query(“SELECT * FROM forums WHERE id = ‘$getforum’”))) {<br>
$getforuminfo = mysql_query(“SELECT * FROM forums WHERE id = ‘$getforum’”);<br>
if (!$getforuminfo) {<br>
echo 'Could not run query: ’ . mysql_error();<br>
exit;<br>
}<br>
}<br>
$foruminfo = mysql_fetch_row($getforuminfo);<br>
/</em>**** END ******/</p>
<p>$countrows = mysql_query(“SELECT * FROM topics WHERE forum=’$getforum’”);<br>
$numofrows = mysql_num_rows($countrows);</p>
<p>function sortThreadsByLatestPost($forum)<br>
{<br>
// First of all get all the posts that are on the board/subject… Whatever you call it.<br>
$postsQuery = mysql_query(“SELECT * FROM <code>posts</code> WHERE <code>forum</code> = ‘$forum’ ORDER BY <code>id</code> DESC”);</p>
<pre><code>$threadsArray = array();
</code></pre>
<p>// Loop through them all<br>
while( $postsArray = mysql_fetch_array($postsQuery) )<br>
{<br>
// Now create an array that only contains each thread/topic id once, orderd by the latest post first.<br>
if( !in_array($postsArray[‘topic’], $threadsArray) )<br>
{<br>
$threadsArray[] = $postsArray[‘topic’];<br>
}<br>
}<br>
// Return the array of all the id’s<br>
return $threadsArray;<br>
}</p>
<p>$threadsIdArray =  sortThreadsByLatestPost($getforum);//$getforum = Forum ID</p>
<p>// How many threads to be listed pert page?<br>
$threadsToDisplay = $limit;</p>
<p>$x = 0;<br>
$y = $threadsToDisplay * ($uncutweb_com + 1);</p>
<p>echo"</p><h1>
<span>";if (empty($_SESSION[username])){echo"<a href="/accounts/login.php">Login to Post</a>";}else{if($urlrewrite2 == true){echo"<a href="/forums/newtopic/%24getforum.html">Post New Topic</a>";}else{echo"<a href="/forums/newtopic.php?forum=%24getforum">Post New Topic</a>";}}echo"</span>$forum_name</h1>";<br>
echo’
<div>
<h2>' . $foruminfo[1] . '</h2>
<span></span>';
<p>while( $x &lt; $y )<br>
{<br>
$threadQuery = mysql_query(“SELECT * FROM <code>topics</code> WHERE <code>id</code> = '”.$threadsIdArray[$x] ."’");<br>
$threadArray = mysql_fetch_assoc($threadQuery);<br>
$urlsubject=str_replace(" “, “-”, $threadArray[‘subject’]);<br>
$urlsubject = ereg_replace(”[^A-Za-z0-9-]", “”, $urlsubject);</p>
<p>/*    echo "<br>
<strong>Id</strong>: {$threadArray[‘id’]}<br><br>
<strong>Name</strong>: {$threadArray[‘subject’]}<br><br>
<strong>Date</strong>: {$threadArray[‘date’]}<br><br>
<strong>Topic Starter:</strong>: {$threadArray[‘poster’]}<br><br>
<strong>Last Post</strong>: {$postsQuery[‘poster’]}<br><br>
</p>
<hr>\n";*/<br>
echo’
<div>
<div>
Topic Starter:<br><a>' . $threadArray['poster'] . '</a>
</div>
<div>';
   if($urlrewrite == true){
   echo '<a>' . $threadArray['subject'] . '</a><br>' . $threadArray['date'] . '';
   } else {
   echo '<a>' . $threadArray['subject'] . '</a><br>' . $threadArray['date'] . '';
   }
echo'
</div>
</div>';
<pre><code>$x++;
</code></pre>
<p>}</p>
<p>echo’</p>
</div>’;
<p>} /* END check if forum exists */<br>
else<br>
{<br>
header( ‘Location: /forums/’);<br>
}</p>
<p>echo"</p><h1>
<span>";if (empty($_SESSION[username])){echo"<a href="/accounts/login.php">Login to Post</a>";}else{if($urlrewrite2 == true){echo"<a href="/forums/newtopic/%24getforum.html">Post New Topic</a>";}else{echo"<a href="/forums/newtopic.php?forum=%24getforum">Post New Topic</a>";}}echo"</span>$forum_name</h1>";<br>
?&gt;[/code]
<p>You see what I mean now?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/31">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/31</link>
        <pubDate>Thu, 19 Feb 2009 02:39:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-31</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@Pwnd Pwnd]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pwnd">@Pwnd</a> wrote:</p>
          <blockquote>
              <p>Then you really need to look back and review the basics.  I wouldn’t know how anyone could get by without functions…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/30">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/30</link>
        <pubDate>Thu, 19 Feb 2009 02:37:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-30</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>I have no clue how to use functions at all. Or where to put them. Anything else I seem to be ok in. Anyway thats kinda off-topic.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/29">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/29</link>
        <pubDate>Thu, 19 Feb 2009 02:36:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-29</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@Pwnd Pwnd]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pwnd">@Pwnd</a> wrote:</p>
          <blockquote>
              <p>A month’s time is a while?</p>
<p>I don’t think you have firmly grasped the basics of PHP if that looks like gibberish to you.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/28">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/28</link>
        <pubDate>Thu, 19 Feb 2009 02:34:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-28</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>Honestly that looks like gibberish to me.</p>
<p>Would that go in the place of?</p>
<p>while( $x &lt; $y )<br>
{</p>
<p>I’m really rusty right now as I haven’t looked at a php file in a pretty long time now.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/27">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/27</link>
        <pubDate>Thu, 19 Feb 2009 02:32:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-27</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@Pwnd Pwnd]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pwnd">@Pwnd</a> wrote:</p>
          <blockquote>
              <p>[code]while ($item = mysql_fetch_array($sqlQuery1, MYSQL_ASSOC))<br>
$arr[] = $item;</p>
<pre><code>$paginate = new Paginated($arr, $layoutResultsPerPage, (int)$page);

$paginate-&gt;setLayout(new DoubleBarLayout());
echo $paginate-&gt;fetchPagedNavigation('p=someshit');
</code></pre>
<p>[/code]</p>
<p>Works.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/26">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/26</link>
        <pubDate>Thu, 19 Feb 2009 02:29:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-26</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>Yeah but look at OnlyOneRule’s query. All the tuts online just simply don’t wanna work with it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/25">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/25</link>
        <pubDate>Thu, 19 Feb 2009 02:25:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-25</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@Pwnd Pwnd]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pwnd">@Pwnd</a> wrote:</p>
          <blockquote>
              <p>[code]I forgot where I got this, but here’s one I use:</p>
<p>[code]&lt;?<br>
/**</p>
<ul>
<li>The intention of the Paginated class is to manage the iteration of records</li>
<li>based on a specified page number usually addressed by a get parameter in the query string</li>
<li>and to use a layout interface to produce number pages based on the amount of elements<br>
*/</li>
</ul>
<p>require_once “PageLayout.php”;</p>
<p>class Paginated {</p>
<pre><code>private $rs;                  			//result set
private $pageSize;                      //number of records to display
private $pageNumber;                    //the page to be displayed
private $rowNumber;                     //the current row of data which must be less than the pageSize in keeping with the specified size
private $offSet;
private $layout;

function __construct($obj, $displayRows = 10, $pageNum = 1) {
	$this-&gt;url = $url;
	$this-&gt;setRs($obj);
	$this-&gt;setPageSize($displayRows);
	$this-&gt;assignPageNumber($pageNum);
	$this-&gt;setRowNumber(0);
	$this-&gt;setOffSet(($this-&gt;getPageNumber() - 1) * ($this-&gt;getPageSize()));
}

//implement getters and setters
public function setOffSet($offSet) {
	$this-&gt;offSet = $offSet;
}

public function getOffSet() {
	return $this-&gt;offSet;
}


public function getRs() {
	return $this-&gt;rs;
}

public function setRs($obj) {
	$this-&gt;rs = $obj;
}

public function getPageSize() {
	return $this-&gt;pageSize;
}

public function setPageSize($pages) {
	$this-&gt;pageSize = $pages;
}

//accessor and mutator for page numbers
public function getPageNumber() {
	return $this-&gt;pageNumber;
}

public function setPageNumber($number) {
	$this-&gt;pageNumber = $number;
}

//fetches the row number
public function getRowNumber() {
	return $this-&gt;rowNumber;
}

public function setRowNumber($number) {
	$this-&gt;rowNumber = $number;
}

public function fetchNumberPages() {
	if (!$this-&gt;getRs()) {
		return false;
	}
	
	$pages = ceil(count($this-&gt;getRs()) / (float)$this-&gt;getPageSize());
	return $pages;
}

//sets the current page being viewed to the value of the parameter
public function assignPageNumber($page) {
	if(($page &lt;= 0) || ($page &gt; $this-&gt;fetchNumberPages()) || ($page == "")) {
		$this-&gt;setPageNumber(1);
	}
	else {
		$this-&gt;setPageNumber($page);
	}
	//upon assigning the current page, move the cursor in the result set to (page number minus one) multiply by the page size
	//example  (2 - 1) * 10
}

public function fetchPagedRow() {
	if((!$this-&gt;getRs()) || ($this-&gt;getRowNumber() &gt;= $this-&gt;getPageSize())) {
		return false;
	}

	$this-&gt;setRowNumber($this-&gt;getRowNumber() + 1);
	$index = $this-&gt;getOffSet();
	$this-&gt;setOffSet($this-&gt;getOffSet() + 1);
	return $this-&gt;rs[$index];
}

public function isFirstPage() {
	return ($this-&gt;getPageNumber() &lt;= 1);
}

public function isLastPage() {
	return ($this-&gt;getPageNumber() &gt;= $this-&gt;fetchNumberPages());
}

/**
 * &lt;description&gt;
 * @return PageLayout &lt;description&gt;
 */
public function getLayout() {
	return $this-&gt;layout;
}

/**
 * &lt;description&gt;
 * @param PageLayout &lt;description&gt;
 */
public function setLayout(PageLayout $layout) {
	$this-&gt;layout = $layout;
}

//returns a string with the base navigation for the page
//if queryVars are to be added then the first parameter should be preceeded by a ampersand
public function fetchPagedNavigation($queryVars = "") {
	return $this-&gt;getLayout()-&gt;fetchPagedLinks($this, $queryVars, $url);
}//end writeNavigation
</code></pre>
<p>}//end Paginated<br>
?&gt;[/code]</p>
<pre><code class="lang-auto">&lt;?
/**
 * The interface which specifies the behaviour all page layout classes must implement
 * PageLayout is a part of Paginated and can reference programmer defined layouts
 */

interface PageLayout {
	public function fetchPagedLinks($parent, $queryVars);
}
?&gt;</code></pre>
<p>[code]&lt;?php<br>
class DoubleBarLayout implements PageLayout {</p>
<pre><code>public function fetchPagedLinks($parent, $queryVars) {

	$currentPage = $parent-&gt;getPageNumber();
	$str = "&lt;div style=\"text-align:right;\"&gt;";

	if(!$parent-&gt;isFirstPage()) {
		if($currentPage != 1 &amp;&amp; $currentPage != 2 &amp;&amp; $currentPage != 3) {
				$str .= "&lt;a href='?$queryVars&amp;page=1' title='Start'&gt;First&lt;/a&gt; &amp;lt; ";
		}
	}

	//write statement that handles the previous and next phases
   	//if it is not the first page then write previous to the screen
	if(!$parent-&gt;isFirstPage()) {
		$previousPage = $currentPage - 1;
		$str .= "&lt;a href=\"?$queryVars&amp;page=$previousPage\"&gt;&amp;lt; previous&lt;/a&gt; ";
	}

	for($i = $currentPage - 2; $i &lt;= $currentPage + 2; $i++) {
		//if i is less than one then continue to next iteration		
		if($i &lt; 1) {
			continue;
		}

		if($i &gt; $parent-&gt;fetchNumberPages()) {
			break;
		}

		if($i == $currentPage) {
			$str .= "&lt;i&gt;Page $i&lt;/i&gt;";
		}
		else {
			$str .= "&lt;a href=\"?$queryVars&amp;page=$i\"&gt;$i&lt;/a&gt;";
		}
		($i == $currentPage + 2 || $i == $parent-&gt;fetchNumberPages()) ? $str .= " " : $str .= " | ";              //determine if to print bars or not
	}//end for

	if (!$parent-&gt;isLastPage()) {
		if($currentPage != $parent-&gt;fetchNumberPages() &amp;&amp; $currentPage != $parent-&gt;fetchNumberPages() -1 &amp;&amp; $currentPage != $parent-&gt;fetchNumberPages() - 2)
		{
			$str .= " &amp;gt; &lt;a href=\"?$queryVars&amp;page=".$parent-&gt;fetchNumberPages()."\" title=\"Last\"&gt;Last(".$parent-&gt;fetchNumberPages().") &lt;/a&gt;";
		}
	}

	if(!$parent-&gt;isLastPage()) {
		$nextPage = $currentPage + 1;
		$str .= "&lt;a href=\"?$queryVars&amp;page=$nextPage\"&gt;next &amp;gt;&lt;/a&gt;";
	}
	$str .= '&lt;/div&gt;';
	return $str;
}
</code></pre>
<p>}<br>
?&gt;[/code]</p>
<p>The last paste there is an example of how it works.  You can have it display the pages anyway you like by creating a new class that implements that interface.[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/24</link>
        <pubDate>Thu, 19 Feb 2009 02:18:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-24</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>I want to continue working on it. Does anyone know a pagination tut that works with this kind of mysql query. Like none of them that I found works at all with it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/23">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/23</link>
        <pubDate>Thu, 19 Feb 2009 01:32:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-23</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@Pwnd Pwnd]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pwnd">@Pwnd</a> wrote:</p>
          <blockquote>
              <p>I guess you gave up there, heh.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/22">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/22</link>
        <pubDate>Mon, 09 Feb 2009 05:50:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-22</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@Efilite Efilite]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/efilite">@Efilite</a> wrote:</p>
          <blockquote>
              <p>Vbulletin is your script, I think not.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/21</link>
        <pubDate>Sat, 07 Feb 2009 20:09:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-21</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>Yeah that doesn’t have to do anything with my problem though. There are 4 topics, I set it to 1 so there would be 4 pages of topics. Which 4 pages come up. One has the first topic, the next 3 don’t have any topics.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/20</link>
        <pubDate>Fri, 30 Jan 2009 20:21:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-20</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>I wouldn’t know how to make that select the last post of that topic.<br>
[br][br][size=1]Posted on: January 27, 2009, 03:25:12 pm[/size][hr]I also can’t seem to get my pagination script to work right.</p>
<p>[code=php]</p>
&lt;?php 
$forum_name = 'Uncutweb.com';
$forum_desc = 'Discussion about updates or anything related to the site.';
$table = 'topics';//Table name here
$limit = 1;//Limit of results here


$totalrows = mysql_num_rows(mysql_query("SELECT id FROM topics WHERE forum=$getforum and important=0"));//Get the total rows of the table




/* check if forum exits */
if (mysql_fetch_row(mysql_query("SELECT * FROM forums WHERE id = '$getforum'"))) {
/*Get forum title*/
if (mysql_fetch_row(mysql_query("SELECT * FROM forums WHERE id = '$getforum'"))) {
$getforuminfo = mysql_query("SELECT * FROM forums WHERE id = '$getforum'");
if (!$getforuminfo) {
    echo 'Could not run query: ' . mysql_error();
    exit;
}
}
$foruminfo = mysql_fetch_row($getforuminfo);
/***** END ******/


$countrows = mysql_query("SELECT * FROM topics WHERE forum='$getforum'");
$numofrows = mysql_num_rows($countrows);

function sortThreadsByLatestPost($forum)
{
    // First of all get all the posts that are on the board/subject.. Whatever you call it.
    $postsQuery = mysql_query("SELECT * FROM `posts` WHERE `forum` = '$forum' ORDER BY `id` DESC");

    $threadsArray = array();

// Loop through them all
    while( $postsArray = mysql_fetch_array($postsQuery) )
    {
        // Now create an array that only contains each thread/topic id once, orderd by the latest post first.
        if( !in_array($postsArray['topic'], $threadsArray) )
        {
            $threadsArray[] = $postsArray['topic'];
        }
    }
    // Return the array of all the id's
    return $threadsArray;
}


$threadsIdArray =  sortThreadsByLatestPost($getforum);//$getforum = Forum ID

// How many threads to be listed pert page?
$threadsToDisplay = $limit;

$x = $threadsToDisplay * $uncutweb_com;
$y = $threadsToDisplay * ($uncutweb_com + 1);



if(empty($page))//If the page is empty
{
  $page = '1';//sets the page to 1
};

$totalpages = $totalrows / $limit;//Gets the totalpages
$totalpages = ceil($totalpages);//rounds them to the bigger number, so if the limit is 10 and there are 11 results it will show 2 paegs instead of 1 :)

if($page &gt; $totalpages){$page = $totalpages;$actualpage = $page;}

$start = ($page-1)*$limit;//set the start page
$start = round($start,0);//rounds it 

include ($rootaccess."pagination/pagination_display.php");
echo"<h1>
<span>";if (empty($_SESSION[username])){echo"<a href="/accounts/login.php">Login to Post</a>";}else{if($urlrewrite2 == true){echo"<a href="/forums/newtopic/%24getforum.html">Post New Topic</a>";}else{echo"<a href="/forums/newtopic.php?forum=%24getforum">Post New Topic</a>";}}echo"</span>$forum_name</h1>";
echo'
<div>
<h2>' . $foruminfo[1] . '</h2>
<span></span>';

while( $x &lt; $y )
{
    $threadQuery = mysql_query("SELECT * FROM `topics` WHERE `id` = '".$threadsIdArray[$x] ."' LIMIT $start, $limit");
    $threadArray = mysql_fetch_assoc($threadQuery);
	$urlsubject=str_replace(" ", "-", $threadArray['subject']); 
	$urlsubject = ereg_replace("[^A-Za-z0-9-]", "", $urlsubject);

/*    echo "
    <strong>Id</strong>: {$threadArray['id']}<br>
    <strong>Name</strong>: {$threadArray['subject']}<br>
    <strong>Date</strong>: {$threadArray['date']}<br>
	<strong>Topic Starter:</strong>: {$threadArray['poster']}<br>
	<strong>Last Post</strong>: {$postsQuery['poster']}<br>
    <hr>\n";*/
echo'
<div>
<div>
Topic Starter:<br><a>' . $threadArray['poster'] . '</a>
</div>
<div>';
   if($urlrewrite == true){
   echo '<a>' . $threadArray['subject'] . '</a><br>' . $threadArray['date'] . '';
   } else {
   echo '<a>' . $threadArray['subject'] . '</a><br>' . $threadArray['date'] . '';
   }
echo'
</div>
</div>';
	

    $x++;
}

echo'</div>';

} /* END check if forum exists */
else
{
header( 'Location: /forums/');
}

echo"<h1>
<span>";if (empty($_SESSION[username])){echo"<a href="/accounts/login.php">Login to Post</a>";}else{if($urlrewrite2 == true){echo"<a href="/forums/newtopic/%24getforum.html">Post New Topic</a>";}else{echo"<a href="/forums/newtopic.php?forum=%24getforum">Post New Topic</a>";}}echo"</span>$forum_name</h1>";
?&gt;[/code]
<p>I got it to show one result on the first page, but on the next 3 pages it won’t show any results.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/19</link>
        <pubDate>Tue, 27 Jan 2009 20:53:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-19</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@Unhandled Unhandled]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/unhandled">@Unhandled</a> wrote:</p>
          <blockquote>
              <p>Not to nitpick your code, but why not do<br>
$userQuery = mysql_query(“SELECT <code>username</code> FROM <code>users</code> WHERE <code>id</code> = '”. (int)$id ."’");<br>
instead of<br>
$userQuery = mysql_query(“SELECT * FROM <code>users</code> WHERE <code>id</code> = '”. (int)$id ."’");</p>
<p>Also, you don’t really need to cast to an int, do you?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/18</link>
        <pubDate>Tue, 27 Jan 2009 20:20:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-18</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>I want to get the results from the last post in the topic not the poster.</p>
<p>And yeah I just never could understand functions at all.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/17</link>
        <pubDate>Tue, 27 Jan 2009 19:56:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-17</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>It’s not that I didn’t try to fix it, I just have no clue what any of this does. I never used this style of PHP before.</p>
<p>Alright thank you. Hopefully I will use this method more often and learn about it a little bit more. Ill post again when the next version is finished or I need help again. OnlyOneRule you’ve been very helpful here, I wonder why your not a web designer rank or whatever its called.[br][br][size=1]Posted on: January 26, 2009, 04:55:56 pm[/size][hr]Edit: Do you know how to print the results from the last post in that topic?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/16</link>
        <pubDate>Mon, 26 Jan 2009 22:19:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-16</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>Oh, thats why I couldn’t get some things working before.  :eek:</p>
<p>Also it now displays the results, but it gives this:</p>
<p>Warning: in_array() [function.in-array]: Wrong datatype for second argument in C:\wamp\www\forums\forums\uncutweb.com.php on line 20</p>
<p>and on line 20 theres:</p>
<p>if( !in_array($threadsArray, $postsArray[‘topic’]) )</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/15</link>
        <pubDate>Mon, 26 Jan 2009 21:34:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-15</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>Still doesn’t work. Is there another way to do this? It seems that this function just isn’t working right at all.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/14</link>
        <pubDate>Sun, 25 Jan 2009 20:56:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-14</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>Nope same thing</p>
<p>Warning: mysql_fetch_assoc(): supplied argument is not a valid MySQL result resource in C:\wamp\www\forums\forums\uncutweb.com.php on line 17</p>
<p>I think it has something to do with $forum</p>
<p>Its like its having a problem connecting to the database when its there?</p>
<p>in</p>
<p><code>
function sortThreadsByLatestPost($forum)
{
    // First of all get all the posts that are on the board/subject.. Whatever you call it.
    $postsQuery = mysql_query("SELECT * FROM `posts` ORDER BY `id` DESC WHERE `forum` = '$forum'");</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/13</link>
        <pubDate>Sun, 25 Jan 2009 20:00:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-13</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>Nope still doesn’t work. It just displays 15 blank results.</p>
<p>[code=php]&lt;?php<br>
$forum_name = ‘<a href="http://Uncutweb.com" rel="nofollow noopener">Uncutweb.com</a>’;<br>
$forum_desc = ‘Discussion about updates or anything related to the site.’;<br>
$table = ‘topics’;//Table name here<br>
$limit = 15;//Limit of results here<br>
$uncutweb_com = addslashes($_GET[‘uncutweb_com’]);//Gets the uncutweb_com<br>
$totalrows = mysql_num_rows(mysql_query(“SELECT id FROM $table WHERE forum=1 and important=0”));//Get the total rows of the table</p>
<p>function sortThreadsByLatestPost($forum)<br>
{<br>
// First of all get all the posts that are on the board/subject… Whatever you call it.<br>
$postsQuery = mysql_query(“SELECT * FROM <code>posts</code> ORDER BY <code>id</code> DESC WHERE <code>forum</code> = ‘$forum’”);</p>
<pre><code>$threadsArray = array();

// Loop through them all
while( $postsArray = mysql_fetch_assoc($postsQuery) )
{
    // Now create an array that only contains each thread/topic id once, orderd by the latest post first.
    if( !in_array($threadsArray, $postsArray['id']) )
    {
        $threadsArray[] = $postsArray['id'];
    }
}
// Return the array of all the id's
return $threadsArray;
</code></pre>
<p>}</p>
<p>$threadsIdArray =  sortThreadsByLatestPost(1);</p>
<p>// How many threads to be listed pert page?<br>
$threadsToDisplay = 15;</p>
<p>$x = $threadsToDisplay * $uncutweb_com;<br>
$y = $threadsToDisplay * ($uncutweb_com + 1);</p>
<p>while( $x &lt; $y )<br>
{<br>
$threadQuery = mysql_query(“SELECT * FROM <code>topics</code> WHERE <code>id</code> = '”.$threadsIdArray[$x] ."’");<br>
$threadArray = mysql_fetch_assoc($threadQuery);</p>
<pre><code>echo "
&lt;strong&gt;Id&lt;/strong&gt;: {$threadArray['id']}&lt;br /&gt;
&lt;strong&gt;Name&lt;/strong&gt;: {$threadArray['subject']}&lt;br /&gt;
&lt;strong&gt;Date&lt;/strong&gt;: {$threadArray['date']}&lt;br /&gt;
&lt;hr /&gt;\n";

$x++;
</code></pre>
<p>}</p>
<p>if(empty($uncutweb_com))//If the uncutweb_com is empty<br>
{<br>
$uncutweb_com = ‘1’;//sets the uncutweb_com to 1<br>
};<br>
$start = ($uncutweb_com-1)*$limit;//set the start uncutweb_com<br>
$start = round($start,0);//rounds it</p>
<pre><code>echo "
</code></pre>
<p><a name="%24forum_name"></a></p>
<ul>
<h1>
<span>";if (empty($_SESSION[username])){echo"<a href="/accounts/login.php">Login to Post</a>";}else{if($urlrewrite2 == true){echo"<a href="/forums/newtopic/1.html">Post New Topic</a>";}else{echo"<a href="/forums/newtopic.php?forum=1">Post New Topic</a>";}}echo"</span>$forum_name</h1>
<h2>$forum_desc</h2>
</ul><pre><code>";
</code></pre>
<p>$result_important = mysql_query(“SELECT * FROM topics WHERE important=1 and forum=1”);<br>
if(!$result_important) {header( ‘Location: /forums’ );die;}<br>
//grab all the content</p>
<p>while($re=mysql_fetch_array($result_important))<br>
{</p>
<p>$id=$re[“id”];<br>
$subject=$re[“subject”];<br>
$forum=$re[“forum”];<br>
$important=$re[“important”];<br>
$poster=$re[“poster”];<br>
$urlsubject=str_replace(" “, “-”, $subject);<br>
$urlsubject = str_replace(”?", “”, $urlsubject);<br>
//display the row<br>
if($urlrewrite == true){<br>
echo “</p><li>
<span>Author: $poster</span>Sticky: <a>$subject</a>
</li>”;<br>
} else {<br>
echo “<li>
<span>Author: $poster</span>Sticky: <a>$subject</a>
</li>”;<br>
}<br>
}
<p>$result = mysql_query(“SELECT * FROM topics WHERE important=0 and forum=1  LIMIT $start, $limit”);<br>
sortThreadsByLatestPost(1);<br>
if(!$result) {header( ‘Location: /forums’ );die;}<br>
//grab all the content<br>
while($r=mysql_fetch_array($result))<br>
{</p>
<p>$id=$r[“id”];<br>
$subject=$r[“subject”];<br>
$forum=$r[“forum”];<br>
$important=$r[“important”];<br>
$poster=$r[“poster”];<br>
$urlsubject=str_replace(" “, “-”, $subject);<br>
$urlsubject = str_replace(”?", “”, $urlsubject);</p>
<p>//display the row</p>
<p>if($urlrewrite == true){<br>
echo “</p><li>
<span>Author: $poster</span><a>$subject</a>
</li>”;<br>
} else {<br>
echo “<li>
<span>Author: $poster</span><a>$subject</a>
</li>”;<br>
}
<p>} if(!$result) {die;}<br>
$totaluncutweb_coms = $totalrows / $limit;//Gets the totaluncutweb_coms<br>
$totaluncutweb_coms = ceil($totaluncutweb_coms);//rounds them to the bigger number, so if the limit is 10 and there are 11 results it will show 2 paegs instead of 1 <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
if($uncutweb_com == 1)//if the uncutweb_com is 1<br>
{<br>
$actualuncutweb_com = ‘1’;//actial uncutweb_com 1<br>
}<br>
else<br>
{ if($actualuncutweb_com &lt;= $totaluncutweb_coms){<br>
$actualuncutweb_com = “$uncutweb_com”;//else actualuncutweb_com is the one we get using the $_GET<br>
}<br>
}<br>
if($uncutweb_com &lt; $totaluncutweb_coms)//if the uncutweb_com is smaller than totaluncutweb_coms<br>
{<br>
$nv = $uncutweb_com+1;//next uncutweb_com<br>
$pv = $uncutweb_com-1;//prev uncutweb_com<br>
$nextuncutweb_com = “&lt;a href=?topic=$topic&amp;uncutweb_com=$nv#$forum_name&gt;Next uncutweb_com”;//next uncutweb_com link<br>
$prevuncutweb_com = “&lt;a href=?topic=$topic&amp;uncutweb_com=$pv#$forum_name&gt;Previous uncutweb_com”;//preg uncutweb_com link<br>
$firstuncutweb_com = “<a>First uncutweb_com</a>”;//first uncutweb_com<br>
$finaluncutweb_com = “<a>Last uncutweb_com</a>”;//last uncutweb_com<br>
}<br>
if($uncutweb_com == ‘1’)//if the uncutweb_com is 1<br>
{<br>
$nv = $uncutweb_com+1;<br>
$nextuncutweb_com = “&lt;a href=?topic=$topic&amp;uncutweb_com=$nv#$forum_name&gt;Next uncutweb_com”;<br>
$prevuncutweb_com = “”;<br>
$firstuncutweb_com = “”;<br>
$finaluncutweb_com = “<a>Last uncutweb_com</a>”;<br>
}elseif($uncutweb_com == $totaluncutweb_coms){//is the uncutweb_com is equal than the totaluncutweb_coms<br>
$pv = $uncutweb_com-1;<br>
$nextuncutweb_com = “”;<br>
$prevuncutweb_com = “&lt;a href=?topic=$topic&amp;uncutweb_com=$pv#$forum_name&gt;Previous uncutweb_com”;<br>
$firstuncutweb_com = “<a>First uncutweb_com</a>”;<br>
$finaluncutweb_com = “”;<br>
}<br>
if($totaluncutweb_coms == ‘1’ || $totaluncutweb_coms == ‘0’){//if totaluncutweb_coms is 1 or 0<br>
$nextuncutweb_com = “”;<br>
$prevuncutweb_com = “”;<br>
$firstuncutweb_com = “”;<br>
$finaluncutweb_com = “”;<br>
}<br>
echo"</p><div>
<span>Page $actualuncutweb_com of $totaluncutweb_coms</span> $firstuncutweb_com $prevuncutweb_com $nextuncutweb_com $finaluncutweb_com</div>";<br>
?&gt;[/code]
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/12</link>
        <pubDate>Sun, 25 Jan 2009 19:15:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-12</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
      <item>
        <title>My new forum script</title>
        <dc:creator><![CDATA[@bjc22 bjc22]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bjc22">@bjc22</a> wrote:</p>
          <blockquote>
              <p>Ok I added that column in the posts.</p>
<p>Now I have this</p>
<p>[code=php]&lt;?php<br>
$forum_name = ‘<a href="http://Uncutweb.com" rel="nofollow noopener">Uncutweb.com</a>’;<br>
$forum_desc = ‘Discussion about updates or anything related to the site.’;<br>
$table = ‘topics’;//Table name here<br>
$limit = 15;//Limit of results here<br>
$uncutweb_com = addslashes($_GET[‘uncutweb_com’]);//Gets the uncutweb_com<br>
$totalrows = mysql_num_rows(mysql_query(“SELECT id FROM $table WHERE forum=1 and important=0”));//Get the total rows of the table</p>
<p>function sortThreadsByLatestPost($forum)<br>
{<br>
// First of all get all the posts that are on the board/subject… Whatever you call it.<br>
$postsQuery = mysql_query(“SELECT * FROM <code>posts</code> ORDER BY <code>id</code> DESC WHERE <code>forum</code> = ‘$forum’”);</p>
<pre><code>$threadsArray = array();

// Loop through them all
while( $postsArray = mysql_fetch_assoc($postsQuery) )
{
    // Now create an array that only contains each thread/topic id once, orderd by the latest post first.
    if( !in_array($threadsArray, $postsArray['id']) )
    {
        $threadsArray[] = $postsArray['id'];
    }
}
// Return the array of all the id's
return $threadsArray;
</code></pre>
<p>}</p>
<p>if(empty($uncutweb_com))//If the uncutweb_com is empty<br>
{<br>
$uncutweb_com = ‘1’;//sets the uncutweb_com to 1<br>
};<br>
$start = ($uncutweb_com-1)*$limit;//set the start uncutweb_com<br>
$start = round($start,0);//rounds it</p>
<pre><code>echo "
</code></pre>
<p><a name="%24forum_name"></a></p>
<ul>
<h1>
<span>";if (empty($_SESSION[username])){echo"<a href="/accounts/login.php">Login to Post</a>";}else{if($urlrewrite2 == true){echo"<a href="/forums/newtopic/1.html">Post New Topic</a>";}else{echo"<a href="/forums/newtopic.php?forum=1">Post New Topic</a>";}}echo"</span>$forum_name</h1>
<h2>$forum_desc</h2>
</ul><pre><code>";
</code></pre>
<p>$result_important = mysql_query(“SELECT * FROM topics WHERE important=1 and forum=1”);<br>
if(!$result_important) {header( ‘Location: /forums’ );die;}<br>
//grab all the content</p>
<p>while($re=mysql_fetch_array($result_important))<br>
{</p>
<p>$id=$re[“id”];<br>
$subject=$re[“subject”];<br>
$forum=$re[“forum”];<br>
$important=$re[“important”];<br>
$poster=$re[“poster”];<br>
$urlsubject=str_replace(" “, “-”, $subject);<br>
$urlsubject = str_replace(”?", “”, $urlsubject);<br>
//display the row<br>
if($urlrewrite == true){<br>
echo “</p><li>
<span>Author: $poster</span>Sticky: <a>$subject</a>
</li>”;<br>
} else {<br>
echo “<li>
<span>Author: $poster</span>Sticky: <a>$subject</a>
</li>”;<br>
}<br>
}
<p>$result = mysql_query(“SELECT * FROM topics WHERE important=0 and forum=1  LIMIT $start, $limit”);<br>
sortThreadsByLatestPost(1);<br>
if(!$result) {header( ‘Location: /forums’ );die;}<br>
//grab all the content<br>
while($r=mysql_fetch_array($result))<br>
{</p>
<p>$id=$r[“id”];<br>
$subject=$r[“subject”];<br>
$forum=$r[“forum”];<br>
$important=$r[“important”];<br>
$poster=$r[“poster”];<br>
$urlsubject=str_replace(" “, “-”, $subject);<br>
$urlsubject = str_replace(”?", “”, $urlsubject);</p>
<p>//display the row</p>
<p>if($urlrewrite == true){<br>
echo “</p><li>
<span>Author: $poster</span><a>$subject</a>
</li>”;<br>
} else {<br>
echo “<li>
<span>Author: $poster</span><a>$subject</a>
</li>”;<br>
}
<p>} if(!$result) {die;}<br>
$totaluncutweb_coms = $totalrows / $limit;//Gets the totaluncutweb_coms<br>
$totaluncutweb_coms = ceil($totaluncutweb_coms);//rounds them to the bigger number, so if the limit is 10 and there are 11 results it will show 2 paegs instead of 1 <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
if($uncutweb_com == 1)//if the uncutweb_com is 1<br>
{<br>
$actualuncutweb_com = ‘1’;//actial uncutweb_com 1<br>
}<br>
else<br>
{ if($actualuncutweb_com &lt;= $totaluncutweb_coms){<br>
$actualuncutweb_com = “$uncutweb_com”;//else actualuncutweb_com is the one we get using the $_GET<br>
}<br>
}<br>
if($uncutweb_com &lt; $totaluncutweb_coms)//if the uncutweb_com is smaller than totaluncutweb_coms<br>
{<br>
$nv = $uncutweb_com+1;//next uncutweb_com<br>
$pv = $uncutweb_com-1;//prev uncutweb_com<br>
$nextuncutweb_com = “&lt;a href=?topic=$topic&amp;uncutweb_com=$nv#$forum_name&gt;Next uncutweb_com”;//next uncutweb_com link<br>
$prevuncutweb_com = “&lt;a href=?topic=$topic&amp;uncutweb_com=$pv#$forum_name&gt;Previous uncutweb_com”;//preg uncutweb_com link<br>
$firstuncutweb_com = “<a>First uncutweb_com</a>”;//first uncutweb_com<br>
$finaluncutweb_com = “<a>Last uncutweb_com</a>”;//last uncutweb_com<br>
}<br>
if($uncutweb_com == ‘1’)//if the uncutweb_com is 1<br>
{<br>
$nv = $uncutweb_com+1;<br>
$nextuncutweb_com = “&lt;a href=?topic=$topic&amp;uncutweb_com=$nv#$forum_name&gt;Next uncutweb_com”;<br>
$prevuncutweb_com = “”;<br>
$firstuncutweb_com = “”;<br>
$finaluncutweb_com = “<a>Last uncutweb_com</a>”;<br>
}elseif($uncutweb_com == $totaluncutweb_coms){//is the uncutweb_com is equal than the totaluncutweb_coms<br>
$pv = $uncutweb_com-1;<br>
$nextuncutweb_com = “”;<br>
$prevuncutweb_com = “&lt;a href=?topic=$topic&amp;uncutweb_com=$pv#$forum_name&gt;Previous uncutweb_com”;<br>
$firstuncutweb_com = “<a>First uncutweb_com</a>”;<br>
$finaluncutweb_com = “”;<br>
}<br>
if($totaluncutweb_coms == ‘1’ || $totaluncutweb_coms == ‘0’){//if totaluncutweb_coms is 1 or 0<br>
$nextuncutweb_com = “”;<br>
$prevuncutweb_com = “”;<br>
$firstuncutweb_com = “”;<br>
$finaluncutweb_com = “”;<br>
}<br>
echo"</p><div>
<span>Page $actualuncutweb_com of $totaluncutweb_coms</span> $firstuncutweb_com $prevuncutweb_com $nextuncutweb_com $finaluncutweb_com</div>";<br>
?&gt;[/code]
<p>I’m not sure on how to use that function.</p>
<p>$result = mysql_query(“SELECT * FROM topics WHERE important=0 and forum=1  LIMIT $start, $limit”);</p>
<p>is what displays the topics that belong to the forum.</p>
<p>Do I replace that with the function, and what would I do with the function then? The way I have it now looks like this:</p>
<p><aside class="onebox whitelistedgeneric">
  <header class="source">
      <a href="http://Uncutweb.com" target="_blank" rel="nofollow noopener">Uncutweb</a>
  </header>
  <article class="onebox-body">
    

<h3><a href="http://Uncutweb.com" target="_blank" rel="nofollow noopener">Un Cut Web - Beauty, Health, Relationship</a></h3>

<p>Get your latest fashion trends and news on fashion, beauty, healthy living, family, travel.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
Discussion about updates or anything related to the site.</p>
<p>Warning: mysql_fetch_assoc(): supplied argument is not a valid MySQL result resource in C:\wamp\www\forums\forums\uncutweb.com.php on line 17</p>
<h1>Author: RaskulaTest Topic</h1>
<p>Page 1 of 1</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-new-forum-script/258275/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-new-forum-script/258275/11</link>
        <pubDate>Sun, 25 Jan 2009 18:28:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-258275-11</guid>
        <source url="https://forum.moparisthebest.com/t/my-new-forum-script/258275.rss">My new forum script</source>
      </item>
  </channel>
</rss>
