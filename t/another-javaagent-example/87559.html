<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/another-javaagent-example/87559 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Aug 2019 20:59:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Another JavaAgent example - Runescape - moparisthebest.com</title>
    <meta name="description" content="Franks looked like fun so i figured i would try to see what he did. 

[image] 

Source: http://dnd.no-ip.org/javaagent/src.rar Jar: http://dnd.no-ip.org/javaagent/ClientVersion.jar 

How i setup my JavaAgent 

Windows: 
&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="87559.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Another JavaAgent example&#39;" href="87559.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://dnd.no-ip.org/archive/javaagent.jpg" />
<meta property="og:image" content="http://dnd.no-ip.org/archive/javaagent.jpg" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/another-javaagent-example/87559" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/another-javaagent-example/87559" />
<meta property="og:title" content="Another JavaAgent example" />
<meta name="twitter:title" content="Another JavaAgent example" />
<meta property="og:description" content="Franks looked like fun so i figured i would try to see what he did.    Source: http://dnd.no-ip.org/javaagent/src.rar  Jar: http://dnd.no-ip.org/javaagent/ClientVersion.jar  How i setup my JavaAgent  Windows:  [ul][li]Goto controlpanel[/li]  [li]click java[/li]  [li]select java tab[/li]  [li]click the view button in the runtime settings for applet[/li]  [li]add -javaagent: in the parameters spot [/li]  [li]apply. [/li][/ul]" />
<meta name="twitter:description" content="Franks looked like fun so i figured i would try to see what he did.    Source: http://dnd.no-ip.org/javaagent/src.rar  Jar: http://dnd.no-ip.org/javaagent/ClientVersion.jar  How i setup my JavaAgent  Windows:  [ul][li]Goto controlpanel[/li]  [li]click java[/li]  [li]select java tab[/li]  [li]click the view button in the runtime settings for applet[/li]  [li]add -javaagent: in the parameters spot [/li]  [li]apply. [/li][/ul]" />
<meta property="article:published_time" content="2007-05-01T01:24:32+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="87559.html">Another JavaAgent example</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T01:24:32Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:25:49Z' class='post-time'>
              July 30, 2016,  8:25am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Franks looked like fun so i figured i would try to see what he did.</p>
<p><img src="http://dnd.no-ip.org/archive/javaagent.jpg" alt width="" height=""></p>
<p>Source: <a href="http://dnd.no-ip.org/javaagent/src.rar" rel="nofollow noopener">http://dnd.no-ip.org/javaagent/src.rar</a><br>
Jar: <a href="http://dnd.no-ip.org/javaagent/ClientVersion.jar" rel="nofollow noopener">http://dnd.no-ip.org/javaagent/ClientVersion.jar</a></p>
<p>How i setup my JavaAgent</p>
<p>Windows:</p>
<p>[ul][li]Goto controlpanel[/li]<br>
[li]click java[/li]<br>
[li]select java tab[/li]<br>
[li]click the view button in the runtime settings for applet[/li]<br>
[li]add -javaagent: in the parameters spot [/li]<br>
[li]apply. [/li][/ul]</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Nerice.html'><span itemprop='name'>Nerice</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T02:10:42Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:25:59Z' class='post-time'>
              July 30, 2016,  8:25am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Method main = clazz.containsMethod(“main”, “([Ljava/lang/String;)V”);</p>
<p>Will either be null or the method. No need to loop.</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T02:28:05Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:04Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>hey thanks for that tip.</p>
<pre><code class="lang-auto">public class Transformer implements ClassFileTransformer {
 gui mainFrame	= new gui();
    public byte[] transform(ClassLoader loader,String className,Class&lt;?&gt; classBeingRedefined,ProtectionDomain protectionDomain,byte[] classFileBuffer) {
        if (className.contains("/")) {
            return classFileBuffer;
        }
        try {
            ClassGen clazz = new ClassGen(new ClassParser(new ByteArrayInputStream(classFileBuffer), null).parse());
            ConstantPoolGen cpg = clazz.getConstantPool();

	    Method main = clazz.containsMethod("main", "([Ljava/lang/String;)V");
            MethodGen methodGen = new MethodGen(main, className,cpg);
            InstructionList il = methodGen.getInstructionList();
            Iterator&lt;InstructionHandle&gt; ilit = il.iterator();
            	while (ilit.hasNext()) {
                	Instruction instruction = ilit.next().getInstruction();
                	if (instruction instanceof SIPUSH) {
                    		int val = ((SIPUSH) (instruction)).getValue().intValue();
                    		if (val &lt; 400 || val &gt; 800 || val == 503 || val == 765) {
                        		continue;
                    		}
                    		mainFrame.add("Client Version: "+ val);
                	}
            	}

		
		
        } catch (Exception e) {
            e.printStackTrace();
            return classFileBuffer;
        }
        return classFileBuffer;
    }
}</code></pre>
<p>is certainly much cleaner.</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Nerice.html'><span itemprop='name'>Nerice</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T02:40:51Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:06Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Have to check for null though…</p>
<pre><code class="lang-auto">public class Transformer implements ClassFileTransformer {
 gui mainFrame	= new gui();
    public byte[] transform(ClassLoader loader,String className,Class&lt;?&gt; classBeingRedefined,ProtectionDomain protectionDomain,byte[] classFileBuffer) {
        if (className.contains("/")) {
            [b]return classFileBuffer;[/b]
        }
        try {
            ClassGen clazz = new ClassGen(new ClassParser(new ByteArrayInputStream(classFileBuffer), null).parse());
            ConstantPoolGen cpg = clazz.getConstantPool();

	    Method main = clazz.containsMethod("main", "([Ljava/lang/String;)V");
            if(main == null) 
                return classFileBuffer;
            MethodGen methodGen = new MethodGen(main, className,cpg);
            InstructionList il = methodGen.getInstructionList();
            Iterator&lt;InstructionHandle&gt; ilit = il.iterator();
            	while (ilit.hasNext()) {
                	Instruction instruction = ilit.next().getInstruction();
                	if (instruction instanceof SIPUSH) {
                    		int val = ((SIPUSH) (instruction)).getValue().intValue();
                    		if (val &lt; 400 || val &gt; 800 || val == 503 || val == 765) {
                        		continue;
                    		}
                    		mainFrame.add("Client Version: "+ val);
                	}
            	}

		
		
        } catch (Exception e) {
            e.printStackTrace();
            return classFileBuffer;
        }
        return classFileBuffer;
    }
}</code></pre>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pplsuqbawlz.html'><span itemprop='name'>pplsuqbawlz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T02:49:19Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:07Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yep, sure do. Also, need to BREAK after you add the client version.</p>
<p>[code]public class Transformer implements ClassFileTransformer {<br>
gui mainFrame	= new gui();<br>
public byte[] transform(ClassLoader loader,String className,Class&lt;?&gt; classBeingRedefined,ProtectionDomain protectionDomain,byte[] classFileBuffer) {<br>
if (className.contains("/")) {<br>
<span class="bbcode-b">return classFileBuffer;</span><br>
}<br>
try {<br>
ClassGen clazz = new ClassGen(new ClassParser(new ByteArrayInputStream(classFileBuffer), null).parse());<br>
ConstantPoolGen cpg = clazz.getConstantPool();</p>
<pre><code>    Method main = clazz.containsMethod("main", "([Ljava/lang/String;)V");
        if(main == null) 
            return classFileBuffer;
        MethodGen methodGen = new MethodGen(main, className,cpg);
        InstructionList il = methodGen.getInstructionList();
        Iterator&lt;InstructionHandle&gt; ilit = il.iterator();
        	while (ilit.hasNext()) {
            	Instruction instruction = ilit.next().getInstruction();
            	if (instruction instanceof SIPUSH) {
                		int val = ((SIPUSH) (instruction)).getValue().intValue();
                		if (val &lt; 400 || val &gt; 800 || val == 503 || val == 765) {
                    		continue;
                		}
                		mainFrame.add("Client Version: "+ val);
                            break;
            	}
        	}

	
	
    } catch (Exception e) {
        e.printStackTrace();
        return classFileBuffer;
    }
    return classFileBuffer;
}
</code></pre>
<p>}[/code]</p>
<p>ACTUALLY, it needs a recode, the way ya’ll are traversing is detromental to… God, the world, the people in the world… Everyone and everything.</p>
<p>Note: This is untested. I wrote this code by hand in the “reply” form. And, I hate BCEL.</p>
<p>[code]public class Transformer implements ClassFileTransformer {<br>
gui mainFrame	= new gui();<br>
public byte[] transform(ClassLoader loader,String className,Class&lt;?&gt; classBeingRedefined,ProtectionDomain protectionDomain,byte[] classFileBuffer) {<br>
if (className.equals(“client”)) {<br>
try {<br>
ClassGen clazz = new ClassGen(new ClassParser(new ByteArrayInputStream(classFileBuffer), null).parse());<br>
ConstantPoolGen cpg = clazz.getConstantPool();</p>
<pre><code>        Method main = clazz.containsMethod("main", "([Ljava/lang/String;)V");
            if(main == null) 
                return classFileBuffer;
            MethodGen methodGen = new MethodGen(main, className,cpg);
            InstructionList il = methodGen.getInstructionList();
            Instruction instructions[] = il.getInstructions();

            for(instruction i : instructions) {
                if(i instanceof ConstantPushInstruction) {
                    ConstantPushInstruction cpi = (ConstantPushInstruction)i;
                    int value = (int)cpi.getValue();
                    if(value &gt; 455 &amp;&amp; value &lt; 700 &amp;&amp; value != 503) {
                        mainFrame.add("Client Build #" + value");
                        break;
                    }
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
            return classFileBuffer;
        }
    }
    return classFileBuffer;
}
</code></pre>
<p>}[/code]</p>
<p>Even still, this is incorrect. A proper coder would only have ONE instance of “return classFileBuffer” in this type of situation. So the if(blah == null) should be if (blah != null) and encapsulate the rest of that code segment.</p>
<p>But now that all thats out, good job, love the effort, congrats silabsoft!</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Nerice.html'><span itemprop='name'>Nerice</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T03:10:25Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:12Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Actually the first thing should be a check if its the client, encapsulate everything except the last statement returning the bytes (yes should only return the bytes once). I just inserted the stupid null check, didn’t particulary care about recoding it, just her to realize ClassGen would search for the method… which was accomplished. <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pplsuqbawlz.html'><span itemprop='name'>pplsuqbawlz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T03:13:00Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:13Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Isn’t that what I did? Crap, yes?</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Nerice.html'><span itemprop='name'>Nerice</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T03:13:59Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:13Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Did I look at yours? no, so screw …</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ruler.html'><span itemprop='name'>ruler</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T04:11:41Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:26Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="7" data-topic="87559">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/pplsuqbawlz/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"> pplsuqbawlz:</div>
<blockquote>
<p>Isn’t that what I did? Crap, yes?</p>
</blockquote>
</aside>
<p>no you didn’t do that.</p>
<p>why?</p>
<p>if(main == null)<br>
return classFileBuffer;</p>
<p>…</p>
<p>catch (Exception e) {<br>
e.printStackTrace();<br>
return classFileBuffer;<br>
}<br>
}<br>
return classFileBuffer;</p>
<p>You DID mention what you should do!</p>
<p>ok the next time i read a post about how to get the version number of the client either it be using bcel, php, byte patterns, etc.<br>
I will be  :mad:.  Can we please move on to new things instead of doing one thing a thousand different ways.</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/1337h4x.html'><span itemprop='name'>1337h4x</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T04:17:53Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:27Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ruler, post:9, topic:87559”]ok the next time i read a post about how to get the version number of the client either it be using bcel, php, byte patterns, etc.<br>
I will be  :mad:.  Can we please move on to new things instead of doing one thing a thousand different ways.[/quote]</p>
<p>hehe</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/regecks1.html'><span itemprop='name'>regecks1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T04:18:21Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:27Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It’s like she’s f***ing five!</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T06:15:45Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:46Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>this better?</p>
<pre><code class="lang-auto">public class Transformer implements ClassFileTransformer {
 gui mainFrame	= new gui();
    public byte[] transform(ClassLoader loader,String className,Class&lt;?&gt; classBeingRedefined,ProtectionDomain protectionDomain,byte[] classFileBuffer) {
         if (className.contains("/")) {
            return classFileBuffer;
        }
       try {
            ClassGen clazz = new ClassGen(new ClassParser(new ByteArrayInputStream(classFileBuffer), null).parse());
            ConstantPoolGen cpg = clazz.getConstantPool();
	    Method main = clazz.containsMethod("main", "([Ljava/lang/String;)V");
            if(main != null) 
	        mainFrame.add("Fround main void in: "+clazz.getClassName());	
	    if(clazz.containsMethod("hashCode", "()I") != null){
	    Method stringWrapper = clazz.containsMethod("toString", "()Ljava/lang/String;");
            if(stringWrapper != null) 
	        mainFrame.add("Fround stringWrapper void in: "+clazz.getClassName());
	    }

        } catch (Exception e) {
            e.printStackTrace();
        }
        return classFileBuffer;
    }
}</code></pre>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pwnd.html'><span itemprop='name'>Pwnd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T06:16:28Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:46Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Can someone explain to me what a JavaAgent is? &gt;:|</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T06:18:51Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:47Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>im probly going to butcher this, but a javaagent is like a java program ran just alittle ahead of the program your originally trying to run. it has full access while the original program is being loaded but once its loaded you cant touch it unless you added hooks.</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pwnd.html'><span itemprop='name'>Pwnd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T06:22:13Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:48Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ah, true.  That makes sense <img src="../../images/emoji/twitter/smiley1bce.png?v=6" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>Thank you.</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/1337h4x.html'><span itemprop='name'>1337h4x</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T06:38:00Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:26:51Z' class='post-time'>
              July 30, 2016,  8:26am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hmm, I thought it monitored the jvm for any variables changed/functions called/etc…</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/White_Castle.html'><span itemprop='name'>White_Castle</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T07:14:06Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:27:02Z' class='post-time'>
              July 30, 2016,  8:27am
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>No, it lets you modify classfiles before they’re formally defined by the JVM. Also, returning null in byte[] transform signifies that no change has been made to the classfile, and thus throws no NullPointer.</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh_CntLgn.html'><span itemprop='name'>BAsh_CntLgn</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-05-01T13:51:43Z'>
            <time itemprop='dateModified' datetime='2016-07-30T08:27:33Z' class='post-time'>
              July 30, 2016,  8:27am
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="17" data-topic="87559">
<div class="title">
<div class="quote-controls"></div>
 White Castle:</div>
<blockquote>
<p>No, it lets you modify classfiles before they’re formally defined by the JVM. Also, returning null in byte[] transform signifies that no change has been made to the classfile, and thus throws no NullPointer.</p>
</blockquote>
</aside>
<p>Which is why you should return null if you reach an error and only return the new byte[] if you actually changed something.</p>
      </div>

      <meta itemprop='headline' content='Another JavaAgent example'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/another-javaagent-example/87559 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Aug 2019 20:59:53 GMT -->
</html>
