<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/server-development-structure-brainstorm/542758 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 02:51:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Server Development Structure Brainstorm - Runescape - moparisthebest.com</title>
    <meta name="description" content="I was kind of hoping for a little advice from the senior developers on this site.  

I have an idea for a structure but i am unsure of how it will play out in reality. 

I will try to explain the concept as best as possi&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="542758.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Server Development Structure Brainstorm&#39;" href="542758.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/server-development-structure-brainstorm/542758" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/server-development-structure-brainstorm/542758" />
<meta property="og:title" content="Server Development Structure Brainstorm" />
<meta name="twitter:title" content="Server Development Structure Brainstorm" />
<meta property="og:description" content="I was kind of hoping for a little advice from the senior developers on this site.  I have an idea for a structure but i am unsure of how it will play out in reality.  I will try to explain the concept as best as possible.  NOTE: i am using the word  interface as a means of communication between the two components, not its form in Java. It is most likely going to be an abstract class - though not set in stone. It depends on the ammount of functionality i need with each one.  Game To Player Interf..." />
<meta name="twitter:description" content="I was kind of hoping for a little advice from the senior developers on this site.  I have an idea for a structure but i am unsure of how it will play out in reality.  I will try to explain the concept as best as possible.  NOTE: i am using the word  interface as a means of communication between the two components, not its form in Java. It is most likely going to be an abstract class - though not set in stone. It depends on the ammount of functionality i need with each one.  Game To Player Interf..." />
<meta property="article:published_time" content="2014-05-03T03:22:42+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="542758.html">Server Development Structure Brainstorm</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/matzie.html'><span itemprop='name'>matzie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-03T03:22:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:05:17Z' class='post-time'>
              August 4, 2016,  1:05pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I was kind of hoping for a little advice from the senior developers on this site.</p>
<p>I have an idea for a structure but i am unsure of how it will play out in reality.</p>
<p>I will try to explain the concept as best as possible.<br>
NOTE: i am using the word <span class="bbcode-b"> interface</span> as a means of communication between the two components, not its form in Java. It is most likely going to be an abstract class - though not set in stone. It depends on the ammount of functionality i need with each one.<br>
<span class="bbcode-b">Game To Player Interface(GTPI)</span> - The means of any task in the server communicating with the player. Will house everything from Stat modification/access to everything about the [current] player. Can be implemented by any Skill/Object/Minigame/Npc as a means to communicate with said player.</p>
<p><span class="bbcode-b">Player To Player Interface(PTPI)</span> - The means of any player having access to another player’s values within reason. All included methods would be final, and any ability to modify the other player’s values must be written in as part of the implementing class.<br>
<span class="bbcode-b">Player To Game Interface(PTGI)</span> - The means of the player interacting with objects in the game. The player class would hold a static form of this for each of the possible interaction types.(Player To Npc(Attack),Player To Npc(Trade), Player To Object, Etc.)<br>
So 4/8 bytes of memory would be used [in total] for all of the players to have this action.<br>
The server would run on a core foundation of elementary structure. Basic array’s for most storage.<br>
All included skills would be a mixture of static/dynamic methods. The static methods would perform calculations - uniformly based on no information required from the player (it can be passed though). All the dynamic methods would have to do with variables related to the skill. Such as the players current action (Chopping a tree, Mining a rock, Fishing, Etc). The skill classes would implement a Skill Interface(SI) that has elementary methods - used for canceling tasks based on sets of actions.<br>
Things like Fletching will not interpret your walking, but other combinations may- and these overriding methods would give the means of doing just that.<br>
I would like to build it as dynamic as possible so adding/removing stuff works easily with it. They would all use GTPI and PTPI implementations in order to communicate with the world.</p>
<p>Possibly adding an Npc to Npc interface as well for inter-game relations between them.</p>
<p>My possible design for the TaskManager:<br>
I would use a HashMap, where each client is the key and would return that client’s list of tasks. So if the client were to log out- there is a means of collecting and nulling their values to avoid a memory leak.<br>
TaskKilling would be necessary for certain things such as "Cancel on Walk"<br>
public abstract class PlayerToPlayerInterface {<br>
public final int getLevel(Player targ,int skillID) {<br>
//…<br>
}<br>
public final int getLevelActual(Player targ,int skillID) {<br>
//…<br>
}<br>
public final int getWeapon(Player targ) {<br>
//…<br>
}<br>
//a method like these for every aspect of a player that could need accessed by others<br>
}<br>
Potential PTPI’s:<br>
Trading:<br>
<code>
                public class TradeHandler extends PlayerToPlayerInterface {
			public boolean isInTrade(Player p) {
			//...
			}
			public boolean acceptStage(Player a, Player b) {
			//...
			}
			public boolean decline(Player a, Player b) {
			//...
			}
			public boolean offerItem(Player a, Player b) {
			//...
			}
		}</code><br>
Combat: - two separate implementations to handle the different death modes, forms of "loot"<br>
Wilderness<br>
Duel<br>
Following:<br>
Combat (still should use the same implementation)<br>
Trailing<br>
Packets:<br>
Messages<br>
Global<br>
Private<br>
Local<br>
PlayerUpdateBlock</p>
<pre><code>This structure has a lot of usability, I think the code for it would be rather straight forward, the learning curve would be simple enough and also intricate in a form that would allow massive expansions.
Adding or removing anything for a character would be added to the related PTPI PTGI or GTPI implementation.
Removing trading would be removing the TradeHandler from the Player class.

public class Player {
	public final static void TradeManager = new TradeHandler();
	public final static void CombatManager = new CombatHandler();//Internal classes referenced based on combat
	//this is what i mean by the 4/8 bytes used in total per Implementation
}
</code></pre>
<p>What pitfalls might i run into in this design?<br>
The task management for recurring tasks is the only thing that still befuddles me.</p>
      </div>

      <meta itemprop='headline' content='Server Development Structure Brainstorm'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-03T04:20:44Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:05:23Z' class='post-time'>
              August 4, 2016,  1:05pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“matzie, post:1, topic:542758”]My possible design for the TaskManager:<br>
I would use a HashMap, where each client is the key and would return that client’s list of tasks. So if the client were to log out- there is a means of collecting and nulling their values to avoid a memory leak.[/quote]<br>
wat</p>
<p>gonna be honest I didn’t read this thoroughly, but the best way to test out new designs and structures is to actually write them. half the time when I’m writing something I planned out I stop halfway because I thought of a better solution, or realized what I was doing was retarded</p>
<p>good luck</p>
      </div>

      <meta itemprop='headline' content='Server Development Structure Brainstorm'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/matzie.html'><span itemprop='name'>matzie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-03T04:58:24Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:05:23Z' class='post-time'>
              August 4, 2016,  1:05pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lare69, post:2, topic:542758”][quote author=matzie link=topic=661633.msg4422387#msg4422387 date=1399087362]<br>
My possible design for the TaskManager:<br>
I would use a HashMap, where each client is the key and would return that client’s list of tasks. So if the client were to log out- there is a means of collecting and nulling their values to avoid a memory leak.<br>
[/quote]<br>
wat</p>
<p>gonna be honest I didn’t read this thoroughly, but the best way to test out new designs and structures is to actually write them. half the time when I’m writing something I planned out I stop halfway because I thought of a better solution, or realized what I was doing was retarded</p>
<p>good luck[/quote]<br>
HashMap&lt;client,Set&gt;</p>
      </div>

      <meta itemprop='headline' content='Server Development Structure Brainstorm'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/server-development-structure-brainstorm/542758 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 02:51:35 GMT -->
</html>
