<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Collection bag store more than 900 trillion gp</title>
    <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841</link>
    <description>Here is what you&#39;re adding, we do not need any interface its done by a item called a collection bag.
[IMG]http://i50.tinypic.com/281hbmv.png[/img]
[IMG]http://i50.tinypic.com/345n2xf.png[/img]
[IMG]http://i45.tinypic.com/6z8wn6.png[/img]
[IMG]http://i46.tinypic.com/2v2ihpv.png[/img]

There are no dupes with this. It checks for all max values, i can&#39;t count i think its 900 trillion.

MoneyPouch.java

[CODE]package server.model.content;

import server.Config;
import server.model.mobile.players.Client;

/**
 *
 * @author Arrowzftw
 */
public class MoneyPouch {

    private long storedCoins = 0;
    private boolean isWithdrawing = false;
    private Client c;
    public static final int MONEY_ITEM = 10525;
    
    
    
    public MoneyPouch(Client c) {
        this.c = c;
    }

    /**
     * @return the storedCoins
     */
    public long getStoredCoins() {
        return storedCoins;
    }

    /**
     * @param storedCoins the storedCoins to set
     */
    public void setStoredCoins(long storedCoins) {
        this.storedCoins = storedCoins;
    }
    
    /**
     * @return the isStoring
     */
    public boolean isWithdrawing() {
        return isWithdrawing;
    }

    /**
     * @param isStoring the isStoring to set
     */
    public void setWithdrawing(boolean isWithdrawing) {
        this.isWithdrawing = isWithdrawing;
    }

    public void storeCoins(long amount) {
        if(c.playerRights != 3) {
            c.sendMessage(&quot;Feature has been disabled, you can only withdraw money.&quot;);
            return;
        }
        if (!c.getItems().playerHasItem(MONEY_ITEM)) {
            c.getPA().closeAllWindows();
            return;
        }
        if (Long.MAX_VALUE == getStoredCoins()) {
            c.sendMessage(&quot;You cannot store anymore coins.&quot;);
            return;
        }
        if (c.inWild()) {
            c.sendMessage(&quot;You cannot do this in the wilderness.&quot;);
            c.getPA().closeAllWindows();
            return;
        }
        if(c.isBanking || c.isDead || c.duelStatus &gt;= 1 || c.inTrade) {
            c.sendMessage(&quot;You cannot do this in you&#39;re current state.&quot;);
            c.getPA().closeAllWindows();
            return;
        }
        
        if(amount &gt; Config.MAXITEM_AMOUNT) {
            amount = Config.MAXITEM_AMOUNT;
        }
        
        if (c.getItems().getItemAmount(995) &lt; amount) {
            amount = c.getItems().getItemAmount(995);
        }
        
        if (amount &lt;= 0) {
            c.getPA().closeAllWindows();
            return;
        }
        
        int a1 = (int) amount;
        c.getItems().deleteItem2(995, a1);
        setStoredCoins(getStoredCoins() + amount);
        c.sendMessage(&quot;You  have stored @red@&quot; + amount + &quot; @bla@coins.&quot;);
        c.sendMessage(&quot;You currently now have @red@&quot; + getStoredCoins() + &quot; @bla@coins in you&#39;re bag.&quot;);
        c.getPA().closeAllWindows();
    }

    public void removeCoins(long amount) {
        if (!c.getItems().playerHasItem(MONEY_ITEM)) {
            c.getPA().closeAllWindows();
            return;
        }
        if (c.inWild()) {
            c.sendMessage(&quot;You cannot do this in the wilderness.&quot;);
            c.getPA().closeAllWindows();
            return;
        }
        if(c.isBanking || c.isDead || c.duelStatus &gt;= 1 || c.inTrade) {
            c.sendMessage(&quot;You cannot do this in you&#39;re current state.&quot;);
            c.getPA().closeAllWindows();
            return;
        }
        if(amount &gt; Config.MAXITEM_AMOUNT) {
            amount = Config.MAXITEM_AMOUNT;
        }
        long coinInvAmount = c.getItems().getItemAmount((int) 995);

        if (getStoredCoins() &lt; amount) {
            amount = getStoredCoins();
        }
        
        if (amount &lt;= 0) {
            c.getPA().closeAllWindows();
            return;
        }
       if((coinInvAmount - Config.MAXITEM_AMOUNT) == 0) {
           c.sendMessage(&quot;You cannot withdraw any more coins.&quot;);
           return;
       }
        if (coinInvAmount &gt;= 1) {
            if (coinInvAmount == Config.MAXITEM_AMOUNT) {
                c.sendMessage(&quot;You cannot withdraw any more coins.&quot;);
                c.getPA().closeAllWindows();
                return;
            }
            if ((amount + coinInvAmount) &gt; Config.MAXITEM_AMOUNT) {
                amount = (Config.MAXITEM_AMOUNT - coinInvAmount);
            }
        } else {
            if (c.getItems().freeSlots() &lt;= 0) {
                c.sendMessage(&quot;Not enough inventory space.&quot;);
                c.getPA().closeAllWindows();
                return;
            }
        }
        c.sendMessage(&quot;You withdraw &quot;+amount+&quot; coins.&quot;);
        
        setStoredCoins(getStoredCoins() - amount);
        c.getItems().addItem(995, (int) amount);
        c.getPA().closeAllWindows();
    }

    public void handleClicks(int clickType) {
        if (!c.getItems().playerHasItem(MONEY_ITEM)) {
            return;
        }
        switch (clickType) {
            case 1:
               c.getDH().sendItemChat2(&quot;Collection bag&quot;, &quot;You currently have &quot;+getStoredCoins()+&quot; coins stored.&quot;, &quot;Click continue to see further options.&quot;, MONEY_ITEM, 150);
               c.nextChat = 6001;
            break;
                
        }
    }
}
[/CODE]

Add this to client.java:

[CODE]    private MoneyPouch moneyPouch = new MoneyPouch(this);
    public MoneyPouch getPouch() {
        return moneyPouch;
    }[/CODE]

Add this to DialogueHandler.java

[CODE]                
            case 6001:
                c.getDH().sendOption2(&quot;Withdraw coins&quot;, &quot;Store coins&quot;);
                c.dialogueAction = 6001;
                c.nextChat = 0;
                break;[/CODE]

Declare this in DialogueHandler.java too:

[CODE]public void sendItemChat2(String header, String one, String two, int item, int zoom) {
        c.getPA().sendFrame200(311, 591);
        c.getPA().sendFrame126(two, 312);
        c.getPA().sendFrame126(one, 313);
        c.getPA().sendFrame126(header, 4885);
        c.getPA().sendFrame246(311, zoom, item);
        c.getPA().sendFrame164(310);
        c.nextChat = 0;
    }[/CODE]

Find case 9057 in ClickingButtons.java

under it add:

[CODE] if(c.dialogueAction == 6001) {
                    c.getPouch().setWithdrawing(true);
                    c.getOutStream().createFrame(27);
                    return;
                }[/CODE]

Find case 9058 in ClickingButtons.java 

under it add:

[CODE]                 if(c.dialogueAction == 6001) {
                    c.getPouch().setWithdrawing(false);
                    c.getOutStream().createFrame(27);
                    return;
                }[/CODE]

Go to bankX2.java and under:

[CODE]        if (Xamount &lt; 0) {
            return;
        }[/CODE]

Add:

[CODE]        if(c.dialogueAction == 6001) {
            if(c.getPouch().isWithdrawing()) {
                c.getPouch().removeCoins(Xamount);
            } else {
                c.getPouch().storeCoins(Xamount);
            }
        }[/CODE]

Go to itemonitem and add this:

[CODE]        if(useWith == MoneyPouch.MONEY_ITEM || itemUsed == MoneyPouch.MONEY_ITEM) {
            if(useWith == 995 || itemUsed == 995) {
                c.getPouch().storeCoins(c.getItems().getItemAmount(995));
            }
        }[/CODE]

In PlayerAssistant.java replace closeAllWindows with:

[CODE]public void closeAllWindows() {
        if(c != null) {
            if (c.getOutStream() != null) {
                c.isBanking = false;
                c.getOutStream().createFrame(219);
                c.flushOutStream();
                if(c.dialogueAction == 6001) {
                    c.dialogueAction = -1;
                }
             
            }
        }
    }[/CODE]



Finally add this to first clickItem:

[CODE]  case MoneyPouch.MONEY_ITEM:
                c.getPouch().handleClicks(1);
                break;[/CODE]

Here is the PlayerSave rubbish:

[CODE]} else if (token.equals(&quot;storedCoins&quot;)) {
p.getPouch().setStoredCoins(Long.parseLong(token2));[/CODE]

[CODE]                        characterfile.write(&quot;storedCoins = &quot;, 0, 14);
			characterfile.write(Long.toString(p.getPouch().getStoredCoins()), 0, Long.toString(p.getPouch().getStoredCoins()).length());
                        characterfile.newLine();[/CODE]

To use spawn item 10525 and interact with it.</description>
    
    <lastBuildDate>Wed, 18 Jul 2012 02:51:41 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@Team_Rocket Team_Rocket]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/team_rocket">@Team_Rocket</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="4" data-topic="448841">
<div class="title">
<div class="quote-controls"></div>
 t4:</div>
<blockquote>
<p>BigInteger is a better solution.</p>
</blockquote>
</aside>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/20</link>
        <pubDate>Wed, 18 Jul 2012 02:51:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-20</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@cam_man98 cam man98]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cam_man98">@cam_man98</a> wrote:</p>
          <blockquote>
              <p>So, i got 100 errors after compiling… and its not storing the gp…<br>
I’d love for this to work so if you could help out that’d be great <img src="https://forum.moparisthebest.com/images/emoji/twitter/open_mouth.png?v=5" title=":open_mouth:" class="emoji" alt=":open_mouth:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/19</link>
        <pubDate>Wed, 18 Jul 2012 02:45:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-19</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@matzie matzie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/matzie">@matzie</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="5" data-topic="448841">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/superwiz789/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> superwiz789:</div>
<blockquote>
<p>The least you could have done was put a limit on it, no ones going to get that much gp…</p>
</blockquote>
</aside>
<p>unless their a duper <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/18</link>
        <pubDate>Tue, 17 Jul 2012 02:10:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-18</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@rova0 rova0]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/rova0">@rova0</a> wrote:</p>
          <blockquote>
              <p>really smart idea, thanks for sharing <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/17</link>
        <pubDate>Sun, 15 Jul 2012 10:21:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-17</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@m1lkman m1lkman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/m1lkman">@m1lkman</a> wrote:</p>
          <blockquote>
              <p>[quote=“sk8rdude461, post:15, topic:448841”][quote author=Fridder link=topic=551735.msg4047453#msg4047453 date=1342199886]</p>
<aside class="quote">
<blockquote>
<p>it’s one above Trillion, I believe someone said it’s Quintilian.<br>
But really. WHO THE FUCK would let a kid on there server get that without questioning hacks???</p>
</blockquote>
</aside>
<p>It’s just the maximum value. Some people get over 2.1b.<br>
[/quote]<br>
I understand it’s the max. But still. I questioned when people got more then one rare on my servers when I had good eco… The capability of 9 Quintilian is just out of the question.[/quote]</p>
<p>The idea is that it is seemingly limitless…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/16</link>
        <pubDate>Fri, 13 Jul 2012 19:14:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-16</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>[quote=“Fridder, post:14, topic:448841”][quote author=sk8rdude461 link=topic=551735.msg4047409#msg4047409 date=1342196631]<br>
it’s one above Trillion, I believe someone said it’s Quintilian.<br>
But really. WHO THE FUCK would let a kid on there server get that without questioning hacks???<br>
[/quote]</p>
<p>It’s just the maximum value. Some people get over 2.1b.[/quote]<br>
I understand it’s the max. But still. I questioned when people got more then one rare on my servers when I had good eco… The capability of 9 Quintilian is just out of the question.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/15</link>
        <pubDate>Fri, 13 Jul 2012 18:22:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-15</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@Fridder Fridder]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fridder">@Fridder</a> wrote:</p>
          <blockquote>
              <p>[quote=“sk8rdude461, post:13, topic:448841”]it’s one above Trillion, I believe someone said it’s Quintilian.<br>
But really. WHO THE FUCK would let a kid on there server get that without questioning hacks???[/quote]</p>
<p>It’s just the maximum value. Some people get over 2.1b.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/14</link>
        <pubDate>Fri, 13 Jul 2012 17:18:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-14</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>it’s one above Trillion, I believe someone said it’s Quintilian.<br>
But really. WHO THE FUCK would let a kid on there server get that without questioning hacks???</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/13</link>
        <pubDate>Fri, 13 Jul 2012 16:23:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-13</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>[quote=“bob is bob, post:8, topic:448841”][quote author=t4 link=topic=551735.msg4042582#msg4042582 date=1341784009]<br>
BigInteger is a better solution. Also, to anyone silly enough to use this: check for overflow.<br>
[/quote]</p>
<p>You can see it clearly has checks.[/quote]</p>
<pre><code class="lang-auto"> if (Long.MAX_VALUE == getStoredCoins()) {
            c.sendMessage("You cannot store anymore coins.");
            return;
        }</code></pre>
<p>uhh… that doesn’t check for overflow…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/12</link>
        <pubDate>Fri, 13 Jul 2012 01:35:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-12</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@Uncalled Uncalled]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/uncalled">@Uncalled</a> wrote:</p>
          <blockquote>
              <p>lol you used long over BigInteger?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/11</link>
        <pubDate>Thu, 12 Jul 2012 18:39:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-11</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@z1035 z1035]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/z1035">@z1035</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="9" data-topic="448841">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/zerrann/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> zerrann:</div>
<blockquote>
<p>will this work for a pi server?</p>
</blockquote>
</aside>
<p>It will work for any server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/10</link>
        <pubDate>Thu, 12 Jul 2012 14:27:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-10</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@zerrann zerrann]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zerrann">@zerrann</a> wrote:</p>
          <blockquote>
              <p>will this work for a pi server?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/9</link>
        <pubDate>Mon, 09 Jul 2012 04:37:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-9</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@bob_is_bob bob is bob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bob_is_bob">@bob_is_bob</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="4" data-topic="448841">
<div class="title">
<div class="quote-controls"></div>
 t4:</div>
<blockquote>
<p>BigInteger is a better solution. Also, to anyone silly enough to use this: check for overflow.</p>
</blockquote>
</aside>
<p>You can see it clearly has checks.</p>
<aside class="quote" data-post="6" data-topic="448841">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/scape-java/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Scape-JAVA:</div>
<blockquote>
<p>So what did you do, besides changing an integer to a long?</p>
</blockquote>
</aside>
<p>I made the actual class. Don’t you think if it was converting a int to a long everyone would have this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/8</link>
        <pubDate>Mon, 09 Jul 2012 04:35:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-8</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@Fridder Fridder]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fridder">@Fridder</a> wrote:</p>
          <blockquote>
              <p>Your, not you’re. You’re = contraction of you are. Your is … your. Its you in the possessive case.</p>
<p>This is ‘good’, I guess. Good job.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/7</link>
        <pubDate>Mon, 09 Jul 2012 03:31:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-7</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@Scape-JAVA Scape-JAVA]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/scape-java">@Scape-JAVA</a> wrote:</p>
          <blockquote>
              <p>So what did you do, besides changing an integer to a long?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/6</link>
        <pubDate>Mon, 09 Jul 2012 02:52:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-6</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@superwiz789 superwiz789]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/superwiz789">@superwiz789</a> wrote:</p>
          <blockquote>
              <p>The least you could have done was put a limit on it, no ones going to get that much gp…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/5</link>
        <pubDate>Mon, 09 Jul 2012 02:47:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-5</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>BigInteger is a better solution. Also, to anyone silly enough to use this: check for overflow.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/4</link>
        <pubDate>Sun, 08 Jul 2012 21:46:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-4</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@m1lkman m1lkman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/m1lkman">@m1lkman</a> wrote:</p>
          <blockquote>
              <p>9 quintillion gp I believe. Could be wrong.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/3</link>
        <pubDate>Sun, 08 Jul 2012 20:34:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-3</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@TiVo TiVo]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tivo">@TiVo</a> wrote:</p>
          <blockquote>
              <p>Good job! You’ve learned how to change an int to a long! <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/2</link>
        <pubDate>Sun, 08 Jul 2012 20:30:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-2</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
      <item>
        <title>Collection bag store more than 900 trillion gp</title>
        <dc:creator><![CDATA[@bob_is_bob bob is bob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bob_is_bob">@bob_is_bob</a> wrote:</p>
          <blockquote>
              <p>Here is what you’re adding, we do not need any interface its done by a item called a collection bag.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i50.tinypic.com/281hbmv.png" title="281hbmv.png" rel="nofollow noopener"><img src="http://i50.tinypic.com/281hbmv.png" alt width="690" height="443"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">281hbmv.png</span><span class="informations">771×496</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
<img src="http://i50.tinypic.com/345n2xf.png" alt width="504" height="23"><br>
<img src="http://i45.tinypic.com/6z8wn6.png" alt width="516" height="130"><br>
<img src="http://i46.tinypic.com/2v2ihpv.png" alt width="524" height="135"></p>
<p>There are no dupes with this. It checks for all max values, i can’t count i think its 900 trillion.</p>
<p>MoneyPouch.java</p>
<p>[CODE]package server.model.content;</p>
<p>import server.Config;<br>
import server.model.mobile.players.Client;</p>
<p>/**<br>
*</p>
<ul>
<li>
<p><span class="mention">@author</span> Arrowzftw<br>
*/<br>
public class MoneyPouch {</p>
<p>private long storedCoins = 0;<br>
private boolean isWithdrawing = false;<br>
private Client c;<br>
public static final int MONEY_ITEM = 10525;</p>
<p>public MoneyPouch(Client c) {<br>
this.c = c;<br>
}</p>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/return">@return</a> the storedCoins<br>
*/<br>
public long getStoredCoins() {<br>
return storedCoins;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> storedCoins the storedCoins to set<br>
*/<br>
public void setStoredCoins(long storedCoins) {<br>
this.storedCoins = storedCoins;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/return">@return</a> the isStoring<br>
*/<br>
public boolean isWithdrawing() {<br>
return isWithdrawing;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="/u/param">@param</a> isStoring the isStoring to set<br>
*/<br>
public void setWithdrawing(boolean isWithdrawing) {<br>
this.isWithdrawing = isWithdrawing;<br>
}</li>
</ul>
<p>public void storeCoins(long amount) {<br>
if(c.playerRights != 3) {<br>
c.sendMessage(“Feature has been disabled, you can only withdraw money.”);<br>
return;<br>
}<br>
if (!c.getItems().playerHasItem(MONEY_ITEM)) {<br>
c.getPA().closeAllWindows();<br>
return;<br>
}<br>
if (Long.MAX_VALUE == getStoredCoins()) {<br>
c.sendMessage(“You cannot store anymore coins.”);<br>
return;<br>
}<br>
if (c.inWild()) {<br>
c.sendMessage(“You cannot do this in the wilderness.”);<br>
c.getPA().closeAllWindows();<br>
return;<br>
}<br>
if(c.isBanking || c.isDead || c.duelStatus &gt;= 1 || c.inTrade) {<br>
c.sendMessage(“You cannot do this in you’re current state.”);<br>
c.getPA().closeAllWindows();<br>
return;<br>
}</p>
<pre><code> if(amount &gt; Config.MAXITEM_AMOUNT) {
     amount = Config.MAXITEM_AMOUNT;
 }
 
 if (c.getItems().getItemAmount(995) &lt; amount) {
     amount = c.getItems().getItemAmount(995);
 }
 
 if (amount &lt;= 0) {
     c.getPA().closeAllWindows();
     return;
 }
 
 int a1 = (int) amount;
 c.getItems().deleteItem2(995, a1);
 setStoredCoins(getStoredCoins() + amount);
 c.sendMessage("You  have stored @red@" + amount + " @bla@coins.");
 c.sendMessage("You currently now have @red@" + getStoredCoins() + " @bla@coins in you're bag.");
 c.getPA().closeAllWindows();
</code></pre>
<p>}</p>
<p>public void removeCoins(long amount) {<br>
if (!c.getItems().playerHasItem(MONEY_ITEM)) {<br>
c.getPA().closeAllWindows();<br>
return;<br>
}<br>
if (c.inWild()) {<br>
c.sendMessage(“You cannot do this in the wilderness.”);<br>
c.getPA().closeAllWindows();<br>
return;<br>
}<br>
if(c.isBanking || c.isDead || c.duelStatus &gt;= 1 || c.inTrade) {<br>
c.sendMessage(“You cannot do this in you’re current state.”);<br>
c.getPA().closeAllWindows();<br>
return;<br>
}<br>
if(amount &gt; Config.MAXITEM_AMOUNT) {<br>
amount = Config.MAXITEM_AMOUNT;<br>
}<br>
long coinInvAmount = c.getItems().getItemAmount((int) 995);</p>
<pre><code> if (getStoredCoins() &lt; amount) {
     amount = getStoredCoins();
 }
 
 if (amount &lt;= 0) {
     c.getPA().closeAllWindows();
     return;
 }
if((coinInvAmount - Config.MAXITEM_AMOUNT) == 0) {
    c.sendMessage("You cannot withdraw any more coins.");
    return;
}
 if (coinInvAmount &gt;= 1) {
     if (coinInvAmount == Config.MAXITEM_AMOUNT) {
         c.sendMessage("You cannot withdraw any more coins.");
         c.getPA().closeAllWindows();
         return;
     }
     if ((amount + coinInvAmount) &gt; Config.MAXITEM_AMOUNT) {
         amount = (Config.MAXITEM_AMOUNT - coinInvAmount);
     }
 } else {
     if (c.getItems().freeSlots() &lt;= 0) {
         c.sendMessage("Not enough inventory space.");
         c.getPA().closeAllWindows();
         return;
     }
 }
 c.sendMessage("You withdraw "+amount+" coins.");
 
 setStoredCoins(getStoredCoins() - amount);
 c.getItems().addItem(995, (int) amount);
 c.getPA().closeAllWindows();
</code></pre>
<p>}</p>
<p>public void handleClicks(int clickType) {<br>
if (!c.getItems().playerHasItem(MONEY_ITEM)) {<br>
return;<br>
}<br>
switch (clickType) {<br>
case 1:<br>
c.getDH().sendItemChat2(“Collection bag”, “You currently have “+getStoredCoins()+” coins stored.”, “Click continue to see further options.”, MONEY_ITEM, 150);<br>
c.nextChat = 6001;<br>
break;</p>
<pre><code> }
</code></pre>
<p>}<br>
}<br>
[/CODE]</p>
</li>
</ul>
<p>Add this to client.java:</p>
<p><code>    private MoneyPouch moneyPouch = new MoneyPouch(this);
    public MoneyPouch getPouch() {
        return moneyPouch;
    }</code></p>
<p>Add this to DialogueHandler.java</p>
<p><code>                
            case 6001:
                c.getDH().sendOption2("Withdraw coins", "Store coins");
                c.dialogueAction = 6001;
                c.nextChat = 0;
                break;</code></p>
<p>Declare this in DialogueHandler.java too:</p>
<p><code>public void sendItemChat2(String header, String one, String two, int item, int zoom) {
        c.getPA().sendFrame200(311, 591);
        c.getPA().sendFrame126(two, 312);
        c.getPA().sendFrame126(one, 313);
        c.getPA().sendFrame126(header, 4885);
        c.getPA().sendFrame246(311, zoom, item);
        c.getPA().sendFrame164(310);
        c.nextChat = 0;
    }</code></p>
<p>Find case 9057 in ClickingButtons.java</p>
<p>under it add:</p>
<p><code> if(c.dialogueAction == 6001) {
                    c.getPouch().setWithdrawing(true);
                    c.getOutStream().createFrame(27);
                    return;
                }</code></p>
<p>Find case 9058 in ClickingButtons.java</p>
<p>under it add:</p>
<p><code>                 if(c.dialogueAction == 6001) {
                    c.getPouch().setWithdrawing(false);
                    c.getOutStream().createFrame(27);
                    return;
                }</code></p>
<p>Go to bankX2.java and under:</p>
<p><code>        if (Xamount &lt; 0) {
            return;
        }</code></p>
<p>Add:</p>
<p><code>        if(c.dialogueAction == 6001) {
            if(c.getPouch().isWithdrawing()) {
                c.getPouch().removeCoins(Xamount);
            } else {
                c.getPouch().storeCoins(Xamount);
            }
        }</code></p>
<p>Go to itemonitem and add this:</p>
<p><code>        if(useWith == MoneyPouch.MONEY_ITEM || itemUsed == MoneyPouch.MONEY_ITEM) {
            if(useWith == 995 || itemUsed == 995) {
                c.getPouch().storeCoins(c.getItems().getItemAmount(995));
            }
        }</code></p>
<p>In PlayerAssistant.java replace closeAllWindows with:</p>
<p>[CODE]public void closeAllWindows() {<br>
if(c != null) {<br>
if (c.getOutStream() != null) {<br>
c.isBanking = false;<br>
c.getOutStream().createFrame(219);<br>
c.flushOutStream();<br>
if(c.dialogueAction == 6001) {<br>
c.dialogueAction = -1;<br>
}</p>
<pre><code>        }
    }
}[/CODE]
</code></pre>
<p>Finally add this to first clickItem:</p>
<p><code>  case MoneyPouch.MONEY_ITEM:
                c.getPouch().handleClicks(1);
                break;</code></p>
<p>Here is the PlayerSave rubbish:</p>
<p><code>} else if (token.equals("storedCoins")) {
p.getPouch().setStoredCoins(Long.parseLong(token2));</code></p>
<p><code>                        characterfile.write("storedCoins = ", 0, 14);
			characterfile.write(Long.toString(p.getPouch().getStoredCoins()), 0, Long.toString(p.getPouch().getStoredCoins()).length());
                        characterfile.newLine();</code></p>
<p>To use spawn item 10525 and interact with it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841/1</link>
        <pubDate>Sun, 08 Jul 2012 19:26:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-448841-1</guid>
        <source url="https://forum.moparisthebest.com/t/collection-bag-store-more-than-900-trillion-gp/448841.rss">Collection bag store more than 900 trillion gp</source>
      </item>
  </channel>
</rss>
