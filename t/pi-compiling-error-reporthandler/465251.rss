<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Compiling Error - ReportHandler</title>
    <link>https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251</link>
    <description>I followed a tutorial and have also tried to find others for a basic report abuse system.. however, out of all the comments, I seem to be the only one with this error! What am I missing?

[code]src\server\model\players\ReportHandler.java:129: error: illegal start of express
ion
 public static boolean hasSpoke(String s) {
 ^
src\server\model\players\ReportHandler.java:129: error: illegal start of express
ion
 public static boolean hasSpoke(String s) {
        ^
src\server\model\players\ReportHandler.java:129: error: &#39;;&#39; expected
 public static boolean hasSpoke(String s) {
              ^
src\server\model\players\ReportHandler.java:129: error: &#39;)&#39; expected
 public static boolean hasSpoke(String s) {
                                      ^
src\server\model\players\ReportHandler.java:129: error: illegal start of express
ion
 public static boolean hasSpoke(String s) {
                                        ^
src\server\model\players\ReportHandler.java:129: error: &#39;;&#39; expected
 public static boolean hasSpoke(String s) {
                                         ^
src\server\model\players\ReportHandler.java:139: error: illegal start of express
ion
public static String getMonth(String s) {
^
src\server\model\players\ReportHandler.java:139: error: illegal start of express
ion
public static String getMonth(String s) {
       ^
src\server\model\players\ReportHandler.java:139: error: &#39;;&#39; expected
public static String getMonth(String s) {
                    ^
src\server\model\players\ReportHandler.java:139: error: &#39;)&#39; expected
public static String getMonth(String s) {
                                    ^
src\server\model\players\ReportHandler.java:139: error: illegal start of express
ion
public static String getMonth(String s) {
                                      ^
src\server\model\players\ReportHandler.java:139: error: &#39;;&#39; expected
public static String getMonth(String s) {
                                       ^
12 errors
Press any key to continue . . .[/code]

Oh, and here&#39;s the ReportHandler class.

[code]package server.model.players;

import java.io.BufferedWriter;
import java.io.FileWriter;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;

import server.model.players.Client;
import server.util.Misc;


public class ReportHandler {

public static String[] savedNames = new String[500];
public static String[] savedSpeach = new String[500];
public static String[] savedTimes = new String[500];

public static final String[] reportNames = { &quot;Offensive language&quot;,
&quot;Item scamming&quot;, &quot;Password scamming&quot;, &quot;Bug abuse&quot;,
&quot;Staff impersonation&quot;, &quot;Other&quot;, &quot;Macroing&quot;, &quot;Duping&quot;,
&quot;Encouraging others to break the rules&quot;, &quot;Yell abuse&quot;,
&quot;Advertising&quot;, &quot;Possible duped items&quot; };

public static void addText(String name, byte[] data, int dataLength) {
for (int i = 499; i &gt; 0; i--) {
savedNames[i] = savedNames[i - 1];
savedSpeach[i] = savedSpeach[i - 1];
savedTimes[i] = savedTimes[i - 1];
}

savedNames[0] = name;
savedSpeach[0] = Misc.textUnpack(data, dataLength);
String minute = new SimpleDateFormat(&quot;mm&quot;).format(new Date());
String second = new SimpleDateFormat(&quot;ss&quot;).format(new Date());
String hour = new SimpleDateFormat(&quot;hh&quot;).format(new Date());
savedTimes[0] = hour + &quot;:&quot; + minute + &quot;:&quot; + second;
}

public static void handleReport(Client c) throws Exception {
String player = Misc.longToReportPlayerName(c.inStream.readQWord2());
player = player.replaceAll(&quot;_&quot;, &quot; &quot;);
byte rule = (byte) c.inStream.readUnsignedByte();
if (c.lastReported.equalsIgnoreCase(player)
&amp;&amp; (System.currentTimeMillis() - c.lastReport) &lt; 60000) {
c.sendMessage(&quot;You can only report a player once every 60 seconds.&quot;);
return;
}
if (c.playerName.equalsIgnoreCase(player)) {
c.sendMessage(&quot;You cannot report yourself!&quot;);
return;
}
if (hasSpoke(player)) {
String sendText = &quot;&quot;;

for (int i = 499; i &gt; 0; i--) {
if (savedNames[i] != null) {
if (savedNames[i].equalsIgnoreCase(c.playerName)
|| savedNames[i].equalsIgnoreCase(player)) {
sendText += &quot; -[&quot; + savedTimes[i] + &quot;: &quot;
+ savedNames[i] + &quot;]: &quot; + savedSpeach[i]
+ &quot;\r\n&quot;;
}
}
}

sendText = sendText.replaceAll(&quot;&#39;&quot;, &quot; &quot;);
String month = getMonth(new SimpleDateFormat(&quot;MM&quot;)
.format(new Date()));
String day = new SimpleDateFormat(&quot;dd&quot;).format(new Date());
// Statement statement = Server.conn.createStatement();
writeReport(player + &quot; was reported by &quot; + c.playerName + &quot;, &quot;
+ reportNames[rule] + &quot;, &quot; + month + &quot;, &quot; + day + &quot;&quot;,
sendText + &quot;.&quot;, reportNames[rule]);
c.sendMessage(&quot;Thank you, your report has been received and will be reviewed.&quot;);
c.lastReported = player;
c.lastReport = System.currentTimeMillis();
return;
} else {
c.sendMessage(&quot;You can only report someone who has spoken in the last 60 seconds.&quot;);
return;
}
}

public static void writeReport(String data, String text, String file) {
BufferedWriter bw = null;

try {
bw = new BufferedWriter(new FileWriter(&quot;./data/reports/&quot; + file
+ &quot;.txt&quot;, true));
bw.write(data);
bw.newLine();
bw.write(text);
bw.newLine();
bw.newLine();
bw.flush();
} catch (IOException ioe) {
ioe.printStackTrace();
} finally {
if (bw != null)
try {
bw.close();
} catch (IOException ioe2) {
System.out.println(&quot;Error writing system log.&quot;);
ioe2.printStackTrace();
}
}

}

public static void writeLog(String text, String file, String dir) {
// used for bans/mutes/chatlogs etc. -bakatool
BufferedWriter bw = null;
try {
bw = new BufferedWriter(new FileWriter(dir + file + &quot;.txt&quot;, true));
bw.write(text);
bw.newLine();
bw.flush();
} catch (IOException ioe) {
ioe.printStackTrace();
} finally {
if (bw != null)
try {
bw.close();
} catch (IOException ioe2) {
System.out.println(&quot;Error writing system log.&quot;);
ioe2.printStackTrace();

 public static boolean hasSpoke(String s) {         
 for (int i = 0; i &lt; 500; i++) {             
 if (savedNames[i] != null) {                 
 if (savedNames[i].equalsIgnoreCase(s))                     
 return true;             
 }         
 }         
 return false;     
 } 

public static String getMonth(String s) {
try {
int i = Integer.parseInt(s);
String[] months = { &quot;&quot;, &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;,
&quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;,
&quot;November&quot;, &quot;December&quot; };
return months[i];
} catch (Exception e) {
e.printStackTrace();
}
return &quot;Unknown&quot;;
}
}

}[/code]</description>
    
    <lastBuildDate>Fri, 26 Oct 2012 23:50:53 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Compiling Error - ReportHandler</title>
        <dc:creator><![CDATA[@k1ng0frs k1ng0frs]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/k1ng0frs">@k1ng0frs</a> wrote:</p>
          <blockquote>
              <p>[code]package server.model.players;</p>
<p>import java.io.BufferedWriter;<br>
import java.io.FileWriter;<br>
import java.io.IOException;<br>
import java.text.SimpleDateFormat;<br>
import java.util.Date;</p>
<p>import server.model.players.Client;<br>
import server.util.Misc;</p>
<p>public class ReportHandler {</p>
<p>public static String[] savedNames = new String[500];<br>
public static String[] savedSpeach = new String[500];<br>
public static String[] savedTimes = new String[500];</p>
<p>public static final String[] reportNames = { “Offensive language”,<br>
“Item scamming”, “Password scamming”, “Bug abuse”,<br>
“Staff impersonation”, “Other”, “Macroing”, “Duping”,<br>
“Encouraging others to break the rules”, “Yell abuse”,<br>
“Advertising”, “Possible duped items” };</p>
<p>public static void addText(String name, byte[] data, int dataLength) {<br>
for (int i = 499; i &gt; 0; i–) {<br>
savedNames[i] = savedNames[i - 1];<br>
savedSpeach[i] = savedSpeach[i - 1];<br>
savedTimes[i] = savedTimes[i - 1];<br>
}</p>
<p>savedNames[0] = name;<br>
savedSpeach[0] = Misc.textUnpack(data, dataLength);<br>
String minute = new SimpleDateFormat(“mm”).format(new Date());<br>
String second = new SimpleDateFormat(“ss”).format(new Date());<br>
String hour = new SimpleDateFormat(“hh”).format(new Date());<br>
savedTimes[0] = hour + “:” + minute + “:” + second;<br>
}</p>
<p>public static void handleReport(Client c) throws Exception {<br>
String player = Misc.longToReportPlayerName(c.inStream.readQWord2());<br>
player = player.replaceAll("_", " ");<br>
byte rule = (byte) c.inStream.readUnsignedByte();<br>
if (c.lastReported.equalsIgnoreCase(player)<br>
&amp;&amp; (System.currentTimeMillis() - c.lastReport) &lt; 60000) {<br>
c.sendMessage(“You can only report a player once every 60 seconds.”);<br>
return;<br>
}<br>
if (c.playerName.equalsIgnoreCase(player)) {<br>
c.sendMessage(“You cannot report yourself!”);<br>
return;<br>
}<br>
if (hasSpoke(player)) {<br>
String sendText = “”;</p>
<p>for (int i = 499; i &gt; 0; i–) {<br>
if (savedNames[i] != null) {<br>
if (savedNames[i].equalsIgnoreCase(c.playerName)<br>
|| savedNames[i].equalsIgnoreCase(player)) {<br>
sendText += " -[" + savedTimes[i] + ": "</p>
<ul>
<li>savedNames[i] + "]: " + savedSpeach[i]</li>
<li>“\r\n”;<br>
}<br>
}<br>
}</li>
</ul>
<p>sendText = sendText.replaceAll("’", " ");<br>
String month = getMonth(new SimpleDateFormat(“MM”)<br>
.format(new Date()));<br>
String day = new SimpleDateFormat(“dd”).format(new Date());<br>
// Statement statement = Server.conn.createStatement();<br>
writeReport(player + " was reported by " + c.playerName + ", "</p>
<ul>
<li>reportNames[rule] + ", " + month + ", " + day + “”,<br>
sendText + “.”, reportNames[rule]);<br>
c.sendMessage(“Thank you, your report has been received and will be reviewed.”);<br>
c.lastReported = player;<br>
c.lastReport = System.currentTimeMillis();<br>
return;<br>
} else {<br>
c.sendMessage(“You can only report someone who has spoken in the last 60 seconds.”);<br>
return;<br>
}<br>
}</li>
</ul>
<p>public static void writeReport(String data, String text, String file) {<br>
BufferedWriter bw = null;</p>
<p>try {<br>
bw = new BufferedWriter(new FileWriter("./data/reports/" + file</p>
<ul>
<li>“.txt”, true));<br>
bw.write(data);<br>
bw.newLine();<br>
bw.write(text);<br>
bw.newLine();<br>
bw.newLine();<br>
bw.flush();<br>
} catch (IOException ioe) {<br>
ioe.printStackTrace();<br>
} finally {<br>
if (bw != null)<br>
try {<br>
bw.close();<br>
} catch (IOException ioe2) {<br>
System.out.println(“Error writing system log.”);<br>
ioe2.printStackTrace();<br>
}<br>
}</li>
</ul>
<p>}</p>
<p>public static void writeLog(String text, String file, String dir) {<br>
// used for bans/mutes/chatlogs etc. -bakatool<br>
BufferedWriter bw = null;<br>
try {<br>
bw = new BufferedWriter(new FileWriter(dir + file + “.txt”, true));<br>
bw.write(text);<br>
bw.newLine();<br>
bw.flush();<br>
} catch (IOException ioe) {<br>
ioe.printStackTrace();<br>
} finally {<br>
if (bw != null)<br>
try {<br>
bw.close();<br>
} catch (IOException ioe2) {<br>
System.out.println(“Error writing system log.”);<br>
ioe2.printStackTrace();<br>
}<br>
}<br>
}</p>
<p>public static boolean hasSpoke(String s) {<br>
for (int i = 0; i &lt; 500; i++) {<br>
if (savedNames[i] != null) {<br>
if (savedNames[i].equalsIgnoreCase(s))<br>
return true;<br>
}<br>
}<br>
return false;<br>
}</p>
<p>public static String getMonth(String s) {<br>
try {<br>
int i = Integer.parseInt(s);<br>
String[] months = { “”, “January”, “February”, “March”, “April”,<br>
“May”, “June”, “July”, “August”, “September”, “October”,<br>
“November”, “December” };<br>
return months[i];<br>
} catch (Exception e) {<br>
e.printStackTrace();<br>
}<br>
return “Unknown”;<br>
}<br>
}<br>
[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251/3</link>
        <pubDate>Fri, 26 Oct 2012 23:50:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-465251-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251.rss">[PI] Compiling Error - ReportHandler</source>
      </item>
      <item>
        <title>[PI] Compiling Error - ReportHandler</title>
        <dc:creator><![CDATA[@Agent766 Agent766]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/agent766">@Agent766</a> wrote:</p>
          <blockquote>
              <p>I can’t read that code and my IDE’s a bit fucked up right now, but I can almost guarantee that you’re missing a bracket before that function.</p>
<p>That would mean you’re trying the declare a function while you’re still inside another function.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251/2</link>
        <pubDate>Fri, 26 Oct 2012 23:07:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-465251-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251.rss">[PI] Compiling Error - ReportHandler</source>
      </item>
      <item>
        <title>[PI] Compiling Error - ReportHandler</title>
        <dc:creator><![CDATA[@InfectedWhore InfectedWhore]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/infectedwhore">@InfectedWhore</a> wrote:</p>
          <blockquote>
              <p>I followed a tutorial and have also tried to find others for a basic report abuse system… however, out of all the comments, I seem to be the only one with this error! What am I missing?</p>
<p><code>src\server\model\players\ReportHandler.java:129: error: illegal start of express
ion
 public static boolean hasSpoke(String s) {
 ^
src\server\model\players\ReportHandler.java:129: error: illegal start of express
ion
 public static boolean hasSpoke(String s) {
        ^
src\server\model\players\ReportHandler.java:129: error: ';' expected
 public static boolean hasSpoke(String s) {
              ^
src\server\model\players\ReportHandler.java:129: error: ')' expected
 public static boolean hasSpoke(String s) {
                                      ^
src\server\model\players\ReportHandler.java:129: error: illegal start of express
ion
 public static boolean hasSpoke(String s) {
                                        ^
src\server\model\players\ReportHandler.java:129: error: ';' expected
 public static boolean hasSpoke(String s) {
                                         ^
src\server\model\players\ReportHandler.java:139: error: illegal start of express
ion
public static String getMonth(String s) {
^
src\server\model\players\ReportHandler.java:139: error: illegal start of express
ion
public static String getMonth(String s) {
       ^
src\server\model\players\ReportHandler.java:139: error: ';' expected
public static String getMonth(String s) {
                    ^
src\server\model\players\ReportHandler.java:139: error: ')' expected
public static String getMonth(String s) {
                                    ^
src\server\model\players\ReportHandler.java:139: error: illegal start of express
ion
public static String getMonth(String s) {
                                      ^
src\server\model\players\ReportHandler.java:139: error: ';' expected
public static String getMonth(String s) {
                                       ^
12 errors
Press any key to continue . . .</code></p>
<p>Oh, and here’s the ReportHandler class.</p>
<p>[code]package server.model.players;</p>
<p>import java.io.BufferedWriter;<br>
import java.io.FileWriter;<br>
import java.io.IOException;<br>
import java.text.SimpleDateFormat;<br>
import java.util.Date;</p>
<p>import server.model.players.Client;<br>
import server.util.Misc;</p>
<p>public class ReportHandler {</p>
<p>public static String[] savedNames = new String[500];<br>
public static String[] savedSpeach = new String[500];<br>
public static String[] savedTimes = new String[500];</p>
<p>public static final String[] reportNames = { “Offensive language”,<br>
“Item scamming”, “Password scamming”, “Bug abuse”,<br>
“Staff impersonation”, “Other”, “Macroing”, “Duping”,<br>
“Encouraging others to break the rules”, “Yell abuse”,<br>
“Advertising”, “Possible duped items” };</p>
<p>public static void addText(String name, byte[] data, int dataLength) {<br>
for (int i = 499; i &gt; 0; i–) {<br>
savedNames[i] = savedNames[i - 1];<br>
savedSpeach[i] = savedSpeach[i - 1];<br>
savedTimes[i] = savedTimes[i - 1];<br>
}</p>
<p>savedNames[0] = name;<br>
savedSpeach[0] = Misc.textUnpack(data, dataLength);<br>
String minute = new SimpleDateFormat(“mm”).format(new Date());<br>
String second = new SimpleDateFormat(“ss”).format(new Date());<br>
String hour = new SimpleDateFormat(“hh”).format(new Date());<br>
savedTimes[0] = hour + “:” + minute + “:” + second;<br>
}</p>
<p>public static void handleReport(Client c) throws Exception {<br>
String player = Misc.longToReportPlayerName(c.inStream.readQWord2());<br>
player = player.replaceAll("_", " ");<br>
byte rule = (byte) c.inStream.readUnsignedByte();<br>
if (c.lastReported.equalsIgnoreCase(player)<br>
&amp;&amp; (System.currentTimeMillis() - c.lastReport) &lt; 60000) {<br>
c.sendMessage(“You can only report a player once every 60 seconds.”);<br>
return;<br>
}<br>
if (c.playerName.equalsIgnoreCase(player)) {<br>
c.sendMessage(“You cannot report yourself!”);<br>
return;<br>
}<br>
if (hasSpoke(player)) {<br>
String sendText = “”;</p>
<p>for (int i = 499; i &gt; 0; i–) {<br>
if (savedNames[i] != null) {<br>
if (savedNames[i].equalsIgnoreCase(c.playerName)<br>
|| savedNames[i].equalsIgnoreCase(player)) {<br>
sendText += " -[" + savedTimes[i] + ": "</p>
<ul>
<li>savedNames[i] + "]: " + savedSpeach[i]</li>
<li>“\r\n”;<br>
}<br>
}<br>
}</li>
</ul>
<p>sendText = sendText.replaceAll("’", " ");<br>
String month = getMonth(new SimpleDateFormat(“MM”)<br>
.format(new Date()));<br>
String day = new SimpleDateFormat(“dd”).format(new Date());<br>
// Statement statement = Server.conn.createStatement();<br>
writeReport(player + " was reported by " + c.playerName + ", "</p>
<ul>
<li>reportNames[rule] + ", " + month + ", " + day + “”,<br>
sendText + “.”, reportNames[rule]);<br>
c.sendMessage(“Thank you, your report has been received and will be reviewed.”);<br>
c.lastReported = player;<br>
c.lastReport = System.currentTimeMillis();<br>
return;<br>
} else {<br>
c.sendMessage(“You can only report someone who has spoken in the last 60 seconds.”);<br>
return;<br>
}<br>
}</li>
</ul>
<p>public static void writeReport(String data, String text, String file) {<br>
BufferedWriter bw = null;</p>
<p>try {<br>
bw = new BufferedWriter(new FileWriter("./data/reports/" + file</p>
<ul>
<li>“.txt”, true));<br>
bw.write(data);<br>
bw.newLine();<br>
bw.write(text);<br>
bw.newLine();<br>
bw.newLine();<br>
bw.flush();<br>
} catch (IOException ioe) {<br>
ioe.printStackTrace();<br>
} finally {<br>
if (bw != null)<br>
try {<br>
bw.close();<br>
} catch (IOException ioe2) {<br>
System.out.println(“Error writing system log.”);<br>
ioe2.printStackTrace();<br>
}<br>
}</li>
</ul>
<p>}</p>
<p>public static void writeLog(String text, String file, String dir) {<br>
// used for bans/mutes/chatlogs etc. -bakatool<br>
BufferedWriter bw = null;<br>
try {<br>
bw = new BufferedWriter(new FileWriter(dir + file + “.txt”, true));<br>
bw.write(text);<br>
bw.newLine();<br>
bw.flush();<br>
} catch (IOException ioe) {<br>
ioe.printStackTrace();<br>
} finally {<br>
if (bw != null)<br>
try {<br>
bw.close();<br>
} catch (IOException ioe2) {<br>
System.out.println(“Error writing system log.”);<br>
ioe2.printStackTrace();</p>
<p>public static boolean hasSpoke(String s) {<br>
for (int i = 0; i &lt; 500; i++) {<br>
if (savedNames[i] != null) {<br>
if (savedNames[i].equalsIgnoreCase(s))<br>
return true;<br>
}<br>
}<br>
return false;<br>
}</p>
<p>public static String getMonth(String s) {<br>
try {<br>
int i = Integer.parseInt(s);<br>
String[] months = { “”, “January”, “February”, “March”, “April”,<br>
“May”, “June”, “July”, “August”, “September”, “October”,<br>
“November”, “December” };<br>
return months[i];<br>
} catch (Exception e) {<br>
e.printStackTrace();<br>
}<br>
return “Unknown”;<br>
}<br>
}</p>
<p>}[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251/1</link>
        <pubDate>Fri, 26 Oct 2012 19:39:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-465251-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-compiling-error-reporthandler/465251.rss">[PI] Compiling Error - ReportHandler</source>
      </item>
  </channel>
</rss>
