<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/loading-and-using-object-sizes/351738 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 17:29:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Loading and using Object Sizes - Runescape - moparisthebest.com</title>
    <meta name="description" content="Description: In this tutorial, I will teach you how to load and use Object Sizes in your server. Server Base: This is compatible with any server. Difficulty: May be hard to understand, but shouldn&amp;#39;t be hard to complete t&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="351738.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Loading and using Object Sizes&#39;" href="351738.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/loading-and-using-object-sizes/351738" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/loading-and-using-object-sizes/351738" />
<meta property="og:title" content="Loading and using Object Sizes" />
<meta name="twitter:title" content="Loading and using Object Sizes" />
<meta property="og:description" content="Description: In this tutorial, I will teach you how to load and use Object Sizes in your server.  Server Base: This is compatible with any server.  Difficulty: May be hard to understand, but shouldn’t be hard to complete the tutorial.  Firstly, you will need to download the Object Sizes File that we will be using to load the object sizes from. You will need to either place this file in a folder named “data”, or change the directory that the “loadObjectSizes()” method is attempting to load the fi..." />
<meta name="twitter:description" content="Description: In this tutorial, I will teach you how to load and use Object Sizes in your server.  Server Base: This is compatible with any server.  Difficulty: May be hard to understand, but shouldn’t be hard to complete the tutorial.  Firstly, you will need to download the Object Sizes File that we will be using to load the object sizes from. You will need to either place this file in a folder named “data”, or change the directory that the “loadObjectSizes()” method is attempting to load the fi..." />
<meta property="article:published_time" content="2010-07-29T01:15:02+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="351738.html">Loading and using Object Sizes</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/primadude.html'><span itemprop='name'>primadude</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-29T01:15:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:11:40Z' class='post-time'>
              July 31, 2016,  6:11pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><span class="bbcode-b">Description:</span> In this tutorial, I will teach you how to load and use Object Sizes in your server.<br>
<span class="bbcode-b">Server Base:</span> This is compatible with any server.<br>
<span class="bbcode-b">Difficulty</span>: May be hard to understand, but shouldn’t be hard to complete the tutorial.</p>
<p>Firstly, you will need to download the <a href="http://dl.dropbox.com/u/2505112/Data/objectSizes.txt" data-bbcode="true" rel="nofollow noopener">Object Sizes File</a> that we will be using to load the object sizes from. You will need to either place this file in a folder named “data”, or change the directory that the “loadObjectSizes()” method is attempting to load the file from. If you prefer to use XML (This is what I use), download the <a href="http://dl.dropbox.com/u/2505112/Data/objectSizes.xml" data-bbcode="true" rel="nofollow noopener">XML file</a> and load the sizes in your own way.</p>
<p>Both of the above files <span class="bbcode-u"><span class="bbcode-i">only</span></span> contain the object ids and sizes of the objects that <span class="bbcode-b">do not have a size of 1</span>. This is because we can just use a method to iterate through all the object ids to get the sizes, and if the object id isn’t found, the size of 1 will be returned by default.</p>
<p><span class="bbcode-u"><span class="bbcode-b">Step 1: Creating the class to load the data.</span></span></p>
<p>This is the class that we will be using to load and store the object sizes.</p>
<p>[code=java]import java.io.BufferedReader;<br>
import java.io.FileReader;<br>
import java.util.logging.Level;<br>
import java.util.logging.Logger;</p>
<p>/**</p>
<ul>
<li>
<p>Loads and stores object sizes.</p>
</li>
<li>
<p><span class="mention">@author</span> Primadude.<br>
*/<br>
public class ObjectSizes {</p>
<p>/**</p>
<ul>
<li>ID index constant.<br>
*/<br>
private final int ID = 0;</li>
</ul>
<p>/**</p>
<ul>
<li>Size index constant.<br>
*/<br>
private final int SIZE = 1;</li>
</ul>
<p>/**</p>
<ul>
<li>Maximum object constant.<br>
*/<br>
private static final int MAX_OBJECTS = 1773;</li>
</ul>
<p>/**</p>
<ul>
<li>The Object sizes.<br>
*/<br>
private static int[][] sizes = new int[MAX_OBJECTS][2];</li>
</ul>
<p>/**</p>
<ul>
<li>The Logger instance.<br>
*/<br>
private Logger logger = Logger.getLogger(ObjectSizes.class.getName());</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the size of the specific object.</li>
<li>
<a class="mention" href="../../u/param.html">@param</a> objectID The ID of the object to return the size for.</li>
<li>
<a class="mention" href="../../u/return.html">@return</a> The size of the object.<br>
*/<br>
public int getSize(int objectID) {<br>
for (int i = 0; i &lt; sizes.length; i++) {<br>
if (sizes[i][ID] == objectID) {<br>
return sizes[i][SIZE];<br>
}<br>
}<br>
return 1;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Loads the object sizes.<br>
*/<br>
public void loadObjectSizes() {<br>
int lineID = 0;<br>
String line = “”;<br>
try {<br>
BufferedReader in = new BufferedReader(new FileReader(“data/objectSizes.txt”));<br>
while((line = in.readLine()) != null &amp;&amp; lineID &lt; MAX_OBJECTS) {<br>
String[] lineArray = line.split("\t");<br>
int id = Integer.valueOf(lineArray[0]);<br>
int size = Integer.valueOf(lineArray[1]);<br>
sizes[lineID][ID] = id;<br>
sizes[lineID][SIZE] = size;<br>
lineID++;<br>
}<br>
in.close();<br>
} catch(Exception exception) {<br>
logger.log(Level.WARNING, “Exception caught whilst loading object sizes:”);<br>
exception.printStackTrace();<br>
return;<br>
}<br>
}<br>
}[/code]</li>
</ul>
</li>
</ul>
<p>This class is pretty self-explanatory, however, I will explain it anyway.</p>
<p>The first Objects we see within the class are two integer constants; we use these for the indexes in the second dimension of the 2D array in this class (Object ID and Object Size).<br>
After these two, we see another integer constant, however this is used for the Maximum amount of object sizes that are loaded from the file (1773).</p>
<p>We next see our two-dimensional array that stores the object IDs and Sizes.</p>
<p>After this, there is the logger instance. This is used to log information/warnings in the output.</p>
<p>Our first method comes up after this; the “getSize” method. This returns the value of the object size for the object ID that is input in the “objectID” parameter of the method. If the object ID cannot be found within the “sizes” 2D array, then the default size of 1 is returned.</p>
<p>The final method loads the object Sizes from the file, using a BufferedReader. Each line that is loaded is split by the tab in-between the ID and the size in the line, converted to an array, then put into the “sizes” 2D array. If an exception is thrown whilst loading the data, it is caught, the logger prints a message in the output and the exception is printed in the output.</p>
<p><span class="bbcode-u"><span class="bbcode-b">Step 2: Calling the “loadObjectSizes()” method to load the data.</span></span></p>
<p>We now need to call the “loadObjectSizes()” method upon the start-up of the server. This will make it so we can get the size of any object at any time after this.</p>
<p>In your main method, in most servers it’s in the “Server” class, you will need to add this:</p>
<pre><code class="lang-auto">new ObjectSizes().loadObjectSizes();</code></pre>
<p>Don’t forget to import the ObjectSizes class if required.</p>
<p><span class="bbcode-u"><span class="bbcode-b">Step 3: Using the object sizes.</span></span></p>
<p>The most common usage of object sizes, is checking if you’re within an object’s distance to execute an action. We can do this by using these two methods:</p>
<p>[code=java]	public boolean isWithinDistance(int x, int y, int otherX, int otherY, int size, int distance) {<br>
return (double) distance &gt;= getDistance(x, y, otherX, otherY, size);<br>
}</p>
<pre><code>public double getDistance(int x, int y, int otherX, int otherY, int size) {
	return Math.hypot((double) otherX + (double) size / 2.0D - (double) x - 0.5D, (double) otherY + (double) size / 2.0D - (double) y - 0.5D);
}[/code]
</code></pre>
<p>We then use the “isWithinDistance” method to check if the player is within the correct distance of the object:</p>
<p><code>int distance = 1;
int size = new ObjectSizes().getSize(objectID);
if (isWithinDistance(objectX, objectY, playerX, playerY, size, distance)) {
        // Execute action.
}</code></p>
<p>Thanks for using or reading this tutorial. If you have any problems at all, either post a reply here or PM me ;).</p>
      </div>

      <meta itemprop='headline' content='Loading and using Object Sizes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/AuDiOdreams.html'><span itemprop='name'>AuDiOdreams</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-29T01:16:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:11:41Z' class='post-time'>
              July 31, 2016,  6:11pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Very good job!  <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Loading and using Object Sizes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sorecheeny.html'><span itemprop='name'>sorecheeny</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-30T16:55:30Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:13:48Z' class='post-time'>
              July 31, 2016,  6:13pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Very nice tutorial. I would rep++ but i can’t. :l</p>
      </div>

      <meta itemprop='headline' content='Loading and using Object Sizes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/usman555.html'><span itemprop='name'>usman555</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T00:10:43Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:14:32Z' class='post-time'>
              July 31, 2016,  6:14pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sorecheeny, post:3, topic:351738”]Very nice tutorial. I would rep++ but i can’t. :l[/quote]And he already has 200 <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
<span class="mention">@Ontopic</span>:<br>
Nice tutorial.</p>
      </div>

      <meta itemprop='headline' content='Loading and using Object Sizes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sorecheeny.html'><span itemprop='name'>sorecheeny</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-31T00:32:29Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:14:32Z' class='post-time'>
              July 31, 2016,  6:14pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>xD thats wut i ment both ways</p>
      </div>

      <meta itemprop='headline' content='Loading and using Object Sizes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/loading-and-using-object-sizes/351738 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 17:29:33 GMT -->
</html>
