<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/tick-event-pool/416784 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 11:18:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Tick Event Pool - General Programming - moparisthebest.com</title>
    <meta name="description" content="So I was recently looking at how to implement Grahams Event Manager (I know how, I was just posting :P) and I thought about restarting my old tool set (little utilities I made a while ago). When I found this, I tested it&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="416784.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Tick Event Pool&#39;" href="416784.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/tick-event-pool/416784" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/tick-event-pool/416784" />
<meta property="og:title" content="Tick Event Pool" />
<meta name="twitter:title" content="Tick Event Pool" />
<meta property="og:description" content="So I was recently looking at how to implement Grahams Event Manager (I know how, I was just posting :P) and I thought about restarting my old tool set (little utilities I made a while ago). When I found this, I tested it and instantly declared it deprecated (I will be remaking it). I just thought you might want to look at it (for the lol’s).  [code=java]package org.spattz.util;  import java.util.ArrayList;  import java.util.List;  import java.util.concurrent.ExecutorService;  import java.util.co..." />
<meta name="twitter:description" content="So I was recently looking at how to implement Grahams Event Manager (I know how, I was just posting :P) and I thought about restarting my old tool set (little utilities I made a while ago). When I found this, I tested it and instantly declared it deprecated (I will be remaking it). I just thought you might want to look at it (for the lol’s).  [code=java]package org.spattz.util;  import java.util.ArrayList;  import java.util.List;  import java.util.concurrent.ExecutorService;  import java.util.co..." />
<meta property="article:published_time" content="2011-10-02T13:04:15+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="416784.html">Tick Event Pool</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/dain_bramage.html'><span itemprop='name'>dain_bramage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-02T13:04:15Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:18:04Z' class='post-time'>
              August 1, 2016,  3:18pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So I was recently looking at how to implement Grahams Event Manager (I know how, I was just posting :P) and I thought about restarting my old tool set (little utilities I made a while ago). When I found this, I tested it and instantly declared it deprecated (I will be remaking it). I just thought you might want to look at it (for the lol’s).</p>
<p>[code=java]package org.spattz.util;</p>
<p>import java.util.ArrayList;<br>
import java.util.List;<br>
import java.util.concurrent.ExecutorService;<br>
import java.util.concurrent.Executors;</p>
<p>/**</p>
<ul>
<li>
<p>This class executes runnable events after a certain amount of</p>
</li>
<li>
<p>time a certain amount of times. This is called ‘EventPool’ due</p>
</li>
<li>
<p>to it running events in a cached thread pool, which increases</p>
</li>
<li>
<p>in size whenever a new event is called, and when an event ends</p>
</li>
<li>
<p>the thread is which is was ran on is re-used, making the events</p>
</li>
<li>
<p>run faster. Inactive threads are removed after 60 seconds to</p>
</li>
<li>
<p>stop the increasing use of memory.</p>
</li>
<li>
<p><a class="mention" href="../../u/deprecated.html">@deprecated</a> This is not, in terms of speed, accurate. This can</p>
</li>
<li>
<p>be used in loops which require a roughly accurate speed (can</p>
</li>
<li>
<p>accept ~50ms of fluctuation).</p>
</li>
<li>
<p><span class="mention">@author</span> Andrew<br>
*/<br>
<a class="mention" href="../../u/deprecated.html">@Deprecated</a><br>
public class EventPool implements Runnable {</p>
<p>/**</p>
<ul>
<li>This is the ‘ExecutorService’. This calls the runnable</li>
<li>tasks whenever necessary.<br>
<em>/<br>
private ExecutorService service = Executors.newCachedThreadPool();<br>
/</em>*</li>
<li>This is the list in which the events are held and read</li>
<li>off until they need to be called.<br>
<em>/<br>
private List&lt;Object[]&gt; waitingList = new ArrayList&lt;Object[]&gt;();<br>
/</em>*</li>
<li>This is whether the EventPool should die. It is set to</li>
<li>true when the EventPool is closed.<br>
<em>/<br>
private boolean shouldDie = false;<br>
/</em>*</li>
<li>This is the speed in which the EventPool should tick.<br>
*/<br>
private long tickSpeed;</li>
</ul>
<p>/**</p>
<ul>
<li>
<a class="mention" href="../../u/param.html">@param</a> time This is the time in which the EventPool should</li>
<li>waiting (the amount of time in which a tick takes). This is</li>
<li>in milliseconds. Be reasonable in the amount of time in</li>
<li>which the EventPool should tick. Only non-negative numbers</li>
<li>above 0 are acceptable.<br>
*/<br>
public EventPool(long time) {<br>
tickSpeed = time;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>This submits an event to be ran after a certain amount</li>
<li>of ticks, a certain amount of times.</li>
<li>
<a class="mention" href="../../u/param.html">@param</a> runnable This is the runnable task which is ran</li>
<li>each time a certain amount of ticks occurs.</li>
<li>
<a class="mention" href="../../u/param.html">@param</a> ticks This is the amount of ticks it takes for</li>
<li>the runnable task to run. For example, if the tick speed</li>
<li>is set at ‘1000ms’, and the ‘ticks’ are set as ‘3’, then</li>
<li>the runnable will be ran every 3 seconds.</li>
<li>
<a class="mention" href="../../u/param.html">@param</a> timesToRun This is the amount of times the event</li>
<li>should occur. When this is set to -1, the event will run</li>
<li>an infinite amount of times. Other than this case, this</li>
<li>number MUST be non-negative. This number cannot be zero</li>
<li>or the thread in which the event pool is running will</li>
<li>freeze forever.<br>
*/<br>
public void submit(Runnable runnable, int ticks, int timesToRun) {<br>
Object object[] = {runnable, ticks, ticks, timesToRun};<br>
waitingList.add(object);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>This is called on a new thread when you are ready to</li>
<li>start the EventPool. Runnable events are not required</li>
<li>to be submitted at any time.<br>
*/<br>
<a class="mention" href="../../u/override.html">@Override</a><br>
public void run() {<br>
while (!shouldDie) {<br>
try {<br>
long time = System.currentTimeMillis();<br>
for (int loop = 0; loop &lt; waitingList.size(); loop++) {<br>
Object objects[] = waitingList.get(loop);<br>
objects[1] = (int) objects[1] - 1;<br>
if ((int) objects[1] == 0) {<br>
objects[1] = (int) objects[2];<br>
service.submit((Runnable) waitingList.get(loop)[0]);<br>
objects[3] = (int) objects[3] - 1;<br>
if (objects[3] == 0) {<br>
waitingList.remove(loop);<br>
continue;<br>
} else if (objects[3] == -1) {<br>
objects[3] = 0;<br>
}<br>
}<br>
waitingList.remove(loop);<br>
waitingList.add(objects);<br>
}<br>
time = (tickSpeed - (System.currentTimeMillis() - time));<br>
Thread.sleep(time);<br>
System.out.println(time);<br>
} catch (Exception ex) {<br>
ex.printStackTrace();<br>
}<br>
}<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>This attempts to close and stop the EventPool. The</li>
<li>ExecutorService is shutdown (disallowing anymore tasks</li>
<li>to be submitted), the waiting list is cleared (removing</li>
<li>all tasks) and the loop is killed.<br>
*/<br>
public void shutdown() {<br>
service.shutdown();<br>
waitingList.clear();<br>
shouldDie = true;<br>
}<br>
}[/code]</li>
</ul>
</li>
</ul>
<p>Although I have a few ideas myself, I was wondering what ideas you guys have?</p>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/slavemaster.html'><span itemprop='name'>slavemaster</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-02T18:55:14Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:18:21Z' class='post-time'>
              August 1, 2016,  3:18pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Stop using arrays for scheduled tasks and encapsulate the data in objects.</p>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pure_Slay.html'><span itemprop='name'>Pure_Slay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-02T23:43:30Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:18:54Z' class='post-time'>
              August 1, 2016,  3:18pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Event’s don’t ‘run’ they ‘trigger’ tasks.</p>
<ul>
<li>terrible design as stated, stop using arrays for scheduled events/tasks.</li>
</ul>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/dain_bramage.html'><span itemprop='name'>dain_bramage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-03T03:32:53Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:19:15Z' class='post-time'>
              August 1, 2016,  3:19pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Pure Slay, post:3, topic:416784”]Event’s don’t ‘run’ they ‘trigger’ tasks.</p>
<ul>
<li>terrible design as stated, stop using arrays for scheduled events/tasks.[/quote]<br>
It implements runnable…<br>
and then what should I use exactly?</li>
</ul>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-03T05:42:30Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:19:17Z' class='post-time'>
              August 1, 2016,  3:19pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Be better to just stay away from using ArrayList and use a Queue. Why are you arrays to encapsulate data? (Already said but meh, just wondering) Not a terrible design as everyone is saying but I could see some improvements.</p>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/dain_bramage.html'><span itemprop='name'>dain_bramage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-03T05:52:18Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:19:17Z' class='post-time'>
              August 1, 2016,  3:19pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Right. That’s good but what about the Object[] which is being used? I think it’s fucking stupid and needs to be replaced. What about a hashset or something (seems heavyweight)?</p>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Svitkona.html'><span itemprop='name'>Svitkona</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-04T15:16:57Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:21:23Z' class='post-time'>
              August 1, 2016,  3:21pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Queue ?</p>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/dain_bramage.html'><span itemprop='name'>dain_bramage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-04T22:06:51Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:21:51Z' class='post-time'>
              August 1, 2016,  3:21pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="7" data-topic="416784">
<div class="title">
<div class="quote-controls"></div>
 ytuio9`:</div>
<blockquote>
<p>Queue ?</p>
</blockquote>
</aside>
<p>I need to store the information of the amount of ticks to take, and how many ticks the runnable takes to execute.</p>
<p>Having 3 Queues would be retarded.</p>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/slavemaster.html'><span itemprop='name'>slavemaster</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-04T22:46:51Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:21:55Z' class='post-time'>
              August 1, 2016,  3:21pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a href="http://download.oracle.com/javase/7/docs/api/java/util/concurrent/DelayQueue.html" class="onebox" target="_blank" rel="nofollow noopener">http://download.oracle.com/javase/7/docs/api/java/util/concurrent/DelayQueue.html</a></p>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Coelho.html'><span itemprop='name'>Coelho</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-04T22:47:51Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:21:55Z' class='post-time'>
              August 1, 2016,  3:21pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <pre><code class="lang-auto">private BlockingQueue&lt;Event&gt; queue = new LinkedBlockingQueue&lt;Event&gt;();</code></pre>
<pre><code class="lang-auto">public void run() {
    while(true) {
        try {
            Event event = this.queue.take();
            if(event != null) {
                event.run();
                if(event.isRunning()) {
                    this.queue.put(event);
                }
            }
        } catch(Exception exception) {
            exception.printStackTrace();
        }
    }
}</code></pre>
<pre><code class="lang-auto">public class Event implements Runnable {

    private Runnable runnable;
    private int tickRate;
    private int ticksLeft;
    private int repetitions;
    private boolean running;
    
    public Event(Runnable runnable, int tickRate, int repetitions) {
        if(tickRate &lt; 0) {
            throw new IllegalArgumentException("Rate must be positive or 0");
        }
        if(repetitions &lt;= 0) {
            throw new IllegalArgumentException("Repetitions must be positive");
        }
        this.runnable = runnable;
        this.tickRate = tickRate;
        this.ticksLeft = tickRate;
        this.repetitions = repetitions;
        
    }

    public void run() {
        if(!this.running) {
            throw new IllegalStateException("Not running.");
        }
        if(this.ticksLeft == 0) {
            if(this.repetitions-- == 0) {
                this.running = false;
            }
            this.runnable.run();
            this.ticksLeft = this.tickRate;
        } else {
            this.ticksLeft--;
        }
    }

    public boolean isRunning() {
        return this.running;
    }

}</code></pre>
<p>Simpler. The run method (quote 2/3) would have to be redone though, as it was thrown together and is fairly crap. I wrote it in my webbrowser, so excuse the spaces.</p>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pure_Slay.html'><span itemprop='name'>Pure_Slay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-06T03:49:28Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:23:20Z' class='post-time'>
              August 1, 2016,  3:23pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Coelho, post:10, topic:416784”]<code>
private BlockingQueue&lt;Event&gt; queue = new LinkedBlockingQueue&lt;Event&gt;();
</code></p>
<pre><code class="lang-auto">public void run() {
    while(true) {
        try {
            Event event = this.queue.take();
            if(event != null) {
                event.run();
                if(event.isRunning()) {
                    this.queue.put(event);
                }
            }
        } catch(Exception exception) {
            exception.printStackTrace();
        }
    }
}</code></pre>
<pre><code class="lang-auto">public class Event implements Runnable {

    private Runnable runnable;
    private int tickRate;
    private int ticksLeft;
    private int repetitions;
    private boolean running;
    
    public Event(Runnable runnable, int tickRate, int repetitions) {
        if(tickRate &lt; 0) {
            throw new IllegalArgumentException("Rate must be positive or 0");
        }
        if(repetitions &lt;= 0) {
            throw new IllegalArgumentException("Repetitions must be positive");
        }
        this.runnable = runnable;
        this.tickRate = tickRate;
        this.ticksLeft = tickRate;
        this.repetitions = repetitions;
        
    }

    public void run() {
        if(!this.running) {
            throw new IllegalStateException("Not running.");
        }
        if(this.ticksLeft == 0) {
            if(this.repetitions-- == 0) {
                this.running = false;
            }
            this.runnable.run();
            this.ticksLeft = this.tickRate;
        } else {
            this.ticksLeft--;
        }
    }

    public boolean isRunning() {
        return this.running;
    }

}</code></pre>
<p>Simpler. The run method (quote 2/3) would have to be redone though, as it was thrown together and is fairly crap. I wrote it in my webbrowser, so excuse the spaces.[/quote]</p>
<p>Event’s do not run. They don’t use the word running, run, execute, or anything related. All they do is trigger an action or ‘drive’ an action. Either call it handle, trigger, or drive. Atleast those are using somewhat related words to the use of an event…</p>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Svitkona.html'><span itemprop='name'>Svitkona</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-10-06T09:32:11Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:23:26Z' class='post-time'>
              August 1, 2016,  3:23pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Make an event manager class with a Queue of Event objects and make a list of listeners to that event then when an event triggers check the listeners and call a method ( onEvent() )?</p>
      </div>

      <meta itemprop='headline' content='Tick Event Pool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/tick-event-pool/416784 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 11:18:51 GMT -->
</html>
