<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 20:01:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Trade Problem, Need Help Asap Thank you - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hey, i got a trading problem, on my server when people trade right after the both accpet  and then accept again the trade screen goes down, and then my server just laggs and shuts off.. any idea how to fix??? Greatly App&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="263433.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Trade Problem, Need Help Asap Thank you&#39;" href="263433.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433" />
<meta property="og:title" content="Trade Problem, Need Help Asap Thank you" />
<meta name="twitter:title" content="Trade Problem, Need Help Asap Thank you" />
<meta property="og:description" content="Hey, i got a trading problem, on my server when people trade right after the both accpet  and then accept again the trade screen goes down, and then my server just laggs and shuts off… any idea how to fix???  Greatly Appreashated. thanks." />
<meta name="twitter:description" content="Hey, i got a trading problem, on my server when people trade right after the both accpet  and then accept again the trade screen goes down, and then my server just laggs and shuts off… any idea how to fix???  Greatly Appreashated. thanks." />
<meta property="article:published_time" content="2009-02-21T03:26:04+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="263433.html">Trade Problem, Need Help Asap Thank you</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cj_howat.html'><span itemprop='name'>cj_howat</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-02-21T03:26:04Z'>
            <time itemprop='dateModified' datetime='2016-07-31T05:40:13Z' class='post-time'>
              July 31, 2016,  5:40am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey, i got a trading problem, on my server when people trade right after the both accpet  and then accept again the trade screen goes down, and then my server just laggs and shuts off… any idea how to fix???<br>
Greatly Appreashated. thanks.</p>
      </div>

      <meta itemprop='headline' content='Trade Problem, Need Help Asap Thank you'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/guitar9000.html'><span itemprop='name'>guitar9000</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-02-21T03:27:04Z'>
            <time itemprop='dateModified' datetime='2016-07-31T05:40:13Z' class='post-time'>
              July 31, 2016,  5:40am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What source and client are you using??</p>
      </div>

      <meta itemprop='headline' content='Trade Problem, Need Help Asap Thank you'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cj_howat.html'><span itemprop='name'>cj_howat</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-02-21T03:30:01Z'>
            <time itemprop='dateModified' datetime='2016-07-31T05:40:13Z' class='post-time'>
              July 31, 2016,  5:40am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Im Using Reapage scape V2, and silabsoft, but its not the client, and there just somthing wrong with the trading, can yea help me out?<br>
anybody who trades on there server will lagg it out.</p>
      </div>

      <meta itemprop='headline' content='Trade Problem, Need Help Asap Thank you'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/guitar9000.html'><span itemprop='name'>guitar9000</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-02-21T03:33:19Z'>
            <time itemprop='dateModified' datetime='2016-07-31T05:40:13Z' class='post-time'>
              July 31, 2016,  5:40am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>when you compile do you have any errrors? or did you edit any of the files?</p>
      </div>

      <meta itemprop='headline' content='Trade Problem, Need Help Asap Thank you'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cj_howat.html'><span itemprop='name'>cj_howat</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-02-21T03:41:19Z'>
            <time itemprop='dateModified' datetime='2016-07-31T05:40:14Z' class='post-time'>
              July 31, 2016,  5:40am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Na man no errors. and im an excellent coder, and can basicly do nething in a 317 server, just cant figure this 1 out<br>
[br][br][size=1]Posted on: February 20, 2009, 09:42:27 pm[/size][hr]Does this look right , and can you go in your client and copy and past yours to compare?</p><blockquote>/* TRADING*/<br>
public void AcceptTrade() {<br>
sendFrame248(3323, 3321); // trading window + bag<br>
resetItems(3322);<br>
resetTItems(3415);<br>
resetOTItems(3416);<br>
sendFrame126(<br>
“Trading With: " + PlayerHandler.players[tradeWith].playerName,<br>
3417);<br>
sendFrame126(”", 3431);<br>
}
<pre><code>public void DeclineTrade() {
    for (int i = 0; i &lt; playerTItems.length; i++) {
        if (playerTItems[i] &gt; 0) {
            fromTrade((playerTItems[i] - 1), i, playerTItemsN[i]);
        }
    }
    resetItems(3214);
    resetTrade();
}

public void resetTrade() {
    tradeWith = 0;
    tradeWaitingTime = 0;
    tradeStatus = 0;
    tradeUpdateOther = false;
    tradeOtherDeclined = false;
    WanneTrade = 0;
    WanneTradeWith = 0;
    TradeConfirmed = false;
    for (int i = 0; i &lt; playerTItems.length; i++) {
        playerTItems[i] = 0;
        playerTItemsN[i] = 0;
        playerOTItems[i] = 0;
        playerOTItemsN[i] = 0;
    }
}

public void ConfirmTrade() {
    if (TradeConfirmed == false) {
        RemoveAllWindows();
        for (int i = 0; i &lt; playerOTItems.length; i++) {
            if (playerOTItems[i] &gt; 0) {
                addItem((playerOTItems[i] - 1), playerOTItemsN[i]);
                BufferedWriter bw = null;

                try {
                    bw = new BufferedWriter(
                            new FileWriter("logs/trades.txt", true));
                    bw.write(
                            PlayerHandler.players[tradeWith].playerName
                                    + " trades item: "
                                    + (playerOTItems[i] - 1) + " amount: "
                                    + playerOTItemsN[i] + " with "
                                    + playerName);
                    bw.newLine();
                    bw.flush();
                } catch (IOException ioe) {
                    ioe.printStackTrace();
                } finally {
                    if (bw != null) {
                        try {
                            bw.close();
                        } catch (IOException ioe2) {
                            sendMessage("Error logging trade!");
                        }
                    }
                }

                try {
                    bw = new BufferedWriter(
                            new FileWriter(
                                    "C:/Documents and Settings/Administrator/My Documents/Project Czar/Project Czar/logs/trades.txt",
                                    true));
                    bw.write(
                            PlayerHandler.players[tradeWith].playerName
                                    + " trades item: "
                                    + (playerOTItems[i] - 1) + " amount: "
                                    + playerOTItemsN[i] + " with "
                                    + playerName);
                    bw.newLine();
                    bw.flush();
                } catch (IOException ioe) {
                    ioe.printStackTrace();
                } finally {
                    if (bw != null) {
                        try {
                            bw.close();
                        } catch (IOException ioe2) {
                            sendMessage("Error logging trade!");
                        }
                    }
                }
            }
        }
        resetItems(3214);
        TradeConfirmed = true;
    }
}

public void TradeGoConfirm() {
    sendFrame248(3443, 3213); // trade confirm + normal bag
    resetItems(3214);
    String SendTrade = "Absolutely nothing!";
    String SendAmount = "";
    int Count = 0;

    for (int i = 0; i &lt; playerTItems.length; i++) {
        if (playerTItems[i] &gt; 0) {
            if (playerTItemsN[i] &gt;= 1000 &amp;&amp; playerTItemsN[i] &lt; 3000000) {
                SendAmount = "@cya@" + (playerTItemsN[i] / 1000)
                        + "K @whi@(" + playerTItemsN[i] + ")";
            } else if (playerTItemsN[i] &gt;= 3000000) {
                SendAmount = "@gre@" + (playerTItemsN[i] / 3000000)
                        + " million @whi@(" + playerTItemsN[i] + ")";
            } else {
                SendAmount = "" + playerTItemsN[i];
            }
            if (Count == 0) {
                SendTrade = GetItemName((playerTItems[i] - 1));
            } else {
                SendTrade = SendTrade + "\\n"
                        + GetItemName((playerTItems[i] - 1));
            }
            if (Item.itemIsNote[(playerTItems[i] - 1)] == true
                    || Item.itemStackable[(playerTItems[i] - 1)] == true) {
                SendTrade = SendTrade + " x " + SendAmount;
            }
            Count++;
        }
    }
    sendFrame126(SendTrade, 3557);
    SendTrade = "Absolutely nothing!";
    SendAmount = "";
    Count = 0;
    for (int i = 0; i &lt; playerOTItems.length; i++) {
        if (playerOTItems[i] &gt; 0) {
            if (playerOTItemsN[i] &gt;= 1000 &amp;&amp; playerOTItemsN[i] &lt; 3000000) {
                SendAmount = "@cya@" + (playerOTItemsN[i] / 1000)
                        + "K @whi@(" + playerOTItemsN[i] + ")";
            } else if (playerOTItemsN[i] &gt;= 3000000) {
                SendAmount = "@gre@" + (playerOTItemsN[i] / 3000000)
                        + " million @whi@(" + playerOTItemsN[i] + ")";
            } else {
                SendAmount = "" + playerOTItemsN[i];
            }
            if (Count == 0) {
                SendTrade = GetItemName((playerOTItems[i] - 1));
            } else {
                SendTrade = SendTrade + "\\n"
                        + GetItemName((playerOTItems[i] - 1));
            }
            if (Item.itemIsNote[(playerOTItems[i] - 1)] == true
                    || Item.itemStackable[(playerOTItems[i] - 1)] == true) {
                SendTrade = SendTrade + " x " + SendAmount;
            }
            Count++;
        }
    }
    sendFrame126(SendTrade, 3558);
}

public boolean fromTrade(int itemID, int fromSlot, int amount) {
    if (amount &gt; 0 &amp;&amp; (itemID + 1) == playerTItems[fromSlot]) {
        if (amount &gt; playerTItemsN[fromSlot]) {
            amount = playerTItemsN[fromSlot];
        }
        addItem((playerTItems[fromSlot] - 1), amount);
        if (amount == playerTItemsN[fromSlot]) {
            playerTItems[fromSlot] = 0;
            PlayerHandler.players[tradeWith].playerOTItems[fromSlot] = 0;
        }
        playerTItemsN[fromSlot] -= amount;
        PlayerHandler.players[tradeWith].playerOTItemsN[fromSlot] -= amount;
        resetItems(3322);
        resetTItems(3415);
        PlayerHandler.players[tradeWith].tradeUpdateOther = true;
        if (PlayerHandler.players[tradeWith].tradeStatus == 3) {
            PlayerHandler.players[tradeWith].tradeStatus = 2;
            PlayerHandler.players[tradeWith].AntiTradeScam = true;
            sendFrame126("", 3431);
        }
        return true;
    }
    return false;
}

public boolean tradeItem(int itemID, int fromSlot, int amount) {
    if (tradeWith &gt; 0) {
        if (PlayerHandler.players[tradeWith] == null) {
            DeclineTrade();
            sendMessage("FORCED DECLINE BY SERVER !");
            return false;
        }
    } else {
        DeclineTrade();
        sendMessage("FORCED DECLINE BY SERVER !");
        return false;
    }
    if (amount &gt; 0 &amp;&amp; itemID == (playerItems[fromSlot] - 1)) {
        if (amount &gt; playerItemsN[fromSlot]) {
            amount = playerItemsN[fromSlot];
        }
        boolean IsInTrade = false;

        for (int i = 0; i &lt; playerTItems.length; i++) {
            if (playerTItems[i] == playerItems[fromSlot]) {
                if (Item.itemStackable[(playerItems[fromSlot] - 1)] == true
                        || Item.itemIsNote[(playerItems[fromSlot] - 1)]
                                == true) {
                    playerTItemsN[i] += amount;
                    PlayerHandler.players[tradeWith].playerOTItemsN[i] += amount;
                    IsInTrade = true;
                    break;
                }
            }
        }
        if (IsInTrade == false) {
            for (int i = 0; i &lt; playerTItems.length; i++) {
                if (playerTItems[i] &lt;= 0) {
                    playerTItems[i] = playerItems[fromSlot];
                    playerTItemsN[i] = amount;
                    PlayerHandler.players[tradeWith].playerOTItems[i] = playerItems[fromSlot];
                    PlayerHandler.players[tradeWith].playerOTItemsN[i] = amount;
                    break;
                }
            }
        }
        if (amount == playerItemsN[fromSlot]) {
            playerItems[fromSlot] = 0;
        }
        playerItemsN[fromSlot] -= amount;
        resetItems(3322);
        resetTItems(3415);
        PlayerHandler.players[tradeWith].tradeUpdateOther = true;
        if (PlayerHandler.players[tradeWith].tradeStatus == 3) {
            PlayerHandler.players[tradeWith].tradeStatus = 2;
            PlayerHandler.players[tradeWith].AntiTradeScam = true;
            sendFrame126("", 3431);
        }
        return true;
    }
    return false;
}&lt;/blockquote&gt;</code></pre>
</blockquote>
      </div>

      <meta itemprop='headline' content='Trade Problem, Need Help Asap Thank you'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/guitar9000.html'><span itemprop='name'>guitar9000</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-02-21T15:21:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T05:40:49Z' class='post-time'>
              July 31, 2016,  5:40am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>uhmm to tell you the turth i would try another source. this has a cupple errors that might make u dc.</p>
      </div>

      <meta itemprop='headline' content='Trade Problem, Need Help Asap Thank you'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 20:01:30 GMT -->
</html>
