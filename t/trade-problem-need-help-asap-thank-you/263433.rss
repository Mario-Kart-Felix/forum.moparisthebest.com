<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Trade Problem, Need Help Asap Thank you</title>
    <link>https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433</link>
    <description>Hey, i got a trading problem, on my server when people trade right after the both accpet  and then accept again the trade screen goes down, and then my server just laggs and shuts off.. any idea how to fix???
Greatly Appreashated. thanks.</description>
    
    <lastBuildDate>Sat, 21 Feb 2009 15:21:51 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Trade Problem, Need Help Asap Thank you</title>
        <dc:creator><![CDATA[@guitar9000 guitar9000]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/guitar9000">@guitar9000</a> wrote:</p>
          <blockquote>
              <p>uhmm to tell you the turth i would try another source. this has a cupple errors that might make u dc.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/6</link>
        <pubDate>Sat, 21 Feb 2009 15:21:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-263433-6</guid>
        <source url="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433.rss">Trade Problem, Need Help Asap Thank you</source>
      </item>
      <item>
        <title>Trade Problem, Need Help Asap Thank you</title>
        <dc:creator><![CDATA[@cj_howat cj_howat@hotmail.com]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cj_howat">@cj_howat</a> wrote:</p>
          <blockquote>
              <p>Na man no errors. and im an excellent coder, and can basicly do nething in a 317 server, just cant figure this 1 out<br>
[br][br][size=1]Posted on: February 20, 2009, 09:42:27 pm[/size][hr]Does this look right , and can you go in your client and copy and past yours to compare?</p><blockquote>/* TRADING*/<br>
public void AcceptTrade() {<br>
sendFrame248(3323, 3321); // trading window + bag<br>
resetItems(3322);<br>
resetTItems(3415);<br>
resetOTItems(3416);<br>
sendFrame126(<br>
“Trading With: " + PlayerHandler.players[tradeWith].playerName,<br>
3417);<br>
sendFrame126(”", 3431);<br>
}
<pre><code>public void DeclineTrade() {
    for (int i = 0; i &lt; playerTItems.length; i++) {
        if (playerTItems[i] &gt; 0) {
            fromTrade((playerTItems[i] - 1), i, playerTItemsN[i]);
        }
    }
    resetItems(3214);
    resetTrade();
}

public void resetTrade() {
    tradeWith = 0;
    tradeWaitingTime = 0;
    tradeStatus = 0;
    tradeUpdateOther = false;
    tradeOtherDeclined = false;
    WanneTrade = 0;
    WanneTradeWith = 0;
    TradeConfirmed = false;
    for (int i = 0; i &lt; playerTItems.length; i++) {
        playerTItems[i] = 0;
        playerTItemsN[i] = 0;
        playerOTItems[i] = 0;
        playerOTItemsN[i] = 0;
    }
}

public void ConfirmTrade() {
    if (TradeConfirmed == false) {
        RemoveAllWindows();
        for (int i = 0; i &lt; playerOTItems.length; i++) {
            if (playerOTItems[i] &gt; 0) {
                addItem((playerOTItems[i] - 1), playerOTItemsN[i]);
                BufferedWriter bw = null;

                try {
                    bw = new BufferedWriter(
                            new FileWriter("logs/trades.txt", true));
                    bw.write(
                            PlayerHandler.players[tradeWith].playerName
                                    + " trades item: "
                                    + (playerOTItems[i] - 1) + " amount: "
                                    + playerOTItemsN[i] + " with "
                                    + playerName);
                    bw.newLine();
                    bw.flush();
                } catch (IOException ioe) {
                    ioe.printStackTrace();
                } finally {
                    if (bw != null) {
                        try {
                            bw.close();
                        } catch (IOException ioe2) {
                            sendMessage("Error logging trade!");
                        }
                    }
                }

                try {
                    bw = new BufferedWriter(
                            new FileWriter(
                                    "C:/Documents and Settings/Administrator/My Documents/Project Czar/Project Czar/logs/trades.txt",
                                    true));
                    bw.write(
                            PlayerHandler.players[tradeWith].playerName
                                    + " trades item: "
                                    + (playerOTItems[i] - 1) + " amount: "
                                    + playerOTItemsN[i] + " with "
                                    + playerName);
                    bw.newLine();
                    bw.flush();
                } catch (IOException ioe) {
                    ioe.printStackTrace();
                } finally {
                    if (bw != null) {
                        try {
                            bw.close();
                        } catch (IOException ioe2) {
                            sendMessage("Error logging trade!");
                        }
                    }
                }
            }
        }
        resetItems(3214);
        TradeConfirmed = true;
    }
}

public void TradeGoConfirm() {
    sendFrame248(3443, 3213); // trade confirm + normal bag
    resetItems(3214);
    String SendTrade = "Absolutely nothing!";
    String SendAmount = "";
    int Count = 0;

    for (int i = 0; i &lt; playerTItems.length; i++) {
        if (playerTItems[i] &gt; 0) {
            if (playerTItemsN[i] &gt;= 1000 &amp;&amp; playerTItemsN[i] &lt; 3000000) {
                SendAmount = "@cya@" + (playerTItemsN[i] / 1000)
                        + "K @whi@(" + playerTItemsN[i] + ")";
            } else if (playerTItemsN[i] &gt;= 3000000) {
                SendAmount = "@gre@" + (playerTItemsN[i] / 3000000)
                        + " million @whi@(" + playerTItemsN[i] + ")";
            } else {
                SendAmount = "" + playerTItemsN[i];
            }
            if (Count == 0) {
                SendTrade = GetItemName((playerTItems[i] - 1));
            } else {
                SendTrade = SendTrade + "\\n"
                        + GetItemName((playerTItems[i] - 1));
            }
            if (Item.itemIsNote[(playerTItems[i] - 1)] == true
                    || Item.itemStackable[(playerTItems[i] - 1)] == true) {
                SendTrade = SendTrade + " x " + SendAmount;
            }
            Count++;
        }
    }
    sendFrame126(SendTrade, 3557);
    SendTrade = "Absolutely nothing!";
    SendAmount = "";
    Count = 0;
    for (int i = 0; i &lt; playerOTItems.length; i++) {
        if (playerOTItems[i] &gt; 0) {
            if (playerOTItemsN[i] &gt;= 1000 &amp;&amp; playerOTItemsN[i] &lt; 3000000) {
                SendAmount = "@cya@" + (playerOTItemsN[i] / 1000)
                        + "K @whi@(" + playerOTItemsN[i] + ")";
            } else if (playerOTItemsN[i] &gt;= 3000000) {
                SendAmount = "@gre@" + (playerOTItemsN[i] / 3000000)
                        + " million @whi@(" + playerOTItemsN[i] + ")";
            } else {
                SendAmount = "" + playerOTItemsN[i];
            }
            if (Count == 0) {
                SendTrade = GetItemName((playerOTItems[i] - 1));
            } else {
                SendTrade = SendTrade + "\\n"
                        + GetItemName((playerOTItems[i] - 1));
            }
            if (Item.itemIsNote[(playerOTItems[i] - 1)] == true
                    || Item.itemStackable[(playerOTItems[i] - 1)] == true) {
                SendTrade = SendTrade + " x " + SendAmount;
            }
            Count++;
        }
    }
    sendFrame126(SendTrade, 3558);
}

public boolean fromTrade(int itemID, int fromSlot, int amount) {
    if (amount &gt; 0 &amp;&amp; (itemID + 1) == playerTItems[fromSlot]) {
        if (amount &gt; playerTItemsN[fromSlot]) {
            amount = playerTItemsN[fromSlot];
        }
        addItem((playerTItems[fromSlot] - 1), amount);
        if (amount == playerTItemsN[fromSlot]) {
            playerTItems[fromSlot] = 0;
            PlayerHandler.players[tradeWith].playerOTItems[fromSlot] = 0;
        }
        playerTItemsN[fromSlot] -= amount;
        PlayerHandler.players[tradeWith].playerOTItemsN[fromSlot] -= amount;
        resetItems(3322);
        resetTItems(3415);
        PlayerHandler.players[tradeWith].tradeUpdateOther = true;
        if (PlayerHandler.players[tradeWith].tradeStatus == 3) {
            PlayerHandler.players[tradeWith].tradeStatus = 2;
            PlayerHandler.players[tradeWith].AntiTradeScam = true;
            sendFrame126("", 3431);
        }
        return true;
    }
    return false;
}

public boolean tradeItem(int itemID, int fromSlot, int amount) {
    if (tradeWith &gt; 0) {
        if (PlayerHandler.players[tradeWith] == null) {
            DeclineTrade();
            sendMessage("FORCED DECLINE BY SERVER !");
            return false;
        }
    } else {
        DeclineTrade();
        sendMessage("FORCED DECLINE BY SERVER !");
        return false;
    }
    if (amount &gt; 0 &amp;&amp; itemID == (playerItems[fromSlot] - 1)) {
        if (amount &gt; playerItemsN[fromSlot]) {
            amount = playerItemsN[fromSlot];
        }
        boolean IsInTrade = false;

        for (int i = 0; i &lt; playerTItems.length; i++) {
            if (playerTItems[i] == playerItems[fromSlot]) {
                if (Item.itemStackable[(playerItems[fromSlot] - 1)] == true
                        || Item.itemIsNote[(playerItems[fromSlot] - 1)]
                                == true) {
                    playerTItemsN[i] += amount;
                    PlayerHandler.players[tradeWith].playerOTItemsN[i] += amount;
                    IsInTrade = true;
                    break;
                }
            }
        }
        if (IsInTrade == false) {
            for (int i = 0; i &lt; playerTItems.length; i++) {
                if (playerTItems[i] &lt;= 0) {
                    playerTItems[i] = playerItems[fromSlot];
                    playerTItemsN[i] = amount;
                    PlayerHandler.players[tradeWith].playerOTItems[i] = playerItems[fromSlot];
                    PlayerHandler.players[tradeWith].playerOTItemsN[i] = amount;
                    break;
                }
            }
        }
        if (amount == playerItemsN[fromSlot]) {
            playerItems[fromSlot] = 0;
        }
        playerItemsN[fromSlot] -= amount;
        resetItems(3322);
        resetTItems(3415);
        PlayerHandler.players[tradeWith].tradeUpdateOther = true;
        if (PlayerHandler.players[tradeWith].tradeStatus == 3) {
            PlayerHandler.players[tradeWith].tradeStatus = 2;
            PlayerHandler.players[tradeWith].AntiTradeScam = true;
            sendFrame126("", 3431);
        }
        return true;
    }
    return false;
}&lt;/blockquote&gt;</code></pre>
</blockquote>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/5</link>
        <pubDate>Sat, 21 Feb 2009 03:41:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-263433-5</guid>
        <source url="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433.rss">Trade Problem, Need Help Asap Thank you</source>
      </item>
      <item>
        <title>Trade Problem, Need Help Asap Thank you</title>
        <dc:creator><![CDATA[@guitar9000 guitar9000]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/guitar9000">@guitar9000</a> wrote:</p>
          <blockquote>
              <p>when you compile do you have any errrors? or did you edit any of the files?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/4</link>
        <pubDate>Sat, 21 Feb 2009 03:33:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-263433-4</guid>
        <source url="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433.rss">Trade Problem, Need Help Asap Thank you</source>
      </item>
      <item>
        <title>Trade Problem, Need Help Asap Thank you</title>
        <dc:creator><![CDATA[@cj_howat cj_howat@hotmail.com]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cj_howat">@cj_howat</a> wrote:</p>
          <blockquote>
              <p>Im Using Reapage scape V2, and silabsoft, but its not the client, and there just somthing wrong with the trading, can yea help me out?<br>
anybody who trades on there server will lagg it out.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/3</link>
        <pubDate>Sat, 21 Feb 2009 03:30:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-263433-3</guid>
        <source url="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433.rss">Trade Problem, Need Help Asap Thank you</source>
      </item>
      <item>
        <title>Trade Problem, Need Help Asap Thank you</title>
        <dc:creator><![CDATA[@guitar9000 guitar9000]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/guitar9000">@guitar9000</a> wrote:</p>
          <blockquote>
              <p>What source and client are you using??</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/2</link>
        <pubDate>Sat, 21 Feb 2009 03:27:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-263433-2</guid>
        <source url="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433.rss">Trade Problem, Need Help Asap Thank you</source>
      </item>
      <item>
        <title>Trade Problem, Need Help Asap Thank you</title>
        <dc:creator><![CDATA[@cj_howat cj_howat@hotmail.com]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cj_howat">@cj_howat</a> wrote:</p>
          <blockquote>
              <p>Hey, i got a trading problem, on my server when people trade right after the both accpet  and then accept again the trade screen goes down, and then my server just laggs and shuts off… any idea how to fix???<br>
Greatly Appreashated. thanks.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433/1</link>
        <pubDate>Sat, 21 Feb 2009 03:26:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-263433-1</guid>
        <source url="https://forum.moparisthebest.com/t/trade-problem-need-help-asap-thank-you/263433.rss">Trade Problem, Need Help Asap Thank you</source>
      </item>
  </channel>
</rss>
