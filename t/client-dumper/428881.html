<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/client-dumper/428881 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 12:39:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Client dumper - Runescape - moparisthebest.com</title>
    <meta name="description" content="injects loader to stop it from removing classes when loaded reflects classes (stored as byte arrays) and dumps to a class file idk why people decrypt by selves EDIT2 : newest version - http://pastie.org/private/dac6aobub&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="428881.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Client dumper&#39;" href="428881.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/client-dumper/428881" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/client-dumper/428881" />
<meta property="og:title" content="Client dumper" />
<meta name="twitter:title" content="Client dumper" />
<meta property="og:description" content="injects loader to stop it from removing classes when loaded  reflects classes (stored as byte arrays) and dumps to a class file  idk why people decrypt by selves  EDIT2 : newest version - http://pastie.org/private/dac6aobubcsvlqzggngwg" />
<meta name="twitter:description" content="injects loader to stop it from removing classes when loaded  reflects classes (stored as byte arrays) and dumps to a class file  idk why people decrypt by selves  EDIT2 : newest version - http://pastie.org/private/dac6aobubcsvlqzggngwg" />
<meta property="article:published_time" content="2012-01-11T19:02:13+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="4288814658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="428881.html">Client dumper</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/SpeedIsMeh.html'><span itemprop='name'>SpeedIsMeh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-11T19:02:13Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:13:48Z' class='post-time'>
              August 2, 2016,  3:13pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>injects loader to stop it from removing classes when loaded<br>
reflects classes (stored as byte arrays) and dumps to a class file<br>
idk why people decrypt by selves<br>
EDIT2 : newest version - <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg" rel="nofollow noopener">http://pastie.org/private/dac6aobubcsvlqzggngwg</a></p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-12T04:47:25Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:14:44Z' class='post-time'>
              August 2, 2016,  3:14pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Or you can do it the same way my getRS.sh script does:</p>
<p>java -Xbootclasspath/p:./tools/runapplet.jar -Ddump.jar="./gamepack_dumptmp.jar" -jar ./tools/runapplet.jar “$jar_file” “$properties_file”</p>
<p><a href="https://www.moparisthebest.com/rs/tools/runapplet.jar" class="onebox" target="_blank">https://www.moparisthebest.com/rs/tools/runapplet.jar</a></p>
<p>All it does is load the applet like any AppletStub would do, but I over-ride JarInputStream to dump the jar to a file and end the JVM instead.  So I don’t do any ‘decrypting’ myself, and it will work as long as they continue to use JarInputStream.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/SpeedIsMeh.html'><span itemprop='name'>SpeedIsMeh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-12T17:55:11Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:15:05Z' class='post-time'>
              August 2, 2016,  3:15pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Moparisthebest, post:2, topic:428881”]Or you can do it the same way my getRS.sh script does:</p>
<p>java -Xbootclasspath/p:./tools/runapplet.jar -Ddump.jar="./gamepack_dumptmp.jar" -jar ./tools/runapplet.jar “$jar_file” “$properties_file”</p>
<p><a href="https://www.moparisthebest.com/rs/tools/runapplet.jar" class="onebox" target="_blank" rel="nofollow noopener">https://www.moparisthebest.com/rs/tools/runapplet.jar</a></p>
<p>All it does is load the applet like any AppletStub would do, but I over-ride JarInputStream to dump the jar to a file and end the JVM instead.  So I don’t do any ‘decrypting’ myself, and it will work as long as they continue to use JarInputStream.[/quote]<br>
ah didn’t think of that, I did try something with more injection before but it didn’t really work<br>
your way seems like it’d probably be more stable than this, where do you put the dumping code, in the close method?</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-13T03:12:37Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:16:00Z' class='post-time'>
              August 2, 2016,  3:16pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“SpeedIsMeh, post:3, topic:428881”][quote author=Moparisthebest link=topic=531578.msg3884823#msg3884823 date=1326343645]<br>
Or you can do it the same way my getRS.sh script does:</p>
<p>java -Xbootclasspath/p:./tools/runapplet.jar -Ddump.jar="./gamepack_dumptmp.jar" -jar ./tools/runapplet.jar “$jar_file” “$properties_file”</p>
<p><a href="https://www.moparisthebest.com/rs/tools/runapplet.jar" class="onebox" target="_blank">https://www.moparisthebest.com/rs/tools/runapplet.jar</a></p>
<p>All it does is load the applet like any AppletStub would do, but I over-ride JarInputStream to dump the jar to a file and end the JVM instead.  So I don’t do any ‘decrypting’ myself, and it will work as long as they continue to use JarInputStream.<br>
[/quote]<br>
ah didn’t think of that, I did try something with more injection before but it didn’t really work<br>
your way seems like it’d probably be more stable than this, where do you put the dumping code, in the close method?[/quote]</p>
<p>The full source is included in the runapplet.jar, I put the dumping code in the constructor to JarInputStream, because at that point you have the input stream pointing to a jar, so you simply dump it to a file and call System.exit();.  Pretty simple really.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/SpeedIsMeh.html'><span itemprop='name'>SpeedIsMeh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-13T13:44:20Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:16:18Z' class='post-time'>
              August 2, 2016,  3:16pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Moparisthebest, post:4, topic:428881”][quote author=SpeedIsMeh link=topic=531578.msg3885188#msg3885188 date=1326390911]</p>
<aside class="quote">
<blockquote>
<p>Or you can do it the same way my getRS.sh script does:</p>
<p>java -Xbootclasspath/p:./tools/runapplet.jar -Ddump.jar="./gamepack_dumptmp.jar" -jar ./tools/runapplet.jar “$jar_file” “$properties_file”</p>
<p><a href="https://www.moparisthebest.com/rs/tools/runapplet.jar" rel="nofollow noopener">https://www.moparisthebest.com/rs/tools/runapplet.jar</a></p>
<p>All it does is load the applet like any AppletStub would do, but I over-ride JarInputStream to dump the jar to a file and end the JVM instead.  So I don’t do any ‘decrypting’ myself, and it will work as long as they continue to use JarInputStream.</p>
</blockquote>
</aside>
<p>ah didn’t think of that, I did try something with more injection before but it didn’t really work<br>
your way seems like it’d probably be more stable than this, where do you put the dumping code, in the close method?<br>
[/quote]</p>
<p>The full source is included in the runapplet.jar, I put the dumping code in the constructor to JarInputStream, because at that point you have the input stream pointing to a jar, so you simply dump it to a file and call System.exit();.  Pretty simple really.[/quote]<br>
Oh I see, that’s actually really simple. To be honest, it just shows how useless class encryption is :\</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-14T05:14:52Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:17:21Z' class='post-time'>
              August 2, 2016,  3:17pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Completely useless, if you are going to run something on someone’s computer, at some point you have to decrypt it, at which point it can just be dumped.  Always.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/SpeedIsMeh.html'><span itemprop='name'>SpeedIsMeh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-16T17:57:06Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:21:08Z' class='post-time'>
              August 2, 2016,  3:21pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg" rel="nofollow noopener">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/light-232.html'><span itemprop='name'>light-232</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-16T18:18:59Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:21:08Z' class='post-time'>
              August 2, 2016,  3:21pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“SpeedIsMeh, post:7, topic:428881”]updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg" rel="nofollow noopener">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.[/quote]<br>
I don’t understand why mitbs solution doesn’t fit your needs…</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/SpeedIsMeh.html'><span itemprop='name'>SpeedIsMeh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-16T18:23:02Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:21:08Z' class='post-time'>
              August 2, 2016,  3:21pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“light-232, post:8, topic:428881”][quote author=SpeedIsMeh link=topic=531578.msg3889640#msg3889640 date=1326736626]<br>
updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg" rel="nofollow noopener">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.<br>
[/quote]<br>
I don’t understand why mitbs solution doesn’t fit your needs…[/quote]<br>
It does. This is just a different way of doing it, it’s better to have multiple methods of doing the same thing rather than just relying on one way.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-17T00:41:59Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:21:42Z' class='post-time'>
              August 2, 2016,  3:21pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“SpeedIsMeh, post:9, topic:428881”][quote author=light-232 link=topic=531578.msg3889649#msg3889649 date=1326737939]</p>
<aside class="quote">
<blockquote>
<p>updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.</p>
</blockquote>
</aside>
<p>I don’t understand why mitbs solution doesn’t fit your needs…<br>
[/quote]<br>
It does. This is just a different way of doing it, it’s better to have multiple methods of doing the same thing rather than just relying on one way.[/quote]<br>
I agree, another method that should be 100% bulletproof no matter what they do, even if they quit using JarInputStream, would be to override defineClass in ClassLoader, that should work on any program in the past or future that loads classes, care to give it a shot? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/light-232.html'><span itemprop='name'>light-232</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-17T07:29:47Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:22:03Z' class='post-time'>
              August 2, 2016,  3:22pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Moparisthebest, post:10, topic:428881”][quote author=SpeedIsMeh link=topic=531578.msg3889651#msg3889651 date=1326738182]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg" rel="nofollow noopener">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.</p>
</blockquote>
</aside>
<p>I don’t understand why mitbs solution doesn’t fit your needs…</p>
</blockquote>
</aside>
<p>It does. This is just a different way of doing it, it’s better to have multiple methods of doing the same thing rather than just relying on one way.<br>
[/quote]<br>
I agree, another method that should be 100% bulletproof no matter what they do, even if they quit using JarInputStream, would be to override defineClass in ClassLoader, that should work on any program in the past or future that loads classes, care to give it a shot? :)[/quote]<br>
How would the program know if all required classes are loaded?</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Discardedx21.html'><span itemprop='name'>_Discardedx21</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-17T07:55:53Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:22:03Z' class='post-time'>
              August 2, 2016,  3:22pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“light-232, post:11, topic:428881”][quote author=Moparisthebest link=topic=531578.msg3890034#msg3890034 date=1326760919]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg" rel="nofollow noopener">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.</p>
</blockquote>
</aside>
<p>I don’t understand why mitbs solution doesn’t fit your needs…</p>
</blockquote>
</aside>
<p>It does. This is just a different way of doing it, it’s better to have multiple methods of doing the same thing rather than just relying on one way.</p>
</blockquote>
</aside>
<p>I agree, another method that should be 100% bulletproof no matter what they do, even if they quit using JarInputStream, would be to override defineClass in ClassLoader, that should work on any program in the past or future that loads classes, care to give it a shot? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]<br>
How would the program know if all required classes are loaded?[/quote]</p>
<p>…</p>
<p>obv pass the data to your own class loader during runtime</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/unlimitedorb.html'><span itemprop='name'>unlimitedorb</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-17T18:18:43Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:22:18Z' class='post-time'>
              August 2, 2016,  3:22pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>when the bot-nuke first came out, i just wrote something that attached to the vm at runtime.</p>
<p><code>public class Driver {
    List&lt;VirtualMachineDescriptor&gt; vmds = VirtualMachine.list();
    for(VirtualMachineDescriptor vmd : vmds) {
        VirtualMachine vm = VirtualMachine.attach(vmd.id());
        System.out.println(vmd.displayName());
        vm.loadAgent("path/to/agent");
        vm.detach();
    }
}</code></p>
<p>then for the agent</p>
<p><code>
public class Agent {
    public static void agentmain(String agentArgs, Instrumentation inst) {
        Class[] clazzs = inst.getAllLoadedClasses();
        for(Class clazz : clazzs) {
            System.out.println(clazz.getName());
        }
    }
}</code></p>
<p>something like that. simpler than writing a loader, almost as powerful, and far less detectable because since the agent is attached at runtime, it’s not like they can analyze the arguments to the applet. you can use jps to find PID of the applet, but i just loaded all active vms with the agent and you can just detect if it has the classes you want and do your thing.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-19T17:34:58Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:24:05Z' class='post-time'>
              August 2, 2016,  3:24pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I cleaned up this thread, I expect no more flaming or arguing any place outside of PM between you two (light-232 and Discardedx2).</p>
<p>[quote=“light-232, post:11, topic:428881”][quote author=Moparisthebest link=topic=531578.msg3890034#msg3890034 date=1326760919]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.</p>
</blockquote>
</aside>
<p>I don’t understand why mitbs solution doesn’t fit your needs…</p>
</blockquote>
</aside>
<p>It does. This is just a different way of doing it, it’s better to have multiple methods of doing the same thing rather than just relying on one way.</p>
</blockquote>
</aside>
<p>I agree, another method that should be 100% bulletproof no matter what they do, even if they quit using JarInputStream, would be to override defineClass in ClassLoader, that should work on any program in the past or future that loads classes, care to give it a shot? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]<br>
How would the program know if all required classes are loaded?[/quote]</p>
<p>You wouldn’t need to, you would just dump each class to a file as it was loaded.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/light-232.html'><span itemprop='name'>light-232</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-19T22:17:29Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:24:28Z' class='post-time'>
              August 2, 2016,  3:24pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Moparisthebest, post:14, topic:428881”]I cleaned up this thread, I expect no more flaming or arguing any place outside of PM between you two (light-232 and Discardedx2).</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg" rel="nofollow noopener">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.</p>
</blockquote>
</aside>
<p>I don’t understand why mitbs solution doesn’t fit your needs…</p>
</blockquote>
</aside>
<p>It does. This is just a different way of doing it, it’s better to have multiple methods of doing the same thing rather than just relying on one way.</p>
</blockquote>
</aside>
<p>I agree, another method that should be 100% bulletproof no matter what they do, even if they quit using JarInputStream, would be to override defineClass in ClassLoader, that should work on any program in the past or future that loads classes, care to give it a shot? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>How would the program know if all required classes are loaded?</p>
</blockquote>
</aside>
<p>You wouldn’t need to, you would just dump each class to a file as it was loaded.[/quote]<br>
When would you know to stop running the client?</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ollie.html'><span itemprop='name'>Ollie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-20T14:41:39Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:25:40Z' class='post-time'>
              August 2, 2016,  3:25pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“unlimitedorb, post:13, topic:428881”]when the bot-nuke first came out, i just wrote something that attached to the vm at runtime.</p>
<p><code>public class Driver {
    List&lt;VirtualMachineDescriptor&gt; vmds = VirtualMachine.list();
    for(VirtualMachineDescriptor vmd : vmds) {
        VirtualMachine vm = VirtualMachine.attach(vmd.id());
        System.out.println(vmd.displayName());
        vm.loadAgent("path/to/agent");
        vm.detach();
    }
}</code></p>
<p>then for the agent</p>
<p><code>
public class Agent {
    public static void agentmain(String agentArgs, Instrumentation inst) {
        Class[] clazzs = inst.getAllLoadedClasses();
        for(Class clazz : clazzs) {
            System.out.println(clazz.getName());
        }
    }
}</code></p>
<p>something like that. simpler than writing a loader, almost as powerful, and far less detectable because since the agent is attached at runtime, it’s not like they can analyze the arguments to the applet. you can use jps to find PID of the applet, but i just loaded all active vms with the agent and you can just detect if it has the classes you want and do your thing.[/quote]</p>
<p>I just tried this but when i try attach to the applet, it doesnt load the agent or display any classes? do you know why this might be?</p>
<p>as you can see the first is the runescape applet, the second is the VMTest class, which the agent works without error.</p>
<pre><code class="lang-auto">Can Attach:
sun.plugin2.main.client.PluginMain write_pipe_name=jpi2_pid4120_pipe3,read_pipe_name=jpi2_pid4120_pipe2

Can Attach:
com.intellij.rt.execution.application.AppMain VMTest
Agent loaded
classes-
java.util.WeakHashMap
java.lang.ClassLoader
java.lang.reflect.Type
[Ljava.lang.reflect.Type;
sun.jvmstat.perfdata.monitor.protocol.local.PerfDataBuffer
java.lang.Math
sun.reflect.FieldAccessor
java.lang.NoClassDefFoundError
java.security.PrivilegedExceptionAction
java.lang.ClassLoader$2
java.util.AbstractMap
java.nio.Bits$1
java.net.URLClassLoader$2
java.nio.Buffer
java.lang.Readable
.....
more but character limit</code></pre>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-20T17:55:55Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:25:50Z' class='post-time'>
              August 2, 2016,  3:25pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“light-232, post:15, topic:428881”][quote author=Moparisthebest link=topic=531578.msg3892355#msg3892355 date=1326994498]<br>
I cleaned up this thread, I expect no more flaming or arguing any place outside of PM between you two (light-232 and Discardedx2).</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.</p>
</blockquote>
</aside>
<p>I don’t understand why mitbs solution doesn’t fit your needs…</p>
</blockquote>
</aside>
<p>It does. This is just a different way of doing it, it’s better to have multiple methods of doing the same thing rather than just relying on one way.</p>
</blockquote>
</aside>
<p>I agree, another method that should be 100% bulletproof no matter what they do, even if they quit using JarInputStream, would be to override defineClass in ClassLoader, that should work on any program in the past or future that loads classes, care to give it a shot? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>How would the program know if all required classes are loaded?</p>
</blockquote>
</aside>
<p>You wouldn’t need to, you would just dump each class to a file as it was loaded.<br>
[/quote]<br>
When would you know to stop running the client?[/quote]</p>
<p>Interesting, but it wouldn’t be all that hard.  You could either count the classes to a certain number, or simply shut down if you haven’t loaded a class in X seconds or minutes.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/light-232.html'><span itemprop='name'>light-232</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-20T19:21:22Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:25:53Z' class='post-time'>
              August 2, 2016,  3:25pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Moparisthebest, post:17, topic:428881”][quote author=light-232 link=topic=531578.msg3892547#msg3892547 date=1327011449]</p>
<aside class="quote">
<blockquote>
<p>I cleaned up this thread, I expect no more flaming or arguing any place outside of PM between you two (light-232 and Discardedx2).</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg" rel="nofollow noopener">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.</p>
</blockquote>
</aside>
<p>I don’t understand why mitbs solution doesn’t fit your needs…</p>
</blockquote>
</aside>
<p>It does. This is just a different way of doing it, it’s better to have multiple methods of doing the same thing rather than just relying on one way.</p>
</blockquote>
</aside>
<p>I agree, another method that should be 100% bulletproof no matter what they do, even if they quit using JarInputStream, would be to override defineClass in ClassLoader, that should work on any program in the past or future that loads classes, care to give it a shot? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>How would the program know if all required classes are loaded?</p>
</blockquote>
</aside>
<p>You wouldn’t need to, you would just dump each class to a file as it was loaded.</p>
</blockquote>
</aside>
<p>When would you know to stop running the client?<br>
[/quote]</p>
<p>Interesting, but it wouldn’t be all that hard.  You could either count the classes to a certain number, or simply shut down if you haven’t loaded a class in X seconds or minutes.[/quote]<br>
Still, the current method seems much more convenient and easy. If we were to dump classes as the class loader loaded them, there is a chance we could miss some classes since they are loaded dynamically.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/unlimitedorb.html'><span itemprop='name'>unlimitedorb</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-20T21:29:32Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:26:00Z' class='post-time'>
              August 2, 2016,  3:26pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Ollie, post:16, topic:428881”][quote author=unlimitedorb link=topic=531578.msg3890663#msg3890663 date=1326824323]<br>
when the bot-nuke first came out, i just wrote something that attached to the vm at runtime.</p>
<p><code>public class Driver {
    List&lt;VirtualMachineDescriptor&gt; vmds = VirtualMachine.list();
    for(VirtualMachineDescriptor vmd : vmds) {
        VirtualMachine vm = VirtualMachine.attach(vmd.id());
        System.out.println(vmd.displayName());
        vm.loadAgent("path/to/agent");
        vm.detach();
    }
}</code></p>
<p>then for the agent</p>
<p><code>
public class Agent {
    public static void agentmain(String agentArgs, Instrumentation inst) {
        Class[] clazzs = inst.getAllLoadedClasses();
        for(Class clazz : clazzs) {
            System.out.println(clazz.getName());
        }
    }
}</code></p>
<p>something like that. simpler than writing a loader, almost as powerful, and far less detectable because since the agent is attached at runtime, it’s not like they can analyze the arguments to the applet. you can use jps to find PID of the applet, but i just loaded all active vms with the agent and you can just detect if it has the classes you want and do your thing.<br>
[/quote]</p>
<p>I just tried this but when i try attach to the applet, it doesnt load the agent or display any classes? do you know why this might be?</p>
<p>as you can see the first is the runescape applet, the second is the VMTest class, which the agent works without error.</p>
<p>[code]<br>
Can Attach:<br>
sun.plugin2.main.client.PluginMain write_pipe_name=jpi2_pid4120_pipe3,read_pipe_name=jpi2_pid4120_pipe2</p>
<p>Can Attach:<br>
com.intellij.rt.execution.application.AppMain VMTest<br>
Agent loaded<br>
classes-<br>
java.util.WeakHashMap<br>
java.lang.ClassLoader<br>
java.lang.reflect.Type<br>
[Ljava.lang.reflect.Type;<br>
sun.jvmstat.perfdata.monitor.protocol.local.PerfDataBuffer<br>
java.lang.Math<br>
sun.reflect.FieldAccessor<br>
java.lang.NoClassDefFoundError<br>
java.security.PrivilegedExceptionAction<br>
java.lang.ClassLoader$2<br>
java.util.AbstractMap<br>
java.nio.Bits$1<br>
java.net.URLClassLoader$2<br>
java.nio.Buffer<br>
java.lang.Readable<br>
…<br>
more but character limit<br>
[/code][/quote]</p>
<p>the output is sent to the console. if you’re on windows, try loading runescape and you should see the java icon in the right hand corner, right click it and select open [version goes here] console. all output should be sent there.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-20T23:27:11Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:26:22Z' class='post-time'>
              August 2, 2016,  3:26pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“light-232, post:18, topic:428881”][quote author=Moparisthebest link=topic=531578.msg3893175#msg3893175 date=1327082155]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>I cleaned up this thread, I expect no more flaming or arguing any place outside of PM between you two (light-232 and Discardedx2).</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>updated again: <a href="http://pastie.org/private/dac6aobubcsvlqzggngwg">http://pastie.org/private/dac6aobubcsvlqzggngwg</a><br>
this works with latest update, and should work for most future updates (if they retain this format).<br>
it was broken by the real class-loading method being inlined into the loadClass method of the class loader. (this “real” class loading method may have actually just been outlined from the loadClass method previously) but now it will search every method which returns type Class, however, it should still work if you search any method. This check is only for speed, to ensure that this runs as fast as possible.</p>
</blockquote>
</aside>
<p>I don’t understand why mitbs solution doesn’t fit your needs…</p>
</blockquote>
</aside>
<p>It does. This is just a different way of doing it, it’s better to have multiple methods of doing the same thing rather than just relying on one way.</p>
</blockquote>
</aside>
<p>I agree, another method that should be 100% bulletproof no matter what they do, even if they quit using JarInputStream, would be to override defineClass in ClassLoader, that should work on any program in the past or future that loads classes, care to give it a shot? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>How would the program know if all required classes are loaded?</p>
</blockquote>
</aside>
<p>You wouldn’t need to, you would just dump each class to a file as it was loaded.</p>
</blockquote>
</aside>
<p>When would you know to stop running the client?</p>
</blockquote>
</aside>
<p>Interesting, but it wouldn’t be all that hard.  You could either count the classes to a certain number, or simply shut down if you haven’t loaded a class in X seconds or minutes.<br>
[/quote]<br>
Still, the current method seems much more convenient and easy. If we were to dump classes as the class loader loaded them, there is a chance we could miss some classes since they are loaded dynamically.[/quote]<br>
The current method is more convenient and easy, unless they change something to break it.  One that dumps classes as the class loader would be sure to never break.</p>
      </div>

      <meta itemprop='headline' content='Client dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="4288814658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/client-dumper/428881 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 12:39:26 GMT -->
</html>
