<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Source] Captcha system</title>
    <link>https://forum.moparisthebest.com/t/source-captcha-system/176448</link>
    <description>I got bored so heres a captcha system.
ex of image: [img]http://train.cruels.net/captcha/captcha.php[/img]
test: http://train.cruels.net/captcha/example.php

requirements:
-GD
-PHP
-Arial or other TTF font (steal from ur windows/fonts/ folder)

captcha.php
[php]
&lt;?php
session_start();

header(&quot;Content-type: image/png&quot;);
$length = 5; //length of string
$size = 20; //size of font
$angle = 5; //degree from 0 both ways (ex: -5 to 5)
$numLines = 3; //number of lines across image
$numDots = 5;
$width = 100; //width of image
$height = 30; //height of image
$font = &#39;arial.ttf&#39;;

$string = substr(md5(microtime() * (mktime() + mktime())),0,$length);
$_SESSION[&quot;captcha&quot;] = md5($string);

$r = rand(0, 255);
$b = rand(0, 255);
$g = rand(0, 255);

$img = imagecreate($width, $height);

$bg = imagecolorallocate($img, $r, $g, $b);
$black = imagecolorallocate($img, 0, 0, 0);
$white = imagecolorallocate($img, 255, 255, 255);
$grey = imagecolorallocate($img, 110, 110, 110);
$grey2 = imagecolorallocate($img, 75, 75, 75);

$fangle = rand(-1 * $angle, $angle);

$box = imageTTFBbox($size,$fangle,$font,$string);
$textwidth = abs($box[4] - $box[0]);
$textheight = abs($box[5] - $box[1]);
$x = ($width/2) - ($textwidth/2)-2;
$y = ($height/2) + ($textheight/2);

imagettftext($img, $size, $fangle, $x + 1, $y + 1, $white, $font, $string);
imagettftext($img, $size, $fangle, $x, $y, $black, $font, $string);

for($i = 0; $i &lt; $numLines; $i++){
	$x1 = rand(0, $width);
	$x2 = rand(0, $width);
	imageline($img, $x1, 0, $x2, $height, $grey);
}

for($i = 0; $i &lt; $numDots; $i++){
	$dotx = rand(0, $width);
	$doty = rand(0, $height);
	imagefilledellipse($img, $dotx, $doty, 5, 5, $grey2);
}

imagepng($img);
imagedestroy($img);
?&gt;
[/php]

example.php
[php]&lt;img src=&quot;captcha.php&quot;&gt;
&lt;form action=&quot;&lt;?php echo $_SERVER[&#39;PHP_SELF&#39;];?&gt;&quot; method=&quot;POST&quot;&gt;
Enter Capthca: &lt;input type=&quot;text&quot; name=&quot;captcha&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;
&lt;/form&gt;
&lt;?php
if(isset($_POST[&quot;captcha&quot;])){
	session_start();
	
	$captcha = md5($_POST[&quot;captcha&quot;]);
	if($captcha == $_SESSION[&quot;captcha&quot;]){
		echo &quot;Captcha correct!&quot;;
		unset($catcha, $_SESSION[&quot;captcha&quot;]);
	}else{
		echo &quot;Captcha inccorect!&quot;;
	}
}
?&gt;[/php]

yes it has lots of random features lol</description>
    
    <lastBuildDate>Tue, 29 Jan 2008 06:48:27 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@Bang_Train Bang Train]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bang_train">@Bang_Train</a> wrote:</p>
          <blockquote>
              <p>[quote=“FastBawlz, post:11, topic:176448”][quote author=Bang Train link=topic=237183.msg2018077#msg2018077 date=1201465218]<br>
}else{<br>
echo “Captcha inccorect!”;<br>
}<br>
[/quote]<br>
i was tired you cant blame me for that &gt;.&lt;</p>
<p>Don’t know much about PHP but I’m pretty sure you don’t spell incorrect like that…[/quote]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/12</link>
        <pubDate>Tue, 29 Jan 2008 06:48:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-12</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@FastBallz FastBawlz]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fastballz">@FastBallz</a> wrote:</p>
          <blockquote>
              <p>[quote=“Bang Train, post:4, topic:176448”]}else{<br>
echo “Captcha inccorect!”;<br>
}[/quote]</p>
<p>Don’t know much about PHP but I’m pretty sure you don’t spell incorrect like that…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/11</link>
        <pubDate>Tue, 29 Jan 2008 06:37:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-11</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@kloplop321 kloplop321]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kloplop321">@kloplop321</a> wrote:</p>
          <blockquote>
              <p>mine is made to defeat them <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
still is kinda bad on the sizing of some of the fonts like one time the entire bottom of a 1 only</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/10</link>
        <pubDate>Tue, 29 Jan 2008 06:33:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-10</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@Night26 Night26]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/night26">@Night26</a> wrote:</p>
          <blockquote>
              <p>ooh I see, the only thing is, that if the page fails to load first, you can’t refresh and resend the post data… good work though… klop that would be pretty hard to decipher for anyone over the age of 70 (their eyesight distinction weakens…)  I’ve made a couple of captcha decoders before, but they were pretty basic types so gj.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/9</link>
        <pubDate>Tue, 29 Jan 2008 06:10:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-9</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@kloplop321 kloplop321]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kloplop321">@kloplop321</a> wrote:</p>
          <blockquote>
              <p>well I just outdid bang train at his method <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=6" title=":wink:" class="emoji" alt=":wink:"><br>
mine may be a bit overkill but It does do a VERY hard thing for a bot to figure out ;D<br>
no smooth<br>
<img src="http://www.kloplop321.com/p/image.php" alt width="" height=""><br>
smoothing<br>
<img src="http://www.kloplop321.com/p/image.php?blur=y" alt width="" height=""></p>
<p>just highly modified bang train’s  :rolleyes:</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/8</link>
        <pubDate>Mon, 28 Jan 2008 10:26:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-8</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@Bang_Train Bang Train]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bang_train">@Bang_Train</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="6" data-topic="176448">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/night26/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> Night26:</div>
<blockquote>
<p>so If I solved the system once manually, I could get past the captcha system easily by sending the same session values + key accross each time till my session expires?? (Such as access a page autmated thousands of times)… Something you need to think about???</p>
</blockquote>
</aside>
<p>thats why i added this laster: 	<br>
unset($catcha, $_SESSION[“captcha”]);</p>
<p>so the session var no longer exists for it to check against</p>
<p>but yes if it doesnt unset it you can do that</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/7</link>
        <pubDate>Mon, 28 Jan 2008 10:10:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-7</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@Night26 Night26]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/night26">@Night26</a> wrote:</p>
          <blockquote>
              <p>so If I solved the system once manually, I could get past the captcha system easily by sending the same session values + key accross each time till my session expires?? (Such as access a page autmated thousands of times)… Something you need to think about???</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/6</link>
        <pubDate>Mon, 28 Jan 2008 09:48:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-6</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@Kollidierende Kolli`]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kollidierende">@Kollidierende</a> wrote:</p>
          <blockquote>
              <p>Haha, nice.</p>
<p>My PHP one was like WAYY longer.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/5</link>
        <pubDate>Mon, 28 Jan 2008 03:32:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-5</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@Bang_Train Bang Train]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bang_train">@Bang_Train</a> wrote:</p>
          <blockquote>
              <p>[quote=“marluxia, post:3, topic:176448”][code]<br>
import <a href="http://java.io" rel="nofollow noopener">java.io</a>.<em>;<br>
import <a href="http://java.net" rel="nofollow noopener">java.net</a>.</em>;</p>
<p>public class nourlol implements Runnable {</p>
<pre><code>public static void main(String[] args) {
	new nourlol();
}

public nourlol() {
	while(true) {
		new Thread(this).start();
	}
}

public void run() {
	try {
		Thread.sleep(1000);			

		URL url = new URL("http://train.cruels.net/captcha/example.php");
		HttpURLConnection httpURLConnection = (HttpURLConnection)url.openConnection();

		httpURLConnection.setUseCaches(false);
		httpURLConnection.setDoOutput(true);
		httpURLConnection.setDoInput(true);

		httpURLConnection.setRequestMethod("POST");
		httpURLConnection.setRequestProperty(
			"Cookie", "PHPSESSID=40c1232d4cb4e1cd72f9735c22afe0cb");
		httpURLConnection.setRequestProperty(
			"Content-Type", "application/x-www-form-urlencoded");
		
		StringBuffer sbContent = new StringBuffer();
		sbContent.append("captcha=");
		sbContent.append(URLEncoder.encode("74645", "UTF-8"));
	
		DataOutputStream stream = 
			new DataOutputStream(httpURLConnection.getOutputStream());
		stream.writeBytes(sbContent.toString());
		stream.flush();
		stream.close();

		BufferedReader reader = new BufferedReader(
			new InputStreamReader(httpURLConnection.getInputStream()));

		String line;
		while ((line = reader.readLine()) != null) {
			System.out.println(line);
		}
		reader.close();
	} catch (Exception e) { }
}
</code></pre>
<p>}<br>
[/code]</p>
<p>better fix <a href="http://www.puremango.co.uk/cm_breaking_captcha_115.php" data-bbcode="true" rel="nofollow noopener">that bug</a> :/[/quote]</p>
<p>[php]<img></p>

Enter Capthca: 


&lt;?php
if(isset($_POST["captcha"])){
	session_start();
<pre><code>$captcha = md5($_POST["captcha"]);
if($captcha == $_SESSION["captcha"]){
	echo "Captcha correct!";
	unset($catcha, $_SESSION["captcha"]);
}else{
	echo "Captcha inccorect!";
}
</code></pre>
<p>}<br>
?&gt;[/php]<br>
good?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/4</link>
        <pubDate>Sun, 27 Jan 2008 20:20:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-4</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@marluxia marluxia]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/marluxia">@marluxia</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">import java.io.*;
import java.net.*;

public class nourlol implements Runnable {

	public static void main(String[] args) {
		new nourlol();
	}

	public nourlol() {
		while(true) {
			new Thread(this).start();
		}
	}

	public void run() {
		try {
			Thread.sleep(1000);			

			URL url = new URL("http://train.cruels.net/captcha/example.php");
			HttpURLConnection httpURLConnection = (HttpURLConnection)url.openConnection();

			httpURLConnection.setUseCaches(false);
			httpURLConnection.setDoOutput(true);
			httpURLConnection.setDoInput(true);

			httpURLConnection.setRequestMethod("POST");
			httpURLConnection.setRequestProperty(
				"Cookie", "PHPSESSID=40c1232d4cb4e1cd72f9735c22afe0cb");
			httpURLConnection.setRequestProperty(
				"Content-Type", "application/x-www-form-urlencoded");
			
			StringBuffer sbContent = new StringBuffer();
			sbContent.append("captcha=");
			sbContent.append(URLEncoder.encode("74645", "UTF-8"));
		
			DataOutputStream stream = 
				new DataOutputStream(httpURLConnection.getOutputStream());
			stream.writeBytes(sbContent.toString());
			stream.flush();
			stream.close();

			BufferedReader reader = new BufferedReader(
				new InputStreamReader(httpURLConnection.getInputStream()));

			String line;
			while ((line = reader.readLine()) != null) {
				System.out.println(line);
			}
			reader.close();
		} catch (Exception e) { }
	}
	
}</code></pre>
<p>better fix <a href="http://www.puremango.co.uk/cm_breaking_captcha_115.php" data-bbcode="true" rel="nofollow noopener">that bug</a> <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=6" title=":confused:" class="emoji" alt=":confused:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/3</link>
        <pubDate>Sun, 27 Jan 2008 14:27:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-3</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@tehl33tdude tehl33tdude]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tehl33tdude">@tehl33tdude</a> wrote:</p>
          <blockquote>
              <p>Very nice job…</p>
<p>Rep++</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/2</link>
        <pubDate>Sun, 27 Jan 2008 10:41:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-2</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
      <item>
        <title>[Source] Captcha system</title>
        <dc:creator><![CDATA[@Bang_Train Bang Train]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bang_train">@Bang_Train</a> wrote:</p>
          <blockquote>
              <p>I got bored so heres a captcha system.<br>
ex of image: <img src="http://train.cruels.net/captcha/captcha.php" alt width="" height=""><br>
test: <a href="http://train.cruels.net/captcha/example.php" rel="nofollow noopener">http://train.cruels.net/captcha/example.php</a></p>
<p>requirements:<br>
-GD<br>
-PHP<br>
-Arial or other TTF font (steal from ur windows/fonts/ folder)</p>
<p>captcha.php<br>
[php]</p>
&lt;?php
session_start();

header("Content-type: image/png");
$length = 5; //length of string
$size = 20; //size of font
$angle = 5; //degree from 0 both ways (ex: -5 to 5)
$numLines = 3; //number of lines across image
$numDots = 5;
$width = 100; //width of image
$height = 30; //height of image
$font = 'arial.ttf';

$string = substr(md5(microtime() * (mktime() + mktime())),0,$length);
$_SESSION["captcha"] = md5($string);

$r = rand(0, 255);
$b = rand(0, 255);
$g = rand(0, 255);

$img = imagecreate($width, $height);

$bg = imagecolorallocate($img, $r, $g, $b);
$black = imagecolorallocate($img, 0, 0, 0);
$white = imagecolorallocate($img, 255, 255, 255);
$grey = imagecolorallocate($img, 110, 110, 110);
$grey2 = imagecolorallocate($img, 75, 75, 75);

$fangle = rand(-1 * $angle, $angle);

$box = imageTTFBbox($size,$fangle,$font,$string);
$textwidth = abs($box[4] - $box[0]);
$textheight = abs($box[5] - $box[1]);
$x = ($width/2) - ($textwidth/2)-2;
$y = ($height/2) + ($textheight/2);

imagettftext($img, $size, $fangle, $x + 1, $y + 1, $white, $font, $string);
imagettftext($img, $size, $fangle, $x, $y, $black, $font, $string);

for($i = 0; $i &lt; $numLines; $i++){
	$x1 = rand(0, $width);
	$x2 = rand(0, $width);
	imageline($img, $x1, 0, $x2, $height, $grey);
}

for($i = 0; $i &lt; $numDots; $i++){
	$dotx = rand(0, $width);
	$doty = rand(0, $height);
	imagefilledellipse($img, $dotx, $doty, 5, 5, $grey2);
}

imagepng($img);
imagedestroy($img);
?&gt;
<p>[/php]</p>
<p>example.php<br>
[php]<img></p>

Enter Capthca: 


&lt;?php
if(isset($_POST["captcha"])){
	session_start();
<pre><code>$captcha = md5($_POST["captcha"]);
if($captcha == $_SESSION["captcha"]){
	echo "Captcha correct!";
	unset($catcha, $_SESSION["captcha"]);
}else{
	echo "Captcha inccorect!";
}
</code></pre>
<p>}<br>
?&gt;[/php]</p>
<p>yes it has lots of random features lol</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/source-captcha-system/176448/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/source-captcha-system/176448/1</link>
        <pubDate>Sun, 27 Jan 2008 10:39:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-176448-1</guid>
        <source url="https://forum.moparisthebest.com/t/source-captcha-system/176448.rss">[Source] Captcha system</source>
      </item>
  </channel>
</rss>
