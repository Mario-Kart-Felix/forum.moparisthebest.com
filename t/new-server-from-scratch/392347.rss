<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>New server from scratch</title>
    <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347</link>
    <description>First off I want to say that I&#39;m not making a server that is user-friendly. I think of speed firstly, memory usage second and third user-friendly. The server is dual-threaded, with a thread-safe singleton World. I do realize that a singleton is a bad choice but it&#39;s the best thing I can do right now. Will change further in.

Server&#39;s structure:

[IMG]http://i51.tinypic.com/34pj0p0.png[/img]

Structure explanation:
Server/main - the main class of the server, initializes the server and starts the IOThread and GameThread
IOThread - handles all the client&#39;s input and output, also listens for new clients. Each connection is represented by an IOSession, which reads, parses and write the packets. The player is never initialized before the IOSession recieves the loginpacket

The IOSession reads the packets just as the client does as I saw this as a very smart option. This contribute to no delay between reading a packet and parsing it, which in turn makes the delay between the server and the client even smaller. This also saves system memory since there is no need to allocate memory for a input packet queue. For output there is however a queue.
[code]
if(lastPacketLength == 0 &amp;&amp; available() &gt;= 2) {
				byte p1 = readByte();
				byte p2 = readByte();
				lastPacketLength = p1 * 256 + p2;
			}
			if(lastPacketLength &gt; 0 &amp;&amp; available() &gt;= lastPacketLength) {
				byte[] data = new byte[lastPacketLength];
				readByteArray(data);
				Packet p = new Packet(data);
				parsePacket(p);
			}[/code]

GameThread - handles player, npc, landscape and object updating.
World - holds all the world objects

Having 2 threads, one for I/O and one for updating the game, gives the server a huge speed increase. I know that RSCD is dual-threaded as well, since the I/O library it uses also has one thread. However want full control over the I/O and the threads. Both the threads have a very low sleep so little to no lag will be experienced. For example RSCD have a high sleep time in it&#39;s gamethread, which you can notice while trading gold.

The server does not have any outside libraries, i.e. everything in the server I have programmed myself. Except for Java API classes, of course.

I will gladly take constructive criticism.</description>
    
    <lastBuildDate>Wed, 25 May 2011 18:53:46 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@uberpk3r uberpk3r]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/uberpk3r">@uberpk3r</a> wrote:</p>
          <blockquote>
              <p>Seems interesting Lukas. Hopefully a Swedish person will finish hes project <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"> Go show what we made of. Haha!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/33">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/33</link>
        <pubDate>Wed, 25 May 2011 18:53:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-33</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@Nothing1 -Nothing]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nothing1">@Nothing1</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="1" data-topic="396328">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/kryptix/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar">
</div>
<blockquote>
<p>How’s this coming along?</p>
</blockquote>
</aside>
<p>Probably dead project by now, even I lose my motivation against all my projects, simply because it’s time to let RSC die.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/32">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/32</link>
        <pubDate>Wed, 25 May 2011 08:46:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-32</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@CodeForFame CodeForFame]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/codeforfame">@CodeForFame</a> wrote:</p>
          <blockquote>
              <p>[quote=“meatstick, post:30, topic:392347”][quote author=CodeForFame link=topic=489518.msg3583951#msg3583951 date=1304024375]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>No shit…  Obviously it’s just an overview, and I’m pointing out the obvious flaws…</p>
</blockquote>
</aside>
<p>Obviously? Obviously it wasn’t obvious to you…</p>
</blockquote>
</aside>
<p>It clearly was, as I was only speaking about flaws in things you mentioned…  You also represented things in a completely fucked manner, and then explained things completely different from what the image showed.</p>
<p>Your ‘main structure’ has some parts going into much greater detail than others, and it’s not even close to being consistent.  For example. the branches off of GameThread go down to a level that makes a distinction between entity types, and mob types.  Yet, the branch from IOThread only gives one type of IO, and skips a bunch of other things to get to IoSession…</p>
</blockquote>
</aside>
<p>Please show me where I explain things completely different from what the image shows. And there are no ‘other things’ between the IOThread and the IOSession. When a socket is connected, an IOSession is created with the new socket, which is later added to a list that holds all the sessions.</p>
<p>Either way, I didn’t put down a lot of time to make the image, it was made for people to quickly see how the server would handle different things. Atleast that was my intention, it might not have turned out that good but we’re talking about an image here, not the actual server. I know what I’m doing and I know that my server is going to turn out well, despite what you say.</p>
<p>Also why are you so mad? I said I will gladly take constructive criticism, but you’re just rude as fuck.</p>
</blockquote>
</aside>
<p>I’ve already pointed several out…  You’re missing tons of things…  Protocol encoder/decoder, a class to ‘manage’ your ‘IoSessions’, etc.  If anything IoSession should be just an interface, that has multiple implementations (one for each ‘type’ of IO (file, network, etc.)).  It’s kind of funny that you’re using names used by MINA, without actually thinking about what the name implies.</p>
<p>That’s the thing…  You don’t know what you’re doing, and you’re trying to act as if you do.  You’re just taking random tidbits from what you’ve seen, and slapping them together in a completely illogical way…<br>
[/quote]<br>
Missing tons of things… In the image, yes. I do have a protocol d/e, I do have a class to manage the sessions.</p>
<p>Also, not really. How is naming a class IOSession illogical, when it that handles a socket SESSION, and input and output?[/quote]</p>
<p>That’s exactly what I’m saying…  You go into a completely different level of detail on different parts of the image…</p>
<p>I’ve already explained it, re-read what I’ve said.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/31">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/31</link>
        <pubDate>Fri, 29 Apr 2011 17:30:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-31</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@meatstick meatstick]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/meatstick">@meatstick</a> wrote:</p>
          <blockquote>
              <p>[quote=“CodeForFame, post:29, topic:392347”][quote author=meatstick link=topic=489518.msg3583906#msg3583906 date=1304020822]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>No shit…  Obviously it’s just an overview, and I’m pointing out the obvious flaws…</p>
</blockquote>
</aside>
<p>Obviously? Obviously it wasn’t obvious to you…</p>
</blockquote>
</aside>
<p>It clearly was, as I was only speaking about flaws in things you mentioned…  You also represented things in a completely fucked manner, and then explained things completely different from what the image showed.</p>
<p>Your ‘main structure’ has some parts going into much greater detail than others, and it’s not even close to being consistent.  For example. the branches off of GameThread go down to a level that makes a distinction between entity types, and mob types.  Yet, the branch from IOThread only gives one type of IO, and skips a bunch of other things to get to IoSession…</p>
</blockquote>
</aside>
<p>Please show me where I explain things completely different from what the image shows. And there are no ‘other things’ between the IOThread and the IOSession. When a socket is connected, an IOSession is created with the new socket, which is later added to a list that holds all the sessions.</p>
<p>Either way, I didn’t put down a lot of time to make the image, it was made for people to quickly see how the server would handle different things. Atleast that was my intention, it might not have turned out that good but we’re talking about an image here, not the actual server. I know what I’m doing and I know that my server is going to turn out well, despite what you say.</p>
<p>Also why are you so mad? I said I will gladly take constructive criticism, but you’re just rude as fuck.<br>
[/quote]</p>
<p>I’ve already pointed several out…  You’re missing tons of things…  Protocol encoder/decoder, a class to ‘manage’ your ‘IoSessions’, etc.  If anything IoSession should be just an interface, that has multiple implementations (one for each ‘type’ of IO (file, network, etc.)).  It’s kind of funny that you’re using names used by MINA, without actually thinking about what the name implies.</p>
<p>That’s the thing…  You don’t know what you’re doing, and you’re trying to act as if you do.  You’re just taking random tidbits from what you’ve seen, and slapping them together in a completely illogical way…[/quote]<br>
Missing tons of things… In the image, yes. I do have a protocol d/e, I do have a class to manage the sessions.</p>
<p>Also, not really. How is naming a class IOSession illogical, when it that handles a socket SESSION, and input and output?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/30">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/30</link>
        <pubDate>Fri, 29 Apr 2011 06:24:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-30</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@CodeForFame CodeForFame]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/codeforfame">@CodeForFame</a> wrote:</p>
          <blockquote>
              <p>[quote=“meatstick, post:28, topic:392347”][quote author=CodeForFame link=topic=489518.msg3583766#msg3583766 date=1304011469]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>No shit…  Obviously it’s just an overview, and I’m pointing out the obvious flaws…</p>
</blockquote>
</aside>
<p>Obviously? Obviously it wasn’t obvious to you…</p>
</blockquote>
</aside>
<p>It clearly was, as I was only speaking about flaws in things you mentioned…  You also represented things in a completely fucked manner, and then explained things completely different from what the image showed.</p>
<p>Your ‘main structure’ has some parts going into much greater detail than others, and it’s not even close to being consistent.  For example. the branches off of GameThread go down to a level that makes a distinction between entity types, and mob types.  Yet, the branch from IOThread only gives one type of IO, and skips a bunch of other things to get to IoSession…<br>
[/quote]<br>
Please show me where I explain things completely different from what the image shows. And there are no ‘other things’ between the IOThread and the IOSession. When a socket is connected, an IOSession is created with the new socket, which is later added to a list that holds all the sessions.</p>
<p>Either way, I didn’t put down a lot of time to make the image, it was made for people to quickly see how the server would handle different things. Atleast that was my intention, it might not have turned out that good but we’re talking about an image here, not the actual server. I know what I’m doing and I know that my server is going to turn out well, despite what you say.</p>
<p>Also why are you so mad? I said I will gladly take constructive criticism, but you’re just rude as fuck.[/quote]</p>
<p>I’ve already pointed several out…  You’re missing tons of things…  Protocol encoder/decoder, a class to ‘manage’ your ‘IoSessions’, etc.  If anything IoSession should be just an interface, that has multiple implementations (one for each ‘type’ of IO (file, network, etc.)).  It’s kind of funny that you’re using names used by MINA, without actually thinking about what the name implies.</p>
<p>That’s the thing…  You don’t know what you’re doing, and you’re trying to act as if you do.  You’re just taking random tidbits from what you’ve seen, and slapping them together in a completely illogical way…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/29">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/29</link>
        <pubDate>Thu, 28 Apr 2011 20:59:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-29</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@meatstick meatstick]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/meatstick">@meatstick</a> wrote:</p>
          <blockquote>
              <p>[quote=“CodeForFame, post:27, topic:392347”][quote author=meatstick link=topic=489518.msg3583684#msg3583684 date=1304001172]</p>
<aside class="quote">
<blockquote>
<p>No shit…  Obviously it’s just an overview, and I’m pointing out the obvious flaws…</p>
</blockquote>
</aside>
<p>Obviously? Obviously it wasn’t obvious to you…<br>
[/quote]</p>
<p>It clearly was, as I was only speaking about flaws in things you mentioned…  You also represented things in a completely fucked manner, and then explained things completely different from what the image showed.</p>
<p>Your ‘main structure’ has some parts going into much greater detail than others, and it’s not even close to being consistent.  For example. the branches off of GameThread go down to a level that makes a distinction between entity types, and mob types.  Yet, the branch from IOThread only gives one type of IO, and skips a bunch of other things to get to IoSession…[/quote]<br>
Please show me where I explain things completely different from what the image shows. And there are no ‘other things’ between the IOThread and the IOSession. When a socket is connected, an IOSession is created with the new socket, which is later added to a list that holds all the sessions.</p>
<p>Either way, I didn’t put down a lot of time to make the image, it was made for people to quickly see how the server would handle different things. Atleast that was my intention, it might not have turned out that good but we’re talking about an image here, not the actual server. I know what I’m doing and I know that my server is going to turn out well, despite what you say.</p>
<p>Also why are you so mad? I said I will gladly take constructive criticism, but you’re just rude as fuck.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/28">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/28</link>
        <pubDate>Thu, 28 Apr 2011 20:00:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-28</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@CodeForFame CodeForFame]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/codeforfame">@CodeForFame</a> wrote:</p>
          <blockquote>
              <p>[quote=“meatstick, post:26, topic:392347”][quote author=CodeForFame link=topic=489518.msg3583677#msg3583677 date=1304000448]<br>
No shit…  Obviously it’s just an overview, and I’m pointing out the obvious flaws…<br>
[/quote]<br>
Obviously? Obviously it wasn’t obvious to you…[/quote]</p>
<p>It clearly was, as I was only speaking about flaws in things you mentioned…  You also represented things in a completely fucked manner, and then explained things completely different from what the image showed.</p>
<p>Your ‘main structure’ has some parts going into much greater detail than others, and it’s not even close to being consistent.  For example. the branches off of GameThread go down to a level that makes a distinction between entity types, and mob types.  Yet, the branch from IOThread only gives one type of IO, and skips a bunch of other things to get to IoSession…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/27">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/27</link>
        <pubDate>Thu, 28 Apr 2011 17:24:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-27</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@meatstick meatstick]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/meatstick">@meatstick</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="25" data-topic="392347">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/user_avatar/forum.moparisthebest.com/codeforfame/40/3743_1.png" class="avatar"> CodeForFame:</div>
<blockquote>
<p>No shit…  Obviously it’s just an overview, and I’m pointing out the obvious flaws…</p>
</blockquote>
</aside>
<p>Obviously? Obviously it wasn’t obvious to you…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/26">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/26</link>
        <pubDate>Thu, 28 Apr 2011 14:32:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-26</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@CodeForFame CodeForFame]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/codeforfame">@CodeForFame</a> wrote:</p>
          <blockquote>
              <p>[quote=“meatstick, post:23, topic:392347”][quote author=CodeForFame link=topic=489518.msg3581814#msg3581814 date=1303858050]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>For one, you didn’t even understand your own structure…  MINA doesn’t use just one thread for IO.</p>
</blockquote>
</aside>
<p>I don’t use MINA.</p>
<aside class="quote">
<blockquote>
<p>Also, one thread for all the game logic is retarded…  It might have been acceptable when there was no way to easily get your hands on a multi-core CPU, but in this day and age, it’s simply not acceptable.</p>
</blockquote>
</aside>
<p>Yup, that’s true, but RSC doesn’t even need more than one core for the game logic so I don’t understand your point. It would be a performance increase, but not noticeable unless the server is under heavy pressure, which it isn’t at most time.</p>
<aside class="quote">
<blockquote>
<p>In addition, NPCs and Players both have tons of code that would be common, so they shouldn’t be decoupled as you’re depicting…</p>
</blockquote>
</aside>
<p>They both extend the same class, they’re decoupled in the image to make people understand easier.</p>
<aside class="quote">
<blockquote>
<p>Not only that, but you’re only allowing for one world…</p>
</blockquote>
</aside>
<p>Per PC, yes.</p>
<p>Good try, though.</p>
</blockquote>
</aside>
<p>What framework are you using then, because MINA is the only on I know of that has the IoSession class…  If you’re doing it from scratch, and only using one thread…  ROFL GL</p>
<p>It does if you don’t want to have ‘lag’…  Processing 100+ NPC’s logic, player movement, etc. isn’t that cheap…  And when it’s under load, it should be performing its best, not worst.</p>
<p>That only makes complete and utter idiots confused, and people who aren’t laugh at you for being stupid.</p>
<p>No, you’re allowing one world period…  Without the ‘login server’ or something like it, you’re going to have issues communicating between them…<br>
[/quote]<br>
You do realize that the image i posted was only the main structure of the server? I don’t take in every class… Sigh.</p>
<p>IOSession is my own class.[/quote]</p>
<p>No shit…  Obviously it’s just an overview, and I’m pointing out the obvious flaws…</p>
<p>So, you’re going to be using NIO without a library, and creating your own class called IoSession?  Interesting name…  Especially seeing how you’re implementing it…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/25">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/25</link>
        <pubDate>Thu, 28 Apr 2011 14:20:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-25</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@Nothing1 -Nothing]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nothing1">@Nothing1</a> wrote:</p>
          <blockquote>
              <p>I take my words back.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/24</link>
        <pubDate>Wed, 27 Apr 2011 07:43:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-24</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@meatstick meatstick]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/meatstick">@meatstick</a> wrote:</p>
          <blockquote>
              <p>[quote=“CodeForFame, post:19, topic:392347”][quote author=meatstick link=topic=489518.msg3581465#msg3581465 date=1303838452]</p>
<aside class="quote">
<blockquote>
<p>For one, you didn’t even understand your own structure…  MINA doesn’t use just one thread for IO.</p>
</blockquote>
</aside>
<p>I don’t use MINA.</p>
<aside class="quote">
<blockquote>
<p>Also, one thread for all the game logic is retarded…  It might have been acceptable when there was no way to easily get your hands on a multi-core CPU, but in this day and age, it’s simply not acceptable.</p>
</blockquote>
</aside>
<p>Yup, that’s true, but RSC doesn’t even need more than one core for the game logic so I don’t understand your point. It would be a performance increase, but not noticeable unless the server is under heavy pressure, which it isn’t at most time.</p>
<aside class="quote">
<blockquote>
<p>In addition, NPCs and Players both have tons of code that would be common, so they shouldn’t be decoupled as you’re depicting…</p>
</blockquote>
</aside>
<p>They both extend the same class, they’re decoupled in the image to make people understand easier.</p>
<aside class="quote">
<blockquote>
<p>Not only that, but you’re only allowing for one world…</p>
</blockquote>
</aside>
<p>Per PC, yes.</p>
<p>Good try, though.<br>
[/quote]</p>
<p>What framework are you using then, because MINA is the only on I know of that has the IoSession class…  If you’re doing it from scratch, and only using one thread…  ROFL GL</p>
<p>It does if you don’t want to have ‘lag’…  Processing 100+ NPC’s logic, player movement, etc. isn’t that cheap…  And when it’s under load, it should be performing its best, not worst.</p>
<p>That only makes complete and utter idiots confused, and people who aren’t laugh at you for being stupid.</p>
<p>No, you’re allowing one world period…  Without the ‘login server’ or something like it, you’re going to have issues communicating between them…[/quote]<br>
You do realize that the image i posted was only the main structure of the server? I don’t take in every class… Sigh.</p>
<p>IOSession is my own class.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/23">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/23</link>
        <pubDate>Wed, 27 Apr 2011 06:53:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-23</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@Nothing1 -Nothing]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nothing1">@Nothing1</a> wrote:</p>
          <blockquote>
              <p>Meatstick…Good luck with the server, but why not do it all right instead of basically replicating how others do it?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/22">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/22</link>
        <pubDate>Wed, 27 Apr 2011 06:35:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-22</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@JUMPHIM JUMPHIM]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jumphim">@JUMPHIM</a> wrote:</p>
          <blockquote>
              <p><img src="https://forum.moparisthebest.com/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"> what have i done</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/21</link>
        <pubDate>Wed, 27 Apr 2011 01:11:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-21</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@Vrunk Vrunk]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vrunk">@Vrunk</a> wrote:</p>
          <blockquote>
              <p>Two words:</p>
<p>Event Driven</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/20</link>
        <pubDate>Tue, 26 Apr 2011 22:53:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-20</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@CodeForFame CodeForFame]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/codeforfame">@CodeForFame</a> wrote:</p>
          <blockquote>
              <p>[quote=“meatstick, post:18, topic:392347”][quote]<br>
For one, you didn’t even understand your own structure…  MINA doesn’t use just one thread for IO.<br>
[/quote]</p>
<p>I don’t use MINA.</p>
<aside class="quote">
<blockquote>
<p>Also, one thread for all the game logic is retarded…  It might have been acceptable when there was no way to easily get your hands on a multi-core CPU, but in this day and age, it’s simply not acceptable.</p>
</blockquote>
</aside>
<p>Yup, that’s true, but RSC doesn’t even need more than one core for the game logic so I don’t understand your point. It would be a performance increase, but not noticeable unless the server is under heavy pressure, which it isn’t at most time.</p>
<aside class="quote">
<blockquote>
<p>In addition, NPCs and Players both have tons of code that would be common, so they shouldn’t be decoupled as you’re depicting…</p>
</blockquote>
</aside>
<p>They both extend the same class, they’re decoupled in the image to make people understand easier.</p>
<aside class="quote">
<blockquote>
<p>Not only that, but you’re only allowing for one world…</p>
</blockquote>
</aside>
<p>Per PC, yes.</p>
<p>Good try, though.[/quote]</p>
<p>What framework are you using then, because MINA is the only on I know of that has the IoSession class…  If you’re doing it from scratch, and only using one thread…  ROFL GL</p>
<p>It does if you don’t want to have ‘lag’…  Processing 100+ NPC’s logic, player movement, etc. isn’t that cheap…  And when it’s under load, it should be performing its best, not worst.</p>
<p>That only makes complete and utter idiots confused, and people who aren’t laugh at you for being stupid.</p>
<p>No, you’re allowing one world period…  Without the ‘login server’ or something like it, you’re going to have issues communicating between them…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/19</link>
        <pubDate>Tue, 26 Apr 2011 22:47:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-19</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@meatstick meatstick]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/meatstick">@meatstick</a> wrote:</p>
          <blockquote>
              <blockquote>For one, you didn't even understand your own structure...  MINA doesn't use just one thread for IO.</blockquote>
<p>I don’t use MINA.</p>
<blockquote>Also, one thread for all the game logic is retarded...  It might have been acceptable when there was no way to easily get your hands on a multi-core CPU, but in this day and age, it's simply not acceptable.</blockquote>
<p>Yup, that’s true, but RSC doesn’t even need more than one core for the game logic so I don’t understand your point. It would be a performance increase, but not noticeable unless the server is under heavy pressure, which it isn’t at most time.</p>
<blockquote>In addition, NPCs and Players both have tons of code that would be common, so they shouldn't be decoupled as you're depicting...</blockquote>
<p>They both extend the same class, they’re decoupled in the image to make people understand easier.</p>
<blockquote>Not only that, but you're only allowing for one world...</blockquote>
<p>Per PC, yes.</p>
<p>Good try, though.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/18</link>
        <pubDate>Tue, 26 Apr 2011 17:20:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-18</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@CodeForFame CodeForFame]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/codeforfame">@CodeForFame</a> wrote:</p>
          <blockquote>
              <p>[quote=“meatstick, post:16, topic:392347”][quote author=CodeForFame link=topic=489518.msg3581002#msg3581002 date=1303787033]</p>
<aside class="quote">
<blockquote>
<p>i seen  this before codeforfame what happend with yours???</p>
</blockquote>
</aside>
<p>My structure was much less retarded, and I really CBF adding in all the skills.  I have the base sitting around somewhere…<br>
[/quote]<br>
How is my structure retarded?[/quote]</p>
<p>For one, you didn’t even understand your own structure…  MINA doesn’t use just one thread for IO.</p>
<p>Also, one thread for all the game logic is retarded…  It might have been acceptable when there was no way to easily get your hands on a multi-core CPU, but in this day and age, it’s simply not acceptable.</p>
<p>In addition, NPCs and Players both have tons of code that would be common, so they shouldn’t be decoupled as you’re depicting…</p>
<p>Not only that, but you’re only allowing for one world…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/17</link>
        <pubDate>Tue, 26 Apr 2011 16:34:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-17</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@meatstick meatstick]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/meatstick">@meatstick</a> wrote:</p>
          <blockquote>
              <p>[quote=“CodeForFame, post:15, topic:392347”][quote author=JUMPHIM link=topic=489518.msg3579591#msg3579591 date=1303690425]<br>
i seen  this before codeforfame what happend with yours???<br>
[/quote]</p>
<p>My structure was much less retarded, and I really CBF adding in all the skills.  I have the base sitting around somewhere…[/quote]<br>
How is my structure retarded?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/16</link>
        <pubDate>Tue, 26 Apr 2011 13:11:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-16</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@CodeForFame CodeForFame]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/codeforfame">@CodeForFame</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="14" data-topic="392347">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/jumphim/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> JUMPHIM:</div>
<blockquote>
<p>i seen  this before codeforfame what happend with yours???</p>
</blockquote>
</aside>
<p>My structure was much less retarded, and I really CBF adding in all the skills.  I have the base sitting around somewhere…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/15</link>
        <pubDate>Tue, 26 Apr 2011 03:03:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-15</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@JUMPHIM JUMPHIM]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jumphim">@JUMPHIM</a> wrote:</p>
          <blockquote>
              <p>i seen  this before codeforfame what happend with yours???</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/14</link>
        <pubDate>Mon, 25 Apr 2011 00:13:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-14</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@nacional nacional]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nacional">@nacional</a> wrote:</p>
          <blockquote>
              <p>good luck, hope you finish it because it seems that everything that is started here in mopar never gets finished lol.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/13</link>
        <pubDate>Sun, 24 Apr 2011 17:08:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-13</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@meatstick meatstick]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/meatstick">@meatstick</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="11" data-topic="392347">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/ecko/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ecko:</div>
<blockquote>
<p>I like the structure, good luck.</p>
</blockquote>
</aside>
<p>lol’d</p>
<p>I forgot to mention that this isn’t for the new client version, it’s an old client.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/12</link>
        <pubDate>Sun, 24 Apr 2011 14:24:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-12</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@Ecko Ecko]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ecko">@Ecko</a> wrote:</p>
          <blockquote>
              <p>[quote=“meatstick, post:1, topic:392347”]Server’s structure:</p>
<p><img src="http://upit.cc/images/e96fdae3.png" alt width="" height="">[/quote]<br>
I like the structure, good luck.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/11</link>
        <pubDate>Sun, 24 Apr 2011 14:11:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-11</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@Mendorphins Mendorphins]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mendorphins">@Mendorphins</a> wrote:</p>
          <blockquote>
              <p>No, thank you. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/10</link>
        <pubDate>Sun, 24 Apr 2011 13:53:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-10</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
      <item>
        <title>New server from scratch</title>
        <dc:creator><![CDATA[@meatstick meatstick]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/meatstick">@meatstick</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="8" data-topic="392347">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/mendorphins/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Mendorphins:</div>
<blockquote>
<p>Completely ignore me, thanks arsestick.</p>
</blockquote>
</aside>
<p>Forgot about your post, lol. I believe more is known about the RSC client, but the RS2 client is far more complex than the RSC client.</p>
<p>Thanks btw.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/new-server-from-scratch/392347/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/new-server-from-scratch/392347/9</link>
        <pubDate>Sun, 24 Apr 2011 12:52:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-392347-9</guid>
        <source url="https://forum.moparisthebest.com/t/new-server-from-scratch/392347.rss">New server from scratch</source>
      </item>
  </channel>
</rss>
