<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Allstar-scape]Custom Dialogue System Problem</title>
    <link>https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235</link>
    <description>Well, I made a dialogue system. I have been experiencing 2 problems though.

[ol][li]The dialogue won&#39;t continue.[/li]
[li]The expression of the player is not being showed.[/li][/ol]


Here&#39;s the code:
[code=java]
package server.allstar.redone.rs2.content.dialogue;

import server.allstar.redone.rs2.entity.player.Client;

/**
 * @author Arham 4/RelentlessPK
 * 
 *         Manages all the dialogue
 */
public class DialogueManager {

	/**
	 * The dialogue type.
	 */
	private DialogueType dialogueType = new DialogueType();

	/**
	 * Should the dialogue continue?
	 */
	private boolean continueDialogue = false;

	/**
	 * The NPC the player is talking to.
	 */
	public int npcTalkingTo = -1;

	/**
	 * Handles the dialogue depending on the npc ID.
	 * 
	 * @param player
	 *            The player.
	 * @param npcId
	 *            The NPC interacted with&#39;s ID.
	 */
	public void handleDialogue(Client player, int npcId) {
		this.npcTalkingTo = npcId;
		switch (npcId) {
		case 1:
			player.NpcDialogue = 0;
			switch (player.NpcDialogue) {
			case 0:
				dialogueType.sendPlayerDialogue(player, DialogueEmote.HAPPY,
						&quot;Dialogue works!&quot;);
				continueDialogue = true;
				break;
			case 1:
				dialogueType.sendNpcDialogue(player, npcId,
						DialogueEmote.LAUGHING,
						&quot;It already used to work you twit. Be smarter&quot;,
						&quot;you idiot.&quot;);
				continueDialogue = true;
				break;
			case 2:
				dialogueType
						.sendPlayerDialogue(
								player,
								DialogueEmote.CALM,
								&quot;Yeah, but this is done the more proper way. Also, this&quot;,
								&quot;dialogue system has emotes and uses variable&quot;,
								&quot;arguements. Beat that.&quot;);
				continueDialogue = true;
				break;
			case 3:
				dialogueType.sendNpcDialogue(player, npcId,
						DialogueEmote.UNINTERESTED, &quot;Yeah, whatever kid.&quot;);
				continueDialogue = false;
				break;
			}
			break;
		}
	}

	public void handleContinueClick(Client player, int npcId) {
		if (continueDialogue == true) {
			System.out.println(&quot;Test.&quot;);
			boolean hasIncreased = false;
			if (hasIncreased == false) {
				player.NpcDialogue += 1;
				hasIncreased = true;
			} else
				return;
			player.NpcDialogueSend = true;
			if (hasIncreased == true) {
				handleDialogue(player, npcId);
				hasIncreased = false;
			} else
				return;
		} else if (continueDialogue == false) {
			player.NpcDialogue = -1;
			player.NpcDialogueSend = false;
			player.closeInterface();
		}
	}

}
[/code]

Where I think the problem lies for one is:

[code=java]
        public void handleContinueClick(Client player, int npcId) {
                if (continueDialogue == true) {
                        System.out.println(&quot;Test.&quot;);
                        boolean hasIncreased = false;
                        if (hasIncreased == false) {
                                player.NpcDialogue += 1;
                                hasIncreased = true;
                        } else
                                return;
                        player.NpcDialogueSend = true;
                        if (hasIncreased == true) {
                                handleDialogue(player, npcId);
                                hasIncreased = false;
                        } else
                                return;
                } else if (continueDialogue == false) {
                        player.NpcDialogue = -1;
                        player.NpcDialogueSend = false;
                        player.closeInterface();
                }
        }
[/code]

For 2, I just don&#39;t know. Here is how I can help yuo find out what&#39;s wrong with question two:

[code=java]
/**
 * Copyright Arham 4 @2013
 *
 * File made for the project Allstar-Redone.
 */
package server.allstar.redone.rs2.content.dialogue;

import server.allstar.redone.rs2.entity.player.Client;

/**
 * @author Arham 4/RelentlessPK
 * 
 *         The type of dialogue.
 */
public class DialogueType {

	/**
	 * Sent for player talking.
	 * 
	 * @param player
	 *            The player.
	 * @param expression
	 *            The expression ID.
	 * @param strings
	 *            The text to say in the dialogue.
	 */
	public DialogueType sendPlayerDialogue(Client player, int expression,
			String... dialogueText) {
		player.sendFrame200(974, expression);
		player.sendFrame126(player.playerName.replaceAll(&quot;_&quot;, &quot; &quot;), 975);
		if (dialogueText.length == 1) {
			player.sendFrame126(dialogueText[0], 971);
			player.sendFrame126(&quot;Click here to continue&quot;, 972);
			player.sendFrame185(969);
			player.sendFrame164(968);
		} else if (dialogueText.length == 2) {
			player.sendFrame126(dialogueText[0], 976);
			player.sendFrame126(dialogueText[1], 977);
			player.sendFrame126(&quot;Click here to continue&quot;, 978);
			player.sendFrame185(974);
			player.sendFrame164(973);
		} else if (dialogueText.length == 3) {
			player.sendFrame126(dialogueText[0], 982);
			player.sendFrame126(dialogueText[1], 983);
			player.sendFrame126(dialogueText[2], 984);
			player.sendFrame126(&quot;Click here to continue&quot;, 985);
			player.sendFrame185(980);
			player.sendFrame164(979);
		} else if (dialogueText.length == 4) {
			player.sendFrame126(dialogueText[0], 989);
			player.sendFrame126(dialogueText[1], 990);
			player.sendFrame126(dialogueText[2], 991);
			player.sendFrame126(dialogueText[3], 992);
			player.sendFrame126(&quot;Click here to continue&quot;, 993);
			player.sendFrame185(987);
			player.sendFrame164(986);
		}
		return this;
	}

	/**
	 * Sent for NPC talking.
	 * 
	 * @param player
	 *            The player.
	 * @param npcId
	 *            The NPC&#39;s ID.
	 * @param expression
	 *            The expression ID.
	 * @param dialogueText
	 *            The text of the dialogue.
	 */
	public DialogueType sendNpcDialogue(Client player, int npcId,
			int expression, String... dialogueText) {
		player.sendFrame200(4883, expression);
		player.sendFrame126(player.GetNpcName(npcId), 4884);
		if (dialogueText.length == 1) {
			player.sendFrame126(dialogueText[0], 4885);
			player.sendFrame75(npcId, 4883);
			player.sendFrame164(4882);
		} else if (dialogueText.length == 2) {
			player.sendFrame126(dialogueText[0], 4890);
			player.sendFrame126(dialogueText[1], 4891);
			player.sendFrame75(npcId, 4901);
			player.sendFrame164(4887);
		} else if (dialogueText.length == 3) {
			player.sendFrame126(dialogueText[0], 4896);
			player.sendFrame126(dialogueText[1], 4897);
			player.sendFrame126(dialogueText[2], 4898);
			player.sendFrame75(npcId, 4894);
			player.sendFrame164(4893);
		} else if (dialogueText.length == 4) {
			player.sendFrame126(dialogueText[0], 4903);
			player.sendFrame126(dialogueText[1], 4904);
			player.sendFrame126(dialogueText[2], 4905);
			player.sendFrame126(dialogueText[3], 4906);
			player.sendFrame126(&quot;Click here to continue&quot;, 4907);
			player.sendFrame75(npcId, 4901);
			player.sendFrame164(4900);
		}
		return this;
	}

	/**
	 * The option dialogue.
	 * 
	 * @param player
	 *            The player.
	 * @param choiceText
	 *            The choice option texts.
	 */
	public DialogueType sendOptionDialogue(Client player, String... choiceText) {
		if (choiceText.length == 1)
			return null;
		player.sendFrame126(&quot;Select an Option&quot;, 2460);
		if (choiceText.length == 2) {
			player.sendFrame126(choiceText[0], 2461);
			player.sendFrame126(choiceText[1], 2462);
			player.sendFrame164(2459);
		} else if (choiceText.length == 3) {
			player.sendFrame126(choiceText[0], 2471);
			player.sendFrame126(choiceText[1], 2472);
			player.sendFrame126(choiceText[2], 2473);
			player.sendFrame164(2469);
		} else if (choiceText.length == 4) {
			player.sendFrame126(choiceText[0], 8209);
			player.sendFrame126(choiceText[1], 8210);
			player.sendFrame126(choiceText[2], 8211);
			player.sendFrame126(choiceText[3], 8212);
			player.sendFrame164(8207);
		} else if (choiceText.length == 5) {
			player.sendFrame126(choiceText[0], 8221);
			player.sendFrame126(choiceText[1], 8222);
			player.sendFrame126(choiceText[2], 81986);
			player.sendFrame126(choiceText[3], 8224);
			player.sendFrame126(choiceText[4], 8225);
			player.sendFrame164(8219);
		}
		return this;
	}

}
[/code]

Notice the:

[code=java]
player.sendFrame200(4883, expression);
[/code]

Thanks,
Arham</description>
    
    <lastBuildDate>Sun, 17 Mar 2013 18:10:01 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Allstar-scape]Custom Dialogue System Problem</title>
        <dc:creator><![CDATA[@Sup22211 Sup22211]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sup22211">@Sup22211</a> wrote:</p>
          <blockquote>
              <p>Bump, maybe you still need this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/9</link>
        <pubDate>Sun, 17 Mar 2013 18:10:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-508235-9</guid>
        <source url="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235.rss">[Allstar-scape]Custom Dialogue System Problem</source>
      </item>
      <item>
        <title>[Allstar-scape]Custom Dialogue System Problem</title>
        <dc:creator><![CDATA[@arham_4 arham 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/arham_4">@arham_4</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="6" data-topic="508235">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/theletterqarousesme/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> TheLetterQArousesMe:</div>
<blockquote>
<p>You are handling the continue click in packet 40 right arham?</p>
</blockquote>
</aside>
<p>I am.</p>
<pre><code class="lang-auto">		case 40:
			dialogueManager.handleContinueClick(this,
					dialogueManager.npcTalkingTo);
			println_debug("Unhandled packet [" + packetType + ", InterFaceId: "
					+ inStream.readUnsignedWordA() + ", size=" + packetSize
					+ "]: ]" + Misc.Hex(inStream.buffer, 1, packetSize) + "[");
			println_debug("Action Button: "
					+ Misc.HexToInt(inStream.buffer, 0, packetSize));
			break;</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/8</link>
        <pubDate>Sun, 17 Mar 2013 01:19:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-508235-8</guid>
        <source url="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235.rss">[Allstar-scape]Custom Dialogue System Problem</source>
      </item>
      <item>
        <title>[Allstar-scape]Custom Dialogue System Problem</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="3" data-topic="508235">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/scape-java/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Scape-JAVA:</div>
<blockquote>
<p>Wouldn’t the use of an array over a hashmap be a less verbose approach? Generally speaking, after all you are only saving a few objects at once.</p>
</blockquote>
</aside>
<p>Well I guess you could use a list and make the id of the dialogue the index, but it just makes more sense to use a hashmap in my opinion (key = id, value = the dialogue for the id).</p>
<p>Also, depending on the server the dialogues can really add up… (quests, introductory things, etc.)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/7</link>
        <pubDate>Sat, 16 Mar 2013 23:41:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-508235-7</guid>
        <source url="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235.rss">[Allstar-scape]Custom Dialogue System Problem</source>
      </item>
      <item>
        <title>[Allstar-scape]Custom Dialogue System Problem</title>
        <dc:creator><![CDATA[@TheLetterQArousesMe TheLetterQArousesMe]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/theletterqarousesme">@TheLetterQArousesMe</a> wrote:</p>
          <blockquote>
              <p>You are handling the continue click in packet 40 right arham?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/6</link>
        <pubDate>Sat, 16 Mar 2013 19:35:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-508235-6</guid>
        <source url="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235.rss">[Allstar-scape]Custom Dialogue System Problem</source>
      </item>
      <item>
        <title>[Allstar-scape]Custom Dialogue System Problem</title>
        <dc:creator><![CDATA[@JavaLearner JavaLearner]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/javalearner">@JavaLearner</a> wrote:</p>
          <blockquote>
              <p>You don’t call for the handleContinueClick in your handleDialogue?</p>
<p>Sorry, not really familiar with this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/5</link>
        <pubDate>Sat, 16 Mar 2013 17:13:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-508235-5</guid>
        <source url="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235.rss">[Allstar-scape]Custom Dialogue System Problem</source>
      </item>
      <item>
        <title>[Allstar-scape]Custom Dialogue System Problem</title>
        <dc:creator><![CDATA[@arham_4 arham 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/arham_4">@arham_4</a> wrote:</p>
          <blockquote>
              <p>Bump.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/4</link>
        <pubDate>Sat, 16 Mar 2013 15:41:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-508235-4</guid>
        <source url="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235.rss">[Allstar-scape]Custom Dialogue System Problem</source>
      </item>
      <item>
        <title>[Allstar-scape]Custom Dialogue System Problem</title>
        <dc:creator><![CDATA[@Scape-JAVA Scape-JAVA]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/scape-java">@Scape-JAVA</a> wrote:</p>
          <blockquote>
              <p>[quote=“Clawz fury, post:2, topic:508235”]This might seem a bit off topic, but you should use a hashmap to handle this. Make an interface or abstract class that represents one Dialogue, then a hashmap with the ID of the dialogue as the key, and the interface/abstract class as the value.</p>
<pre><code class="lang-auto"></code></pre>
<p>But for your issue, I can’t really figure out where the problem lies because the code is a bit confusing. You should try changing the design a bit.[/quote]</p>
<p>Wouldn’t the use of an array over a hashmap be a less verbose approach? Generally speaking, after all you are only saving a few objects at once.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/3</link>
        <pubDate>Sat, 16 Mar 2013 02:37:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-508235-3</guid>
        <source url="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235.rss">[Allstar-scape]Custom Dialogue System Problem</source>
      </item>
      <item>
        <title>[Allstar-scape]Custom Dialogue System Problem</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>This might seem a bit off topic, but you should use a hashmap to handle this. Make an interface or abstract class that represents one Dialogue, then a hashmap with the ID of the dialogue as the key, and the interface/abstract class as the value.</p>
<pre><code class="lang-auto"></code></pre>
<p>But for your issue, I can’t really figure out where the problem lies because the code is a bit confusing. You should try changing the design a bit.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/2</link>
        <pubDate>Sat, 16 Mar 2013 00:45:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-508235-2</guid>
        <source url="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235.rss">[Allstar-scape]Custom Dialogue System Problem</source>
      </item>
      <item>
        <title>[Allstar-scape]Custom Dialogue System Problem</title>
        <dc:creator><![CDATA[@arham_4 arham 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/arham_4">@arham_4</a> wrote:</p>
          <blockquote>
              <p>Well, I made a dialogue system. I have been experiencing 2 problems though.</p>
<p>[ol][li]The dialogue won’t continue.[/li]<br>
[li]The expression of the player is not being showed.[/li][/ol]</p>
<p>Here’s the code:</p>
<pre><code class="lang-auto">package server.allstar.redone.rs2.content.dialogue;

import server.allstar.redone.rs2.entity.player.Client;

/**
 * @author Arham 4/RelentlessPK
 * 
 *         Manages all the dialogue
 */
public class DialogueManager {

	/**
	 * The dialogue type.
	 */
	private DialogueType dialogueType = new DialogueType();

	/**
	 * Should the dialogue continue?
	 */
	private boolean continueDialogue = false;

	/**
	 * The NPC the player is talking to.
	 */
	public int npcTalkingTo = -1;

	/**
	 * Handles the dialogue depending on the npc ID.
	 * 
	 * @param player
	 *            The player.
	 * @param npcId
	 *            The NPC interacted with's ID.
	 */
	public void handleDialogue(Client player, int npcId) {
		this.npcTalkingTo = npcId;
		switch (npcId) {
		case 1:
			player.NpcDialogue = 0;
			switch (player.NpcDialogue) {
			case 0:
				dialogueType.sendPlayerDialogue(player, DialogueEmote.HAPPY,
						"Dialogue works!");
				continueDialogue = true;
				break;
			case 1:
				dialogueType.sendNpcDialogue(player, npcId,
						DialogueEmote.LAUGHING,
						"It already used to work you twit. Be smarter",
						"you idiot.");
				continueDialogue = true;
				break;
			case 2:
				dialogueType
						.sendPlayerDialogue(
								player,
								DialogueEmote.CALM,
								"Yeah, but this is done the more proper way. Also, this",
								"dialogue system has emotes and uses variable",
								"arguements. Beat that.");
				continueDialogue = true;
				break;
			case 3:
				dialogueType.sendNpcDialogue(player, npcId,
						DialogueEmote.UNINTERESTED, "Yeah, whatever kid.");
				continueDialogue = false;
				break;
			}
			break;
		}
	}

	public void handleContinueClick(Client player, int npcId) {
		if (continueDialogue == true) {
			System.out.println("Test.");
			boolean hasIncreased = false;
			if (hasIncreased == false) {
				player.NpcDialogue += 1;
				hasIncreased = true;
			} else
				return;
			player.NpcDialogueSend = true;
			if (hasIncreased == true) {
				handleDialogue(player, npcId);
				hasIncreased = false;
			} else
				return;
		} else if (continueDialogue == false) {
			player.NpcDialogue = -1;
			player.NpcDialogueSend = false;
			player.closeInterface();
		}
	}

}</code></pre>
<p>Where I think the problem lies for one is:</p>
<pre><code class="lang-auto">        public void handleContinueClick(Client player, int npcId) {
                if (continueDialogue == true) {
                        System.out.println("Test.");
                        boolean hasIncreased = false;
                        if (hasIncreased == false) {
                                player.NpcDialogue += 1;
                                hasIncreased = true;
                        } else
                                return;
                        player.NpcDialogueSend = true;
                        if (hasIncreased == true) {
                                handleDialogue(player, npcId);
                                hasIncreased = false;
                        } else
                                return;
                } else if (continueDialogue == false) {
                        player.NpcDialogue = -1;
                        player.NpcDialogueSend = false;
                        player.closeInterface();
                }
        }</code></pre>
<p>For 2, I just don’t know. Here is how I can help yuo find out what’s wrong with question two:</p>
<pre><code class="lang-auto">/**
 * Copyright Arham 4 @2013
 *
 * File made for the project Allstar-Redone.
 */
package server.allstar.redone.rs2.content.dialogue;

import server.allstar.redone.rs2.entity.player.Client;

/**
 * @author Arham 4/RelentlessPK
 * 
 *         The type of dialogue.
 */
public class DialogueType {

	/**
	 * Sent for player talking.
	 * 
	 * @param player
	 *            The player.
	 * @param expression
	 *            The expression ID.
	 * @param strings
	 *            The text to say in the dialogue.
	 */
	public DialogueType sendPlayerDialogue(Client player, int expression,
			String... dialogueText) {
		player.sendFrame200(974, expression);
		player.sendFrame126(player.playerName.replaceAll("_", " "), 975);
		if (dialogueText.length == 1) {
			player.sendFrame126(dialogueText[0], 971);
			player.sendFrame126("Click here to continue", 972);
			player.sendFrame185(969);
			player.sendFrame164(968);
		} else if (dialogueText.length == 2) {
			player.sendFrame126(dialogueText[0], 976);
			player.sendFrame126(dialogueText[1], 977);
			player.sendFrame126("Click here to continue", 978);
			player.sendFrame185(974);
			player.sendFrame164(973);
		} else if (dialogueText.length == 3) {
			player.sendFrame126(dialogueText[0], 982);
			player.sendFrame126(dialogueText[1], 983);
			player.sendFrame126(dialogueText[2], 984);
			player.sendFrame126("Click here to continue", 985);
			player.sendFrame185(980);
			player.sendFrame164(979);
		} else if (dialogueText.length == 4) {
			player.sendFrame126(dialogueText[0], 989);
			player.sendFrame126(dialogueText[1], 990);
			player.sendFrame126(dialogueText[2], 991);
			player.sendFrame126(dialogueText[3], 992);
			player.sendFrame126("Click here to continue", 993);
			player.sendFrame185(987);
			player.sendFrame164(986);
		}
		return this;
	}

	/**
	 * Sent for NPC talking.
	 * 
	 * @param player
	 *            The player.
	 * @param npcId
	 *            The NPC's ID.
	 * @param expression
	 *            The expression ID.
	 * @param dialogueText
	 *            The text of the dialogue.
	 */
	public DialogueType sendNpcDialogue(Client player, int npcId,
			int expression, String... dialogueText) {
		player.sendFrame200(4883, expression);
		player.sendFrame126(player.GetNpcName(npcId), 4884);
		if (dialogueText.length == 1) {
			player.sendFrame126(dialogueText[0], 4885);
			player.sendFrame75(npcId, 4883);
			player.sendFrame164(4882);
		} else if (dialogueText.length == 2) {
			player.sendFrame126(dialogueText[0], 4890);
			player.sendFrame126(dialogueText[1], 4891);
			player.sendFrame75(npcId, 4901);
			player.sendFrame164(4887);
		} else if (dialogueText.length == 3) {
			player.sendFrame126(dialogueText[0], 4896);
			player.sendFrame126(dialogueText[1], 4897);
			player.sendFrame126(dialogueText[2], 4898);
			player.sendFrame75(npcId, 4894);
			player.sendFrame164(4893);
		} else if (dialogueText.length == 4) {
			player.sendFrame126(dialogueText[0], 4903);
			player.sendFrame126(dialogueText[1], 4904);
			player.sendFrame126(dialogueText[2], 4905);
			player.sendFrame126(dialogueText[3], 4906);
			player.sendFrame126("Click here to continue", 4907);
			player.sendFrame75(npcId, 4901);
			player.sendFrame164(4900);
		}
		return this;
	}

	/**
	 * The option dialogue.
	 * 
	 * @param player
	 *            The player.
	 * @param choiceText
	 *            The choice option texts.
	 */
	public DialogueType sendOptionDialogue(Client player, String... choiceText) {
		if (choiceText.length == 1)
			return null;
		player.sendFrame126("Select an Option", 2460);
		if (choiceText.length == 2) {
			player.sendFrame126(choiceText[0], 2461);
			player.sendFrame126(choiceText[1], 2462);
			player.sendFrame164(2459);
		} else if (choiceText.length == 3) {
			player.sendFrame126(choiceText[0], 2471);
			player.sendFrame126(choiceText[1], 2472);
			player.sendFrame126(choiceText[2], 2473);
			player.sendFrame164(2469);
		} else if (choiceText.length == 4) {
			player.sendFrame126(choiceText[0], 8209);
			player.sendFrame126(choiceText[1], 8210);
			player.sendFrame126(choiceText[2], 8211);
			player.sendFrame126(choiceText[3], 8212);
			player.sendFrame164(8207);
		} else if (choiceText.length == 5) {
			player.sendFrame126(choiceText[0], 8221);
			player.sendFrame126(choiceText[1], 8222);
			player.sendFrame126(choiceText[2], 81986);
			player.sendFrame126(choiceText[3], 8224);
			player.sendFrame126(choiceText[4], 8225);
			player.sendFrame164(8219);
		}
		return this;
	}

}</code></pre>
<p>Notice the:</p>
<pre><code class="lang-auto">player.sendFrame200(4883, expression);</code></pre>
<p>Thanks,<br>
Arham</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235/1</link>
        <pubDate>Sat, 16 Mar 2013 00:29:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-508235-1</guid>
        <source url="https://forum.moparisthebest.com/t/allstar-scape-custom-dialogue-system-problem/508235.rss">[Allstar-scape]Custom Dialogue System Problem</source>
      </item>
  </channel>
</rss>
