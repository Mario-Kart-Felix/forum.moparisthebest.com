<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Hibernate Java</title>
    <link>https://forum.moparisthebest.com/t/hibernate-java/205689</link>
    <description>Hibernate is a very powerful and high performance object/relational persistence framework. It is used to develop persistent classes following object-oriented idiom - including association, inheritance, polymorphism, composition, and collections.

Hibernate uses runtime reflection to determine the persistent properties of a class rather than utilizing bytecode processing or code generation. The objects to be persisted are defined in a mapping document, which serves to describe the persistent fields and associations, as well as any subclasses or proxies of the persistent object.

[B]Hibernate – Motivation [/B]


[ul][*] It&#39;s used as a main part in JBoss, one of the most popular Application-Servers (and the most popular Open Source AS)
[*] It&#39;s very common and widely used
[*] Lot of documentation
[*] Easy to use.[/ul]


[B]Hibernate – Brief Overview[/B]

This diagram shows Hibernate using the database and configuration data to provide persistence services
(and persistent objects) to the application.

[IMG]http://www.java-forums.org//images/tutorials/220907/hyb_basic.PNG[/img]

[B]Hibernate – Detailed Overview[/B]

The &quot;full cream&quot; architecture abstracts the application away from the underlying JDBC / JTA APIs and lets take Hibernate care of the details.

[IMG]http://www.java-forums.org//images/tutorials/220907/hyb_detailed.PNG[/img]

A Hibernate application consists of 4 parts:


[ul][*] Hibernate Properties File
[*] Hibernate Mapping (XML) File
[*] Hibernate Java Library
[*] HQL (Hibernate Query Language)[/ul]


and also 


[ul][*] Java Class Files
[*] Database Schema[/ul]


[B]Hibernate – Example[/B]

To understand the concept, lets take an example. Consider an office environment where each employee has some boss and there is one employee who has no boss (the real boss). In software terms, we will represent this with one class called employee. The class has one attribute called name of type String and the relationship is self relationship and its Many to one. That is, many employees can have one boss.

[IMG]http://www.java-forums.org//images/tutorials/220907/hyb_classd.PNG[/img]
´
Java class for employee will be:

[code]
package java_hybernate;

public class Employee
{
	private Long id; 
        private String name;

	private Employee boss;
	protected Employee() {} // Hibernate requires this
	public Employee(String name) {
		this.name = name;
	}

	public Long getId() {
		return id;
	}

	private void setId(Long id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public Employee getBoss() {
		return boss;
	}

	public void setBoss(Employee boss) {
		this.boss = boss;
	}
}
[/code]

The above class ‘Employee’ is quiet simple. I declared private variables and their getters and setters. Obviously getters and setter are public. This to note is I created a variable called ‘boss’ of type Employee. It will hold the object pointing to the boss of an employee. We also have getter and setter for ‘boss’.

Now lets talk about the database for this very example. We will have a table with 3 fields. I will use MySQL for this example. Script to create the required table:

[code]
# Database: hibernate_test
# Table: &#39;employee&#39;

CREATE TABLE `employee` (
`ID` int(11) NOT NULL auto_increment,
`NAME` varchar(80) default &#39;&#39;,
`BOSS_ID` int(11) default &#39;0&#39;,
PRIMARY KEY (`ID`)
) ENGINE=MyISAM;
[/code]

[B]Hibernate – Mapping File[/B]

Mapping file is required to map attributes of Java class to database fields. Following information is required for creating a mapping file.


[ul][*] Class
[*] Id
[*] Properties
[*] Relationships[/ul]


[B]Hibernate – Mapping File (Class)[/B]


[ul][*] name: Fully qualified name of the persistent class (or interface)
[*] table: Name of its database table
[*] discriminator-value: Used to distinguish objects when using a single table[/ul]


[code]
&lt;class
name=&quot;ClassName&quot;
table=&quot;tableName&quot;
discriminator-value=&quot;discriminator_value“
optimistic-lock=&quot;none|version|dirty|all&quot;
mutable=&quot;true|false&quot;
schema=&quot;owner&quot;
persister=&quot;PersisterClass&quot;&gt;
&lt;/class&gt;
[/code]

Lets consider a simple example:

[B]Example:[/B]

[code]
&lt;class name=&quot;hello.Employee” table=&quot;employee&quot;&gt;
&lt;/class&gt;
[/code]

[B]Hibernate – Mapping File (Id)[/B]

Hibernate’s classes mapped to database table  must declare the primary key column of the DB table.

[code]
&lt;id
name=&quot;propertyName&quot; type=&quot;typename&quot; column=&quot;column_name&quot;
unsaved-value=&quot;any|none|null|id_value&quot;&gt;
&lt;generator class=&quot;generatorClass&quot;/&gt;
&lt;/id&gt;
[/code]


[ul][*] name: Name of the Identifier property
[*] column: Name of the primary key column
[*] generator class: Method how the OIDs are generated. Possible values: native (recommended), identity, sequence, hilo, uuid, …[/ul]


Lets consider a simple example:

[B]Example:[/B]

[code]
&lt;id name=&quot;id” column=&quot;ID&quot;&gt;
&lt;generator class=“native&quot;/&gt;
&lt;/id&gt;
[/code]

[B]Hibernate – Mapping File (Property)[/B]

Hibernate’s mapping file uses &lt;property&gt; element to declare a persistent, JavaBean style property of the class.
[br][br][size=1]Posted on: May 14, 2008, 10:58:30 AM[/size][hr][code]
&lt;property
name=&quot;propertyName&quot;
column=&quot;column_name&quot;
type=&quot;typename&quot;
update=&quot;true|false&quot;
insert=&quot;true|false&quot;
/&gt;
[/code]


[ul][*] name: Name of the Property
[*] column: Name of the mapped database column[/ul]


Lets consider a simple example:

[B]Example:[/B]

[code]
&lt;property name=&quot;name” column=&quot;NAME&quot;/&gt;
[/code]

[B]Hibernate– Mapping File (Relationships)[/B]

A many-to-one reference in Hibernate’s mapping file is analogous to a simple Java reference. It is the same as the one-to-one situation except there is no requirement to have a shared Primary Key. Instead a Foreign Key is used.

[code]
&lt;class name=&quot;Foo&quot; table=&quot;foo&quot;&gt;
...
&lt;many-to-one name=&quot;bar&quot; column=&quot;bar_id&quot;/&gt;
&lt;/class&gt;
[/code]

Following variants can be used: 
one-to-one, many-to-one, composite-id, set, one-to-many, many-to-many, map, components, subclass, joined-subclass

Lets consider a simple example:

[B]Examples:[/B]

[code]
&lt;many-to-one name=&quot;boss” column=&quot;BOSS_ID&quot;/&gt;
[/code]

One to many relationship example:

[B]Table structure:[/B]

[code]
CUSTOMER: ID
PROJECT: ID, CUSTOMER_ID
[/code]

[code]
&lt;set name=&quot;projects&quot; inverse=&quot;true&quot;
cascade=&quot;delete&quot;&gt;
&lt;key column=&quot;CUSTOMER_ID&quot;/&gt;
&lt;one-to-many class=&quot;Project&quot;/&gt;
&lt;/set&gt;
[/code]

One to many relationship example:

[B]Table structure:[/B]

[code]
EMPLOYEE: ID
EMPLOYEE_PROJECT: EMPLOYEE_ID, PROJECT_ID
PROJECT: ID
[/code]

[code]
&lt;set name=&quot;project_participation&quot;
table=&quot;EMPLOYEE_PROJECT&quot;&gt;
&lt;key column=&quot;EMPLOYEE_ID&quot;/&gt;
&lt;many-to-many class=&quot;Project&quot;
column=&quot;PROJECT_ID&quot;/&gt;
&lt;/set&gt;
[/code]

[B]Hibernate - Mapping of the class hello.Employee[/B]

Save this in a file named Employee.hbm.xml and put it in the directory where your class hello.Employee resides.

[code]
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;!DOCTYPE hibernate-mapping PUBLIC
&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;
&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;
&lt;hibernate-mapping&gt;
&lt;class name=&quot;hello.Employee&quot; table=&quot;employee&quot;&gt;
&lt;id name=&quot;id&quot; column=&quot;ID&quot;&gt;
&lt;generator class=&quot;native&quot;/&gt;
&lt;/id&gt;
&lt;property name=&quot;name&quot; column=&quot;NAME&quot;/&gt;
&lt;many-to-one name=&quot;boss&quot;
column=&quot;BOSS_ID&quot;/&gt;
&lt;/class&gt;
&lt;/hibernate-mapping&gt;
[/code]

[B]Hibernate – Initialize runtime environment[/B]

Following code initializes the Hibernate’s runtime environemnt. You have to use it before start persisting data using hibernate

[code]
// Import Statements
import org.hibernate.*;
import org.hibernate.cfg.*;
...
// And then inside your class
// Looks for mapping files in same classpath location as class
Configuration cfg = new Configuration()
.addClass(hello.Employee.class);
// This binds you to a database configuration
SessionFactory _sessions = cfg.buildSessionFactory();
[/code]

[B]Hibernate – Example (Create and Save an Employee)[/B]

Consider that you have to create and save an employee in the database using Hibernate. We are continuing the same employee/boss example as given above. First initialize hibernate runtime environment as told before and then use following code:

[code]
// Open a Session and a Transaction
Session session = _sessions.openSession();
Transaction trans = session.beginTransaction();
Employee emp = new Employee(&quot;Dave Morris&quot;);
session.save(emp);
// Flush all
trans.commit();
session.close();
[/code]

Hibernate Java framework will generate the required SQL.

[code]
insert
into
employee
(NAME, BOSS_ID)
values
(?, ?)
[/code]

[B]Hibernate – Example (Retrieving all Employees)[/B]

Considering the same example, now we want to retrieve all the employees. We will print the number of employees, along with their names. Iterator is used to go through each employee.

[code]
import java.util.List;
import java.util.Iterator;
...
List employees = session.createQuery(
&quot;from Employee emp order by emp.name asc&quot;).list();
System.out.println(employees.size() + &quot; employee(s) found:&quot;);
for(Iterator iter=employees.iterator(); iter.hasNext(); ) {
Employee e2 = (Employee)iter.next();
System.out.println(e2.getName());
}
...
[/code]

Hibernate Java framework will generate the required SQL.

[code]
select
employee0_.ID as ID0_,
employee0_.NAME as NAME0_,
employee0_.BOSS_ID as BOSS3_0_
from employee employee0_
order by employee0_.NAME asc
[/code]

[B]Hibernate – Example (Modifying an Employee)[/B]

Considering the same example, now we want to modify an employee using Hibernate. Its also easy. We have to provide the primary key of employee whose name is to be changed. 

[code]
...
Employee emp = (Employee)session.load(Employee.class, Long.valueOf(&quot;1&quot;));
emp.setName(&quot;Imran Khan&quot;);
// Commit Transaction
...
[/code]

Hibernate Java framework will generate the required SQL. Just note that we simply entered few values and hibernate generated SQL script. 

[code]
select
employee0_.ID as ID0_0_,
employee0_.NAME as NAME0_0_,
employee0_.BOSS_ID as BOSS3_0_0_
from employee employee0_
where employee0_.ID=?
update employee
set NAME=?, BOSS_ID=?
where ID=?
[/code]

[B]Hibernate – Example (Deleting an Employee)[/B]

Considering the same example, now we want to delete an employee using Hibernate. We have to provide the primary key of employee whose name is to be changed (as we did while modifying an employee. 

[code]
...
Employee emp = (Employee)session.
load(Employee.class, Long.valueOf(&quot;1&quot;));
session.delete(emp);
// Commit Transaction
...
[/code]

Hibernate Java framework will generate the required SQL.

[code]
select
employee0_.ID as ID0_0_,
employee0_.NAME as NAME0_0_,
employee0_.BOSS_ID as BOSS3_0_0_
from employee employee0_
where employee0_.ID=?
delete
from employee
where ID=?
[/code]

[B]Hibernate – How to run it[/B]

Running an application developed using Hibernate can be tricky for newbies. Just remember the following settings and you won’t get lost.
Set the environment variables and include all necessary libraries into the Classpath. Because there are so many libraries, the best way is to include all JAR-files from $HIBERNATE_HOME and $HIBERNATE_HOME/lib.

[B]Hibernate – Logging[/B]

Logging is very important these days. Suppose you developed an application and it passed all the tests and was delivered to the client. Now, after few weeks he reported that the application crashed while working. How you will know what caused that crash? You have to spend many hours even days trying to figure that caused that failure.  If you had enabled logging, you could simple read log files and track the problem area.

Hibernate uses Log4J for logging. 

Log4j is an OpenSource logging API developed under the Jakarta Apache project. Log4j is widely used for logigng purpose because it is fully configurable, robust, reliable, easily extendible, and easy to implement framework. It helps debugging and monitoring Java applications. Lot of online material is available which can help newbies in getting familiar with this.
 
To enable this, create a file called log4j.properties and put it in the same directory like the hibernate.properties.


[B]Example:[/B]

log4j.properties

[code]
# Direct log messages to stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.Target=System.out
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
# Root logger option
log4j.rootLogger=INFO, stdout
# Hibernate logging options
log4j.logger.org.hibernate=INFO
# Log JDBC bind parameter runtime arguments
log4j.logger.org.hibernate.type=INFO
[/code]

[B]Hibernate Tools[/B]

You can use following tools for Hibernate:


[ul][*] Eclipse Integration (i.e. XML-support)
[*] DDL schema generation from a mapping file (hbm2ddl)
[*] Java source generation from a mapping file (hbm2java)[/ul]


Middlegen (mapping file generation from an existing database schema) is a third party tool that can be used for Hibernate.

[IMG]http://www.java-forums.org//images/tutorials/220907/tools.PNG[/img]</description>
    
    <lastBuildDate>Fri, 16 May 2008 01:05:38 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/hibernate-java/205689.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@sanga282 sanga282]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sanga282">@sanga282</a> wrote:</p>
          <blockquote>
              <p>[quote=“frank_, post:16, topic:205689”][quote author=ninja nub link=topic=271399.msg2226458#msg2226458 date=1210891254]</p>
<aside class="quote no-group">
<blockquote>
<p>That is me, its just the java forums wont let no one reply no more.<br>
so i searched and searched for a good community and found this one.</p>
</blockquote>
</aside>
<p>Wow, this is a good community?<br>
[/quote]<br>
it was before fuckwits like yourself appeared[/quote]<br>
Its still good people are holding it together</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/18</link>
        <pubDate>Fri, 16 May 2008 01:05:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-18</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@ninja_nub ninja nub]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ninja_nub">@ninja_nub</a> wrote:</p>
          <blockquote>
              <p>[quote=“frank_, post:16, topic:205689”][quote author=ninja nub link=topic=271399.msg2226458#msg2226458 date=1210891254]</p>
<aside class="quote no-group">
<blockquote>
<p>That is me, its just the java forums wont let no one reply no more.<br>
so i searched and searched for a good community and found this one.</p>
</blockquote>
</aside>
<p>Wow, this is a good community?<br>
[/quote]<br>
it was before fuckwits like yourself appeared[/quote]</p>
<p>What did I do now?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/17</link>
        <pubDate>Fri, 16 May 2008 00:56:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-17</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@frank frank_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/frank">@frank</a> wrote:</p>
          <blockquote>
              <p>[quote=“ninja nub, post:14, topic:205689”][quote author=JavaBean link=topic=271399.msg2226358#msg2226358 date=1210884064]<br>
That is me, its just the java forums wont let no one reply no more.<br>
so i searched and searched for a good community and found this one.<br>
[/quote]</p>
<p>Wow, this is a good community?[/quote]<br>
it was before fuckwits like yourself appeared</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/16</link>
        <pubDate>Fri, 16 May 2008 00:54:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-16</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@supamagier supamagier]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/supamagier">@supamagier</a> wrote:</p>
          <blockquote>
              <p>Probably, and btw, you can prove it’s you, just post a reply to your own post with ‘yes it’s me’ or something…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/15</link>
        <pubDate>Thu, 15 May 2008 23:31:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-15</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@ninja_nub ninja nub]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ninja_nub">@ninja_nub</a> wrote:</p>
          <blockquote>
              <p>[quote=“JavaBean, post:13, topic:205689”]That is me, its just the java forums wont let no one reply no more.<br>
so i searched and searched for a good community and found this one.[/quote]</p>
<p>Wow, this is a good community?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/14</link>
        <pubDate>Thu, 15 May 2008 22:40:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-14</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@JavaBean JavaBean]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/javabean">@JavaBean</a> wrote:</p>
          <blockquote>
              <p>That is me, its just the java forums wont let no one reply no more.<br>
so i searched and searched for a good community and found this one.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/13</link>
        <pubDate>Thu, 15 May 2008 20:41:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-13</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@The_Un-Named The Un-Named]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_un-named">@The_Un-Named</a> wrote:</p>
          <blockquote>
              <p>I did some googling and found this thread: <a href="http://www.java-forums.org/java-tutorials/3183-hibernate-java.html" rel="nofollow noopener">http://www.java-forums.org/java-tutorials/3183-hibernate-java.html</a></p>
<p>It was posted a few months before this one, and the original poster(on <a href="http://java-forums.org" rel="nofollow noopener">java-forums.org</a>) has been inactive for some time, I’ve already contacted the webmaster about it, if I get a reply with the information I want, you’ll be banned for plagiarism.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/12</link>
        <pubDate>Thu, 15 May 2008 20:26:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-12</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@frank frank_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/frank">@frank</a> wrote:</p>
          <blockquote>
              <p>you talk like an idiot, except in that post</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/11</link>
        <pubDate>Thu, 15 May 2008 19:52:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-11</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@Pwnd Pwnd]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pwnd">@Pwnd</a> wrote:</p>
          <blockquote>
              <p>Perhaps you should link us to these other forums that you keep boasting about.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/10</link>
        <pubDate>Thu, 15 May 2008 19:48:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-10</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@JavaBean JavaBean]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/javabean">@JavaBean</a> wrote:</p>
          <blockquote>
              <p>i just done this myself, but yes there are tons of tutorials like this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/9</link>
        <pubDate>Thu, 15 May 2008 19:04:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-9</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@Tree Tree]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tree">@Tree</a> wrote:</p>
          <blockquote>
              <p>I read this is some book actually. Was at a local library and decided to pick it up and have a good read.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/8</link>
        <pubDate>Thu, 15 May 2008 18:37:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-8</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@JavaBean JavaBean]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/javabean">@JavaBean</a> wrote:</p>
          <blockquote>
              <p>no, just because i am new does not mean that i have leeched this tutorial.<br>
i made this about 2 months ago and has had alot of hits on other forums, if you got your reasons then lock it but i made this inless you can get some sort of proof.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/7</link>
        <pubDate>Thu, 15 May 2008 17:48:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-7</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@TeleNubby TeleNubby]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/telenubby">@TeleNubby</a> wrote:</p>
          <blockquote>
              <p>[quote=“Unhandled, post:5, topic:205689”][quote author=sanga282 link=topic=271399.msg2225233#msg2225233 date=1210812505]</p>
<aside class="quote no-group">
<blockquote>
<aside class="quote no-group">
<blockquote>
<p>I do not beleive you wrote this it may just be me but i think you are a poser<br>
[/quote]Agreed.</p>
</blockquote>
</aside>
<p>Doesn’t that mean you can lock this topic</p>
</blockquote>
</aside>
<p>I think a mute is in order tbh.[/quote]Nah. I’ve got my reasons.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/6</link>
        <pubDate>Thu, 15 May 2008 01:01:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-6</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@Unhandled Unhandled]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/unhandled">@Unhandled</a> wrote:</p>
          <blockquote>
              <p>[quote=“sanga282, post:4, topic:205689”][quote author=TeleNubby link=topic=271399.msg2225231#msg2225231 date=1210812431]</p>
<aside class="quote no-group">
<blockquote>
<p>I do not beleive you wrote this it may just be me but i think you are a poser<br>
[/quote]Agreed.</p>
</blockquote>
</aside>
<p>Doesn’t that mean you can lock this topic[/quote]<br>
I think a mute is in order tbh.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/5</link>
        <pubDate>Thu, 15 May 2008 00:53:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-5</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@sanga282 sanga282]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sanga282">@sanga282</a> wrote:</p>
          <blockquote>
              <p>[quote=“TeleNubby, post:3, topic:205689”][quote author=sanga282 link=topic=271399.msg2225169#msg2225169 date=1210810205]<br>
I do not beleive you wrote this it may just be me but i think you are a poser<br>
[/quote]Agreed.[/quote]<br>
Doesn’t that mean you can lock this topic</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/4</link>
        <pubDate>Thu, 15 May 2008 00:48:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-4</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@TeleNubby TeleNubby]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/telenubby">@TeleNubby</a> wrote:</p>
          <blockquote>
              <p>[quote=“sanga282, post:2, topic:205689”]I do not beleive you wrote this it may just be me but i think you are a poser[/quote]Agreed.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/3</link>
        <pubDate>Thu, 15 May 2008 00:47:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-3</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@sanga282 sanga282]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sanga282">@sanga282</a> wrote:</p>
          <blockquote>
              <p>I do not beleive you wrote this it may just be me but i think you are a poser</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/2</link>
        <pubDate>Thu, 15 May 2008 00:10:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-2</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
      <item>
        <title>Hibernate Java</title>
        <dc:creator><![CDATA[@JavaBean JavaBean]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/javabean">@JavaBean</a> wrote:</p>
          <blockquote>
              <p>Hibernate is a very powerful and high performance object/relational persistence framework. It is used to develop persistent classes following object-oriented idiom - including association, inheritance, polymorphism, composition, and collections.</p>
<p>Hibernate uses runtime reflection to determine the persistent properties of a class rather than utilizing bytecode processing or code generation. The objects to be persisted are defined in a mapping document, which serves to describe the persistent fields and associations, as well as any subclasses or proxies of the persistent object.</p>
<p><span class="bbcode-b">Hibernate – Motivation </span></p>
<p>[ul][<em>] It’s used as a main part in JBoss, one of the most popular Application-Servers (and the most popular Open Source AS)<br>
[</em>] It’s very common and widely used<br>
[<em>] Lot of documentation<br>
[</em>] Easy to use.[/ul]</p>
<p><span class="bbcode-b">Hibernate – Brief Overview</span></p>
<p>This diagram shows Hibernate using the database and configuration data to provide persistence services<br>
(and persistent objects) to the application.</p>
<p><img src="http://www.java-forums.org//images/tutorials/220907/hyb_basic.PNG" alt width="" height=""></p>
<p><span class="bbcode-b">Hibernate – Detailed Overview</span></p>
<p>The “full cream” architecture abstracts the application away from the underlying JDBC / JTA APIs and lets take Hibernate care of the details.</p>
<p><img src="http://www.java-forums.org//images/tutorials/220907/hyb_detailed.PNG" alt width="" height=""></p>
<p>A Hibernate application consists of 4 parts:</p>
<p>[ul][<em>] Hibernate Properties File<br>
[</em>] Hibernate Mapping (XML) File<br>
[<em>] Hibernate Java Library<br>
[</em>] HQL (Hibernate Query Language)[/ul]</p>
<p>and also</p>
<p>[ul][<em>] Java Class Files<br>
[</em>] Database Schema[/ul]</p>
<p><span class="bbcode-b">Hibernate – Example</span></p>
<p>To understand the concept, lets take an example. Consider an office environment where each employee has some boss and there is one employee who has no boss (the real boss). In software terms, we will represent this with one class called employee. The class has one attribute called name of type String and the relationship is self relationship and its Many to one. That is, many employees can have one boss.</p>
<p><img src="http://www.java-forums.org//images/tutorials/220907/hyb_classd.PNG" alt width="" height=""><br>
´<br>
Java class for employee will be:</p>
<pre><code class="lang-auto">package java_hybernate;

public class Employee
{
	private Long id; 
        private String name;

	private Employee boss;
	protected Employee() {} // Hibernate requires this
	public Employee(String name) {
		this.name = name;
	}

	public Long getId() {
		return id;
	}

	private void setId(Long id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public Employee getBoss() {
		return boss;
	}

	public void setBoss(Employee boss) {
		this.boss = boss;
	}
}</code></pre>
<p>The above class ‘Employee’ is quiet simple. I declared private variables and their getters and setters. Obviously getters and setter are public. This to note is I created a variable called ‘boss’ of type Employee. It will hold the object pointing to the boss of an employee. We also have getter and setter for ‘boss’.</p>
<p>Now lets talk about the database for this very example. We will have a table with 3 fields. I will use MySQL for this example. Script to create the required table:</p>
<pre><code class="lang-auto"># Database: hibernate_test
# Table: 'employee'

CREATE TABLE `employee` (
`ID` int(11) NOT NULL auto_increment,
`NAME` varchar(80) default '',
`BOSS_ID` int(11) default '0',
PRIMARY KEY (`ID`)
) ENGINE=MyISAM;</code></pre>
<p><span class="bbcode-b">Hibernate – Mapping File</span></p>
<p>Mapping file is required to map attributes of Java class to database fields. Following information is required for creating a mapping file.</p>
<p>[ul][<em>] Class<br>
[</em>] Id<br>
[<em>] Properties<br>
[</em>] Relationships[/ul]</p>
<p><span class="bbcode-b">Hibernate – Mapping File (Class)</span></p>
<p>[ul][<em>] name: Fully qualified name of the persistent class (or interface)<br>
[</em>] table: Name of its database table<br>
[*] discriminator-value: Used to distinguish objects when using a single table[/ul]</p>
<pre><code class="lang-auto">&lt;class
name="ClassName"
table="tableName"
discriminator-value="discriminator_value“
optimistic-lock="none|version|dirty|all"
mutable="true|false"
schema="owner"
persister="PersisterClass"&gt;
&lt;/class&gt;</code></pre>
<p>Lets consider a simple example:</p>
<p><span class="bbcode-b">Example:</span></p>
<pre><code class="lang-auto">&lt;class name="hello.Employee” table="employee"&gt;
&lt;/class&gt;</code></pre>
<p><span class="bbcode-b">Hibernate – Mapping File (Id)</span></p>
<p>Hibernate’s classes mapped to database table  must declare the primary key column of the DB table.</p>
<pre><code class="lang-auto">&lt;id
name="propertyName" type="typename" column="column_name"
unsaved-value="any|none|null|id_value"&gt;
&lt;generator class="generatorClass"/&gt;
&lt;/id&gt;</code></pre>
<p>[ul][<em>] name: Name of the Identifier property<br>
[</em>] column: Name of the primary key column<br>
[*] generator class: Method how the OIDs are generated. Possible values: native (recommended), identity, sequence, hilo, uuid, …[/ul]</p>
<p>Lets consider a simple example:</p>
<p><span class="bbcode-b">Example:</span></p>
<pre><code class="lang-auto">&lt;id name="id” column="ID"&gt;
&lt;generator class=“native"/&gt;
&lt;/id&gt;</code></pre>
<p><span class="bbcode-b">Hibernate – Mapping File (Property)</span></p>
<p>Hibernate’s mapping file uses  element to declare a persistent, JavaBean style property of the class.<br>
[br][br][size=1]Posted on: May 14, 2008, 10:58:30 AM[/size][hr]<code>
&lt;property
name="propertyName"
column="column_name"
type="typename"
update="true|false"
insert="true|false"
/&gt;
</code></p>
<p>[ul][<em>] name: Name of the Property<br>
[</em>] column: Name of the mapped database column[/ul]</p>
<p>Lets consider a simple example:</p>
<p><span class="bbcode-b">Example:</span></p>
<pre><code class="lang-auto">&lt;property name="name” column="NAME"/&gt;</code></pre>
<p><span class="bbcode-b">Hibernate– Mapping File (Relationships)</span></p>
<p>A many-to-one reference in Hibernate’s mapping file is analogous to a simple Java reference. It is the same as the one-to-one situation except there is no requirement to have a shared Primary Key. Instead a Foreign Key is used.</p>
<pre><code class="lang-auto">&lt;class name="Foo" table="foo"&gt;
...
&lt;many-to-one name="bar" column="bar_id"/&gt;
&lt;/class&gt;</code></pre>
<p>Following variants can be used:<br>
one-to-one, many-to-one, composite-id, set, one-to-many, many-to-many, map, components, subclass, joined-subclass</p>
<p>Lets consider a simple example:</p>
<p><span class="bbcode-b">Examples:</span></p>
<pre><code class="lang-auto">&lt;many-to-one name="boss” column="BOSS_ID"/&gt;</code></pre>
<p>One to many relationship example:</p>
<p><span class="bbcode-b">Table structure:</span></p>
<pre><code class="lang-auto">CUSTOMER: ID
PROJECT: ID, CUSTOMER_ID</code></pre>
<pre><code class="lang-auto">&lt;set name="projects" inverse="true"
cascade="delete"&gt;
&lt;key column="CUSTOMER_ID"/&gt;
&lt;one-to-many class="Project"/&gt;
&lt;/set&gt;</code></pre>
<p>One to many relationship example:</p>
<p><span class="bbcode-b">Table structure:</span></p>
<pre><code class="lang-auto">EMPLOYEE: ID
EMPLOYEE_PROJECT: EMPLOYEE_ID, PROJECT_ID
PROJECT: ID</code></pre>
<pre><code class="lang-auto">&lt;set name="project_participation"
table="EMPLOYEE_PROJECT"&gt;
&lt;key column="EMPLOYEE_ID"/&gt;
&lt;many-to-many class="Project"
column="PROJECT_ID"/&gt;
&lt;/set&gt;</code></pre>
<p><span class="bbcode-b">Hibernate - Mapping of the class hello.Employee</span></p>
<p>Save this in a file named Employee.hbm.xml and put it in the directory where your class hello.Employee resides.</p>
<pre><code class="lang-auto">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE hibernate-mapping PUBLIC
"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"&gt;
&lt;hibernate-mapping&gt;
&lt;class name="hello.Employee" table="employee"&gt;
&lt;id name="id" column="ID"&gt;
&lt;generator class="native"/&gt;
&lt;/id&gt;
&lt;property name="name" column="NAME"/&gt;
&lt;many-to-one name="boss"
column="BOSS_ID"/&gt;
&lt;/class&gt;
&lt;/hibernate-mapping&gt;</code></pre>
<p><span class="bbcode-b">Hibernate – Initialize runtime environment</span></p>
<p>Following code initializes the Hibernate’s runtime environemnt. You have to use it before start persisting data using hibernate</p>
<pre><code class="lang-auto">// Import Statements
import org.hibernate.*;
import org.hibernate.cfg.*;
...
// And then inside your class
// Looks for mapping files in same classpath location as class
Configuration cfg = new Configuration()
.addClass(hello.Employee.class);
// This binds you to a database configuration
SessionFactory _sessions = cfg.buildSessionFactory();</code></pre>
<p><span class="bbcode-b">Hibernate – Example (Create and Save an Employee)</span></p>
<p>Consider that you have to create and save an employee in the database using Hibernate. We are continuing the same employee/boss example as given above. First initialize hibernate runtime environment as told before and then use following code:</p>
<pre><code class="lang-auto">// Open a Session and a Transaction
Session session = _sessions.openSession();
Transaction trans = session.beginTransaction();
Employee emp = new Employee("Dave Morris");
session.save(emp);
// Flush all
trans.commit();
session.close();</code></pre>
<p>Hibernate Java framework will generate the required SQL.</p>
<pre><code class="lang-auto">insert
into
employee
(NAME, BOSS_ID)
values
(?, ?)</code></pre>
<p><span class="bbcode-b">Hibernate – Example (Retrieving all Employees)</span></p>
<p>Considering the same example, now we want to retrieve all the employees. We will print the number of employees, along with their names. Iterator is used to go through each employee.</p>
<pre><code class="lang-auto">import java.util.List;
import java.util.Iterator;
...
List employees = session.createQuery(
"from Employee emp order by emp.name asc").list();
System.out.println(employees.size() + " employee(s) found:");
for(Iterator iter=employees.iterator(); iter.hasNext(); ) {
Employee e2 = (Employee)iter.next();
System.out.println(e2.getName());
}
...</code></pre>
<p>Hibernate Java framework will generate the required SQL.</p>
<pre><code class="lang-auto">select
employee0_.ID as ID0_,
employee0_.NAME as NAME0_,
employee0_.BOSS_ID as BOSS3_0_
from employee employee0_
order by employee0_.NAME asc</code></pre>
<p><span class="bbcode-b">Hibernate – Example (Modifying an Employee)</span></p>
<p>Considering the same example, now we want to modify an employee using Hibernate. Its also easy. We have to provide the primary key of employee whose name is to be changed.</p>
<pre><code class="lang-auto">...
Employee emp = (Employee)session.load(Employee.class, Long.valueOf("1"));
emp.setName("Imran Khan");
// Commit Transaction
...</code></pre>
<p>Hibernate Java framework will generate the required SQL. Just note that we simply entered few values and hibernate generated SQL script.</p>
<pre><code class="lang-auto">select
employee0_.ID as ID0_0_,
employee0_.NAME as NAME0_0_,
employee0_.BOSS_ID as BOSS3_0_0_
from employee employee0_
where employee0_.ID=?
update employee
set NAME=?, BOSS_ID=?
where ID=?</code></pre>
<p><span class="bbcode-b">Hibernate – Example (Deleting an Employee)</span></p>
<p>Considering the same example, now we want to delete an employee using Hibernate. We have to provide the primary key of employee whose name is to be changed (as we did while modifying an employee.</p>
<pre><code class="lang-auto">...
Employee emp = (Employee)session.
load(Employee.class, Long.valueOf("1"));
session.delete(emp);
// Commit Transaction
...</code></pre>
<p>Hibernate Java framework will generate the required SQL.</p>
<pre><code class="lang-auto">select
employee0_.ID as ID0_0_,
employee0_.NAME as NAME0_0_,
employee0_.BOSS_ID as BOSS3_0_0_
from employee employee0_
where employee0_.ID=?
delete
from employee
where ID=?</code></pre>
<p><span class="bbcode-b">Hibernate – How to run it</span></p>
<p>Running an application developed using Hibernate can be tricky for newbies. Just remember the following settings and you won’t get lost.<br>
Set the environment variables and include all necessary libraries into the Classpath. Because there are so many libraries, the best way is to include all JAR-files from $HIBERNATE_HOME and $HIBERNATE_HOME/lib.</p>
<p><span class="bbcode-b">Hibernate – Logging</span></p>
<p>Logging is very important these days. Suppose you developed an application and it passed all the tests and was delivered to the client. Now, after few weeks he reported that the application crashed while working. How you will know what caused that crash? You have to spend many hours even days trying to figure that caused that failure.  If you had enabled logging, you could simple read log files and track the problem area.</p>
<p>Hibernate uses Log4J for logging.</p>
<p>Log4j is an OpenSource logging API developed under the Jakarta Apache project. Log4j is widely used for logigng purpose because it is fully configurable, robust, reliable, easily extendible, and easy to implement framework. It helps debugging and monitoring Java applications. Lot of online material is available which can help newbies in getting familiar with this.</p>
<p>To enable this, create a file called log4j.properties and put it in the same directory like the hibernate.properties.</p>
<p><span class="bbcode-b">Example:</span></p>
<p>log4j.properties</p>
<pre><code class="lang-auto"># Direct log messages to stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.Target=System.out
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
# Root logger option
log4j.rootLogger=INFO, stdout
# Hibernate logging options
log4j.logger.org.hibernate=INFO
# Log JDBC bind parameter runtime arguments
log4j.logger.org.hibernate.type=INFO</code></pre>
<p><span class="bbcode-b">Hibernate Tools</span></p>
<p>You can use following tools for Hibernate:</p>
<p>[ul][<em>] Eclipse Integration (i.e. XML-support)<br>
[</em>] DDL schema generation from a mapping file (hbm2ddl)<br>
[*] Java source generation from a mapping file (hbm2java)[/ul]</p>
<p>Middlegen (mapping file generation from an existing database schema) is a third party tool that can be used for Hibernate.</p>
<p><img src="http://www.java-forums.org//images/tutorials/220907/tools.PNG" alt width="" height=""></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/hibernate-java/205689/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/hibernate-java/205689/1</link>
        <pubDate>Wed, 14 May 2008 21:57:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-205689-1</guid>
        <source url="https://forum.moparisthebest.com/t/hibernate-java/205689.rss">Hibernate Java</source>
      </item>
  </channel>
</rss>
