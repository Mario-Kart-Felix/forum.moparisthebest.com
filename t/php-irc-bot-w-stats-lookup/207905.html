<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/php-irc-bot-w-stats-lookup/207905 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 15:30:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Php IRC Bot w/Stats Lookup - General Programming - moparisthebest.com</title>
    <meta name="description" content="I was bored so I decided to write a php irc bot. Notice how simple it is to send and recieve information between the server and client, one thing I like about sockets in php for sure. It includes an rs stats lookup and m&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="207905.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Php IRC Bot w/Stats Lookup&#39;" href="207905.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/php-irc-bot-w-stats-lookup/207905" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/php-irc-bot-w-stats-lookup/207905" />
<meta property="og:title" content="Php IRC Bot w/Stats Lookup" />
<meta name="twitter:title" content="Php IRC Bot w/Stats Lookup" />
<meta property="og:description" content="I was bored so I decided to write a php irc bot. Notice how simple it is to send and recieve information between the server and client, one thing I like about sockets in php for sure. It includes an rs stats lookup and moderation commands (kick, ban, unban) etc. Feel free to play around with it but leave some credits. Having a steady loop definetly will slow your server down but it’s the only way to keep the script from stopping and keep a constant connection with the server.  &lt;?php /*@author Va..." />
<meta name="twitter:description" content="I was bored so I decided to write a php irc bot. Notice how simple it is to send and recieve information between the server and client, one thing I like about sockets in php for sure. It includes an rs stats lookup and moderation commands (kick, ban, unban) etc. Feel free to play around with it but leave some credits. Having a steady loop definetly will slow your server down but it’s the only way to keep the script from stopping and keep a constant connection with the server.  &lt;?php /*@author Va..." />
<meta property="article:published_time" content="2008-05-25T06:08:21+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="207905.html">Php IRC Bot w/Stats Lookup</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/speedster239.html'><span itemprop='name'>speedster239</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-05-25T06:08:21Z'>
            <time itemprop='dateModified' datetime='2016-07-30T22:50:14Z' class='post-time'>
              July 30, 2016, 10:50pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I was bored so I decided to write a php irc bot. Notice how simple it is to send and recieve information between the server and client, one thing I like about sockets in php for sure. It includes an rs stats lookup and moderation commands (kick, ban, unban) etc. Feel free to play around with it but leave some credits. Having a steady loop definetly will slow your server down but it’s the only way to keep the script from stopping and keep a constant connection with the server.</p>
<pre><code class="lang-auto">&lt;?php
/*@author Vaughan DeHart (Speedster239)*/
$network = "irc.deltaanime.net";
$port = 6667;
$channel = "cheatscene";
$botname = "CS-Bot";
$website = "cheatscene.com";

set_time_limit(0);
$socket = fsockopen($network,$port);
fputs($socket,"USER ".$botname." ".$website." Bot :Bot\n");
fputs($socket,"NICK ".$botname."\n");
fputs($socket,"JOIN #".$channel."\n");

while(1) {
	while($data = fgets($socket, 128)) {
		echo $data."&lt;br&gt;";
		flush();
		
		//PingPong Check
		$ex = explode(" ",$data);
		if($ex[0] == "PING") {
			fputs($socket,"PONG".$ex[1]."\n");
		}
		
		if(strpos($data,":!botinfo")) {
				fputs($socket,"PRIVMSG #".$channel." :Hello I am ".$botname.", an advanced IRC Bot coded in PHP by Vaughan D. (Speedster239).\n");
		}
		if(strpos($data,":!kick")) {
			$split = explode("!kick ",$data);
			fputs($socket,"KICK #".$channel." ".$split[1]."\n");
		}
		if(strpos($data,":!ban")) {
			$split = explode("!ban ",$data);
			fputs($socket,"MODE #".$channel." +b ".$split[1]."!*@*\n");
		}
		if(strpos($data,":!unban")) {
			$split = explode("!ban ",$data);
			fputs($socket,"MODE #".$channel." -b ".$split[1]."!*@*\n");
		}
		if(strpos($data,":!kickban")) {
			$split = explode("!kickban ",$data);
			fputs($socket,"KICK #".$channel." ".$split[1]."\n");
			fputs($socket,"MODE #".$channel." +b ".$split[1]."!*@*\n");
		}
		if(strpos($data,":!stats")) {
			$split = explode("!stats ",$data);
			$raw_data = file_get_contents("http://hiscore.runescape.com/index_lite.ws?player=".$split[1]);
			$ex = explode(",",$raw_data);
			$statsarray = array("1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1");
			$statsarray[0] = $ex[3];
			for($i = 0;$i &lt; 49;$i++) {
				if($ex[3 + ($i*2)] == "-1") {
					$statsarray[$i] = "N/A";
				}else{
					$statsarray[$i] = $ex[3 + ($i*2)];
				}
			}
			fputs($socket,"PRIVMSG #".$channel." :Statistics for ".trim($split[1])." - Attack:".$statsarray[0]." Defence:".$statsarray[1]." Strength:".$statsarray[2]." Hitpoints:".$statsarray[3]." Range:".$statsarray[4]." Prayer:".$statsarray[5]." Magic:".$statsarray[6]." Cooking:".$statsarray[7]." Woodcutting:".$statsarray[8]." Fletching:".$statsarray[9]." Fishing:".$statsarray[10]." Firemaking:".$statsarray[11]." Crafting:".$statsarray[12]." Smithing:".$statsarray[13]." Mining:".$statsarray[14]." Herblore:".$statsarray[15]." Agility:".$statsarray[16]." Thieving:".$statsarray[17]." Slayer:".$statsarray[18]." Farming:".$statsarray[19]." Runecraft:".$statsarray[20]." Hunter:".$statsarray[21]." Construction:".$statsarray[22]." Summoning:".$statsarray[23]."\n");
		}
	}
}
?&gt;</code></pre>
      </div>

      <meta itemprop='headline' content='Php IRC Bot w/Stats Lookup'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/z.html'><span itemprop='name'>z</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-05-25T06:32:56Z'>
            <time itemprop='dateModified' datetime='2016-07-30T22:50:17Z' class='post-time'>
              July 30, 2016, 10:50pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a href="http://zachera.ws/files/zip/phpbot.zip" class="onebox" target="_blank" rel="nofollow noopener">http://zachera.ws/files/zip/phpbot.zip</a></p>
<p>This is my version.</p>
      </div>

      <meta itemprop='headline' content='Php IRC Bot w/Stats Lookup'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/speedster239.html'><span itemprop='name'>speedster239</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-05-25T23:43:55Z'>
            <time itemprop='dateModified' datetime='2016-07-30T22:51:36Z' class='post-time'>
              July 30, 2016, 10:51pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Zachera, post:2, topic:207905”]<a href="http://zachera.ws/files/zip/phpbot.zip" rel="nofollow noopener">http://zachera.ws/files/zip/phpbot.zip</a></p>
<p>This is my version.[/quote]<br>
Nice bot.</p>
<p>I added some more support such as a more secure opcommand system and setup a nice gui.</p>
<pre><code class="lang-auto">
&lt;?php
/*@author Vaughan DeHart (Speedster239)*/
$network = $_POST['network'];
$port = $_POST['port'];
$channel = $_POST['channel'];
$botname = $_POST['name'];
$website = $_POST['website'];
$botowner = "speedster239";

if($_GET['page'] == "bot") {
	set_time_limit(0);
	$socket = fsockopen($network,$port);
	fputs($socket,"USER ".$botname." ".$website." Bot :Bot\n");
	fputs($socket,"NICK ".$botname."\n");
	fputs($socket,"JOIN #".$channel."\n");
	fputs($socket,"NAMES #".$channel."\n"); //Casts the name command

	while(1) {
		while($data = fgets($socket, 128)) {
			echo $data."&lt;br&gt;";
			flush();
		
			//PingPong Check
			$ex = explode(" ",$data);
			if($ex[0] == "PING") {
				fputs($socket,"PONG".$ex[1]."\n");
			}
		
			//Get name from commands
			$name = explode("!",$data);
			$name = explode(":",$name[0]);
		
			//Checks operator list to see if the user casting the command is on it
			if(strpos($opers,":~".$name[1].":") || strpos($opers,":@".$name[1].":") || strpos($opers,":&amp;".$name[1].":")) {
				$oper = true;
			}else{
				$oper = false;
			}
		
			//Oper commands
			if(strpos($data,":!kick") &amp;&amp; $oper) {
				$split = explode("!kick ",$data);
				fputs($socket,"KICK #".$channel." ".$split[1]."\n");
			}
			if(strpos($data,":!ban") &amp;&amp; $oper) {
				$split = explode("!ban ",$data);
				fputs($socket,"MODE #".$channel." +b ".$split[1]."!*@*\n");
			}
			if(strpos($data,":!unban") &amp;&amp; $oper) {
				$split = explode("!unban ",$data);
				fputs($socket,"MODE #".$channel." -b ".$split[1]."!*@*\n"); 
			}
			if(strpos($data,":!kickban") &amp;&amp; $oper) {
				$split = explode("!kickban ",$data);
				fputs($socket,"KICK #".$channel." ".$split[1]."\n");
				fputs($socket,"MODE #".$channel." +b ".$split[1]."!*@*\n");
			}
			if(strpos($data,":!quit") &amp;&amp; $oper) {
				fputs($socket,"QUIT");
				exit();
			}
			if(strpos($data,":!op") &amp;&amp; $oper) {
				$split = explode("!op ",$data);
				fputs($socket,"MODE #".$channel." +o ".$split[1]."!*@*\n");
			}
			if(strpos($data,":!deop") &amp;&amp; $oper) {
				$split = explode("!deop ",$data);
				fputs($socket,"MODE #".$channel." -o ".$split[1]."!*@*\n");
			}
			if(strpos($data,":!voice") &amp;&amp; $oper) {
				$split = explode("!voice ",$data);
				fputs($socket,"MODE #".$channel." +v ".$split[1]."!*@*\n");
			}
			if(strpos($data,":!devoice") &amp;&amp; $oper) {
				$split = explode("!devoice ",$data);
				fputs($socket,"MODE #".$channel." -v ".$split[1]."!*@*\n");
			}
	
			//Everyone commands
			if(strpos($data,":!botinfo")) {
				fputs($socket,"PRIVMSG #".$channel." :Hello I am ".$botname.", an advanced IRC Bot coded in PHP by Vaughan D. (Speedster239).\n");
			}	
			if(strpos($data,":!stats")) {
				$split = explode("!stats ",$data);
				$raw_data = file_get_contents("http://hiscore.runescape.com/index_lite.ws?player=".$split[1]);
				$ex = explode(",",$raw_data);
				$statsarray = array("1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1");
				$statsarray[0] = $ex[3];
				for($i = 0;$i &lt; 49;$i++) {
					if($ex[3 + ($i*2)] == "-1") {
						$statsarray[$i] = "N/A";
					}else{
						$statsarray[$i] = $ex[3 + ($i*2)];
					}
				}
				fputs($socket,"PRIVMSG #".$channel." :Statistics for ".trim($split[1])." - Attack:".$statsarray[0]." Defence:".$statsarray[1]." Strength:".$statsarray[2]." Hitpoints:".$statsarray[3]." Range:".$statsarray[4]." Prayer:".$statsarray[5]." Magic:".$statsarray[6]." Cooking:".$statsarray[7]." Woodcutting:".$statsarray[8]." Fletching:".$statsarray[9]." Fishing:".$statsarray[10]." Firemaking:".$statsarray[11]." Crafting:".$statsarray[12]." Smithing:".$statsarray[13]." Mining:".$statsarray[14]." Herblore:".$statsarray[15]." Agility:".$statsarray[16]." Thieving:".$statsarray[17]." Slayer:".$statsarray[18]." Farming:".$statsarray[19]." Runecraft:".$statsarray[20]." Hunter:".$statsarray[21]." Construction:".$statsarray[22]." Summoning:".$statsarray[23]."\n");
			}
			if(strpos($data,":!randomword")) {
				$raw_data = file_get_contents("http://www.zokutou.co.uk/randomword/");
				$raw_data = strip_tags($raw_data);
				$split = explode("word:",$raw_data);
				$split = explode(" ©",$split[1]);
				fputs($socket,"PRIVMSG #".$channel." :".$split[0]."\n");
			}
			if(strpos($data,"PRIVMSG")) {
				$cut_data = explode("PRIVMSG", $data);
				if(strpos($cut_data[1],"speedy") || strpos($cut_data[1],"speedster239")) {
					fputs($socket,"PRIVMSG #".$channel." : Speedster239 is the sex, I'm glad you mentioned him ".$name[1]."!\n");
				}
			}
			if(strpos($data,"JOIN :#".$channel)) {
				fputs($socket,"PRIVMSG #".$channel." :".$name[1]." just joined the channel!\n");
			}
			//Check to see if name command was cast
			if(strpos($data, "353")) {
				$opers = explode("#".$channel." ",$data);
				$opers = str_replace(" ", ":", $opers[1]);
			}
			//Random cast of name command
			if(rand(0,5000) &gt; 4700) {
				fputs($socket,"NAMES #".$channel."\n");
			}
		}
	}
}else{
echo "&lt;center&gt;&lt;b&gt;&lt;font size='7'&gt;PHP IRC Bot - Speedster239&lt;/font&gt;&lt;/b&gt;&lt;/center&gt;
&lt;form action='index.php?page=bot' method='post'&gt;
Network/Server: &lt;input type='text' name='network'&gt;
&lt;br&gt; Port: &lt;input type='text' name='port' value='6667'&gt;
&lt;br&gt; Channel: &lt;input type='text' name='channel'&gt;
&lt;br&gt; Botname: &lt;input type='text' name='name'&gt;
&lt;br&gt; Website: &lt;input type='text' name='website'&gt;
&lt;br&gt; &lt;input type='submit' value='Start Bot'&gt;
&lt;br&gt;We do not allow the bot to connect to channels which require a registed name for our sites security reasons/liability. Once the bot starts the page must remain open.
&lt;br&gt;Oper Commands:
&lt;br&gt;!kick
&lt;br&gt;!ban
&lt;br&gt;!unban
&lt;br&gt;!kickban
&lt;br&gt;!op
&lt;br&gt;!deop
&lt;br&gt;!voice
&lt;br&gt;!devoice
&lt;br&gt;!quit
&lt;br&gt;
&lt;br&gt;User Commands:
&lt;br&gt;!randomword
&lt;br&gt;!stats {rsname}
&lt;br&gt;!botinfo";
}
?&gt;</code></pre>
      </div>

      <meta itemprop='headline' content='Php IRC Bot w/Stats Lookup'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Stonebot.html'><span itemprop='name'>Stonebot</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-05-26T02:14:59Z'>
            <time itemprop='dateModified' datetime='2016-07-30T22:51:50Z' class='post-time'>
              July 30, 2016, 10:51pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>speedy rocks <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> his products are always good</p>
      </div>

      <meta itemprop='headline' content='Php IRC Bot w/Stats Lookup'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/php-irc-bot-w-stats-lookup/207905 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 15:30:40 GMT -->
</html>
