<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/premature-optimization-it-ends-here/163285 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 16:49:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Premature optimization. It ends here - General Programming - moparisthebest.com</title>
    <meta name="description" content="Premature optimization is the (pointless) act of optimizing pre-production code, i.e. trying to solve performance issues before they exist. 

Here&amp;#39;s a question for you all: Did you write the Java just-in-time optimizer? &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="163285.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Premature optimization. It ends here&#39;" href="163285.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://img139.imageshack.us/img139/5518/screenshotze6.png" />
<meta property="og:image" content="http://img139.imageshack.us/img139/5518/screenshotze6.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/premature-optimization-it-ends-here/163285" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/premature-optimization-it-ends-here/163285" />
<meta property="og:title" content="Premature optimization. It ends here" />
<meta name="twitter:title" content="Premature optimization. It ends here" />
<meta property="og:description" content="Premature optimization is the (pointless) act of optimizing pre-production code, i.e. trying to solve performance issues before they exist.  Here’s a question for you all:  Did you write the Java just-in-time optimizer? (That’s the thing that turns a lot of your bytecode into machine code when you run your java application for a huge increase in performance. It’s the thing that makes java not shit-slow.)  No? So how could you know what it’s optimizing and what it isn’t? You can’t.  Sure, to a po..." />
<meta name="twitter:description" content="Premature optimization is the (pointless) act of optimizing pre-production code, i.e. trying to solve performance issues before they exist.  Here’s a question for you all:  Did you write the Java just-in-time optimizer? (That’s the thing that turns a lot of your bytecode into machine code when you run your java application for a huge increase in performance. It’s the thing that makes java not shit-slow.)  No? So how could you know what it’s optimizing and what it isn’t? You can’t.  Sure, to a po..." />
<meta property="article:published_time" content="2007-12-08T14:34:38+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="163285.html">Premature optimization. It ends here</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Stork.html'><span itemprop='name'>Stork</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-08T14:34:38Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:31:30Z' class='post-time'>
              July 30, 2016,  5:31pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Premature optimization is the (pointless) act of optimizing pre-production code, i.e. trying to solve performance issues before they exist.</p>
<p>Here’s a question for you all:<br>
Did you write the Java just-in-time optimizer? (That’s the thing that turns a lot of your bytecode into machine code when you run your java application for a huge increase in performance. It’s the thing that makes java not shit-slow.)<br>
No? So how could you know what it’s optimizing and what it isn’t? You can’t.</p>
<p>Sure, to a point you all should be optimizing your code as you write it, but not to the extent of not creating objects because you’re worried about the overhead (stunningly, I’ve seen quite a lot of that around here.)<br>
The way to develop an application is to code first, then run a profiler to tell you where the performance bottlenecks occur. This not only saves time, but is much more accurate then you trying to guess where the JIT optimizer is going to speed up your code.</p>
<p><span class="bbcode-i">“We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil.”</span> (Knuth, Donald. Structured Programming with go to Statements, ACM Journal Computing Surveys, Vol 6, No. 4, Dec. 1974. p.268.)<br>
If you don’t believe me, or Donald Knuth, see <a href="http://www.google.co.uk/search?q=premature+optimization" data-bbcode="true" rel="nofollow noopener">http://www.google.co.uk/search?q=premature+optimization</a> and see for yourself.</p>
<p><span class="bbcode-u">Some profilers you can get for java…</span><br>
<a href="http://www.yourkit.com/" data-bbcode="true" rel="nofollow noopener">http://www.yourkit.com/</a> - YourKit Java Profiler<br>
<a href="http://www.netbeans.org/" data-bbcode="true" rel="nofollow noopener">http://www.netbeans.org/</a> - Netbeans profiler</p>
<p><span class="bbcode-u">Personal experience</span><br>
Having written an rsc private server based on RSCD, I can safely say that without profiling my application wouldn’t be able to hold half the users it can today (frequently surpasses 300). I found performance bottlenecks in sections of code I would never have thought of, for example one method I was needlessly copying multi-dimensional object arrays saved me a lot of cpu time.<br>
And all in all it only took a day to go through the entire codebase (about 220 source files) and fix the slowest methods.</p>
<p><span class="bbcode-u">Example</span><br>
Thought it might be nice to get some screenshots of the Netbeans profiler in action, so I load it up and start my application. Let it run for a few minutes, then save a snapshot (snapshots allow more detailed analysis compared to live results), and found this:<br>
<img src="http://img139.imageshack.us/img139/5518/screenshotze6.png" alt width="" height=""><br>
That thing I circled, I didn’t even realized that was still there! I added it as a quick hack, didn’t intend for it to remain in the code base, much less to remain as a performance problem. Fortunately it’s very easy to rectify the problem and remove the potential bottleneck.<br>
As is the magic of profilers.</p>
      </div>

      <meta itemprop='headline' content='Premature optimization. It ends here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Greeny.html'><span itemprop='name'>Greeny</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-08T19:43:28Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:31:50Z' class='post-time'>
              July 30, 2016,  5:31pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Awesome, I’ve never tried the netbeans one. So will give it a shot now on some old shitty project heh.</p>
<p>&lt;3</p>
      </div>

      <meta itemprop='headline' content='Premature optimization. It ends here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k00dr.html'><span itemprop='name'>k00dr</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-08T19:53:51Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:31:51Z' class='post-time'>
              July 30, 2016,  5:31pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Good topic. I like to think I have gotten out of it… <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>Designing the code is where the optimization should actively take place.<br>
Recalculating stuff is just stupid and inefficient when you can just cache the result.<br>
Why EVER have pollers when you can have events?</p>
      </div>

      <meta itemprop='headline' content='Premature optimization. It ends here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-08T21:51:44Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:32:10Z' class='post-time'>
              July 30, 2016,  5:32pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Dare someone use this on an rs2 server?</p>
      </div>

      <meta itemprop='headline' content='Premature optimization. It ends here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-08T21:57:26Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:32:12Z' class='post-time'>
              July 30, 2016,  5:32pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you Stork! This problem has been especially prevalent in the ‘updaters’ people have been writing around here, having epeen fights when posting by posting the time the updater took to run.  As if a 30 second difference matters in a program you run 1-2 times a week…</p>
      </div>

      <meta itemprop='headline' content='Premature optimization. It ends here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Stork.html'><span itemprop='name'>Stork</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-09T01:30:43Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:32:38Z' class='post-time'>
              July 30, 2016,  5:32pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Stork, post:1, topic:163285”]Premature optimization is the (pointless) act of optimizing pre-production code, i.e. trying to solve performance issues before they exist.</p>
<p>Here’s a question for you all:<br>
Did you write the Java just-in-time optimizer? (That’s the thing that turns a lot of your bytecode into machine code when you run your java application for a huge increase in performance. It’s the thing that makes java not shit-slow.)<br>
No? So how could you know what it’s optimizing and what it isn’t? You can’t.</p>
<p>Sure, <span class="bbcode-b">to a point you all should be optimizing your code as you write it</span>[sup]1[/sup], …<br>
The way to develop an application is to <span class="bbcode-b">code first, then run a profiler to tell you where the performance bottlenecks occur</span>. This not only saves time, but is much more accurate then you trying to guess where the JIT optimizer is going to speed up your code.[/quote]</p>
<p>[quote=“k00dr, post:3, topic:163285”]Good topic. I like to think I have gotten out of it… <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>Designing the code is where the optimization should actively take place.<br>
Recalculating stuff is just stupid and inefficient when you can just cache the result.<br>
Why EVER have pollers when you can have events?[/quote]<br>
What were you reading? The point of the topic was that optimization should be done after the application works…</p>
<p>Your second point totally depends on the situation, and your third point is fairly invalid assuming I interpreted what you were saying correctly. (and event driven architecture usually isn’t as scalable – particularly applies to I/O in networking)<br>
Apologies if you were being sarcastic and I failed to pick it up.</p>
<p>And if anyone’s interested my server surpassed concurrent 430 users this evening <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>

      <meta itemprop='headline' content='Premature optimization. It ends here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k00dr.html'><span itemprop='name'>k00dr</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-09T03:10:30Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:32:52Z' class='post-time'>
              July 30, 2016,  5:32pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Stork, post:6, topic:163285”][quote author=Stork link=topic=221912.msg1919418#msg1919418 date=1197124478]<br>
Premature optimization is the (pointless) act of optimizing pre-production code, i.e. trying to solve performance issues before they exist.</p>
<p>Here’s a question for you all:<br>
Did you write the Java just-in-time optimizer? (That’s the thing that turns a lot of your bytecode into machine code when you run your java application for a huge increase in performance. It’s the thing that makes java not shit-slow.)<br>
No? So how could you know what it’s optimizing and what it isn’t? You can’t.</p>
<p>Sure, <span class="bbcode-b">to a point you all should be optimizing your code as you write it</span>[sup]1[/sup], …<br>
The way to develop an application is to <span class="bbcode-b">code first, then run a profiler to tell you where the performance bottlenecks occur</span>. This not only saves time, but is much more accurate then you trying to guess where the JIT optimizer is going to speed up your code.[/quote]</p>
<aside class="quote no-group">
<blockquote>
<p>Good topic. I like to think I have gotten out of it… <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>Designing the code is where the optimization should actively take place.<br>
Recalculating stuff is just stupid and inefficient when you can just cache the result.<br>
Why EVER have pollers when you can have events?</p>
</blockquote>
</aside>
<p>What were you reading? The point of the topic was that optimization should be done after the application works…</p>
<p>Your second point totally depends on the situation, and your third point is fairly invalid assuming I interpreted what you were saying correctly. (and event driven architecture usually isn’t as scalable – particularly applies to I/O in networking)<br>
Apologies if you were being sarcastic and I failed to pick it up.</p>
<p>And if anyone’s interested my server surpassed concurrent 430 users this evening ;)[/quote]</p>
<p>Yes. I read it. I got the point.</p>
<p>The second paragraph of my last post is kind of unrelated to the kind of optimization you’re talking about and I apologize for that. What I meant is that designing a optimal architecture is something that should be done BEFORE the application has been finished, because if the worst bottleneck happens to exist because of a sucky architecture, you can just enjoy redesigning and eventually rewriting the whole thing.</p>
<p>You <span class="bbcode-b">can</span> and <span class="bbcode-b">should</span> have event based I/O in networking, especially if it’s a server you’re writing.<br>
Locks are beautiful. I can already see the Thread.sleep(1) in there, ahh, what a waste of cycles…!</p>
<p>Congratulations on your server, though.</p>
      </div>

      <meta itemprop='headline' content='Premature optimization. It ends here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Stork.html'><span itemprop='name'>Stork</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-09T03:37:45Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:32:55Z' class='post-time'>
              July 30, 2016,  5:32pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alright, I misinterpreted that. Yeah you’re right about event based, I apologize.</p>
<p>I’ve never come across a bottleneck that needed fixing by redesigning. If the design is ‘good’ (i.e. well thought out) you won’t have such problems. Bottlenecks are almost always poorly designed/implemented algorithms, i.e. contained within a single class or method.</p>
      </div>

      <meta itemprop='headline' content='Premature optimization. It ends here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sh_ft.html'><span itemprop='name'>sh_ft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-09T03:58:47Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:32:58Z' class='post-time'>
              July 30, 2016,  5:32pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The right combination of events and polls is what’s necessary, each player instance is event based… But things like npc’s are polled, mostly because they’re AI they don’t actually produce events naturally. Also, other players events, and other monsters events have to be polled to the each and every client connected to the server.</p>
<pre><code class="lang-auto">And all in all it only took a day to go through the entire codebase (about 220 source files) and fix the slowest methods.</code></pre>
<p>It’s strange that I have a source kind of like this on my PC already, isn’t it? Anyway, yeah, if this is the same source it means you have ~ 200 classes that are loaded through a class loader after reading an XML document which reports to the main engine, which packet does what for what id.</p>
<p>BTW, both of those optimization routines are rather sigh-worthy, try looking into JProfiler.</p>
      </div>

      <meta itemprop='headline' content='Premature optimization. It ends here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Stork.html'><span itemprop='name'>Stork</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-09T04:42:34Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:33:03Z' class='post-time'>
              July 30, 2016,  5:33pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You just described more or less every java application (if you omit the last 7 words). Kudos. Oh and no, my source hasn’t been released.</p>
<p>In the standard (mostly) single-threaded game engine server model, actions are split pretty fairly between polling and events. Obviously the events are created from interactions from the user (i.e. incoming packets), but user and npc state-updating is all done via polling to avoid synchronization issues and greatly improve stability.</p>
      </div>

      <meta itemprop='headline' content='Premature optimization. It ends here'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/premature-optimization-it-ends-here/163285 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 16:49:06 GMT -->
</html>
