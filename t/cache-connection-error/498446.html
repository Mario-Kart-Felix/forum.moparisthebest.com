<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/cache-connection-error/498446 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Cache Connection Error - Game Development - moparisthebest.com</title>
    <meta name="description" content="Unless I copy and paste the cache into my c:/ drive it doesn&amp;#39;t work . This is the error i get  

 java.io.FileNotFoundException: C:\Cache2.zip?token_hash=AAHwyJ7bPBEkJJCQgr6ghdx2
pmn99AlFm6odKGhmTsaOFA&amp;amp;dl=1 (The filename&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="498446.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Cache Connection Error&#39;" href="498446.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/cache-connection-error/498446" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/cache-connection-error/498446" />
<meta property="og:title" content="Cache Connection Error" />
<meta name="twitter:title" content="Cache Connection Error" />
<meta property="og:description" content="Unless I copy and paste the cache into my c:/ drive it doesn’t work .  This is the error i get  java.io.FileNotFoundException: C:\Cache2.zip?token_hash=AAHwyJ7bPBEkJJCQgr6ghdx2 pmn99AlFm6odKGhmTsaOFA&amp;dl=1 (The filename, directory name, or volume label synta x is incorrect)         at java.io.FileOutputStream.open(Native Method)         at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)         at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)         at CacheDownloader.downloadFile(CacheDownloa..." />
<meta name="twitter:description" content="Unless I copy and paste the cache into my c:/ drive it doesn’t work .  This is the error i get  java.io.FileNotFoundException: C:\Cache2.zip?token_hash=AAHwyJ7bPBEkJJCQgr6ghdx2 pmn99AlFm6odKGhmTsaOFA&amp;dl=1 (The filename, directory name, or volume label synta x is incorrect)         at java.io.FileOutputStream.open(Native Method)         at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)         at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)         at CacheDownloader.downloadFile(CacheDownloa..." />
<meta property="article:published_time" content="2013-02-27T14:50:50+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="498446.html">Cache Connection Error</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming/game-development.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Game Development</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/jamie233.html'><span itemprop='name'>jamie233</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-02-27T14:50:50Z'>
            <time itemprop='dateModified' datetime='2016-08-04T04:33:54Z' class='post-time'>
              August 4, 2016,  4:33am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Unless I copy and paste the cache into my c:/ drive it doesn’t work .<br>
This is the error i get</p>
<p><code>java.io.FileNotFoundException: C:\Cache2.zip?token_hash=AAHwyJ7bPBEkJJCQgr6ghdx2
pmn99AlFm6odKGhmTsaOFA&amp;dl=1 (The filename, directory name, or volume label synta
x is incorrect)
        at java.io.FileOutputStream.open(Native Method)
        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)
        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)
        at CacheDownloader.downloadFile(CacheDownloader.java:98)
        at CacheDownloader.downloadCache(CacheDownloader.java:78)
        at client.startUp(client.java:7174)
        at RSApplet.run(RSApplet.java:33)
        at client.run(client.java:4674)
        at java.lang.Thread.run(Unknown Source)
The cache was not downloaded correctly.
Please download it manually at:
C:\Cache2.zip?token_hash=AAHwyJ7bPBEkJJCQgr6ghdx2pmn99AlFm6odKGhmTsaOFA&amp;dl=1
File Directory:
C:\
NPC.DAT : 1489108188
Called method225
NPC.IDX : 1489126980
Called method225
</code><br>
Its a 317 server [PI]. . . Please If you can help pm or comment<br>
How do I make the cache download correctly?<br>
Id perfer tv for help considering no one has commented or could help me.<br>
Note: i did put it under the dropbox public folder,</p>
      </div>

      <meta itemprop='headline' content='Cache Connection Error'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/thomashawkins1991.html'><span itemprop='name'>thomashawkins1991</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-03-01T15:10:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T04:53:15Z' class='post-time'>
              August 4, 2016,  4:53am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“jamie233, post:1, topic:498446”]Unless I copy and paste the cache into my c:/ drive it doesn’t work .<br>
This is the error i get</p>
<p><code>java.io.FileNotFoundException: C:\Cache2.zip?token_hash=AAHwyJ7bPBEkJJCQgr6ghdx2
pmn99AlFm6odKGhmTsaOFA&amp;dl=1 (The filename, directory name, or volume label synta
x is incorrect)
        at java.io.FileOutputStream.open(Native Method)
        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)
        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)
        at CacheDownloader.downloadFile(CacheDownloader.java:98)
        at CacheDownloader.downloadCache(CacheDownloader.java:78)
        at client.startUp(client.java:7174)
        at RSApplet.run(RSApplet.java:33)
        at client.run(client.java:4674)
        at java.lang.Thread.run(Unknown Source)
The cache was not downloaded correctly.
Please download it manually at:
C:\Cache2.zip?token_hash=AAHwyJ7bPBEkJJCQgr6ghdx2pmn99AlFm6odKGhmTsaOFA&amp;dl=1
File Directory:
C:\
NPC.DAT : 1489108188
Called method225
NPC.IDX : 1489126980
Called method225
</code><br>
Its a 317 server [PI]. . . Please If you can help pm or comment<br>
How do I make the cache download correctly?<br>
Id perfer tv for help considering no one has commented or could help me.<br>
Note: i did put it under the dropbox public folder,[/quote]</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>The filename, directory name, x is incorrect&lt;&lt;&lt;&lt; its your link to your cache say if your using cachedownloader.java like one way to test this is to goto you link and copy and paste in the  (if it goes to webpage its wrong) if u have a popup download// its fine.\</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<pre><code class="lang-auto"></code></pre>
<p>if you think you have that right its your path check all names.<br>
make sure inside you zip cache there isnt file inside file// if so archive files not the folder\</p>
      </div>

      <meta itemprop='headline' content='Cache Connection Error'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/jamie233.html'><span itemprop='name'>jamie233</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-03-02T00:22:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T04:57:09Z' class='post-time'>
              August 4, 2016,  4:57am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“thomashawkins1991, post:2, topic:498446”][quote author=jamie233 link=topic=616676.msg4243611#msg4243611 date=1361976650]<br>
Unless I copy and paste the cache into my c:/ drive it doesn’t work .<br>
This is the error i get</p>
<p><code>java.io.FileNotFoundException: C:\Cache2.zip?token_hash=AAHwyJ7bPBEkJJCQgr6ghdx2
pmn99AlFm6odKGhmTsaOFA&amp;dl=1 (The filename, directory name, or volume label synta
x is incorrect)
        at java.io.FileOutputStream.open(Native Method)
        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)
        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)
        at CacheDownloader.downloadFile(CacheDownloader.java:98)
        at CacheDownloader.downloadCache(CacheDownloader.java:78)
        at client.startUp(client.java:7174)
        at RSApplet.run(RSApplet.java:33)
        at client.run(client.java:4674)
        at java.lang.Thread.run(Unknown Source)
The cache was not downloaded correctly.
Please download it manually at:
C:\Cache2.zip?token_hash=AAHwyJ7bPBEkJJCQgr6ghdx2pmn99AlFm6odKGhmTsaOFA&amp;dl=1
File Directory:
C:\
NPC.DAT : 1489108188
Called method225
NPC.IDX : 1489126980
Called method225
</code><br>
Its a 317 server [PI]. . . Please If you can help pm or comment<br>
How do I make the cache download correctly?<br>
Id perfer tv for help considering no one has commented or could help me.<br>
Note: i did put it under the dropbox public folder,<br>
[/quote]</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>The filename, directory name, x is incorrect&lt;&lt;&lt;&lt; its your link to your cache say if your using cachedownloader.java like one way to test this is to goto you link and copy and paste in the  (if it goes to webpage its wrong) if u have a popup download// its fine.\</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<pre><code class="lang-auto"></code></pre>
<p>if you think you have that right its your path check all names.<br>
make sure inside you zip cache there isnt file inside file// if so archive files not the folder\[/quote]</p>
<p><code>java.io.FileNotFoundException: C:\Cache2\Cache3.zip?token_hash=AAHFle02JUHY4fTQD
-sx1-GXn8byCpkTREwUZ50L_NkXeQ&amp;dl=1 (The filename, directory name, or volume labe
l syntax is incorrect)
        at java.io.FileOutputStream.open(Native Method)
        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)
        at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)
        at CacheDownloader.downloadFile(CacheDownloader.java:103)
        at CacheDownloader.downloadCache(CacheDownloader.java:76)
        at client.startUp(client.java:7174)
        at RSApplet.run(RSApplet.java:33)
        at client.run(client.java:4674)
        at java.lang.Thread.run(Unknown Source)
java.io.FileNotFoundException: C:\Cache2\Cache3.zip?token_hash=AAHFle02JUHY4fTQD
-sx1-GXn8byCpkTREwUZ50L_NkXeQ&amp;dl=1 (The filename, directory name, or volume labe
l syntax is incorrect)
        at java.io.FileInputStream.open(Native Method)
        at java.io.FileInputStream.&lt;init&gt;(Unknown Source)
        at java.io.FileInputStream.&lt;init&gt;(Unknown Source)
        at CacheDownloader.unZip(CacheDownloader.java:161)
        at CacheDownloader.downloadCache(CacheDownloader.java:78)
        at client.startUp(client.java:7174)
        at RSApplet.run(RSApplet.java:33)
        at client.run(client.java:4674)
        at java.lang.Thread.run(Unknown Source)
</code><br>
new error</p>
      </div>

      <meta itemprop='headline' content='Cache Connection Error'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Learning_Code.html'><span itemprop='name'>Learning_Code</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-03-02T10:08:32Z'>
            <time itemprop='dateModified' datetime='2016-08-04T05:01:59Z' class='post-time'>
              August 4, 2016,  5:01am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Post up your Cachedownloader.java code please.</p>
      </div>

      <meta itemprop='headline' content='Cache Connection Error'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/jamie233.html'><span itemprop='name'>jamie233</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-03-02T11:44:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T05:02:02Z' class='post-time'>
              August 4, 2016,  5:02am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="498446">
<div class="title">
<div class="quote-controls"></div>
 Learning Code:</div>
<blockquote>
<p>Post up your Cachedownloader.java code please.</p>
</blockquote>
</aside>
<p>Cachedownlader.java</p>
<p>[code]import java.io.File;<br>
import java.io.IOException;<br>
import java.io.OutputStream;<br>
import java.io.FileWriter;<br>
import java.io.BufferedWriter;<br>
import java.io.BufferedOutputStream;<br>
import java.io.BufferedInputStream;<br>
import java.io.FileOutputStream;<br>
import java.io.FileInputStream;<br>
import java.io.InputStream;<br>
import java.net.URLConnection;<br>
import java.net.URL;<br>
import java.util.zip.ZipFile;<br>
import java.util.zip.ZipEntry;<br>
import java.util.zip.ZipInputStream;<br>
import java.util.Enumeration;</p>
<p>import sign.signlink;</p>
<p>public class CacheDownloader {</p>
<pre><code>    private client client;

    private final int BUFFER = 1024;

    private final int VERSION = 1; // Version of cache
    private String cacheLink = "https://dl.dropbox.com/s/iulyc39eons2yma/Cache3.zip?token_hash=AAHFle02JUHY4fTQD-sx1-GXn8byCpkTREwUZ50L_NkXeQ&amp;dl=1"; // Link to cache
    
    private String fileToExtract = getCacheDir() + getArchivedName();

    public CacheDownloader(client client) {
            this.client = client;
    }

    private void drawLoadingText(String text) {
            client.drawLoadingText(35, text);
            //System.out.println(text);
    }


    private void drawLoadingText(int amount, String text) {
            client.drawLoadingText(amount, text);
            //System.out.println(text);
    }

    private String getCacheDir() {
            return signlink.findcachedir();
    }

    private String getCacheLink() {
            return cacheLink;
    }

    private int getCacheVersion() {
            return VERSION;
    }

    public CacheDownloader downloadCache() {
            try {
            File location = new File(getCacheDir());
            File version = new File(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat");
            
            if(!location.exists()) {
                    //drawLoadingText("Loading new Updates....");
                    downloadFile(getCacheLink(), getArchivedName());

                    unZip();
                    //System.out.println("UNZIP");

                    BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat"));
                    versionFile.close();
                    deleteZIP(getArchivedName());
            } else {
                    if(!version.exists()) {
                            //drawLoadingText("~ First Time Installation, Only Once! ~");
                            downloadFile(getCacheLink(), getArchivedName());

                            unZip();
                            //System.out.println("UNZIP");

                            BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat"));
                            versionFile.close();
                            deleteZIP(getArchivedName());

                    } else {
                            return null;
                    }
            }
            } catch(Exception e) {

            }
            return null;
    }
    
    private void downloadFile(String adress, String localFileName) {
            OutputStream out = null;
            URLConnection conn;
            InputStream in = null;
            
            try {

                    URL url = new URL(adress);
                    out = new BufferedOutputStream(
                            new FileOutputStream(getCacheDir() + "/" +localFileName)); 

                    conn = url.openConnection();
                    in = conn.getInputStream(); 
            
                    byte[] data = new byte[BUFFER]; 
    
                    int numRead;
                    long numWritten = 0;
                    int length = conn.getContentLength();

    
                    while((numRead = in.read(data)) != -1) {
                            out.write(data, 0, numRead);
                            numWritten += numRead;

                            int percentage = (int)(((double)numWritten / (double)length) * 100D);
                            drawLoadingText(percentage, "Downloading Cache " + percentage + "%...");

                    }

                    System.out.println(localFileName + "\t" + numWritten);
                    drawLoadingText("Unpacking..");

            } catch (Exception exception) {
                    exception.printStackTrace();
            } finally {
                    try {
                            if (in != null) {
                                    in.close();
                            }
                            if (out != null) {
                                    out.close();
                            }
                    } catch (IOException ioe) {
                    }
            }

    }

    private String getArchivedName() {
            int lastSlashIndex = getCacheLink().lastIndexOf('/');
            if (lastSlashIndex &gt;= 0 
                    &amp;&amp; lastSlashIndex &lt; getCacheLink().length() -1) { 
                    return getCacheLink().substring(lastSlashIndex + 1);
            } else {
                    //System.err.println("error retreiving archivaed name.");
            }
            return "";
    }




    private void unZip() {

            try {
                    InputStream in = 
                            new BufferedInputStream(new FileInputStream(fileToExtract));
                    ZipInputStream zin = new ZipInputStream(in);
                    ZipEntry e;

                    while((e=zin.getNextEntry()) != null) {

                            if(e.isDirectory()) {
                                    (new File(getCacheDir() + e.getName())).mkdir();
                            } else {

                            if (e.getName().equals(fileToExtract)) {
                                    unzip(zin, fileToExtract);
                                    break;
                            }
                                    unzip(zin, getCacheDir() + e.getName());
                            }
                            //System.out.println("unzipping2 " + e.getName());
                    }
                    zin.close();

            } catch(Exception e) {
                    e.printStackTrace();
            }
    }
</code></pre>
<p>private void deleteZIP(String fileName){<br>
// A File object to represent the filename<br>
File f = new File(getCacheDir() + fileName);</p>
<pre><code>// Make sure the file or directory exists and isn't write protected
if (!f.exists())
  throw new IllegalArgumentException(
      "Delete: no such file or directory: " + fileName);

if (!f.canWrite())
  throw new IllegalArgumentException("Delete: write protected: "
      + fileName);

// If it is a directory, make sure it is empty
if (f.isDirectory()) {
  String[] files = f.list();
  if (files.length &gt; 0)
    throw new IllegalArgumentException(
        "Delete: directory not empty: " + fileName);
}

// Attempt to delete it
boolean success = f.delete();

if (!success)
  throw new IllegalArgumentException("Delete: deletion failed");

    }

    private void unzip(ZipInputStream zin, String s) 
            throws IOException {

            FileOutputStream out = new FileOutputStream(s);
            //System.out.println("unzipping " + s);
            byte [] b = new byte[BUFFER];
            int len = 0;

            while ((len = zin.read(b)) != -1) {
                    out.write(b,0,len);
            }
            out.close();
    }
</code></pre>
<p>}[/code]</p>
      </div>

      <meta itemprop='headline' content='Cache Connection Error'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/thomashawkins1991.html'><span itemprop='name'>thomashawkins1991</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-03-03T04:30:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T05:09:05Z' class='post-time'>
              August 4, 2016,  5:09am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“jamie233, post:5, topic:498446”][quote author=Learning Code link=topic=616676.msg4248742#msg4248742 date=1362218912]<br>
Post up your Cachedownloader.java code please.<br>
[/quote]<br>
Cachedownlader.java</p>
<p>[code]import java.io.File;<br>
import java.io.IOException;<br>
import java.io.OutputStream;<br>
import java.io.FileWriter;<br>
import java.io.BufferedWriter;<br>
import java.io.BufferedOutputStream;<br>
import java.io.BufferedInputStream;<br>
import java.io.FileOutputStream;<br>
import java.io.FileInputStream;<br>
import java.io.InputStream;<br>
import java.net.URLConnection;<br>
import java.net.URL;<br>
import java.util.zip.ZipFile;<br>
import java.util.zip.ZipEntry;<br>
import java.util.zip.ZipInputStream;<br>
import java.util.Enumeration;</p>
<p>import sign.signlink;</p>
<p>public class CacheDownloader {</p>
<pre><code>    private client client;

    private final int BUFFER = 1024;

    private final int VERSION = 1; // Version of cache
    private String cacheLink = "https://dl.dropbox.com/s/iulyc39eons2yma/Cache3.zip?token_hash=AAHFle02JUHY4fTQD-sx1-GXn8byCpkTREwUZ50L_NkXeQ&amp;dl=1"; // Link to cache
    
    private String fileToExtract = getCacheDir() + getArchivedName();

    public CacheDownloader(client client) {
            this.client = client;
    }

    private void drawLoadingText(String text) {
            client.drawLoadingText(35, text);
            //System.out.println(text);
    }


    private void drawLoadingText(int amount, String text) {
            client.drawLoadingText(amount, text);
            //System.out.println(text);
    }

    private String getCacheDir() {
            return signlink.findcachedir();
    }

    private String getCacheLink() {
            return cacheLink;
    }

    private int getCacheVersion() {
            return VERSION;
    }

    public CacheDownloader downloadCache() {
            try {
            File location = new File(getCacheDir());
            File version = new File(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat");
            
            if(!location.exists()) {
                    //drawLoadingText("Loading new Updates....");
                    downloadFile(getCacheLink(), getArchivedName());

                    unZip();
                    //System.out.println("UNZIP");

                    BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat"));
                    versionFile.close();
                    deleteZIP(getArchivedName());
            } else {
                    if(!version.exists()) {
                            //drawLoadingText("~ First Time Installation, Only Once! ~");
                            downloadFile(getCacheLink(), getArchivedName());

                            unZip();
                            //System.out.println("UNZIP");

                            BufferedWriter versionFile = new BufferedWriter(new FileWriter(getCacheDir() + "/cacheVersion" + getCacheVersion() + ".dat"));
                            versionFile.close();
                            deleteZIP(getArchivedName());

                    } else {
                            return null;
                    }
            }
            } catch(Exception e) {

            }
            return null;
    }
    
    private void downloadFile(String adress, String localFileName) {
            OutputStream out = null;
            URLConnection conn;
            InputStream in = null;
            
            try {

                    URL url = new URL(adress);
                    out = new BufferedOutputStream(
                            new FileOutputStream(getCacheDir() + "/" +localFileName)); 

                    conn = url.openConnection();
                    in = conn.getInputStream(); 
            
                    byte[] data = new byte[BUFFER]; 
    
                    int numRead;
                    long numWritten = 0;
                    int length = conn.getContentLength();

    
                    while((numRead = in.read(data)) != -1) {
                            out.write(data, 0, numRead);
                            numWritten += numRead;

                            int percentage = (int)(((double)numWritten / (double)length) * 100D);
                            drawLoadingText(percentage, "Downloading Cache " + percentage + "%...");

                    }

                    System.out.println(localFileName + "\t" + numWritten);
                    drawLoadingText("Unpacking..");

            } catch (Exception exception) {
                    exception.printStackTrace();
            } finally {
                    try {
                            if (in != null) {
                                    in.close();
                            }
                            if (out != null) {
                                    out.close();
                            }
                    } catch (IOException ioe) {
                    }
            }

    }

    private String getArchivedName() {
            int lastSlashIndex = getCacheLink().lastIndexOf('/');
            if (lastSlashIndex &gt;= 0 
                    &amp;&amp; lastSlashIndex &lt; getCacheLink().length() -1) { 
                    return getCacheLink().substring(lastSlashIndex + 1);
            } else {
                    //System.err.println("error retreiving archivaed name.");
            }
            return "";
    }




    private void unZip() {

            try {
                    InputStream in = 
                            new BufferedInputStream(new FileInputStream(fileToExtract));
                    ZipInputStream zin = new ZipInputStream(in);
                    ZipEntry e;

                    while((e=zin.getNextEntry()) != null) {

                            if(e.isDirectory()) {
                                    (new File(getCacheDir() + e.getName())).mkdir();
                            } else {

                            if (e.getName().equals(fileToExtract)) {
                                    unzip(zin, fileToExtract);
                                    break;
                            }
                                    unzip(zin, getCacheDir() + e.getName());
                            }
                            //System.out.println("unzipping2 " + e.getName());
                    }
                    zin.close();

            } catch(Exception e) {
                    e.printStackTrace();
            }
    }
</code></pre>
<p>private void deleteZIP(String fileName){<br>
// A File object to represent the filename<br>
File f = new File(getCacheDir() + fileName);</p>
<pre><code>// Make sure the file or directory exists and isn't write protected
if (!f.exists())
  throw new IllegalArgumentException(
      "Delete: no such file or directory: " + fileName);

if (!f.canWrite())
  throw new IllegalArgumentException("Delete: write protected: "
      + fileName);

// If it is a directory, make sure it is empty
if (f.isDirectory()) {
  String[] files = f.list();
  if (files.length &gt; 0)
    throw new IllegalArgumentException(
        "Delete: directory not empty: " + fileName);
}

// Attempt to delete it
boolean success = f.delete();

if (!success)
  throw new IllegalArgumentException("Delete: deletion failed");

    }

    private void unzip(ZipInputStream zin, String s) 
            throws IOException {

            FileOutputStream out = new FileOutputStream(s);
            //System.out.println("unzipping " + s);
            byte [] b = new byte[BUFFER];
            int len = 0;

            while ((len = zin.read(b)) != -1) {
                    out.write(b,0,len);
            }
            out.close();
    }
</code></pre>
<p>}[/code][/quote]<br>
<a href="https://dl.dropbox.com/s/iulyc39eons2yma/Cache3.zip?token_hash=AAHFle02JUHY4fTQD-sx1-GXn8byCpkTREwUZ50L_NkXeQ&amp;dl=1/(cachename).zip" rel="nofollow noopener">https://dl.dropbox.com/s/iulyc39eons2yma/Cache3.zip?token_hash=AAHFle02JUHY4fTQD-sx1-GXn8byCpkTREwUZ50L_NkXeQ&amp;dl=1/(cachename).zip</a> &lt;&lt;&lt;how that’s a-post to be&gt;&gt;&gt;<br>
link to your cache is taking to long re-upload your cache to drop box and post that into you cachedownloader.java link and another problem all your dats need to be in a folder to… you got your cache all missed up.</p>
      </div>

      <meta itemprop='headline' content='Cache Connection Error'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/cache-connection-error/498446 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:10 GMT -->
</html>
