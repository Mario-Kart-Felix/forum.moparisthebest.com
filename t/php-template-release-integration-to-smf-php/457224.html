<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/php-template-release-integration-to-smf-php/457224 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 23:24:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PHP] Template Release, Integration to SMF [PHP] - General Programming - moparisthebest.com</title>
    <meta name="description" content="Hello, MoparScape. 

So we meet again, eh? Well, as I said in the last tutorial on Arrays I think it was, I would give you a php to mysql tutorial and what not, I&amp;#39;m just generally too lazy and swamped with university shi&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="457224.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PHP] Template Release, Integration to SMF [PHP]&#39;" href="457224.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/php-template-release-integration-to-smf-php/457224" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/php-template-release-integration-to-smf-php/457224" />
<meta property="og:title" content="[PHP] Template Release, Integration to SMF [PHP]" />
<meta name="twitter:title" content="[PHP] Template Release, Integration to SMF [PHP]" />
<meta property="og:description" content="Hello, MoparScape.  So we meet again, eh? Well, as I said in the last tutorial on Arrays I think it was, I would give you a php to mysql tutorial and what not, I’m just generally too lazy and swamped with university shit right now, so I thought I’d release something.  If you remember a while back, I posted about the software for websites by Twitter, called Bootstrap. This is such an easy product, or template if you will to work with it’s unreal, I love it. So I thought I’d release a template on ..." />
<meta name="twitter:description" content="Hello, MoparScape.  So we meet again, eh? Well, as I said in the last tutorial on Arrays I think it was, I would give you a php to mysql tutorial and what not, I’m just generally too lazy and swamped with university shit right now, so I thought I’d release something.  If you remember a while back, I posted about the software for websites by Twitter, called Bootstrap. This is such an easy product, or template if you will to work with it’s unreal, I love it. So I thought I’d release a template on ..." />
<meta property="article:published_time" content="2012-08-29T23:51:25+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="457224.html">[PHP] Template Release, Integration to SMF [PHP]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ruby_Forums_Coder.html'><span itemprop='name'>Ruby_Forums_Coder</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-29T23:51:25Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:48:41Z' class='post-time'>
              August 3, 2016, 11:48pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello, MoparScape.</p>
<p>So we meet again, eh? Well, as I said in the last tutorial on Arrays I think it was, I would give you a php to mysql tutorial and what not, I’m just generally too lazy and swamped with university shit right now, so I thought I’d release something.</p>
<p>If you remember a while back, I posted about the software for websites by Twitter, called Bootstrap. This is such an easy product, or template if you will to work with it’s unreal, I love it. So I thought I’d release a template on this, but following on from my PHP tutorials I just echoed everything out and added in some variables so that all you need to do is edit config.php to your server name, owners name and revision and then change the banner logo and there you go, that’s the site totally made yours. I don’t think I got round to adding the PHP automatic donations, I’m pretty sure I was too lazy. Oh well, add them if you wish.</p>
<p>As for the integration side of things, it isn’t integrations as such. It’s use of the SSI.php script that SMF offers. More or less editing pre-made functions and using them to suit the site better. For example, this will display 5 of the latest news posts from your news board on the forums on your homepage. You can also edit ssi_latestPosts or ssi_recentPosts to fit in there too, along the bottom but I just never got round to it.</p>
<p>I won’t actually be posting a screenshot of the template, I’ll give you a link to a live demo which you can find <a href="http://www.xythax.org/" data-bbcode="true" rel="nofollow noopener">here.</a> I should’ve also added in that this template loads all it’s pages from a switch statement, so beware of that also. Remember your breaks!</p>
<p>Replace your ssi_newsBoard function (I think that’s the name, it’s something similar if it isn’t that) with mines, this will give you the buttons and stuff showing up.</p>
<pre><code class="lang-auto">// Show the latest news, with a template... by board.
function ssi_boardNews($board = null, $limit = null, $start = null, $length = null, $output_method = 'echo')
{
	global $scripturl, $db_prefix, $txt, $settings, $modSettings, $context;
	global $smcFunc;

	loadLanguage('Stats');

	// Must be integers....
	if ($limit === null)
		$limit = isset($_GET['limit']) ? (int) $_GET['limit'] : 5;
	else
		$limit = (int) $limit;

	if ($start === null)
		$start = isset($_GET['start']) ? (int) $_GET['start'] : 0;
	else
		$start = (int) $start;

	if ($board !== null)
		$board = (int) $board;
	elseif (isset($_GET['board']))
		$board = (int) $_GET['board'];

	if ($length === null)
		$length = isset($_GET['length']) ? (int) $_GET['length'] : 0;
	else
		$length = (int) $length;

	$limit = max(0, $limit);
	$start = max(0, $start);

	// Make sure guests can see this board.
	$request = $smcFunc['db_query']('', '
		SELECT id_board
		FROM {db_prefix}boards
		WHERE ' . ($board === null ? '' : 'id_board = {int:current_board}
			AND ') . 'FIND_IN_SET(-1, member_groups)
		LIMIT 1',
		array(
			'current_board' =&gt; $board,
		)
	);
	if ($smcFunc['db_num_rows']($request) == 0)
	{
		if ($output_method == 'echo')
			die($txt['ssi_no_guests']);
		else
			return array();
	}
	list ($board) = $smcFunc['db_fetch_row']($request);
	$smcFunc['db_free_result']($request);

	// Load the message icons - the usual suspects.
	$stable_icons = array('xx', 'thumbup', 'thumbdown', 'exclamation', 'question', 'lamp', 'smiley', 'angry', 'cheesy', 'grin', 'sad', 'wink', 'moved', 'recycled', 'wireless');
	$icon_sources = array();
	foreach ($stable_icons as $icon)
		$icon_sources[$icon] = 'images_url';

	// Find the post ids.
	$request = $smcFunc['db_query']('', '
		SELECT id_first_msg
		FROM {db_prefix}topics
		WHERE id_board = {int:current_board}' . ($modSettings['postmod_active'] ? '
			AND approved = {int:is_approved}' : '') . '
		ORDER BY id_first_msg DESC
		LIMIT ' . $start . ', ' . $limit,
		array(
			'current_board' =&gt; $board,
			'is_approved' =&gt; 1,
		)
	);
	$posts = array();
	while ($row = $smcFunc['db_fetch_assoc']($request))
		$posts[] = $row['id_first_msg'];
	$smcFunc['db_free_result']($request);

	if (empty($posts))
		return array();

	// Find the posts.
	$request = $smcFunc['db_query']('', '
		SELECT
			m.icon, m.subject, m.body, IFNULL(mem.real_name, m.poster_name) AS poster_name, m.poster_time,
			t.num_replies, t.id_topic, m.id_member, m.smileys_enabled, m.id_msg, t.locked, t.id_last_msg
		FROM {db_prefix}topics AS t
			INNER JOIN {db_prefix}messages AS m ON (m.id_msg = t.id_first_msg)
			LEFT JOIN {db_prefix}members AS mem ON (mem.id_member = m.id_member)
		WHERE t.id_first_msg IN ({array_int:post_list})
		ORDER BY t.id_first_msg DESC
		LIMIT ' . count($posts),
		array(
			'post_list' =&gt; $posts,
		)
	);
	$return = array();
	while ($row = $smcFunc['db_fetch_assoc']($request))
	{
		// If we want to limit the length of the post.
		if (!empty($length) &amp;&amp; $smcFunc['strlen']($row['body']) &gt; $length)
		{
			$row['body'] = $smcFunc['substr']($row['body'], 0, $length);

			// The first space or line break. (&lt;br /&gt;, etc.)
			$cutoff = max(strrpos($row['body'], ' '), strrpos($row['body'], '&lt;'));

			if ($cutoff !== false)
				$row['body'] = $smcFunc['substr']($row['body'], 0, $cutoff);
			$row['body'] .= '...';
		}

		$row['body'] = parse_bbc($row['body'], $row['smileys_enabled'], $row['id_msg']);

		// Check that this message icon is there...
		if (empty($modSettings['messageIconChecks_disable']) &amp;&amp; !isset($icon_sources[$row['icon']]))
			$icon_sources[$row['icon']] = file_exists($settings['theme_dir'] . '/images/post/' . $row['icon'] . '.gif') ? 'images_url' : 'default_images_url';

		censorText($row['subject']);
		censorText($row['body']);

		$return[] = array(
			'id' =&gt; $row['id_topic'],
			'message_id' =&gt; $row['id_msg'],
			'icon' =&gt; '&lt;img src="' . $settings[$icon_sources[$row['icon']]] . '/post/' . $row['icon'] . '.gif" alt="' . $row['icon'] . '" /&gt;',
			'subject' =&gt; $row['subject'],
			'time' =&gt; timeformat($row['poster_time']),
			'timestamp' =&gt; forum_time(true, $row['poster_time']),
			'body' =&gt; $row['body'],
			'href' =&gt; $scripturl . '?topic=' . $row['id_topic'] . '.0',
			'link' =&gt; '&lt;a href="' . $scripturl . '?topic=' . $row['id_topic'] . '.0"&gt;' . $row['num_replies'] . ' ' . ($row['num_replies'] == 1 ? $txt['ssi_comment'] : $txt['ssi_comments']) . '&lt;/a&gt;',
			'replies' =&gt; $row['num_replies'],
			'comment_href' =&gt; !empty($row['locked']) ? '' : $scripturl . '?action=post;topic=' . $row['id_topic'] . '.' . $row['num_replies'] . ';last_msg=' . $row['id_last_msg'],
			'comment_link' =&gt; !empty($row['locked']) ? '' : '&lt;a href="' . $scripturl . '?action=post;topic=' . $row['id_topic'] . '.' . $row['num_replies'] . ';last_msg=' . $row['id_last_msg'] . '"&gt;' . $txt['ssi_write_comment'] . '&lt;/a&gt;',
			'new_comment' =&gt; !empty($row['locked']) ? '' : '&lt;a href="' . $scripturl . '?action=post;topic=' . $row['id_topic'] . '.' . $row['num_replies'] . '"&gt;' . $txt['ssi_write_comment'] . '&lt;/a&gt;',
			'poster' =&gt; array(
				'id' =&gt; $row['id_member'],
				'name' =&gt; $row['poster_name'],
				'href' =&gt; !empty($row['id_member']) ? $scripturl . '?action=profile;u=' . $row['id_member'] : '',
				'link' =&gt; !empty($row['id_member']) ? '&lt;a href="' . $scripturl . '?action=profile;u=' . $row['id_member'] . '"&gt;' . $row['poster_name'] . '&lt;/a&gt;' : $row['poster_name']
			),
			'locked' =&gt; !empty($row['locked']),
			'is_last' =&gt; false
		);
	}
	$smcFunc['db_free_result']($request);

	if (empty($return))
		return $return;

	$return[count($return) - 1]['is_last'] = true;

	if ($output_method != 'echo')
		return $return;

	foreach ($return as $news)
	{
		echo '&lt;center&gt;
			&lt;div class="news_item"&gt;
				&lt;h3 class="news_header"&gt;
					
					&lt;a href="', $news['href'], '"&gt;', $news['subject'], '&lt;/a&gt;
				&lt;/h3&gt;
				&lt;div class="news_timestamp"&gt;', $news['time'], ' ', $txt['by'], ' ', $news['poster']['link'], '&lt;/div&gt;&lt;/center&gt;
				&lt;div class="news_body" style="padding: 2ex 0;"&gt;', $news['body'], '&lt;/div&gt;&lt;center&gt;
				&lt;span class="btn btn-large"&gt;', $news['link'], $news['locked'] ? '' : '&lt;/span&gt; &lt;span class="btn btn-large"&gt;' . $news['comment_link'], '&lt;/span&gt;
			&lt;/div&gt;&lt;/center&gt;';

		if (!$news['is_last'])
			echo '
			&lt;hr /&gt;';
	}
}</code></pre>
<p>As a final footnote to everything above before I give you the link, I have covered everything I used in here while doing tutorials, so go take a look back if you don’t understand something.</p>
<p>Without any further talking; <a href="http://www.xythax.org/mscpbootstrap.zip" data-bbcode="true" rel="nofollow noopener">here is the link.</a></p>
<p>Any problems, post them below.</p>
<p>Regards,<br>
Ruby.</p>
      </div>

      <meta itemprop='headline' content='[PHP] Template Release, Integration to SMF [PHP]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-30T00:44:20Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:48:44Z' class='post-time'>
              August 3, 2016, 11:48pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Wonderful tutorial my friend. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>EDIT: I just so happened to be doing some things with the SMF SSI, and it’s actually ssi_boardNews</p>
      </div>

      <meta itemprop='headline' content='[PHP] Template Release, Integration to SMF [PHP]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ruby_Forums_Coder.html'><span itemprop='name'>Ruby_Forums_Coder</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-30T07:14:23Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:48:59Z' class='post-time'>
              August 3, 2016, 11:48pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:2, topic:457224”]Wonderful tutorial my friend. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>EDIT: I just so happened to be doing some things with the SMF SSI, and it’s actually ssi_boardNews[/quote]<br>
Thanks for the feedback AJ <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>Ahh, I thought I was wrong haha. I’ll change it right now, thanks <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='[PHP] Template Release, Integration to SMF [PHP]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/php-template-release-integration-to-smf-php/457224 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 23:24:01 GMT -->
</html>
