<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/delphi-several-functions-for-the-mining-skill/22039 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 20:42:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Delphi] Several functions for the mining skill - General Programming - moparisthebest.com</title>
    <meta name="description" content="Here are a few functions a made for an autominer a couple months ago. 

function GetRowCoords(row,slot:integer):tpoint;

 

begin

 

result.y := 213 + (row*35);

 

result.x := 567 + (slot*38);

 

end;

function GetIte&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="22039.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Delphi] Several functions for the mining skill&#39;" href="22039.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/delphi-several-functions-for-the-mining-skill/22039" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/delphi-several-functions-for-the-mining-skill/22039" />
<meta property="og:title" content="[Delphi] Several functions for the mining skill" />
<meta name="twitter:title" content="[Delphi] Several functions for the mining skill" />
<meta property="og:description" content="Here are a few functions a made for an autominer a couple months ago.  function GetRowCoords(row,slot:integer):tpoint; begin result.y := 213 + (row*35); result.x := 567 + (slot*38); end; function GetItemNum(row,slot: integer): integer;  var rn:integer;  begin  case row of  1: rn := 1;  2: rn := 5;  3: rn := 9;  4: rn := 13;  5: rn := 17;  6: rn := 21;  7: rn := 25;  end;  result := rn + slot;  end;  function FindOres(clay:boolean):Tstringlist;  var i,b,x,y:integer;pnt:tpoint; simage:timage;  beg..." />
<meta name="twitter:description" content="Here are a few functions a made for an autominer a couple months ago.  function GetRowCoords(row,slot:integer):tpoint; begin result.y := 213 + (row*35); result.x := 567 + (slot*38); end; function GetItemNum(row,slot: integer): integer;  var rn:integer;  begin  case row of  1: rn := 1;  2: rn := 5;  3: rn := 9;  4: rn := 13;  5: rn := 17;  6: rn := 21;  7: rn := 25;  end;  result := rn + slot;  end;  function FindOres(clay:boolean):Tstringlist;  var i,b,x,y:integer;pnt:tpoint; simage:timage;  beg..." />
<meta property="article:published_time" content="2006-11-05T02:02:25+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="22039.html">[Delphi] Several functions for the mining skill</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/joewnn.html'><span itemprop='name'>joewnn</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2006-11-05T02:02:25Z'>
            <time itemprop='dateModified' datetime='2016-07-29T23:40:21Z' class='post-time'>
              July 29, 2016, 11:40pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here are a few functions a made for an autominer a couple months ago.</p>
<blockquote>function GetRowCoords(row,slot:integer):tpoint;
begin
result.y := 213 + (row*35);
result.x := 567 + (slot*38);
end;
<p>function GetItemNum(row,slot: integer): integer;<br>
var rn:integer;<br>
begin<br>
case row of<br>
1: rn := 1;<br>
2: rn := 5;<br>
3: rn := 9;<br>
4: rn := 13;<br>
5: rn := 17;<br>
6: rn := 21;<br>
7: rn := 25;<br>
end;<br>
result := rn + slot;<br>
end;</p>
<p>function FindOres(clay:boolean):Tstringlist;<br>
var i,b,x,y:integer;pnt:tpoint; simage:timage;<br>
begin<br>
result := tstringlist.create;<br>
case clay of<br>
false: simage := form1.ore;<br>
true: simage := form1.clay<br>
end;</p>
<p>for i := 0 to 6 do begin<br>
for b := 0 to 3 do begin<br>
pnt := getrowcoords(i,b);<br>
if findbitmapbox(selwnd,pnt.x,pnt.y,pnt.x + 48,pnt.y + 42,simage.picture.bitmap.handle,x,y,0,5,16777215) then result.add(inttostr(GetItemNum(i + 1,b)));<br>
end;<br>
end;<br>
end;</p>
<p>Function MineText: boolean;<br>
var m,i:boolean; x,x2,y,y2:integer;<br>
begin<br>
result := false;<br>
m := FindBitmapbox(selwnd,5, 6, 31, 22,form1.Minem.picture.bitmap.handle,x,y,0,60, 65280);<br>
if m = true then i := FindBitmapbox(selwnd,x + 5, 6, 31, 22,form1.MineI.picture.bitmap.handle,x2,y2,0,60, 65280);<br>
if (m = true) and (i = true) then result := true;<br>
//if not(x2 - x &lt; 15) then result := false;<br>
end;</p>
</blockquote>
<p>For the findores function, you need to find a bitmap for clay and one for normal ores. Make it fairly small, but the everything inside the black border must be white. Also, there is a brown outline along the ore. Include some of that so it won’t find it in solid black. (basically this function checks each inventory spot and returns each spot that has an ore) It would be better to use an array of an integer as the result, but I was testing and wanted it to return a string.</p>
<p>For the minetext function, you need a bitmap of the white letter M and the white letter “i”. This function checks to see if the mouse is over a rock. (it checks for the text “Mi”)</p>
<p>Also, for findores, you shouldn’t be getting the rs window each time since that will make it lag considerably. Instead, get the window once and have it search off of that.</p>
      </div>

      <meta itemprop='headline' content='[Delphi] Several functions for the mining skill'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/delphi-several-functions-for-the-mining-skill/22039 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 20:42:06 GMT -->
</html>
