<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/cin-vm-java-i-finally-finished-somthing/515544?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Cin (VM, Java) - I finally finished somthing! - General Programming - moparisthebest.com</title>
    <meta name="description" content="yeah... I finally finished somthing I started xD I was making plans for this over the course of the last half year and made some mock-ups. Eventually had a random motivation boost to finish it. It&amp;#39;s inspired by Notch&amp;#39;s 0&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="5155444658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Cin (VM, Java) - I finally finished somthing!&#39;" href="515544.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/cin-vm-java-i-finally-finished-somthing/515544?page=2" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/cin-vm-java-i-finally-finished-somthing/515544?page=2" />
<meta property="og:title" content="Cin (VM, Java) - I finally finished somthing!" />
<meta name="twitter:title" content="Cin (VM, Java) - I finally finished somthing!" />
<meta property="og:description" content="I am. The labels redirect to the next instruction." />
<meta name="twitter:description" content="I am. The labels redirect to the next instruction." />
<meta property="article:published_time" content="2013-04-10T16:32:53+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="515544.html">
      <link rel="next" href="5155449ba9.html?page=3">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="515544.html">Cin (VM, Java) - I finally finished somthing!</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T16:32:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:25Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="20" data-topic="515544">
<div class="title">
<div class="quote-controls"></div>
 Bowser jr:</div>
<blockquote>
<p>So you’re not using addresses for jumping?</p>
</blockquote>
</aside>
<p>I am. The labels redirect to the next instruction.</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T18:30:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:26Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="18" data-topic="515544">
<div class="title">
<div class="quote-controls"></div>
 Fat Cookies:</div>
<blockquote>
<p>My assembler does two passes. The first pass involves removing comments/whitespace and “counting” the number of bytes the assembly should assemble to, it then finds all the labels and adds them to a HashMap. The second pass then assembles the actual instructions, replacing labels as required.</p>
</blockquote>
</aside>
<p>This is a good way of doing it.</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T18:43:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:27Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Are you using signed or unsigned Math in your VM?</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T18:49:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:27Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="23" data-topic="515544">
<div class="title">
<div class="quote-controls"></div>
 Bowser jr:</div>
<blockquote>
<p>Are you using signed or unsigned Math in your VM?</p>
</blockquote>
</aside>
<p>Signed.</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T18:53:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:27Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#25</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Cres: Then you should add a NEG opcode for making positive numbers negative, and vice versa.</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T18:56:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:27Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#26</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="25" data-topic="515544">
<div class="title">
<div class="quote-controls"></div>
 Bowser jr:</div>
<blockquote>
<p>Cres: Then you should add a NEG opcode for making positive numbers negative, and vice versa.</p>
</blockquote>
</aside>
<p>MUL a,-1<br>
but yeah I’ll add it xD</p>
<p>EDIT: I do most stuff in decimal notation because two’s complement signedness is annoying…</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T19:00:50Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:27Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#27</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Are you going the easy path of making a screen like in the first iteration of DCPU16 (The screen is mapped to the memory).<br>
Or the more complicated way with an hardware opcode? (Like in the newer versions of the specification) Or you could always implement VGA.</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T19:11:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:28Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#28</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Bowser jr, post:27, topic:515544”]Are you going the easy path of making a screen like in the first iteration of DCPU16 (The screen is mapped to the memory).<br>
Or the more complicated way with an hardware opcode? (Like in the newer versions of the specification) Or you could always implement VGA.[/quote]</p>
<p>I’m going to make a couple instructions regarding hardware.<br>
Hardware will rely on memory of the CPU. The CPU will tell which memory adresses are reserved for the hardware device and will not asign the same memory to another device so long as the first device remains connected.<br>
The hardware will remember which cells are reserved for it after the initial call has been made<br>
HWU<br>
Update HardWare; hardware will read the reserved memory cells and do it’s job<br>
DCD<br>
Disconnect Device; remove the device from the connected devices<br>
Any others I might need?</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T19:34:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:29Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#29</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Remove DCD as it makes no sense. And please specify HWU, any external device should run at it own and should not be dependent of the CPU.</p>
<p>Do you plan to add a form of BIOS? (To help bootloading)</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T19:45:40Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:29Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#30</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Bowser jr, post:29, topic:515544”]Remove DCD as it makes no sense. And please specify HWU, any external device should run at it own and should not be dependent of the CPU.</p>
<p>Do you plan to add a form of BIOS? (To help bootloading)[/quote]</p>
<p>First I’m going to focus on general hardwre before I start with anything else.<br>
HWU is needed because I will not let a monitor read what it has to display if the buffer isn’t ready yet.<br>
Once the buffer is fully loaded, HWU will be called so the monitor can update the screen and then it will re-draw the buffer.</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T19:53:04Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:30Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#31</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>OK, but you are doing it the wrong way. Use double buffering. Normally a screen would draw everything in the buffer and not wait for the CPU to tell it so. It is very easy to implement page flipping (Fastest way for you to do this).</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T19:58:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:30Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#32</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Fat Cookies, post:18, topic:515544”]My assembler does two passes. The first pass involves removing comments/whitespace and “counting” the number of bytes the assembly should assemble to, it then finds all the labels and adds them to a HashMap. The second pass then assembles the actual instructions, replacing labels as required.[/quote]That’s exactly what I did for my Gameboy assembler. There’s no way to actually go through the code just once, especially when you have absolute and relative jumps.</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T20:13:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:30Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#33</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lin, post:32, topic:515544”][quote author=Fat Cookies link=topic=633800.msg4281057#msg4281057 date=1365589110]<br>
My assembler does two passes. The first pass involves removing comments/whitespace and “counting” the number of bytes the assembly should assemble to, it then finds all the labels and adds them to a HashMap. The second pass then assembles the actual instructions, replacing labels as required.<br>
[/quote]That’s exactly what I did for my Gameboy assembler. There’s no way to actually go through the code just once, especially when you have absolute and relative jumps.[/quote]<br>
If you’re using labels as instructions, it actually is possible xD<br>
But for generic labels, no. I loop one time to gather all the labels and store them.<br>
Then I loop another time and convert instructions, skip labels, comments and whitespace.</p>
<p>Rewriting the whole project so it becomes a little more efficient.</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T20:19:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:31Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#34</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The assembly part doesn’t need to be that efficient. Just make it run the VM code as fast as possible (Or maybe not that fast, but do whats easy to do).</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-10T20:24:06Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:48:31Z' class='post-time'>
              August 4, 2016,  6:48am
            </time>
        <span itemprop='position'>#35</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="34" data-topic="515544">
<div class="title">
<div class="quote-controls"></div>
 Bowser jr:</div>
<blockquote>
<p>The assembly part doesn’t need to be that efficient. Just make it run the VM code as fast as possible (Or maybe not that fast, but do whats easy to do).</p>
</blockquote>
</aside>
<p>I know but it looks clumsy and I can do it better than it is now.<br>
Assembler:</p>
<p>[code=java]import java.util.ArrayList;</p>
<p>public class Assembler {</p>
<pre><code>private ArrayList&lt;String&gt; labels;
private ArrayList&lt;Integer&gt; instructions;

private String in;

public Assembler(String in) {
	this.labels = new ArrayList&lt;String&gt;();
	this.instructions = new ArrayList&lt;Integer&gt;();
	this.in = in;
}

public boolean isLabel(String label) {
	for (String t : labels) {
		if (label.equalsIgnoreCase(t)) {
			return true;
		}
	}
	return false;
}

public int getLabelID(String label) {
	for (int i = 0; i &lt; labels.size(); i++) {
		if (labels.get(i).equalsIgnoreCase(label)) {
			return i;
		}
	}
	throw new RuntimeException("Couldn't find label: "+label);
}

public int getLiteral(String i) {
	if (i.startsWith("0x")) {
		return Integer.parseInt(i.substring(2),16);
	} else if (i.startsWith("0b")) {
		return Integer.parseInt(i.substring(2),2);
	} else {
		return Integer.parseInt(i);
	}
}

public void mount(Processor p) {
	FileExtractor f = new FileExtractor(in);
	for (int i = 0; i &lt; f.size(); i++) {
		String line = f.get(i);
		line = line.replaceAll(" ", "");
		line = line.replaceAll("	", "");
		f.set(i,line);
		if (line.startsWith(":")) {
			labels.add(line.substring(1));
		}
	}
	int[] labelmap = new int[labels.size()];
	int currentOp = 0;
	for (int i = 0; i &lt; f.size(); i++) {
		String line = f.get(i).toLowerCase();
		if (line.equals("")) { //ignore blank lines
			continue;
		}
		if (line.startsWith(";")) { //ignore comment lines
			continue;
		}
		if (line.contains(";")) { //remove commenting on usefull lines
			line = line.split(";")[0];
		}
		if (line.startsWith(":")) { //add label to route
			labelmap[getLabelID(line.substring(1))] = currentOp;
			continue;
		}
		int opcode = 0;
		int adata = OpData.UNUSED;
		int bdata = OpData.UNUSED;
		int aword = 0;
		int bword = 0;
		for (int op = 0; op &lt; OpData.INSTRUCTIONS.length; op++) {
			if (line.startsWith(OpData.INSTRUCTIONS[op].toLowerCase())) {
				opcode = op;
				line = line.substring(OpData.INSTRUCTIONS[op].length());
			}
		}
		if (!line.equals("")) { //no extra words
			if (line.contains(",")) { //2 extra words
				String[] l = line.split(",");
				if (isLabel(l[0])) {
					adata = OpData.LABEL;
					aword = getLabelID(l[0]);
				} else if (l[0].startsWith("[") &amp;&amp; l[0].endsWith("]")) {
					l[0] = l[0].substring(1, l[0].length()-1);
					if (Processor.isRegister(l[0].toLowerCase())) {
						adata = OpData.REGISTER_TO_MEMORY;
						aword = Processor.getRegisterID(l[0].toLowerCase());
					} else if (OpData.isInstruction(l[0].toLowerCase())) {
						adata = OpData.INSTRUCTION_TO_MEMORY;
						aword = OpData.getInstructionID(l[0].toLowerCase());
					} else {
						adata = OpData.MEMORY;
						aword = getLiteral(l[0]);
					}
				} else if (OpData.isInstruction(l[0])) {
					adata = OpData.INSTRUCTION;
					aword = OpData.getInstructionID(l[0]);
				} else  if (Processor.isRegister(l[0])) {
					adata = OpData.REGISTER;
					aword = Processor.getRegisterID(l[0]);
				} else {
					adata = OpData.LITERAL;
					aword = getLiteral(l[0]);
				}
				if (isLabel(l[1])) {
					bdata = OpData.LABEL;
					bword = getLabelID(l[1]);
				} else if (l[1].startsWith("[") &amp;&amp; l[1].endsWith("]")) {
					l[1] = l[1].substring(1, l[1].length()-1);
					if (Processor.isRegister(l[1].toLowerCase())) {
						bdata = OpData.REGISTER_TO_MEMORY;
						bword = Processor.getRegisterID(l[1].toLowerCase());
					} else if (OpData.isInstruction(l[1].toLowerCase())) {
						bdata = OpData.INSTRUCTION_TO_MEMORY;
						bword = OpData.getInstructionID(l[1].toLowerCase());
					} else {
						bdata = OpData.MEMORY;
						bword = getLiteral(l[1]);
					}
				} else if (OpData.isInstruction(l[1])) {
					bdata = OpData.INSTRUCTION;
					bword = OpData.getInstructionID(l[1]);
				} else  if (Processor.isRegister(l[1])) {
					bdata = OpData.REGISTER;
					bword = Processor.getRegisterID(l[1]);
				} else {
					bdata = OpData.LITERAL;
					bword = getLiteral(l[1]);
				}
			} else { //1 extra word
				if (isLabel(line)) {
					adata = OpData.LABEL;
					aword = getLabelID(line);
				} else if (line.startsWith("[") &amp;&amp; line.endsWith("]")) {
					line = line.substring(1, line.length()-1);
					if (Processor.isRegister(line.toLowerCase())) {
						adata = OpData.REGISTER_TO_MEMORY;
						aword = Processor.getRegisterID(line.toLowerCase());
					} else if (OpData.isInstruction(line.toLowerCase())) {
						adata = OpData.INSTRUCTION_TO_MEMORY;
						aword = OpData.getInstructionID(line.toLowerCase());
					} else {
						adata = OpData.MEMORY;
						aword = getLiteral(line);
					}
				} else if (OpData.isInstruction(line)) {
					adata = OpData.INSTRUCTION;
					aword = OpData.getInstructionID(line);
				} else  if (Processor.isRegister(line)) {
					adata = OpData.REGISTER;
					aword = Processor.getRegisterID(line);
				} else {
					adata = OpData.LITERAL;
					aword = getLiteral(line);
				}
			}
		}
		int oword = 0;
		oword |= adata;
		oword &lt;&lt;= 4;
		oword |= bdata;
		oword &lt;&lt;= 24;
		oword |= opcode;
		currentOp += 1;
		instructions.add(oword);
		if (adata != OpData.UNUSED) {
			currentOp += 1;
			instructions.add(aword);
			if (bdata != OpData.UNUSED) {
				currentOp += 1;
				instructions.add(bword);
			}
		}
	}
}
</code></pre>
<p>}<br>
[/code]</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_s11.html'><span itemprop='name'>_s11</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-11T16:02:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:49:02Z' class='post-time'>
              August 4, 2016,  6:49am
            </time>
        <span itemprop='position'>#36</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sinisoul, post:22, topic:515544”][quote author=Fat Cookies link=topic=633800.msg4281057#msg4281057 date=1365589110]<br>
My assembler does two passes. The first pass involves removing comments/whitespace and “counting” the number of bytes the assembly should assemble to, it then finds all the labels and adds them to a HashMap. The second pass then assembles the actual instructions, replacing labels as required.<br>
[/quote]</p>
<p>This is a good way of doing it.[/quote]<br>
yes two-pass assemblers do need your confirmation that the technique they’ve been using for years is good</p>
<p>bowser jr wtf are you on about</p>
<p>also <a href="https://github.com/kksym/titan-asm/blob/master/titan.scm" rel="nofollow noopener">https://github.com/kksym/titan-asm/blob/master/titan.scm</a> obligatory epenis wave lul</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-11T17:00:44Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:49:03Z' class='post-time'>
              August 4, 2016,  6:49am
            </time>
        <span itemprop='position'>#37</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“s1gma, post:36, topic:515544”]also <a href="https://github.com/kksym/titan-asm/blob/master/titan.scm" rel="nofollow noopener">https://github.com/kksym/titan-asm/blob/master/titan.scm</a> obligatory epenis wave lul[/quote]That’s pretty cool, i’ve always wanted to learn scheme.</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_s11.html'><span itemprop='name'>_s11</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-11T23:54:56Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:49:16Z' class='post-time'>
              August 4, 2016,  6:49am
            </time>
        <span itemprop='position'>#38</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“imthenull, post:37, topic:515544”][quote author=s1gma link=topic=633800.msg4281545#msg4281545 date=1365696151]<br>
also <a href="https://github.com/kksym/titan-asm/blob/master/titan.scm" rel="nofollow noopener">https://github.com/kksym/titan-asm/blob/master/titan.scm</a> obligatory epenis wave lul<br>
[/quote]That’s pretty cool, i’ve always wanted to learn scheme.[/quote]<br>
pls do it makes u e1ee7</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imthenull.html'><span itemprop='name'>imthenull</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-12T00:19:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:49:17Z' class='post-time'>
              August 4, 2016,  6:49am
            </time>
        <span itemprop='position'>#39</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“s1gma, post:38, topic:515544”][quote author=imthenull link=topic=633800.msg4281570#msg4281570 date=1365699644]</p>
<aside class="quote">
<blockquote>
<p>also <a href="https://github.com/kksym/titan-asm/blob/master/titan.scm" rel="nofollow noopener">https://github.com/kksym/titan-asm/blob/master/titan.scm</a> obligatory epenis wave lul<br>
[/quote]That’s pretty cool, i’ve always wanted to learn scheme.</p>
</blockquote>
</aside>
<p>pls do it makes u e1ee7[/quote]<br>
Any recommendations on learning it? Books, online tutorials, whatever.</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_s11.html'><span itemprop='name'>_s11</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-04-12T02:13:55Z'>
            <time itemprop='dateModified' datetime='2016-08-04T06:49:27Z' class='post-time'>
              August 4, 2016,  6:49am
            </time>
        <span itemprop='position'>#40</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“imthenull, post:39, topic:515544”][quote author=s1gma link=topic=633800.msg4281765#msg4281765 date=1365724496]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>also <a href="https://github.com/kksym/titan-asm/blob/master/titan.scm" rel="nofollow noopener">https://github.com/kksym/titan-asm/blob/master/titan.scm</a> obligatory epenis wave lul<br>
[/quote]That’s pretty cool, i’ve always wanted to learn scheme.</p>
</blockquote>
</aside>
<p>pls do it makes u e1ee7</p>
</blockquote>
</aside>
<p>Any recommendations on learning it? Books, online tutorials, whatever.[/quote]<br>
sicp… maybe find a syntax primer beforehand if that’s a little bit of a nosedive</p>
      </div>

      <meta itemprop='headline' content='Cin (VM, Java) - I finally finished somthing!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="515544.html">← previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="5155449ba9.html?page=3">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/cin-vm-java-i-finally-finished-somthing/515544?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:30 GMT -->
</html>
