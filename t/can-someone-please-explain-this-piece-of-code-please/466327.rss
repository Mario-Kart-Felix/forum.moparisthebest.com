<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Can someone please explain this piece of code, please?</title>
    <link>https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327</link>
    <description>Can someone please explain this piece of code, please?
And could your please answer the following question?
Why didn&#39;t the previous server owner just put all the x.process methods in normal while loop like this:
I mean why the cycle rate, time etc?
[code]while(true){
x.process
}[/code]

previous owner&#39;s code:
[code]		cycleRate = 575;
		shutdownServer = false;
		engineTimer = new SimpleTimer();
		debugTimer = new SimpleTimer();
		sleepTime = 0;
		debugPercentFormat = new DecimalFormat(&quot;0.0#%&quot;);
			while (!Server.shutdownServer) {
				if (sleepTime &gt; 0)
					Thread.sleep(sleepTime);
				engineTimer.reset();
				itemHandler.process();
				playerHandler.process();	
	                        npcHandler.process();
				shopHandler.process();
				lottery.process();
				objectManager.process();
				fightPits.process();
				pestControl.process();				
				if(cycleTime &lt; 575)
					sleepTime = cycleRate - cycleTime;
				else
					sleepTime = 0;
				cycleTime = engineTimer.elapsed();				
				sleepTime = cycleRate - cycleTime;
				totalCycleTime += cycleTime;
				cycles++;
				debug();
			if (System.currentTimeMillis() - lastMassSave &gt; 1800000) {//1800000
					for(Player p : PlayerHandler.players) {
						if(p == null)
							continue;						
						PlayerSave.saveGame((Client)p);
						System.out.println(&quot;Saved game for &quot; + p.playerName + &quot;.&quot;);				
						lastMassSave = System.currentTimeMillis();
					}
				}
			}[/code]</description>
    
    <lastBuildDate>Thu, 08 Nov 2012 00:39:08 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Can someone please explain this piece of code, please?</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>[quote=“ziplock, post:8, topic:466327”][quote author=tyb97 link=topic=579775.msg4148797#msg4148797 date=1352328840]<br>
Well, the application would still freeze because the root thread is pausing, and all the connection would be lost on every client every for 600ms intervals, no?<br>
[/quote]</p>
<p>No Thread.sleep() only pauses the current executing thread, not all threads.[/quote]<br>
Well if the thread that is connected to the port pauses, wouldn’t that destroy all connections?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/9</link>
        <pubDate>Thu, 08 Nov 2012 00:39:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-466327-9</guid>
        <source url="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327.rss">Can someone please explain this piece of code, please?</source>
      </item>
      <item>
        <title>Can someone please explain this piece of code, please?</title>
        <dc:creator><![CDATA[@ziplock ziplock]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ziplock">@ziplock</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="7" data-topic="466327">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>Well, the application would still freeze because the root thread is pausing, and all the connection would be lost on every client every for 600ms intervals, no?</p>
</blockquote>
</aside>
<p>No Thread.sleep() only pauses the current executing thread, not all threads.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/8</link>
        <pubDate>Wed, 07 Nov 2012 23:05:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-466327-8</guid>
        <source url="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327.rss">Can someone please explain this piece of code, please?</source>
      </item>
      <item>
        <title>Can someone please explain this piece of code, please?</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>Well, the application would still freeze because the root thread is pausing, and all the connection would be lost on every client every for 600ms intervals, no?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/7</link>
        <pubDate>Wed, 07 Nov 2012 22:54:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-466327-7</guid>
        <source url="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327.rss">Can someone please explain this piece of code, please?</source>
      </item>
      <item>
        <title>Can someone please explain this piece of code, please?</title>
        <dc:creator><![CDATA[@ziplock ziplock]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ziplock">@ziplock</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="5" data-topic="466327">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>wL is single threaded correct? Making it sleep would pause the whole application.</p>
</blockquote>
</aside>
<p>wL creates a thread every time someone successfully connects. It also listens for connections on another thread. I’m not exactly sure how many other task are carried out in other threads, though.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/6</link>
        <pubDate>Wed, 07 Nov 2012 22:44:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-466327-6</guid>
        <source url="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327.rss">Can someone please explain this piece of code, please?</source>
      </item>
      <item>
        <title>Can someone please explain this piece of code, please?</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>wL is single threaded correct? Making it sleep would pause the whole application.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/5</link>
        <pubDate>Wed, 07 Nov 2012 22:38:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-466327-5</guid>
        <source url="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327.rss">Can someone please explain this piece of code, please?</source>
      </item>
      <item>
        <title>Can someone please explain this piece of code, please?</title>
        <dc:creator><![CDATA[@bowserjr2 Bowser jr]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bowserjr2">@bowserjr2</a> wrote:</p>
          <blockquote>
              <p>pkkid: Because it takes more than 0 ms to run x.process() and the time it takes to run x.process() varies.  Therefore you need to make sure that the time it takes to run x.process() + the time it sleeps equals 600ms.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/4</link>
        <pubDate>Wed, 07 Nov 2012 22:35:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-466327-4</guid>
        <source url="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327.rss">Can someone please explain this piece of code, please?</source>
      </item>
      <item>
        <title>Can someone please explain this piece of code, please?</title>
        <dc:creator><![CDATA[@pkkid pkkid]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pkkid">@pkkid</a> wrote:</p>
          <blockquote>
              <p>[quote=“Lin, post:2, topic:466327”]Because the server is only supposed to process things like player updating, shop items setting, etc… every 600ms vs as often as possible.[/quote]I mean why did he added this part:</p>
<p><code>                                if(cycleTime &lt; 575)
                                        sleepTime = cycleRate - cycleTime;
                                else
                                        sleepTime = 0;
                                cycleTime = engineTimer.elapsed();                               
                                sleepTime = cycleRate - cycleTime;
                                totalCycleTime += cycleTime;
                                cycles++;
                                debug();</code><br>
And why not just this:</p>
<p><code>while(true){
x.process();
Thread.sleep(600);
}</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/3</link>
        <pubDate>Wed, 07 Nov 2012 21:49:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-466327-3</guid>
        <source url="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327.rss">Can someone please explain this piece of code, please?</source>
      </item>
      <item>
        <title>Can someone please explain this piece of code, please?</title>
        <dc:creator><![CDATA[@Lin Lin]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lin">@Lin</a> wrote:</p>
          <blockquote>
              <p>Because the server is only supposed to process things like player updating, shop items setting, etc… every 600ms vs as often as possible.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/2</link>
        <pubDate>Wed, 07 Nov 2012 20:28:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-466327-2</guid>
        <source url="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327.rss">Can someone please explain this piece of code, please?</source>
      </item>
      <item>
        <title>Can someone please explain this piece of code, please?</title>
        <dc:creator><![CDATA[@pkkid pkkid]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pkkid">@pkkid</a> wrote:</p>
          <blockquote>
              <p>Can someone please explain this piece of code, please?<br>
And could your please answer the following question?<br>
Why didn’t the previous server owner just put all the x.process methods in normal while loop like this:<br>
I mean why the cycle rate, time etc?</p>
<p><code>while(true){
x.process
}</code></p>
<p>previous owner’s code:</p>
<p><code>		cycleRate = 575;
		shutdownServer = false;
		engineTimer = new SimpleTimer();
		debugTimer = new SimpleTimer();
		sleepTime = 0;
		debugPercentFormat = new DecimalFormat("0.0#%");
			while (!Server.shutdownServer) {
				if (sleepTime &gt; 0)
					Thread.sleep(sleepTime);
				engineTimer.reset();
				itemHandler.process();
				playerHandler.process();	
	                        npcHandler.process();
				shopHandler.process();
				lottery.process();
				objectManager.process();
				fightPits.process();
				pestControl.process();				
				if(cycleTime &lt; 575)
					sleepTime = cycleRate - cycleTime;
				else
					sleepTime = 0;
				cycleTime = engineTimer.elapsed();				
				sleepTime = cycleRate - cycleTime;
				totalCycleTime += cycleTime;
				cycles++;
				debug();
			if (System.currentTimeMillis() - lastMassSave &gt; 1800000) {//1800000
					for(Player p : PlayerHandler.players) {
						if(p == null)
							continue;						
						PlayerSave.saveGame((Client)p);
						System.out.println("Saved game for " + p.playerName + ".");				
						lastMassSave = System.currentTimeMillis();
					}
				}
			}</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327/1</link>
        <pubDate>Wed, 07 Nov 2012 17:37:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-466327-1</guid>
        <source url="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327.rss">Can someone please explain this piece of code, please?</source>
      </item>
  </channel>
</rss>
