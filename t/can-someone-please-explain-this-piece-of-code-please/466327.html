<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 21:55:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Can someone please explain this piece of code, please? - General Programming - moparisthebest.com</title>
    <meta name="description" content="Can someone please explain this piece of code, please? And could your please answer the following question? Why didn&amp;#39;t the previous server owner just put all the x.process methods in normal while loop like this: I mean w&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="466327.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Can someone please explain this piece of code, please?&#39;" href="466327.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327" />
<meta property="og:title" content="Can someone please explain this piece of code, please?" />
<meta name="twitter:title" content="Can someone please explain this piece of code, please?" />
<meta property="og:description" content="Can someone please explain this piece of code, please?  And could your please answer the following question?  Why didn’t the previous server owner just put all the x.process methods in normal while loop like this:  I mean why the cycle rate, time etc?  while(true){ x.process }  previous owner’s code:  		cycleRate = 575; 		shutdownServer = false; 		engineTimer = new SimpleTimer(); 		debugTimer = new SimpleTimer(); 		sleepTime = 0; 		debugPercentFormat = new DecimalFormat(&quot;0.0#%&quot;); 			while (!Serv..." />
<meta name="twitter:description" content="Can someone please explain this piece of code, please?  And could your please answer the following question?  Why didn’t the previous server owner just put all the x.process methods in normal while loop like this:  I mean why the cycle rate, time etc?  while(true){ x.process }  previous owner’s code:  		cycleRate = 575; 		shutdownServer = false; 		engineTimer = new SimpleTimer(); 		debugTimer = new SimpleTimer(); 		sleepTime = 0; 		debugPercentFormat = new DecimalFormat(&quot;0.0#%&quot;); 			while (!Serv..." />
<meta property="article:published_time" content="2012-11-07T17:37:05+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="466327.html">Can someone please explain this piece of code, please?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pkkid.html'><span itemprop='name'>pkkid</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-07T17:37:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:00:46Z' class='post-time'>
              August 4, 2016,  1:00am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Can someone please explain this piece of code, please?<br>
And could your please answer the following question?<br>
Why didn’t the previous server owner just put all the x.process methods in normal while loop like this:<br>
I mean why the cycle rate, time etc?</p>
<p><code>while(true){
x.process
}</code></p>
<p>previous owner’s code:</p>
<p><code>		cycleRate = 575;
		shutdownServer = false;
		engineTimer = new SimpleTimer();
		debugTimer = new SimpleTimer();
		sleepTime = 0;
		debugPercentFormat = new DecimalFormat("0.0#%");
			while (!Server.shutdownServer) {
				if (sleepTime &gt; 0)
					Thread.sleep(sleepTime);
				engineTimer.reset();
				itemHandler.process();
				playerHandler.process();	
	                        npcHandler.process();
				shopHandler.process();
				lottery.process();
				objectManager.process();
				fightPits.process();
				pestControl.process();				
				if(cycleTime &lt; 575)
					sleepTime = cycleRate - cycleTime;
				else
					sleepTime = 0;
				cycleTime = engineTimer.elapsed();				
				sleepTime = cycleRate - cycleTime;
				totalCycleTime += cycleTime;
				cycles++;
				debug();
			if (System.currentTimeMillis() - lastMassSave &gt; 1800000) {//1800000
					for(Player p : PlayerHandler.players) {
						if(p == null)
							continue;						
						PlayerSave.saveGame((Client)p);
						System.out.println("Saved game for " + p.playerName + ".");				
						lastMassSave = System.currentTimeMillis();
					}
				}
			}</code></p>
      </div>

      <meta itemprop='headline' content='Can someone please explain this piece of code, please?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Lin.html'><span itemprop='name'>Lin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-07T20:28:20Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:00:53Z' class='post-time'>
              August 4, 2016,  1:00am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Because the server is only supposed to process things like player updating, shop items setting, etc… every 600ms vs as often as possible.</p>
      </div>

      <meta itemprop='headline' content='Can someone please explain this piece of code, please?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pkkid.html'><span itemprop='name'>pkkid</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-07T21:49:38Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:01:09Z' class='post-time'>
              August 4, 2016,  1:01am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lin, post:2, topic:466327”]Because the server is only supposed to process things like player updating, shop items setting, etc… every 600ms vs as often as possible.[/quote]I mean why did he added this part:</p>
<p><code>                                if(cycleTime &lt; 575)
                                        sleepTime = cycleRate - cycleTime;
                                else
                                        sleepTime = 0;
                                cycleTime = engineTimer.elapsed();                               
                                sleepTime = cycleRate - cycleTime;
                                totalCycleTime += cycleTime;
                                cycles++;
                                debug();</code><br>
And why not just this:</p>
<p><code>while(true){
x.process();
Thread.sleep(600);
}</code></p>
      </div>

      <meta itemprop='headline' content='Can someone please explain this piece of code, please?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-07T22:35:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:01:10Z' class='post-time'>
              August 4, 2016,  1:01am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>pkkid: Because it takes more than 0 ms to run x.process() and the time it takes to run x.process() varies.  Therefore you need to make sure that the time it takes to run x.process() + the time it sleeps equals 600ms.</p>
      </div>

      <meta itemprop='headline' content='Can someone please explain this piece of code, please?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/tyb97.html'><span itemprop='name'>tyb97</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-07T22:38:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:01:10Z' class='post-time'>
              August 4, 2016,  1:01am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>wL is single threaded correct? Making it sleep would pause the whole application.</p>
      </div>

      <meta itemprop='headline' content='Can someone please explain this piece of code, please?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ziplock.html'><span itemprop='name'>ziplock</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-07T22:44:40Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:01:11Z' class='post-time'>
              August 4, 2016,  1:01am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="5" data-topic="466327">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>wL is single threaded correct? Making it sleep would pause the whole application.</p>
</blockquote>
</aside>
<p>wL creates a thread every time someone successfully connects. It also listens for connections on another thread. I’m not exactly sure how many other task are carried out in other threads, though.</p>
      </div>

      <meta itemprop='headline' content='Can someone please explain this piece of code, please?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/tyb97.html'><span itemprop='name'>tyb97</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-07T22:54:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:01:11Z' class='post-time'>
              August 4, 2016,  1:01am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, the application would still freeze because the root thread is pausing, and all the connection would be lost on every client every for 600ms intervals, no?</p>
      </div>

      <meta itemprop='headline' content='Can someone please explain this piece of code, please?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ziplock.html'><span itemprop='name'>ziplock</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-07T23:05:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:01:11Z' class='post-time'>
              August 4, 2016,  1:01am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="7" data-topic="466327">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>Well, the application would still freeze because the root thread is pausing, and all the connection would be lost on every client every for 600ms intervals, no?</p>
</blockquote>
</aside>
<p>No Thread.sleep() only pauses the current executing thread, not all threads.</p>
      </div>

      <meta itemprop='headline' content='Can someone please explain this piece of code, please?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/tyb97.html'><span itemprop='name'>tyb97</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-11-08T00:39:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:01:17Z' class='post-time'>
              August 4, 2016,  1:01am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ziplock, post:8, topic:466327”][quote author=tyb97 link=topic=579775.msg4148797#msg4148797 date=1352328840]<br>
Well, the application would still freeze because the root thread is pausing, and all the connection would be lost on every client every for 600ms intervals, no?<br>
[/quote]</p>
<p>No Thread.sleep() only pauses the current executing thread, not all threads.[/quote]<br>
Well if the thread that is connected to the port pauses, wouldn’t that destroy all connections?</p>
      </div>

      <meta itemprop='headline' content='Can someone please explain this piece of code, please?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/can-someone-please-explain-this-piece-of-code-please/466327 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 21:55:15 GMT -->
</html>
