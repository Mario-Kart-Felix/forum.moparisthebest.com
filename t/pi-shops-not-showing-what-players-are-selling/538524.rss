<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI]Shops not showing what players are selling</title>
    <link>https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524</link>
    <description>[B]Hey Guys

Basically what&#39;s going on is that when I try and sell items to a shop the shopkeeper gives me the money but the thing is though the item won&#39;t show up on the shop. Im not sure what the code is or anything like that but still.

Here&#39;s a picture of what&#39;s going on...[/B]

[img]http://filesmelt.com/dl/RSPS0005.gif[/img]

Just wondering what&#39;s going on and how to fix it :)</description>
    
    <lastBuildDate>Mon, 13 Jan 2014 21:14:03 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI]Shops not showing what players are selling</title>
        <dc:creator><![CDATA[@Gh0stPred Gh0stPred]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/gh0stpred">@Gh0stPred</a> wrote:</p>
          <blockquote>
              <p>[code]public boolean sellItem(int itemID, int fromSlot, int amount) {<br>
if (c.myShopId == 14) {<br>
return false;<br>
}<br>
if(c.inTrade) {<br>
return false;<br>
}<br>
for (int i : Config.ITEM_SELLABLE) {<br>
if (i == itemID) {<br>
c.sendMessage(“You can’t sell “+ItemAssistant.getItemName(itemID).toLowerCase()+”.”);<br>
return false;<br>
}<br>
}<br>
if(c.playerRights == 2 &amp;&amp; !Config.ADMIN_CAN_SELL_ITEMS) {<br>
c.sendMessage(“Administrators cannot sell.”);<br>
return false;<br>
}<br>
if (amount &gt; 0 &amp;&amp; itemID == (c.playerItems[fromSlot] - 1)) {<br>
if (ShopHandler.ShopSModifier[c.myShopId] &gt; 1) {<br>
boolean IsIn = false;<br>
for (int i = 0; i &lt;= ShopHandler.ShopItemsStandard[c.myShopId]; i++) {<br>
if (itemID == (ShopHandler.ShopItems[c.myShopId][i] - 1)) {<br>
IsIn = true;<br>
break;<br>
}<br>
}<br>
if (IsIn == false) {<br>
c.sendMessage(“You can’t sell “+ItemAssistant.getItemName(itemID).toLowerCase()+” to this store.”);<br>
return false;<br>
}<br>
}</p>
<pre><code>		if (amount &gt; c.playerItemsN[fromSlot] &amp;&amp; (Item.itemIsNote[(c.playerItems[fromSlot] - 1)] == true || Item.itemStackable[(c.playerItems[fromSlot] - 1)] == true)) {
			amount = c.playerItemsN[fromSlot];
		} else if (amount &gt; c.getItems().getItemAmount(itemID) &amp;&amp; Item.itemIsNote[(c.playerItems[fromSlot] - 1)] == false &amp;&amp; Item.itemStackable[(c.playerItems[fromSlot] - 1)] == false) {
			amount = c.getItems().getItemAmount(itemID);
		}
		//double ShopValue;
		//double TotPrice;
		int TotPrice2 = 0;
		//int Overstock;
		for (int i = amount; i &gt; 0; i--) {
			TotPrice2 = (int)Math.floor(getItemShopValue(itemID, 1, fromSlot));
			if (c.getItems().freeSlots() &gt; 0 || c.getItems().playerHasItem(995)) {
				if (Item.itemIsNote[itemID] == false) {
					c.getItems().deleteItem(itemID, c.getItems().getItemSlot(itemID), 1);
				} else {
					c.getItems().deleteItem(itemID, fromSlot, 1);
				}
				c.getItems().addItem(995, TotPrice2 *= 0.80);
				//addShopItem(itemID, 1);
			} else {
				c.sendMessage("You don't have enough space in your inventory.");
				break;
			}
		}
		c.getItems().resetItems(3823);
		resetShop(c.myShopId);
		updatePlayerShop();
		return true;
	}
	return true;
}[/code]
</code></pre>
<p>I fixed it. It was the ‘//addShopItem(itemID, 1);’ that was wrong. Thanks for help anyway <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524/5</link>
        <pubDate>Mon, 13 Jan 2014 21:14:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-538524-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524.rss">[PI]Shops not showing what players are selling</source>
      </item>
      <item>
        <title>[PI]Shops not showing what players are selling</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>Post your method for selling items.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524/4</link>
        <pubDate>Mon, 13 Jan 2014 19:20:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-538524-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524.rss">[PI]Shops not showing what players are selling</source>
      </item>
      <item>
        <title>[PI]Shops not showing what players are selling</title>
        <dc:creator><![CDATA[@Gh0stPred Gh0stPred]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/gh0stpred">@Gh0stPred</a> wrote:</p>
          <blockquote>
              <p>[quote=“Clawz fury, post:2, topic:538524”]either the item isn’t being added to the array/list of shop items or it’s being added and you aren’t updating the interface with the new items</p>
<p>by the way I can’t see your picture[/quote]</p>
<p>Here’s the picture link:</p>
<p><a href="http://filesmelt.com/dl/RSPS0005.gif" class="onebox" target="_blank" rel="nofollow noopener">http://filesmelt.com/dl/RSPS0005.gif</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524/3</link>
        <pubDate>Mon, 13 Jan 2014 18:59:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-538524-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524.rss">[PI]Shops not showing what players are selling</source>
      </item>
      <item>
        <title>[PI]Shops not showing what players are selling</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>either the item isn’t being added to the array/list of shop items or it’s being added and you aren’t updating the interface with the new items</p>
<p>by the way I can’t see your picture</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524/2</link>
        <pubDate>Mon, 13 Jan 2014 14:22:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-538524-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524.rss">[PI]Shops not showing what players are selling</source>
      </item>
      <item>
        <title>[PI]Shops not showing what players are selling</title>
        <dc:creator><![CDATA[@Gh0stPred Gh0stPred]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/gh0stpred">@Gh0stPred</a> wrote:</p>
          <blockquote>
              <p>[B]Hey Guys</p>
<p>Basically what’s going on is that when I try and sell items to a shop the shopkeeper gives me the money but the thing is though the item won’t show up on the shop. Im not sure what the code is or anything like that but still.</p>
<p>Here’s a picture of what’s going on…[/B]</p>
<p><img src="http://filesmelt.com/dl/RSPS0005.gif" alt width="" height=""></p>
<p>Just wondering what’s going on and how to fix it <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524/1</link>
        <pubDate>Mon, 13 Jan 2014 11:09:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-538524-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-shops-not-showing-what-players-are-selling/538524.rss">[PI]Shops not showing what players are selling</source>
      </item>
  </channel>
</rss>
