<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/need-help-asap-streamloader-assistance-rep-hard-to-solve/424391 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 16:56:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Need Help ASAP] StreamLoader Assistance Rep++ [Hard To Solve] - Runescape - moparisthebest.com</title>
    <meta name="description" content="yes i did post in client section but no one replied, guess they dident know how to fix it... 

Hey So For My New Peoject ive been working on my streamloader, in client class 

sadly this is all i have and for some reason&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="424391.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Need Help ASAP] StreamLoader Assistance Rep++ [Hard To Solve]&#39;" href="424391.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/need-help-asap-streamloader-assistance-rep-hard-to-solve/424391" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/need-help-asap-streamloader-assistance-rep-hard-to-solve/424391" />
<meta property="og:title" content="[Need Help ASAP] StreamLoader Assistance Rep++ [Hard To Solve]" />
<meta name="twitter:title" content="[Need Help ASAP] StreamLoader Assistance Rep++ [Hard To Solve]" />
<meta property="og:description" content="yes i did post in client section but no one replied, guess they dident know how to fix it…  Hey So For My New Peoject ive been working on my streamloader, in client class  sadly this is all i have and for some reason when i jar my client it doesent download the cache, but if i run it straight from my batch command line it works perfectly downloading the cache.  i think it may be something with this   [code]private StreamLoader streamLoaderForName(int i, String s, String s1, int j, int k)  {  byt..." />
<meta name="twitter:description" content="yes i did post in client section but no one replied, guess they dident know how to fix it…  Hey So For My New Peoject ive been working on my streamloader, in client class  sadly this is all i have and for some reason when i jar my client it doesent download the cache, but if i run it straight from my batch command line it works perfectly downloading the cache.  i think it may be something with this   [code]private StreamLoader streamLoaderForName(int i, String s, String s1, int j, int k)  {  byt..." />
<meta property="article:published_time" content="2011-12-06T23:32:08+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="424391.html">[Need Help ASAP] StreamLoader Assistance Rep++ [Hard To Solve]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/x1_att_ftw_x.html'><span itemprop='name'>x1_att_ftw_x</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-06T23:32:08Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:18:12Z' class='post-time'>
              August 2, 2016,  2:18pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yes i did post in client section but no one replied, guess they dident know how to fix it…</p>
<p>Hey So For My New Peoject ive been working on my streamloader, in client class</p>
<p>sadly this is all i have and for some reason when i jar my client it doesent download the cache, but if i run it straight from my batch command line it works perfectly downloading the cache.</p>
<p>i think it may be something with this</p>
<aside class="quote">
<blockquote>
<p>private StreamLoader streamLoaderForName Method</p>
</blockquote>
</aside>
<p>[code]private StreamLoader streamLoaderForName(int i, String s, String s1, int j, int k)<br>
{<br>
byte abyte0[] = null;<br>
int l = 5;<br>
try<br>
{<br>
if(decompressors[0] != null)<br>
abyte0 = decompressors[0].decompress(i);<br>
}<br>
catch(Exception _ex) { }<br>
if(abyte0 != null)<br>
{<br>
//  aCRC32_930.reset();<br>
//  aCRC32_930.update(abyte0);<br>
//  int i1 = (int)aCRC32_930.getValue();<br>
//  if(i1 != j)<br>
}<br>
if(abyte0 != null)<br>
{<br>
StreamLoader streamLoader = new StreamLoader(abyte0);<br>
return streamLoader;<br>
}<br>
int j1 = 0;<br>
while(abyte0 == null)<br>
{<br>
String s2 = “Unknown error”;<br>
drawLoadingText(k, "Requesting " + s);<br>
Object obj = null;<br>
try<br>
{<br>
int k1 = 0;<br>
DataInputStream datainputstream = openJagGrabInputStream(s1 + j);<br>
byte abyte1[] = new byte[6];<br>
datainputstream.readFully(abyte1, 0, 6);<br>
Stream stream = new Stream(abyte1);<br>
stream.currentOffset = 3;<br>
int i2 = stream.read3Bytes() + 6;<br>
int j2 = 6;<br>
abyte0 = new byte[i2];<br>
System.arraycopy(abyte1, 0, abyte0, 0, 6);</p>
<pre><code>while(j2 &lt; i2) 
{
 int l2 = i2 - j2;
 if(l2 &gt; 1000)
  l2 = 1000;
 int j3 = datainputstream.read(abyte0, j2, l2);
 if(j3 &lt; 0)
 {
  s2 = "Length error: " + j2 + "/" + i2;
  throw new IOException("EOF");
 }
 j2 += j3;
 int k3 = (j2 * 100) / i2;
 if(k3 != k1)
  drawLoadingText(k, "Loading " + s + " - " + k3 + "%");
 k1 = k3;
}
datainputstream.close();
try
{
 if(decompressors[0] != null)
  decompressors[0].method234(abyte0.length, abyte0, i);
}
catch(Exception _ex)
{
 decompressors[0] = null;
}
</code></pre>
<p>/*    if(abyte0 != null)<br>
{<br>
aCRC32_930.reset();<br>
aCRC32_930.update(abyte0);<br>
int i3 = (int)aCRC32_930.getValue();<br>
if(i3 != j)<br>
{<br>
abyte0 = null;<br>
j1++;<br>
s2 = "Checksum error: " + i3;<br>
}<br>
}<br>
*/<br>
}<br>
catch(IOException ioexception)<br>
{<br>
if(s2.equals(“Unknown error”))<br>
s2 = “Connection error”;<br>
abyte0 = null;<br>
}<br>
catch(NullPointerException _ex)<br>
{<br>
s2 = “Null error”;<br>
abyte0 = null;<br>
if(!signlink.reporterror)<br>
return null;<br>
}<br>
catch(ArrayIndexOutOfBoundsException _ex)<br>
{<br>
s2 = “Bounds error”;<br>
abyte0 = null;<br>
if(!signlink.reporterror)<br>
return null;<br>
}<br>
catch(Exception _ex)<br>
{<br>
s2 = “Unexpected error”;<br>
abyte0 = null;<br>
if(!signlink.reporterror)<br>
return null;<br>
}<br>
if(abyte0 == null)<br>
{<br>
for(int l1 = l; l1 &gt; 0; l1–)<br>
{<br>
if(j1 &gt;= 3)<br>
{<br>
drawLoadingText(k, “Game updated - please reload page”);<br>
l1 = 10;<br>
} else<br>
{<br>
drawLoadingText(k, s2 + " - Retrying in " + l1);<br>
}<br>
try<br>
{<br>
Thread.sleep(1000L);<br>
}<br>
catch(Exception _ex) { }<br>
}</p>
<pre><code>l *= 2;
if(l &gt; 60)
 l = 60;
aBoolean872 = !aBoolean872;
</code></pre>
<p>}</p>
<p>}</p>
<p>StreamLoader streamLoader_1 = new StreamLoader(abyte0);<br>
return streamLoader_1;<br>
}[/code]<br>
any assistance will Repp</p>
      </div>

      <meta itemprop='headline' content='[Need Help ASAP] StreamLoader Assistance Rep++ [Hard To Solve]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lostmyphat.html'><span itemprop='name'>lostmyphat</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-06T23:45:19Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:18:13Z' class='post-time'>
              August 2, 2016,  2:18pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Make the name public instead of private?</p>
      </div>

      <meta itemprop='headline' content='[Need Help ASAP] StreamLoader Assistance Rep++ [Hard To Solve]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-07T00:08:10Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:18:15Z' class='post-time'>
              August 2, 2016,  2:18pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It’s one of the problems when trying to load it with a webclient, because the default behavior for a webclient is to contact the JAGGRAB server, and since there isn’t one to contact, it doesn’t load.</p>
      </div>

      <meta itemprop='headline' content='[Need Help ASAP] StreamLoader Assistance Rep++ [Hard To Solve]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/x1_att_ftw_x.html'><span itemprop='name'>x1_att_ftw_x</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-07T20:08:22Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:19:01Z' class='post-time'>
              August 2, 2016,  2:19pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>in a regular client it has this same method just renamed, how does it call that? i’ve actually updated my cache downloader but when i try to jar it it cant find main class client. would you suppose it is client.class or cache downloader it self?</p>
<p>[code=java]<br>
import sign.signlink;</p>
<p>import <a href="http://java.io/" rel="nofollow noopener">java.io</a>.<em>;<br>
import <a href="http://java.net/" rel="nofollow noopener">java.net</a>.</em>;<br>
import java.util.zip.<em>;<br>
import java.util.Enumeration;<br>
import java.awt.</em>;<br>
import javax.swing.*;</p>
<p>public class CacheDownloader extends JPanel {</p>
<pre><code>public String cacheLink = "http://dl.dropbox.com/u/52240342/PureB.zip";
public String saveDirectory = signlink.findcachedir();
public String fileToExtract = getSaveDirectory() + getFileName();
public JProgressBar progressBar;
public int currentVersion = 1;

public String getCacheLink() {
	return cacheLink;
}

public String getSaveDirectory() {
	return saveDirectory;
}

public int getVersion() {
	return currentVersion;
}
private String getCacheDir() {
	return signlink.findcachedir();
}

public CacheDownloader() {
	progressBar = new JProgressBar(0, 100);
	add(progressBar);
	progressBar.setValue(0);
	progressBar.setStringPainted(true);
}

public void updateProgressBar(int value) {
	progressBar.setValue(value);
}

public CacheDownloader downloadCache() {
	try {
		File saveLocation = new File(getSaveDirectory());
		File versionLocation = new File(getSaveDirectory() + "version" + getVersion() + ".dat");
		if (!saveLocation.exists()) {
			downloadFile(getCacheLink(), getFileName());
			unZip();
			BufferedWriter versionFile = new BufferedWriter(new FileWriter(getSaveDirectory() + "version" + getVersion() + ".dat"));
			versionFile.close();
			deleteDownloadedZipFile(getFileName());
		} else {
			if (!versionLocation.exists()) {
				downloadFile(getCacheLink(), getFileName());
				unZip();
				BufferedWriter versionFile = new BufferedWriter(new FileWriter(getSaveDirectory() + "version" + getVersion() + ".dat"));
				versionFile.close();
				deleteDownloadedZipFile(getFileName());
			} else
				return null;
		}
	} catch (Exception ex) {
		ex.printStackTrace();
	}
	return null;
}

public void downloadFile(String address, String fileName) {
	OutputStream fileDestination = null;
	URLConnection fileToDownload;
	InputStream readFileToDownload = null;
	CacheDownloader download = new CacheDownloader();
	JFrame frame = new JFrame("Downloading Cache");
	frame.setResizable(false);
	frame.setContentPane(download);
	frame.setSize(250, 60);
	//frame.pack();
	frame.setVisible(true);
	frame.setLocationRelativeTo(null);
	try {
		URL url = new URL(address);
		fileDestination = new BufferedOutputStream(new FileOutputStream(getSaveDirectory() + fileName)); 
		fileToDownload = url.openConnection();
		readFileToDownload = fileToDownload.getInputStream(); 
		byte[] data = new byte[1024]; 
		int numRead;
		long numWritten = 0;
		int length = fileToDownload.getContentLength();
		while ((numRead = readFileToDownload.read(data)) != -1) {
			fileDestination.write(data, 0, numRead);
			numWritten += numRead;
			int percentage = (int)(((double)numWritten / (double)length) * 100D);
			download.updateProgressBar(percentage);
		}
		download.progressBar.setString("Finished Downloading");
	} catch (Exception exception) {
		exception.printStackTrace();
	} finally {
		try {
			if (readFileToDownload != null)
				readFileToDownload.close();
			if (fileDestination != null)
				fileDestination.close();
		} catch (IOException ioe) {
		}
	}
}

public String getFileName() {
	int lastSlashIndex = getCacheLink().lastIndexOf('/');
	if (lastSlashIndex &gt;= 0 &amp;&amp; lastSlashIndex &lt; getCacheLink().length() -1)
		return getCacheLink().substring(lastSlashIndex + 1);
	return "";
}

public void deleteDownloadedZipFile(String fileName) {
	File f = new File(getSaveDirectory() + fileName);
	if (!f.exists())
		throw new IllegalArgumentException(
				"Delete: no such file or directory: " + fileName);
	if (!f.canWrite())
		throw new IllegalArgumentException("Delete: write protected: "
				+ fileName);
	if (f.isDirectory()) {
		String[] files = f.list();
		if (files.length &gt; 0)
			throw new IllegalArgumentException(
					"Delete: directory not empty: " + fileName);
	}
	boolean success = f.delete();
	if (!success)
		throw new IllegalArgumentException("Delete: deletion failed");
}

public void unZip() {
	try {
		InputStream in = new BufferedInputStream(new FileInputStream(fileToExtract));
		ZipInputStream zin = new ZipInputStream(in);
		ZipEntry e;
		while ((e = zin.getNextEntry()) != null) {
			if (e.isDirectory()) {
				(new File(getSaveDirectory() + e.getName())).mkdir();
			} else {
				if (e.getName().equals(fileToExtract)) {
					unzip(zin, fileToExtract);
					break;
				}
				unzip(zin, getSaveDirectory() + e.getName());
			}
		}
		zin.close();
	} catch (Exception e) {
		e.printStackTrace();
	}
}

public void unzip(ZipInputStream zin, String s) throws IOException {
	FileOutputStream out = new FileOutputStream(s);
	byte[] b = new byte[1024];
	int len = 0;
	while ((len = zin.read(b)) != -1) {
		out.write(b, 0, len);
	}
	out.close();
}
</code></pre>
<p>}[/code]</p>
      </div>

      <meta itemprop='headline' content='[Need Help ASAP] StreamLoader Assistance Rep++ [Hard To Solve]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/need-help-asap-streamloader-assistance-rep-hard-to-solve/424391 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 16:56:21 GMT -->
</html>
