<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/317-framework-hyperion/292219?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>317 framework - &quot;Hyperion&quot; - Community Inside Talk - moparisthebest.com</title>
    <meta name="description" content="I think Graham released this in the server downloads section only to prevent anyone else from releasing it for him and getting rep for it. Anyways, this server is something Graham and I have been working on for quite a w&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2922199ba9.html?page=3" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;317 framework - &quot;Hyperion&quot;&#39;" href="292219.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/317-framework-hyperion/292219?page=3" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/317-framework-hyperion/292219?page=3" />
<meta property="og:title" content="317 framework - &quot;Hyperion&quot;" />
<meta name="twitter:title" content="317 framework - &quot;Hyperion&quot;" />
<meta property="og:description" content="It‚Äôs shaping up quite a bit. üôÇ Did you finish adding read methods for all of the write methods that the client uses?  I hate to sound pushy, but doing so allows anyone in this section to start contributing packet handler implementations." />
<meta name="twitter:description" content="It‚Äôs shaping up quite a bit. üôÇ Did you finish adding read methods for all of the write methods that the client uses?  I hate to sound pushy, but doing so allows anyone in this section to start contributing packet handler implementations." />
<meta property="article:published_time" content="2009-08-11T14:57:02+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="2922194658.html?page=2">
      <link rel="next" href="292219fdb0.html?page=4">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="292219.html">317 framework - &quot;Hyperion&quot;</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/community-inside-talk.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Community Inside Talk</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-11T14:57:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:59:06Z' class='post-time'>
              July 31, 2016,  9:59am
            </time>
        <span itemprop='position'>#41</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It‚Äôs shaping up quite a bit. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Did you finish adding read methods for all of the write methods that the client uses?<br>
I hate to sound pushy, but doing so allows anyone in this section to start contributing packet handler implementations.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Graham.html'><span itemprop='name'>Graham</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-11T15:05:14Z'>
            <time itemprop='dateModified' datetime='2016-07-31T09:59:07Z' class='post-time'>
              July 31, 2016,  9:59am
            </time>
        <span itemprop='position'>#42</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúLothy, post:41, topic:292219‚Äù]It‚Äôs shaping up quite a bit. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Did you finish adding read methods for all of the write methods that the client uses?<br>
I hate to sound pushy, but doing so allows anyone in this section to start contributing packet handler implementations.[/quote]</p>
<p>Yeah they should all be done now.</p>
<p>Edit: also implemented the construct map region packet, not sure if or where it is used in 317, but cool anyway:</p>
<p><img src="http://hyperion.grahamedgecombe.com/media/constructed_map_region_2.png" alt width="" height=""></p>
<p><img src="http://hyperion.grahamedgecombe.com/media/constructed_map_region.png" alt width="" height=""></p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-12T04:03:01Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:00:20Z' class='post-time'>
              July 31, 2016, 10:00am
            </time>
        <span itemprop='position'>#43</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Interesting lol.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-13T06:19:56Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:01:44Z' class='post-time'>
              July 31, 2016, 10:01am
            </time>
        <span itemprop='position'>#44</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Interesting concept updatePacket is not quite right on login and I would assume regionSwitch as well</p>
<p><img src="http://img5.imageshack.us/img5/6042/updatepacket.png" alt width="" height=""></p>
<p>I would assume this would have to do with the otherPlayer object not having any update flags present.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Graham.html'><span itemprop='name'>Graham</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-13T06:34:03Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:01:44Z' class='post-time'>
              July 31, 2016, 10:01am
            </time>
        <span itemprop='position'>#45</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Players always start off facing south, I think it might happen in the real RS too.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-13T06:39:13Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:01:45Z' class='post-time'>
              July 31, 2016, 10:01am
            </time>
        <span itemprop='position'>#46</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="45" data-topic="292219">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/graham/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> Graham:</div>
<blockquote>
<p>Players always start off facing south, I think it might happen in the real RS too.</p>
</blockquote>
</aside>
<p>I do not believe this to be true in current rs. I really don‚Äôt recall in the older versions. However I could be wrong Only reason i noticed was because I was playing with the entityFacing mask</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Graham.html'><span itemprop='name'>Graham</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-13T07:45:31Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:01:47Z' class='post-time'>
              July 31, 2016, 10:01am
            </time>
        <span itemprop='position'>#47</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="1" data-topic="294891">
<div class="title">
<div class="quote-controls"></div>
</div>
<blockquote>
<p>Yep, I just verified - you do start looking south. In RSC you always looked north - I wounder why they changed it? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>What about other players?</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Graham.html'><span itemprop='name'>Graham</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-13T08:26:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:01:51Z' class='post-time'>
              July 31, 2016, 10:01am
            </time>
        <span itemprop='position'>#48</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="1" data-topic="294895">
<div class="title">
<div class="quote-controls"></div>
</div>
<blockquote>
<p>I can verify it if you wish, but wouldn‚Äôt it logically be the same? If they did store it in the database, it would be reflected on both parts - because when the client is updated, also the direction is updated. But the thing is, I don‚Äôt think they store it in the database. That would just be some unnecessary data - and the more data they don‚Äôt have to persist, the better. Even with one more byte per avatar they store, that would become quite alot with the millions they currently have.</p>
</blockquote>
</aside>
<p>Well they could use the last walking sprite to determine the direction the characters were facing while they were logged in only (and if they hadn‚Äôt moved since login they could face south), and that‚Äôd be one extra byte per player, which is 2000 bytes max.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Graham.html'><span itemprop='name'>Graham</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-13T14:10:43Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:02:04Z' class='post-time'>
              July 31, 2016, 10:02am
            </time>
        <span itemprop='position'>#49</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="1" data-topic="294898">
<div class="title">
<div class="quote-controls"></div>
</div>
<blockquote>
<p>[quote author=Graham link=topic=386075.msg2911904#msg2911904 date=1250151965]Well they could use the last walking sprite to determine the direction the characters were facing while they were logged in only (and if they hadn‚Äôt moved since login they could face south), and that‚Äôd be one extra byte per player, which is 2000 bytes max.[/quote]That is true, and about the 2000 bytes; that is not alot, I know. But I was more talking about the login server. I assume the login server is ran on a heavily equipped server, and with a very fast connection - but it would still be some unnecessary data to transfer between the login server and all of the world servers (back and forth). Plus, who cares whether his or her avatar (or player or whatever) is facing north, south, east or some other direction there in-between (when they log in)? <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
</blockquote>
</aside>
<p>It‚Äôs purely a world server thing, there is no reason for people on other worlds to know. (Each world doesn‚Äôt show every player, just the players on that world). Therefore the login server doesn‚Äôt need to know.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ry60003333.html'><span itemprop='name'>ry60003333</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-13T16:40:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:02:13Z' class='post-time'>
              July 31, 2016, 10:02am
            </time>
        <span itemprop='position'>#50</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúMiss Silabsoft, post:46, topic:292219‚Äù][quote author=Graham link=topic=386075.msg2911836#msg2911836 date=1250145243]<br>
Players always start off facing south, I think it might happen in the real RS too.<br>
[/quote]<br>
I do not believe this to be true in current rs. I really don‚Äôt recall in the older versions. However I could be wrong Only reason i noticed was because I was playing with the entityFacing mask[/quote]</p>
<p>You are correct, in the newer versions (including 474 and 508), the server sends the direction the player or Npc is facing with adding it to the appropriate list.</p>
<p>For example, here is my adding player code for my 317 plugin:</p>
<pre><code class="lang-auto">        thePacket.writeBits(11, playerToAdd.getIndex());
        thePacket.writeBits(1, 1);
        thePacket.writeBits(1, 1);

        Coordinate playerCoordinates = playerToAdd.getCoordinates();
        Coordinate ourCoordinates = updateReceiver.getCoordinates();

        int z = playerCoordinates.coordinateY - ourCoordinates.coordinateY;
        if (z &lt; 0)
                z += 32;
        thePacket.writeBits(5, z);

        z = playerCoordinates.coordinateX - ourCoordinates.coordinateX;
        if (z &lt; 0)
                z += 32;
        thePacket.writeBits(5, z);</code></pre>
<p>And for 508:</p>
<p>[code]<br>
thePacket.writeBits(11, playerToAdd.getIndex());</p>
<pre><code>    Coordinate playerCoordinates = playerToAdd.getCoordinates();
    Coordinate ourCoordinates = updateReceiver.getCoordinates();

    int yDifference = playerCoordinates.coordinateY - ourCoordinates.coordinateY;
    if (yDifference &lt; 0)
            yDifference += 32;

    int xDifference = playerCoordinates.coordinateX - ourCoordinates.coordinateX;
    if (xDifference &lt; 0)
            xDifference += 32;

    thePacket.writeBits(5, xDifference);
    thePacket.writeBits(1, 1);
    thePacket.writeBits(3, playerToAdd.getMovement().lastMovedDirection().clientDirection); // Direction to face
    thePacket.writeBits(1, 1);
    thePacket.writeBits(5, yDifference);
</code></pre>
<p>[/code][br][br][size=1]Posted on: August 13, 2009, 10:45:23 am[/size][hr][quote=‚Äúobject, post:1, topic:294930‚Äù]Okay, I see now how you mean. I wasn‚Äôt sure how you planned your architecture, and assumed you did the same way I have seen others do it. Which in my opinion isn‚Äôt that great.</p>
<ol>
<li>Client &lt;-&gt; World Server &lt;-&gt; Login Server &lt;-&gt; Database (the ‚Äúbad‚Äù architecture).</li>
<li>Client &lt;-&gt; World Server &lt;-&gt; Database<br>
World Server &lt;-&gt; Login Server &lt;-&gt; Database (in my opinion a better alternative).</li>
</ol>
<p>The first alternative isn‚Äôt optimal, since alot of things do not need to be shared between all world servers, and therefore do not need the extra link to the login server. Instead, the world servers could first have one link to the database directly, and one link to the login server - where all logins, logouts, friends list adds, friend list removes, and PMs etc. will be reflected onto all other world servers.</p>
<p>As I said, I have seen the first approach with other private servers, so I guess that is why I wrote that. ;)[/quote]<br>
You‚Äôve forgotten that it is the programmer who writes the login server. Information that doesn‚Äôt need to be shared simply isn‚Äôt. For example, my login server is used to load the player information such as skills, items, etc. However, data objects are marked as global or non-global. Things such as skills and items are non-global, and are only sent to the world that requested them on login. Other things, like the friends list, are global data. If the player sets the private chat setting to ‚Äúfriends only‚Äù, the login server uses push notification to update the data on the other worlds.</p>
<p>Plus, the custom protocol with the login server takes away a lot of the MySQL overhead, and since the data is sent as raw bytes, it can even be compressed. <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ry60003333.html'><span itemprop='name'>ry60003333</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-13T22:37:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:02:44Z' class='post-time'>
              July 31, 2016, 10:02am
            </time>
        <span itemprop='position'>#51</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="1" data-topic="295003">
<div class="title">
<div class="quote-controls"></div>
</div>
<blockquote>
<p>This approach is very inefficient when it comes to loading or saving data that does not need to be reflected in other world servers - a feature that is not a login, a logout, a PM or when you add or remove a friend etc. The inefficiency comes in that you first need to send the data to the login server, and then to the database at all times, instead of just some times.</p>
</blockquote>
</aside>
<p>This is the part your wrong about. When you say ‚Äúdata that does not need to be reflected in other world servers‚Äù, only the data that needs to be pushed to the other worlds will be. Only data that other worlds need is pushed.</p>
<p>Secondly, ‚ÄúThe inefficiency comes in that you first need to send the data to the login server, and then to the database at all times‚Äù, you only really update or read from the database when loading/saving accounts. Now, using a login server actually saves bandwidth. Usually, the database will be on the computer running the login server (which is kind of the point), which means that the login server to database connection takes no bandwidth at all. Plus, as I said before, the login server actually uses less bandwidth to load/save accounts then a direct connection to the database from the world.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xEnt.html'><span itemprop='name'>xEnt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-14T04:02:29Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:03:11Z' class='post-time'>
              July 31, 2016, 10:03am
            </time>
        <span itemprop='position'>#52</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>client logs in &gt; server requests player data from login server &gt; login requests it from SQL &gt; login server sends it back to server &gt; server confirms and allows the player to log in.</p>
<p>That seems like the best method, i also assume jagex use it in this way due to their logging in times.</p>
<p>For example in classic, if i log into my private server, it takes say 1 second, or 1.5 secs. if i log into the official RSC (or even rs2) it takes 3 seconds or so, pretty much double the time, i assume since they have a login server located at a fair distance between the world server, causing double/triple your waiting times.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-14T04:47:00Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:03:13Z' class='post-time'>
              July 31, 2016, 10:03am
            </time>
        <span itemprop='position'>#53</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Action Events do not seem to keep track of delay time correctly.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ry60003333.html'><span itemprop='name'>ry60003333</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-15T01:03:20Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:04:36Z' class='post-time'>
              July 31, 2016, 10:04am
            </time>
        <span itemprop='position'>#54</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You have one connection to the login server and no connection to the database. <img src="../../images/emoji/twitter/coolae52.png?v=5" title=":cool:" class="emoji" alt=":cool:"><br>
Plus read what xEnt said, as that is exactly what I‚Äôm doing.</p>
<p>Also this is just a discussion, I‚Äôm not actually angry or anything if thats what you thought. <img src="../../images/emoji/twitter/expressionlessae52.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xEnt.html'><span itemprop='name'>xEnt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-15T02:52:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:04:45Z' class='post-time'>
              July 31, 2016, 10:04am
            </time>
        <span itemprop='position'>#55</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i doubt each server binary that Jagex passes onto it‚Äôs hosts would directly connect to the main database, allowing someone to find the sql username/pass (some hosts could b dodgy)</p>
<p>I assume they have like 1 supercomputer to hold the database and run the loginserver hosted at jagex HQ, or close by.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Graham.html'><span itemprop='name'>Graham</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-15T06:57:03Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:05:05Z' class='post-time'>
              July 31, 2016, 10:05am
            </time>
        <span itemprop='position'>#56</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúxEnt, post:55, topic:292219‚Äù]i doubt each server binary that Jagex passes onto it‚Äôs hosts would directly connect to the main database, allowing someone to find the sql username/pass (some hosts could b dodgy)</p>
<p>I assume they have like 1 supercomputer to hold the database and run the loginserver hosted at jagex HQ, or close by.[/quote]</p>
<p>It‚Äôs likely they have several login servers, perhaps with one ‚Äòmaster‚Äô that handles read/writes and all the others doing reads only.</p>
<p>During the rs2 login process, a hash of the player name is sent which is believed to be used to select an appropriate login server.</p>
<p>And yeah, there are numerous reasons why the login server and world server maintaining a connection to the same database seem unlikely.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-16T06:15:39Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:06:42Z' class='post-time'>
              July 31, 2016, 10:06am
            </time>
        <span itemprop='position'>#57</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúGraham, post:56, topic:292219‚Äù][quote author=xEnt link=topic=386075.msg2914358#msg2914358 date=1250304732]<br>
i doubt each server binary that Jagex passes onto it‚Äôs hosts would directly connect to the main database, allowing someone to find the sql username/pass (some hosts could b dodgy)</p>
<p>I assume they have like 1 supercomputer to hold the database and run the loginserver hosted at jagex HQ, or close by.<br>
[/quote]</p>
<p>It‚Äôs likely they have several login servers, perhaps with one ‚Äòmaster‚Äô that handles read/writes and all the others doing reads only.</p>
<p>During the rs2 login process, a hash of the player name is sent which is believed to be used to select an appropriate login server.</p>
<p>And yeah, there are numerous reasons why the login server and world server maintaining a connection to the same database seem unlikely.[/quote]</p>
<p>From some old news feeds, I believe Jagex said that they have 4 primary loginservers. Which players each particular loginserver handles is not based upon session, but based upon account id. Thats why if 2 loginservers go down, half of the RuneScape players can‚Äôt even connect to the game, yet the other half connect just fine. It sounds to me like each loginserver has it‚Äôs own individual database, where it‚Äôs in charge of one block of players and one block of players only.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xEnt.html'><span itemprop='name'>xEnt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-17T05:15:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:07:32Z' class='post-time'>
              July 31, 2016, 10:07am
            </time>
        <span itemprop='position'>#58</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>well 110 million players in 1 database, i doubt that.</p>
<p>wouldn‚Äôt be surprised if they had say 27 databases, and put each user in a different database depending on their characters first letter.</p>
<p>or something similar</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-17T05:55:23Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:07:43Z' class='post-time'>
              July 31, 2016, 10:07am
            </time>
        <span itemprop='position'>#59</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=‚ÄúxEnt, post:58, topic:292219‚Äù]well 110 million players in 1 database, i doubt that.</p>
<p>wouldn‚Äôt be surprised if they had say 27 databases, and put each user in a different database depending on their characters first letter.</p>
<p>or something similar[/quote]</p>
<p>They would have 4~ databases, 1~ for each loginserver. It would be faster if the databases were on the local network to the loginservers anyway, as opposed to some remote database connection.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Graham.html'><span itemprop='name'>Graham</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-08-20T16:17:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T10:13:55Z' class='post-time'>
              July 31, 2016, 10:13am
            </time>
        <span itemprop='position'>#60</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Some more recent updates: banking (swapping/inserting both work - not seen inserting done properly before, withdraw as note/normal, the enter amount works too - using the InterfaceState system). Added some more of the update masks, still got some more left.</p>
<p>Next things to do I guess are some basic skills or perhaps beginning on combat.</p>
      </div>

      <meta itemprop='headline' content='317 framework - &quot;Hyperion&quot;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="2922194658.html?page=2">‚Üê previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="292219fdb0.html?page=4">next page ‚Üí</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/317-framework-hyperion/292219?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:14 GMT -->
</html>
