<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/how-to-use-grahams-cycleevents/471443 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 12:33:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>How to use Grahams CycleEvents? - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hey!  

I&amp;#39;m looking into doing some stuff on my server differentlyand I hear they&amp;#39;re very good in use. Only one problem. I don&amp;#39;t really know anything about them! So if anyone could explain how they work, how to use them &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="471443.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;How to use Grahams CycleEvents?&#39;" href="471443.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/how-to-use-grahams-cycleevents/471443" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/how-to-use-grahams-cycleevents/471443" />
<meta property="og:title" content="How to use Grahams CycleEvents?" />
<meta name="twitter:title" content="How to use Grahams CycleEvents?" />
<meta property="og:description" content="Hey!  I’m looking into doing some stuff on my server differentlyand I hear they’re very good in use. Only one problem. I don’t really know anything about them! So if anyone could explain how they work, how to use them and how to implement them properly, that would be great! Thanks!  -RuneWings317" />
<meta name="twitter:description" content="Hey!  I’m looking into doing some stuff on my server differentlyand I hear they’re very good in use. Only one problem. I don’t really know anything about them! So if anyone could explain how they work, how to use them and how to implement them properly, that would be great! Thanks!  -RuneWings317" />
<meta property="article:published_time" content="2012-12-07T03:51:15+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="471443.html">How to use Grahams CycleEvents?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runewings317.html'><span itemprop='name'>runewings317</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-07T03:51:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:33:44Z' class='post-time'>
              August 4, 2016,  1:33am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey!</p>
<p>I’m looking into doing some stuff on my server differentlyand I hear they’re very good in use. Only one problem. I don’t really know anything about them! So if anyone could explain how they work, how to use them and how to implement them properly, that would be great! Thanks!</p>
<p>-RuneWings317</p>
      </div>

      <meta itemprop='headline' content='How to use Grahams CycleEvents?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lostmyphat.html'><span itemprop='name'>lostmyphat</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-07T03:53:06Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:33:44Z' class='post-time'>
              August 4, 2016,  1:33am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Depends are you using the task scheduler one or eventmanager</p>
      </div>

      <meta itemprop='headline' content='How to use Grahams CycleEvents?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/arham_4.html'><span itemprop='name'>arham_4</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-07T04:00:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:33:44Z' class='post-time'>
              August 4, 2016,  1:33am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Example:</p>
<p><code>CycleEventHandler.getSingleton().addEvent(this, new CycleEvent() {
        @Override
        public void execute(CycleEventContainer c) {
                Server.zombieCaves.spawnNextZombies((Client) Server.playerHandler.players[playerId]);
                c.stop();
        }
        @Override
                public void stop() {
                        // ANYTHING YOU WANT TO DO WHEN THE EVENT STOPS, YOU CAN
                        // LEAVE IT EMPTY
                }
}, 11);</code></p>
      </div>

      <meta itemprop='headline' content='How to use Grahams CycleEvents?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runewings317.html'><span itemprop='name'>runewings317</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-07T04:22:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:33:45Z' class='post-time'>
              August 4, 2016,  1:33am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lostmyphat, post:2, topic:471443”]Depends are you using the task scheduler one or eventmanager[/quote]I don’t even know… xD I have some classes called CycleEvents… I think they can potentially be used as timers? But I’m not sure… :I</p>
<p>CycleEvent.java:</p>
<p>[code]package server.event;</p>
<p>/**</p>
<ul>
<li>What the event must implement</li>
<li>
</li>
<li>
<span class="mention">@author</span> Stuart </li>
<li>
</li>
</ul>
<p>*/<br>
public abstract class CycleEvent {</p>
<pre><code>/**
 * Code which should be ran when the event is executed
 * 
 * @param container
 */
public abstract void execute(CycleEventContainer container);

/**
 * Code which should be ran when the event stops
 */
public abstract void stop();
</code></pre>
<p>}<br>
[/code]</p>
<p>CycleEventContainer</p>
<p>[code]package server.event;</p>
<p>/**</p>
<ul>
<li>The wrapper for our event</li>
<li>
</li>
<li>
<span class="mention">@author</span> Stuart </li>
<li>
</li>
</ul>
<p>*/</p>
<p>public class CycleEventContainer {</p>
<pre><code>/**
 * Event owner
 */
private Object owner;

/**
 * Is the event running or not
 */
private boolean isRunning;

/**
 * The amount of cycles per event execution
 */
private int tick;

/**
 * The actual event
 */
private CycleEvent event;

/**
 * The current amount of cycles passed
 */
private int cyclesPassed;

/**
 * Sets the event containers details
 * 
 * @param owner
 *            , the owner of the event
 * @param event
 *            , the actual event to run
 * @param tick
 *            , the cycles between execution of the event
 */
public CycleEventContainer(Object owner, CycleEvent event, int tick) {
	this.owner = owner;
	this.event = event;
	isRunning = true;
	cyclesPassed = 0;
	this.tick = tick;
}

/**
 * Execute the contents of the event
 */
public void execute() {
	event.execute(this);
}

/**
 * Stop the event from running
 */
public void stop() {
	isRunning = false;
	event.stop();
}

/**
 * Does the event need to be ran?
 * 
 * @return true yes false no
 */
public boolean needsExecution() {
	if (++cyclesPassed &gt;= tick) {
		cyclesPassed = 0;
		return true;
	}
	return false;
}

/**
 * Returns the owner of the event
 * 
 * @return
 */
public Object getOwner() {
	return owner;
}

/**
 * Is the event running?
 * 
 * @return true yes false no
 */
public boolean isRunning() {
	return isRunning;
}

/**
 * Set the amount of cycles between the execution
 * 
 * @param tick
 */
public void setTick(int tick) {
	this.tick = tick;
}
</code></pre>
<p>}[/code]</p>
<p>CycleEventHandler</p>
<p>[code]package server.event;</p>
<p>import java.util.ArrayList;<br>
import java.util.List;</p>
<p>/**</p>
<ul>
<li>Handles all of our cycle based events</li>
<li>
</li>
<li>
<span class="mention">@author</span> Stuart </li>
<li>
</li>
</ul>
<p>*/<br>
public class CycleEventHandler {</p>
<pre><code>/**
 * The instance of this class
 */
private static CycleEventHandler instance;

/**
 * Returns the instance of this class
 * 
 * @return
 */
public static CycleEventHandler getSingleton() {
	if (CycleEventHandler.instance == null) {
		CycleEventHandler.instance = new CycleEventHandler();
	}
	return CycleEventHandler.instance;
}

/**
 * Holds all of our events currently being ran
 */
private List&lt;CycleEventContainer&gt; events;

/**
 * Creates a new instance of this class
 */
public CycleEventHandler() {
	events = new ArrayList&lt;CycleEventContainer&gt;();
}

/**
 * Add an event to the list
 * 
 * @param owner
 * @param event
 * @param cycles
 */
public void addEvent(Object owner, CycleEvent event, int cycles) {
	events.add(new CycleEventContainer(owner, event, cycles));
}

/**
 * Execute and remove events
 */
public void process() {
	List&lt;CycleEventContainer&gt; eventsCopy = new ArrayList&lt;CycleEventContainer&gt;(events);
	List&lt;CycleEventContainer&gt; remove = new ArrayList&lt;CycleEventContainer&gt;();
	for (CycleEventContainer c : eventsCopy) {
		if (c != null) {
			if (c.needsExecution()) {
				c.execute();
			}
			if (!c.isRunning()) {
				remove.add(c);
			}
		}
	}
	for (CycleEventContainer c : remove) {
		events.remove(c);
	}
}

/**
 * Returns the amount of events currently running
 * 
 * @return amount
 */
public int getEventsCount() {
	return events.size();
}

/**
 * Stops all events which are being ran by the given owner
 * 
 * @param owner
 */
public void stopEvents(Object owner) {
	for (CycleEventContainer c : events) {
		if (c.getOwner() == owner) {
			c.stop();
		}
	}
}
</code></pre>
<p>}[/code]</p>
<p>[quote=“arham 4, post:3, topic:471443”]Example:</p>
<p><code>CycleEventHandler.getSingleton().addEvent(this, new CycleEvent() {
        @Override
        public void execute(CycleEventContainer c) {
                Server.zombieCaves.spawnNextZombies((Client) Server.playerHandler.players[playerId]);
                c.stop();
        }
        @Override
                public void stop() {
                        // ANYTHING YOU WANT TO DO WHEN THE EVENT STOPS, YOU CAN
                        // LEAVE IT EMPTY
                }
}, 11);</code>[/quote]I saw this example from something of asshole_rule but I’m not quite sure about the last part (where the 11 is).</p>
      </div>

      <meta itemprop='headline' content='How to use Grahams CycleEvents?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-07T05:25:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:33:47Z' class='post-time'>
              August 4, 2016,  1:33am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why would you use the CycleEvents over the Task scheduler? Grahams task scheduler is better because it uses ScheduledExecutorService that runs on its own thread to execute tasks, unlike this which is using the process method.</p>
      </div>

      <meta itemprop='headline' content='How to use Grahams CycleEvents?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/arham_4.html'><span itemprop='name'>arham_4</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-07T23:51:56Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:34:29Z' class='post-time'>
              August 4, 2016,  1:34am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>the ,11 is the cycles.</p>
<p>,11 = 11 cycles delay.</p>
      </div>

      <meta itemprop='headline' content='How to use Grahams CycleEvents?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/how-to-use-grahams-cycleevents/471443 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 12:33:23 GMT -->
</html>
