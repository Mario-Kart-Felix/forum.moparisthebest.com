<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[C++] Collision efficiency</title>
    <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154</link>
    <description>I&#39;m currently trying to add an efficient collision detection for my 2D &quot;RPG&quot;, using a library called &quot;Allegro&quot;.
My idea for movement was to declare two x and y variables, that increment and decrement depending on keystroke.
The image of the character you play as are set to the position of those x and y coordinates, so it technically moves around the image.

Currently, when I want to add collision to just a specific place, not just from a specific sprite. I&#39;d use a boolean such as:
[code]bool player::checkCollision(int a, int b, int c, int d){
	if(y &gt; a &amp;&amp; y &lt; b &amp;&amp; x &gt; c &amp;&amp; x &lt; d){
		return true;
	} else {
		return false;
	}
}[/code]

To utilize this boolean, I&#39;d do something along the lines of:
[code]void player::playerDialogue(BITMAP *buffer){
	
	/*NPC (Instructor)*/
	if(checkCollision(430, 480, 95, 145)){
		instructor(buffer);
	}
	////////////////////

	/* Gate Collision */
	if(checkCollision(0, 185, 770, 780)){
		gate(buffer);
	}
	
	if(checkCollision(0, 85, 650, 675)){
		x = 650;
	}

	if(checkCollision(105, 215, 650, 675)){
		x = 650;
	}
	/////////////////////
}[/code]

Does anybody have any suggestions?

EDIT: Fixed anything superfluous.
Also, Thank you all for your help, I have a successful collision detection function utilizing &quot;Axis Aligned Bounding Boxes&quot;.</description>
    
    <lastBuildDate>Tue, 14 Jun 2011 14:38:16 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@Jython super_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jython">@Jython</a> wrote:</p>
          <blockquote>
              <p>&lt;dx,dy&gt; is velocity</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/11</link>
        <pubDate>Tue, 14 Jun 2011 14:38:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-11</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@iKilem iKilem]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ikilem">@iKilem</a> wrote:</p>
          <blockquote>
              <p>If you look at the code, OP just wants a way to check if a tile is walkable or not.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/10</link>
        <pubDate>Tue, 14 Jun 2011 09:05:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-10</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@Mod_Adam Adam]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mod_adam">@Mod_Adam</a> wrote:</p>
          <blockquote>
              <p>[quote=“John459, post:7, topic:398154”][quote author=Davidi2 link=topic=495287.msg3625161#msg3625161 date=1307776074]<br>
pretty sure multiplying by -1 is still math!<br>
[/quote]</p>
<p>I hope you knew what I meant.[/quote]<br>
EDIT: I see what you’re saying, I was talking about the wrong thing, sorry. But you still need to know the angle of the object in order to redirect it. If the object moves at a constant angle, the path of the object will always be the same given a square or rectangle playing field. What I meant to say was, you should know the angle of the object within respect to the object that it will collide with.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/9</link>
        <pubDate>Tue, 14 Jun 2011 02:07:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-9</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@iKilem iKilem]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ikilem">@iKilem</a> wrote:</p>
          <blockquote>
              <p>This is tile-based, right? I would flag each tile in the tile set that is collidable, so, when the character tries to move to a different tile, check that tile whether it is collidable or not. This is much better than trying to hard-code all of the collidable spots.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/8</link>
        <pubDate>Sat, 11 Jun 2011 10:47:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-8</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@John459 John459]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/john459">@John459</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="6" data-topic="398154">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/user_avatar/forum.moparisthebest.com/davidi2/40/2579_1.png" class="avatar"> Davidi2:</div>
<blockquote>
<p>pretty sure multiplying by -1 is still math!</p>
</blockquote>
</aside>
<p>I hope you knew what I meant.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/7</link>
        <pubDate>Sat, 11 Jun 2011 07:48:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-7</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>pretty sure multiplying by -1 is still math!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/6</link>
        <pubDate>Sat, 11 Jun 2011 07:07:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-6</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@John459 John459]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/john459">@John459</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="4" data-topic="398154">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/adam/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Adam:</div>
<blockquote>
<p>For example, I created a Pong/Brick Breaker game for a course that I was taking. We had to know the angle that the ball hit the block in order to redirect the ball with the correct angle.</p>
</blockquote>
</aside>
<p>Anytime an object collides with a flat wall (the pong paddle) the new angle is just a reflection of the old one, no math involved.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/5</link>
        <pubDate>Sat, 11 Jun 2011 02:26:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-5</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@Mod_Adam Adam]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mod_adam">@Mod_Adam</a> wrote:</p>
          <blockquote>
              <p>Just a tip for writing code:</p>
<pre><code class="lang-auto"></code></pre>
<p>is the same as</p>
<pre><code class="lang-auto"></code></pre>
<p>Also, for collision detection, you need to take into count the shape and size of the sprites and possibly the location that the sprite collides. For example, I created a Pong/Brick Breaker game for a course that I was taking. We had to know the angle that the ball hit the block in order to redirect the ball with the correct angle. You should utilize the cmath library to make programming easier.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/4</link>
        <pubDate>Fri, 10 Jun 2011 04:06:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-4</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@WhyPlayLegit WhyPlayLegit]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/whyplaylegit">@WhyPlayLegit</a> wrote:</p>
          <blockquote>
              <p>You made perfect sense, and yeah, thanks for the advice.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/3</link>
        <pubDate>Tue, 07 Jun 2011 22:03:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-3</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@Fat_Cookies Fat Cookies]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fat_cookies">@Fat_Cookies</a> wrote:</p>
          <blockquote>
              <p>It’s not really to with collision, but I hope you are storing dy (delta y) and dx (delta x) variables. So at every given time you know what the change in x, and change in y of the entity is. Then on each keypress you change dx and/or dy to move the entity.</p>
<p>Since I probably made no sense here’s some psuedocode of what i mean:</p>
<pre><code class="lang-auto">	void mainLoop() {

		while(isRunning) {

			handleInput();
			handleMovement();
			handleCollisions();
			handleOtherLogic();
			render();
			
			sleep();
		}
	}

	void handleInput() {

		if(up) {
		dy = 10;

		} else if(down) {
		dy = -10;
		}

		if(left) {
		dx = -10;
		
		} else if(right) {
		dx = 10;
		}
	}

	void handleMovement() {

		playerX += dx;
		playerY += dy;

		/* do all the npc's movement */
	}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/2</link>
        <pubDate>Tue, 07 Jun 2011 10:28:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-2</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
      <item>
        <title>[C++] Collision efficiency</title>
        <dc:creator><![CDATA[@WhyPlayLegit WhyPlayLegit]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/whyplaylegit">@WhyPlayLegit</a> wrote:</p>
          <blockquote>
              <p>I’m currently trying to add an efficient collision detection for my 2D “RPG”, using a library called “Allegro”.<br>
My idea for movement was to declare two x and y variables, that increment and decrement depending on keystroke.<br>
The image of the character you play as are set to the position of those x and y coordinates, so it technically moves around the image.</p>
<p>Currently, when I want to add collision to just a specific place, not just from a specific sprite. I’d use a boolean such as:</p>
<p><code>bool player::checkCollision(int a, int b, int c, int d){
	if(y &gt; a &amp;&amp; y &lt; b &amp;&amp; x &gt; c &amp;&amp; x &lt; d){
		return true;
	} else {
		return false;
	}
}</code></p>
<p>To utilize this boolean, I’d do something along the lines of:</p>
<p>[code]void player::playerDialogue(BITMAP *buffer){</p>
<pre><code>/*NPC (Instructor)*/
if(checkCollision(430, 480, 95, 145)){
	instructor(buffer);
}
////////////////////

/* Gate Collision */
if(checkCollision(0, 185, 770, 780)){
	gate(buffer);
}

if(checkCollision(0, 85, 650, 675)){
	x = 650;
}

if(checkCollision(105, 215, 650, 675)){
	x = 650;
}
/////////////////////
</code></pre>
<p>}[/code]</p>
<p>Does anybody have any suggestions?</p>
<p>EDIT: Fixed anything superfluous.<br>
Also, Thank you all for your help, I have a successful collision detection function utilizing “Axis Aligned Bounding Boxes”.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/c-collision-efficiency/398154/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/c-collision-efficiency/398154/1</link>
        <pubDate>Tue, 07 Jun 2011 00:12:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398154-1</guid>
        <source url="https://forum.moparisthebest.com/t/c-collision-efficiency/398154.rss">[C++] Collision efficiency</source>
      </item>
  </channel>
</rss>
