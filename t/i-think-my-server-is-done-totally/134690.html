<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Aug 2019 08:53:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>I think my server is done, totally - Runescape - moparisthebest.com</title>
    <meta name="description" content="Alright, please, I&amp;#39;m in desperate need of help here. I added PKing to my server, and a few variables and stuff, and now, well, this happens, with both PvE (NPC Combat) AND PKing. I don&amp;#39;t understand the problem, but I&amp;#39;ve &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="134690.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;I think my server is done, totally&#39;" href="134690.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690" />
<meta property="og:title" content="I think my server is done, totally" />
<meta name="twitter:title" content="I think my server is done, totally" />
<meta property="og:description" content="Alright, please, I’m in desperate need of help here. I added PKing to my server, and a few variables and stuff, and now, well, this happens, with both PvE (NPC Combat) AND PKing. I don’t understand the problem, but I’ve figured out where everything just seems to break.  Please, someone, ANYONE, offer some advise or suggestion. I’ve worked for weeks on this, and my latest backup, well, yeah, I guess it’ll teach me a lesson, but I’d rather figure out what I did wrong rather then erase everything a..." />
<meta name="twitter:description" content="Alright, please, I’m in desperate need of help here. I added PKing to my server, and a few variables and stuff, and now, well, this happens, with both PvE (NPC Combat) AND PKing. I don’t understand the problem, but I’ve figured out where everything just seems to break.  Please, someone, ANYONE, offer some advise or suggestion. I’ve worked for weeks on this, and my latest backup, well, yeah, I guess it’ll teach me a lesson, but I’d rather figure out what I did wrong rather then erase everything a..." />
<meta property="article:published_time" content="2007-08-18T10:18:34+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="134690.html">I think my server is done, totally</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Archbishop.html'><span itemprop='name'>Archbishop</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-18T10:18:34Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:46:55Z' class='post-time'>
              July 30, 2016,  1:46pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alright, please, I’m in desperate need of help here. I added PKing to my server, and a few variables and stuff, and now, well, this happens, with both PvE (NPC Combat) AND PKing. I don’t understand the problem, but I’ve figured out where everything just seems to break.</p>
<p>Please, someone, ANYONE, offer some advise or suggestion. I’ve worked for weeks on this, and my latest backup, well, yeah, I guess it’ll teach me a lesson, but I’d rather figure out what I did wrong rather then erase everything and start all over.</p>
<p>Here’s the stuff</p>
<p>Error: Error packet size mismatch in getplayer pos: 60 psize:58<br>
Error: T2 - (A Ton of Numbers, request and I’ll post them all.)</p>
<p>Here’s the code that causes the client to disconnect, Im guessing the problem is related.</p>
<p>[code=java]		int numBytesInBuffer, offset;<br>
while(!disconnected) {<br>
synchronized(this) {<br>
if(writePtr == readPtr) {<br>
try {<br>
wait();<br>
} catch(java.lang.InterruptedException _ex) { }<br>
}</p>
<pre><code>			if(disconnected) return;

			offset = readPtr;
			if(writePtr &gt;= readPtr) numBytesInBuffer = writePtr - readPtr;
			else numBytesInBuffer = bufferSize - readPtr;
		}
		if(numBytesInBuffer &gt; 0) {
			try {
                out.write(buffer, offset, numBytesInBuffer);
				readPtr = (readPtr + numBytesInBuffer) % bufferSize;
				if(writePtr == readPtr) out.flush();
			} catch(java.lang.Exception __ex) {
				System.out.println("AHAH5");
				disconnected = true;
			}
        }
	}
}[/code]
</code></pre>
<p>The AHAH5 part runs unfortunately, meaning that java.lag.Exception __ex is running. I have no idea what that is unfortunately. Please, help =([br][size=1]Posted on: August 16, 2007, 09:11:50 PM[/size][hr]Oh my lord, 33 views and not a single post. Surely SOMEONE can help me with this rediculous problem?![br][size=1]Posted on: August 17, 2007, 12:32:48 PM[/size][hr]Ragh, HELP &gt;=|</p>
      </div>

      <meta itemprop='headline' content='I think my server is done, totally'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bakatool.html'><span itemprop='name'>bakatool</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-18T11:34:41Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:47:02Z' class='post-time'>
              July 30, 2016,  1:47pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>that code is just a loop that processes packets 1 by 1…<br>
one packet you write to client (moparscape client) is wrong size<br>
your sending a packet that corrupts the packet flow in client…<br>
seems like a problem with  method called  createFrame…</p>
<p>edit:</p>
<p>I see you tired debugging which is cool but you should use</p>
<p>__ex.printStackTrace();   to print a better report of the error im guessing it would say SEND failed… or something since connection to moparscape client is already killed because of a malformed packet sent to moparscape client.</p>
<p>In other words the packet is bigger in size then it acutally is.</p>
      </div>

      <meta itemprop='headline' content='I think my server is done, totally'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Archbishop.html'><span itemprop='name'>Archbishop</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-18T11:52:35Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:47:03Z' class='post-time'>
              July 30, 2016,  1:47pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alright, thanks for the help. Here’s what I believe to be this file report. Or maybe it’s just something I haven’t seen before.</p>
<p>java.net.SocketException: Software caused connection abore: socket write error<br>
at java.net.SocketOutputStream.socketWrite0(native method)<br>
at java.net.SocketOutputStream.socketWrite(Unknown Source)<br>
at java.net.SocketOutputStream.write(unknown source)<br>
at client.run(client.java 8587)<br>
at java.lang.Thread.run(Uknown Source)</p>
<p>Howeverr, how did you know that create frame was the problem?<br>
I mean, I see no reference to it anywhere, but perhaps I’m just blind.<br>
Appreciate the help though.</p>
      </div>

      <meta itemprop='headline' content='I think my server is done, totally'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/O_M_G1.html'><span itemprop='name'>O_M_G1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-18T11:54:44Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:47:03Z' class='post-time'>
              July 30, 2016,  1:47pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Take a look at line 8587 in your client file.</p>
      </div>

      <meta itemprop='headline' content='I think my server is done, totally'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Archbishop.html'><span itemprop='name'>Archbishop</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-18T12:02:20Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:47:04Z' class='post-time'>
              July 30, 2016,  1:47pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>out.write(buffer, offset, numBytesInBuffer);</p>
<p>Is the line you speak of.</p>
<p>(The next 2 lines of text is merely a guess by me, as I’m not entirely sure what out.write(buffer, offset, numBytesInBugger) actually does or is. =( )</p>
<p>Now the problem is, say packet what, 60 is being screwed up? And the size of packet 60 is 58?</p>
<p>How do I figured out what is being sent, and how do I either change the size to the appropriate value?</p>
      </div>

      <meta itemprop='headline' content='I think my server is done, totally'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/O_M_G1.html'><span itemprop='name'>O_M_G1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-18T12:07:47Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:47:04Z' class='post-time'>
              July 30, 2016,  1:47pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>out.write seems rather obvious, it should be giving you the error when you run the server.</p>
      </div>

      <meta itemprop='headline' content='I think my server is done, totally'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Archbishop.html'><span itemprop='name'>Archbishop</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-18T12:58:41Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:47:08Z' class='post-time'>
              July 30, 2016,  1:47pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well yeah, that’s not the problem. The problem is I have no idea where out.write is located, probably somewhere in java.lang, and I doubt that I would recognize the method if I saw it. The problem really is, what on earth in my client.java could be causing this error?</p>
<p>EDIT: Made more clear</p>
<p>What variable / variables / methods are causing the packet size that is sent to be corrupt? If anyone has any ideas, send me a PM AND post in this topic.</p>
      </div>

      <meta itemprop='headline' content='I think my server is done, totally'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Aug 2019 08:53:21 GMT -->
</html>
