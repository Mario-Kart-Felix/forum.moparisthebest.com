<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>I think my server is done, totally</title>
    <link>https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690</link>
    <description>Alright, please, I&#39;m in desperate need of help here. I added PKing to my server, and a few variables and stuff, and now, well, this happens, with both PvE (NPC Combat) AND PKing. I don&#39;t understand the problem, but I&#39;ve figured out where everything just seems to break.

Please, someone, ANYONE, offer some advise or suggestion. I&#39;ve worked for weeks on this, and my latest backup, well, yeah, I guess it&#39;ll teach me a lesson, but I&#39;d rather figure out what I did wrong rather then erase everything and start all over.

Here&#39;s the stuff

Error: Error packet size mismatch in getplayer pos: 60 psize:58
Error: T2 - (A Ton of Numbers, request and I&#39;ll post them all.)

Here&#39;s the code that causes the client to disconnect, Im guessing the problem is related.

[code=java]		int numBytesInBuffer, offset;
		while(!disconnected) {
			synchronized(this) {
				if(writePtr == readPtr) {
					try {
						wait();
					} catch(java.lang.InterruptedException _ex) { }
				}

				if(disconnected) return;

				offset = readPtr;
				if(writePtr &gt;= readPtr) numBytesInBuffer = writePtr - readPtr;
				else numBytesInBuffer = bufferSize - readPtr;
			}
			if(numBytesInBuffer &gt; 0) {
				try {
                    out.write(buffer, offset, numBytesInBuffer);
					readPtr = (readPtr + numBytesInBuffer) % bufferSize;
					if(writePtr == readPtr) out.flush();
				} catch(java.lang.Exception __ex) {
					System.out.println(&quot;AHAH5&quot;);
					disconnected = true;
				}
            }
		}
	}[/code]

The AHAH5 part runs unfortunately, meaning that java.lag.Exception __ex is running. I have no idea what that is unfortunately. Please, help =([br][size=1]Posted on: August 16, 2007, 09:11:50 PM[/size][hr]Oh my lord, 33 views and not a single post. Surely SOMEONE can help me with this rediculous problem?![br][size=1]Posted on: August 17, 2007, 12:32:48 PM[/size][hr]Ragh, HELP &gt;=|</description>
    
    <lastBuildDate>Sat, 18 Aug 2007 12:58:41 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>I think my server is done, totally</title>
        <dc:creator><![CDATA[@Archbishop Archbishop]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/archbishop">@Archbishop</a> wrote:</p>
          <blockquote>
              <p>Well yeah, that’s not the problem. The problem is I have no idea where out.write is located, probably somewhere in java.lang, and I doubt that I would recognize the method if I saw it. The problem really is, what on earth in my client.java could be causing this error?</p>
<p>EDIT: Made more clear</p>
<p>What variable / variables / methods are causing the packet size that is sent to be corrupt? If anyone has any ideas, send me a PM AND post in this topic.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/7</link>
        <pubDate>Sat, 18 Aug 2007 12:58:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-134690-7</guid>
        <source url="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690.rss">I think my server is done, totally</source>
      </item>
      <item>
        <title>I think my server is done, totally</title>
        <dc:creator><![CDATA[@O_M_G1 O M G]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/o_m_g1">@O_M_G1</a> wrote:</p>
          <blockquote>
              <p>out.write seems rather obvious, it should be giving you the error when you run the server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/6</link>
        <pubDate>Sat, 18 Aug 2007 12:07:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-134690-6</guid>
        <source url="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690.rss">I think my server is done, totally</source>
      </item>
      <item>
        <title>I think my server is done, totally</title>
        <dc:creator><![CDATA[@Archbishop Archbishop]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/archbishop">@Archbishop</a> wrote:</p>
          <blockquote>
              <p>out.write(buffer, offset, numBytesInBuffer);</p>
<p>Is the line you speak of.</p>
<p>(The next 2 lines of text is merely a guess by me, as I’m not entirely sure what out.write(buffer, offset, numBytesInBugger) actually does or is. =( )</p>
<p>Now the problem is, say packet what, 60 is being screwed up? And the size of packet 60 is 58?</p>
<p>How do I figured out what is being sent, and how do I either change the size to the appropriate value?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/5</link>
        <pubDate>Sat, 18 Aug 2007 12:02:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-134690-5</guid>
        <source url="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690.rss">I think my server is done, totally</source>
      </item>
      <item>
        <title>I think my server is done, totally</title>
        <dc:creator><![CDATA[@O_M_G1 O M G]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/o_m_g1">@O_M_G1</a> wrote:</p>
          <blockquote>
              <p>Take a look at line 8587 in your client file.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/4</link>
        <pubDate>Sat, 18 Aug 2007 11:54:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-134690-4</guid>
        <source url="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690.rss">I think my server is done, totally</source>
      </item>
      <item>
        <title>I think my server is done, totally</title>
        <dc:creator><![CDATA[@Archbishop Archbishop]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/archbishop">@Archbishop</a> wrote:</p>
          <blockquote>
              <p>Alright, thanks for the help. Here’s what I believe to be this file report. Or maybe it’s just something I haven’t seen before.</p>
<p>java.net.SocketException: Software caused connection abore: socket write error<br>
at java.net.SocketOutputStream.socketWrite0(native method)<br>
at java.net.SocketOutputStream.socketWrite(Unknown Source)<br>
at java.net.SocketOutputStream.write(unknown source)<br>
at client.run(client.java 8587)<br>
at java.lang.Thread.run(Uknown Source)</p>
<p>Howeverr, how did you know that create frame was the problem?<br>
I mean, I see no reference to it anywhere, but perhaps I’m just blind.<br>
Appreciate the help though.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/3</link>
        <pubDate>Sat, 18 Aug 2007 11:52:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-134690-3</guid>
        <source url="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690.rss">I think my server is done, totally</source>
      </item>
      <item>
        <title>I think my server is done, totally</title>
        <dc:creator><![CDATA[@bakatool bakatool]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bakatool">@bakatool</a> wrote:</p>
          <blockquote>
              <p>that code is just a loop that processes packets 1 by 1…<br>
one packet you write to client (moparscape client) is wrong size<br>
your sending a packet that corrupts the packet flow in client…<br>
seems like a problem with  method called  createFrame…</p>
<p>edit:</p>
<p>I see you tired debugging which is cool but you should use</p>
<p>__ex.printStackTrace();   to print a better report of the error im guessing it would say SEND failed… or something since connection to moparscape client is already killed because of a malformed packet sent to moparscape client.</p>
<p>In other words the packet is bigger in size then it acutally is.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/2</link>
        <pubDate>Sat, 18 Aug 2007 11:34:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-134690-2</guid>
        <source url="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690.rss">I think my server is done, totally</source>
      </item>
      <item>
        <title>I think my server is done, totally</title>
        <dc:creator><![CDATA[@Archbishop Archbishop]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/archbishop">@Archbishop</a> wrote:</p>
          <blockquote>
              <p>Alright, please, I’m in desperate need of help here. I added PKing to my server, and a few variables and stuff, and now, well, this happens, with both PvE (NPC Combat) AND PKing. I don’t understand the problem, but I’ve figured out where everything just seems to break.</p>
<p>Please, someone, ANYONE, offer some advise or suggestion. I’ve worked for weeks on this, and my latest backup, well, yeah, I guess it’ll teach me a lesson, but I’d rather figure out what I did wrong rather then erase everything and start all over.</p>
<p>Here’s the stuff</p>
<p>Error: Error packet size mismatch in getplayer pos: 60 psize:58<br>
Error: T2 - (A Ton of Numbers, request and I’ll post them all.)</p>
<p>Here’s the code that causes the client to disconnect, Im guessing the problem is related.</p>
<p>[code=java]		int numBytesInBuffer, offset;<br>
while(!disconnected) {<br>
synchronized(this) {<br>
if(writePtr == readPtr) {<br>
try {<br>
wait();<br>
} catch(java.lang.InterruptedException _ex) { }<br>
}</p>
<pre><code>			if(disconnected) return;

			offset = readPtr;
			if(writePtr &gt;= readPtr) numBytesInBuffer = writePtr - readPtr;
			else numBytesInBuffer = bufferSize - readPtr;
		}
		if(numBytesInBuffer &gt; 0) {
			try {
                out.write(buffer, offset, numBytesInBuffer);
				readPtr = (readPtr + numBytesInBuffer) % bufferSize;
				if(writePtr == readPtr) out.flush();
			} catch(java.lang.Exception __ex) {
				System.out.println("AHAH5");
				disconnected = true;
			}
        }
	}
}[/code]
</code></pre>
<p>The AHAH5 part runs unfortunately, meaning that java.lag.Exception __ex is running. I have no idea what that is unfortunately. Please, help =([br][size=1]Posted on: August 16, 2007, 09:11:50 PM[/size][hr]Oh my lord, 33 views and not a single post. Surely SOMEONE can help me with this rediculous problem?![br][size=1]Posted on: August 17, 2007, 12:32:48 PM[/size][hr]Ragh, HELP &gt;=|</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690/1</link>
        <pubDate>Sat, 18 Aug 2007 10:18:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-134690-1</guid>
        <source url="https://forum.moparisthebest.com/t/i-think-my-server-is-done-totally/134690.rss">I think my server is done, totally</source>
      </item>
  </channel>
</rss>
