<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Please help me! I&#39;m Desperate! :|</title>
    <link>https://forum.moparisthebest.com/t/please-help-me-im-desperate/219035</link>
    <description>Hi, euhm, i have this problem, wich makes it so that i cant trade.

My exact error is: (listed in my server window)

java.lang.ArrayIndexOutOfBoundsException: -96
 at client.parseIncomingPackets(client.java:12312)            (yes i know this is the line where the error is)
 at client.packetProcess(client.java:11257)                      (yes same story..)
 at client.process(client.java:11227)
 at Playerhandler.process(PlayerHandler.java:136)
 at server.main(server.java:45)

My codes at the given places in the files:

[code]
			case 17: //second Click npc
				NPCSlot = ((misc.HexToInt(inStream.buffer, 0, packetSize) / 1000) - 128);
				NPCID = server.npcHandler.npcs[NPCSlot].npcType; !!THIS IS THE 12312!!
				FishingGo = false;
				PutNPCCoords = false;

---------------------------------------------------------------------------------------------------------

	private boolean packetProcess() {
		if(disconnected) return false;
		try {
			if(timeOutCounter++ &gt; 20) {
				actionReset();
				disconnected = true;
				return false;  }
	
			if(in == null) return false;

			int avail = in.available();
			if(avail == 0) return false;
			if(packetType == -1) {
				packetType = in.read() &amp; 0xff;
				if(inStreamDecryption != null)
					packetType = packetType - inStreamDecryption.getNextKey() &amp; 0xff;
				packetSize = packetSizes[packetType];
				avail--;  }
			if(packetSize == -1) {
				if(avail &gt; 0) {
					packetSize = in.read() &amp; 0xff;
					avail--; }
				else return false; }
			if(avail &lt; packetSize) return false;
			fillInStream(packetSize);
            timeOutCounter = 0;

			parseIncomingPackets();	!!THIS IS THE 11257!!
			packetType = -1;
		} catch(java.lang.Exception __ex) {	__ex.printStackTrace();  disconnected = true;
	}
		return true;
	}

---------------------------------------------------------------------------------------------------------

		if (globalMessage.length() &gt; 0) {
			sendMessage(globalMessage);
			globalMessage = &quot;&quot;;
		}
		return packetProcess();  !!THIS IS THE 11227!!
	}

---------------------------------------------------------------------------------------------------------

			while(players[i].process()); !!ONLY LINE!!

---------------------------------------------------------------------------------------------------------

			playerHandler.process();		!!ONLY LINE!![/code]

Well, ofcourse the !!ONLY LINE!! stuff isnt in my files, just put it in to make it clear.
SO... Can anyone help me or see WHAT THE FUCK is wrong? my players are leaving or getting pissed off so please help me :|</description>
    
    <lastBuildDate>Thu, 10 Jul 2008 23:37:35 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/please-help-me-im-desperate/219035.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Please help me! I&#39;m Desperate! :|</title>
        <dc:creator><![CDATA[@swodlayer swodlayer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/swodlayer">@swodlayer</a> wrote:</p>
          <blockquote>
              <p>Hi, euhm, i have this problem, wich makes it so that i cant trade.</p>
<p>My exact error is: (listed in my server window)</p>
<p>java.lang.ArrayIndexOutOfBoundsException: -96<br>
at client.parseIncomingPackets(client.java:12312)            (yes i know this is the line where the error is)<br>
at client.packetProcess(client.java:11257)                      (yes same story…)<br>
at client.process(client.java:11227)<br>
at Playerhandler.process(PlayerHandler.java:136)<br>
at server.main(server.java:45)</p>
<p>My codes at the given places in the files:</p>
<p>[code]<br>
case 17: //second Click npc<br>
NPCSlot = ((misc.HexToInt(inStream.buffer, 0, packetSize) / 1000) - 128);<br>
NPCID = server.npcHandler.npcs[NPCSlot].npcType; !!THIS IS THE 12312!!<br>
FishingGo = false;<br>
PutNPCCoords = false;</p>
<hr>
<pre><code>private boolean packetProcess() {
	if(disconnected) return false;
	try {
		if(timeOutCounter++ &gt; 20) {
			actionReset();
			disconnected = true;
			return false;  }

		if(in == null) return false;

		int avail = in.available();
		if(avail == 0) return false;
		if(packetType == -1) {
			packetType = in.read() &amp; 0xff;
			if(inStreamDecryption != null)
				packetType = packetType - inStreamDecryption.getNextKey() &amp; 0xff;
			packetSize = packetSizes[packetType];
			avail--;  }
		if(packetSize == -1) {
			if(avail &gt; 0) {
				packetSize = in.read() &amp; 0xff;
				avail--; }
			else return false; }
		if(avail &lt; packetSize) return false;
		fillInStream(packetSize);
        timeOutCounter = 0;

		parseIncomingPackets();	!!THIS IS THE 11257!!
		packetType = -1;
	} catch(java.lang.Exception __ex) {	__ex.printStackTrace();  disconnected = true;
}
	return true;
}
</code></pre>
<hr>
<pre><code>	if (globalMessage.length() &gt; 0) {
		sendMessage(globalMessage);
		globalMessage = "";
	}
	return packetProcess();  !!THIS IS THE 11227!!
}
</code></pre>
<hr>
<pre><code>		while(players[i].process()); !!ONLY LINE!!
</code></pre>
<hr>
<pre><code>		playerHandler.process();		!!ONLY LINE!![/code]
</code></pre>
<p>Well, ofcourse the !!ONLY LINE!! stuff isnt in my files, just put it in to make it clear.<br>
SO… Can anyone help me or see WHAT THE FUCK is wrong? my players are leaving or getting pissed off so please help me <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=6" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/please-help-me-im-desperate/219035/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/please-help-me-im-desperate/219035/1</link>
        <pubDate>Thu, 10 Jul 2008 23:37:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-219035-1</guid>
        <source url="https://forum.moparisthebest.com/t/please-help-me-im-desperate/219035.rss">Please help me! I&#39;m Desperate! :|</source>
      </item>
  </channel>
</rss>
