<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[pi]assault points wont save[pi]</title>
    <link>https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923</link>
    <description>I converted mage points into assault points but they wont save and in character files it shows this
[code]
assault-Point1
[/code]
all my codes for it are below


Action handler
[code]
			case 904:
				c.sendMessage(&quot;You have &quot; + c.assaultPoints + &quot; points.&quot;);
			break;
[/code]
Npc Handler
[code]
	public boolean rareDrops(int i) {
		return Misc.random(NPCDrops.dropRarity.get(npcs[i].npcType)) == 0;
	}
	
	
	public void dropItems(int i) {
		int npc = 0;
		//long start = System.currentTimeMillis();
		Client c = (Client)Server.playerHandler.players[npcs[i].killedBy];
		if(c != null) {
			if (npcs[i].npcType == 253)
				c.assaultPoints += 1;
			if (NPCDrops.constantDrops.get(npcs[i].npcType) != null) {
				for (int item : NPCDrops.constantDrops.get(npcs[i].npcType)) {
					Server.itemHandler.createGroundItem(c, item, npcs[i].absX, npcs[i].absY, 1, c.playerId);
[/code]
Player
[code]
	assaultPoints = 0,
[/code]
player save
[code]
					} else if (token.equals(&quot;assaultPoints&quot;)) {
						p.assaultPoints = Integer.parseInt(token2);
[/code]
player save again
[code]
			characterfile.newLine();
			characterfile.write(&quot;assault-Points = &quot;, 0, 13);
			characterfile.write(Integer.toString(p.assaultPoints), 0, Integer.toString(p.assaultPoints).length());
[/code]

K my problem is when ever i talk to the shop person (first code the case) i can kill lets say 5 of the npcs and it will say and i can go talk to him and he will say five but i cant buy items from the shop even if its zero or 5, but then when i log out it will say 
[code]
assault-Point5
[/code] 
like the very first code but i can kill 1 npc log out and it will say
[code]
assault-Point1
[/code]
after i log out so like wtf?</description>
    
    <lastBuildDate>Thu, 16 Jun 2011 19:58:22 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[pi]assault points wont save[pi]</title>
        <dc:creator><![CDATA[@Rickrolla Rickrolla]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/rickrolla">@Rickrolla</a> wrote:</p>
          <blockquote>
              <p>Change assaultPoints = 0 to assaultPoints,<br>
In player.java</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923/5</link>
        <pubDate>Thu, 16 Jun 2011 19:58:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-369923-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923.rss">[pi]assault points wont save[pi]</source>
      </item>
      <item>
        <title>[pi]assault points wont save[pi]</title>
        <dc:creator><![CDATA[@supernovarsps supernovarsps]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/supernovarsps">@supernovarsps</a> wrote:</p>
          <blockquote>
              <p>is that how the shop code will be set up? And it doesnt save to account it resets. Like i can get 10 kills log out and log back in talk to guy will say i have zero i look char account will say 10 but i can kill 5 and log out log back in and he will say i have zero. Then i can look at char acct and he will only have 5 points.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923/4</link>
        <pubDate>Tue, 23 Nov 2010 04:38:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-369923-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923.rss">[pi]assault points wont save[pi]</source>
      </item>
      <item>
        <title>[pi]assault points wont save[pi]</title>
        <dc:creator><![CDATA[@supernovarsps supernovarsps]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/supernovarsps">@supernovarsps</a> wrote:</p>
          <blockquote>
              <p>How will the code be set up<br>
like this?</p>
<pre><code class="lang-auto">			 if (c.myShopId == 17) {
				if (c.assaultPoints &gt;= getSpecialItemValue(itemID)) {
					if (c.getItems().freeSlots() &gt; 0){
						c.assaultPoints -= getSpecialItemValue(itemID);
						c.getItems().addItem(itemID,1);
						c.getItems().resetItems(3823);
					}
				} else {
					c.sendMessage("You do not have enough points to buy this item.");		

	
				}

			}
		}</code></pre>
<p>and do you know how to fix the save?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923/3</link>
        <pubDate>Tue, 23 Nov 2010 04:21:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-369923-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923.rss">[pi]assault points wont save[pi]</source>
      </item>
      <item>
        <title>[pi]assault points wont save[pi]</title>
        <dc:creator><![CDATA[@supernovarsps supernovarsps]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/supernovarsps">@supernovarsps</a> wrote:</p>
          <blockquote>
              <p>it still doesnt save and players cant buy from shop</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923/2</link>
        <pubDate>Tue, 23 Nov 2010 03:53:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-369923-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923.rss">[pi]assault points wont save[pi]</source>
      </item>
      <item>
        <title>[pi]assault points wont save[pi]</title>
        <dc:creator><![CDATA[@supernovarsps supernovarsps]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/supernovarsps">@supernovarsps</a> wrote:</p>
          <blockquote>
              <p>I converted mage points into assault points but they wont save and in character files it shows this</p>
<pre><code class="lang-auto">assault-Point1</code></pre>
<p>all my codes for it are below</p>
<p>Action handler</p>
<pre><code class="lang-auto">			case 904:
				c.sendMessage("You have " + c.assaultPoints + " points.");
			break;</code></pre>
<p>Npc Handler</p>
<pre><code class="lang-auto">	public boolean rareDrops(int i) {
		return Misc.random(NPCDrops.dropRarity.get(npcs[i].npcType)) == 0;
	}
	
	
	public void dropItems(int i) {
		int npc = 0;
		//long start = System.currentTimeMillis();
		Client c = (Client)Server.playerHandler.players[npcs[i].killedBy];
		if(c != null) {
			if (npcs[i].npcType == 253)
				c.assaultPoints += 1;
			if (NPCDrops.constantDrops.get(npcs[i].npcType) != null) {
				for (int item : NPCDrops.constantDrops.get(npcs[i].npcType)) {
					Server.itemHandler.createGroundItem(c, item, npcs[i].absX, npcs[i].absY, 1, c.playerId);</code></pre>
<p>Player</p>
<pre><code class="lang-auto">	assaultPoints = 0,</code></pre>
<p>player save</p>
<pre><code class="lang-auto">					} else if (token.equals("assaultPoints")) {
						p.assaultPoints = Integer.parseInt(token2);</code></pre>
<p>player save again</p>
<pre><code class="lang-auto">			characterfile.newLine();
			characterfile.write("assault-Points = ", 0, 13);
			characterfile.write(Integer.toString(p.assaultPoints), 0, Integer.toString(p.assaultPoints).length());</code></pre>
<p>K my problem is when ever i talk to the shop person (first code the case) i can kill lets say 5 of the npcs and it will say and i can go talk to him and he will say five but i cant buy items from the shop even if its zero or 5, but then when i log out it will say</p>
<pre><code class="lang-auto">assault-Point5</code></pre>
<p>like the very first code but i can kill 1 npc log out and it will say</p>
<pre><code class="lang-auto">assault-Point1</code></pre>
<p>after i log out so like wtf?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923/1</link>
        <pubDate>Tue, 23 Nov 2010 01:20:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-369923-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-assault-points-wont-save-pi/369923.rss">[pi]assault points wont save[pi]</source>
      </item>
  </channel>
</rss>
