<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Summoning Bug with Shards [HELP]</title>
    <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595</link>
    <description>  

each time my players try to do summoning and they have like 200 shards with other supplies to summon like charms and things, it erases all the shards and does the pouch. the bug is that it erases all the shards, no matter how much you got. so if it asks to have 8 shards and you have like 100 in your enventory, it wont delete 8, it will delete the all 100. here&#39;s my summoning class. can you tell me what you changed in it for the bug? so i can learn.


http://pastebin.com/jE3fKp6S
(was too long to post)thanks.</description>
    
    <lastBuildDate>Mon, 01 Aug 2011 04:36:11 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@Mental_Piracy Mental Piracy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mental_piracy">@Mental_Piracy</a> wrote:</p>
          <blockquote>
              <p>Nope just gives in wild atm. You just need to add  your || inFunPk() to the if statement</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/21</link>
        <pubDate>Mon, 01 Aug 2011 04:36:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-21</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@ShuffleScape ShuffleScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shufflescape">@ShuffleScape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Mental Piracy, post:19, topic:407595”][quote author=ShuffleScape link=topic=508872.msg3691918#msg3691918 date=1312172090]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>try replacing deleteItem with deleteItem2</p>
</blockquote>
</aside>
<p>you sure it will work? :S<br>
I will give it a try. Please, reply here to I can say if it worked or not.</p>
</blockquote>
</aside>
<p>It should work, if not we will fix it lol</p>
</blockquote>
</aside>
<p>yeah it worked! thank you so much.</p>
<p>also, I tried getting pk points from a boss in multi zone when dieing on it and i dont get a pk points, but i didnt try in killing someone in wildy. you think killing in wildy will work?</p>
<p>thanks<br>
[/quote]<br>
Well it should ONLY work in the wild when killing someone, if you want it to work any other time you have to add parameters for that[/quote]</p>
<p>so it wont give pk points in fun pk anymore right? because thats what i wanted too.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/20</link>
        <pubDate>Mon, 01 Aug 2011 04:31:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-20</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@Mental_Piracy Mental Piracy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mental_piracy">@Mental_Piracy</a> wrote:</p>
          <blockquote>
              <p>[quote=“ShuffleScape, post:18, topic:407595”][quote author=Mental Piracy link=topic=508872.msg3691888#msg3691888 date=1312170971]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>try replacing deleteItem with deleteItem2</p>
</blockquote>
</aside>
<p>you sure it will work? :S<br>
I will give it a try. Please, reply here to I can say if it worked or not.</p>
</blockquote>
</aside>
<p>It should work, if not we will fix it lol<br>
[/quote]</p>
<p>yeah it worked! thank you so much.</p>
<p>also, I tried getting pk points from a boss in multi zone when dieing on it and i dont get a pk points, but i didnt try in killing someone in wildy. you think killing in wildy will work?</p>
<p>thanks[/quote]<br>
Well it should ONLY work in the wild when killing someone, if you want it to work any other time you have to add parameters for that</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/19</link>
        <pubDate>Mon, 01 Aug 2011 04:27:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-19</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@ShuffleScape ShuffleScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shufflescape">@ShuffleScape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Mental Piracy, post:17, topic:407595”][quote author=ShuffleScape link=topic=508872.msg3691874#msg3691874 date=1312170581]</p>
<aside class="quote">
<blockquote>
<p>try replacing deleteItem with deleteItem2</p>
</blockquote>
</aside>
<p>you sure it will work? :S<br>
I will give it a try. Please, reply here to I can say if it worked or not.<br>
[/quote]<br>
It should work, if not we will fix it lol[/quote]</p>
<p>yeah it worked! thank you so much.</p>
<p>also, I tried getting pk points from a boss in multi zone when dieing on it and i dont get a pk points, but i didnt try in killing someone in wildy. you think killing in wildy will work?</p>
<p>thanks</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/18</link>
        <pubDate>Mon, 01 Aug 2011 04:14:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-18</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@Mental_Piracy Mental Piracy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mental_piracy">@Mental_Piracy</a> wrote:</p>
          <blockquote>
              <p>[quote=“ShuffleScape, post:16, topic:407595”][quote author=Mental Piracy link=topic=508872.msg3691863#msg3691863 date=1312170157]<br>
try replacing deleteItem with deleteItem2<br>
[/quote]</p>
<p>you sure it will work? :S<br>
I will give it a try. Please, reply here to I can say if it worked or not.[/quote]<br>
It should work, if not we will fix it lol</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/17</link>
        <pubDate>Mon, 01 Aug 2011 03:56:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-17</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@ShuffleScape ShuffleScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shufflescape">@ShuffleScape</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="15" data-topic="407595">
<div class="title">
<div class="quote-controls"></div>
 Mental Piracy:</div>
<blockquote>
<p>try replacing deleteItem with deleteItem2</p>
</blockquote>
</aside>
<p>you sure it will work? :S<br>
I will give it a try. Please, reply here to I can say if it worked or not.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/16</link>
        <pubDate>Mon, 01 Aug 2011 03:49:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-16</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@Mental_Piracy Mental Piracy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mental_piracy">@Mental_Piracy</a> wrote:</p>
          <blockquote>
              <p>try replacing deleteItem with deleteItem2</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/15</link>
        <pubDate>Mon, 01 Aug 2011 03:42:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-15</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@ShuffleScape ShuffleScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shufflescape">@ShuffleScape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Mental Piracy, post:13, topic:407595”][quote author=ShuffleScape link=topic=508872.msg3691848#msg3691848 date=1312169420]</p>
<aside class="quote">
<blockquote>
<p>Oh my bad, i thought it was calling the player object and not the Id.</p>
<p>Change to if(c.killerId &gt; 0) {, should work then</p>
</blockquote>
</aside>
<p>alright thanks.</p>
<p>and can you help me with another bug that i cant figure out? I’d appreciate it very much. <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>each time my players try to do summoning and they have like 200 shards with other supplies to summon like charms and things, it erases all the shards and does the pouch. the bug is that it erases all the shards, no matter how much you got. so if it asks to have 8 shards and you have like 100 in your enventory, it wont delete 8, it will delete the all 100. here’s my summoning class. can you tell me what you changed in it for the bug? so i can learn.</p>
<p><a href="http://pastebin.com/jE3fKp6S" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/jE3fKp6S</a><br>
(was too long to post)thanks.<br>
[/quote]<br>
Post your deleteItem method.[/quote]</p>
<p>found in ItemAssistant class, i have these 3 methods:</p>
<p>[code]public void deleteItem(int id, int amount) {<br>
if(id &lt;= 0)<br>
return;<br>
for (int j = 0; j &lt; c.playerItems.length; j++) {<br>
if (amount &lt;= 0)<br>
break;<br>
if (c.playerItems[j] == id+1) {<br>
c.playerItems[j] = 0;<br>
c.playerItemsN[j] = 0;<br>
amount–;			<br>
}	<br>
}<br>
updateInventory = true;<br>
//resetItems(3214);<br>
}</p>
<pre><code>public void deleteItem(int id, int slot, int amount) {
	if(id &lt;= 0 || slot &lt; 0) {
		return;
	}
	if (c.playerItems[slot] == (id+1)) {
		if (c.playerItemsN[slot] &gt; amount) {
			c.playerItemsN[slot] -= amount;
		} else {
			c.playerItemsN[slot] = 0;
			c.playerItems[slot] = 0;
		}
		updateInventory = true;
		//resetItems(3214);
	}
}
public void deleteItem2(int id, int amount)	{
	int am = amount;
	for (int i = 0; i &lt; c.playerItems.length; i++) {
		if (am == 0) {
			break;
		}
		if (c.playerItems[i] == (id+1))	{
			if (c.playerItemsN[i] &gt; amount)	{
				c.playerItemsN[i] -= amount;
				break;
			}
			else {
				c.playerItems[i] = 0;
				c.playerItemsN[i] = 0;
				am--;
			}
		}
	}
	updateInventory = true;
	//resetItems(3214);
}
[/code]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/14</link>
        <pubDate>Mon, 01 Aug 2011 03:40:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-14</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@Mental_Piracy Mental Piracy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mental_piracy">@Mental_Piracy</a> wrote:</p>
          <blockquote>
              <p>[quote=“ShuffleScape, post:12, topic:407595”][quote author=Mental Piracy link=topic=508872.msg3691836#msg3691836 date=1312168925]<br>
Oh my bad, i thought it was calling the player object and not the Id.</p>
<p>Change to if(c.killerId &gt; 0) {, should work then<br>
[/quote]</p>
<p>alright thanks.</p>
<p>and can you help me with another bug that i cant figure out? I’d appreciate it very much. <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>each time my players try to do summoning and they have like 200 shards with other supplies to summon like charms and things, it erases all the shards and does the pouch. the bug is that it erases all the shards, no matter how much you got. so if it asks to have 8 shards and you have like 100 in your enventory, it wont delete 8, it will delete the all 100. here’s my summoning class. can you tell me what you changed in it for the bug? so i can learn.</p>
<p><a href="http://pastebin.com/jE3fKp6S" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/jE3fKp6S</a><br>
(was too long to post)thanks.[/quote]<br>
Post your deleteItem method.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/13</link>
        <pubDate>Mon, 01 Aug 2011 03:35:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-13</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@ShuffleScape ShuffleScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shufflescape">@ShuffleScape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Mental Piracy, post:11, topic:407595”]Oh my bad, i thought it was calling the player object and not the Id.</p>
<p>Change to if(c.killerId &gt; 0) {, should work then[/quote]</p>
<p>alright thanks.</p>
<p>and can you help me with another bug that i cant figure out? I’d appreciate it very much. <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>each time my players try to do summoning and they have like 200 shards with other supplies to summon like charms and things, it erases all the shards and does the pouch. the bug is that it erases all the shards, no matter how much you got. so if it asks to have 8 shards and you have like 100 in your enventory, it wont delete 8, it will delete the all 100. here’s my summoning class. can you tell me what you changed in it for the bug? so i can learn.</p>
<p><a href="http://pastebin.com/jE3fKp6S" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/jE3fKp6S</a><br>
(was too long to post)thanks.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/12</link>
        <pubDate>Mon, 01 Aug 2011 03:30:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-12</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@Mental_Piracy Mental Piracy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mental_piracy">@Mental_Piracy</a> wrote:</p>
          <blockquote>
              <p>Oh my bad, i thought it was calling the player object and not the Id.</p>
<p>Change to if(c.killerId &gt; 0) {, should work then</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/11</link>
        <pubDate>Mon, 01 Aug 2011 03:22:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-11</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@ShuffleScape ShuffleScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shufflescape">@ShuffleScape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Mental Piracy, post:9, topic:407595”]For the love of god… he made a simple error and you are pasting entire classes to fix it</p>
<p>if (c.killerId != c.playerId)</p>
<p>that line is whats messing it up, basically you are telling it to give points as long as the killerId and playerId are not equal, so whenever someone dies it just checks that the killer is not the player, then adds points.</p>
<p>Also why would you have if(c.inWild(), and then !c.inMulti() &amp;&amp; !c.inWild() in the same method… so much redundancy in that line<br>
replace that whole bit about your giving pk points:</p>
<p><code>                if (c.killerId != c.playerId)               
                o.sendMessage("You have defeated "+Misc.optimizeText(c.playerName)+"!");
                                if(c.inWild() &amp;&amp; o.npcIndex &gt; 1 &amp;&amp; c.wildLevel &gt; 0 || !c.isInArd() || !c.isInFala() || !c.isInPbox() || !c.inFunPk() || !c.inMulti() &amp;&amp; !c.inWild()){
                                        o.pkPoints += 1;
                                        o.sendMessage("You have received 1 PK Point.");
                                }</code><br>
with this:</p>
<p><code>
                                if(c.inWild() &amp;&amp; c.wildLevel &gt; 0){
                                        if(c.killerId != null){
                                                if(c.killerId != c.playerId) {
                                                        o.sendMessage("You have defeated "+Misc.optimizeText(c.playerName)+"!");
                                                        o.pkPoints += 1;
                                                        o.sendMessage("You have received 1 PK Point.");
                                                }
                                        }
                                }</code><br>
In the last method, it checks that the players are in the wild BEFORE checking if the player ids are different, also adding in the if(c.killerId != null) { makes sure that its not an npc that killed the player. If the player is in the wild, there is a killer, and the killer is not the player, then it adds the points[/quote]</p>
<p>thanks for that, but I get an error when compiling now:</p>
<p><code>src\server\model\players\PlayerAssistant.java:1314: incomparable types: int and
&lt;nulltype&gt;
                                        if(c.killerId != null){
                                                      ^
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
1 error
Press any key to continue . . .</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/10</link>
        <pubDate>Mon, 01 Aug 2011 03:19:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-10</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@Mental_Piracy Mental Piracy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mental_piracy">@Mental_Piracy</a> wrote:</p>
          <blockquote>
              <p>For the love of god… he made a simple error and you are pasting entire classes to fix it</p>
<p>if (c.killerId != c.playerId)</p>
<p>that line is whats messing it up, basically you are telling it to give points as long as the killerId and playerId are not equal, so whenever someone dies it just checks that the killer is not the player, then adds points.</p>
<p>Also why would you have if(c.inWild(), and then !c.inMulti() &amp;&amp; !c.inWild() in the same method… so much redundancy in that line<br>
replace that whole bit about your giving pk points:</p>
<p><code>                if (c.killerId != c.playerId)               
                o.sendMessage("You have defeated "+Misc.optimizeText(c.playerName)+"!");
                                if(c.inWild() &amp;&amp; o.npcIndex &gt; 1 &amp;&amp; c.wildLevel &gt; 0 || !c.isInArd() || !c.isInFala() || !c.isInPbox() || !c.inFunPk() || !c.inMulti() &amp;&amp; !c.inWild()){
                                        o.pkPoints += 1;
                                        o.sendMessage("You have received 1 PK Point.");
                                }</code><br>
with this:</p>
<p><code>
                                if(c.inWild() &amp;&amp; c.wildLevel &gt; 0){
                                        if(c.killerId != null){
                                                if(c.killerId != c.playerId) {
                                                        o.sendMessage("You have defeated "+Misc.optimizeText(c.playerName)+"!");
                                                        o.pkPoints += 1;
                                                        o.sendMessage("You have received 1 PK Point.");
                                                }
                                        }
                                }</code><br>
In the last method, it checks that the players are in the wild BEFORE checking if the player ids are different, also adding in the if(c.killerId != null) { makes sure that its not an npc that killed the player. If the player is in the wild, there is a killer, and the killer is not the player, then it adds the points</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/9</link>
        <pubDate>Mon, 01 Aug 2011 03:08:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-9</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>[quote=“ShuffleScape, post:7, topic:407595”][quote author=imsuperman05 link=topic=508872.msg3691798#msg3691798 date=1312166935]<br>
No just replace mine with yours or edit it.<br>
[/quote]</p>
<p>you sure it will work and fix it?[/quote]<br>
Idk i haven’t tested it ;o</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/8</link>
        <pubDate>Mon, 01 Aug 2011 02:52:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-8</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@ShuffleScape ShuffleScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shufflescape">@ShuffleScape</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="6" data-topic="407595">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/imsuperman05/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> imsuperman05:</div>
<blockquote>
<p>No just replace mine with yours or edit it.</p>
</blockquote>
</aside>
<p>you sure it will work and fix it?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/7</link>
        <pubDate>Mon, 01 Aug 2011 02:50:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-7</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>No just replace mine with yours or edit it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/6</link>
        <pubDate>Mon, 01 Aug 2011 02:48:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-6</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@ShuffleScape ShuffleScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shufflescape">@ShuffleScape</a> wrote:</p>
          <blockquote>
              <p>[quote=“imsuperman05, post:4, topic:407595”]This was on rune - server, but I couldn’t find it so w.e here.</p>
<p>PlayerKilling.java</p>
<p>[code=java]package server.model.players;</p>
<p>/**</p>
<ul>
<li>
<p><span class="mention">@author</span> Core</p>
</li>
<li>
<p>Handles adding and removing hosts to the players array list.<br>
*/<br>
public class PlayerKilling {</p>
<p>private Client c;</p>
<p>/**</p>
<ul>
<li>Constructor class<br>
*/</li>
</ul>
<p>public PlayerKilling(Client Client) {<br>
this.c = Client;<br>
}<br>
/**</p>
<ul>
<li>Adds the host of the killed player.<br>
*<a class="mention" href="/u/param">@param</a> client Player that saves the host.<br>
*<a class="mention" href="/u/param">@param</a> host	Host address of the killed player.<br>
*<a class="mention" href="/u/return">@return</a> True if the host is added to the players array.<br>
*/</li>
</ul>
<p>public static boolean addHostToList(Client client, String host) {<br>
if(client != null) {<br>
return client.lastKilledPlayers.add(host);<br>
}<br>
return false;<br>
}</p>
<p>/**</p>
<ul>
<li>Checks if the host is already on the players array.</li>
<li>
<a class="mention" href="/u/param">@param</a> client Player that is adding the killed players host.</li>
<li>
<a class="mention" href="/u/param">@param</a> host Host address of the killed player.</li>
<li>
<a class="mention" href="/u/return">@return</a> True if the host is on the players array.<br>
*/</li>
</ul>
<p>public static boolean hostOnList(Client client, String host) {<br>
if(client != null) {<br>
if(client.lastKilledPlayers.lastIndexOf(host) &gt;= KILL_WAIT_MAX) {<br>
removeHostFromList(client, host);<br>
return false;<br>
}<br>
return client.lastKilledPlayers.contains(host);<br>
}<br>
return false;<br>
}</p>
<p>/**</p>
<ul>
<li>Removes the host from the players array.</li>
<li>
<a class="mention" href="/u/param">@param</a> client Player that is removing the host.</li>
<li>
<a class="mention" href="/u/param">@param</a> host Host that is being removed.</li>
<li>
<a class="mention" href="/u/return">@return</a> True if host is successfully removed.<br>
*/</li>
</ul>
<p>public static boolean removeHostFromList(Client client, String host) {<br>
if(client != null) {<br>
return client.lastKilledPlayers.remove(host);<br>
}<br>
return false;<br>
}</p>
<p>/*</p>
<ul>
<li>Amount of kills you have to wait before the host is deleted.<br>
*/</li>
</ul>
<p>public static final int KILL_WAIT_MAX = 3;</p>
</li>
</ul>
<p>}[/code]</p>
<p>and use this for the applydead() method.</p>
<p><code>		if(!PlayerKilling.hostOnList(o, c.connectedFrom)) {
				PlayerKilling.addHostToList(o, c.connectedFrom);
					o.pcPoints += 5;
					o.sendMessage("&lt;col=255&gt;You have received 5 points,");</code></p>
<p>Not mine, so do not flame ------&gt;Extreme-X&lt;------[/quote]</p>
<p>alright and i need to remove some things in my current applyDead method right? like the part that gives pkpoints?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/5</link>
        <pubDate>Mon, 01 Aug 2011 02:46:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>This was on rune - server, but I couldn’t find it so w.e here.</p>
<p>PlayerKilling.java</p>
<p>[code=java]package server.model.players;</p>
<p>/**</p>
<ul>
<li>
<p><span class="mention">@author</span> Core</p>
</li>
<li>
<p>Handles adding and removing hosts to the players array list.<br>
*/<br>
public class PlayerKilling {</p>
<p>private Client c;</p>
<p>/**</p>
<ul>
<li>Constructor class<br>
*/</li>
</ul>
<p>public PlayerKilling(Client Client) {<br>
this.c = Client;<br>
}<br>
/**</p>
<ul>
<li>Adds the host of the killed player.<br>
*<a class="mention" href="/u/param">@param</a> client Player that saves the host.<br>
*<a class="mention" href="/u/param">@param</a> host	Host address of the killed player.<br>
*<a class="mention" href="/u/return">@return</a> True if the host is added to the players array.<br>
*/</li>
</ul>
<p>public static boolean addHostToList(Client client, String host) {<br>
if(client != null) {<br>
return client.lastKilledPlayers.add(host);<br>
}<br>
return false;<br>
}</p>
<p>/**</p>
<ul>
<li>Checks if the host is already on the players array.</li>
<li>
<a class="mention" href="/u/param">@param</a> client Player that is adding the killed players host.</li>
<li>
<a class="mention" href="/u/param">@param</a> host Host address of the killed player.</li>
<li>
<a class="mention" href="/u/return">@return</a> True if the host is on the players array.<br>
*/</li>
</ul>
<p>public static boolean hostOnList(Client client, String host) {<br>
if(client != null) {<br>
if(client.lastKilledPlayers.lastIndexOf(host) &gt;= KILL_WAIT_MAX) {<br>
removeHostFromList(client, host);<br>
return false;<br>
}<br>
return client.lastKilledPlayers.contains(host);<br>
}<br>
return false;<br>
}</p>
<p>/**</p>
<ul>
<li>Removes the host from the players array.</li>
<li>
<a class="mention" href="/u/param">@param</a> client Player that is removing the host.</li>
<li>
<a class="mention" href="/u/param">@param</a> host Host that is being removed.</li>
<li>
<a class="mention" href="/u/return">@return</a> True if host is successfully removed.<br>
*/</li>
</ul>
<p>public static boolean removeHostFromList(Client client, String host) {<br>
if(client != null) {<br>
return client.lastKilledPlayers.remove(host);<br>
}<br>
return false;<br>
}</p>
<p>/*</p>
<ul>
<li>Amount of kills you have to wait before the host is deleted.<br>
*/</li>
</ul>
<p>public static final int KILL_WAIT_MAX = 3;</p>
</li>
</ul>
<p>}[/code]</p>
<p>and use this for the applydead() method.</p>
<p><code>		if(!PlayerKilling.hostOnList(o, c.connectedFrom)) {
				PlayerKilling.addHostToList(o, c.connectedFrom);
					o.pcPoints += 5;
					o.sendMessage("&lt;col=255&gt;You have received 5 points,");</code></p>
<p>Not mine, so do not flame ------&gt;Extreme-X&lt;------</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/4</link>
        <pubDate>Mon, 01 Aug 2011 02:42:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@ShuffleScape ShuffleScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shufflescape">@ShuffleScape</a> wrote:</p>
          <blockquote>
              <p>no they dont. please dont spam if you cant help <img src="https://forum.moparisthebest.com/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/3</link>
        <pubDate>Mon, 01 Aug 2011 02:38:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@Mutant138 Mutant138]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mutant138">@Mutant138</a> wrote:</p>
          <blockquote>
              <p>you npc’s get pk points ! D:</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/2</link>
        <pubDate>Mon, 01 Aug 2011 02:28:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
      <item>
        <title>[PI] Summoning Bug with Shards [HELP]</title>
        <dc:creator><![CDATA[@ShuffleScape ShuffleScape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/shufflescape">@ShuffleScape</a> wrote:</p>
          <blockquote>
              <p>each time my players try to do summoning and they have like 200 shards with other supplies to summon like charms and things, it erases all the shards and does the pouch. the bug is that it erases all the shards, no matter how much you got. so if it asks to have 8 shards and you have like 100 in your enventory, it wont delete 8, it will delete the all 100. here’s my summoning class. can you tell me what you changed in it for the bug? so i can learn.</p>
<p><a href="http://pastebin.com/jE3fKp6S" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/jE3fKp6S</a><br>
(was too long to post)thanks.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595/1</link>
        <pubDate>Mon, 01 Aug 2011 02:24:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-407595-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-summoning-bug-with-shards-help/407595.rss">[PI] Summoning Bug with Shards [HELP]</source>
      </item>
  </channel>
</rss>
