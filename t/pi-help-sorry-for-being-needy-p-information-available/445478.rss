<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Pi] Help (sorry for being needy :P) [Information Available]</title>
    <link>https://forum.moparisthebest.com/t/pi-help-sorry-for-being-needy-p-information-available/445478</link>
    <description>So I&#39;m adding collapsing rocks to my castle wars, and I followed a tutorial but it still didn&#39;t work, I have no errors but it just doesn&#39;t work. I added this in my CastleWars.java

[code]	private static final int[][] COLLAPSE_ROCKS = { // collapsing rocks coords
		{2399, 2402, 9511, 9514}, // north X Y coords sara  0
		{2390, 2393, 9500, 9503}, // east X Y coords sara   1
		{2400, 2403, 9493, 9496},  // south X Y coords zammy 2
		{2408, 2411, 9502, 9505}   // west X Y coords zammy  3
	};
	public static void collapseCave(int cave) {
		Iterator&lt;Client&gt; iterator = gameRoom.keySet().iterator();
		while (iterator.hasNext()) {
			Client teamPlayer = (Client) iterator.next();
				if ((teamPlayer.absX &gt; COLLAPSE_ROCKS[cave][0] &amp;&amp; teamPlayer.absX &lt; COLLAPSE_ROCKS[cave][1]) &amp;&amp; (teamPlayer.absY &gt; COLLAPSE_ROCKS[cave][2] &amp;&amp; teamPlayer.absY &lt; COLLAPSE_ROCKS[cave][3])) {
					int dmg = teamPlayer.playerLevel[3];
					teamPlayer.handleHitMask(dmg);
					teamPlayer.dealDamage(99);
				}
		}
	}[/code]

and then I added this in my objectmanager.java

[code]
	public void changeObject(int id, int x, int y, int height) {
		for (Object o : objects) {
			if(o.objectX == x &amp;&amp; o.objectY == y &amp;&amp; o.height == height) {
				o.objectId = id;
				o.newId = id;
				placeObject(o);
			}
		}
	}
[/code]

and lastly, I added this into my UseItem.java

[code]		case 4437:
			if (itemId == 4045) {
					Server.objectManager.changeObject(4438, objectX, objectY, c.heightLevel);
			}
			break;
		case 4438:
			if (itemId == 4045) {
				Server.objectManager.changeObject(-1, objectX, objectY, c.heightLevel);
			}
			break;
		case 4448:
			if (itemId == 4045) {
				if ((objectX == 2390 || objectX == 2393) &amp;&amp; (objectY == 9503 || objectY == 9500)) { // east cave side
					Server.objectManager.changeObject(4437, 2391, 9501, c.heightLevel);
					CastleWars.collapseCave(1);
				}
			}
		break;[/code]

and I added that into my ItemonObject() method. So does anybody know what else I need to do or what I did wrong?</description>
    
    <lastBuildDate>Sun, 17 Jun 2012 04:14:12 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-help-sorry-for-being-needy-p-information-available/445478.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Pi] Help (sorry for being needy :P) [Information Available]</title>
        <dc:creator><![CDATA[@Mental_Piracy Mental Piracy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mental_piracy">@Mental_Piracy</a> wrote:</p>
          <blockquote>
              <p>A little fuzzy on the PI setup, but there should be a class called clickObject or objectClickable, something referring to object interaction. I do believe the useItem class deals exclusively with the packet that handles inventory item usage.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-help-sorry-for-being-needy-p-information-available/445478/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-help-sorry-for-being-needy-p-information-available/445478/2</link>
        <pubDate>Sun, 17 Jun 2012 04:14:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445478-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-help-sorry-for-being-needy-p-information-available/445478.rss">[Pi] Help (sorry for being needy :P) [Information Available]</source>
      </item>
      <item>
        <title>[Pi] Help (sorry for being needy :P) [Information Available]</title>
        <dc:creator><![CDATA[@b00mz1029 b00mz1029]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/b00mz1029">@b00mz1029</a> wrote:</p>
          <blockquote>
              <p>So I’m adding collapsing rocks to my castle wars, and I followed a tutorial but it still didn’t work, I have no errors but it just doesn’t work. I added this in my CastleWars.java</p>
<p><code>	private static final int[][] COLLAPSE_ROCKS = { // collapsing rocks coords
		{2399, 2402, 9511, 9514}, // north X Y coords sara  0
		{2390, 2393, 9500, 9503}, // east X Y coords sara   1
		{2400, 2403, 9493, 9496},  // south X Y coords zammy 2
		{2408, 2411, 9502, 9505}   // west X Y coords zammy  3
	};
	public static void collapseCave(int cave) {
		Iterator&lt;Client&gt; iterator = gameRoom.keySet().iterator();
		while (iterator.hasNext()) {
			Client teamPlayer = (Client) iterator.next();
				if ((teamPlayer.absX &gt; COLLAPSE_ROCKS[cave][0] &amp;&amp; teamPlayer.absX &lt; COLLAPSE_ROCKS[cave][1]) &amp;&amp; (teamPlayer.absY &gt; COLLAPSE_ROCKS[cave][2] &amp;&amp; teamPlayer.absY &lt; COLLAPSE_ROCKS[cave][3])) {
					int dmg = teamPlayer.playerLevel[3];
					teamPlayer.handleHitMask(dmg);
					teamPlayer.dealDamage(99);
				}
		}
	}</code></p>
<p>and then I added this in my objectmanager.java</p>
<pre><code class="lang-auto">	public void changeObject(int id, int x, int y, int height) {
		for (Object o : objects) {
			if(o.objectX == x &amp;&amp; o.objectY == y &amp;&amp; o.height == height) {
				o.objectId = id;
				o.newId = id;
				placeObject(o);
			}
		}
	}</code></pre>
<p>and lastly, I added this into my UseItem.java</p>
<p><code>		case 4437:
			if (itemId == 4045) {
					Server.objectManager.changeObject(4438, objectX, objectY, c.heightLevel);
			}
			break;
		case 4438:
			if (itemId == 4045) {
				Server.objectManager.changeObject(-1, objectX, objectY, c.heightLevel);
			}
			break;
		case 4448:
			if (itemId == 4045) {
				if ((objectX == 2390 || objectX == 2393) &amp;&amp; (objectY == 9503 || objectY == 9500)) { // east cave side
					Server.objectManager.changeObject(4437, 2391, 9501, c.heightLevel);
					CastleWars.collapseCave(1);
				}
			}
		break;</code></p>
<p>and I added that into my ItemonObject() method. So does anybody know what else I need to do or what I did wrong?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-help-sorry-for-being-needy-p-information-available/445478/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-help-sorry-for-being-needy-p-information-available/445478/1</link>
        <pubDate>Sun, 17 Jun 2012 01:21:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445478-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-help-sorry-for-being-needy-p-information-available/445478.rss">[Pi] Help (sorry for being needy :P) [Information Available]</source>
      </item>
  </channel>
</rss>
