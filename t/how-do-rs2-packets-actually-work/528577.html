<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/how-do-rs2-packets-actually-work/528577 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 15:24:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>How do RS2 packets actually work? - Runescape - moparisthebest.com</title>
    <meta name="description" content="The only thing I&amp;#39;ve never really been able to grasp (even after trying) is how the RS2 packet system works. I know how to use sockets and I know basic networking but I&amp;#39;ve never understood how to put data into a stream an&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="528577.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;How do RS2 packets actually work?&#39;" href="528577.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/how-do-rs2-packets-actually-work/528577" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/how-do-rs2-packets-actually-work/528577" />
<meta property="og:title" content="How do RS2 packets actually work?" />
<meta name="twitter:title" content="How do RS2 packets actually work?" />
<meta property="og:description" content="The only thing I’ve never really been able to grasp (even after trying) is how the RS2 packet system works. I know how to use sockets and I know basic networking but I’ve never understood how to put data into a stream and send it so that the RS2 client can interpret it.  Can someone sum up how it works or give me some links to documentation on actually constructing and sending packets?" />
<meta name="twitter:description" content="The only thing I’ve never really been able to grasp (even after trying) is how the RS2 packet system works. I know how to use sockets and I know basic networking but I’ve never understood how to put data into a stream and send it so that the RS2 client can interpret it.  Can someone sum up how it works or give me some links to documentation on actually constructing and sending packets?" />
<meta property="article:published_time" content="2013-08-21T09:10:15+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="528577.html">How do RS2 packets actually work?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-08-21T09:10:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:15:41Z' class='post-time'>
              August 4, 2016, 10:15am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The only thing I’ve never really been able to grasp (even after trying) is how the RS2 packet system works. I know how to use sockets and I know basic networking but I’ve never understood how to put data into a stream and send it so that the RS2 client can interpret it.</p>
<p>Can someone sum up how it works or give me some links to documentation on actually constructing and sending packets?</p>
      </div>

      <meta itemprop='headline' content='How do RS2 packets actually work?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Yesteryear.html'><span itemprop='name'>Yesteryear</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-08-21T09:48:22Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:15:42Z' class='post-time'>
              August 4, 2016, 10:15am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>A standard packet exists of:</p>
<p>[ul][li]Packet opcode - (the packet number)[/li]<br>
[li]Packet body - (also called buffer, payload w/e)[/li][/ul]</p>
<p>The client reads the first byte that is the packet opcode. This opcode is encrypted with the ISAAC algorithm server sided, and decrypted again in the client. From here the client reads a known amount of bytes. For example to send an interface to open client sided, you send 3 bytes. 1 byte is the opcode, 2 bytes (one short) represents the interface id.</p>
<p>To write and read data to/from streams just use the write() and read() methods in the streams/buffers.</p>
<p>[code=java]<br>
// writing to streams<br>
DataOutputStream out = …;<br>
out.write(opcode);<br>
out.writeShort(interfaceId);<br>
// etc</p>
<p>// to read from streams<br>
DataInputStream in = …;<br>
opcode = in.read();<br>
interfaceId = in.readShort();[/code]</p>
<p>To get the underlying streams from a socket, use the:</p>
<pre><code class="lang-auto">socket.getInputStream();
socket.getOutputStream();</code></pre>
<p>methods.</p>
      </div>

      <meta itemprop='headline' content='How do RS2 packets actually work?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-08-21T10:46:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:15:44Z' class='post-time'>
              August 4, 2016, 10:15am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Is it that simple? How do you signify the end of a packet?</p>
      </div>

      <meta itemprop='headline' content='How do RS2 packets actually work?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Yesteryear.html'><span itemprop='name'>Yesteryear</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-08-21T11:13:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:15:44Z' class='post-time'>
              August 4, 2016, 10:15am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="3" data-topic="528577">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ambokile/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ambokile:</div>
<blockquote>
<p>Is it that simple? How do you signify the end of a packet?</p>
</blockquote>
</aside>
<p>There are three types of packets. The fixed-size packets, these packets have a fixed size obviously. And two types of variable-size packets. The client knows which packets are fixed sized and which not. The packets that are variable-sized you append another byte or short after the opcode byte(depending on the opcode. Hence there are two types of variable-sized packets).</p>
<p>In all these cases the client only needs to read either a fixed amount of bytes, that is already known, or a variable amount of bytes that you, the server, have send. So there’s no need for a end code or anything. The client reads the needed bytes and processes it, and waits for a new packet to read.</p>
      </div>

      <meta itemprop='headline' content='How do RS2 packets actually work?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-08-21T11:20:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:15:44Z' class='post-time'>
              August 4, 2016, 10:15am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I see! Thanks for the help <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='How do RS2 packets actually work?'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/how-do-rs2-packets-actually-work/528577 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 15:24:31 GMT -->
</html>
