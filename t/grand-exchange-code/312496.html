<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/grand-exchange-code/312496 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 05:55:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Grand exchange [code] - Runescape - moparisthebest.com</title>
    <meta name="description" content="[size=15pt]DIFFICULTY: 1/10[/size] 

really, all you need is to copy and paste rofl 

 import java.util.List;
import java.util.ArrayList;
import (server name no brackets).players.Player;
import servername.players.items.P&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="312496.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Grand exchange [code]&#39;" href="312496.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/grand-exchange-code/312496" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/grand-exchange-code/312496" />
<meta property="og:title" content="Grand exchange [code]" />
<meta name="twitter:title" content="Grand exchange [code]" />
<meta property="og:description" content="[size=15pt]DIFFICULTY: 1/10[/size]  really, all you need is to copy and paste rofl  [code]import java.util.List;  import java.util.ArrayList;  import (server name no brackets).players.Player;  import servername.players.items.PlayerItems;  import servername.util.Misc;  import servername.Server;  import servername.Engine;  import servername.world.geList;  public class GrandExchange {  public static List&lt;Offer&gt; offerList = new ArrayList&lt;Offer&gt;(2000); 	 public Player p;   public int itemId = -1;  pu..." />
<meta name="twitter:description" content="[size=15pt]DIFFICULTY: 1/10[/size]  really, all you need is to copy and paste rofl  [code]import java.util.List;  import java.util.ArrayList;  import (server name no brackets).players.Player;  import servername.players.items.PlayerItems;  import servername.util.Misc;  import servername.Server;  import servername.Engine;  import servername.world.geList;  public class GrandExchange {  public static List&lt;Offer&gt; offerList = new ArrayList&lt;Offer&gt;(2000); 	 public Player p;   public int itemId = -1;  pu..." />
<meta property="article:published_time" content="2009-11-04T22:52:13+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="312496.html">Grand exchange [code]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ytpingas.html'><span itemprop='name'>ytpingas</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-04T22:52:13Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:18:02Z' class='post-time'>
              July 31, 2016, 12:18pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[size=15pt]DIFFICULTY: 1/10[/size]</p>
<p><span class="bbcode-s">really, all you need is to copy and paste rofl</span></p>
<p>[code]import java.util.List;<br>
import java.util.ArrayList;<br>
import (server name no brackets).players.Player;<br>
import servername.players.items.PlayerItems;<br>
import servername.util.Misc;<br>
import servername.Server;<br>
import servername.Engine;<br>
import servername.world.geList;</p>
<p>public class GrandExchange {</p>
<pre><code>public static List&lt;Offer&gt; offerList = new ArrayList&lt;Offer&gt;(2000);
	
public Player p;
 
public int itemId = -1;

public int minPrice = 0;
public int basicPrice = 0;
public int maxPrice = 0;

public int itemPrice = 0;
public int itemAmount = 0;

public int offerType = -1;

public PlayerItems PlayerItems = new PlayerItems();

public static int i = -1;


public GrandExchange(Player p) {
    this.p = p;
}

public void openMainInterface() {
	p.frames.setConfig2(p, 563, 4194304);
	p.frames.setConfig(p, 1112, -1);
	p.frames.setConfig(p, 1113, -1);
	p.frames.setConfig(p, 1109, -1);
	p.frames.setConfig(p, 1110, 0);
	p.frames.setConfig(p, 1111, 1);
	p.frames.showInterface(p, 105);
	p.frames.setItems(p, -1, -1327, 93, new int[] {}, new int[] {});
	p.frames.restoreTabs(p);
	p.frames.restoreInventory(p);
	p.frames.setInterfaceConfig(p, 107, 0, true);
	p.frames.setInterfaceConfig(p, 105, 0, false);
	p.frames.setAccessMask(p, 6, 0, 105, -1, -1);
		}

public void handleButtons(int buttonId) {
	switch(buttonId) {
		case 30:
			setBuySetup(0);
		break;
		case 31:
			setSellSetup(0);
		break;
		case 46:
			setBuySetup(1);
		break;
		case 47:
			setSellSetup(1);
		break;
		case 62:
		    setBuySetup(2);
		    break;
		case 63:
		    setSellSetup(2);
		    break;
		case 81:
		    setBuySetup(3);
		    break;
		case 82:
		    setSellSetup(3);
		    break;
		case 100:
		    setBuySetup(4);
		    break;
		case 101:
		    setSellSetup(4);
		    break;
		case 119:
		    setBuySetup(5);
		    break;
		case 120:
		    setSellSetup(5);
		    break;
		case 127:
			openMainInterface();
		break;
		case 157:
		    if(itemAmount != 1) {
			itemAmount--;
		    }
		    p.frames.setConfig(p, 1109, itemId);	
		    p.frames.setConfig(p, 1110, itemAmount);
		    break;
		case 159:
		    if(itemAmount &lt; 2147483647) {
			itemAmount++;
		    }
		    p.frames.setConfig(p, 1109, itemId);	
		    p.frames.setConfig(p, 1110, itemAmount);
		    break;
		case 162:
		    if(itemAmount &lt; 2147483647) {
			itemAmount++;
		    }
		    if(offerType == 0) {
			itemAmount = 1;
		    }
		    p.frames.setConfig(p, 1109, itemId);	
		    p.frames.setConfig(p, 1110, itemAmount);
		    break;
		case 164:
		    if(itemAmount &lt; 2147483637) {
			itemAmount += 10;
		    }
		    if(offerType == 0) {
			itemAmount = 10;
		    }
		    p.frames.setConfig(p, 1109, itemId);	
		    p.frames.setConfig(p, 1110, itemAmount);
		    break;
		case 166:
		    if(itemAmount &lt; 2147483547) {
			itemAmount += 100;
		    }
		    if(offerType == 0) {
			itemAmount = 100;
		    }
		    p.frames.setConfig(p, 1109, itemId);	
		    p.frames.setConfig(p, 1110, itemAmount);
		    break;
		case 168:
		    if(itemAmount &lt; 2147482647) {
			itemAmount += 1000;
		    }
		    if(offerType == 0) {
			itemAmount = PlayerItems.invItemCount(p, itemId);
		    }
		    p.frames.setConfig(p, 1109, itemId);	
		    p.frames.setConfig(p, 1110, itemAmount);
		    break;
		case 177:
			setItemPrice(minPrice);
		break;
		case 183:
			setItemPrice(getitemPrice(maxPrice));
		break;
		case 180:
			setItemPrice(getitemPrice(basicPrice));
		break;
		case 173:
			setItemPrice(getitemPrice(itemPrice + 1));
		break;
		case 171:
			setItemPrice(getitemPrice(itemPrice - 1));
		break;
		case 190:
			if (offerType == 0) {
				confirmSellOffer();
			} else {
				confirmBuyOffer();
			}
		break;
		case 18:
		    for(Offer Offer : offerList) {
			if(Offer == null || Offer.id != p.playerId || Offer.slot != 0) {
			    continue;
			}
			if(Offer.type == 0 &amp;&amp; !Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, 995, Offer.currentPrice);
			} else if(!Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, Offer.item, Offer.currentPrice);
			}
		    }
		    p.currentSlot = 0;
		    p.frames.setConfig(p, 1112, 0);
		    break;
		case 34:
		    for(Offer Offer : offerList) {
			if(Offer == null || Offer.id != p.playerId || Offer.slot != 1) {
			    continue;
			}
			if(Offer.type == 0 &amp;&amp; !Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, 995, Offer.currentPrice);
			} else if(!Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, Offer.item, Offer.currentPrice);
			}
		    }
		    p.currentSlot = 1;
		    p.frames.setConfig(p, 1112, 1);
		    break;
		case 50:
		    for(Offer Offer : offerList) {
			if(Offer == null || Offer.id != p.playerId || Offer.slot != 2) {
			    continue;
			}
			if(Offer.type == 0 &amp;&amp; !Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, 995, Offer.currentPrice);
			} else if(!Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, Offer.item, Offer.currentPrice);
			}
		    }
		    p.currentSlot = 2;
		    p.frames.setConfig(p, 1112, 2);
		    break;
		case 69:
		    for(Offer Offer : offerList) {
			if(Offer == null || Offer.id != p.playerId || Offer.slot != 3) {
			    continue;
			}
			if(Offer.type == 0 &amp;&amp; !Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, 995, Offer.currentPrice);
			} else if(!Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, Offer.item, Offer.currentPrice);
			}
		    }
		    p.currentSlot = 3;
		    p.frames.setConfig(p, 1112, 3);
		    break;
		case 88:
		    for(Offer Offer : offerList) {
			if(Offer == null || Offer.id != p.playerId || Offer.slot != 4) {
			    continue;
			}
			if(Offer.type == 0 &amp;&amp; !Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, 995, Offer.currentPrice);
			} else if(!Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, Offer.item, Offer.currentPrice);
			}
		    }
		    p.currentSlot = 4;
		    p.frames.setConfig(p, 1112, 4);
		    break;
		case 107:
		    for(Offer Offer : offerList) {
			if(Offer == null || Offer.id != p.playerId || Offer.slot != 5) {
			    continue;
			}
			if(Offer.type == 0 &amp;&amp; !Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, 995, Offer.currentPrice);
			} else if(!Offer.aborted) {
			    p.frames.setItemSlot(p, Offer.slot, Offer.item, Offer.currentPrice);
			}
		    }
		    p.currentSlot = 5;
		    p.frames.setConfig(p, 1112, 5);
		    break;
		case 209:
		    boolean bool = false;
		    int i = 0;
		    for(Offer Offer : offerList) {
			if(Offer == null || Offer.id != p.playerId || Offer.slot != p.currentSlot) {
	    		    continue;
			}
			if(Offer.type == 0 &amp;&amp; !Offer.aborted) {
			    p.frames.resetItemSlot(p, Offer.slot);
			    Engine.playerItems.addItem(p, 995, Offer.currentPrice);
			    Offer.updatePrice(Offer.currentPrice, false);
			    i = Offer.slot;
			} else if(!Offer.aborted) {
			    p.frames.resetItemSlot(p, Offer.slot);
			    Engine.playerItems.addItem(p, Offer.item, Offer.currentPrice);
			    Offer.updatePrice(Offer.currentPrice, false);
			    i = Offer.slot;
			}
			if(Offer.aborted) {
			    i = Offer.slot;
			    bool = true;
			    if(Offer.type == 0) {
			        Engine.playerItems.addItem(p, Offer.item, Offer.currentAmount);
				p.frames.resetItemSlot(p, Offer.slot);
				bool = true;

			    } else {
				Engine.playerItems.addItem(p, 995, Offer.currentAmount * Offer.price);
				p.frames.resetItemSlot(p, Offer.slot);
				bool = true;
			    }
			    Offer.clear();
			}
			if(Offer.completed) {
			    bool = true;
			    Offer.clear();
			}
		    }
		    if(bool) {
		        p.frames.resetGe(p, i);

		    }
		    break;
		case 203:
		    for(Offer Offer : offerList) {
			if(Offer == null || Offer.id != p.playerId || p.currentSlot != Offer.slot) {
	    		    continue;
			}
			Offer.aborted = true;
			if(Offer.type == 0) {
			    p.frames.setGe(p, Offer.slot, -3, Offer.item, Offer.price, Offer.amount, Offer.amount-Offer.currentAmount);
			    p.frames.setItemSlot(p, Offer.slot, Offer.item, Offer.currentAmount);
			} else {
			    p.frames.setGe(p, Offer.slot, 5, Offer.item, Offer.price, Offer.amount, Offer.amount-Offer.currentAmount);
			    p.frames.setItemSlot(p, Offer.slot, 995, Offer.price*(Offer.amount-Offer.currentAmount));
			}
		    }
		    break;
	}
}

public void setSellSetup(int offerId) {
	itemId = -1;
	minPrice = 0;
	basicPrice = 0;
	maxPrice = 0;
	itemPrice = 0;
	itemAmount = 0;
	p.currentSlot = offerId;
	p.frames.setConfig(p, 1109, -1);
	p.frames.setConfig(p, 1110, 0);	
	p.frames.setConfig(p, 1111, 0);	
	p.frames.setConfig(p, 1112, -1);	
	p.frames.setConfig(p, 1113, 1);
	p.frames.setConfig(p, 1112, offerId);
	p.frames.setInventory(p, 107);
	Object[] o2 = new Object[]{"", "", "", "", "Offer", -1, 0, 7, 4, 93, 7012370};
	p.frames.runScript(p, 149, o2, "IviiiIsssss");
	p.frames.setAccessMask(p, 1026, 18, 107, 0, 27);
	p.frames.setItems(p, 149, 0, 93, p.items, p.itemsN);
	p.frames.setInterfaceConfig(p, 107, 0, false);
	offerType = 0;
}

public void setBuySetup(int offerId) {
	itemId = -1;
	minPrice = 0;
	basicPrice = 0;
	maxPrice = 0;
	itemPrice = 0;
	itemAmount = 0;
	p.currentSlot = offerId;
	p.frames.setConfig(p, 1109, -1);
	p.frames.setConfig(p, 1110, 0);	
	p.frames.setConfig(p, 1111, 0);
	p.frames.setConfig(p, 1113, 1);
	p.frames.setConfig(p, 1113, 0);
	p.frames.setConfig(p, 1112, -1);
	p.frames.setConfig(p, 1112, offerId);
	offerType = 1;
	Object[] o = new Object[]{"DavidScape Grand Exchange Item Search"};
	p.frames.setGeSearch(p, o);
</code></pre>
<p>p.frames.setItems(p, 149, 0, 93, p.items, p.itemsN);<br>
}</p>
<pre><code>public void offerItem(int itemIndex) {
	itemId = p.items[itemIndex];
	itemAmount = PlayerItems.invItemCount(p, itemId);
	p.frames.setConfig(p, 1109, itemId);	
	p.frames.setConfig(p, 1110, itemAmount);
	setPrices();
}

public void setBuyItem(int itemId) {
	this.itemId = itemId;
	itemAmount = 1;
	p.frames.setConfig(p, 1109, itemId);	
	p.frames.setConfig(p, 1110, itemAmount);
	setPrices();
}

public void setItemPrice(int price) {
	p.frames.setConfig(p, 1111, price);
	itemPrice = price;
}

public void setPrices() {
	minPrice = 0;
	basicPrice = 0;
	maxPrice = 0;
	for(geList list : Engine.geLoader.geList) {
	    if(list == null) {
		continue;
	    }
	    if(list.itemId == itemId) {
		minPrice = 1;
		maxPrice =15000;
		basicPrice = 1;
	    }
	}
	itemPrice = basicPrice;
	p.frames.setConfig(p, 1115, minPrice);
	p.frames.setConfig(p, 1114, basicPrice);
	p.frames.setConfig(p, 1116, maxPrice);
	setItemPrice(itemPrice);
}

public int getitemPrice(int price) {
	if (price &gt;= maxPrice) {
		return maxPrice;
	}
	if (price &lt;= minPrice) {
		return minPrice;
	}
	return price;
}

public void confirmSellOffer() {
	if (itemAmount &lt;= PlayerItems.invItemCount(p, itemId)) {
		offerList.add(new Offer(p.playerId, itemId, itemAmount, itemAmount, itemPrice, 0, p.username, false, p.currentSlot));
		openMainInterface();
		PlayerItems.deleteItem(p, itemId, itemAmount);
		p.frames.setGe(p, p.currentSlot, -1, itemId, itemPrice, itemAmount, 0);
		updateOffers();
	} else {
		p.frames.sendMessage(p, "You don't have enough items in your inventory to complete this offer.");
	}
}

public void confirmBuyOffer() {
	if ((itemAmount * itemPrice) &lt;= PlayerItems.invItemCount(p, 995)) {
		offerList.add(new Offer(p.playerId, itemId, itemAmount, itemAmount, itemPrice, 1, p.username, false, p.currentSlot));
		openMainInterface();
		PlayerItems.deleteItem(p, 995, (itemAmount * itemPrice));
		p.frames.setGe(p, p.currentSlot, 3, itemId, itemPrice, itemAmount, 0);
		updateOffers();
	} else {
		p.frames.sendMessage(p, "You don't have enough coins to complete this offer.");
	}
}

public void updateOffers() {
    for(Offer Offer : offerList) {
	if(Offer == null || Offer.type != 0 || Offer.completed || Offer.aborted) {
	    continue;
	}
	for(Offer Offer2 : offerList) {
	    if(Offer2 == null || Offer2.type != 1 || Offer2.completed || Offer2.aborted) {
		continue;
	    }
	    if(Offer2.item == Offer.item &amp;&amp; Offer2.price &gt;= Offer.price) {
		Player p2 = Server.engine.players[Server.engine.getIdFromName(Offer2.owner)];
		Player p3 = Server.engine.players[Server.engine.getIdFromName(Offer.owner)];
		int id = Offer.item;
		int amount = Offer2.currentAmount;
		if(Offer.currentAmount &lt; Offer2.currentAmount) {
			amount = Offer.currentAmount;
		}
		if(p2 != null || !p2.disconnected[0]) {
	            p2.frames.sendMessage(p2, "A Grand Exchange offer has been updated!");
		}
		if(p3 != null || !p3.disconnected[0]) {
		    p3.frames.sendMessage(p3, "A Grand Exchange offer has been updated!");
		}
		Offer2.currentAmount -= amount;
		Offer.currentAmount -= amount;
		Offer.updatePrice(amount, true);
		Offer2.updatePrice(amount, true);
		p3.frames.setGe(p3, Offer.slot, -1, Offer.item, Offer.price, Offer.amount, Offer.amount-Offer.currentAmount);
		p2.frames.setGe(p2, Offer2.slot, 3, Offer2.item, Offer2.price, Offer2.amount, Offer2.amount-Offer2.currentAmount);
		if(Offer.currentAmount == 0) {
		    p3.frames.setGe(p3, Offer.slot, -3, Offer.item, Offer.price, Offer.amount, Offer.amount-Offer.currentAmount);
		    Offer.completed = true;
		}
		if(Offer2.currentAmount == 0) {
		    p2.frames.setGe(p2, Offer2.slot, 5, Offer2.item, Offer2.price, Offer2.amount, Offer2.amount-Offer2.currentAmount);
		    Offer2.completed = true;
		}
	    }
	}
    }
}
</code></pre>
<p>}[/code]</p>
<p>part 2: [code]import server name.util.Misc;<br>
import servername.content.GrandExchange;<br>
import servername.content.Offer;<br>
import <a href="http://java.io/" rel="nofollow noopener">java.io</a>.*;<br>
import servername.util.Stream;</p>
<p>public class GrandExchangeLoader {</p>
<pre><code>/**
 * Byte buffer for storing bytes to be loaded or saved.
 */
private Stream stream = new Stream(5000, 5000);

public GrandExchangeLoader() {

}

public void saveOffers() throws Exception {
int i = 0;
for(Offer Offer : GrandExchange.offerList) {
    if(Offer == null) {
	continue;
    }
    i++;
    stream.outOffset = 0;
    stream.writeString("id:" + Offer.id);
    stream.writeString("item:" + Offer.item);
    stream.writeString("amount:" + Offer.amount);
    stream.writeString("currentAmount:" + Offer.currentAmount);
    stream.writeString("price:" + Offer.price);
    stream.writeString("type:" + Offer.type);
    stream.writeString("owner:" + Offer.owner);
    if(Offer.completed) {
        stream.writeString("completed:" + 1);
    } else {
        stream.writeString("completed:" + 0);
    }
    stream.writeString("currentPrice:" + Offer.currentPrice);
    if(Offer.aborted) {
        stream.writeString("aborted:" + 1);
    } else {
        stream.writeString("aborted:" + 0);
    }
    stream.writeString("slot:" + Offer.slot);
    stream.writeString("null");
        FileOutputStream out = new FileOutputStream("./data/Offers/" + i + ".dat");
        out.write(stream.outBuffer, 0, stream.outOffset);
        out.flush();
        out.close();
        out = null;
}
}

public void loadOffers() {
for(int i = 0; i &lt;= 2000; i++) {
        stream.inOffset = 0;
        try {
        	FileInputStream in = new FileInputStream("./data/Offers/" + i + ".dat");
        	in.read(stream.inBuffer);
        	in.close();
        	in = null;
        } catch (Exception e) {
        	continue;
        }
    String line;
        try {
	int id = 0;
	int item = 0;
	int amount = 0;
	int currentAmount = 0;
	int price = 0;
	int type = 0;
	String owner = "";
	boolean completed = false;
	int currentPrice = 0;
	int slot = 0;
	boolean aborted = false;
        while ((line = stream.readString()) != null &amp;&amp; line.length() &gt; 0) {
                if (line.startsWith("id:")) {
                    id = Integer.parseInt(line.substring(3));
	    } else if(line.startsWith("item:")) {
                    item = Integer.parseInt(line.substring(5));
	    } else if(line.startsWith("amount:")) {
                    amount = Integer.parseInt(line.substring(7));
	    } else if(line.startsWith("currentAmount:")) {
                    currentAmount = Integer.parseInt(line.substring(14));
	    } else if(line.startsWith("price:")) {
                    price = Integer.parseInt(line.substring(6));
	    } else if(line.startsWith("type:")) {
                    type = Integer.parseInt(line.substring(5));
	    } else if(line.startsWith("owner:")) {
                    owner = line.substring(6);
	    } else if(line.startsWith("completed:")) {
		int iii = Integer.parseInt(line.substring(10));
                    if(iii == 1) {
		    completed = true;
		} else {
		    completed = false;
		}
	    } else if(line.startsWith("currentPrice:")) {
                    currentPrice = Integer.parseInt(line.substring(13));
	    } else if(line.startsWith("aborted:")) {
		int iii = Integer.parseInt(line.substring(10));
                    if(iii == 1) {
		    aborted = true;
		} else {
		    aborted = false;
		}
	    } else if(line.startsWith("slot:")) {
                    slot = Integer.parseInt(line.substring(5));
	    }
	}
	if(id != 0) {
	    GrandExchange.offerList.add(new Offer(id,item,amount,currentAmount,price,type,owner,completed,slot));
        }
	for(Offer l : GrandExchange.offerList) {
    	    if(l == null) {
		continue;
	    }
	    if(l.id == id &amp;&amp; l.item == item &amp;&amp; l.amount == amount
		&amp;&amp; l.currentAmount == currentAmount &amp;&amp; l.price == price
		 &amp;&amp; l.type == type &amp;&amp; l.owner.equals(owner) &amp;&amp; l.slot == slot) {
		l.currentPrice = currentPrice;
		l.aborted = aborted;
		break;
	    }
    	}
    } catch(Exception e) {}
}

}
</code></pre>
<p>}[/code]</p>
      </div>

      <meta itemprop='headline' content='Grand exchange [code]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ytpingas.html'><span itemprop='name'>ytpingas</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-04T22:52:59Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:18:02Z' class='post-time'>
              July 31, 2016, 12:18pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>part 3, final leeching, copy and pasting… [code]package servername.content;</p>
<p>public class Offer {</p>
<pre><code>public int id;

public int item;

public int amount;

public int currentAmount;

public int price;

public int type;

public String owner;

public boolean completed;

    public int currentPrice;

    public boolean aborted = false;

public int slot;

//offertype: 0 = sell, 1 = buy
public Offer(int id, int item, int amount, int currentAmount, int price, int type, String owner, boolean completed, int slot) {
	this.id = id;
	this.item = item;
	this.amount = amount;
	this.currentAmount = currentAmount;
	this.price = price;
	this.type = type;
	this.owner = owner;
	this.completed = completed;
	this.slot = slot;
}

public void updatePrice(int amount, boolean bool) {
    if(bool) {
        if(type == 0) {
	    currentPrice += amount * price;
	} else {
	    currentPrice += amount;
	}
    } else {
	currentPrice -= amount;
    }
}

    public void clear() {
    id = 0;
    item = 0;
    amount = 0;
    currentAmount = 0;
    price = 0;
    type = -1;
    owner = "";
    completed = false;
    currentPrice = 0;
    aborted = false;
}
</code></pre>
<p>}<br>
[/code]</p>
      </div>

      <meta itemprop='headline' content='Grand exchange [code]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-04T22:54:17Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:18:02Z' class='post-time'>
              July 31, 2016, 12:18pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I would rep++ of this was your work.</p>
<p>But it’s not, and this should be removed unless you have proof that the creator gave you permission.</p>
      </div>

      <meta itemprop='headline' content='Grand exchange [code]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Maximum_ZxZ.html'><span itemprop='name'>Maximum_ZxZ</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-04T22:54:29Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:18:02Z' class='post-time'>
              July 31, 2016, 12:18pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hmm, this really work 100% ? If so, I’ll give a try.</p>
      </div>

      <meta itemprop='headline' content='Grand exchange [code]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ytpingas.html'><span itemprop='name'>ytpingas</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-04T23:05:40Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:18:03Z' class='post-time'>
              July 31, 2016, 12:18pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>oh sorry guys…</p>
<p>and thanks davidi2</p>
<p>NOTE GUYS: 60% wasnt created by me<br>
40% was ceated by me because i edited the code, and included snipplets in it so it will run on any server</p>
      </div>

      <meta itemprop='headline' content='Grand exchange [code]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Maximum_ZxZ.html'><span itemprop='name'>Maximum_ZxZ</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-05T00:28:36Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:18:12Z' class='post-time'>
              July 31, 2016, 12:18pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ytpingas, post:5, topic:312496”]oh sorry guys…</p>
<p>and thanks davidi2</p>
<p>NOTE GUYS: 60% wasnt created by me<br>
40% was ceated by me because i edited the code, and included snipplets in it so it will run on any server[/quote]</p>
<p>Post it on your topic too. I mean on the first post.</p>
      </div>

      <meta itemprop='headline' content='Grand exchange [code]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_elve_age.html'><span itemprop='name'>the_elve_age</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-05T02:49:34Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:18:22Z' class='post-time'>
              July 31, 2016, 12:18pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This would be in server tutorial section/snippets</p>
      </div>

      <meta itemprop='headline' content='Grand exchange [code]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Rich.html'><span itemprop='name'>_Rich</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-11-05T07:04:34Z'>
            <time itemprop='dateModified' datetime='2016-07-31T12:18:29Z' class='post-time'>
              July 31, 2016, 12:18pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="7" data-topic="312496">
<div class="title">
<div class="quote-controls"></div>
 the elve age:</div>
<blockquote>
<p>This would be in server tutorial section/snippets</p>
</blockquote>
</aside>
      </div>

      <meta itemprop='headline' content='Grand exchange [code]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/grand-exchange-code/312496 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Aug 2019 05:55:57 GMT -->
</html>
