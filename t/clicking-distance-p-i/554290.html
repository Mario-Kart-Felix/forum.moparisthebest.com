<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/clicking-distance-p-i/554290 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Clicking Distance (P.I) - Runescape - moparisthebest.com</title>
    <meta name="description" content="I have implemented a spirit tree as a form of transportation, only problem being the distance in which it can be clicked. 

[code=java]objectDistance = 2;[/code] 

Does absolutely nothing. 

Any help is appreciated.">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="554290.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Clicking Distance (P.I)&#39;" href="554290.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/clicking-distance-p-i/554290" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/clicking-distance-p-i/554290" />
<meta property="og:title" content="Clicking Distance (P.I)" />
<meta name="twitter:title" content="Clicking Distance (P.I)" />
<meta property="og:description" content="I have implemented a spirit tree as a form of transportation, only problem being the distance in which it can be clicked.   Does absolutely nothing.  Any help is appreciated." />
<meta name="twitter:description" content="I have implemented a spirit tree as a form of transportation, only problem being the distance in which it can be clicked.   Does absolutely nothing.  Any help is appreciated." />
<meta property="article:published_time" content="2016-01-04T04:39:11+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="554290.html">Clicking Distance (P.I)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/nathanz.html'><span itemprop='name'>nathanz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-01-04T04:39:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:13:19Z' class='post-time'>
              August 4, 2016,  5:13pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have implemented a spirit tree as a form of transportation, only problem being the distance in which it can be clicked.</p>
<pre><code class="lang-auto"></code></pre>
<p>Does absolutely nothing.</p>
<p>Any help is appreciated.</p>
      </div>

      <meta itemprop='headline' content='Clicking Distance (P.I)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-01-04T05:33:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:13:19Z' class='post-time'>
              August 4, 2016,  5:13pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“nathanz, post:1, topic:554290”]I have implemented a spirit tree as a form of transportation, only problem being the distance in which it can be clicked.</p>
<pre><code class="lang-auto"></code></pre>
<p>Does absolutely nothing.</p>
<p>Any help is appreciated.[/quote]</p>
<p>There’s 3 values that control object interaction distance server sided in a PI:</p>
<p><code>
c.objectXOffset;
c.objectYOffset;
c.objectDistance;</code></p>
<p>They’re used like so:</p>
<p><code>if (c.clickObjectType == 1 &amp;&amp; (c.goodDistance(c.objectX + c.objectXOffset,
								c.objectY + c.objectYOffset, c.getX(), c.getY(), c.objectDistance)
								|| c.goodDistance((c.objectY + c.objectYOffset), c.objectX + c.objectXOffset, c.getX(),
										c.getY(), c.objectDistance))) {</code></p>
<p>That may look a bit confusing, but basically, the code checks if the object’s X and Y positions (Plus their offsets) (Also, Y and X), are close enough to the players X and Y, based on the objectDistance value.</p>
<p>So, to make sure this works properly, you must:<br>
Set the objectDistance variable to the furthest point from the tree (2 or 3, i forget).<br>
Set the objectXOffset variable to the maximum x off possible (if the tree is 2x2 tiles, the largest x offset will be 3)<br>
Set the objectYOffset variable to the maximum y off possible (if the tree is 2x2 tiles, the largest y offset will be 3)</p>
<p>You can figure out what these values need to be by using some math in your code (Note: Ugly code):</p>
<p><code>System.out.println("ClickObject1 - objID " + c.objectId + "  objX: " + c.objectX + "  objY: " + c.objectY
	+ " Xoff: " + ((c.getX() &gt; c.objectX) ? c.getX() - c.objectX : c.objectX - c.getX()) + " Yoff: "
	+ ((c.getY() &gt; c.objectY) ? c.getY() - c.objectY : c.objectY - c.getY()) + " objDist:"
	+ (((c.getX() &gt; c.objectX) ? c.getX() - c.objectX : c.objectX - c.getX())
		+ ((c.getY() &gt; c.objectY) ? c.getY() - c.objectY : c.objectY - c.getY())));</code></p>
      </div>

      <meta itemprop='headline' content='Clicking Distance (P.I)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/nathanz.html'><span itemprop='name'>nathanz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-01-04T06:09:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:13:19Z' class='post-time'>
              August 4, 2016,  5:13pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:2, topic:554290”][quote author=nathanz link=topic=673215.msg4501789#msg4501789 date=1451882351]<br>
I have implemented a spirit tree as a form of transportation, only problem being the distance in which it can be clicked.</p>
<pre><code class="lang-auto"></code></pre>
<p>Does absolutely nothing.</p>
<p>Any help is appreciated.<br>
[/quote]</p>
<p>There’s 3 values that control object interaction distance server sided in a PI:</p>
<p><code>
c.objectXOffset;
c.objectYOffset;
c.objectDistance;</code></p>
<p>They’re used like so:</p>
<p><code>if (c.clickObjectType == 1 &amp;&amp; (c.goodDistance(c.objectX + c.objectXOffset,
								c.objectY + c.objectYOffset, c.getX(), c.getY(), c.objectDistance)
								|| c.goodDistance((c.objectY + c.objectYOffset), c.objectX + c.objectXOffset, c.getX(),
										c.getY(), c.objectDistance))) {</code></p>
<p>That may look a bit confusing, but basically, the code checks if the object’s X and Y positions (Plus their offsets) (Also, Y and X), are close enough to the players X and Y, based on the objectDistance value.</p>
<p>So, to make sure this works properly, you must:<br>
Set the objectDistance variable to the furthest point from the tree (2 or 3, i forget).<br>
Set the objectXOffset variable to the maximum x off possible (if the tree is 2x2 tiles, the largest x offset will be 3)<br>
Set the objectYOffset variable to the maximum y off possible (if the tree is 2x2 tiles, the largest y offset will be 3)</p>
<p>You can figure out what these values need to be by using some math in your code (Note: Ugly code):</p>
<p><code>System.out.println("ClickObject1 - objID " + c.objectId + "  objX: " + c.objectX + "  objY: " + c.objectY
	+ " Xoff: " + ((c.getX() &gt; c.objectX) ? c.getX() - c.objectX : c.objectX - c.getX()) + " Yoff: "
	+ ((c.getY() &gt; c.objectY) ? c.getY() - c.objectY : c.objectY - c.getY()) + " objDist:"
	+ (((c.getX() &gt; c.objectX) ? c.getX() - c.objectX : c.objectX - c.getX())
		+ ((c.getY() &gt; c.objectY) ? c.getY() - c.objectY : c.objectY - c.getY())));</code>[/quote]</p>
<p>I understand how the distance system works, how would i apply this to a object if it’s not working.</p>
<p>Am i using it correctly here, I’ve never messed around with this before it’s pretty confusing:</p>
<p><code>case 1294:
				c.objectDistance = 2;
				c.objectYOffset = 3;
				c.objectXOffset = 3;
				c.getDH().sendDialogues(4958, packetSize);
				break;</code></p>
      </div>

      <meta itemprop='headline' content='Clicking Distance (P.I)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-01-05T11:36:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:13:22Z' class='post-time'>
              August 4, 2016,  5:13pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>No, you’re using it incorrectly.</p>
<p>You don’t add actions to the ClickObject packets. The reason you don’t is when the packet is received by the server, it waits until you are within the goodDistance before executing the event in the ActionHandler. That means this line:</p>
<pre><code class="lang-auto"></code></pre>
<p>Would go in your ActionHandler.</p>
<p>You apply it to an “object that’s not working” by using that System.out.println message I <span class="bbcode-i">just</span> gave you…<br>
You add it to your server in the clickobject packet, compile, run, then click the object from the proper distance(s). From there you adjust the objectDistance/xOff/yOff.</p>
      </div>

      <meta itemprop='headline' content='Clicking Distance (P.I)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/clicking-distance-p-i/554290 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:56 GMT -->
</html>
