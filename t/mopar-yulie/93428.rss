<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Mopar, yulie?</title>
    <link>https://forum.moparisthebest.com/t/mopar-yulie/93428</link>
    <description>Well, look at this;

http://www.simplemachines.org/community/index.php?topic=137132.msg874310#msg874310

For those who don&#39;t want to;

&lt;blockquote&gt;moparisthebest
Newbie
*
Offline Offline

Posts: 12


View Profile
	
	
vBulletin like karma.php edit
« on: December 24, 2006, 10:16:47 PM »
	
I hate vBulletin, and I love SMF, but I like vBulletin&#39;s weighted karma system better.  So I am trying to edit karma.php to give 2 karma points for every 15 karma points the giver has.  I am a java coder by heart but have picked up a little php along the way of running my java based forums. 

Basically all I can&#39;t figure out how to do in karma.php and need help with is 2 things:

1. Finding the karma count of the user giving the karma.

2. Give more than one karma at a time to the reciever, without doing some nasty loop like:
Code:

for ( $counter = 0; $counter &lt;= 5; $counter += 1) 
     updateMemberData($_REQUEST[&#39;uid&#39;], array($dir == 1 ? &#39;karmaGood&#39; : &#39;karmaBad&#39; =&gt; &#39;+&#39;));


I would really appreciate any help at all I can get on this, thanks alot and Merry Christmas.

Kirby
SMF Friend
Simple Machines Hero
*
Offline Offline

Posts: 1,534


View Profile
	
	
Re: vBulletin like karma.php edit
« Reply #1 on: December 24, 2006, 10:22:50 PM »
	
Then you might as well run a query:
db_query(&quot;UPDATE {$db_prefix}members SET karmaGood + [insert number variable here] WHERE ID_MEMBER = [member ID variable here]&quot;, __FILE__, __LINE__);

merry christmas/happy holidays to you as well :)

moparisthebest
Newbie
*
Offline Offline

Posts: 12


View Profile
	
	
Re: vBulletin like karma.php edit
« Reply #2 on: December 24, 2006, 10:27:42 PM »
	
I can do that, but now I need to first get the karma of the giver, how would I do that? :)
	
Kirby
SMF Friend
Simple Machines Hero
*
Offline Offline

Posts: 1,534


View Profile
	
	
Re: vBulletin like karma.php edit
« Reply #3 on: December 24, 2006, 10:29:06 PM »
	
So, lets say if you have 14 or 29 points and I give you one to make it 15 or 30, you want it to trigger an addition of 2 karma points?
	

moparisthebest
Newbie
*
Offline Offline

Posts: 12


View Profile
	
	
Re: vBulletin like karma.php edit
« Reply #4 on: December 24, 2006, 10:33:23 PM »
	
I want the amount of karma the reciever recieves to be based on the amount of karma the giver has, I know how to do that part, but what I need is to know how much karma the giver has, how would I get that easily?

(In other words, if I click to karma++ you, I want to know my karma in karma.php)

Kirby
SMF Friend
Simple Machines Hero
*
Offline Offline

Posts: 1,534


View Profile
	
	
Re: vBulletin like karma.php edit
« Reply #5 on: December 24, 2006, 10:37:54 PM »
	
Oh. Well you&#39;d have to fetch that as well. Assuming $ID_MEMBER (the current user&#39;s ID) is globalled:
Code:

$request = db_query(&quot;SELECT karmaGood FROM {$db_prefix}members WHERE ID_MEMBER = $ID_MEMBER&quot;, __FILE_, __LINE__);
list($user_karma_good) = mysql_fetch_row($request);
mysql_free_result($request);


And then you would have it in $user_karma_good :)

moparisthebest
Newbie
*
Offline Offline

Posts: 12


View Profile
	
	
Re: vBulletin like karma.php edit
« Reply #6 on: December 24, 2006, 10:40:06 PM »
	
I was trying to stay away from more db queries, but if thats what needs done :P

Thanks so much, if you ever need any java help I&#39;ll repay the favor :)

Merry Christmas and Happy Holidays again. :)

Kirby
SMF Friend
Simple Machines Hero
*
Offline Offline

Posts: 1,534


View Profile
	
	
Re: vBulletin like karma.php edit
« Reply #7 on: December 24, 2006, 10:42:12 PM »
	
Hey, thanks ;)
Thats the best way to do it IMO. All of the other queries in Karma.php are for the receiver. updateMemberData does a query itself anyway, so really you are adding 2 queries :P

Enjoy the holidays 

akabugeyes
Doc Coordinator
Simple Machines Hero
*
Online Online

Gender: Male
Posts: 7,178


Will be busy for awhile!


View Profile WWW
	
	
Re: vBulletin like karma.php edit
« Reply #8 on: December 24, 2006, 10:58:11 PM »
	
Instead of having to do another query every time you can add the karmaGood value to the $user_info array in Sources/Load.php.

Code:

	// Set up the $user_info array.
	$user_info += array(


Add at the end before the );

Code:

		&#39;karmaGood&#39; =&gt; empty($user_settings[&#39;karmaGood&#39;]) ? 0 : $user_settings[&#39;karmaGood&#39;],

Kirby
SMF Friend
Simple Machines Hero
*
Offline Offline

Posts: 1,534


View Profile
	
	
Re: vBulletin like karma.php edit
« Reply #9 on: December 24, 2006, 11:02:17 PM »
	
That would add it in for every single page load though.
	Logged
I am missing in action for quite a while, lots of things to do. Sorry if I don&#39;t respond to anyone
moparisthebest
Newbie
*
Offline Offline

Posts: 12


View Profile
	
	
Re: vBulletin like karma.php edit
« Reply #10 on: December 25, 2006, 02:23:39 AM »
	
Great, it works perfectly, if anyone needs/wants my modified karma.php just give me a shout.&lt;/blockquote&gt;

Okay, Thug and me want teh Karma thing, but you said L2php, so yulie ?</description>
    
    <lastBuildDate>Sun, 13 May 2007 00:13:27 +0000</lastBuildDate>
    <category>General Discussion</category>
    <atom:link href="https://forum.moparisthebest.com/t/mopar-yulie/93428.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Mopar, yulie?</title>
        <dc:creator><![CDATA[@therealjdb JDB`]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/therealjdb">@therealjdb</a> wrote:</p>
          <blockquote>
              <p>[quote=“Fr33sc4p3, post:4, topic:93428”][quote author=therealjdb link=topic=135580.msg1307323#msg1307323 date=1179014753]<br>
lol wow… Oh well maybe he don’t want to give it to you? now you could make it yourself from the info.<br>
[/quote]</p>
<p>Well it was in December 06 :P[/quote]<br>
Oh…hahahah thats funny <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mopar-yulie/93428/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mopar-yulie/93428/6</link>
        <pubDate>Sun, 13 May 2007 00:13:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-93428-6</guid>
        <source url="https://forum.moparisthebest.com/t/mopar-yulie/93428.rss">Mopar, yulie?</source>
      </item>
      <item>
        <title>Mopar, yulie?</title>
        <dc:creator><![CDATA[@MybBob MybBob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mybbob">@MybBob</a> wrote:</p>
          <blockquote>
              <p>We still would like it though :(, well I would at least.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mopar-yulie/93428/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mopar-yulie/93428/5</link>
        <pubDate>Sun, 13 May 2007 00:12:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-93428-5</guid>
        <source url="https://forum.moparisthebest.com/t/mopar-yulie/93428.rss">Mopar, yulie?</source>
      </item>
      <item>
        <title>Mopar, yulie?</title>
        <dc:creator><![CDATA[@tL tL]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tl">@tL</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="3" data-topic="93428">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/therealjdb/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"> therealjdb:</div>
<blockquote>
<p>lol wow… Oh well maybe he don’t want to give it to you? now you could make it yourself from the info.</p>
</blockquote>
</aside>
<p>Well it was in December 06 <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mopar-yulie/93428/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mopar-yulie/93428/4</link>
        <pubDate>Sun, 13 May 2007 00:07:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-93428-4</guid>
        <source url="https://forum.moparisthebest.com/t/mopar-yulie/93428.rss">Mopar, yulie?</source>
      </item>
      <item>
        <title>Mopar, yulie?</title>
        <dc:creator><![CDATA[@therealjdb JDB`]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/therealjdb">@therealjdb</a> wrote:</p>
          <blockquote>
              <p>lol wow… Oh well maybe he don’t want to give it to you? now you could make it yourself from the info.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mopar-yulie/93428/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mopar-yulie/93428/3</link>
        <pubDate>Sun, 13 May 2007 00:05:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-93428-3</guid>
        <source url="https://forum.moparisthebest.com/t/mopar-yulie/93428.rss">Mopar, yulie?</source>
      </item>
      <item>
        <title>Mopar, yulie?</title>
        <dc:creator><![CDATA[@tL tL]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tl">@tL</a> wrote:</p>
          <blockquote>
              <p>Yeah remeber that Mopar <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Mopar you liek lie and said that you made and you told me to ‘l2php’ if we wanted it <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Btw Mybbob i already pmed this him the other day <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<aside class="quote no-group">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/user_avatar/forum.moparisthebest.com/moparisthebest/40/30_2.png" class="avatar"> moparisthebest:</div>
<blockquote>
<p>Great, it works perfectly, if anyone needs/wants my modified karma.php just give me a shout. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>*Gives Mopar a ‘Shout’</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mopar-yulie/93428/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mopar-yulie/93428/2</link>
        <pubDate>Sun, 13 May 2007 00:02:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-93428-2</guid>
        <source url="https://forum.moparisthebest.com/t/mopar-yulie/93428.rss">Mopar, yulie?</source>
      </item>
      <item>
        <title>Mopar, yulie?</title>
        <dc:creator><![CDATA[@MybBob MybBob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mybbob">@MybBob</a> wrote:</p>
          <blockquote>
              <p>Well, look at this;</p>
<p><a href="http://www.simplemachines.org/community/index.php?topic=137132.msg874310#msg874310" class="onebox" target="_blank" rel="nofollow noopener">http://www.simplemachines.org/community/index.php?topic=137132.msg874310#msg874310</a></p>
<p>For those who don’t want to;</p>
<blockquote>moparisthebest
Newbie
*
Offline Offline
<p>Posts: 12</p>
<p>View Profile</p>
<p>vBulletin like karma.php edit<br>
« on: December 24, 2006, 10:16:47 PM »</p>
<p>I hate vBulletin, and I love SMF, but I like vBulletin’s weighted karma system better.  So I am trying to edit karma.php to give 2 karma points for every 15 karma points the giver has.  I am a java coder by heart but have picked up a little php along the way of running my java based forums.</p>
<p>Basically all I can’t figure out how to do in karma.php and need help with is 2 things:</p>
<ol>
<li>
<p>Finding the karma count of the user giving the karma.</p>
</li>
<li>
<p>Give more than one karma at a time to the reciever, without doing some nasty loop like:<br>
Code:</p>
</li>
</ol>
<p>for ( $counter = 0; $counter &lt;= 5; $counter += 1)<br>
updateMemberData($_REQUEST[‘uid’], array($dir == 1 ? ‘karmaGood’ : ‘karmaBad’ =&gt; ‘+’));</p>
<p>I would really appreciate any help at all I can get on this, thanks alot and Merry Christmas.</p>
<p>Kirby<br>
SMF Friend<br>
Simple Machines Hero<br>
*<br>
Offline Offline</p>
<p>Posts: 1,534</p>
<p>View Profile</p>
<p>Re: vBulletin like karma.php edit<br>
« Reply <span class="hashtag">#1</span> on: December 24, 2006, 10:22:50 PM »</p>
<p>Then you might as well run a query:<br>
db_query(“UPDATE {$db_prefix}members SET karmaGood + [insert number variable here] WHERE ID_MEMBER = [member ID variable here]”, <strong>FILE</strong>, <strong>LINE</strong>);</p>
<p>merry christmas/happy holidays to you as well <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>moparisthebest<br>
Newbie<br>
*<br>
Offline Offline</p>
<p>Posts: 12</p>
<p>View Profile</p>
<p>Re: vBulletin like karma.php edit<br>
« Reply <span class="hashtag">#2</span> on: December 24, 2006, 10:27:42 PM »</p>
<p>I can do that, but now I need to first get the karma of the giver, how would I do that? <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Kirby<br>
SMF Friend<br>
Simple Machines Hero<br>
*<br>
Offline Offline</p>
<p>Posts: 1,534</p>
<p>View Profile</p>
<p>Re: vBulletin like karma.php edit<br>
« Reply <span class="hashtag">#3</span> on: December 24, 2006, 10:29:06 PM »</p>
<p>So, lets say if you have 14 or 29 points and I give you one to make it 15 or 30, you want it to trigger an addition of 2 karma points?</p>
<p>moparisthebest<br>
Newbie<br>
*<br>
Offline Offline</p>
<p>Posts: 12</p>
<p>View Profile</p>
<p>Re: vBulletin like karma.php edit<br>
« Reply <span class="hashtag">#4</span> on: December 24, 2006, 10:33:23 PM »</p>
<p>I want the amount of karma the reciever recieves to be based on the amount of karma the giver has, I know how to do that part, but what I need is to know how much karma the giver has, how would I get that easily?</p>
<p>(In other words, if I click to karma++ you, I want to know my karma in karma.php)</p>
<p>Kirby<br>
SMF Friend<br>
Simple Machines Hero<br>
*<br>
Offline Offline</p>
<p>Posts: 1,534</p>
<p>View Profile</p>
<p>Re: vBulletin like karma.php edit<br>
« Reply <span class="hashtag">#5</span> on: December 24, 2006, 10:37:54 PM »</p>
<p>Oh. Well you’d have to fetch that as well. Assuming $ID_MEMBER (the current user’s ID) is globalled:<br>
Code:</p>
<p>$request = db_query(“SELECT karmaGood FROM {$db_prefix}members WHERE ID_MEMBER = $ID_MEMBER”, _<em>FILE</em>, <strong>LINE</strong>);<br>
list($user_karma_good) = mysql_fetch_row($request);<br>
mysql_free_result($request);</p>
<p>And then you would have it in $user_karma_good <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>moparisthebest<br>
Newbie<br>
*<br>
Offline Offline</p>
<p>Posts: 12</p>
<p>View Profile</p>
<p>Re: vBulletin like karma.php edit<br>
« Reply <span class="hashtag">#6</span> on: December 24, 2006, 10:40:06 PM »</p>
<p>I was trying to stay away from more db queries, but if thats what needs done <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>Thanks so much, if you ever need any java help I’ll repay the favor <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Merry Christmas and Happy Holidays again. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Kirby<br>
SMF Friend<br>
Simple Machines Hero<br>
*<br>
Offline Offline</p>
<p>Posts: 1,534</p>
<p>View Profile</p>
<p>Re: vBulletin like karma.php edit<br>
« Reply <span class="hashtag">#7</span> on: December 24, 2006, 10:42:12 PM »</p>
<p>Hey, thanks <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=6" title=":wink:" class="emoji" alt=":wink:"><br>
Thats the best way to do it IMO. All of the other queries in Karma.php are for the receiver. updateMemberData does a query itself anyway, so really you are adding 2 queries <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>Enjoy the holidays</p>
<p>akabugeyes<br>
Doc Coordinator<br>
Simple Machines Hero<br>
*<br>
Online Online</p>
<p>Gender: Male<br>
Posts: 7,178</p>
<p>Will be busy for awhile!</p>
<p>View Profile WWW</p>
<p>Re: vBulletin like karma.php edit<br>
« Reply <span class="hashtag">#8</span> on: December 24, 2006, 10:58:11 PM »</p>
<p>Instead of having to do another query every time you can add the karmaGood value to the $user_info array in Sources/Load.php.</p>
<p>Code:</p>
<pre><code>// Set up the $user_info array.
$user_info += array(
</code></pre>
<p>Add at the end before the );</p>
<p>Code:</p>
<pre><code>	'karmaGood' =&gt; empty($user_settings['karmaGood']) ? 0 : $user_settings['karmaGood'],
</code></pre>
<p>Kirby<br>
SMF Friend<br>
Simple Machines Hero<br>
*<br>
Offline Offline</p>
<p>Posts: 1,534</p>
<p>View Profile</p>
<p>Re: vBulletin like karma.php edit<br>
« Reply <span class="hashtag">#9</span> on: December 24, 2006, 11:02:17 PM »</p>
<p>That would add it in for every single page load though.<br>
Logged<br>
I am missing in action for quite a while, lots of things to do. Sorry if I don’t respond to anyone<br>
moparisthebest<br>
Newbie<br>
*<br>
Offline Offline</p>
<p>Posts: 12</p>
<p>View Profile</p>
<p>Re: vBulletin like karma.php edit<br>
« Reply <span class="hashtag">#10</span> on: December 25, 2006, 02:23:39 AM »</p>
<p>Great, it works perfectly, if anyone needs/wants my modified karma.php just give me a shout.</p>
</blockquote>
<p>Okay, Thug and me want teh Karma thing, but you said L2php, so yulie ?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/mopar-yulie/93428/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/mopar-yulie/93428/1</link>
        <pubDate>Sat, 12 May 2007 23:59:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-93428-1</guid>
        <source url="https://forum.moparisthebest.com/t/mopar-yulie/93428.rss">Mopar, yulie?</source>
      </item>
  </channel>
</rss>
