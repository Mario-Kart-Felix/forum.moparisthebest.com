<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/creating-a-basic-queuing-system/355263 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 16:13:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Creating a basic queuing system - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hi guys, I&amp;#39;ve decided to write up a quick tutorial on how to create a queue. Queue&amp;#39;s can be useful for many things, but I&amp;#39;ll leave you to decide on how you want to use it. One example of how I use it, is for handling pac&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="355263.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Creating a basic queuing system&#39;" href="355263.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/creating-a-basic-queuing-system/355263" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/creating-a-basic-queuing-system/355263" />
<meta property="og:title" content="Creating a basic queuing system" />
<meta name="twitter:title" content="Creating a basic queuing system" />
<meta property="og:description" content="Hi guys, I’ve decided to write up a quick tutorial on how to create a queue.  Queue’s can be useful for many things, but I’ll leave you to decide on how you want to use it.  One example of how I use it, is for handling packets, like so:  [code]package org.ecstasy.animus.game.networking.utilities;  import java.util.ArrayList;  import java.util.List;  import java.util.Queue;  import java.util.concurrent.LinkedBlockingQueue;  import org.ecstasy.animus.game.networking.Packet;  public class PacketQue..." />
<meta name="twitter:description" content="Hi guys, I’ve decided to write up a quick tutorial on how to create a queue.  Queue’s can be useful for many things, but I’ll leave you to decide on how you want to use it.  One example of how I use it, is for handling packets, like so:  [code]package org.ecstasy.animus.game.networking.utilities;  import java.util.ArrayList;  import java.util.List;  import java.util.Queue;  import java.util.concurrent.LinkedBlockingQueue;  import org.ecstasy.animus.game.networking.Packet;  public class PacketQue..." />
<meta property="article:published_time" content="2010-08-16T20:54:55+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="355263.html">Creating a basic queuing system</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/kidzz12.html'><span itemprop='name'>kidzz12</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-16T20:54:55Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:39:53Z' class='post-time'>
              July 31, 2016,  6:39pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi guys, I’ve decided to write up a quick tutorial on how to create a queue.<br>
Queue’s can be useful for many things, but I’ll leave you to decide on how you want to use it.<br>
One example of how I use it, is for handling packets, like so:</p>
<p>[code]package org.ecstasy.animus.game.networking.utilities;</p>
<p>import java.util.ArrayList;<br>
import java.util.List;<br>
import java.util.Queue;<br>
import java.util.concurrent.LinkedBlockingQueue;</p>
<p>import org.ecstasy.animus.game.networking.Packet;</p>
<p>public class PacketQueue<br>
{<br>
private final Queue packets = new LinkedBlockingQueue();</p>
<pre><code>/**
 * Adds a packet to the queue
 * 
 * @param packet
 */
public void add(final Packet packet)
{
	synchronized (this.packets)
	{
		/*
		 * Offers the packet to the queue
		 */
		this.packets.offer(packet);
	}
}

/**
 * A list of all of the queued packets
 * 
 * @return The list of all of the packets
 */
public List&lt;Packet&gt; getPackets()
{
	synchronized (this.packets)
	{
		/*
		 * The list of all of the packets
		 */
		final List&lt;Packet&gt; tmpList = new ArrayList&lt;Packet&gt;(this.packets
				.size());
		/*
		 * Adds all of the packets
		 */
		tmpList.addAll(this.packets);
		/*
		 * Clears the queue
		 */
		this.packets.clear();
		/*
		 * Returns the list
		 */
		return tmpList;
	}
}

/**
 * Determines whether or not the queue has packets left
 * 
 * @return
 */
public boolean hasPackets()
{
	synchronized (this.packets)
	{
		return !this.packets.isEmpty();
	}
}

/**
 * Executes and removes the first packet of the queue If the queue is empty,
 * it will return null
 * 
 * @return java.util.Queue.poll()
 * @throws InterruptedException
 */
public Packet poll() throws InterruptedException
{
	synchronized (this.packets)
	{
		/*
		 * If the queue is empty, it will wait
		 */
		while (this.packets.isEmpty())
		{
			/*
			 * Wait
			 */
			this.packets.wait();
		}
		/*
		 * Executes the first packet of the queue and removes it
		 */
		return this.packets.poll();
	}
}
</code></pre>
<p>}[/code]</p>
<p>Now, I’m going to cut this down for you.</p>
<pre><code class="lang-auto">	private final Queue&lt;Packet&gt; packets = new LinkedBlockingQueue&lt;Packet&gt;();</code></pre>
<p>This is a list containing all of the packets. Very self explanatory.</p>
<p><code>	/**
	 * Adds a packet to the queue
	 * 
	 * @param packet
	 */
	public void add(final Packet packet)
	{
		synchronized (this.packets)
		{
			/*
			 * Offers the packet to the queue
			 */
			this.packets.offer(packet);
		}
	}</code></p>
<p>This method will offer a packet to the “packets” list.</p>
<pre><code class="lang-auto">		synchronized (this.packets)</code></pre>
<p>This piece of code synchronizes the packets list, meaning that nothing can be executed at the same time, and nothing will be skipped.</p>
<pre><code class="lang-auto">			this.packets.offer(packet);</code></pre>
<p>This piece of code will offer the packet to the list. This inserts the specified element into this queue if it is possible to do so immediately without violating capacity restrictions. When using a capacity-restricted queue, this method is generally preferable to add(E), which can fail to insert an element only by throwing an exception.</p>
<p><code>	/**
	 * A list of all of the queued packets
	 * 
	 * @return The list of all of the packets
	 */
	public List&lt;Packet&gt; getPackets()
	{
		synchronized (this.packets)
		{
			/*
			 * The list of all of the packets
			 */
			final List&lt;Packet&gt; tmpList = new ArrayList&lt;Packet&gt;(this.packets
					.size());
			/*
			 * Adds all of the packets
			 */
			tmpList.addAll(this.packets);
			/*
			 * Clears the queue
			 */
			this.packets.clear();
			/*
			 * Returns the list
			 */
			return tmpList;
		}
	}</code><br>
This method returns the list of all of the packets in the list. Very self explanatory.</p>
<pre><code class="lang-auto">			this.packets.clear();</code></pre>
<p>Removes all of the elements from this collection (optional operation). The collection will be empty after this method returns.</p>
<p><code>	/**
	 * Determines whether or not the queue has packets left
	 * 
	 * @return
	 */
	public boolean hasPackets()
	{
		synchronized (this.packets)
		{
			return !this.packets.isEmpty();
		}
	}</code></p>
<p>This method determines whether or not the queue has any packets remaining. You can use this for something like, if you schedule an event, you could do:</p>
<p><code>PacketQueue queue = new PacketQueue();
if(queue.hasPackets()) {
        // EXECUTE CODE
}</code></p>
<p><code>
			return !this.packets.isEmpty();</code><br>
Returns true if this collection contains no elements.</p>
<p><code>	/**
	 * Executes and removes the first packet of the queue If the queue is empty,
	 * it will return null
	 * 
	 * @return java.util.Queue.poll()
	 * @throws InterruptedException
	 */
	public Packet poll() throws InterruptedException
	{
		synchronized (this.packets)
		{
			/*
			 * If the queue is empty, it will wait
			 */
			while (this.packets.isEmpty())
			{
				/*
				 * Wait
				 */
				this.packets.wait();
			}
			/*
			 * Executes the first packet of the queue and removes it
			 */
			return this.packets.poll();
		}
	}</code><br>
This will poll all of the current packets in the queue.</p>
<pre><code class="lang-auto">			while (this.packets.isEmpty())</code></pre>
<p>While the queue is empty, it call this:</p>
<p><code>				/*
				 * Wait
				 */
				this.packets.wait();</code></p>
<p>Causes the current thread to wait until another thread invokes the notify() method or the notifyAll() method for this object. In other words, this method behaves exactly as if it simply performs the call wait(0).</p>
<pre><code class="lang-auto">			return this.packets.poll();</code></pre>
<p>Retrieves and removes the head of this queue, or returns null if this queue is empty.</p>
<p>Enjoy, I hope you learned something. Queue’s are very simple to use, and very handy in some cases.</p>
      </div>

      <meta itemprop='headline' content='Creating a basic queuing system'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-16T20:57:18Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:39:53Z' class='post-time'>
              July 31, 2016,  6:39pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Is this just the code that your source uses, or did you actually write it. Because:</p>
<blockquote>Make sure that the work you post is only yours, unless you have permission to post someone else's work and accredit them appropriately. Stealing work is not tolerated here.</blockquote>
<p>I don’t know if it is, it’s just because I read:<br>
package org.ecstasy.animus.game.networking.utilities;</p>
<p>And I know that you didn’t write ecstasy <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
      </div>

      <meta itemprop='headline' content='Creating a basic queuing system'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/kidzz12.html'><span itemprop='name'>kidzz12</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-17T05:36:51Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:40:35Z' class='post-time'>
              July 31, 2016,  6:40pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>im working with ecstasy from r-s</p>
      </div>

      <meta itemprop='headline' content='Creating a basic queuing system'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rixxx.html'><span itemprop='name'>Rixxx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-17T08:23:18Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:40:40Z' class='post-time'>
              July 31, 2016,  6:40pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="3" data-topic="355263">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/kidzz12/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> kidzz12:</div>
<blockquote>
<p>im working with ecstasy from r-s</p>
</blockquote>
</aside>
<p>Prove that you’re developing the Animus framework with him.</p>
      </div>

      <meta itemprop='headline' content='Creating a basic queuing system'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/kidzz12.html'><span itemprop='name'>kidzz12</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-08-17T16:01:27Z'>
            <time itemprop='dateModified' datetime='2016-07-31T18:41:08Z' class='post-time'>
              July 31, 2016,  6:41pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><div class="lightbox-wrapper"><a class="lightbox" href="http://i37.tinypic.com/s1j2q8.png" title="s1j2q8.png" rel="nofollow noopener"><img src="http://i37.tinypic.com/s1j2q8.png" alt width="602" height="500"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">s1j2q8.png</span><span class="informations">685×568</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><img src="http://i36.tinypic.com/34rek5j.png" alt width="380" height="394"></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i37.tinypic.com/2zf930n.png" title="2zf930n.png" rel="nofollow noopener"><img src="http://i37.tinypic.com/2zf930n.png" alt width="690" height="453"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">2zf930n.png</span><span class="informations">765×503</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><a href="http://tinypic.com/player.php?v=34zhr1h&amp;s=4" rel="nofollow noopener">http://tinypic.com/player.php?v=34zhr1h&amp;s=4</a> - A video of Animus # 4 (Ecstasy finished walking etc on that one)</p>
      </div>

      <meta itemprop='headline' content='Creating a basic queuing system'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/creating-a-basic-queuing-system/355263 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 16:14:00 GMT -->
</html>
