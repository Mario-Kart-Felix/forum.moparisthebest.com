<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Pure Bash GE Update grabber/text notification</title>
    <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490</link>
    <description>This thing grabs your GE updates, through a proxy if you wish, and sends you a text message if the percentage done has increased by a threshold you specify.  It only has a few requirements that must be installed before running, but it checks them and lets you know if you don&#39;t have them.  It also only logs in when the cookie expires, and so is faster and uses less bandwidth than other solutions.  Silabsoft said it can only be run every 2 minutes, so I have it set for a cronjob to do so.

Some credit should be extended to [url=https://www.moparisthebest.com/smf/index.php?action=profile;u=58884]cumescape[/url] for his [url=https://www.moparisthebest.com/smf/index.php/topic,480911.0.html]PHP GE Tool[/url], which I basically took the curl requests from.  It saved me a lot of packet sniffing, so I appreciate it. :)

[code=bash]
#!/bin/bash

# rs user/pass
username=my_rs_user
password=my_rs_pass

# notification command, called like $notify &quot;$message&quot;
notify=&quot;sendEmail -f from@gmail.com -t to@yourdomain.com -s smtp.gmail.com -o tls=yes -xu username -xp password -m&quot;

# only notify you if the completion percentage of your offer changed by this much
percent_diff=10

# other settings
proxy=&quot;--socks5 localhost:1081&quot;
cookie_file=/tmp/cookies.txt
percent_file=/tmp/percents
timestamp_file1=/tmp/limit
timestamp_file2=/tmp/timestamp
user_agent=&quot;Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.13) Gecko/20101206 Ubuntu/10.04 (lucid) Firefox/3.6.13&quot;

# you can customize your call to curl here, but you shouldn&#39;t need to touch below this
ge_curl() {
     curl -s -o - $proxy -b &quot;$cookie_file&quot; -c &quot;$cookie_file&quot; -A &quot;$user_agent&quot; &quot;$@&quot;
}

# check we have all pre-requisites before attempting to run
all_programs=0
for prog in curl touch grep echo xpath sed cut date sendEmail
do
     command -v &quot;$prog&quot; &gt;/dev/null 2&gt;&amp;1 || { echo &quot;This program requires $prog but it&#39;s not installed.&quot; &gt;&amp;2; all_programs=1; }
done

if [ &quot;$all_programs&quot; -ne 0 ]
then
     echo &quot;We don&#39;t have all the required programs, aborting...&quot; &gt;&amp;2
     exit 1
fi

# this shouldn&#39;t be ran more often than every 2 minutes, ensure this here
# if you feel lucky, you can lower the 120 second limit below, but silabsoft says they will ban you...
touch -d &#39;-120 second&#39; $timestamp_file1
if [ -f $timestamp_file2 ] &amp;&amp; [ $timestamp_file2 -nt $timestamp_file1 ]
then
     echo &quot;This program has been ran less than 120 seconds ago, aborting...&quot;
     exit 1
fi
touch $timestamp_file2

cookie_expiration=$(grep toolbar_hash &quot;$cookie_file&quot; | cut -f5)
if [ &quot;$cookie_expiration&quot; = &quot;&quot; ] || [ $cookie_expiration -lt $(date +%s) ]
then
     echo &quot;Valid cookie doesn&#39;t exist or has expired. Logging in again&quot;
     rm -f &quot;$cookie_file&quot;

     login_result=$(ge_curl -d &quot;password=$password&amp;username=$username&amp;rem=0&amp;mod=toolbar&amp;ssl=0&amp;dest=authorise.ws&quot; &quot;https://secure.runescape.com/m=weblogin/login.ws?mod=toolbar&amp;ssl=0&amp;expired=0&amp;dest=authorise.ws&quot;)
     #echo &quot;login_result: $login_result&quot;
     if [ &quot;$(echo $login_result | grep &#39;Invalid Login or Password&#39;)&quot; != &quot;&quot; ]
     then
          echo &quot;Invalid username/password.  After 3 attempts they will add a captcha and this will fail for 24 hours regardless.  Login failed, aborting.&quot;
          rm -f &quot;$cookie_file&quot;
          exit 1
     else
          echo &quot;Login successful.&quot;
     fi
     auth_result=$(ge_curl -d &quot;remember=remember&amp;submit=login&quot; &quot;http://services.runescape.com/m=toolbar/authorise.ws&quot;)
     #echo &quot;auth_result: $auth_result&quot;
fi


geupdate=$(ge_curl &quot;http://services.runescape.com/m=toolbar/geupdate.ws&quot;)
#geupdate=$(cat ~/newge.xml)
#echo -e $geupdate &gt; ~/newge.xml
if [ &quot;$(echo $geupdate | grep &#39;&lt;DYNAMIC_MENU&gt;&#39;)&quot; = &quot;&quot; ]
then
     echo &quot;Error getting GE Update, aborting.&quot;
     exit 1
fi
result=$(echo $geupdate | xpath -q -e &#39;DYNAMIC_MENU/BUTTON/DEFAULT_BUTTON_TEXT&#39; | sed &quot;s/&lt;[^&gt;]*&gt;//g&quot;)&quot;\n&quot;
# I am also going to get rid of the trailing &#39; gp so far&#39; at the end to save space (for text messages)
result=$result$(echo $geupdate | xpath -q -e &#39;DYNAMIC_MENU/MENU/MENU_ITEM/CAPTION&#39; | sed &quot;s/&lt;[^&gt;]*&gt;//g&quot; | sed &quot;s/ gp so far//g&quot;)
# hack for switching from dash to bash
result=$(echo -e &quot;$result&quot;)
echo &quot;$result&quot;

# now parse out % dones and save them to file for comparison
percents=$(echo &quot;$result&quot; | grep &#39;%&#39; | sed &quot;s/%.*//&quot; | sed &quot;s/.*, //&quot;)
line_num=1
for new_percent in $percents
do
     old_percent=$(sed -n ${line_num}p $percent_file)
     diff_percent=$(($new_percent - $old_percent))
     #echo &quot;line $line_num, new_percent: $new_percent, old_percent: $old_percent, diff_percent: $diff_percent&quot;
     if [ &quot;$diff_percent&quot; -ge &quot;$percent_diff&quot; ] || [ &quot;$diff_percent&quot; -lt 0 ] || [[ &quot;$new_percent&quot; -eq 100 &amp;&amp; &quot;$old_percent&quot; -ne 100 ]]
     then
          #echo &quot;Sending update.&quot;
          echo &quot;$percents&quot; &gt; $percent_file
          $notify &quot;$result&quot;
          break
     fi
     line_num=$(($line_num + 1))
done
[/code]

Post any questions about it here.  (this should run in windows with cygwin as well)

edit: Well just now logging in magically quit working for me, using my previous cookies.txt still works fine though, does anyone else have this problem?  (it says my user/pass is wrong, but it isn&#39;t)</description>
    
    <lastBuildDate>Wed, 09 Mar 2011 22:18:17 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Pure Bash GE Update grabber/text notification</title>
        <dc:creator><![CDATA[@cumescape cumescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cumescape">@cumescape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Miss Silabsoft, post:9, topic:385490”]actually just go and login in a regular browser and your fine.[/quote]Only if its the same IP. Which in my situation I couldn’t.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/10</link>
        <pubDate>Wed, 09 Mar 2011 22:18:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385490-10</guid>
        <source url="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss">Pure Bash GE Update grabber/text notification</source>
      </item>
      <item>
        <title>Pure Bash GE Update grabber/text notification</title>
        <dc:creator><![CDATA[@silabsoft RuneAgent]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/silabsoft">@silabsoft</a> wrote:</p>
          <blockquote>
              <p>[quote=“cumescape, post:5, topic:385490”][quote author=Moparisthebest link=topic=481242.msg3523962#msg3523962 date=1299635606]<br>
edit: Well just now logging in magically quit working for me, using my previous cookies.txt still works fine though, does anyone else have this problem?  (it says my user/pass is wrong, but it isn’t)<br>
[/quote]I had a problem with that where you would login with the wrong username/password it would add a captcha (after 3 attempts). It seems it doesn’t disappear for 24 hours.[/quote]<br>
actually just go and login in a regular browser and your fine.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/9</link>
        <pubDate>Wed, 09 Mar 2011 21:23:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385490-9</guid>
        <source url="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss">Pure Bash GE Update grabber/text notification</source>
      </item>
      <item>
        <title>Pure Bash GE Update grabber/text notification</title>
        <dc:creator><![CDATA[@cumescape cumescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cumescape">@cumescape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Pwnd, post:7, topic:385490”]inb4getoolswritteninassembly[/quote]It has to be done! Then we can move onto BASIC.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/8</link>
        <pubDate>Wed, 09 Mar 2011 20:36:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385490-8</guid>
        <source url="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss">Pure Bash GE Update grabber/text notification</source>
      </item>
      <item>
        <title>Pure Bash GE Update grabber/text notification</title>
        <dc:creator><![CDATA[@Pwnd Pwnd]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pwnd">@Pwnd</a> wrote:</p>
          <blockquote>
              <p>inb4getoolswritteninassembly</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/7</link>
        <pubDate>Wed, 09 Mar 2011 18:15:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385490-7</guid>
        <source url="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss">Pure Bash GE Update grabber/text notification</source>
      </item>
      <item>
        <title>Pure Bash GE Update grabber/text notification</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <p>Ok, good, that would be the problem because I was checking my error handling with a bad user/pass. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>edit:<br>
Also, I introduced a small bug into this last night where it would send an update every time when it reached 100%, I have fixed that, it will now only send an update the first time it reaches 100%, regardless of your percent_diff.  Also I enforce a 2 minute limit so you don’t run it too often and get temporarily blocked by Jagex.</p>
<p>I think I’m done with it, let me know if you guys have any problems or requests.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/6</link>
        <pubDate>Wed, 09 Mar 2011 14:26:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385490-6</guid>
        <source url="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss">Pure Bash GE Update grabber/text notification</source>
      </item>
      <item>
        <title>Pure Bash GE Update grabber/text notification</title>
        <dc:creator><![CDATA[@cumescape cumescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cumescape">@cumescape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Moparisthebest, post:1, topic:385490”]edit: Well just now logging in magically quit working for me, using my previous cookies.txt still works fine though, does anyone else have this problem?  (it says my user/pass is wrong, but it isn’t)[/quote]I had a problem with that where you would login with the wrong username/password it would add a captcha (after 3 attempts). It seems it doesn’t disappear for 24 hours.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/5</link>
        <pubDate>Wed, 09 Mar 2011 14:22:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385490-5</guid>
        <source url="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss">Pure Bash GE Update grabber/text notification</source>
      </item>
      <item>
        <title>Pure Bash GE Update grabber/text notification</title>
        <dc:creator><![CDATA[@Ollie Ollie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ollie">@Ollie</a> wrote:</p>
          <blockquote>
              <p>I use the 3 network, haven’t been able to find one yet <img src="https://forum.moparisthebest.com/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/4</link>
        <pubDate>Wed, 09 Mar 2011 12:17:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385490-4</guid>
        <source url="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss">Pure Bash GE Update grabber/text notification</source>
      </item>
      <item>
        <title>Pure Bash GE Update grabber/text notification</title>
        <dc:creator><![CDATA[@Greeny Greeny]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/greeny">@Greeny</a> wrote:</p>
          <blockquote>
              <p>[quote=“Ollie, post:2, topic:385490”]careful, those curl requests could be scam redirects to steal your pw’s!! [/sarc]</p>
<p>Thanks, will use this when I find a decent text service for the UK. I will test it on my ubuntu machine when I wake up tomorrow, its late now :p[/quote]</p>
<p>I believe you can email <a class="mention" href="/u/operator">@operator</a> to send text messages for free to phones from computers. Anywhere in the world.</p>
<p><a href="http://www.mutube.com/projects/open-email-to-sms/gateway-list/" class="onebox" target="_blank" rel="nofollow noopener">http://www.mutube.com/projects/open-email-to-sms/gateway-list/</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/3</link>
        <pubDate>Wed, 09 Mar 2011 11:39:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385490-3</guid>
        <source url="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss">Pure Bash GE Update grabber/text notification</source>
      </item>
      <item>
        <title>Pure Bash GE Update grabber/text notification</title>
        <dc:creator><![CDATA[@Ollie Ollie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ollie">@Ollie</a> wrote:</p>
          <blockquote>
              <p>careful, those curl requests could be scam redirects to steal your pw’s!! [/sarc]</p>
<p>Thanks, will use this when I find a decent text service for the UK. I will test it on my ubuntu machine when I wake up tomorrow, its late now <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/2</link>
        <pubDate>Wed, 09 Mar 2011 04:57:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385490-2</guid>
        <source url="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss">Pure Bash GE Update grabber/text notification</source>
      </item>
      <item>
        <title>Pure Bash GE Update grabber/text notification</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <p>This thing grabs your GE updates, through a proxy if you wish, and sends you a text message if the percentage done has increased by a threshold you specify.  It only has a few requirements that must be installed before running, but it checks them and lets you know if you don’t have them.  It also only logs in when the cookie expires, and so is faster and uses less bandwidth than other solutions.  Silabsoft said it can only be run every 2 minutes, so I have it set for a cronjob to do so.</p>
<p>Some credit should be extended to <a href="https://www.moparisthebest.com/smf/index.php?action=profile;u=58884" data-bbcode="true">cumescape</a> for his <a href="https://www.moparisthebest.com/smf/index.php/topic,480911.0.html" data-bbcode="true">PHP GE Tool</a>, which I basically took the curl requests from.  It saved me a lot of packet sniffing, so I appreciate it. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<pre><code class="lang-auto">#!/bin/bash

# rs user/pass
username=my_rs_user
password=my_rs_pass

# notification command, called like $notify "$message"
notify="sendEmail -f from@gmail.com -t to@yourdomain.com -s smtp.gmail.com -o tls=yes -xu username -xp password -m"

# only notify you if the completion percentage of your offer changed by this much
percent_diff=10

# other settings
proxy="--socks5 localhost:1081"
cookie_file=/tmp/cookies.txt
percent_file=/tmp/percents
timestamp_file1=/tmp/limit
timestamp_file2=/tmp/timestamp
user_agent="Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.13) Gecko/20101206 Ubuntu/10.04 (lucid) Firefox/3.6.13"

# you can customize your call to curl here, but you shouldn't need to touch below this
ge_curl() {
     curl -s -o - $proxy -b "$cookie_file" -c "$cookie_file" -A "$user_agent" "$@"
}

# check we have all pre-requisites before attempting to run
all_programs=0
for prog in curl touch grep echo xpath sed cut date sendEmail
do
     command -v "$prog" &gt;/dev/null 2&gt;&amp;1 || { echo "This program requires $prog but it's not installed." &gt;&amp;2; all_programs=1; }
done

if [ "$all_programs" -ne 0 ]
then
     echo "We don't have all the required programs, aborting..." &gt;&amp;2
     exit 1
fi

# this shouldn't be ran more often than every 2 minutes, ensure this here
# if you feel lucky, you can lower the 120 second limit below, but silabsoft says they will ban you...
touch -d '-120 second' $timestamp_file1
if [ -f $timestamp_file2 ] &amp;&amp; [ $timestamp_file2 -nt $timestamp_file1 ]
then
     echo "This program has been ran less than 120 seconds ago, aborting..."
     exit 1
fi
touch $timestamp_file2

cookie_expiration=$(grep toolbar_hash "$cookie_file" | cut -f5)
if [ "$cookie_expiration" = "" ] || [ $cookie_expiration -lt $(date +%s) ]
then
     echo "Valid cookie doesn't exist or has expired. Logging in again"
     rm -f "$cookie_file"

     login_result=$(ge_curl -d "password=$password&amp;username=$username&amp;rem=0&amp;mod=toolbar&amp;ssl=0&amp;dest=authorise.ws" "https://secure.runescape.com/m=weblogin/login.ws?mod=toolbar&amp;ssl=0&amp;expired=0&amp;dest=authorise.ws")
     #echo "login_result: $login_result"
     if [ "$(echo $login_result | grep 'Invalid Login or Password')" != "" ]
     then
          echo "Invalid username/password.  After 3 attempts they will add a captcha and this will fail for 24 hours regardless.  Login failed, aborting."
          rm -f "$cookie_file"
          exit 1
     else
          echo "Login successful."
     fi
     auth_result=$(ge_curl -d "remember=remember&amp;submit=login" "http://services.runescape.com/m=toolbar/authorise.ws")
     #echo "auth_result: $auth_result"
fi


geupdate=$(ge_curl "http://services.runescape.com/m=toolbar/geupdate.ws")
#geupdate=$(cat ~/newge.xml)
#echo -e $geupdate &gt; ~/newge.xml
if [ "$(echo $geupdate | grep '&lt;DYNAMIC_MENU&gt;')" = "" ]
then
     echo "Error getting GE Update, aborting."
     exit 1
fi
result=$(echo $geupdate | xpath -q -e 'DYNAMIC_MENU/BUTTON/DEFAULT_BUTTON_TEXT' | sed "s/&lt;[^&gt;]*&gt;//g")"\n"
# I am also going to get rid of the trailing ' gp so far' at the end to save space (for text messages)
result=$result$(echo $geupdate | xpath -q -e 'DYNAMIC_MENU/MENU/MENU_ITEM/CAPTION' | sed "s/&lt;[^&gt;]*&gt;//g" | sed "s/ gp so far//g")
# hack for switching from dash to bash
result=$(echo -e "$result")
echo "$result"

# now parse out % dones and save them to file for comparison
percents=$(echo "$result" | grep '%' | sed "s/%.*//" | sed "s/.*, //")
line_num=1
for new_percent in $percents
do
     old_percent=$(sed -n ${line_num}p $percent_file)
     diff_percent=$(($new_percent - $old_percent))
     #echo "line $line_num, new_percent: $new_percent, old_percent: $old_percent, diff_percent: $diff_percent"
     if [ "$diff_percent" -ge "$percent_diff" ] || [ "$diff_percent" -lt 0 ] || [[ "$new_percent" -eq 100 &amp;&amp; "$old_percent" -ne 100 ]]
     then
          #echo "Sending update."
          echo "$percents" &gt; $percent_file
          $notify "$result"
          break
     fi
     line_num=$(($line_num + 1))
done</code></pre>
<p>Post any questions about it here.  (this should run in windows with cygwin as well)</p>
<p>edit: Well just now logging in magically quit working for me, using my previous cookies.txt still works fine though, does anyone else have this problem?  (it says my user/pass is wrong, but it isn’t)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490/1</link>
        <pubDate>Wed, 09 Mar 2011 01:53:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385490-1</guid>
        <source url="https://forum.moparisthebest.com/t/pure-bash-ge-update-grabber-text-notification/385490.rss">Pure Bash GE Update grabber/text notification</source>
      </item>
  </channel>
</rss>
