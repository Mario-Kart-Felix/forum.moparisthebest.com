<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Removing a name from a txt</title>
    <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069</link>
    <description>So I have an issue where, let&#39;s say you type a command ::remove playerName 
I want it to remove that single player&#39;s name from the txt file, but for some reason it deletes everything in the file rather than just the name.  My code for deleting: [code=java]	public void deleteFrom(String name, String path) {
		if (name != null) {
			File file = new File(path + &quot;.txt&quot;);
			if (file.exists()) {
				try {
					BufferedReader in = new BufferedReader(new FileReader(file));
					BufferedWriter out = new BufferedWriter(
							new FileWriter(file));
					String inFile;
					while ((inFile = in.readLine()) != null) {
						if (inFile.equalsIgnoreCase(name))
							out.write(inFile);
					}
				} catch (Exception e) {
				}
			}
		}
		updateAll();
	}[/code]
Adding: [code=java]	public void writeTo(String name, String path) {
		BufferedWriter bw = null;
		try {
			bw = new BufferedWriter(new FileWriter(path + &quot;.txt&quot;, true));
			bw.write(name);
			bw.newLine();
			bw.flush();
		} catch (IOException ioe) {
			ioe.printStackTrace();
		} finally {
			if (bw != null) {
				try {
					bw.close();
				} catch (IOException ioe2) {
					System.out.println(&quot;Error writing system log.&quot;);
					ioe2.printStackTrace();
				}
			}
		}
		//updateAll();
	}[/code]
UpdateAll Consists of a few lists of txt files and here is one:
[code=java]	public static void updateAll() {
		testUpdate();
	}[/code]
[code=java]
public static List&lt;String&gt; test = new ArrayList&lt;String&gt;();
	public static void testUpdate() {
		test.clear();
		try {
			BufferedReader in = new BufferedReader(new FileReader(
			&quot;data/text/test.txt&quot;));
			String inFile;
			while ((inFile = in.readLine()) != null) {
				test.add(inFile);
			}
		} catch (Exception e) {
		}
	}
[/code]
Could anyone help me fix this issue?</description>
    
    <lastBuildDate>Tue, 27 Nov 2012 00:04:53 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>[quote=“zyle1992, post:10, topic:470069”]You don’t need to modify it at all. Just call it like you normally would</p>
<p><code>
remove(yourTextFile, thePlayersName);
</code>[/quote]<br>
so since my file is in data/text/test.txt how would I put it in <code>remove(data/text/test.txt, thePlayersName);</code><br>
Lol I’m stupid <code>File file = new File("test.txt");</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/11</link>
        <pubDate>Tue, 27 Nov 2012 00:04:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-11</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>You don’t need to modify it at all. Just call it like you normally would</p>
<pre><code class="lang-auto">remove(yourTextFile, thePlayersName);</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/10</link>
        <pubDate>Mon, 26 Nov 2012 23:55:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-10</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>[quote=“b b0yz 4, post:7, topic:470069”]I think this is where your error is:</p>
<p><code>        public void unTest(Player player, String test) {
                for(Player p : World.getWorld().getPlayers()) {
                        if(p.getUsername().equalsIgnoreCase(test)) {
                                deleteFrom(test, "data/text/test");
                        }
                }
        }</code></p>
<p>You are looping through and if a player is registered in you world if will delete that player from the .txt</p>
<p>You need to be deleting the individual player and looping through the text to see if that player is in the list. If so, delete that player.[/quote]<br>
Lol, the code is saying for all of the players online, if the player’s username equals “test” then delete that player.  That isn’t the error.</p>
<p>[quote=“zyle1992, post:8, topic:470069”]Probably something like</p>
<p><code>public void remove(final File file, final String name) {
    try {
        final FileInputStream fis = new FileInputStream(file);
        final Scanner scanner = new Scanner(fis);
        final ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();
        do {
            final String line = scanner.nextLine();
            if (!line.equals(name)) {
                lines.add(line);
            }
        }
        while (scanner.hasNextLine());
        scanner.close();
        final FileWriter writer = new FileWriter(file);
        for (final String line : lines) {
            writer.append(line);
            writer.append('\n');
        }
        writer.close();
    }
    catch (final IOException e) {
        e.printStackTrace();
    }
}
</code>[/quote]<br>
Could you modify that code a bit so that it kinda works like: <code>
	public void deleteFrom(String name, String path) {
		if (name != null) {
			File file = new File(path + ".txt");
			if (file.exists()) {
				try {
					BufferedReader in = new BufferedReader(new FileReader(file));
					BufferedWriter out = new BufferedWriter(
							new FileWriter(file));
					String inFile;
					while ((inFile = in.readLine()) != null) {
						if (inFile.equalsIgnoreCase(name))
							out.write(inFile);
					}
				} catch (Exception e) {
				}
			}
		}
		updateAll();
	}</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/9</link>
        <pubDate>Mon, 26 Nov 2012 23:50:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-9</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>Probably something like</p>
<p><code>public void remove(final File file, final String name) {
    try {
        final FileInputStream fis = new FileInputStream(file);
        final Scanner scanner = new Scanner(fis);
        final ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();
        do {
            final String line = scanner.nextLine();
            if (!line.equals(name)) {
                lines.add(line);
            }
        }
        while (scanner.hasNextLine());
        scanner.close();
        final FileWriter writer = new FileWriter(file);
        for (final String line : lines) {
            writer.append(line);
            writer.append('\n');
        }
        writer.close();
    }
    catch (final IOException e) {
        e.printStackTrace();
    }
}
</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/8</link>
        <pubDate>Mon, 26 Nov 2012 23:49:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-8</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@b_b0yz_4 b b0yz 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/b_b0yz_4">@b_b0yz_4</a> wrote:</p>
          <blockquote>
              <p>I think this is where your error is:</p>
<p><code>        public void unTest(Player player, String test) {
                for(Player p : World.getWorld().getPlayers()) {
                        if(p.getUsername().equalsIgnoreCase(test)) {
                                deleteFrom(test, "data/text/test");
                        }
                }
        }</code></p>
<p>You are looping through and if a player is registered in you world if will delete that player from the .txt</p>
<p>You need to be deleting the individual player and looping through the text to see if that player is in the list. If so, delete that player.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/7</link>
        <pubDate>Mon, 26 Nov 2012 23:42:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-7</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>If you look at all of my code, this is my code, just renamed.  Test is just a string to put the displayName in the text file: <code>public static List&lt;String&gt; test = new ArrayList&lt;String&gt;();
</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/6</link>
        <pubDate>Mon, 26 Nov 2012 23:38:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-6</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@b_b0yz_4 b b0yz 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/b_b0yz_4">@b_b0yz_4</a> wrote:</p>
          <blockquote>
              <p>What is your “test” variable set to?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/5</link>
        <pubDate>Mon, 26 Nov 2012 23:35:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-5</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="470069">
<div class="title">
<div class="quote-controls"></div>
 b b0yz 4:</div>
<blockquote>
<p>can you give us the code you have for when you enter your command? I want to see how you are implementing the deleteFrom method.</p>
</blockquote>
</aside>
<pre><code class="lang-auto">			if(cmd[0].equals("::allow")) {
				Player other = World.getWorld().getPlayers().get(World.getWorld().getIdFromName(command.substring((command.indexOf(" ") + 1))));
				String user = other.getUsername().replace(" ", "_");
				punish.getTest(player, user);
			}	
			if(cmd[0].equals("::remove")){
				Player other = World.getWorld().getPlayers().get(World.getWorld().getIdFromName(command.substring((command.indexOf(" ") + 1))));
				String user = other.getUsername().replace(" ", "_");
				punish.unTest(player, user);
			}[/code]
[code=java]	public void getTest(Player player, String test) {
		for(Player p : World.getWorld().getPlayers()) {
			if(p.getUsername().equalsIgnoreCase(test)) {
				writeTo(test, "data/text/test");
			}
		}
	}[/code]
[code=java]	public void unTest(Player player, String test) {
		for(Player p : World.getWorld().getPlayers()) {
			if(p.getUsername().equalsIgnoreCase(test)) {
				deleteFrom(test, "data/text/test");
			}
		}
	}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/4</link>
        <pubDate>Mon, 26 Nov 2012 23:31:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-4</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@kill_boy_98 kill boy 98]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kill_boy_98">@kill_boy_98</a> wrote:</p>
          <blockquote>
              <p>You could remove your self</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/3</link>
        <pubDate>Mon, 26 Nov 2012 23:24:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-3</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@b_b0yz_4 b b0yz 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/b_b0yz_4">@b_b0yz_4</a> wrote:</p>
          <blockquote>
              <p>can you give us the code you have for when you enter your command? I want to see how you are implementing the deleteFrom method.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/2</link>
        <pubDate>Mon, 26 Nov 2012 23:12:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-2</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
      <item>
        <title>Removing a name from a txt</title>
        <dc:creator><![CDATA[@sageofmali sageofmali]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sageofmali">@sageofmali</a> wrote:</p>
          <blockquote>
              <p>So I have an issue where, let’s say you type a command ::remove playerName<br>
I want it to remove that single player’s name from the txt file, but for some reason it deletes everything in the file rather than just the name.  My code for deleting: <code>	public void deleteFrom(String name, String path) {
		if (name != null) {
			File file = new File(path + ".txt");
			if (file.exists()) {
				try {
					BufferedReader in = new BufferedReader(new FileReader(file));
					BufferedWriter out = new BufferedWriter(
							new FileWriter(file));
					String inFile;
					while ((inFile = in.readLine()) != null) {
						if (inFile.equalsIgnoreCase(name))
							out.write(inFile);
					}
				} catch (Exception e) {
				}
			}
		}
		updateAll();
	}</code><br>
Adding: <code>	public void writeTo(String name, String path) {
		BufferedWriter bw = null;
		try {
			bw = new BufferedWriter(new FileWriter(path + ".txt", true));
			bw.write(name);
			bw.newLine();
			bw.flush();
		} catch (IOException ioe) {
			ioe.printStackTrace();
		} finally {
			if (bw != null) {
				try {
					bw.close();
				} catch (IOException ioe2) {
					System.out.println("Error writing system log.");
					ioe2.printStackTrace();
				}
			}
		}
		//updateAll();
	}</code><br>
UpdateAll Consists of a few lists of txt files and here is one:</p>
<p><code>	public static void updateAll() {
		testUpdate();
	}</code></p>
<pre><code class="lang-auto">public static List&lt;String&gt; test = new ArrayList&lt;String&gt;();
	public static void testUpdate() {
		test.clear();
		try {
			BufferedReader in = new BufferedReader(new FileReader(
			"data/text/test.txt"));
			String inFile;
			while ((inFile = in.readLine()) != null) {
				test.add(inFile);
			}
		} catch (Exception e) {
		}
	}</code></pre>
<p>Could anyone help me fix this issue?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069/1</link>
        <pubDate>Mon, 26 Nov 2012 23:01:21 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470069-1</guid>
        <source url="https://forum.moparisthebest.com/t/removing-a-name-from-a-txt/470069.rss">Removing a name from a txt</source>
      </item>
  </channel>
</rss>
