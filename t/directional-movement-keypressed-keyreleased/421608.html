<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/directional-movement-keypressed-keyreleased/421608 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 10:09:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Directional Movement (keyPressed, keyReleased) - General Programming - moparisthebest.com</title>
    <meta name="description" content="Yeah. Simple 2D game, pokemon style. There are problems with the releasing the key. If you go one direction, let&amp;#39;s say north, and then the opposite (south) while holding down to both keys, and then releasing the second k&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="421608.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Directional Movement (keyPressed, keyReleased)&#39;" href="421608.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/directional-movement-keypressed-keyreleased/421608" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/directional-movement-keypressed-keyreleased/421608" />
<meta property="og:title" content="Directional Movement (keyPressed, keyReleased)" />
<meta name="twitter:title" content="Directional Movement (keyPressed, keyReleased)" />
<meta property="og:description" content="Yeah. Simple 2D game, pokemon style. There are problems with the releasing the key. If you go one direction, let’s say north, and then the opposite (south) while holding down to both keys, and then releasing the second key (south), you will remain stationary, quite annoying.  Solutions for better directional movement?   	public void keyPressed(KeyEvent e) 	{ 	    int key = e.getKeyCode(); 		switch (key)  		{ 			case KeyEvent.VK_LEFT: 				dx = decrease; 			break; 			 			case KeyEvent.VK_RIGHT: 		..." />
<meta name="twitter:description" content="Yeah. Simple 2D game, pokemon style. There are problems with the releasing the key. If you go one direction, let’s say north, and then the opposite (south) while holding down to both keys, and then releasing the second key (south), you will remain stationary, quite annoying.  Solutions for better directional movement?   	public void keyPressed(KeyEvent e) 	{ 	    int key = e.getKeyCode(); 		switch (key)  		{ 			case KeyEvent.VK_LEFT: 				dx = decrease; 			break; 			 			case KeyEvent.VK_RIGHT: 		..." />
<meta property="article:published_time" content="2011-11-14T08:18:56+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="421608.html">Directional Movement (keyPressed, keyReleased)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/whackatre.html'><span itemprop='name'>whackatre</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-14T08:18:56Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:42:08Z' class='post-time'>
              August 2, 2016,  6:42am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeah. Simple 2D game, pokemon style. There are problems with the releasing the key. If you go one direction, let’s say north, and then the opposite (south) while holding down to both keys, and then releasing the second key (south), you will remain stationary, quite annoying.</p>
<p>Solutions for better directional movement?</p>
<pre><code class="lang-auto">
	public void keyPressed(KeyEvent e)
	{
	    int key = e.getKeyCode();
		switch (key) 
		{
			case KeyEvent.VK_LEFT:
				dx = decrease;
			break;
			
			case KeyEvent.VK_RIGHT:
				dx = increase;
			break;
		
			case KeyEvent.VK_UP:
				dy = decrease;
			break;
			
			case KeyEvent.VK_DOWN:
				dy = increase;
			break;
		}
	}
	
	public void keyReleased(KeyEvent e)
	{
	    int key = e.getKeyCode();
		switch (key) 
		{
			case KeyEvent.VK_LEFT:
			case KeyEvent.VK_RIGHT:
				dx = 0;
			break;
			
			case KeyEvent.VK_UP:
			case KeyEvent.VK_DOWN:
				dy = 0;
			break;
		}
	}
	</code></pre>
      </div>

      <meta itemprop='headline' content='Directional Movement (keyPressed, keyReleased)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/purestmage74.html'><span itemprop='name'>purestmage74</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-14T08:40:01Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:42:08Z' class='post-time'>
              August 2, 2016,  6:42am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Idk, try creating something like this?<br>
Derep me if im a nub, and this doesn’t help…</p>
<p>[code]if (KeyEvent.VK_LEFT &amp;&amp; != KeyEvent.VK_RIGHT) {<br>
//Move West<br>
}</p>
<p>if (KeyEvent.VK_RIGHT &amp;&amp; != KeyEvent.VK_LEFT) {<br>
//Move East<br>
}[/code]</p>
<p>I don’t know, could prove helpful…</p>
      </div>

      <meta itemprop='headline' content='Directional Movement (keyPressed, keyReleased)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-14T08:43:14Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:42:08Z' class='post-time'>
              August 2, 2016,  6:42am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Instead of using = to set direction, use +</p>
<p>for example, on key press (left) do directionX -= 2 (or w/e)<br>
then on key release (left) do directionX += 2</p>
      </div>

      <meta itemprop='headline' content='Directional Movement (keyPressed, keyReleased)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/whackatre.html'><span itemprop='name'>whackatre</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-14T09:18:07Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:42:09Z' class='post-time'>
              August 2, 2016,  6:42am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>David it kept freezing randomly when I did that.</p>
<p>Purestmage I didn’t try your solution but I think it will just create a non 8-directional movement with the same problem that I currently have.</p>
      </div>

      <meta itemprop='headline' content='Directional Movement (keyPressed, keyReleased)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rixxx.html'><span itemprop='name'>Rixxx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-14T10:06:25Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:42:09Z' class='post-time'>
              August 2, 2016,  6:42am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Refer to the relevant piece of code from this thread. <a href="http://gamedev.moparisthebest.com/smf/index.php/topic,523538.0.html" rel="nofollow noopener">http://gamedev.moparisthebest.com/smf/index.php/topic,523538.0.html</a></p>
      </div>

      <meta itemprop='headline' content='Directional Movement (keyPressed, keyReleased)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-14T15:56:33Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:42:16Z' class='post-time'>
              August 2, 2016,  6:42am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="5" data-topic="421608">
<div class="title">
<div class="quote-controls"></div>
 Rix_:</div>
<blockquote>
<p>Refer to the relevant piece of code from this thread. <a href="http://gamedev.moparisthebest.com/smf/index.php/topic,523538.0.html" rel="nofollow noopener">http://gamedev.moparisthebest.com/smf/index.php/topic,523538.0.html</a></p>
</blockquote>
</aside>
<p>It’d be better to create a queue for your keyboard listener then pulling the values accordingly.</p>
<pre><code class="lang-auto">package org.evelus.updatey.awt.registries;

import java.awt.Component;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import org.evelus.updatey.awt.Registry;

/**
 * KeyboardRegistry.java
 * @version 1.0.0
 * @author Evelus Development (SiniSoul)
 */
public class KeyboardRegistry implements KeyListener, Registry {

    /**
     * The key typed mask for the keyboard states.
     */
    private static final int TYPEDMASK = 0x1;

    /**
     * The pressed mask for the keyboard states.
     */
    private static final int PRESSEDMASK = 0x2;

    /**
     * The key states array.
     */
    private byte[] states = null;
    
    /**
     * A key was typed.
     * @param e The key event.
     */
    public void keyTyped(KeyEvent e) {
        char c = e.getKeyChar();
        states[c] |= TYPEDMASK;
    }

    /**
     * Queries if a key is typed and then pops its value.
     * @return If the specified key was typed.
     */
    public boolean queryTyped(char c) {
        boolean bool = (states[c] &amp; TYPEDMASK) != 0;
        states[c] &amp;= ~TYPEDMASK;
        return bool;
    }

    /**
     * A key was pressed.
     * @param e The key event.
     */
    public void keyPressed(KeyEvent e) {
        char c = e.getKeyChar();
        if((int) c !=  65535)
            states[c] |= PRESSEDMASK;
    }

     /**
     * Queries if a key is typed but does not pop its value.
     * @return If the specified key was typed.
     */
    public boolean queryPressed(char c) {
        return (states[c] &amp; PRESSEDMASK) != 0;
    }

    /**
     * A key was released.
     * @param e The key event.
     */
    public void keyReleased(KeyEvent e) {
        char c = e.getKeyChar();
        if((int) c != 65535)
            states[c] &amp;= ~PRESSEDMASK;
    }

    /**
     * Binds this registry to a component.
     * @param component The component to bind the registry to.
     */
    public void bind(Component component) {
        component.addKeyListener(this);
    }

    /**
     * Unbinds this registry to a component.
     * @param component The component to unbind the registry from.
     */
    public void unbind(Component component) {
        component.removeKeyListener(this);
    }

    /**
     */
    public KeyboardRegistry() {
        states = new byte[256];
    }
}</code></pre>
<p>Its good to separate your logic from your handlers.</p>
      </div>

      <meta itemprop='headline' content='Directional Movement (keyPressed, keyReleased)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CoonHunter.html'><span itemprop='name'>CoonHunter</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-14T19:05:16Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:42:24Z' class='post-time'>
              August 2, 2016,  6:42am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Take a look at my Simple 2D game (this actually looks like its based from that due to naming). I admit there is a small freeze there but it fixes after a tick or 2.</p>
      </div>

      <meta itemprop='headline' content='Directional Movement (keyPressed, keyReleased)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/directional-movement-keypressed-keyreleased/421608 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 10:09:14 GMT -->
</html>
