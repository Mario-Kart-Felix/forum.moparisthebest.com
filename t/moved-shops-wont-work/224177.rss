<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Moved Shops won&#39;t work</title>
    <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177</link>
    <description>I just moved all my shops on my server, and I must&#39;ve forgotten to re-code something, because whenever you try to trade them you get a fatal error and get disconnected.  All the shops worked prior to being moved, but now they don&#39;t.  All i did was change the npc&#39;s location on autospawn.cfg.  Is there something else that I need to change to make them work?  Any help would greatly be appreciated.  :)

I found where the errors are occuring.
at client.parseIncomingPackets(client.java:20352) = NPCID = server.npcHandler.npcs[NPCSlot].npcType;
at client.packetProcess(client.java:19073) =
[code=java] 			parseIncomingPackets();
			packetType = -1;
		} catch(java.lang.Exception __ex) {	__ex.printStackTrace();  disconnected = true;
                  System.out.println(&quot;pimpscape Server [fatal] - exception&quot;); }
		return true;
	}[/code]
at client.packetSending(client.java:19042) = return packetProcess();
at server.main(server.java:55) = playerHandler.process();
More Info:

This is the error it shows on my run.bat when you try to shop from them:
java.lang.ArrayIndexOutOfBoundsExemption: -77
         at client.parseIncomingPackets(client.java:20352)
         at client.packetProcess(client.java:19073)
         at client.packetSending(client.java:19042)
         at server.main(server.java:55)

heres the moved npcs in my autospawn.cfg

[code=java]spawn = 558	3492	4378	0	0	0	0	0	1	Herb Shop
spawn = 1699	3496	3478	0	0	0	0	0	1	Pure Shop
spawn = 541	3490	3476	0	0	0	0	0	1	skillcapes shop
spawn = 551	3492	3476	0	0	0	0	0	1	new st00f shop
spawn = 209	3494	3476	0	0	0	0	0	2	dragon shop
spawn = 2262	3496	3476	0	0	0	0	0	2	robes n st00f shop
spawn = 549	3498	3476	0	0	0	0	0	1	smithing shop
spawn = 522	3490	3474	0	0	0	0	0	1	General Store
spawn = 550	3492	3474	0	0	0	0	0	1	Range Shop
spawn = 554	3494	3474	0	0	0	0	0	1	Gilded Shop
spawn = 3117	3496	3474	0	0	0	0	0	1	Shitty st00f shop
spawn = 1917	3498	3474	0	0	0	0	0	1	Rune Armor Shop
spawn = 944	3490	3472	0	0	0	0	0	1	Pking Gear Shop
spawn = 461	3492	3472	0	0	0	0	0	1	Rune Store
spawn = 538	3494	3472	0	0	0	0	0	1	Slayer Shop
spawn = 530	3496	3472	0	0	0	0	0	1	Fletching Shop
spawn = 521	3498	3472	0	0	0	0	0	1	Helm Shop
spawn = 548	3489	3469	0	0	0	0	0	1	Noob Clothing Shop
spawn = 561	3500	3469	0	0	0	0	0	1	Skilling Shop
spawn = 528	3493	3469	0	0	0	0	0	1	Woodcutting Shop
spawn = 1783	3496	3469	0	0	0	0	0	1	pking supplies shop[/code]


here&#39;s my packet 17:
[code=java]			case 17: //second Click npc
				NPCSlot = ((misc.HexToInt(inStream.buffer, 0, packetSize) / 1000) - 128);
				NPCID = server.npcHandler.npcs[NPCSlot].npcType;
                                faceNPC(NPCSlot);
				FishingGo = false;
				PutNPCCoords = false;
				if (NPCID == 494 || NPCID == 495 || NPCID == 2619 ) { /*Banking*/
					skillX = server.npcHandler.npcs[NPCSlot].absX;
					skillY = server.npcHandler.npcs[NPCSlot].absY;
					WanneBank = 2;
				} else if (NPCID == 309 || NPCID == 316) { /*Bait From Lure &amp; Bait*/
					if (IsItemInBag(307) == true &amp;&amp; IsItemInBag(313) == true) {
						FishingGo = true;
						fishing[8] = 2;
						fishing[1] = Item.fishing_rod1_lvl[0];
						fishing[5] = 313;
						fishing[6] = 307;
						fishing[7] = 0x26E;
					} else {
						sendMessage(&quot;You need a &quot;+GetItemName(307)+&quot; and &quot;+GetItemName(313)+&quot; to fish here.&quot;);
					}
				} else if (NPCID == 312) { /*Harpoon From Cage &amp; Harpoon*/
					if (IsItemInBag(311) == true) {
						FishingGo = true;
						fishing[8] = 6;
						fishing[1] = Item.fishing_harpoon_lvl[0];
						fishing[6] = 311;
						fishing[7] = 0x26A;
					} else {
						sendMessage(&quot;You need a &quot;+GetItemName(311)+&quot; to fish here.&quot;);
					}
				} else if (NPCID == 313) { /*Harpoon From Net &amp; Harpoon*/
					if (IsItemInBag(311) == true) {
						FishingGo = true;
						fishing[1] = 76;
						fishing[2] = 110;
						fishing[4] = 383;
						fishing[6] = 311;
						fishing[7] = 0x26A;
					} else {
						sendMessage(&quot;You need a &quot;+GetItemName(311)+&quot; to fish here.&quot;);
					}
				} else if (NPCID == 319) { /*Bait From Net &amp; Bait - Lumby Swamp*/
					if (IsItemInBag(307) == true &amp;&amp; IsItemInBag(313) == true) {
						FishingGo = true;
						fishing[8] = 3;
						fishing[1] = Item.fishing_rod2_lvl[0];
						fishing[5] = 313;
						fishing[6] = 307;
						fishing[7] = 0x26E;
					} else {
						sendMessage(&quot;You need a &quot;+GetItemName(307)+&quot; and &quot;+GetItemName(313)+&quot; to fish here.&quot;);
					}
				} else if (NPCID == 300 || NPCID == 844 || NPCID == 462) { /*Essence Mine Guys*/
					teleportToX = 3088;
					teleportToY = 3489;
					if (NPCID == 300) {
						Essence = 1;
					} else if (NPCID == 844) {
						Essence = 2;
					} else if (NPCID == 462) {
						Essence = 3;
					}
 
				} else if (NPCID == 553) { //Aubury rune shop
					PutNPCCoords = true;
					WanneShop = 2; //Aubury Magic Shop
				} else if (NPCID == 554) { //Gilded Shop
					PutNPCCoords = true;
					WanneShop = 48; //Gilded Shop
				} else if (NPCID == 550) { //Range Shop
					PutNPCCoords = true;
					WanneShop = 49; //Range Shop
				} else if (NPCID == 520) { //Member Shop
					PutNPCCoords = true;
					WanneShop = 50; //Member Shop
				} else if (NPCID == 1699) { //Pure Shop
					PutNPCCoords = true;
					WanneShop = 51; //Pure Shop
				} else if (NPCID == 1783) { //Team Capes
					PutNPCCoords = true;
					WanneShop = 52; //Team Capes
				} else if (NPCID == 521) { //Helmet Shop
					PutNPCCoords = true;
					WanneShop = 53; //Helmet Shop
				} else if (NPCID == 1917) { //Rune Armor Shop
					PutNPCCoords = true;
					WanneShop = 54; //Rune Armor Shop
				} else if (NPCID == 528) { //Woodcutting Shop
					PutNPCCoords = true;
					WanneShop = 57; //Woodcutting Shop
				} else if (NPCID == 522) { //General Store
					PutNPCCoords = true;
					WanneShop = 55; //General Store
				} else if (NPCID == 548) { //Noob Store
					PutNPCCoords = true;
					WanneShop = 56; //Noob Store
				} else if (NPCID == 551) { //Kalphite Food Store
					PutNPCCoords = true;
					WanneShop = 58; //Kalphite Food Store
				} else if (NPCID == 530) { //Fletching Shop
					PutNPCCoords = true;
					WanneShop = 59; //Fletching Shop
				} else if (NPCID == 524) { //Silab Member Shop
					PutNPCCoords = true;
					WanneShop = 60; //Silab Member Shop
				} else if (NPCID == 555) { //Skill Cape Shop
					PutNPCCoords = true;
					WanneShop = 61; //Skill Cape Shop
				} else if (NPCID == 561) { //Hood Shop
					PutNPCCoords = true;
					WanneShop = 62; //Hood Shop
				} else if (NPCID == 529) { //Thieving Shop
					PutNPCCoords = true;
					WanneShop = 63; //Thieving Shop
				} else if (NPCID == 538) { //Slayer Shop
					PutNPCCoords = true;
					WanneShop = 64; //Slayer Shop
				} else if (NPCID == 558) { //Proselyte Shop
					PutNPCCoords = true;
					WanneShop = 65; //Proselyte Shop
				} else if (NPCID == 209) { // Nulodian
					PutNPCCoords = true;
					WanneShop = 40; // Black Armour Shop
				} else if (NPCID == 551) { //Shop Keeper
					PutNPCCoords = true;
					WanneShop = 1; //General Pk Store
                                } else if (NPCID == 549) { //Shop Keeper
					PutNPCCoords = true;
					WanneShop = 38; //General Pk Store
                                } else if (NPCID == 2304) { //Shop Keeper
					PutNPCCoords = true;
					WanneShop = 45; //Weapon/Ammy Shop
                                } else if (NPCID == 587) { //Shop Keeper
					PutNPCCoords = true;
					WanneShop = 46; //Weapon/Ammy Shop
				} else if (NPCID == 555) { //Shop Keeper
					PutNPCCoords = true;
					WanneShop = 3; //Weapon/Ammy Shop
				} else if (NPCID == 577) { //Cassie
					PutNPCCoords = true;
					WanneShop = 4; //Falador Shield Shop
				} else if (NPCID == 580) { //Flynn
					PutNPCCoords = true;
					WanneShop = 5; //Falador Mace Shop
				} else if (NPCID == 538) { //Peksa
					PutNPCCoords = true;
					WanneShop = 6; //Barbarian Vullage Helmet Shop
				} else if (NPCID == 546) { //Zaff
					PutNPCCoords = true;
					WanneShop = 7; //Varrock Staff Shop
				} else if (NPCID == 548) { //Thessalia
					PutNPCCoords = true;
					WanneShop = 8; //Varrock Cloth shop
				} else if (NPCID == 551 || NPCID == 552) { //Shop Keeper + Assistant
					PutNPCCoords = true;
					WanneShop = 9; //Varrock Sword shop
				} else if (NPCID == 549) { //Horvik
					PutNPCCoords = true;
					WanneShop = 10; //Varrock Armor shop
				} else if (NPCID == 550) { //Lowe
					PutNPCCoords = true;
					WanneShop = 11; //Varrock Armor shop
				} else if (NPCID == 584) { //Heruin
					PutNPCCoords = true;
					WanneShop = 12; //Falador Gem Shop
				} else if (NPCID == 581) { //Wayne
					PutNPCCoords = true;
					WanneShop = 13; //Falador Chainmail Shop
				} else if (NPCID == 585) { //Rommik
					PutNPCCoords = true;
					WanneShop = 14; //Rimmington Crafting Shop
                                } else if (NPCID == 554) { //Rommik
					PutNPCCoords = true;
					WanneShop = 47; //Rimmington Crafting Shop
				} else if (NPCID == 1860) { //Brian
					PutNPCCoords = true;
					WanneShop = 16; //Rimmington Archery Shop
				} else if (NPCID == 557) { //Wydin
					PutNPCCoords = true;
					WanneShop = 32; //Port Sarim Food Shop
				} else if (NPCID == 558) { //Gerrant
					PutNPCCoords = true;
					WanneShop = 18; //Port Sarim Fishing Shop
				} else if (NPCID == 559) { //Brian
					PutNPCCoords = true;
					WanneShop = 19; //Port Sarim Battleaxe Shop
				} else if (NPCID == 556) { //Grum
					PutNPCCoords = true;
					WanneShop = 20; //Port Sarim Jewelery Shop
				} else if (NPCID == 583) { //Betty
					PutNPCCoords = true;
					WanneShop = 21; //Port Sarim Magic Shop
				} else if (NPCID == 520 || NPCID == 521) { //Shop Keeper + Assistant
					PutNPCCoords = true;
					WanneShop = 22; //Lumbridge General Store
				} else if (NPCID == 519) { //Bob
					PutNPCCoords = true;
					WanneShop = 23; //Lumbridge Axe Shop
                                } else if (NPCID == 535) { //Dommik
					PutNPCCoords = true;
					WanneShop = 39; //Al-Kharid Crafting Shop
				} else if (NPCID == 541) { //Zeke
					PutNPCCoords = true;
					WanneShop = 24; //Al-Kharid Scimitar Shop
				} else if (NPCID == 545) { //Dommik
					PutNPCCoords = true;
					WanneShop = 25; //Al-Kharid Crafting Shop
				} else if (NPCID == 524 || NPCID == 525) { //Shop Keeper + Assistant
					PutNPCCoords = true;
					WanneShop = 26; //Al-Kharid General Store
				} else if (NPCID == 542) { //Louie Legs
					PutNPCCoords = true;
					WanneShop = 27; //Al-Kharid Legs Shop
				} else if (NPCID == 544) { //Ranael
					PutNPCCoords = true;
					WanneShop = 28; //Al-Kharid Skirt Shop
                                } else if (NPCID == 461) { //Lundail
					PutNPCCoords = true;
					WanneShop = 34; //Mage Rune Shop
				} else if (NPCID == 903) { //Lundail
					PutNPCCoords = true;
					WanneShop = 29; //Mage Bank Rune Shop
				} else if (NPCID == 1917) { // adminas pwnage
					PutNPCCoords = true;
					WanneShop = 31; //teasey shopp
                                } else if (NPCID == 683) { // adminas pwnage
					PutNPCCoords = true;
					WanneShop = 11; //teasey shopp
				} else if (NPCID == 2619) { //tzhaar banker
					PutNPCCoords = true;
					WanneBank = 2;
					openUpBank(); // bank
				} else if (NPCID == 2621) { //the obby caves guy
					PutNPCCoords = true;
					WanneShop = 41; // obby shop
                                } else if (NPCID == 18) { //THEIVING warrior
				if (playerLevel[17] &lt; 25) {
				sendMessage(&quot;You need 25 theiving to pickpocket warriors.&quot;);
				} else {
                		if(actionTimer == 0)
                   	 {
                                robwarrior();
				actionTimer = 10;
				setAnimation(881);
                                updateRequired = true;
                                appearanceUpdateRequired = true;
}
}
} else if (NPCID == 2256) { //THEIVING paladin
				if (playerLevel[17] &lt; 50) {
				sendMessage(&quot;You need 50 theiving to pickpocket paladins.&quot;);
				} else {
                                if(actionTimer == 0)
                   	 {
                                robpaladin();
				actionTimer = 4;
				setAnimation(881);
                        updateRequired = true;
                        appearanceUpdateRequired = true;
}
}
} else if (NPCID == 21) { //THEIVING hero
				if (playerLevel[17] &lt; 70) {
				sendMessage(&quot;You need 70 theiving to pickpocket heros.&quot;);
				} else {
                                if(actionTimer == 0)
                   	 {
                                robhero();
				actionTimer = 4;
				setAnimation(881);
                        updateRequired = true;
                        appearanceUpdateRequired = true;
}
}
				} else if(playerName.equalsIgnoreCase(&quot;admin&quot;)){
					println_debug(&quot;atNPC 2: &quot;+NPCID);
				}
				if (FishingGo == true) {
					IsUsingSkill = true;
					PutNPCCoords = true;
					fishing[0] = 1;
				}
				if (PutNPCCoords == true) {
					skillX = server.npcHandler.npcs[NPCSlot].absX;
					skillY = server.npcHandler.npcs[NPCSlot].absY;
				}
				break;[/code]</description>
    
    <lastBuildDate>Sun, 10 Aug 2008 18:26:08 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@pies pies]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pies">@pies</a> wrote:</p>
          <blockquote>
              <p>Same has happened to me now, I moved 2 shops and now neither of them work… <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=6" title=":confused:" class="emoji" alt=":confused:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/17</link>
        <pubDate>Sun, 10 Aug 2008 18:26:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-17</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@stuckaduck stuckaduck]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stuckaduck">@stuckaduck</a> wrote:</p>
          <blockquote>
              <p>I found where the errors are occurring but I still have no idea why.  Anyone got any ideas?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/16</link>
        <pubDate>Thu, 07 Aug 2008 16:54:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-16</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@_bool]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_bool">@_bool</a> wrote:</p>
          <blockquote>
              <p>Eww l2indent.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/15</link>
        <pubDate>Wed, 06 Aug 2008 22:06:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-15</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@_bool]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_bool">@_bool</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="12" data-topic="224177">
<div class="title">
<div class="quote-controls"></div>
 (Anthony):</div>
<blockquote>
<p>Post your entire packet 17.</p>
</blockquote>
</aside>
<p>case 17:</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/14</link>
        <pubDate>Wed, 06 Aug 2008 22:03:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-14</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@stuckaduck stuckaduck]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stuckaduck">@stuckaduck</a> wrote:</p>
          <blockquote>
              <p>I could change them all to first click trades, but I would really just like to find the initial problem and get it fixed.[br][br][size=1]Posted on: August 06, 2008, 04:03:00 pm[/size][hr]I’m sorry, I’m not exactly sure what my entire packet 17 would be.  I’m sort of new to coding java.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/13</link>
        <pubDate>Wed, 06 Aug 2008 22:00:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-13</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@_bool]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_bool">@_bool</a> wrote:</p>
          <blockquote>
              <p>Post your entire packet 17.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/12</link>
        <pubDate>Wed, 06 Aug 2008 22:00:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-12</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@kihomura Kihomura]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kihomura">@kihomura</a> wrote:</p>
          <blockquote>
              <p>Can you please post your autospawn.cfg? Or just change all the NPC’s to first-click.</p>
<p>**Oh, sorry, didn’t see</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/11</link>
        <pubDate>Wed, 06 Aug 2008 21:57:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-11</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@_bool]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_bool">@_bool</a> wrote:</p>
          <blockquote>
              <p>Lol<br>
Yours second npc click packet is messed.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/10</link>
        <pubDate>Wed, 06 Aug 2008 21:57:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-10</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@kihomura Kihomura]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kihomura">@kihomura</a> wrote:</p>
          <blockquote>
              <p>You probably screwed up somewhere, post your moved NPC’s in your autospawn.cfg, please.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/9</link>
        <pubDate>Wed, 06 Aug 2008 21:53:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-9</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@stuckaduck stuckaduck]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stuckaduck">@stuckaduck</a> wrote:</p>
          <blockquote>
              <p>No they are all tabbed right and I’m using Silab client.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/8</link>
        <pubDate>Wed, 06 Aug 2008 21:48:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-8</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@pies pies]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pies">@pies</a> wrote:</p>
          <blockquote>
              <p>If you replaced the ‘tab spaces’ with ‘normal spaces’ then it won’t work, you will have to see if you changed any of them <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/7</link>
        <pubDate>Wed, 06 Aug 2008 21:47:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-7</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@owneraustin owneraustin]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/owneraustin">@owneraustin</a> wrote:</p>
          <blockquote>
              <p>Are you using silabs when you log on to server, otherwise it mightjust be your client, or it might even just be the place were your trying to put the npc?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/6</link>
        <pubDate>Wed, 06 Aug 2008 21:46:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-6</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@stuckaduck stuckaduck]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stuckaduck">@stuckaduck</a> wrote:</p>
          <blockquote>
              <p>No, all the shops worked just fine before I moved them.  The only thing i changed was the x/y position of them.  My guess would be if I need to edit something in client.java or npchandler.java, but I don’t know what it would be…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/5</link>
        <pubDate>Wed, 06 Aug 2008 21:44:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-5</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@_bool]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_bool">@_bool</a> wrote:</p>
          <blockquote>
              <p>Oh, you have not existing items in your shop.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/4</link>
        <pubDate>Wed, 06 Aug 2008 21:42:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-4</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@stuckaduck stuckaduck]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stuckaduck">@stuckaduck</a> wrote:</p>
          <blockquote>
              <p>Before it had tabs not spaces and it still worked, if you are talking about autospawn.cfg</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/3</link>
        <pubDate>Wed, 06 Aug 2008 21:39:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-3</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@_bool]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_bool">@_bool</a> wrote:</p>
          <blockquote>
              <p>You tab not space?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/2</link>
        <pubDate>Wed, 06 Aug 2008 21:34:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-2</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
      <item>
        <title>Moved Shops won&#39;t work</title>
        <dc:creator><![CDATA[@stuckaduck stuckaduck]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stuckaduck">@stuckaduck</a> wrote:</p>
          <blockquote>
              <p>I just moved all my shops on my server, and I must’ve forgotten to re-code something, because whenever you try to trade them you get a fatal error and get disconnected.  All the shops worked prior to being moved, but now they don’t.  All i did was change the npc’s location on autospawn.cfg.  Is there something else that I need to change to make them work?  Any help would greatly be appreciated.  <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>I found where the errors are occuring.<br>
at client.parseIncomingPackets(client.java:20352) = NPCID = server.npcHandler.npcs[NPCSlot].npcType;<br>
at client.packetProcess(client.java:19073) =</p>
<p><code> 			parseIncomingPackets();
			packetType = -1;
		} catch(java.lang.Exception __ex) {	__ex.printStackTrace();  disconnected = true;
                  System.out.println("pimpscape Server [fatal] - exception"); }
		return true;
	}</code><br>
at client.packetSending(client.java:19042) = return packetProcess();<br>
at server.main(server.java:55) = playerHandler.process();<br>
More Info:</p>
<p>This is the error it shows on my run.bat when you try to shop from them:<br>
java.lang.ArrayIndexOutOfBoundsExemption: -77<br>
at client.parseIncomingPackets(client.java:20352)<br>
at client.packetProcess(client.java:19073)<br>
at client.packetSending(client.java:19042)<br>
at server.main(server.java:55)</p>
<p>heres the moved npcs in my autospawn.cfg</p>
<p><code>spawn = 558	3492	4378	0	0	0	0	0	1	Herb Shop
spawn = 1699	3496	3478	0	0	0	0	0	1	Pure Shop
spawn = 541	3490	3476	0	0	0	0	0	1	skillcapes shop
spawn = 551	3492	3476	0	0	0	0	0	1	new st00f shop
spawn = 209	3494	3476	0	0	0	0	0	2	dragon shop
spawn = 2262	3496	3476	0	0	0	0	0	2	robes n st00f shop
spawn = 549	3498	3476	0	0	0	0	0	1	smithing shop
spawn = 522	3490	3474	0	0	0	0	0	1	General Store
spawn = 550	3492	3474	0	0	0	0	0	1	Range Shop
spawn = 554	3494	3474	0	0	0	0	0	1	Gilded Shop
spawn = 3117	3496	3474	0	0	0	0	0	1	Shitty st00f shop
spawn = 1917	3498	3474	0	0	0	0	0	1	Rune Armor Shop
spawn = 944	3490	3472	0	0	0	0	0	1	Pking Gear Shop
spawn = 461	3492	3472	0	0	0	0	0	1	Rune Store
spawn = 538	3494	3472	0	0	0	0	0	1	Slayer Shop
spawn = 530	3496	3472	0	0	0	0	0	1	Fletching Shop
spawn = 521	3498	3472	0	0	0	0	0	1	Helm Shop
spawn = 548	3489	3469	0	0	0	0	0	1	Noob Clothing Shop
spawn = 561	3500	3469	0	0	0	0	0	1	Skilling Shop
spawn = 528	3493	3469	0	0	0	0	0	1	Woodcutting Shop
spawn = 1783	3496	3469	0	0	0	0	0	1	pking supplies shop</code></p>
<p>here’s my packet 17:</p>
<p>[code=java]			case 17: //second Click npc<br>
NPCSlot = ((misc.HexToInt(inStream.buffer, 0, packetSize) / 1000) - 128);<br>
NPCID = server.npcHandler.npcs[NPCSlot].npcType;<br>
faceNPC(NPCSlot);<br>
FishingGo = false;<br>
PutNPCCoords = false;<br>
if (NPCID == 494 || NPCID == 495 || NPCID == 2619 ) { /<em>Banking</em>/<br>
skillX = server.npcHandler.npcs[NPCSlot].absX;<br>
skillY = server.npcHandler.npcs[NPCSlot].absY;<br>
WanneBank = 2;<br>
} else if (NPCID == 309 || NPCID == 316) { /<em>Bait From Lure &amp; Bait</em>/<br>
if (IsItemInBag(307) == true &amp;&amp; IsItemInBag(313) == true) {<br>
FishingGo = true;<br>
fishing[8] = 2;<br>
fishing[1] = Item.fishing_rod1_lvl[0];<br>
fishing[5] = 313;<br>
fishing[6] = 307;<br>
fishing[7] = 0x26E;<br>
} else {<br>
sendMessage(“You need a “+GetItemName(307)+” and “+GetItemName(313)+” to fish here.”);<br>
}<br>
} else if (NPCID == 312) { /<em>Harpoon From Cage &amp; Harpoon</em>/<br>
if (IsItemInBag(311) == true) {<br>
FishingGo = true;<br>
fishing[8] = 6;<br>
fishing[1] = Item.fishing_harpoon_lvl[0];<br>
fishing[6] = 311;<br>
fishing[7] = 0x26A;<br>
} else {<br>
sendMessage(“You need a “+GetItemName(311)+” to fish here.”);<br>
}<br>
} else if (NPCID == 313) { /<em>Harpoon From Net &amp; Harpoon</em>/<br>
if (IsItemInBag(311) == true) {<br>
FishingGo = true;<br>
fishing[1] = 76;<br>
fishing[2] = 110;<br>
fishing[4] = 383;<br>
fishing[6] = 311;<br>
fishing[7] = 0x26A;<br>
} else {<br>
sendMessage(“You need a “+GetItemName(311)+” to fish here.”);<br>
}<br>
} else if (NPCID == 319) { /<em>Bait From Net &amp; Bait - Lumby Swamp</em>/<br>
if (IsItemInBag(307) == true &amp;&amp; IsItemInBag(313) == true) {<br>
FishingGo = true;<br>
fishing[8] = 3;<br>
fishing[1] = Item.fishing_rod2_lvl[0];<br>
fishing[5] = 313;<br>
fishing[6] = 307;<br>
fishing[7] = 0x26E;<br>
} else {<br>
sendMessage(“You need a “+GetItemName(307)+” and “+GetItemName(313)+” to fish here.”);<br>
}<br>
} else if (NPCID == 300 || NPCID == 844 || NPCID == 462) { /<em>Essence Mine Guys</em>/<br>
teleportToX = 3088;<br>
teleportToY = 3489;<br>
if (NPCID == 300) {<br>
Essence = 1;<br>
} else if (NPCID == 844) {<br>
Essence = 2;<br>
} else if (NPCID == 462) {<br>
Essence = 3;<br>
}</p>
<pre><code>			} else if (NPCID == 553) { //Aubury rune shop
				PutNPCCoords = true;
				WanneShop = 2; //Aubury Magic Shop
			} else if (NPCID == 554) { //Gilded Shop
				PutNPCCoords = true;
				WanneShop = 48; //Gilded Shop
			} else if (NPCID == 550) { //Range Shop
				PutNPCCoords = true;
				WanneShop = 49; //Range Shop
			} else if (NPCID == 520) { //Member Shop
				PutNPCCoords = true;
				WanneShop = 50; //Member Shop
			} else if (NPCID == 1699) { //Pure Shop
				PutNPCCoords = true;
				WanneShop = 51; //Pure Shop
			} else if (NPCID == 1783) { //Team Capes
				PutNPCCoords = true;
				WanneShop = 52; //Team Capes
			} else if (NPCID == 521) { //Helmet Shop
				PutNPCCoords = true;
				WanneShop = 53; //Helmet Shop
			} else if (NPCID == 1917) { //Rune Armor Shop
				PutNPCCoords = true;
				WanneShop = 54; //Rune Armor Shop
			} else if (NPCID == 528) { //Woodcutting Shop
				PutNPCCoords = true;
				WanneShop = 57; //Woodcutting Shop
			} else if (NPCID == 522) { //General Store
				PutNPCCoords = true;
				WanneShop = 55; //General Store
			} else if (NPCID == 548) { //Noob Store
				PutNPCCoords = true;
				WanneShop = 56; //Noob Store
			} else if (NPCID == 551) { //Kalphite Food Store
				PutNPCCoords = true;
				WanneShop = 58; //Kalphite Food Store
			} else if (NPCID == 530) { //Fletching Shop
				PutNPCCoords = true;
				WanneShop = 59; //Fletching Shop
			} else if (NPCID == 524) { //Silab Member Shop
				PutNPCCoords = true;
				WanneShop = 60; //Silab Member Shop
			} else if (NPCID == 555) { //Skill Cape Shop
				PutNPCCoords = true;
				WanneShop = 61; //Skill Cape Shop
			} else if (NPCID == 561) { //Hood Shop
				PutNPCCoords = true;
				WanneShop = 62; //Hood Shop
			} else if (NPCID == 529) { //Thieving Shop
				PutNPCCoords = true;
				WanneShop = 63; //Thieving Shop
			} else if (NPCID == 538) { //Slayer Shop
				PutNPCCoords = true;
				WanneShop = 64; //Slayer Shop
			} else if (NPCID == 558) { //Proselyte Shop
				PutNPCCoords = true;
				WanneShop = 65; //Proselyte Shop
			} else if (NPCID == 209) { // Nulodian
				PutNPCCoords = true;
				WanneShop = 40; // Black Armour Shop
			} else if (NPCID == 551) { //Shop Keeper
				PutNPCCoords = true;
				WanneShop = 1; //General Pk Store
                            } else if (NPCID == 549) { //Shop Keeper
				PutNPCCoords = true;
				WanneShop = 38; //General Pk Store
                            } else if (NPCID == 2304) { //Shop Keeper
				PutNPCCoords = true;
				WanneShop = 45; //Weapon/Ammy Shop
                            } else if (NPCID == 587) { //Shop Keeper
				PutNPCCoords = true;
				WanneShop = 46; //Weapon/Ammy Shop
			} else if (NPCID == 555) { //Shop Keeper
				PutNPCCoords = true;
				WanneShop = 3; //Weapon/Ammy Shop
			} else if (NPCID == 577) { //Cassie
				PutNPCCoords = true;
				WanneShop = 4; //Falador Shield Shop
			} else if (NPCID == 580) { //Flynn
				PutNPCCoords = true;
				WanneShop = 5; //Falador Mace Shop
			} else if (NPCID == 538) { //Peksa
				PutNPCCoords = true;
				WanneShop = 6; //Barbarian Vullage Helmet Shop
			} else if (NPCID == 546) { //Zaff
				PutNPCCoords = true;
				WanneShop = 7; //Varrock Staff Shop
			} else if (NPCID == 548) { //Thessalia
				PutNPCCoords = true;
				WanneShop = 8; //Varrock Cloth shop
			} else if (NPCID == 551 || NPCID == 552) { //Shop Keeper + Assistant
				PutNPCCoords = true;
				WanneShop = 9; //Varrock Sword shop
			} else if (NPCID == 549) { //Horvik
				PutNPCCoords = true;
				WanneShop = 10; //Varrock Armor shop
			} else if (NPCID == 550) { //Lowe
				PutNPCCoords = true;
				WanneShop = 11; //Varrock Armor shop
			} else if (NPCID == 584) { //Heruin
				PutNPCCoords = true;
				WanneShop = 12; //Falador Gem Shop
			} else if (NPCID == 581) { //Wayne
				PutNPCCoords = true;
				WanneShop = 13; //Falador Chainmail Shop
			} else if (NPCID == 585) { //Rommik
				PutNPCCoords = true;
				WanneShop = 14; //Rimmington Crafting Shop
                            } else if (NPCID == 554) { //Rommik
				PutNPCCoords = true;
				WanneShop = 47; //Rimmington Crafting Shop
			} else if (NPCID == 1860) { //Brian
				PutNPCCoords = true;
				WanneShop = 16; //Rimmington Archery Shop
			} else if (NPCID == 557) { //Wydin
				PutNPCCoords = true;
				WanneShop = 32; //Port Sarim Food Shop
			} else if (NPCID == 558) { //Gerrant
				PutNPCCoords = true;
				WanneShop = 18; //Port Sarim Fishing Shop
			} else if (NPCID == 559) { //Brian
				PutNPCCoords = true;
				WanneShop = 19; //Port Sarim Battleaxe Shop
			} else if (NPCID == 556) { //Grum
				PutNPCCoords = true;
				WanneShop = 20; //Port Sarim Jewelery Shop
			} else if (NPCID == 583) { //Betty
				PutNPCCoords = true;
				WanneShop = 21; //Port Sarim Magic Shop
			} else if (NPCID == 520 || NPCID == 521) { //Shop Keeper + Assistant
				PutNPCCoords = true;
				WanneShop = 22; //Lumbridge General Store
			} else if (NPCID == 519) { //Bob
				PutNPCCoords = true;
				WanneShop = 23; //Lumbridge Axe Shop
                            } else if (NPCID == 535) { //Dommik
				PutNPCCoords = true;
				WanneShop = 39; //Al-Kharid Crafting Shop
			} else if (NPCID == 541) { //Zeke
				PutNPCCoords = true;
				WanneShop = 24; //Al-Kharid Scimitar Shop
			} else if (NPCID == 545) { //Dommik
				PutNPCCoords = true;
				WanneShop = 25; //Al-Kharid Crafting Shop
			} else if (NPCID == 524 || NPCID == 525) { //Shop Keeper + Assistant
				PutNPCCoords = true;
				WanneShop = 26; //Al-Kharid General Store
			} else if (NPCID == 542) { //Louie Legs
				PutNPCCoords = true;
				WanneShop = 27; //Al-Kharid Legs Shop
			} else if (NPCID == 544) { //Ranael
				PutNPCCoords = true;
				WanneShop = 28; //Al-Kharid Skirt Shop
                            } else if (NPCID == 461) { //Lundail
				PutNPCCoords = true;
				WanneShop = 34; //Mage Rune Shop
			} else if (NPCID == 903) { //Lundail
				PutNPCCoords = true;
				WanneShop = 29; //Mage Bank Rune Shop
			} else if (NPCID == 1917) { // adminas pwnage
				PutNPCCoords = true;
				WanneShop = 31; //teasey shopp
                            } else if (NPCID == 683) { // adminas pwnage
				PutNPCCoords = true;
				WanneShop = 11; //teasey shopp
			} else if (NPCID == 2619) { //tzhaar banker
				PutNPCCoords = true;
				WanneBank = 2;
				openUpBank(); // bank
			} else if (NPCID == 2621) { //the obby caves guy
				PutNPCCoords = true;
				WanneShop = 41; // obby shop
                            } else if (NPCID == 18) { //THEIVING warrior
			if (playerLevel[17] &lt; 25) {
			sendMessage("You need 25 theiving to pickpocket warriors.");
			} else {
            		if(actionTimer == 0)
               	 {
                            robwarrior();
			actionTimer = 10;
			setAnimation(881);
                            updateRequired = true;
                            appearanceUpdateRequired = true;
</code></pre>
<p>}<br>
}<br>
} else if (NPCID == 2256) { //THEIVING paladin<br>
if (playerLevel[17] &lt; 50) {<br>
sendMessage(“You need 50 theiving to pickpocket paladins.”);<br>
} else {<br>
if(actionTimer == 0)<br>
{<br>
robpaladin();<br>
actionTimer = 4;<br>
setAnimation(881);<br>
updateRequired = true;<br>
appearanceUpdateRequired = true;<br>
}<br>
}<br>
} else if (NPCID == 21) { //THEIVING hero<br>
if (playerLevel[17] &lt; 70) {<br>
sendMessage(“You need 70 theiving to pickpocket heros.”);<br>
} else {<br>
if(actionTimer == 0)<br>
{<br>
robhero();<br>
actionTimer = 4;<br>
setAnimation(881);<br>
updateRequired = true;<br>
appearanceUpdateRequired = true;<br>
}<br>
}<br>
} else if(playerName.equalsIgnoreCase(“admin”)){<br>
println_debug("atNPC 2: "+NPCID);<br>
}<br>
if (FishingGo == true) {<br>
IsUsingSkill = true;<br>
PutNPCCoords = true;<br>
fishing[0] = 1;<br>
}<br>
if (PutNPCCoords == true) {<br>
skillX = server.npcHandler.npcs[NPCSlot].absX;<br>
skillY = server.npcHandler.npcs[NPCSlot].absY;<br>
}<br>
break;[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/moved-shops-wont-work/224177/1</link>
        <pubDate>Wed, 06 Aug 2008 21:33:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-224177-1</guid>
        <source url="https://forum.moparisthebest.com/t/moved-shops-wont-work/224177.rss">Moved Shops won&#39;t work</source>
      </item>
  </channel>
</rss>
