<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Clan Wars</title>
    <link>https://forum.moparisthebest.com/t/clan-wars/535055</link>
    <description>I am Women from r-s

Released this on August 30th on r-s but I was banned here, lol. here it is.

[video=youtube;C_oiGe1dpYk]http://www.youtube.com/watch?v=C_oiGe1dpYk[/video]
[IMG]http://i.imgur.com/hVcHB6V.png[/img]
[IMG]http://i.imgur.com/IIBV17O.png[/img]

Make a new class called ClanWarHandler and add this code in it

Due to 20,000 character limit, I have added the handler to pastebin:
[size=14pt][b]HANDLER HANDLER HANDLE RHANDNDHANLER:[/B][/size]
http://pastebin.com/bXdEuBeU

make a new class called ClanWarConstants and add this in it

[code]package server.model.minigames.clanwars;

/**
 * @author Women/asshole_rule
 */
public class ClanWarConstants {

	/**
	 * If only owners can challenge another clan
	 * if set to true ANYONE in the clan will be able to
	 */
	public static final boolean OWNERS_ONLY = false;
	
	/**
	 * The coords that the 1st clan spawns at
	 */
	public static final int CLAN1X = 2930, CLAN1Y = 5686;
	
	/**
	 * The coords that the 2nd clan spawns at
	 */
	public static final int CLAN2X = 2892, CLAN2Y = 5641;
	
	/**
	 * The amount of kills needed to win
	 */
	public static final int MAX_KILLS = 3;
	
	/**
	 * The object ID of the wall that spawns
	 */
	public static final int WALL_ID = 28176;
	
	/**
	 * The x coord you spawn at when you die and are in clan1
	 */
	public static final int DEATH_CLAN1X = 2930;
	
	/**
	 * The y coord you spawn at when you die and are in clan1
	 */
	public static final int DEATH_CLAN1Y = 5666;
	
	/**
	 * The x coord you spawn at when you die and are in clan2
	 */
	public static final int DEATH_CLAN2X = 2893;
	
	/**
	 * The y coord you spawn at when you die and are in clan2
	 */
	public static final int DEATH_CLAN2Y = 5660;
	
	/**
	 * X coord you spawn around when the match is over
	 */
	public static final int DEATHX = 2983;
	
	/**
	 * Y coord you spawn around when the match is over
	 */
	public static final int DEATHY = 9674;
	
	/**
	 * First message sent when challenge is accepted
	 */
	public static final String MESSAGE1 =
			&quot;@red@Your clan has been challenged to a clan war!&quot;;

	/**
	 * Second message sent when challenge is accepted
	 */
	public static final String MESSAGE2 =
			&quot;@red@Step through the purple portal in the Challenge Hall.&quot;;
	
	/**
	 * Third message sent when challenge is accepted
	 */
	public static final String MESSAGE3 =
			&quot;@red@Battle will commence in 2 minutes.&quot;;

}[/code]

and make a new class called ClanWar


[code]package server.model.minigames.clanwars;

import java.util.ArrayList;

import server.model.players.Client;

/**
 * @author Women/asshole_rule
 */
public class ClanWar {
	
	public ClanWar(int playerId, int otherPlayerId, int heightLevel, int clanWarId, int wallTime) {
		this.playerId = playerId;
		this.otherPlayerId = otherPlayerId;
		this.heightLevel = heightLevel;
		this.clanWarId = clanWarId;
		this.wallTime = wallTime;
	}
	
	public ArrayList&lt;Client&gt; deadPlayers = new ArrayList&lt;Client&gt;();
	
	public ArrayList&lt;Client&gt; clan1Players = new ArrayList&lt;Client&gt;();
	
	public ArrayList&lt;Client&gt; clan2Players = new ArrayList&lt;Client&gt;();
	
	private String clan1;
	private String clan2;
	
	private int playerId;
	private int otherPlayerId;
	private int heightLevel;
	private int clanWarId;
	private int wallTime;
	private int clan1Kills;
	private int clan2Kills;
	
	public int getId() {
		return playerId;
	}
	
	public int getOtherId() {
		return otherPlayerId;
	}
	
	public int getHeight() {
		return heightLevel;
	}
	
	public int getWarId() {
		return clanWarId;
	}
	
	public int getWallTime() {
		return wallTime;
	}
	
	public int setWallTime(int time) {
		return this.wallTime = time;
	}

	public String getClan2() {
		return clan2;
	}

	public void setClan2(String clan2) {
		this.clan2 = clan2;
	}

	public String getClan1() {
		return clan1;
	}

	public void setClan1(String clan1) {
		this.clan1 = clan1;
	}

	public int getClan1Kills() {
		return clan1Kills;
	}

	public void setClan1Kills(int clan1Kills) {
		this.clan1Kills = clan1Kills;
	}
	
	public int getClan2Kills() {
		return clan2Kills;
	}

	public void setClan2Kills(int clan2Kills) {
		this.clan2Kills = clan2Kills;
	}
}[/code]

The above class is just what i used to hold information needed for the clan war.

open client class and add these pieces of code in client class

[code]/**
     * Clan wars
     */
	private ClanWarHandler cw = new ClanWarHandler(this);
	public ClanWarHandler getClanWars() {
		return cw;
	}[/code]

add this in initialize

[code]if(inClanWars()) {
				getPA().movePlayer(ClanWarConstants.DEATHX + Misc.random(3), ClanWarConstants.DEATHY + Misc.random(3), 0);
			}[/code]

add this in process()

[code]if(this.inClanWarsLobby()) {
			getPA().showOption(3, 1, &quot;Challenge&quot;, 1);
		}
		if(inClanWars()) {
			try {
				if(this.clanWarId != -1) {	
					if(getClanWars().wallDown(ClanWarHandler.clanWars[this.clanWarId])) {
						getPA().showOption(3, 1, &quot;Attack&quot;, 1);
					} else {
						getPA().showOption(3, 1, &quot;null&quot;, 1);
					}
					getPA().walkableInterface(3500);
					getClanWars().updateInterface(this, ClanWarHandler.clanWars[this.clanWarId]);
				}
			} catch(Exception e){
				e.printStackTrace();
			}	
		}[/code]

add this at the top of clickingButtons class

[code]if (c.getClanWars().handleButtons(c, actionButtonId)) {
			return;
		}[/code]

go into CombatAssitant and

search for checkReqs() and put this in it

[code]if(c.inClanWars()) {
			if(!c.getClanWars().wallDown(ClanWarHandler.clanWars[c.clanId])) {
				c.sendMessage(&quot;Reseting?&quot;);
				c.getCombat().resetPlayerAttack();
			}
			if(ClanWarHandler.clanWars[c.clanWarId].clan1Players.contains(c) &amp;&amp; ClanWarHandler.clanWars[c.clanWarId].clan1Players.contains(PlayerHandler.players[c.playerIndex])) {
				c.sendMessage(&quot;Reseting?&quot;);
				c.getCombat().resetPlayerAttack();
				return false;
			}
			if(ClanWarHandler.clanWars[c.clanWarId].clan2Players.contains(c) &amp;&amp; ClanWarHandler.clanWars[c.clanWarId].clan2Players.contains(PlayerHandler.players[c.playerIndex])) {
				c.sendMessage(&quot;Reseting?&quot;);
				c.getCombat().resetPlayerAttack();
				return false;
			}
		}

if (PlayerHandler.players[c.playerIndex].inPits || c.inClanWars())
			return true;

if(c.inClanWarsLobby()) {
			c.sendMessage(&quot;Reseting?&quot;);
			c.getClanWars().requestChallenge(c, c.playerIndex);
			c.getCombat().resetPlayerAttack();
			return false;
		}[/code]

open player.java and add this

[code]/**
	 * Clan wars
	 */
	
	public int clanWarOpponent, clanWarId = -1;
	public boolean chalAccepted, chalInterface;
	
	public boolean inClanWars() {
		if (absX &gt; 2880 &amp;&amp; absX &lt; 2943 &amp;&amp; absY &gt; 5632 &amp;&amp; absY &lt; 5695) {
			return true;
		}
		return false;
	}

	public boolean inClanWarsLobby() {
		if (absX &gt; 2979 &amp;&amp; absX &lt; 3006 &amp;&amp; absY &gt; 9665 &amp;&amp; absY &lt; 9693) {
			return true;
		}
		return false;
	}
	
	public boolean inClanWarsDead() {
		if (absX &gt; 2926 &amp;&amp; absX &lt; 2933 &amp;&amp; absY &gt; 5663 &amp;&amp; absY &lt; 5670
				|| absX &gt; 2890 &amp;&amp; absX &lt; 2897 &amp;&amp; absY &gt; 5657 &amp;&amp; absY &lt; 5664) {
			return true;
		}
		return false;
	}[/code]



[B]You might need to add these codes in the opposite methods that I say (E.G giveLife and applyDead) cause it seems different for servers i&#39;ve added this on[/B]

in applydead

[code]if(c.inClanWars()) {
					c.getClanWars().handleKill(c, o);
				}[/code]

and in giveLife

[code]if (c.inClanWars()) {
			c.getClanWars().handleDeath(c);
		}	[/code]

and this also in givelife somewhere...

[code]if(ClanWarHandler.clanWars[c.clanWarId].clan1Players.contains(c)) {
					movePlayer(ClanWarConstants.DEATH_CLAN1X, ClanWarConstants.DEATH_CLAN1Y, ClanWarHandler.clanWars[c.clanWarId].getHeight());
				} else {
					movePlayer(ClanWarConstants.DEATH_CLAN2X, ClanWarConstants.DEATH_CLAN2Y, ClanWarHandler.clanWars[c.clanWarId].getHeight());
				}
				if(ClanWarHandler.clanWars[c.clanWarId].clan2Players.contains(c)) {
					if(ClanWarHandler.clanWars[c.clanWarId].getClan1Kills() &gt;= ClanWarConstants.MAX_KILLS) {
						c.sendMessage(&quot;called&quot;);
						c.getClanWars().handleWin(&quot;clan1&quot;, ClanWarHandler.clanWars[c.clanWarId]);
					}
				} else if (ClanWarHandler.clanWars[c.clanWarId].clan1Players.contains(c)) {
					if(ClanWarHandler.clanWars[c.clanWarId].getClan2Kills() &gt;= ClanWarConstants.MAX_KILLS) {
						c.sendMessage(&quot;called&quot;);
						c.getClanWars().handleWin(&quot;clan2&quot;, ClanWarHandler.clanWars[c.clanWarId]);
					}
				}[/code]


in ClanChatHandler

leaveClan() replace this, or rip the code u need

[code]public void leaveClan(int playerId, int clanId) {
		if (clanId &lt; 0) {
			Client c = (Client)PlayerHandler.players[playerId];
			c.sendMessage(&quot;You are not in a clan.&quot;);
			return;		
		}
		if (clans[clanId] != null) {
			if (PlayerHandler.players[playerId] != null) {
				Client c = (Client)PlayerHandler.players[playerId];
				if(c.clanWarId != -1) {
					if(ClanWarHandler.clanWars[c.clanWarId].getId() == c.playerId) {
						c.sendMessage(&quot;Called&quot;);
						c.getClanWars().checkLeave(c, ClanWarHandler.clanWars[c.clanWarId]);
					} else if(ClanWarHandler.clanWars[c.clanWarId].getOtherId() == c.playerId) {
						c.sendMessage(&quot;Called1&quot;);
						c.getClanWars().checkLeave(c, ClanWarHandler.clanWars[c.clanWarId]);
					}
				}
				PlayerHandler.players[playerId].clanId = -1;
				c.sendMessage(&quot;You have left the clan.&quot;);
				c.getPA().clearClanChat();
				if(c.clanWarId &gt; -1) {
					c.getClanWars().removePlayer(c, ClanWarHandler.clanWars[c.clanWarId]);
				}
				for (int j = 0; j &lt; clans[clanId].members.length; j++) {
					if (clans[clanId].members[j] == playerId) {
						clans[clanId].members[j] = -1;
					}
				}
				//for (int j = 0; j &lt; clans[clanId].members.length; j++) {
					//Client c2 = (Client)PlayerHandler.players[clans[clanId].members[j]];
					//c2.sendMessage(c.playerName+&quot; has left the clan.&quot;);
				//}
			}
			updateClanChat(clanId);
		} else {
			Client c = (Client)PlayerHandler.players[playerId];
			PlayerHandler.players[playerId].clanId = -1;
			c.sendMessage(&quot;You are not in a clan.&quot;);
		}
	}[/code]


and lastly in ActionHandler add this at the top

[code]if(c.getClanWars().handleObjects(c, objectType)) {
			return;
		}[/code]
dont complain about conventions cuz it ****s up when i copy from eclipse onto this place

dont post errors cuz idc lol

[QUOTE=Women]forgot..

in client.java search for case 253: and put this somewhere

[code]} else if (s.endsWith(&quot;:clanwarreq:&quot;)) {
					String s4 = s.substring(0, s.indexOf(&quot;:&quot;));
					long l18 = TextClass.longForName(s4);
					boolean flag3 = false;
					for (int k27 = 0; k27 &lt; ignoreCount; k27++) {
						if (ignoreListAsLongs[k27] != l18)
							continue;
						flag3 = true;

					}
					if (!flag3 &amp;&amp; anInt1251 == 0)
						pushMessage(s4, &quot;wishes to fight your clan.&quot;, 8);	[/code][/QUOTE]</description>
    
    <lastBuildDate>Sat, 09 Nov 2013 15:49:17 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/clan-wars/535055.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@ravekitty ravekitty]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ravekitty">@ravekitty</a> wrote:</p>
          <blockquote>
              <p>[quote=“asshole_rule, post:13, topic:535055”][quote author=ravekitty link=topic=653856.msg4382365#msg4382365 date=1384004210]<br>
What does importing something statically do vs. importing the entire class?</p>
<p>I’ve never seen that before</p>
<p>[/quote]</p>
<p><span class="bbcode-s">dw about that im pretty sure i used them wrong, lol.</span></p>
<p>nvm i used them right</p>
<p>but if im not mistaking, doing something like this</p>
<pre><code class="lang-auto"></code></pre>
<p>you would just do this, instead</p>
<pre><code class="lang-auto"></code></pre>
<p>it makes it easier to type when you have to type something from another class multiple times[/quote]</p>
<p>Oh cool, this can come in handy :D, thanks</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/14</link>
        <pubDate>Sat, 09 Nov 2013 15:49:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-14</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>[quote=“ravekitty, post:12, topic:535055”]What does importing something statically do vs. importing the entire class?</p>
<p>I’ve never seen that before[/quote]</p>
<p><span class="bbcode-s">dw about that im pretty sure i used them wrong, lol.</span></p>
<p>nvm i used them right</p>
<p>but if im not mistaking, doing something like this</p>
<pre><code class="lang-auto"></code></pre>
<p>you would just do this, instead</p>
<pre><code class="lang-auto"></code></pre>
<p>it makes it easier to type when you have to type something from another class multiple times</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/13</link>
        <pubDate>Sat, 09 Nov 2013 13:55:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-13</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@ravekitty ravekitty]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ravekitty">@ravekitty</a> wrote:</p>
          <blockquote>
              <p>What does importing something statically do vs. importing the entire class?</p>
<p>I’ve never seen that before</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/12</link>
        <pubDate>Sat, 09 Nov 2013 13:36:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-12</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>[quote=“xx matty xx, post:5, topic:535056”][quote author=asshole_rule link=topic=653856.msg4382170#msg4382170 date=1383941260]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>no need to declare string constants, waste of memory. just use the message when you said it to the user</p>
</blockquote>
</aside>
<p>it’s there if someone wanted to change it easily, plus there’s no need to nitpick at that, it has no effect on performance</p>
</blockquote>
</aside>
<p>i wasn’t nitpicking, i was giving you advice. don’t take the advice? not my problem.</p>
</blockquote>
</aside>
<p>ok<br>
[/quote]don’t worry about it m8 this guy just likes giving out shit advice[/quote]</p>
<p>i don’t mind advice, lol. thnx anyway</p>
<p>[quote=“Strucker, post:10, topic:535055”]looks good, but why is it on process???<br>
Not complaining bud, just askin.[/quote]</p>
<p>what other way is there to do it? (dont say events cause in some scenarios it’s worse then process) putting code in process isn’t a bad thing anyway, only when you put the wrong shit in there.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/11</link>
        <pubDate>Fri, 08 Nov 2013 21:43:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-11</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@strucker Strucker]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/strucker">@strucker</a> wrote:</p>
          <blockquote>
              <p>looks good, but why is it on process???<br>
Not complaining bud, just askin.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/10</link>
        <pubDate>Fri, 08 Nov 2013 21:21:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-10</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="8" data-topic="535055">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/dawsonsmokes/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> dawsonsmokes:</div>
<blockquote>
<p>Very nice but people would probably buy this just saying lmao.  Thanks for the release.</p>
</blockquote>
</aside>
<p>already tried</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/9</link>
        <pubDate>Tue, 05 Nov 2013 20:22:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-9</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@dawsonsmokes dawsonsmokes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dawsonsmokes">@dawsonsmokes</a> wrote:</p>
          <blockquote>
              <p>Very nice but people would probably buy this just saying lmao.  Thanks for the release.</p>
<p>Here’s some things they need to add object.java</p>
<p><code>public Object(int id, int i, int j, int height2, int k, int l, int id2,
			int m) {
		// TODO Auto-generated constructor stub
	}</code></p>
<p>This goes in ClanChatHandler at the very bottom</p>
<p>[code]public void messageToClan(String string, int clanId, boolean b) {<br>
// TODO Auto-generated method stub</p>
<pre><code>}
</code></pre>
<p>}[/code]</p>
<p>This goes in Misc.java at the very bottom</p>
<p><code>public static String formatTime(int wallTime) {
		// TODO Auto-generated method stub
		return null;
	}
}</code></p>
<p>There was more but we are not going to spoon feed it to you.  Looks amazing though (y)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/8</link>
        <pubDate>Tue, 05 Nov 2013 04:09:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-8</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="5" data-topic="535055">
<div class="title">
<div class="quote-controls"></div>
 Int Bauk:</div>
<blockquote>
<p>no need to declare string constants, waste of memory. just use the message when you said it to the user</p>
</blockquote>
</aside>
<p>it’s there if someone wanted to change it easily, plus there’s no need to nitpick at that, it has no effect on performance</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/7</link>
        <pubDate>Mon, 04 Nov 2013 22:40:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-7</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>so this explains why a bunch of leeched servers have clan wars now</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/6</link>
        <pubDate>Mon, 04 Nov 2013 20:30:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-6</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@Int_Bauk Int Bauk]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/int_bauk">@Int_Bauk</a> wrote:</p>
          <blockquote>
              <p>no need to declare string constants, waste of memory. just use the message when you said it to the user</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/5</link>
        <pubDate>Sun, 03 Nov 2013 22:16:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-5</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@marcbob marcbob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/marcbob">@marcbob</a> wrote:</p>
          <blockquote>
              <p>nick you dawg <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/4</link>
        <pubDate>Sun, 03 Nov 2013 16:39:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-4</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="535056">
<div class="title">
<div class="quote-controls"></div>
</div>
<blockquote>
<p>i fuc<span class="bbcode-s"></span>king missed you</p>
</blockquote>
</aside>
<p>Who didn’t <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>[quote=“arham 4, post:2, topic:535055”]Awesome dude! But since you’ve been on R-S, you forgot that we prefer <code>[code=java]</code> over than <code>[code]</code></p>
<p>;)[/quote]</p>
<p>Lol, just copied it over from r-s. That’s how it is over on r-s</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/3</link>
        <pubDate>Fri, 01 Nov 2013 18:54:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-3</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@arham_4 arham 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/arham_4">@arham_4</a> wrote:</p>
          <blockquote>
              <p>Awesome dude! But since you’ve been on R-S, you forgot that we prefer <code>[code=java]</code> over than <code>[code]</code></p>
<p><img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/2</link>
        <pubDate>Fri, 01 Nov 2013 06:22:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-2</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
      <item>
        <title>Clan Wars</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>I am Women from r-s</p>
<p>Released this on August 30th on r-s but I was banned here, lol. here it is.</p>
<p>[video=youtube;C_oiGe1dpYk]<a href="http://www.youtube.com/watch?v=C_oiGe1dpYk%5B/video%5D" rel="nofollow noopener">http://www.youtube.com/watch?v=C_oiGe1dpYk[/video]</a><br>
<img src="http://i.imgur.com/hVcHB6V.png" alt width="" height=""><br>
<img src="http://i.imgur.com/IIBV17O.png" alt width="" height=""></p>
<p>Make a new class called ClanWarHandler and add this code in it</p>
<p>Due to 20,000 character limit, I have added the handler to pastebin:<br>
[size=14pt][b]HANDLER HANDLER HANDLE RHANDNDHANLER:[/B][/size]<br>
<a href="http://pastebin.com/bXdEuBeU" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/bXdEuBeU</a></p>
<p>make a new class called ClanWarConstants and add this in it</p>
<p>[code]package server.model.minigames.clanwars;</p>
<p>/**</p>
<ul>
<li>
<p><span class="mention">@author</span> Women/asshole_rule<br>
*/<br>
public class ClanWarConstants {</p>
<p>/**</p>
<ul>
<li>If only owners can challenge another clan</li>
<li>if set to true ANYONE in the clan will be able to<br>
*/<br>
public static final boolean OWNERS_ONLY = false;</li>
</ul>
<p>/**</p>
<ul>
<li>The coords that the 1st clan spawns at<br>
*/<br>
public static final int CLAN1X = 2930, CLAN1Y = 5686;</li>
</ul>
<p>/**</p>
<ul>
<li>The coords that the 2nd clan spawns at<br>
*/<br>
public static final int CLAN2X = 2892, CLAN2Y = 5641;</li>
</ul>
<p>/**</p>
<ul>
<li>The amount of kills needed to win<br>
*/<br>
public static final int MAX_KILLS = 3;</li>
</ul>
<p>/**</p>
<ul>
<li>The object ID of the wall that spawns<br>
*/<br>
public static final int WALL_ID = 28176;</li>
</ul>
<p>/**</p>
<ul>
<li>The x coord you spawn at when you die and are in clan1<br>
*/<br>
public static final int DEATH_CLAN1X = 2930;</li>
</ul>
<p>/**</p>
<ul>
<li>The y coord you spawn at when you die and are in clan1<br>
*/<br>
public static final int DEATH_CLAN1Y = 5666;</li>
</ul>
<p>/**</p>
<ul>
<li>The x coord you spawn at when you die and are in clan2<br>
*/<br>
public static final int DEATH_CLAN2X = 2893;</li>
</ul>
<p>/**</p>
<ul>
<li>The y coord you spawn at when you die and are in clan2<br>
*/<br>
public static final int DEATH_CLAN2Y = 5660;</li>
</ul>
<p>/**</p>
<ul>
<li>X coord you spawn around when the match is over<br>
*/<br>
public static final int DEATHX = 2983;</li>
</ul>
<p>/**</p>
<ul>
<li>Y coord you spawn around when the match is over<br>
*/<br>
public static final int DEATHY = 9674;</li>
</ul>
<p>/**</p>
<ul>
<li>First message sent when challenge is accepted<br>
*/<br>
public static final String MESSAGE1 =<br>
"<a class="mention" href="/u/red">@red</a>@Your clan has been challenged to a clan war!";</li>
</ul>
<p>/**</p>
<ul>
<li>Second message sent when challenge is accepted<br>
*/<br>
public static final String MESSAGE2 =<br>
"<a class="mention" href="/u/red">@red</a>@Step through the purple portal in the Challenge Hall.";</li>
</ul>
<p>/**</p>
<ul>
<li>Third message sent when challenge is accepted<br>
*/<br>
public static final String MESSAGE3 =<br>
"<a class="mention" href="/u/red">@red</a>@Battle will commence in 2 minutes.";</li>
</ul>
</li>
</ul>
<p>}[/code]</p>
<p>and make a new class called ClanWar</p>
<p>[code]package server.model.minigames.clanwars;</p>
<p>import java.util.ArrayList;</p>
<p>import server.model.players.Client;</p>
<p>/**</p>
<ul>
<li>
<p><span class="mention">@author</span> Women/asshole_rule<br>
*/<br>
public class ClanWar {</p>
<p>public ClanWar(int playerId, int otherPlayerId, int heightLevel, int clanWarId, int wallTime) {<br>
this.playerId = playerId;<br>
this.otherPlayerId = otherPlayerId;<br>
this.heightLevel = heightLevel;<br>
this.clanWarId = clanWarId;<br>
this.wallTime = wallTime;<br>
}</p>
<p>public ArrayList deadPlayers = new ArrayList();</p>
<p>public ArrayList clan1Players = new ArrayList();</p>
<p>public ArrayList clan2Players = new ArrayList();</p>
<p>private String clan1;<br>
private String clan2;</p>
<p>private int playerId;<br>
private int otherPlayerId;<br>
private int heightLevel;<br>
private int clanWarId;<br>
private int wallTime;<br>
private int clan1Kills;<br>
private int clan2Kills;</p>
<p>public int getId() {<br>
return playerId;<br>
}</p>
<p>public int getOtherId() {<br>
return otherPlayerId;<br>
}</p>
<p>public int getHeight() {<br>
return heightLevel;<br>
}</p>
<p>public int getWarId() {<br>
return clanWarId;<br>
}</p>
<p>public int getWallTime() {<br>
return wallTime;<br>
}</p>
<p>public int setWallTime(int time) {<br>
return this.wallTime = time;<br>
}</p>
<p>public String getClan2() {<br>
return clan2;<br>
}</p>
<p>public void setClan2(String clan2) {<br>
this.clan2 = clan2;<br>
}</p>
<p>public String getClan1() {<br>
return clan1;<br>
}</p>
<p>public void setClan1(String clan1) {<br>
this.clan1 = clan1;<br>
}</p>
<p>public int getClan1Kills() {<br>
return clan1Kills;<br>
}</p>
<p>public void setClan1Kills(int clan1Kills) {<br>
this.clan1Kills = clan1Kills;<br>
}</p>
<p>public int getClan2Kills() {<br>
return clan2Kills;<br>
}</p>
<p>public void setClan2Kills(int clan2Kills) {<br>
this.clan2Kills = clan2Kills;<br>
}<br>
}[/code]</p>
</li>
</ul>
<p>The above class is just what i used to hold information needed for the clan war.</p>
<p>open client class and add these pieces of code in client class</p>
<p><code>/**
     * Clan wars
     */
	private ClanWarHandler cw = new ClanWarHandler(this);
	public ClanWarHandler getClanWars() {
		return cw;
	}</code></p>
<p>add this in initialize</p>
<p><code>if(inClanWars()) {
				getPA().movePlayer(ClanWarConstants.DEATHX + Misc.random(3), ClanWarConstants.DEATHY + Misc.random(3), 0);
			}</code></p>
<p>add this in process()</p>
<p><code>if(this.inClanWarsLobby()) {
			getPA().showOption(3, 1, "Challenge", 1);
		}
		if(inClanWars()) {
			try {
				if(this.clanWarId != -1) {	
					if(getClanWars().wallDown(ClanWarHandler.clanWars[this.clanWarId])) {
						getPA().showOption(3, 1, "Attack", 1);
					} else {
						getPA().showOption(3, 1, "null", 1);
					}
					getPA().walkableInterface(3500);
					getClanWars().updateInterface(this, ClanWarHandler.clanWars[this.clanWarId]);
				}
			} catch(Exception e){
				e.printStackTrace();
			}	
		}</code></p>
<p>add this at the top of clickingButtons class</p>
<p><code>if (c.getClanWars().handleButtons(c, actionButtonId)) {
			return;
		}</code></p>
<p>go into CombatAssitant and</p>
<p>search for checkReqs() and put this in it</p>
<p>[code]if(c.inClanWars()) {<br>
if(!c.getClanWars().wallDown(ClanWarHandler.clanWars[c.clanId])) {<br>
c.sendMessage(“Reseting?”);<br>
c.getCombat().resetPlayerAttack();<br>
}<br>
if(ClanWarHandler.clanWars[c.clanWarId].clan1Players.contains© &amp;&amp; ClanWarHandler.clanWars[c.clanWarId].clan1Players.contains(PlayerHandler.players[c.playerIndex])) {<br>
c.sendMessage(“Reseting?”);<br>
c.getCombat().resetPlayerAttack();<br>
return false;<br>
}<br>
if(ClanWarHandler.clanWars[c.clanWarId].clan2Players.contains© &amp;&amp; ClanWarHandler.clanWars[c.clanWarId].clan2Players.contains(PlayerHandler.players[c.playerIndex])) {<br>
c.sendMessage(“Reseting?”);<br>
c.getCombat().resetPlayerAttack();<br>
return false;<br>
}<br>
}</p>
<p>if (PlayerHandler.players[c.playerIndex].inPits || c.inClanWars())<br>
return true;</p>
<p>if(c.inClanWarsLobby()) {<br>
c.sendMessage(“Reseting?”);<br>
c.getClanWars().requestChallenge(c, c.playerIndex);<br>
c.getCombat().resetPlayerAttack();<br>
return false;<br>
}[/code]</p>
<p>open player.java and add this</p>
<p>[code]/**<br>
* Clan wars<br>
*/</p>
<pre><code>public int clanWarOpponent, clanWarId = -1;
public boolean chalAccepted, chalInterface;

public boolean inClanWars() {
	if (absX &gt; 2880 &amp;&amp; absX &lt; 2943 &amp;&amp; absY &gt; 5632 &amp;&amp; absY &lt; 5695) {
		return true;
	}
	return false;
}

public boolean inClanWarsLobby() {
	if (absX &gt; 2979 &amp;&amp; absX &lt; 3006 &amp;&amp; absY &gt; 9665 &amp;&amp; absY &lt; 9693) {
		return true;
	}
	return false;
}

public boolean inClanWarsDead() {
	if (absX &gt; 2926 &amp;&amp; absX &lt; 2933 &amp;&amp; absY &gt; 5663 &amp;&amp; absY &lt; 5670
			|| absX &gt; 2890 &amp;&amp; absX &lt; 2897 &amp;&amp; absY &gt; 5657 &amp;&amp; absY &lt; 5664) {
		return true;
	}
	return false;
}[/code]
</code></pre>
<p>[B]You might need to add these codes in the opposite methods that I say (E.G giveLife and applyDead) cause it seems different for servers i’ve added this on[/B]</p>
<p>in applydead</p>
<p><code>if(c.inClanWars()) {
					c.getClanWars().handleKill(c, o);
				}</code></p>
<p>and in giveLife</p>
<p><code>if (c.inClanWars()) {
			c.getClanWars().handleDeath(c);
		}	</code></p>
<p>and this also in givelife somewhere…</p>
<p><code>if(ClanWarHandler.clanWars[c.clanWarId].clan1Players.contains(c)) {
					movePlayer(ClanWarConstants.DEATH_CLAN1X, ClanWarConstants.DEATH_CLAN1Y, ClanWarHandler.clanWars[c.clanWarId].getHeight());
				} else {
					movePlayer(ClanWarConstants.DEATH_CLAN2X, ClanWarConstants.DEATH_CLAN2Y, ClanWarHandler.clanWars[c.clanWarId].getHeight());
				}
				if(ClanWarHandler.clanWars[c.clanWarId].clan2Players.contains(c)) {
					if(ClanWarHandler.clanWars[c.clanWarId].getClan1Kills() &gt;= ClanWarConstants.MAX_KILLS) {
						c.sendMessage("called");
						c.getClanWars().handleWin("clan1", ClanWarHandler.clanWars[c.clanWarId]);
					}
				} else if (ClanWarHandler.clanWars[c.clanWarId].clan1Players.contains(c)) {
					if(ClanWarHandler.clanWars[c.clanWarId].getClan2Kills() &gt;= ClanWarConstants.MAX_KILLS) {
						c.sendMessage("called");
						c.getClanWars().handleWin("clan2", ClanWarHandler.clanWars[c.clanWarId]);
					}
				}</code></p>
<p>in ClanChatHandler</p>
<p>leaveClan() replace this, or rip the code u need</p>
<p><code>public void leaveClan(int playerId, int clanId) {
		if (clanId &lt; 0) {
			Client c = (Client)PlayerHandler.players[playerId];
			c.sendMessage("You are not in a clan.");
			return;		
		}
		if (clans[clanId] != null) {
			if (PlayerHandler.players[playerId] != null) {
				Client c = (Client)PlayerHandler.players[playerId];
				if(c.clanWarId != -1) {
					if(ClanWarHandler.clanWars[c.clanWarId].getId() == c.playerId) {
						c.sendMessage("Called");
						c.getClanWars().checkLeave(c, ClanWarHandler.clanWars[c.clanWarId]);
					} else if(ClanWarHandler.clanWars[c.clanWarId].getOtherId() == c.playerId) {
						c.sendMessage("Called1");
						c.getClanWars().checkLeave(c, ClanWarHandler.clanWars[c.clanWarId]);
					}
				}
				PlayerHandler.players[playerId].clanId = -1;
				c.sendMessage("You have left the clan.");
				c.getPA().clearClanChat();
				if(c.clanWarId &gt; -1) {
					c.getClanWars().removePlayer(c, ClanWarHandler.clanWars[c.clanWarId]);
				}
				for (int j = 0; j &lt; clans[clanId].members.length; j++) {
					if (clans[clanId].members[j] == playerId) {
						clans[clanId].members[j] = -1;
					}
				}
				//for (int j = 0; j &lt; clans[clanId].members.length; j++) {
					//Client c2 = (Client)PlayerHandler.players[clans[clanId].members[j]];
					//c2.sendMessage(c.playerName+" has left the clan.");
				//}
			}
			updateClanChat(clanId);
		} else {
			Client c = (Client)PlayerHandler.players[playerId];
			PlayerHandler.players[playerId].clanId = -1;
			c.sendMessage("You are not in a clan.");
		}
	}</code></p>
<p>and lastly in ActionHandler add this at the top</p>
<p><code>if(c.getClanWars().handleObjects(c, objectType)) {
			return;
		}</code><br>
dont complain about conventions cuz it ****s up when i copy from eclipse onto this place</p>
<p>dont post errors cuz idc lol</p>
<p>[QUOTE=Women]forgot…</p>
<p>in client.java search for case 253: and put this somewhere</p>
<p>[code]} else if (s.endsWith(":clanwarreq:")) {<br>
String s4 = s.substring(0, s.indexOf(":"));<br>
long l18 = TextClass.longForName(s4);<br>
boolean flag3 = false;<br>
for (int k27 = 0; k27 &lt; ignoreCount; k27++) {<br>
if (ignoreListAsLongs[k27] != l18)<br>
continue;<br>
flag3 = true;</p>
<pre><code>				}
				if (!flag3 &amp;&amp; anInt1251 == 0)
					pushMessage(s4, "wishes to fight your clan.", 8);	[/code][/QUOTE]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/clan-wars/535055/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/clan-wars/535055/1</link>
        <pubDate>Thu, 31 Oct 2013 20:52:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-535055-1</guid>
        <source url="https://forum.moparisthebest.com/t/clan-wars/535055.rss">Clan Wars</source>
      </item>
  </channel>
</rss>
