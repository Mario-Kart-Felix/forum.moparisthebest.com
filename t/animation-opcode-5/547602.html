<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/animation-opcode-5/547602 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Animation opcode 5 - Runescape - moparisthebest.com</title>
    <meta name="description" content="In the Animation loader in the client, there is a check to see if any opcodes for a given frame have a value of 5 (the check is applied to all frames which have a transformation attached to them). This check then sets a &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="547602.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Animation opcode 5&#39;" href="547602.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/animation-opcode-5/547602" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/animation-opcode-5/547602" />
<meta property="og:title" content="Animation opcode 5" />
<meta name="twitter:title" content="Animation opcode 5" />
<meta property="og:description" content="In the Animation loader in the client, there is a check to see if any opcodes for a given frame have a value of 5 (the check is applied to all frames which have a transformation attached to them). This check then sets a boolean which I can only presume was used in a previous version of the client, however it is now unused.  Does anyone know what an opcode value of 5 represents? Here is the code in question.  [code=Java]			for (int opcode = 0; opcode &lt; opcodeCount; opcode++) {  			int transformat..." />
<meta name="twitter:description" content="In the Animation loader in the client, there is a check to see if any opcodes for a given frame have a value of 5 (the check is applied to all frames which have a transformation attached to them). This check then sets a boolean which I can only presume was used in a previous version of the client, however it is now unused.  Does anyone know what an opcode value of 5 represents? Here is the code in question.  [code=Java]			for (int opcode = 0; opcode &lt; opcodeCount; opcode++) {  			int transformat..." />
<meta property="article:published_time" content="2014-11-04T01:20:08+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="547602.html">Animation opcode 5</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-04T01:20:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:56:12Z' class='post-time'>
              August 4, 2016,  1:56pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>In the Animation loader in the client, there is a check to see if any opcodes for a given frame have a value of 5 (the check is applied to all frames which have a transformation attached to them). This check then sets a boolean which I can only presume was used in a previous version of the client, however it is now unused.</p>
<p>Does anyone know what an opcode value of 5 represents? Here is the code in question.</p>
<p>[code=Java]			for (int opcode = 0; opcode &lt; opcodeCount; opcode++) {</p>
<pre><code>			int transformationType = streamTransformationType.getUnsignedByte();
			if (transformationType &gt; 0) {	
				if (animationSkins.opcodes[opcode] != 0) {
					for (int o = opcode - 1; o &gt; handledOpcode; o--) {
						if (animationSkins.opcodes[o] != 0)
							continue;
						opcodeTable[frameCount] = o;
						transformationX[frameCount] = 0;
						transformationY[frameCount] = 0;
						transformationZ[frameCount] = 0;
						frameCount++;
						break;
					}
				}

				opcodeTable[frameCount] = opcode;
				char transformation = '\0';
				
				if (animationSkins.opcodes[opcode] == 3) {
					transformation = '\200';
				}
				
				if ((transformationType &amp; 1) != 0) {
					transformationX[frameCount] = 
							streamTransformations.getSmartA();
				} else {
					transformationX[frameCount] = transformation;
				}
				
				if ((transformationType &amp; 2) != 0) {
					transformationY[frameCount] = 
							streamTransformations.getSmartA();
				} else {
					transformationY[frameCount] = transformation;
				}
				
				if ((transformationType &amp; 4) != 0) {
					transformationZ[frameCount] =
							streamTransformations.getSmartA();
				} else {
					transformationZ[frameCount] = transformation;
				}
				
				handledOpcode = opcode;
				frameCount++;
				
				if (animationSkins.opcodes[opcode] == 5)
					unusedBoolean[animationId] = false;
			}
		}[/code]</code></pre>
      </div>

      <meta itemprop='headline' content='Animation opcode 5'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Metho_D.html'><span itemprop='name'>Metho_D</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-04T02:01:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:56:13Z' class='post-time'>
              August 4, 2016,  1:56pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It indicates a transparency change for a triangle group.</p>
      </div>

      <meta itemprop='headline' content='Animation opcode 5'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-04T02:07:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:56:13Z' class='post-time'>
              August 4, 2016,  1:56pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="547602">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/method/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Method:</div>
<blockquote>
<p>It indicates a transparency change for a triangle group.</p>
</blockquote>
</aside>
<p>Thanks. Any idea why it’s unused in the 317 client?</p>
      </div>

      <meta itemprop='headline' content='Animation opcode 5'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Metho_D.html'><span itemprop='name'>Metho_D</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-04T02:23:51Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:56:13Z' class='post-time'>
              August 4, 2016,  1:56pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Ambokile, post:3, topic:547602”][quote author=Method link=topic=666511.msg4456220#msg4456220 date=1415066470]<br>
It indicates a transparency change for a triangle group.<br>
[/quote]</p>
<p>Thanks. Any idea why it’s unused in the 317 client?[/quote]</p>
<p>If you mean that particular transform, are you sure it’s unused? I would think that there are animations that modify the transparency of a model.</p>
<p>If you’re talking about that <span class="bbcode-i">unusedBoolean</span> field, though, it’s possible that it was used for debug purposes. It may also have been useful for an optimization to avoid copying over the transparency values for every triangle. If you know that an animation doesn’t change the transparency of any triangles, you can have multiple models sharing the same transparency values. When you’ve got a lot of animations happening at once, being able to share the data for thousands of triangles instead of creating many copies could be a big performance win.</p>
      </div>

      <meta itemprop='headline' content='Animation opcode 5'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-04T02:32:40Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:56:13Z' class='post-time'>
              August 4, 2016,  1:56pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Method, post:4, topic:547602”][quote author=Ambokile link=topic=666511.msg4456222#msg4456222 date=1415066851]</p>
<aside class="quote">
<blockquote>
<p>It indicates a transparency change for a triangle group.</p>
</blockquote>
</aside>
<p>Thanks. Any idea why it’s unused in the 317 client?<br>
[/quote]</p>
<p>If you mean that particular transform, are you sure it’s unused? I would think that there are animations that modify the transparency of a model.</p>
<p>If you’re talking about that <span class="bbcode-i">unusedBoolean</span> field, though, it’s possible that it was used for debug purposes. It may also have been useful for an optimization to avoid copying over the transparency values for every triangle. If you know that an animation doesn’t change the transparency of any triangles, you can have multiple models sharing the same transparency values. When you’ve got a lot of animations happening at once, being able to share the data for thousands of triangles instead of creating many copies could be a big performance win.[/quote]</p>
<p>I dumped all the animation ids using that transform and none of them seemed to have any intended effect on the player (distortion or just no effect at all). Could it be mainly for objects or NPCs?</p>
      </div>

      <meta itemprop='headline' content='Animation opcode 5'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Metho_D.html'><span itemprop='name'>Metho_D</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-04T03:01:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:56:13Z' class='post-time'>
              August 4, 2016,  1:56pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Ambokile, post:5, topic:547602”][quote author=Method link=topic=666511.msg4456225#msg4456225 date=1415067831]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>It indicates a transparency change for a triangle group.</p>
</blockquote>
</aside>
<p>Thanks. Any idea why it’s unused in the 317 client?</p>
</blockquote>
</aside>
<p>If you mean that particular transform, are you sure it’s unused? I would think that there are animations that modify the transparency of a model.</p>
<p>If you’re talking about that <span class="bbcode-i">unusedBoolean</span> field, though, it’s possible that it was used for debug purposes. It may also have been useful for an optimization to avoid copying over the transparency values for every triangle. If you know that an animation doesn’t change the transparency of any triangles, you can have multiple models sharing the same transparency values. When you’ve got a lot of animations happening at once, being able to share the data for thousands of triangles instead of creating many copies could be a big performance win.<br>
[/quote]</p>
<p>I dumped all the animation ids using that transform and none of them seemed to have any intended effect on the player (distortion or just no effect at all). Could it be mainly for objects or NPCs?[/quote]</p>
<p>I can see it being useful for animations involving all of those as well as projectiles, spot effects, and models in general.</p>
<p>If you want to see it in action, I’d suggest trying to find a model that has all of the groups (what you’ve called the <span class="bbcode-i">jointList</span> in another thread) used in a particular animation that has the transform.</p>
      </div>

      <meta itemprop='headline' content='Animation opcode 5'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-04T12:04:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:56:17Z' class='post-time'>
              August 4, 2016,  1:56pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Method, post:6, topic:547602”]I can see it being useful for animations involving all of those as well as projectiles, spot effects, and models in general.</p>
<p>If you want to see it in action, I’d suggest trying to find a model that has all of the groups (what you’ve called the <span class="bbcode-i">jointList</span> in another thread) used in a particular animation that has the transform.[/quote]</p>
<p>Thanks, I’ll take a look at that. Am I correct in my naming of ModelJoint? I’ve played about with it and from what I can see it handles the way a joint moves on a model.</p>
<p>Also, I managed to force the transparency transform and it looks pretty cool <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p><img src="http://i.imgur.com/iKIPNDi.png" alt width="" height=""></p>
      </div>

      <meta itemprop='headline' content='Animation opcode 5'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T20:39:25Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:08Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ghostly legs</p>
      </div>

      <meta itemprop='headline' content='Animation opcode 5'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/animation-opcode-5/547602 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:39 GMT -->
</html>
