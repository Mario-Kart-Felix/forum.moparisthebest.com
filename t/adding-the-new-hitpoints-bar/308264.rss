<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Adding the new hitpoints bar</title>
    <link>https://forum.moparisthebest.com/t/adding-the-new-hitpoints-bar/308264</link>
    <description>Well guys i thought i would show you guys how to add the new hitpoints bar to our client.

First your going to want to go to your Client.Java.

Once there, search &quot;boolean hp&quot;. You will see something like &quot;Boolean hp : faulse;.

Just simply change the &quot;false to &quot;true&quot; and you&#39;ll have the new hitpoints bar.

If you dont have the boolean hp in the Client.java follo these steps.

 



Adding the new HP bar:

Client.java

First off declare this. Note: If you want the new hp bar on statup change it to true

Code:
public boolean HPBarToggle = false;

============ Non-Renamed ============

   Search for
   
Code:
if(((Class30_Sub2_Sub4_Sub1) (obj)).anInt1532 &gt; anInt1161)
   You should see this:
   
Code:
            if(((Class30_Sub2_Sub4_Sub1) (obj)).anInt1532 &gt; anInt1161)
            {
                method127(true, ((Class30_Sub2_Sub4_Sub1) (obj)), ((Class30_Sub2_Sub4_Sub1) (obj)).anInt1507 + 15);
                if(anInt963 &gt; -1)
                {
                    int i1 = (((Class30_Sub2_Sub4_Sub1) (obj)).anInt1533 * 30) / ((Class30_Sub2_Sub4_Sub1) (obj)).anInt1534;
                    if(i1 &gt; 30)
                        i1 = 30;
                    Class30_Sub2_Sub1.method336(5, anInt964 - 3, anInt963 - 15, 65280, i1, 0);
                    Class30_Sub2_Sub1.method336(5, anInt964 - 3, (anInt963 - 15) + i1, 0xff0000, 30 - i1, 0);
                }
            }
	
   Replace all of that with this
   
Code:
            if(((Class30_Sub2_Sub4_Sub1) (obj)).anInt1532 &gt; anInt1161)
            {
		if(anInt963 &gt; -1)
                {
			method127(true, ((Class30_Sub2_Sub4_Sub1) (obj)), ((Class30_Sub2_Sub4_Sub1) (obj)).anInt1507 + 15);
			int i1 = (((Class30_Sub2_Sub4_Sub1) (obj)).anInt1533 * 30) / ((Class30_Sub2_Sub4_Sub1) (obj)).anInt1534;
			if(i1 &gt; 30)
			    i1 = 30;
			int HpPercent = (int)((((Class30_Sub2_Sub4_Sub1)(obj)).anInt1533 * 56) / ((Class30_Sub2_Sub4_Sub1) (obj)).anInt1534);
			if(HpPercent &gt; 56)
			    HpPercent = 56;
		    if(!HPBarToggle){
                    	Class30_Sub2_Sub1.method336(5, anInt964 - 3, anInt963 - 15, 65280, i1, 0);
                    	Class30_Sub2_Sub1.method336(5, anInt964 - 3, (anInt963 - 15) + i1, 0xff0000, 30 - i1, 0);
		    } else {
                    	HPBarEmpty.method348(anInt963 - 28, 16083, anInt964 - 3);
			HPBarFull = new Class30_Sub2_Sub1_Sub1(sign.signlink.findcachedir() + &quot;Sprites/HITPOINTS_0.PNG&quot;, HpPercent, 7);
			HPBarFull.method348(anInt963 - 28, 16083, anInt964 - 3);
		    }
                }
            }
	
   Declare these:
   
Code:
	private Class30_Sub2_Sub1_Sub1 HPBarFull;
	private Class30_Sub2_Sub1_Sub1 HPBarEmpty;
	
   In method8() add these
   
Code:
	HPBarFull = null;
	HPBarEmpty = null;
	
   Under &quot;Unpacking media&quot; add these
   
Code:
	HPBarFull = new Class30_Sub2_Sub1_Sub1(sign.signlink.findcachedir() + &quot;Sprites/HITPOINTS_0.PNG&quot;);
	HPBarEmpty = new Class30_Sub2_Sub1_Sub1(sign.signlink.findcachedir() + &quot;Sprites/HITPOINTS_1.PNG&quot;);
	
   In Class30_Sub2_Sub1_Sub1.java add this method
   
Code:
    public Class30_Sub2_Sub1_Sub1(String s, int width, int height){
        try {
            Image image = Toolkit.getDefaultToolkit().createImage(FileOperations.ReadFile(s));
            anInt1440 = width;
            anInt1441 = height;
            anInt1444 = anInt1440;
            anInt1445 = anInt1441;
            anInt1442 = 0;
            anInt1443 = 0;
            anIntArray1439 = new int[anInt1440 * anInt1441];
            PixelGrabber pixelgrabber = new PixelGrabber(image, 0, 0, anInt1440, anInt1441, anIntArray1439, 0, anInt1440);
            pixelgrabber.grabPixels();
        } catch(Exception exception) {
            exception.printStackTrace();
        }
    }
	


   ============= Renamed ============

   Search for
   
Code:
if (((Entity) (obj)).loopCycleStatus &gt; loopCycle) {
   You should see this:
   
Code:
                if (((Entity) (obj)).loopCycleStatus &gt; loopCycle) {
                    try {
                        npcScreenPos(((Entity) (obj)),
                                ((Entity) (obj)).height + 15);
                        if (spriteDrawX &gt; -1) {
                            int i1 = (((Entity) (obj)).currentHealth * 30)
                                    / ((Entity) (obj)).maxHealth;

                            if (i1 &gt; 30) {
                                i1 = 30;
                            }
                            DrawingArea.method336(5, spriteDrawY - 3,
                                    spriteDrawX - 15, 65280, i1);
                            DrawingArea.method336(5, spriteDrawY - 3,
                                    (spriteDrawX - 15) + i1, 0xff0000, 30 - i1);
                        }
                    } catch (Exception e) {}
                }
	
   Replace all of that with this
   
Code:
                if (((Entity) (obj)).loopCycleStatus &gt; loopCycle) {
                    try {
                        npcScreenPos(((Entity) (obj)), ((Entity) (obj)).height + 15);
                        if (spriteDrawX &gt; -1) {
                            int i1 = (((Entity) (obj)).currentHealth * 30) / ((Entity) (obj)).maxHealth;

                            if (i1 &gt; 30) {
                                i1 = 30;
                            }
                            int HpPercent = (((Entity) (obj)).currentHealth * 56) / ((Entity) (obj)).maxHealth;

                            if (HpPercent &gt; 56) {
                                HpPercent = 56;
                            }
			    if(!HPBarToggle){
				DrawingArea.method336(5, spriteDrawY - 3, spriteDrawX - 15, 65280, i1);
				DrawingArea.method336(5, spriteDrawY - 3, (spriteDrawX - 15) + i1, 0xff0000, 30 - i1);
			    } else {
				HPBarEmpty.drawSprite(spriteDrawX - 28, spriteDrawY - 3);
				HPBarFull = new Sprite(sign.signlink.findcachedir() + &quot;Sprites/HITPOINTS_0.PNG&quot;, HpPercent, 7);
				HPBarFull.drawSprite(spriteDrawX - 28, spriteDrawY - 3);
			    }
                        }
                    } catch (Exception e) {}
                }
	
   Declare these:
   
Code:
	private Sprite HPBarFull;
	private Sprite HPBarEmpty;
	
   In cleanUpForQuit() add these
   
Code:
	HPBarFull = null;
	HPBarEmpty = null;
	
   Under &quot;Unpacking media&quot; add these
   
Code:
	HPBarFull = new Sprite(sign.signlink.findcachedir() + &quot;Sprites/HITPOINTS_0.PNG&quot;, 1);
	HPBarEmpty = new Sprite(sign.signlink.findcachedir() + &quot;Sprites/HITPOINTS_1.PNG&quot;, 1);
	
   In Sprite.java add these methods
   
Code:
    public Sprite(String img, int i)
    {
        ImageIcon imageicon = new ImageIcon(img);
        imageicon.getIconHeight();
        imageicon.getIconWidth();
        try {
	    Image image = Toolkit.getDefaultToolkit().createImage(FileOperations.ReadFile(img));
	    myWidth = imageicon.getIconWidth();
	    myHeight = imageicon.getIconHeight();
            anInt1444 = myWidth;
            anInt1445 = myHeight;
            anInt1442 = 0;
            anInt1443 = 0;
            myPixels = new int[myWidth * myHeight];
            PixelGrabber pixelgrabber = new PixelGrabber(image, 0, 0, myWidth, myHeight, myPixels, 0, myWidth);
            pixelgrabber.grabPixels();
	    image = null;
        } catch(Exception _ex) {
            System.out.println(_ex);
        }
    }
	
   
Code:
    public Sprite(String img, int width, int height)
    {
        try {
	    Image image = Toolkit.getDefaultToolkit().createImage(FileOperations.ReadFile(img));
	    myWidth = width;
	    myHeight = height;
            anInt1444 = myWidth;
            anInt1445 = myHeight;
            anInt1442 = 0;
            anInt1443 = 0;
            myPixels = new int[myWidth * myHeight];
            PixelGrabber pixelgrabber = new PixelGrabber(image, 0, 0, myWidth, myHeight, myPixels, 0, myWidth);
            pixelgrabber.grabPixels();
	    image = null;
        } catch(Exception _ex) {
            System.out.println(_ex);
        }
    }
	



Results:







Extra:
To make a command client-sided to toggle the hp bar.

Find

Code:
if(s.startsWith(&quot;yellow:&quot;))
Above that add this:


Non renamed:

Code:
if(aString887.equals(&quot;::newbar&quot;))
    HPBarToggle = true;
if(aString887.equals(&quot;::oldbar&quot;))
    HPBarToggle = false;

Renamed:

Code:
if(inputString.equals(&quot;::newbar&quot;))
    HPBarToggle = true;
if(inputString.equals(&quot;::oldbar&quot;))
    HPBarToggle = false;</description>
    
    <lastBuildDate>Tue, 13 Oct 2009 03:42:08 +0000</lastBuildDate>
    <category>Game Development</category>
    <atom:link href="https://forum.moparisthebest.com/t/adding-the-new-hitpoints-bar/308264.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Adding the new hitpoints bar</title>
        <dc:creator><![CDATA[@Chosen_Pkz Chosen Pkz]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/chosen_pkz">@Chosen_Pkz</a> wrote:</p>
          <blockquote>
              <p>Well guys i thought i would show you guys how to add the new hitpoints bar to our client.</p>
<p>First your going to want to go to your Client.Java.</p>
<p>Once there, search “boolean hp”. You will see something like "Boolean hp : faulse;.</p>
<p>Just simply change the "false to “true” and you’ll have the new hitpoints bar.</p>
<p>If you dont have the boolean hp in the Client.java follo these steps.</p>
<p>Adding the new HP bar:</p>
<p>Client.java</p>
<p>First off declare this. Note: If you want the new hp bar on statup change it to true</p>
<p>Code:<br>
public boolean HPBarToggle = false;</p>
<p>============ Non-Renamed ============</p>
<p>Search for</p>
<p>Code:<br>
if(((Class30_Sub2_Sub4_Sub1) (obj)).anInt1532 &gt; anInt1161)<br>
You should see this:</p>
<p>Code:<br>
if(((Class30_Sub2_Sub4_Sub1) (obj)).anInt1532 &gt; anInt1161)<br>
{<br>
method127(true, ((Class30_Sub2_Sub4_Sub1) (obj)), ((Class30_Sub2_Sub4_Sub1) (obj)).anInt1507 + 15);<br>
if(anInt963 &gt; -1)<br>
{<br>
int i1 = (((Class30_Sub2_Sub4_Sub1) (obj)).anInt1533 * 30) / ((Class30_Sub2_Sub4_Sub1) (obj)).anInt1534;<br>
if(i1 &gt; 30)<br>
i1 = 30;<br>
Class30_Sub2_Sub1.method336(5, anInt964 - 3, anInt963 - 15, 65280, i1, 0);<br>
Class30_Sub2_Sub1.method336(5, anInt964 - 3, (anInt963 - 15) + i1, 0xff0000, 30 - i1, 0);<br>
}<br>
}</p>
<p>Replace all of that with this</p>
<p>Code:<br>
if(((Class30_Sub2_Sub4_Sub1) (obj)).anInt1532 &gt; anInt1161)<br>
{<br>
if(anInt963 &gt; -1)<br>
{<br>
method127(true, ((Class30_Sub2_Sub4_Sub1) (obj)), ((Class30_Sub2_Sub4_Sub1) (obj)).anInt1507 + 15);<br>
int i1 = (((Class30_Sub2_Sub4_Sub1) (obj)).anInt1533 * 30) / ((Class30_Sub2_Sub4_Sub1) (obj)).anInt1534;<br>
if(i1 &gt; 30)<br>
i1 = 30;<br>
int HpPercent = (int)((((Class30_Sub2_Sub4_Sub1)(obj)).anInt1533 * 56) / ((Class30_Sub2_Sub4_Sub1) (obj)).anInt1534);<br>
if(HpPercent &gt; 56)<br>
HpPercent = 56;<br>
if(!HPBarToggle){<br>
Class30_Sub2_Sub1.method336(5, anInt964 - 3, anInt963 - 15, 65280, i1, 0);<br>
Class30_Sub2_Sub1.method336(5, anInt964 - 3, (anInt963 - 15) + i1, 0xff0000, 30 - i1, 0);<br>
} else {<br>
HPBarEmpty.method348(anInt963 - 28, 16083, anInt964 - 3);<br>
HPBarFull = new Class30_Sub2_Sub1_Sub1(sign.signlink.findcachedir() + “Sprites/HITPOINTS_0.PNG”, HpPercent, 7);<br>
HPBarFull.method348(anInt963 - 28, 16083, anInt964 - 3);<br>
}<br>
}<br>
}</p>
<p>Declare these:</p>
<p>Code:<br>
private Class30_Sub2_Sub1_Sub1 HPBarFull;<br>
private Class30_Sub2_Sub1_Sub1 HPBarEmpty;</p>
<p>In method8() add these</p>
<p>Code:<br>
HPBarFull = null;<br>
HPBarEmpty = null;</p>
<p>Under “Unpacking media” add these</p>
<p>Code:<br>
HPBarFull = new Class30_Sub2_Sub1_Sub1(sign.signlink.findcachedir() + “Sprites/HITPOINTS_0.PNG”);<br>
HPBarEmpty = new Class30_Sub2_Sub1_Sub1(sign.signlink.findcachedir() + “Sprites/HITPOINTS_1.PNG”);</p>
<p>In Class30_Sub2_Sub1_Sub1.java add this method</p>
<p>Code:<br>
public Class30_Sub2_Sub1_Sub1(String s, int width, int height){<br>
try {<br>
Image image = Toolkit.getDefaultToolkit().createImage(FileOperations.ReadFile(s));<br>
anInt1440 = width;<br>
anInt1441 = height;<br>
anInt1444 = anInt1440;<br>
anInt1445 = anInt1441;<br>
anInt1442 = 0;<br>
anInt1443 = 0;<br>
anIntArray1439 = new int[anInt1440 * anInt1441];<br>
PixelGrabber pixelgrabber = new PixelGrabber(image, 0, 0, anInt1440, anInt1441, anIntArray1439, 0, anInt1440);<br>
pixelgrabber.grabPixels();<br>
} catch(Exception exception) {<br>
exception.printStackTrace();<br>
}<br>
}</p>
<p>============= Renamed ============</p>
<p>Search for</p>
<p>Code:<br>
if (((Entity) (obj)).loopCycleStatus &gt; loopCycle) {<br>
You should see this:</p>
<p>Code:<br>
if (((Entity) (obj)).loopCycleStatus &gt; loopCycle) {<br>
try {<br>
npcScreenPos(((Entity) (obj)),<br>
((Entity) (obj)).height + 15);<br>
if (spriteDrawX &gt; -1) {<br>
int i1 = (((Entity) (obj)).currentHealth * 30)<br>
/ ((Entity) (obj)).maxHealth;</p>
<pre><code>                        if (i1 &gt; 30) {
                            i1 = 30;
                        }
                        DrawingArea.method336(5, spriteDrawY - 3,
                                spriteDrawX - 15, 65280, i1);
                        DrawingArea.method336(5, spriteDrawY - 3,
                                (spriteDrawX - 15) + i1, 0xff0000, 30 - i1);
                    }
                } catch (Exception e) {}
            }
</code></pre>
<p>Replace all of that with this</p>
<p>Code:<br>
if (((Entity) (obj)).loopCycleStatus &gt; loopCycle) {<br>
try {<br>
npcScreenPos(((Entity) (obj)), ((Entity) (obj)).height + 15);<br>
if (spriteDrawX &gt; -1) {<br>
int i1 = (((Entity) (obj)).currentHealth * 30) / ((Entity) (obj)).maxHealth;</p>
<pre><code>                        if (i1 &gt; 30) {
                            i1 = 30;
                        }
                        int HpPercent = (((Entity) (obj)).currentHealth * 56) / ((Entity) (obj)).maxHealth;

                        if (HpPercent &gt; 56) {
                            HpPercent = 56;
                        }
		    if(!HPBarToggle){
			DrawingArea.method336(5, spriteDrawY - 3, spriteDrawX - 15, 65280, i1);
			DrawingArea.method336(5, spriteDrawY - 3, (spriteDrawX - 15) + i1, 0xff0000, 30 - i1);
		    } else {
			HPBarEmpty.drawSprite(spriteDrawX - 28, spriteDrawY - 3);
			HPBarFull = new Sprite(sign.signlink.findcachedir() + "Sprites/HITPOINTS_0.PNG", HpPercent, 7);
			HPBarFull.drawSprite(spriteDrawX - 28, spriteDrawY - 3);
		    }
                    }
                } catch (Exception e) {}
            }
</code></pre>
<p>Declare these:</p>
<p>Code:<br>
private Sprite HPBarFull;<br>
private Sprite HPBarEmpty;</p>
<p>In cleanUpForQuit() add these</p>
<p>Code:<br>
HPBarFull = null;<br>
HPBarEmpty = null;</p>
<p>Under “Unpacking media” add these</p>
<p>Code:<br>
HPBarFull = new Sprite(sign.signlink.findcachedir() + “Sprites/HITPOINTS_0.PNG”, 1);<br>
HPBarEmpty = new Sprite(sign.signlink.findcachedir() + “Sprites/HITPOINTS_1.PNG”, 1);</p>
<p>In Sprite.java add these methods</p>
<p>Code:<br>
public Sprite(String img, int i)<br>
{<br>
ImageIcon imageicon = new ImageIcon(img);<br>
imageicon.getIconHeight();<br>
imageicon.getIconWidth();<br>
try {<br>
Image image = Toolkit.getDefaultToolkit().createImage(FileOperations.ReadFile(img));<br>
myWidth = imageicon.getIconWidth();<br>
myHeight = imageicon.getIconHeight();<br>
anInt1444 = myWidth;<br>
anInt1445 = myHeight;<br>
anInt1442 = 0;<br>
anInt1443 = 0;<br>
myPixels = new int[myWidth * myHeight];<br>
PixelGrabber pixelgrabber = new PixelGrabber(image, 0, 0, myWidth, myHeight, myPixels, 0, myWidth);<br>
pixelgrabber.grabPixels();<br>
image = null;<br>
} catch(Exception _ex) {<br>
System.out.println(_ex);<br>
}<br>
}</p>
<p>Code:<br>
public Sprite(String img, int width, int height)<br>
{<br>
try {<br>
Image image = Toolkit.getDefaultToolkit().createImage(FileOperations.ReadFile(img));<br>
myWidth = width;<br>
myHeight = height;<br>
anInt1444 = myWidth;<br>
anInt1445 = myHeight;<br>
anInt1442 = 0;<br>
anInt1443 = 0;<br>
myPixels = new int[myWidth * myHeight];<br>
PixelGrabber pixelgrabber = new PixelGrabber(image, 0, 0, myWidth, myHeight, myPixels, 0, myWidth);<br>
pixelgrabber.grabPixels();<br>
image = null;<br>
} catch(Exception _ex) {<br>
System.out.println(_ex);<br>
}<br>
}</p>
<p>Results:</p>
<p>Extra:<br>
To make a command client-sided to toggle the hp bar.</p>
<p>Find</p>
<p>Code:<br>
if(s.startsWith(“yellow:”))<br>
Above that add this:</p>
<p>Non renamed:</p>
<p>Code:<br>
if(aString887.equals("::newbar"))<br>
HPBarToggle = true;<br>
if(aString887.equals("::oldbar"))<br>
HPBarToggle = false;</p>
<p>Renamed:</p>
<p>Code:<br>
if(inputString.equals("::newbar"))<br>
HPBarToggle = true;<br>
if(inputString.equals("::oldbar"))<br>
HPBarToggle = false;</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-the-new-hitpoints-bar/308264/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-the-new-hitpoints-bar/308264/1</link>
        <pubDate>Tue, 13 Oct 2009 03:42:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-308264-1</guid>
        <source url="https://forum.moparisthebest.com/t/adding-the-new-hitpoints-bar/308264.rss">Adding the new hitpoints bar</source>
      </item>
  </channel>
</rss>
