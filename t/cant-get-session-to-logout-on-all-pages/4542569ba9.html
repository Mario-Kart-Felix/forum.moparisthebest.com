<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/cant-get-session-to-logout-on-all-pages/454256?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 23:47:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Can&#39;t get session to logout on all pages - General Programming - moparisthebest.com</title>
    <meta name="description" content="For some reason, when I use my logout script, it logs you out on the page you logged out, but when you go to another page that you were logged in, it keeps you logged in. Here&amp;#39;s my login script:  [code=php] &amp;lt;?php session&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="4542569ba9.html?page=3" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Can&#39;t get session to logout on all pages&#39;" href="454256.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/cant-get-session-to-logout-on-all-pages/454256?page=3" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/cant-get-session-to-logout-on-all-pages/454256?page=3" />
<meta property="og:title" content="Can&#39;t get session to logout on all pages" />
<meta name="twitter:title" content="Can&#39;t get session to logout on all pages" />
<meta property="og:description" content="[quote=“sageofmali, post:40, topic:454256”]Hmmm, I’m getting an error: [quote] Warning: array_multisort() [function.array-multisort]: Array sizes are inconsistent in /home/sagesca1/public_html/hiscores/functions.ws on line 306  Array ( [Attack] =&gt; Array ( [xp] =&gt; 168300 [level] =&gt; 55 ) [Defence] =&gt; Array ( [xp] =&gt; 168850 [level] =&gt; 55 ) ) [/quote]  Using the code: [code=php]function Matrix($user){  include “mysql.ws”;  for ($i = 1; $i &lt;=25; $i++){  $xptype = findType($i).“xp”;  $query = mysql_qu..." />
<meta name="twitter:description" content="[quote=“sageofmali, post:40, topic:454256”]Hmmm, I’m getting an error: [quote] Warning: array_multisort() [function.array-multisort]: Array sizes are inconsistent in /home/sagesca1/public_html/hiscores/functions.ws on line 306  Array ( [Attack] =&gt; Array ( [xp] =&gt; 168300 [level] =&gt; 55 ) [Defence] =&gt; Array ( [xp] =&gt; 168850 [level] =&gt; 55 ) ) [/quote]  Using the code: [code=php]function Matrix($user){  include “mysql.ws”;  for ($i = 1; $i &lt;=25; $i++){  $xptype = findType($i).“xp”;  $query = mysql_qu..." />
<meta property="article:published_time" content="2012-08-16T23:39:44+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="4542564658.html?page=2">
      <link rel="next" href="454256fdb0.html?page=4">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="454256.html">Can&#39;t get session to logout on all pages</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-16T23:39:44Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:35Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#41</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sageofmali, post:40, topic:454256”]Hmmm, I’m getting an error: [quote] Warning: array_multisort() [function.array-multisort]: Array sizes are inconsistent in /home/sagesca1/public_html/hiscores/functions.ws on line 306<br>
Array ( [Attack] =&gt; Array ( [xp] =&gt; 168300 [level] =&gt; 55 ) [Defence] =&gt; Array ( [xp] =&gt; 168850 [level] =&gt; 55 ) ) [/quote]<br>
Using the code: [code=php]function Matrix($user){<br>
include “mysql.ws”;<br>
for ($i = 1; $i &lt;=25; $i++){<br>
$xptype = findType($i).“xp”;<br>
$query = mysql_query(“SELECT * FROM skills WHERE playerName LIKE '”.fixName($user)."’ ORDER BY $xptype LIMIT 1") or die(mysql_error());<br>
$row = mysql_fetch_array($query);<br>
$names = findType($i);		<br>
$skills[$names] = array(‘xp’ =&gt; $row[$xptype], ‘level’ =&gt; getLevelForXP($row[$xptype]));<br>
$xpTable = array();<br>
$lvlTable = array();<br>
$nameTable = array();<br>
$xpTable[] = $row[$xptype];</p>
<pre><code>	array_multisort($xpTable, SORT_NUMERIC, SORT_DESC, $skills);
	unset($xpTable);
	print_r($skills);
	echo '&lt;br /&gt;';
}
</code></pre>
<p>}[/code][/quote]</p>
<p>You didn’t read my instructions properly, read them again.</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-16T23:50:26Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:35Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#42</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeah I edited my post after you posted that sorry.  But how would I get the skill names, xp , lvl and all of that outside the loop?<code>function Matrix($user){
	include "mysql.ws";
	$skills = array();
	$xpTable = array();
	$lvlTable = array();
	$nameTable = array();
	for ($i = 1; $i &lt;=25; $i++){
		$xptype = findType($i)."xp";  
		$query = mysql_query("SELECT * FROM skills WHERE playerName LIKE '".fixName($user)."' ORDER BY $xptype LIMIT 1") or die(mysql_error());
		$row = mysql_fetch_array($query);
		$names = findType($i);		
		$skills[$names] = array(
			'xp' =&gt; $row[$xptype], 
			'level' =&gt; getLevelForXP($row[$xptype]),
		);
		$xpTable[] = $row[$xptype];
		$nameTable[] = $skills[$names];
		$lvlTable[] = getLevelForXP($row[$xptype]);
	}
	array_multisort($xpTable, SORT_NUMERIC, SORT_DESC, $skills);
	unset($xpTable);
	print_r($skills);
	echo '&lt;br /&gt;Name = '.$nameTable.' Level = '.$lvlTable.' XP = '.$xpTable.'';
}</code></p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T00:07:40Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:36Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#43</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You don’t need $levelTable or $nameTable. The only reason $xpTable was made was to sort every XP for every skill and then order them by highest skill based on XP.</p>
<p>After the first loop and after the array_multisort(), the $skills array holds all the XP and level for each skill in the format I gave you earlier in order from the skill with the highest XP to the skill with the lowest. You can then loop through that array once again to output the HTML you need to the page.</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T00:40:45Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:40Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#44</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“justaguy, post:43, topic:454256”]You don’t need $levelTable or $nameTable. The only reason $xpTable was made was to sort every XP for every skill and then order them by highest skill based on XP.</p>
<p>After the first loop and after the array_multisort(), the $skills array holds all the XP and level for each skill in the format I gave you earlier in order from the skill with the highest XP to the skill with the lowest. You can then loop through that array once again to output the HTML you need to the page.[/quote]<br>
Thanks that makes a lot of since.  So would I do it like this: [code=php]function Matrix($user){<br>
include “mysql.ws”;<br>
$skills = array();<br>
$xpTable = array();<br>
for ($i = 1; $i &lt;=25; $i++){<br>
$xptype = findType($i).“xp”;<br>
$query = mysql_query(“SELECT * FROM skills WHERE playerName LIKE '”.fixName($user)."’ ORDER BY $xptype LIMIT 1") or die(mysql_error());<br>
$row = mysql_fetch_array($query);<br>
$names = findType($i);		<br>
$skills[$names] = array(<br>
‘xp’ =&gt; $row[$xptype],<br>
‘level’ =&gt; getLevelForXP($row[$xptype]),<br>
);<br>
$xpTable[] = $row[$xptype];<br>
}<br>
array_multisort($xpTable, SORT_NUMERIC, SORT_DESC, $skills);<br>
unset($xpTable);<br>
for ($i = 1; $i &lt;=25; $i++){<br>
$xptype = findType($i).“xp”;<br>
$query = mysql_query(“SELECT * FROM skills WHERE playerName LIKE '”.fixName($user)."’ ORDER BY $xptype LIMIT 1") or die(mysql_error());<br>
$row = mysql_fetch_array($query);<br>
$names = findType($i);<br>
if($i==25)<br>
$percent = percent($row[“Dungeoneeringlvl”], 120);<br>
else<br>
$percent = percent(getLevelForXP($row[$xptype]), 99);<br>
echo’</p>
<li>
	<img src="http://sage-scape.com/hiscores/img/'.fixName(%24skills%5B%24names%5D).'.png?2" alt="'.$skills[$names].'" width="" height="">
	<div data-value="'.$percent.'">'.$percent.'% Complete</div>
	<div>
		<h6>'.$skills[$names].'</h6>
		<p>Level '.getLevelForXP($skills[$xptype]).'</p>
		<p>'.$skills[$xptype].' XP</p>
	</div>
</li>';
	}
	echo'';
}[/code]
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T00:44:54Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:40Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#45</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sageofmali, post:44, topic:454256”][quote author=justaguy link=topic=557125.msg4078963#msg4078963 date=1345162060]<br>
You don’t need $levelTable or $nameTable. The only reason $xpTable was made was to sort every XP for every skill and then order them by highest skill based on XP.</p>
<p>After the first loop and after the array_multisort(), the $skills array holds all the XP and level for each skill in the format I gave you earlier in order from the skill with the highest XP to the skill with the lowest. You can then loop through that array once again to output the HTML you need to the page.<br>
[/quote]<br>
Thanks that makes a lot of since.  So would I do it like this: [code=php]function Matrix($user){<br>
include “mysql.ws”;<br>
$skills = array();<br>
$xpTable = array();<br>
for ($i = 1; $i &lt;=25; $i++){<br>
$xptype = findType($i).“xp”;<br>
$query = mysql_query(“SELECT * FROM skills WHERE playerName LIKE '”.fixName($user)."’ ORDER BY $xptype LIMIT 1") or die(mysql_error());<br>
$row = mysql_fetch_array($query);<br>
$names = findType($i);		<br>
$skills[$names] = array(<br>
‘xp’ =&gt; $row[$xptype],<br>
‘level’ =&gt; getLevelForXP($row[$xptype]),<br>
);<br>
$xpTable[] = $row[$xptype];<br>
}<br>
array_multisort($xpTable, SORT_NUMERIC, SORT_DESC, $skills);<br>
unset($xpTable);<br>
for ($i = 1; $i &lt;=25; $i++){<br>
$xptype = findType($i).“xp”;<br>
$query = mysql_query(“SELECT * FROM skills WHERE playerName LIKE '”.fixName($user)."’ ORDER BY $xptype LIMIT 1") or die(mysql_error());<br>
$row = mysql_fetch_array($query);<br>
$names = findType($i);<br>
if($i==25)<br>
$percent = percent($row[“Dungeoneeringlvl”], 120);<br>
else<br>
$percent = percent(getLevelForXP($row[$xptype]), 99);<br>
echo’</p>
<li>
	<img src="http://sage-scape.com/hiscores/img/'.fixName(%24skills%5B%24names%5D).'.png?2" alt="'.$skills[$names].'" width="" height="">
	<div data-value="'.$percent.'">'.$percent.'% Complete</div>
	<div>
		<h6>'.$skills[$names].'</h6>
		<p>Level '.getLevelForXP($skills[$xptype]).'</p>
		<p>'.$skills[$xptype].' XP</p>
	</div>
</li>';
	}
	echo'';
}[/code][/quote]
<p>You don’t need to do a query in the second loop since you already have the data you need (which is in the $skills array). The whole point of $skills is to have an array of data with what you need in the order you wanted.</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T00:48:05Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:40Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#46</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“justaguy, post:45, topic:454256”][quote author=sageofmali link=topic=557125.msg4079001#msg4079001 date=1345164045]</p>
<aside class="quote">
<blockquote>
<p>You don’t need $levelTable or $nameTable. The only reason $xpTable was made was to sort every XP for every skill and then order them by highest skill based on XP.</p>
<p>After the first loop and after the array_multisort(), the $skills array holds all the XP and level for each skill in the format I gave you earlier in order from the skill with the highest XP to the skill with the lowest. You can then loop through that array once again to output the HTML you need to the page.</p>
</blockquote>
</aside>
<p>Thanks that makes a lot of since.  So would I do it like this: [code=php]function Matrix($user){<br>
include “mysql.ws”;<br>
$skills = array();<br>
$xpTable = array();<br>
for ($i = 1; $i &lt;=25; $i++){<br>
$xptype = findType($i).“xp”;<br>
$query = mysql_query(“SELECT * FROM skills WHERE playerName LIKE '”.fixName($user)."’ ORDER BY $xptype LIMIT 1") or die(mysql_error());<br>
$row = mysql_fetch_array($query);<br>
$names = findType($i);		<br>
$skills[$names] = array(<br>
‘xp’ =&gt; $row[$xptype],<br>
‘level’ =&gt; getLevelForXP($row[$xptype]),<br>
);<br>
$xpTable[] = $row[$xptype];<br>
}<br>
array_multisort($xpTable, SORT_NUMERIC, SORT_DESC, $skills);<br>
unset($xpTable);<br>
for ($i = 1; $i &lt;=25; $i++){<br>
$xptype = findType($i).“xp”;<br>
$query = mysql_query(“SELECT * FROM skills WHERE playerName LIKE '”.fixName($user)."’ ORDER BY $xptype LIMIT 1") or die(mysql_error());<br>
$row = mysql_fetch_array($query);<br>
$names = findType($i);<br>
if($i==25)<br>
$percent = percent($row[“Dungeoneeringlvl”], 120);<br>
else<br>
$percent = percent(getLevelForXP($row[$xptype]), 99);<br>
echo’</p>
<li>
	<img src="http://sage-scape.com/hiscores/img/'.fixName(%24skills%5B%24names%5D).'.png?2" alt="'.$skills[$names].'" width="" height="">
	<div data-value="'.$percent.'">'.$percent.'% Complete</div>
	<div>
		<h6>'.$skills[$names].'</h6>
		<p>Level '.getLevelForXP($skills[$xptype]).'</p>
		<p>'.$skills[$xptype].' XP</p>
	</div>
</li>';
	}
	echo'';
}[/code]
[/quote]
<p>You don’t need to do a query in the second loop since you already have the data you need (which is in the $skills array). The whole point of $skills is to have an array of data with what you need in the order you wanted.[/quote]<br>
Alright so how would I get an individual part of the array from the $skills like getting the xp, the name or the level.  Would I use something like $skills[$names]?</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T00:51:54Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:40Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#47</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You should probably use a foreach in place of the for,</p>
<pre><code class="lang-auto"></code></pre>
<p>And you would access $skillName as the skill name and $data as an array which holds the xp and level.</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T01:02:27Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:41Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#48</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“justaguy, post:47, topic:454256”]You should probably use a foreach in place of the for,</p>
<pre><code class="lang-auto"></code></pre>
<p>And you would access $skillName as the skill name and $data as an array which holds the xp and level.[/quote]<br>
Thank you a lot man, I was able to do it.  Now how would I limit this array with only the top 10?[code=php]function TopMatrix($user){<br>
include “mysql.ws”;<br>
$skills = array();<br>
$xpTable = array();<br>
for ($i = 1; $i &lt;=25; $i++){<br>
$xptype = findType($i).“xp”;<br>
$query = mysql_query(“SELECT * FROM skills WHERE playerName LIKE '”.fixName($user)."’ ORDER BY $xptype LIMIT 1") or die(mysql_error());<br>
$row = mysql_fetch_array($query);<br>
$names = findType($i);		<br>
if($i == 25)<br>
$skills[$names] = array(<br>
‘xp’ =&gt; $row[$xptype],<br>
‘level’ =&gt; getLevelForXP($row[$xptype]),<br>
‘percent’ =&gt; percent($row[“Dungeoneeringlvl”], 120),<br>
);<br>
else<br>
$skills[$names] = array(<br>
‘xp’ =&gt; $row[$xptype],<br>
‘level’ =&gt; getLevelForXP($row[$xptype]),<br>
‘percent’ =&gt; percent(getLevelForXP($row[$xptype]), 99),<br>
);<br>
$xpTable[] = $row[$xptype];<br>
}<br>
array_multisort($xpTable, SORT_NUMERIC, SORT_DESC, $skills);<br>
unset($xpTable);<br>
foreach ($skills as $skillName =&gt; $data){<br>
echo’</p>
<li>
	<img src="http://sage-scape.com/hiscores/img/'.fixName(%24skillName).'.png?2" alt="'.$skillName.'" width="" height="">
	<div data-value="'.$data['percent'].'">'.$data['percent'].'% Complete</div>
	<div>
		<h6>'.$skillName.'</h6>
		<p>Level '.getLevelForXP($data['xp']).'</p>
		<p>'.$data['xp'].' XP</p>
	</div>
</li>';
	}
	echo'';
}[/code]
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T01:07:40Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:41Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#49</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <pre><code class="lang-auto"></code></pre>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T01:21:19Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:42Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#50</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="49" data-topic="454256">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/justaguy/40/61_1.png" class="avatar"> justaguy:</div>
<blockquote>
<p><code>$skills = array_slice($skills, 0, 10);</code></p>
</blockquote>
</aside>
<p>Thanks man you are the best.  If I need anything else, do you mind if I PM you?</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T01:22:26Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:42Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#51</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sageofmali, post:50, topic:454256”][quote author=justaguy link=topic=557125.msg4079020#msg4079020 date=1345165660]</p>
<pre><code class="lang-auto"></code></pre>
<p>[/quote]<br>
Thanks man you are the best.  If I need anything else, do you mind if I PM you?[/quote]</p>
<p>I would prefer if you made topics in this board so others can find solutions if they run into similar problems. Makes it easier for everyone.</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T01:48:48Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:31:43Z' class='post-time'>
              August 3, 2016, 11:31pm
            </time>
        <span itemprop='position'>#52</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alrighty, I have another issue; I’m trying to get all of the friends that a person has and put them on this table, but for some reason it’s just showing one.  Here’s my code: [code=php]function allFriends($user){<br>
include “mysql.ws”;</p>
<pre><code>$query = mysql_query("SELECT u.* FROM friends uf inner join users u on uf.friend = u.username WHERE uf.user = '$user' ORDER BY u.username ASC") or die(mysql_error());
$row = mysql_fetch_array($query);
$count = count($row);
$friendsArray = array();

for ($i = 1; $i &lt;= $count; $i++) {	
	$friends = $row['username'];
	$donator = $row['donator'];
	$online = $row['online'];
	$friendsArray[$friends] = array(
		'donator' =&gt; $row['donator'], 
		'online' =&gt; $row['online'],
	);
}
foreach ($friendsArray as $friend =&gt; $data) {
	echo'
		&lt;tr&gt;
			&lt;td&gt;
				&lt;a class="icon" href="http://sage-scape.com/hiscores/adventure.ws?searchName='.$friend.'"&gt;
					&lt;img src="http://services.runescape.com/m=avatar-rs/'.$friend.'/chat.png" alt="'.$friend.'" /&gt;
				&lt;/a&gt;
			&lt;/td&gt;
			&lt;th scope="row"&gt;
				&lt;a href="http://sage-scape.com/hiscores/adventure.ws?searchName='.$friend.'"&gt;'.$friend.'&lt;/a&gt;
			&lt;/th&gt;
			&lt;td&gt;
			&lt;span class="icon"&gt;';
	if($data['donator'] &gt; 0)
		echo'
			&lt;img src="http://sage-scape.com/hiscores/img/member.png" alt="Donator" title="SageScape Donator"&gt;';
	else
		echo'
			&lt;img src="http://sage-scape.com/hiscores/img/free.png" alt="Free Player" title="SageScape Free Player"&gt;';


	echo'
				&lt;/span&gt;
			&lt;/td&gt;
			&lt;td&gt;&lt;span class="PlayerInfoOnline" data-displayname="'.$friend.'"&gt;&lt;/span&gt;&lt;/td&gt;
		&lt;/tr&gt;';
}
</code></pre>
<p>}[/code]<br>
I have another function that shows all of the friends and it works, but there are some problems with this code too, I plan to sort it by the xp they have, I haven’t got around to that part yet but here it is: <code>function findFriends($table){
	include "mysql.ws";
	$user = $_SESSION['username'];
	$query = mysql_query("SELECT u.* FROM friends uf inner join users u on uf.friend = u.username WHERE uf.user = '$user'") or die(mysql_error());
	echo '
		&lt;div class="tableContainer cssTableSmall"&gt;
		&lt;div class="hiscoresBoxTopLeft"&gt;&lt;/div&gt;
		&lt;div class="hiscoresBoxTopRight"&gt;&lt;/div&gt;
		&lt;div class="tableInnerContainer"&gt;
		&lt;div class="header"&gt;
		&lt;span class="columnRank"&gt;Rank&lt;/span&gt;
		&lt;span class="columnName"&gt;
		&lt;span&gt;Name&lt;/span&gt;
		&lt;/span&gt;
		&lt;span class="columnLevel"&gt;
		&lt;span&gt;Level&lt;/span&gt;
		&lt;/span&gt;
		&lt;span class="columnXp"&gt;
		&lt;span&gt;XP&lt;/span&gt;
		&lt;/span&gt;
		&lt;/div&gt;';
	WHILE($row = mysql_fetch_array($query)){
		$friends = $row['username'];
		$rank = findRank($friends, "$table");
		$xptype = findType($table)."xp";
		$sql = mysql_query("SELECT * FROM skills WHERE playerName LIKE '$friends' ORDER BY '$rank' DESC") or die(mysql_error());
		while($rows = mysql_fetch_array($sql)){
			$count = count($rows);
			if(dots($rows[$xptype]) !=0){
				for($i=0;$i&lt;$count;$i++){
				if($i == $count){
				echo '
					&lt;a name="'.$rank.'"&gt;&lt;/a&gt;
					&lt;a href="compare.ws?user1='.$friends.'" target="_self" class="row last-row"&gt;';
				}else{
				echo '
					&lt;a name="'.$count.'"&gt;&lt;/a&gt;
					&lt;a href="compare.ws?user1='.$friends.'" target="_self" class="row "&gt;';
				}
				echo'
					&lt;span class="columnRank"&gt;
					&lt;span&gt;'.$rank.'&lt;/span&gt;
					&lt;/span&gt;
					&lt;span class="columnName"&gt;
					&lt;span&gt;'.BBCode($friends).'&lt;/span&gt;
					&lt;/span&gt;
					&lt;span class="columnLevel"&gt;
					&lt;span&gt;'.getLevelForXP($rows[$xptype]).'&lt;/span&gt;
					&lt;/span&gt;
					&lt;span class="columnXp"&gt;
					&lt;span&gt;'.dots($rows[$xptype]).'&lt;/span&gt;
					&lt;/span&gt;
					&lt;/a&gt;
				 '; 
				}
			}
		}
	}
}</code></p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-17T17:50:27Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:32:23Z' class='post-time'>
              August 3, 2016, 11:32pm
            </time>
        <span itemprop='position'>#53</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>In your first code you are only getting one record because you aren’t looping through the array.</p>
<pre><code class="lang-auto"></code></pre>
<p>… And so on.</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-19T20:15:21Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:35:02Z' class='post-time'>
              August 3, 2016, 11:35pm
            </time>
        <span itemprop='position'>#54</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeah, I got that fixed, but now I’ve been trying to get this stupid friends hiscores to order properly, but now not a single friend will show up.  Any help?<br>
<span class="bbcode-b">EDIT:</span> I was able to show all the friends, but now I get an error: <code>Warning: array_multisort() [function.array-multisort]: Array sizes are inconsistent in /home/sagesca1/public_html/hiscores/functions.ws on line 1483</code>[code=php]function findFriends($table){<br>
include “mysql.ws”;<br>
$user = $_SESSION[‘username’];<br>
$query = mysql_query(“SELECT u.* FROM friends uf inner join users u on uf.friend = u.username WHERE uf.user = ‘$user’”) or die(mysql_error());<br>
WHILE($row = mysql_fetch_array($query)){<br>
$xptype = findType($table).“xp”;<br>
$friends = $row[‘username’];<br>
$myFriends = array();<br>
$xpOrder = array();<br>
$sql = mysql_query(“SELECT * FROM skills WHERE playerName LIKE ‘$friends’ ORDER BY ‘$xptype’ DESC”) or die(mysql_error());<br>
while($rows = mysql_fetch_array($sql)){<br>
$count = count($row);<br>
for ($i = 1; $i &lt;= $count; $i++){<br>
$rank = findRank($friends, “$table”);<br>
$myFriends[$friends] = array(<br>
‘xp’ =&gt; $rows[$xptype],<br>
‘lvl’ =&gt; getLevelForXP($rows[$xptype]),<br>
‘rank’ =&gt; $rank,<br>
);<br>
$xpOrder[] = $rows[$xptype];<br>
}<br>
array_multisort($xpOrder, SORT_NUMERIC, SORT_DESC, $myFriends);<br>
unset($xpOrder);<br>
foreach ($myFriends as $friend =&gt; $data){<br>
if(dots($data[‘xp’]) !=0){<br>
echo ’<br>
<a name="'.%24data%5B'rank'%5D.'"></a><br>
<a><br>
<span><br>
<span>‘.$data[‘rank’].’</span><br>
</span><br>
<span><br>
<span>‘.BBCode($friend).’</span><br>
</span><br>
<span><br>
<span>‘.$data[‘lvl’].’</span><br>
</span><br>
<span><br>
<span>‘.dots($data[‘xp’]).’</span><br>
</span><br>
</a>';</p>
<pre><code>				}
			}
		}
	}
</code></pre>
<p>}[/code]</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-21T17:52:40Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:37:48Z' class='post-time'>
              August 3, 2016, 11:37pm
            </time>
        <span itemprop='position'>#55</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What are the sizes of $myFriend and $xpOrder?</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-22T20:20:41Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:38:58Z' class='post-time'>
              August 3, 2016, 11:38pm
            </time>
        <span itemprop='position'>#56</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="55" data-topic="454256">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/justaguy/40/61_1.png" class="avatar"> justaguy:</div>
<blockquote>
<p>What are the sizes of $myFriend and $xpOrder?</p>
</blockquote>
</aside>
<p>The reason why they are different sizes, I believe, is because I don’t put staff on my skills table nor the skillsoverall, and I allow them to be on the user table.  But if I insert my username for example, Sageofmali, the size of $myFriends would be 14, and $xpOrder would be like 121.</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-22T22:14:54Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:39:04Z' class='post-time'>
              August 3, 2016, 11:39pm
            </time>
        <span itemprop='position'>#57</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You need to make the sure the number of XP in $xpOrder and $myFriends are the same so the sort can work properly.</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-23T00:48:07Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:39:16Z' class='post-time'>
              August 3, 2016, 11:39pm
            </time>
        <span itemprop='position'>#58</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="57" data-topic="454256">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/justaguy/40/61_1.png" class="avatar"> justaguy:</div>
<blockquote>
<p>You need to make the sure the number of XP in $xpOrder and $myFriends are the same so the sort can work properly.</p>
</blockquote>
</aside>
<p>But, I don’t see how $myFriends could only be 14 while $xpOrder could be 121, that makes no sense, when there are about a thousand rows for the skills table where does it get that number from then?</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/justaguy.html'><span itemprop='name'>justaguy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-23T01:04:30Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:39:17Z' class='post-time'>
              August 3, 2016, 11:39pm
            </time>
        <span itemprop='position'>#59</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just going to go out on a limb and assume it’s where the $myFriends declaration is placed. I’m going to assume it should go above the first while loop rather than the second since all your friends are stored in that array.</p>
<p>Then, you are going to have to make it more than a 2-dimensional(?) array and extend it to 3 so that it accounts for each friend as well.</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sageofmali.html'><span itemprop='name'>sageofmali</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-08-23T02:39:50Z'>
            <time itemprop='dateModified' datetime='2016-08-03T23:39:22Z' class='post-time'>
              August 3, 2016, 11:39pm
            </time>
        <span itemprop='position'>#60</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“justaguy, post:59, topic:454256”]Just going to go out on a limb and assume it’s where the $myFriends declaration is placed. I’m going to assume it should go above the first while loop rather than the second since all your friends are stored in that array.</p>
<p>Then, you are going to have to make it more than a 2-dimensional(?) array and extend it to 3 so that it accounts for each friend as well.[/quote]<br>
I couldn’t put the $myFriends above the second while loop since the $skillsRow is declared in that loop.  So any other suggestion?[code=php]    function findFriendsTest($table){<br>
include “mysql.ws”;<br>
$user = “Im Me”;<br>
$xptype = findType($table).“xp”;<br>
$query = mysql_query(“SELECT u.* FROM friends uf inner join users u on uf.friend = u.username WHERE uf.user = ‘$user’”) or die(mysql_error());<br>
$myFriends = array();<br>
$xpOrder = array();<br>
WHILE($row = mysql_fetch_array($query)){<br>
$count = count($row);<br>
$friends = $row[‘username’];<br>
$rank = findRank($friends, “$table”);<br>
$sql = mysql_query(“SELECT * FROM skills WHERE playerName LIKE ‘$friends’ ORDER BY ‘$xptype’ DESC”) or die(mysql_error());unset($myFriends);<br>
while($skillsRow = mysql_fetch_array($sql)){<br>
unset($myFriends);<br>
for ($i = 1; $i &lt;= $count; $i++){<br>
$myFriends[] = array(<br>
‘friend’ =&gt; $friends,<br>
‘xp’ =&gt; $skillsRow[$xptype],<br>
‘lvl’ =&gt; getLevelForXP($skillsRow[$xptype]),<br>
‘rank’ =&gt; $rank,<br>
);<br>
$xpOrder[] = $skillsRow[$xptype];<br>
}<br>
array_multisort($xpOrder, SORT_NUMERIC, SORT_DESC, $myFriends);<br>
unset($xpOrder);<br>
foreach ($myFriends as $data){<br>
if(dots($data[‘xp’]) !=0){<br>
echo ’<br>
<a name="'.%24data%5B'rank'%5D.'"></a><br>
<a><br>
<span><br>
<span>‘.$data[‘rank’].’</span><br>
</span><br>
<span><br>
<span>‘.BBCode($data[‘friend’]).’</span><br>
</span><br>
<span><br>
<span>‘.$data[‘lvl’].’</span><br>
</span><br>
<span><br>
<span>‘.dots($data[‘xp’]).’</span><br>
</span><br>
</a>';</p>
<pre><code>                }
            }
        }
    }
}[/code] 
</code></pre>
<p>This kinda works, but it echo’s out multiple times for each person.</p>
      </div>

      <meta itemprop='headline' content='Can&#39;t get session to logout on all pages'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="4542564658.html?page=2">← previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="454256fdb0.html?page=4">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/cant-get-session-to-logout-on-all-pages/454256?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 23:47:08 GMT -->
</html>
