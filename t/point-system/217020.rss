<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Point system</title>
    <link>https://forum.moparisthebest.com/t/point-system/217020</link>
    <description>Anyone know about the code? or anyone has can you post or message me, ive been trying to work but i cant get it right this is what ive done so far,

please help


		player.getActionSender().sendMessage(&quot;You cannot talk to &quot; + affectedNpc.getDef().getName() + &quot;s when you&#39;re in the wilderness.&quot;);
			return;
		}

						sayNpcMessage(&quot;Would You Like To Be Healed?&quot;, affectedNpc, player);
				
				menu = new String[]
				{
					&quot;Attack&quot;,
&quot;Defense&quot;,
&quot;Strength&quot;
				};
				
				world.getDelayedEventHandler().add(new DelayedOptionsMenu(player, menu, 1200) // 1.2 sec delay
				{
					public void action() 
					{
						owner.setMenuHandler(new MenuHandler(menu)
						{
							public void handleReply(final int option, String response)
							{
								if(option == 0) // Yes
								{
									sayMessage(&quot;I Feel Better.&quot;, player);
									handleAttack();
								affectedNpc.setState(MobState.IDLE);
								} else // No
								{
									sayMessage(&quot;No way!&quot;, player);
									player.setState(MobState.IDLE);
									affectedNpc.setState(MobState.IDLE);
								}
							}
						});
					}

public void handleAttack()
{
owner.setMenuHandler(new MenuHandler(main) {

public void handleReply(int option, String response)
{
while(System.currentTimeMillis() - owner.getCombatTimer() &lt; 10000)
{
owner.getActionSender().sendMessage(&quot;You cannot teleport before 10 seconds of your last combat&quot;);
return;
}
if(option == 0 &amp;&amp; player.getExp(7) &gt;= 2 &amp;&amp; player.getCurStat(0) &lt; 2) {
			player.setCurStat(0, 2);
			player.setMaxStat(0, 2);
			player.setExp(0, Formulae.lvlToXp(2));
			
			int comb = Formulae.getCombatlevel(player.getMaxStats());
			if(comb != player.getCombatLevel()) 
				player.setCombatLevel(comb);
			
			player.getActionSender().sendStats();
}else
if(option == 1) {
owner.setLocation(Point.location(271, 195), true);
owner.resetPath();
}
}});}
    private final String main[] = {
        &quot;2&quot;, &quot;3&quot;
};
				});

	}
}</description>
    
    <lastBuildDate>Thu, 03 Jul 2008 09:41:40 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/point-system/217020.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Point system</title>
        <dc:creator><![CDATA[@ip0wns ip0wns]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ip0wns">@ip0wns</a> wrote:</p>
          <blockquote>
              <p>in npchandler.xml add</p>
<p>[Code]:</p>
<pre><code>		&lt;ids&gt;
			&lt;int&gt;1&lt;/int&gt; &lt;!-- Change the one to your npc id --&gt;
		&lt;/ids&gt;
		&lt;className&gt;com.rscd.npchandler.PointSell&lt;/className&gt;
	&lt;/NpcHandler&gt;[/code]
</code></pre>
<p>Name this one Pointtrader.java<br>
This is the base figure the rest out urself</p>
<p>[Code]:</p>
<p>package com.rscd.npchandler;</p>
<p>import com.rscd.packetbuilder.StaticPacketBuilder;<br>
import com.rscd.model.<em>;<br>
import com.rscd.event.ShortEvent;<br>
import com.rscd.util.</em>;</p>
<p>import com.rscd.event.DelayedOptionsMenu;</p>
<p>public class Pointtrader extends NpcHandlerDef implements NpcHandler<br>
{<br>
public World world = World.getWorld();</p>
<pre><code>public void handleNpc(final Npc affectedNpc, final Player player) 
{
	if(player.getState() != MobState.TALKING) 
	{
		player.setState(MobState.IDLE);
		affectedNpc.setState(MobState.IDLE);
		return;
	}
	String[] menu = { "" };
	
	if(player.getLocation().inWilderness())
	{
		player.getActionSender().sendMessage("You cannot talk to " + affectedNpc.getDef().getName() + "s when you're in the wilderness.");
		return;
	}

					sayNpcMessage("Would You Like To Be Healed?", affectedNpc, player);
			
			menu = new String[]
			{
				"Attack",
</code></pre>
<p>“Defense”,<br>
“Strength”<br>
};</p>
<pre><code>			world.getDelayedEventHandler().add(new DelayedOptionsMenu(player, menu, 1200) // 1.2 sec delay
			{
				public void action() 
				{
					owner.setMenuHandler(new MenuHandler(menu)
					{
						public void handleReply(final int option, String response)
						{
							if(option == 0) // Yes
							{
								sayMessage("I Feel Better.", player);
								handleAttack();
							affectedNpc.setState(MobState.IDLE);
							} else // No
							{
								sayMessage("No way!", player);
								player.setState(MobState.IDLE);
								affectedNpc.setState(MobState.IDLE);
							}
						}
					});
				}
</code></pre>
<p>public void handleAttack()<br>
{<br>
owner.setMenuHandler(new MenuHandler(main) {</p>
<p>public void handleReply(int option, String response)<br>
{<br>
while(System.currentTimeMillis() - owner.getCombatTimer() &lt; 10000)<br>
{<br>
owner.getActionSender().sendMessage(“You cannot teleport before 10 seconds of your last combat”);<br>
return;<br>
}<br>
if(option == 0 &amp;&amp; player.getExp(7) &gt;= 2 &amp;&amp; player.getCurStat(0) &lt; 2) {<br>
player.setCurStat(0, 2);<br>
player.setMaxStat(0, 2);<br>
player.setExp(0, Formulae.lvlToXp(2));</p>
<pre><code>		int comb = Formulae.getCombatlevel(player.getMaxStats());
		if(comb != player.getCombatLevel()) 
			player.setCombatLevel(comb);
		
		player.getActionSender().sendStats();
</code></pre>
<p>}else<br>
if(option == 1) {<br>
owner.setLocation(Point.location(271, 195), true);<br>
owner.resetPath();<br>
}<br>
}});}<br>
private final String main[] = {<br>
“2”, “3”<br>
};<br>
});</p>
<pre><code>}
</code></pre>
<p>}[/code]</p>
<p>Now open /event/fightevent.java</p>
<p>find</p>
<p>[Code]:</p>
<pre><code>  			{
				case 0:
					for(int x = 0; x &lt; 3; x++)
						attackerPlayer.incExp(x, exp / 3);
						
					break;
				case 1:
					attackerPlayer.incExp(2, exp);
					break;
				case 2:
					attackerPlayer.incExp(0, exp);
					break;
				case 3:
					attackerPlayer.incExp(1, exp);
					break;
			}
			
  			attackerPlayer.incExp(3, exp / 3);
  			attackerPlayer.getActionSender().sendStats();
		}
</code></pre>
<p>[/code]<br>
Replace with</p>
<p>[Code]:</p>
<pre><code>  			{
				case 0:
					for(int x = 0; x &lt; 3; x++)
						attackerPlayer.incExp(x, exp / 3);
						
					break;
				case 1:
					attackerPlayer.incExp(7, exp);
					break;
				case 2:
					attackerPlayer.incExp(7, exp);
					break;
				case 3:
					attackerPlayer.incExp(7, exp);
					break;
			}
			
  			attackerPlayer.incExp(7, exp / 3);
  			attackerPlayer.getActionSender().sendStats();
		}
</code></pre>
<pre><code class="lang-auto">[/code]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/point-system/217020/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/point-system/217020/3</link>
        <pubDate>Thu, 03 Jul 2008 09:41:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-217020-3</guid>
        <source url="https://forum.moparisthebest.com/t/point-system/217020.rss">Point system</source>
      </item>
      <item>
        <title>Point system</title>
        <dc:creator><![CDATA[@BuyMyJunk BuyMyJunk]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/buymyjunk">@BuyMyJunk</a> wrote:</p>
          <blockquote>
              <p>code tags help btw</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/point-system/217020/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/point-system/217020/2</link>
        <pubDate>Thu, 03 Jul 2008 09:32:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-217020-2</guid>
        <source url="https://forum.moparisthebest.com/t/point-system/217020.rss">Point system</source>
      </item>
      <item>
        <title>Point system</title>
        <dc:creator><![CDATA[@fruitloopdeadox fruitloopdeadox]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fruitloopdeadox">@fruitloopdeadox</a> wrote:</p>
          <blockquote>
              <p>Anyone know about the code? or anyone has can you post or message me, ive been trying to work but i cant get it right this is what ive done so far,</p>
<p>please help</p>
<pre><code>	player.getActionSender().sendMessage("You cannot talk to " + affectedNpc.getDef().getName() + "s when you're in the wilderness.");
		return;
	}

					sayNpcMessage("Would You Like To Be Healed?", affectedNpc, player);
			
			menu = new String[]
			{
				"Attack",
</code></pre>
<p>“Defense”,<br>
“Strength”<br>
};</p>
<pre><code>			world.getDelayedEventHandler().add(new DelayedOptionsMenu(player, menu, 1200) // 1.2 sec delay
			{
				public void action() 
				{
					owner.setMenuHandler(new MenuHandler(menu)
					{
						public void handleReply(final int option, String response)
						{
							if(option == 0) // Yes
							{
								sayMessage("I Feel Better.", player);
								handleAttack();
							affectedNpc.setState(MobState.IDLE);
							} else // No
							{
								sayMessage("No way!", player);
								player.setState(MobState.IDLE);
								affectedNpc.setState(MobState.IDLE);
							}
						}
					});
				}
</code></pre>
<p>public void handleAttack()<br>
{<br>
owner.setMenuHandler(new MenuHandler(main) {</p>
<p>public void handleReply(int option, String response)<br>
{<br>
while(System.currentTimeMillis() - owner.getCombatTimer() &lt; 10000)<br>
{<br>
owner.getActionSender().sendMessage(“You cannot teleport before 10 seconds of your last combat”);<br>
return;<br>
}<br>
if(option == 0 &amp;&amp; player.getExp(7) &gt;= 2 &amp;&amp; player.getCurStat(0) &lt; 2) {<br>
player.setCurStat(0, 2);<br>
player.setMaxStat(0, 2);<br>
player.setExp(0, Formulae.lvlToXp(2));</p>
<pre><code>		int comb = Formulae.getCombatlevel(player.getMaxStats());
		if(comb != player.getCombatLevel()) 
			player.setCombatLevel(comb);
		
		player.getActionSender().sendStats();
</code></pre>
<p>}else<br>
if(option == 1) {<br>
owner.setLocation(Point.location(271, 195), true);<br>
owner.resetPath();<br>
}<br>
}});}<br>
private final String main[] = {<br>
“2”, “3”<br>
};<br>
});</p>
<pre><code>}
</code></pre>
<p>}</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/point-system/217020/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/point-system/217020/1</link>
        <pubDate>Thu, 03 Jul 2008 05:26:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-217020-1</guid>
        <source url="https://forum.moparisthebest.com/t/point-system/217020.rss">Point system</source>
      </item>
  </channel>
</rss>
