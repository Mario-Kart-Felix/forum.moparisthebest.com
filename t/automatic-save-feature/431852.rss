<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Automatic save feature?</title>
    <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852</link>
    <description>Well currently I am being raped by my players about them loosing items because they need to use a ::save command to save all changed made to there character. Is there anyway around this? Such as saving there characters every second or something similar? Btw I am currently using a modified project insanity source. (nothing is really different from it)</description>
    
    <lastBuildDate>Wed, 08 Feb 2012 12:30:44 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@miniki miniki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/miniki">@miniki</a> wrote:</p>
          <blockquote>
              <p>[quote=“AtomicInt_, post:31, topic:431852”][quote author=miniki link=topic=534560.msg3910697#msg3910697 date=1328701227]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Easy way:</p>
<blockquote>
<p>Make a thread:</p>
</blockquote>
<pre><code class="lang-auto">new Thread(new Runnable() {
@Override
public void run() {
for(Player players : World.getPlayers()) {
if(players != null)
Serializer.save(players);
}
}
}).start();</code></pre>
</blockquote>
</aside>
<p>No. That is absolutely horrible.</p>
</blockquote>
</aside>
<p>Hahahah I know was just an example, Bro use Graham’s Event System and make An AutoSave Task saving players profile every 30000 milliseconds (30 seconds)<br>
[/quote]</p>
<p>Save when disconnected, decline trades, duels, etc.[/quote]</p>
<p>When disconected (y) but not when decline trades because the auto saving task is saving the profile why save 2 times in a minute?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/32">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/32</link>
        <pubDate>Wed, 08 Feb 2012 12:30:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-32</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>[quote=“miniki, post:30, topic:431852”][quote author=zyle1992 link=topic=534560.msg3910590#msg3910590 date=1328679412]</p>
<aside class="quote">
<blockquote>
<p>Easy way:</p>
<blockquote>
<p>Make a thread:</p>
</blockquote>
<pre><code class="lang-auto">new Thread(new Runnable() {
@Override
public void run() {
for(Player players : World.getPlayers()) {
if(players != null)
Serializer.save(players);
}
}
}).start();</code></pre>
</blockquote>
</aside>
<p>No. That is absolutely horrible.<br>
[/quote]</p>
<p>Hahahah I know was just an example, Bro use Graham’s Event System and make An AutoSave Task saving players profile every 30000 milliseconds (30 seconds)[/quote]</p>
<p>Save when disconnected, decline trades, duels, etc.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/31">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/31</link>
        <pubDate>Wed, 08 Feb 2012 12:06:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-31</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@miniki miniki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/miniki">@miniki</a> wrote:</p>
          <blockquote>
              <p>[quote=“zyle1992, post:29, topic:431852”][quote author=miniki link=topic=534560.msg3910553#msg3910553 date=1328676235]<br>
Easy way:</p>
<blockquote>
<p>Make a thread:</p>
</blockquote>
<pre><code class="lang-auto">new Thread(new Runnable() {
@Override
public void run() {
for(Player players : World.getPlayers()) {
if(players != null)
Serializer.save(players);
}
}
}).start();</code></pre>
<p>[/quote]<br>
No. That is absolutely horrible.[/quote]</p>
<p>Hahahah I know was just an example, Bro use Graham’s Event System,  make An AutoSave Task saving players profile every 30000 milliseconds (30 seconds) and save profile when player logs out.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/30">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/30</link>
        <pubDate>Wed, 08 Feb 2012 11:40:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-30</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>[quote=“miniki, post:26, topic:431852”]Easy way:</p>
<blockquote>
<p>Make a thread:</p>
</blockquote>
<p><code>
new Thread(new Runnable() {
@Override
public void run() {
for(Player players : World.getPlayers()) {
if(players != null)
Serializer.save(players);
}
}
}).start();
</code>[/quote]<br>
No. That is absolutely horrible.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/29">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/29</link>
        <pubDate>Wed, 08 Feb 2012 05:36:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-29</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@Brandontan Brandontan]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/brandontan">@Brandontan</a> wrote:</p>
          <blockquote>
              <p>can someone help out with though though?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/28">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/28</link>
        <pubDate>Wed, 08 Feb 2012 05:19:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-28</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>i loled reading through this</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/27">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/27</link>
        <pubDate>Wed, 08 Feb 2012 04:53:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-27</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@miniki miniki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/miniki">@miniki</a> wrote:</p>
          <blockquote>
              <p>Easy way:</p>
<blockquote>
<p>Make a thread:</p>
</blockquote>
<pre><code class="lang-auto">new Thread(new Runnable() {
@Override
public void run() {
for(Player players : World.getPlayers()) {
if(players != null)
Serializer.save(players);
}
}
}).start();</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/26">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/26</link>
        <pubDate>Wed, 08 Feb 2012 04:43:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-26</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@Brandontan Brandontan]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/brandontan">@Brandontan</a> wrote:</p>
          <blockquote>
              <p>zyle can you do this for my server? i tried and i’m getting errors so i commented it out. i’m doing it  from so it would help me tons</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/25">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/25</link>
        <pubDate>Wed, 08 Feb 2012 04:41:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-25</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>[quote=“AtomicInt_, post:23, topic:431852”][quote author=voetbal645 link=topic=534560.msg3908237#msg3908237 date=1328442780]<br>
search for <code>if (System.currentTimeMillis() - lastMassSave </code><br>
and change the number like this</p>
<pre><code class="lang-auto"></code></pre>
<p>change the **** to 3<br>
[/quote]</p>
<p>EW. Mass saving.</p>
<p><span class="mention">@OP</span>, just use a shutDownHook.[/quote]</p>
<p>But that still only saves the data after the server shuts down…</p>
<p>The best way is to save only when they log out, or are disconnected in any other way.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/24</link>
        <pubDate>Wed, 08 Feb 2012 04:01:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-24</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>[quote=“voetbal645, post:4, topic:431852”]search for <code>if (System.currentTimeMillis() - lastMassSave </code><br>
and change the number like this</p>
<pre><code class="lang-auto"></code></pre>
<p>change the **** to 3[/quote]</p>
<p>EW. Mass saving.</p>
<p><span class="mention">@OP</span>, just use a shutDownHook.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/23">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/23</link>
        <pubDate>Wed, 08 Feb 2012 03:16:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-23</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@I_am_beast I am beast]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/i_am_beast">@I_am_beast</a> wrote:</p>
          <blockquote>
              <p>And how may I go about that…?</p>
<p>Add another bracket? ^.^</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/22">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/22</link>
        <pubDate>Wed, 08 Feb 2012 02:42:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-22</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>You didn’t close the static block before defining <span class="bbcode-i">newPlayer</span></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/21</link>
        <pubDate>Wed, 08 Feb 2012 01:20:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-21</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@I_am_beast I am beast]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/i_am_beast">@I_am_beast</a> wrote:</p>
          <blockquote>
              <p>I get…</p>
<pre><code class="lang-auto">src\server\model\players\PlayerHandler.java:37: illegal start of expression
    public boolean newPlayerClient(Client client1)
    ^
src\server\model\players\PlayerHandler.java:37: ';' expected
    public boolean newPlayerClient(Client client1)
                                  ^
src\server\model\players\PlayerHandler.java:37: ';' expected
    public boolean newPlayerClient(Client client1)
                                                 ^
src\server\model\players\PlayerHandler.java:58: illegal start of expression
        public void destruct() {
        ^
src\server\model\players\PlayerHandler.java:58: illegal start of expression
        public void destruct() {
               ^
src\server\model\players\PlayerHandler.java:58: ';' expected
        public void destruct() {
                            ^
src\server\model\players\PlayerHandler.java:67: illegal start of expression
        public static int getPlayerCount() {
        ^
src\server\model\players\PlayerHandler.java:67: illegal start of expression
        public static int getPlayerCount() {
               ^
src\server\model\players\PlayerHandler.java:67: ';' expected
        public static int getPlayerCount() {
                     ^
src\server\model\players\PlayerHandler.java:67: ';' expected
        public static int getPlayerCount() {
                                          ^
src\server\model\players\PlayerHandler.java:71: illegal start of expression
        public void updatePlayerNames() {
        ^
src\server\model\players\PlayerHandler.java:71: illegal start of expression
        public void updatePlayerNames() {
               ^
src\server\model\players\PlayerHandler.java:71: ';' expected
        public void updatePlayerNames() {
                                     ^
src\server\model\players\PlayerHandler.java:83: illegal start of expression
        public static boolean isPlayerOn(String playerName) {
        ^
src\server\model\players\PlayerHandler.java:83: illegal start of expression
        public static boolean isPlayerOn(String playerName) {
               ^
src\server\model\players\PlayerHandler.java:83: ';' expected
        public static boolean isPlayerOn(String playerName) {
                     ^
src\server\model\players\PlayerHandler.java:83: ')' expected
        public static boolean isPlayerOn(String playerName) {
                                               ^
src\server\model\players\PlayerHandler.java:83: illegal start of expression
        public static boolean isPlayerOn(String playerName) {
                                                          ^
src\server\model\players\PlayerHandler.java:83: ';' expected
        public static boolean isPlayerOn(String playerName) {
                                                           ^
19 errors
Press any key to continue . . .</code></pre>
<p>…when I try…</p>
<p>[quote=“StubernSnake, post:7, topic:431852”][quote author=voetbal645 link=topic=534560.msg3908237#msg3908237 date=1328442780]<br>
search for <code>if (System.currentTimeMillis() - lastMassSave </code><br>
and change the number like this</p>
<pre><code class="lang-auto"></code></pre>
<p>change the **** to 3<br>
[/quote]<br>
This will cause lag… You should make it save once someone logs out or disconnects.<br>
Tutorial :<br>
LIN:<br>
Almost Completely preventing roll-backs<br>
This is a simple fix, and thanks zstars for telling me about the shutDownHook.</p>
<p>First, in your PlayerHandler class, find this:</p>
<pre><code class="lang-auto"></code></pre>
<p>This is the constructor. Inside it, we’re going to add the shutDownHook</p>
<p><code>Runtime.getRuntime().addShutdownHook(new Thread()
                {
                        public void run()
                        {
                                for (int i = 0; i &lt; maxPlayers; i++)
                                        if(players[i] != null)
                                                ((Client)players[i]).savegame(false);
                        }
                });</code><br>
This makes it so whenever you manually close the server, it saves for all players.</p>
<p>This next one requires some work by you. Back in the client class, wherever you see disconnect = true; or the destruct method being called, add this:<br>
Code: [Select]<br>
savegame(false);<br>
This makes it so you save whenever you disconnect, whether it be from a packet timeout, the client crashing, you shutting down your computer, or whatever reason, you don’t lose your data. The only way the character files won’t save is if the server’s process is killed, which means if you end it with Task Manager, shut down your computer the wrong way, or your computer crashes.</p>
<p>Alright. That’s all I can think of at the top of my head. Note I added these to one of my old servers and just ripped them out to post here, because I was always too lazy to do it, and now the tutorial section is unlocked. If anything is wrong, let me know.<br>
<span class="bbcode-b">Credits to <span class="bbcode-u">Lin</span> for this. </span>[/quote]</p>
<p>This is what that section of my playerhandler class looks like:</p>
<pre><code class="lang-auto">public class PlayerHandler {

	
	public static Player players[] = new Player[Config.MAX_PLAYERS];
	public static String messageToAll = "";
	public static int playerCount = 0;
	public static String playersCurrentlyOn[] = new String[Config.MAX_PLAYERS];
	public static boolean updateAnnounced;
	public static boolean updateRunning;
	public static int updateSeconds;
	public static long updateStartTime;
	private boolean kickAllPlayers = false;
        public static PlayerSave save;
	

	
static {	
Runtime.getRuntime().addShutdownHook(new Thread()
                {
                        public void run()
                        {
                                for (int i = 0; i &lt; maxPlayers; i++)
                                        if(players[i] != null)
                                                ((Client)players[i]).savegame(false);
                        }
                });
    public boolean newPlayerClient(Client client1)
    {
    	int slot = -1;
    	for(int i = 1; i &lt; Config.MAX_PLAYERS; i++) {
    		if(players[i] == null || players[i].disconnected) {
    			slot = i;
    			break;
    		}
    	}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/20</link>
        <pubDate>Tue, 07 Feb 2012 21:39:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-20</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@XxBrodiexX XxBrodiexX]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xxbrodiexx">@XxBrodiexX</a> wrote:</p>
          <blockquote>
              <p>haha, thats exactly what i was thinking</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/19</link>
        <pubDate>Tue, 07 Feb 2012 09:09:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-19</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@WowILikeToCode WowILikeToCode]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wowiliketocode">@WowILikeToCode</a> wrote:</p>
          <blockquote>
              <p>[quote=“Mee0345, post:16, topic:431852”][quote author=WowILikeToCode link=topic=534560.msg3909150#msg3909150 date=1328525774]<br>
This is one way i have my server to save</p>
<p>In client.java add this void somewhere</p>
<p><code>
		public void saveuser() {
		EventManager.getSingleton().addEvent(new Event() {
			public void execute(EventContainer c) {
				int r3 = 0;
				r3 = Misc.random(6);
				if (r3 == 0) {
					sendMessage("[AUTOSAVER]: Your account has been autosaved by the server.");
					SaveGame();
				} else if (r3 == 1) {           
					SaveGame();	
				} else if (r3 == 2) { 
					SaveGame();
				} else if (r3 == 3) {
					sendMessage("[AUTOSAVER]: Your account has been autosaved by the server.");
					SaveGame();
				} else if (r3 == 4) {
					SaveGame();
				} else if (r3 == 5) {
					sendMessage("[AUTOSAVER]: Your account has been autosaved by the server.");
					SaveGame();
				}
			}
		}, 120000); //milisecondsservermessage
	};</code></p>
<p>then in public void initialise add this</p>
<pre><code class="lang-auto"></code></pre>
<p>that will save every 2 minutes, add 60000 to increase it by a minute to the 120000 or decrease to make it lower<br>
[/quote]</p>
<p>Well my X.P rates are faaaaasssssttttttt<br>
All I had to do was Change the 120000 to 1 and remove the save message <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> thanks[/quote]</p>
<p>Well i hope you enjoy your lagg, because if youve changed it to 1 your saving 60 thousand times a minute.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/18</link>
        <pubDate>Tue, 07 Feb 2012 08:14:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-18</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@XxBrodiexX XxBrodiexX]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xxbrodiexx">@XxBrodiexX</a> wrote:</p>
          <blockquote>
              <p>changeing it one would save it how offen?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/17</link>
        <pubDate>Tue, 07 Feb 2012 07:26:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-17</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@Mee0345 Mee0345]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mee0345">@Mee0345</a> wrote:</p>
          <blockquote>
              <p>[quote=“WowILikeToCode, post:13, topic:431852”]This is one way i have my server to save</p>
<p>In client.java add this void somewhere</p>
<p><code>
		public void saveuser() {
		EventManager.getSingleton().addEvent(new Event() {
			public void execute(EventContainer c) {
				int r3 = 0;
				r3 = Misc.random(6);
				if (r3 == 0) {
					sendMessage("[AUTOSAVER]: Your account has been autosaved by the server.");
					SaveGame();
				} else if (r3 == 1) {           
					SaveGame();	
				} else if (r3 == 2) { 
					SaveGame();
				} else if (r3 == 3) {
					sendMessage("[AUTOSAVER]: Your account has been autosaved by the server.");
					SaveGame();
				} else if (r3 == 4) {
					SaveGame();
				} else if (r3 == 5) {
					sendMessage("[AUTOSAVER]: Your account has been autosaved by the server.");
					SaveGame();
				}
			}
		}, 120000); //milisecondsservermessage
	};</code></p>
<p>then in public void initialise add this</p>
<pre><code class="lang-auto"></code></pre>
<p>that will save every 2 minutes, add 60000 to increase it by a minute to the 120000 or decrease to make it lower[/quote]</p>
<p>Well my X.P rates are faaaaasssssttttttt<br>
All I had to do was Change the 120000 to 1 and remove the save message <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> thanks</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/16</link>
        <pubDate>Tue, 07 Feb 2012 07:19:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-16</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@WowILikeToCode WowILikeToCode]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wowiliketocode">@WowILikeToCode</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="14" data-topic="431852">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/zyle1992/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> zyle1992:</div>
<blockquote>
<p>That’s a horrible way to implement saving. Especially since it saves every 2 minutes, and if a player logs out in under 2 minutes they lose their progress.</p>
</blockquote>
</aside>
<p>If the server has a decent xp rate or anything not much can happen in 2 minutes, also if they log out properly it saves there account anyway. So that isn’t true. This is just how i do it to stop rollbacks.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/15</link>
        <pubDate>Mon, 06 Feb 2012 19:53:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-15</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>That’s a horrible way to implement saving. Especially since it saves every 2 minutes, and if a player logs out in under 2 minutes they lose their progress.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/14</link>
        <pubDate>Mon, 06 Feb 2012 18:52:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-14</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@WowILikeToCode WowILikeToCode]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wowiliketocode">@WowILikeToCode</a> wrote:</p>
          <blockquote>
              <p>This is one way i have my server to save</p>
<p>In client.java add this void somewhere</p>
<p><code>
		public void saveuser() {
		EventManager.getSingleton().addEvent(new Event() {
			public void execute(EventContainer c) {
				int r3 = 0;
				r3 = Misc.random(6);
				if (r3 == 0) {
					sendMessage("[AUTOSAVER]: Your account has been autosaved by the server.");
					SaveGame();
				} else if (r3 == 1) {           
					SaveGame();	
				} else if (r3 == 2) { 
					SaveGame();
				} else if (r3 == 3) {
					sendMessage("[AUTOSAVER]: Your account has been autosaved by the server.");
					SaveGame();
				} else if (r3 == 4) {
					SaveGame();
				} else if (r3 == 5) {
					sendMessage("[AUTOSAVER]: Your account has been autosaved by the server.");
					SaveGame();
				}
			}
		}, 120000); //milisecondsservermessage
	};</code></p>
<p>then in public void initialise add this</p>
<pre><code class="lang-auto"></code></pre>
<p>that will save every 2 minutes, add 60000 to increase it by a minute to the 120000 or decrease to make it lower</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/13</link>
        <pubDate>Mon, 06 Feb 2012 10:56:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-13</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>Instructions:</p>
<ol>
<li>Go to the method that’s called when a player logs out</li>
<li>Make sure the player is saved there</li>
<li>Go to the method that’s called if a player is idle</li>
<li>See <span class="hashtag">#2</span>
</li>
<li>Go to the method that’s called if the connect to the client is lost</li>
<li>See <span class="hashtag">#4</span>
</li>
</ol>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/12</link>
        <pubDate>Mon, 06 Feb 2012 10:26:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-12</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@Mee0345 Mee0345]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mee0345">@Mee0345</a> wrote:</p>
          <blockquote>
              <p>Well, I’ve just come back to coding, I last coded 8 months ago… So I should really say…</p>
<p>INSTRUCTIONS OR GTFO!!!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/11</link>
        <pubDate>Mon, 06 Feb 2012 10:21:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-11</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>The shutdown hook only occurs when the server stops. So if they log out before the server stops, the server still won’t save their data.</p>
<p>I suggest (as stating before) saving the player data when the player logs out, becomes idle, or disconnects.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/10</link>
        <pubDate>Mon, 06 Feb 2012 09:49:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-10</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@Mee0345 Mee0345]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mee0345">@Mee0345</a> wrote:</p>
          <blockquote>
              <p>Some reason I have the ShutdownHook already in there? Strangely enough I don’t remember adding it, unless it was already in PI. The public static is still not helping, users still get rolled back at disconnection! I’m getting complaint after complaint! Somebody help me!!!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/9</link>
        <pubDate>Mon, 06 Feb 2012 09:43:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-9</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
      <item>
        <title>Automatic save feature?</title>
        <dc:creator><![CDATA[@Brandontan Brandontan]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/brandontan">@Brandontan</a> wrote:</p>
          <blockquote>
              <blockquote>This next one requires some work by you. Back in the client class, wherever you see disconnect = true; or the destruct method being called, add this:
Code: [Select]
savegame(false);</blockquote>
i have some if statements like this
[code]public void destruct() {
		synchronized (this) {
               PlayerSave.saveGame(this);
                if(disconnected == true) { 
                   saveCharacter = true;
                }
		if(disconnected == true){
	     getTradeAndDuel().declineTrade();
 }
		if(session == null) 
			return;
		PlayerSave.saveGame(this);
		if (clanId &gt;= 0)
			Server.clanChat.leaveClan(playerId, clanId);
		getPA().removeFromCW();
		if (inPits) {
		Server.fightPits.removePlayerFromPits(playerId);
		}
		Misc.println("[DEREGISTERED]: "+playerName+"");
		PlayerSave.saveGame(this);
                saveCharacter = true;
		HostList.getHostList().remove(session);
		disconnected = true;
		session.close();
		session = null;
		inStream = null;
		outStream = null;
		isActive = false;
		buffer = null;
		super.destruct();
	}
}[/code]
I KNOW this is a method. just wondering if i could just add it to the method?
[code]if (Server.playerHandler.players[j].playerName.equalsIgnoreCase(playerName))
						disconnected = true;
				}
			}[/code]
more code here.
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/automatic-save-feature/431852/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/automatic-save-feature/431852/8</link>
        <pubDate>Sun, 05 Feb 2012 18:06:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-431852-8</guid>
        <source url="https://forum.moparisthebest.com/t/automatic-save-feature/431852.rss">Automatic save feature?</source>
      </item>
  </channel>
</rss>
