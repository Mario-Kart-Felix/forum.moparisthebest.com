<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Making fasterloading .dat files</title>
    <link>https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934</link>
    <description>For Servers: All that use &quot;stackable, sellable, tradeable, twohanded, notes&quot;.dat files


Difficulty: 1/10

Need to know:
Copy and Paste, how to find.
Ability to follow simple instructions.

Things Required:

[url=http://www.4shared.com/rar/VVw1b9Q3/matzies_Pack.html]My new .dat creator &amp; editor[/url]
-This converts your old .dat files into smaller, faster loading ones.
Your Environmental Variables to be set correctly for java, if you wish to not edit the compiler.
Step .1:
Backup your .dat files!!
Step .11:
Extract matziesPack.rar
Step .2:
Copy your .dat files into the folder with the .bat files in it
Step .3:
run the DatFileCreator.bat file

Step 1:
open item.java
Step 2:
search for [code]static {[/code]
Step 3:
replace that entire bracketed area with this:
[code]    static {

/*Modify the Path to suit your server*/
        itemStackable=loadDat(&quot;data/stackable.dat&quot;);
        itemSellable=loadDat(&quot;data/sellable.dat&quot;);
        itemIsNote=loadDat(&quot;data/notes.dat&quot;);
        itemTradeable=loadDat(&quot;data/Tradeable.dat&quot;);
        itemTwoHanded= loadDat(&quot;data/itemTwoHanded.dat&quot;);
}
    public static boolean[] loadDat(String filename) {
        int c=0;
        int counter=0;
        boolean itemList[]=new boolean[maxItems];
        File test= new File(filename);
        if (!test.exists())
            return new boolean[maxItems];

            try {
               
                FileInputStream dataIn = new FileInputStream(
                      new File(filename));

                while (dataIn.available()&gt;0) {
	    c=dataIn.read();
                    for (int i=0;i&lt;Byte.SIZE &amp;&amp; counter &lt; maxItems;i++) {
                        itemList[counter]=(((c &gt;&gt; i &amp; 0x1)==0) ? false : true);
                        counter++;
                    }
                }
               dataIn.close();
           } catch (IOException e) {
               System.out.println(&quot;Critical error while loading &quot;+filename+&quot; Trace:&quot;);
               e.printStackTrace();
           }
           for (int i=counter;i&lt;maxItems-1;i++)
               itemList[i]=false;
           return itemList;
    }[/code]
The second half is another method that i created to simply load the dat files, and hopefully remove the extra integers(c, and counter) from memory. If it tries to load it from an invalid file it will just return a full false array.

Step 4: add this Field:(also to item.java)
[code]public static final int maxItems=20000;//replace with your max items.[/code]

Step 5: compile and run :D, and hope it works lol.(i would change the file names it loads to the (revised) versions) to test it out on your server, before you replace your .dat files.

The Editor i made is pretty self explanatory. Have fun :D Post problems and i will try to help.

As far as my pack goes i will upload it and hope i don&#39;t need the link verified. but i will send the sources to a mod if i need too.</description>
    
    <lastBuildDate>Mon, 06 Aug 2012 00:44:13 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Making fasterloading .dat files</title>
        <dc:creator><![CDATA[@matzie matzie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/matzie">@matzie</a> wrote:</p>
          <blockquote>
              <p>this is server, not client. btw… and my servers rely on this <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934/3</link>
        <pubDate>Mon, 06 Aug 2012 00:44:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-452934-3</guid>
        <source url="https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934.rss">Making fasterloading .dat files</source>
      </item>
      <item>
        <title>Making fasterloading .dat files</title>
        <dc:creator><![CDATA[@Storm_Powner Storm Powner]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/storm_powner">@Storm_Powner</a> wrote:</p>
          <blockquote>
              <p>nice dude wont use it cause i don’t use 317, btw there is on other method that works too and that’s packing all your models into 1 file, models.dat and models.idx</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934/2</link>
        <pubDate>Sun, 05 Aug 2012 15:11:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-452934-2</guid>
        <source url="https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934.rss">Making fasterloading .dat files</source>
      </item>
      <item>
        <title>Making fasterloading .dat files</title>
        <dc:creator><![CDATA[@matzie matzie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/matzie">@matzie</a> wrote:</p>
          <blockquote>
              <p>For Servers: All that use “stackable, sellable, tradeable, twohanded, notes”.dat files</p>
<p>Difficulty: 1/10</p>
<p>Need to know:<br>
Copy and Paste, how to find.<br>
Ability to follow simple instructions.</p>
<p>Things Required:</p>
<p><a href="http://www.4shared.com/rar/VVw1b9Q3/matzies_Pack.html" data-bbcode="true" rel="nofollow noopener">My new .dat creator &amp; editor</a><br>
-This converts your old .dat files into smaller, faster loading ones.<br>
Your Environmental Variables to be set correctly for java, if you wish to not edit the compiler.<br>
Step .1:<br>
Backup your .dat files!!<br>
Step .11:<br>
Extract matziesPack.rar<br>
Step .2:<br>
Copy your .dat files into the folder with the .bat files in it<br>
Step .3:<br>
run the DatFileCreator.bat file</p>
<p>Step 1:<br>
open item.java<br>
Step 2:<br>
search for <code>static {</code><br>
Step 3:<br>
replace that entire bracketed area with this:</p>
<p>[code]    static {</p>
<p>/<em>Modify the Path to suit your server</em>/<br>
itemStackable=loadDat(“data/stackable.dat”);<br>
itemSellable=loadDat(“data/sellable.dat”);<br>
itemIsNote=loadDat(“data/notes.dat”);<br>
itemTradeable=loadDat(“data/Tradeable.dat”);<br>
itemTwoHanded= loadDat(“data/itemTwoHanded.dat”);<br>
}<br>
public static boolean[] loadDat(String filename) {<br>
int c=0;<br>
int counter=0;<br>
boolean itemList[]=new boolean[maxItems];<br>
File test= new File(filename);<br>
if (!test.exists())<br>
return new boolean[maxItems];</p>
<pre><code>        try {
           
            FileInputStream dataIn = new FileInputStream(
                  new File(filename));

            while (dataIn.available()&gt;0) {
    c=dataIn.read();
                for (int i=0;i&lt;Byte.SIZE &amp;&amp; counter &lt; maxItems;i++) {
                    itemList[counter]=(((c &gt;&gt; i &amp; 0x1)==0) ? false : true);
                    counter++;
                }
            }
           dataIn.close();
       } catch (IOException e) {
           System.out.println("Critical error while loading "+filename+" Trace:");
           e.printStackTrace();
       }
       for (int i=counter;i&lt;maxItems-1;i++)
           itemList[i]=false;
       return itemList;
}[/code]
</code></pre>
<p>The second half is another method that i created to simply load the dat files, and hopefully remove the extra integers(c, and counter) from memory. If it tries to load it from an invalid file it will just return a full false array.</p>
<p>Step 4: add this Field:(also to item.java)</p>
<pre><code class="lang-auto"></code></pre>
<p>Step 5: compile and run :D, and hope it works lol.(i would change the file names it loads to the (revised) versions) to test it out on your server, before you replace your .dat files.</p>
<p>The Editor i made is pretty self explanatory. Have fun <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> Post problems and i will try to help.</p>
<p>As far as my pack goes i will upload it and hope i don’t need the link verified. but i will send the sources to a mod if i need too.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934/1</link>
        <pubDate>Sun, 05 Aug 2012 13:09:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-452934-1</guid>
        <source url="https://forum.moparisthebest.com/t/making-fasterloading-dat-files/452934.rss">Making fasterloading .dat files</source>
      </item>
  </channel>
</rss>
