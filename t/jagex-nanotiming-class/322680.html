<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/jagex-nanotiming-class/322680 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 21:50:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Jagex NanoTiming Class - Runescape - moparisthebest.com</title>
    <meta name="description" content="public final class Timing
{
	public Timing()
	{
		memsize = 1;
		mem = new long[10];
		latency = System.nanoTime();
		reqlatency = System.nanoTime();
	}
    public int time(int n)
{
	long l = 1000000L * (long) n;
	laten&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="322680.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Jagex NanoTiming Class&#39;" href="322680.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/jagex-nanotiming-class/322680" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/jagex-nanotiming-class/322680" />
<meta property="og:title" content="Jagex NanoTiming Class" />
<meta name="twitter:title" content="Jagex NanoTiming Class" />
<meta property="og:description" content="public final class Timing { 	public Timing() 	{ 		memsize = 1; 		mem = new long[10]; 		latency = System.nanoTime(); 		reqlatency = System.nanoTime(); 	}  	public int time(int n) 	{ 		long l = 1000000L * (long) n; 		latency += calculate(); 		if (latency &lt;= reqlatency) 		{ 			n = 0; 			do 			{ 				++n; 				reqlatency += l; 			} 			while(10 &gt; n &amp;&amp; latency &gt; reqlatency); 			if (reqlatency &lt; latency) 				reqlatency = latency;  			return n; 		} 		sleep((reqlatency - latency) / 1000000L); 		interval +..." />
<meta name="twitter:description" content="public final class Timing { 	public Timing() 	{ 		memsize = 1; 		mem = new long[10]; 		latency = System.nanoTime(); 		reqlatency = System.nanoTime(); 	}  	public int time(int n) 	{ 		long l = 1000000L * (long) n; 		latency += calculate(); 		if (latency &lt;= reqlatency) 		{ 			n = 0; 			do 			{ 				++n; 				reqlatency += l; 			} 			while(10 &gt; n &amp;&amp; latency &gt; reqlatency); 			if (reqlatency &lt; latency) 				reqlatency = latency;  			return n; 		} 		sleep((reqlatency - latency) / 1000000L); 		interval +..." />
<meta property="article:published_time" content="2009-12-29T02:48:32+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="3226804658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="322680.html">Jagex NanoTiming Class</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Killer-99-pkz.html'><span itemprop='name'>Killer-99-pkz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T02:48:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:49Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <pre><code class="lang-auto">
public final class Timing
{
	public Timing()
	{
		memsize = 1;
		mem = new long[10];
		latency = System.nanoTime();
		reqlatency = System.nanoTime();
	}

	public int time(int n)
	{
		long l = 1000000L * (long) n;
		latency += calculate();
		if (latency &lt;= reqlatency)
		{
			n = 0;
			do
			{
				++n;
				reqlatency += l;
			}
			while(10 &gt; n &amp;&amp; latency &gt; reqlatency);
			if (reqlatency &lt; latency)
				reqlatency = latency;

			return n;
		}
		sleep((reqlatency - latency) / 1000000L);
		interval += reqlatency - latency;
		latency += reqlatency - latency;
		reqlatency += l;
		return 1;
	}

	public long latency()
	{
		return latency;
	}

	private long calculate()
	{
		long l = System.nanoTime() - interval;
		interval += l;
		if (l1 &gt; -5000000000L &amp;&amp; l1 &lt; 5000000000L)
		{
			mem[mempos] = l1;
			mempos = (1 + mempos) % 10;
			if (memsize &lt; 1)
				++memsize;

		}
		l = 0L;
		for (int n = 0; n &lt; memsize; ++n)
			l += mem[(9 + mempos - n) % 10];

		return l / (long) memsize;
	}

	public void reset()
	{
		if (latency &lt; reqlatency)
			latency += reqlatency - latency;

		interval = 0L;
	}

	private static void sleep(long l)
	{
		if (l &lt; 1L)
			return;

		if (l % 10L == 0L)
		{
			try
			{
				Thread.sleep(l - 1L);
			}
			catch (InterruptedException n) { }
			try
			{
				Thread.sleep(1L);
			}
			catch (InterruptedException n) { }
			return;
		}
		try
		{
			Thread.sleep(l);
		}
		catch (InterruptedException n) { }
	}

	private int memsize;
	private int mempos;
	private long reqlatency;
	private long latency;
	private long interval;
	private long[] mem;
}
</code></pre>
<p>You can really put this to use if you make a game that uses a frame rate system. This is very stable, and will run for long periods of time on perfect timing.</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Mopman.html'><span itemprop='name'>Mopman</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T02:50:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:49Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>this is pretty bad some of the variables have names</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T02:50:54Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:50Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>this frankly won’t do… it could be optimized :\</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Killer-99-pkz.html'><span itemprop='name'>Killer-99-pkz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T02:53:14Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:50Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>No, I’ve already optimized it from the OBFUSTICATED CODE that wrecked the original code.[br][br][size=1]Posted on: December 28, 2009, 08:54:21 pm[/size][hr]The only thing I can think of would be</p>
<pre><code class="lang-auto">	public int time(int n)
	{
		long l = 1000000L * (long) n;</code></pre>
<p>removing that and just using it as time(long nanos). but it’s fine.</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T02:55:21Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:50Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>oh no… you are black</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Killer-99-pkz.html'><span itemprop='name'>Killer-99-pkz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T02:56:29Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:50Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>rofl go pout somewhere else. no one wants to hear a “grown” man cry.[br][br][size=1]Posted on: December 28, 2009, 08:58:08 pm[/size][hr]I’f you dont like me go somewhere else.</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T02:59:14Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:51Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Killer-99-pkz, post:4, topic:322680”]No, I’ve already optimized it from the OBFUSTICATED CODE that wrecked the original code.[br][br][size=1]Posted on: December 28, 2009, 08:54:21 pm[/size][hr]The only thing I can think of would be</p>
<pre><code class="lang-auto">	public int time(int n)
	{
		long l = 1000000L * (long) n;</code></pre>
<p>removing that and just using it as time(long nanos). but it’s fine.[/quote]</p>
<p>Use Bitshifts</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Unhandled.html'><span itemprop='name'>Unhandled</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:02:11Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:52Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>but you didn’t post the schedule you followed so we know how hard it was to make and how much you fapped in between…</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Killer-99-pkz.html'><span itemprop='name'>Killer-99-pkz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:03:09Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:52Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>HOW THE HELL COULD YOU USE A SINGLE BITSHIFT WITH AN OFFBIT NUMBER…im not using multiple bitshifts for that when it only takes a fraction of a millisecond[br][br][size=1]Posted on: December 28, 2009, 09:03:49 pm[/size][hr]lol, u would want to know about that. this took 15 mins to understand and rename…</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:09:42Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:52Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <pre><code class="lang-auto">long nano = n &lt;&lt; Math.log(1000000) / Math.log(2);</code></pre>
<p>-.-</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:11:18Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:53Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Killer-99-pkz, post:4, topic:322680”]No, I’ve already optimized it from the OBFUSTICATED CODE that wrecked the original code.[br][br][size=1]Posted on: December 28, 2009, 08:54:21 pm[/size][hr]The only thing I can think of would be</p>
<pre><code class="lang-auto">	public int time(int n)
	{
		long l = 1000000L * (long) n;</code></pre>
<p>removing that and just using it as time(long nanos). but it’s fine.[/quote]right, because a checkcast instruction provides such fucking overhead</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Killer-99-pkz.html'><span itemprop='name'>Killer-99-pkz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:15:38Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:54Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>go away…</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Aftermath_961.html'><span itemprop='name'>Aftermath_961</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:26:23Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:56Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Very good, but it could use some optimization. Here, I did it for you.</p>
<p>[code]public final class Timing {<br>
long d = System.nanoTime(), latency = d, interval = d, reqlatency;</p>
<pre><code>public int time(int n) {
	if ((latency += calculate()) &lt;= reqlatency || (n = 0) == 1) {
		while(++n &lt; 10 &amp;&amp; ++reqlatency &lt; latency);
		return (int) (n + 0 * (reqlatency = Math.max(latency, reqlatency)));
	}
	
	Time.sleep((d = reqlatency - latency) / 1000000L);
	if((interval += d) == ((latency += d) + reqlatency++));
	return 1;
}

private long calculate() {
	if ((d = System.nanoTime() - interval++) &gt; -5000000000L &amp;&amp; d &lt; 5000000000L) {
		mem[mempos] = d;
		mempos = (1 + mempos) % 10 + 0 * (memsize = memsize &lt; 1 ? ++memsize : memsize);
	}
	
	for (int n = 0, d = 0; n &lt; memsize | 3123 == (d += mem[(9 + mempos - n) % 10]); ++n);
	return d / (long) (double) (int) (float) memsize;
}

public void reset() {
	latency = (false | (interval = 0L) == 1) || (latency &lt; reqlatency) ? (latency + reqlatency - latency + reqlatency - latency) : latency;
}

private int memsize = 1, mempos;
private long[] mem = new long[10];
</code></pre>
<p>}[/code]</p>
<p>It’s a lot shorter now - it fits on one screen, so it’ll compile much faster.</p>
<p>Edit: If you want it to compile even faster, you can remove the newlines.</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Killer-99-pkz.html'><span itemprop='name'>Killer-99-pkz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:32:54Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:56Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>wtf is that… thats fucking wrecked code. wow… i dont use inner setting anymore because it gets messy and long lined[br][br][size=1]Posted on: December 28, 2009, 09:34:08 pm[/size][hr]wow…</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:34:48Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:57Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Aftermath, post:13, topic:322680”]Very good, but it could use some optimization. Here, I did it for you.</p>
<p>[code]public final class Timing {<br>
long d = System.nanoTime(), latency = d, interval = d, reqlatency;</p>
<pre><code>public int time(int n) {
	if ((latency += calculate()) &lt;= reqlatency || (n = 0) == 1) {
		while(++n &lt; 10 &amp;&amp; ++reqlatency &lt; latency);
		return (int) (n + 0 * (reqlatency = Math.max(latency, reqlatency)));
	}
	
	Time.sleep((d = reqlatency - latency) / 1000000L);
	if((interval += d) == ((latency += d) + reqlatency++));
	return 1;
}

private long calculate() {
	if ((d = System.nanoTime() - interval++) &gt; -5000000000L &amp;&amp; d &lt; 5000000000L) {
		mem[mempos] = d;
		mempos = (1 + mempos) % 10 + 0 * (memsize = memsize &lt; 1 ? ++memsize : memsize);
	}
	
	for (int n = 0, d = 0; n &lt; memsize | 3123 == (d += mem[(9 + mempos - n) % 10]); ++n);
	return d / (long) (double) (int) (float) memsize;
}

public void reset() {
	latency = (false | (interval = 0L) == 1) || (latency &lt; reqlatency) ? (latency + reqlatency - latency + reqlatency - latency) : latency;
}

private int memsize = 1, mempos;
private long[] mem = new long[10];
</code></pre>
<p>}[/code]</p>
<p>It’s a lot shorter now - it fits on one screen, so it’ll compile much faster.</p>
<p>Edit: If you want it to compile even faster, you can remove the newlines.[/quote]inadequate use of post-incremental operators, too slow!</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Killer-99-pkz.html'><span itemprop='name'>Killer-99-pkz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:35:22Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:57Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>long nano = n &lt;&lt; Math.log(1000000) / Math.log(2);</code> that wouldent even work</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:35:43Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:57Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="16" data-topic="322680">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/killer-99-pkz/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> Killer-99-pkz:</div>
<blockquote>
<p><code>long nano = n &lt;&lt; Math.log(1000000) / Math.log(2);</code> thats slower…</p>
</blockquote>
</aside>
<p>no???</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Killer-99-pkz.html'><span itemprop='name'>Killer-99-pkz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:35:57Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:57Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><span class="mention">@abraham</span>, that code is fuckign wrecked the only thing that will do is fucking give u a headache…</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:39:31Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:57Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>its actually much fucking cleaner than yours, and oksuper_ use fucking static values… two invokestatic instructions decrease performance</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Killer-99-pkz.html'><span itemprop='name'>Killer-99-pkz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-12-29T03:50:14Z'>
            <time itemprop='dateModified' datetime='2016-07-31T13:34:58Z' class='post-time'>
              July 31, 2016,  1:34pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="19" data-topic="322680">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/abraham2119/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> abraham2119:</div>
<blockquote>
<p>its actually much fucking cleaner than yours, and oksuper_ use fucking static values… two invokestatic instructions decrease performance</p>
</blockquote>
</aside>
<p>Do that code was a joke… can’t you read? lol…</p>
      </div>

      <meta itemprop='headline' content='Jagex NanoTiming Class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="3226804658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/jagex-nanotiming-class/322680 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 21:50:49 GMT -->
</html>
