<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Sierpinski Triangle</title>
    <link>https://forum.moparisthebest.com/t/sierpinski-triangle/413907</link>
    <description>There&#39;s not much to say about this, I was bored and wrote it in about 15 minutes. Hopefully it will help some learn a little bit about drawing with Simba. Enjoy ;)

Script:

[code=pascal]program SierpinskiTriangle;
{$I SRL/SRL.scar}

var
  Form: TForm;

procedure Paint(Sender: TObject);
var
  x, y, i, ii: Integer;
begin
  Form.Canvas.Rectangle(0, 0, 600, 600);
  for i := 1 to 100000 do
  begin
    ii := Random(600);
    if (ii &lt;= 200) then
    begin
      x := x div 2;
      y := y div 2;
    end;
    if ((ii &gt; 200) and (ii &lt;= 400)) then
    begin
      x := (300 + x) div 2;
      y := (600 + y) div 2;
    end;
    if (ii &gt; 400) then
    begin
      x := (600 + x) div 2;
      y := y div 2;
    end;
    Form.Canvas.Pixels[x, y] := ClWhite;
  end;
end;

procedure InitForm;
begin
  Form := CreateForm;
  Form.Left := 600;
  Form.Top := 600;
  Form.Caption := &#39;Sierpinski Triangle&#39;;
  Form.Position := PoScreenCenter;
  Form.OnPaint := @Paint;
  Form.Canvas.Brush.Color := ClBlack;
end;

procedure SafeInitForm;
var
  v: TVariantArray;
begin
  SetArrayLength(v, 0);
  ThreadSafeCall(&#39;InitForm&#39;, v);
end;

procedure ShowFormModal;
begin
  Form.ShowModal;
end;

procedure SafeShowFormModal;
var
  v: TVariantArray;
begin
  SetArrayLength(v, 0);
  ThreadSafeCall(&#39;ShowFormModal&#39;, v);
end;

begin
  SafeInitForm;
  SafeShowFormModal;
end.[/code]

Result:

[IMG]http://i.imgur.com/dCZJH.png[/img]</description>
    
    <lastBuildDate>Sun, 11 Sep 2011 00:36:56 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/sierpinski-triangle/413907.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Sierpinski Triangle</title>
        <dc:creator><![CDATA[@Echo3 Echo_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/echo3">@Echo3</a> wrote:</p>
          <blockquote>
              <p>[quote=“Wizzup?, post:2, topic:413907”]Pretty cool! <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
To increase speed you might want to draw to a TMufasaBitmap and then paint it on the Canvas when you’re done. ( <a href="http://docs.villavu.com/simba/scriptref/bitmaps.html#drawbitmap" rel="nofollow noopener">http://docs.villavu.com/simba/scriptref/bitmaps.html#drawbitmap</a> )[/quote]</p>
<p>That’s actually a really good idea, I’ma try that now <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>E: Your right</p>
<p>Painting to TMufasaBitmap:</p>
<blockquote>Took 2184 ms to draw triangle.</blockquote>
<p>Painting directly to Form.Canvas:</p>
<blockquote>Took 2558 ms to draw triangle.</blockquote>
<p>I changed the script to this:</p>
<p>[code=pascal]program SierpinskiTriangle;<br>
{$I SRL/SRL.scar}</p>
<p>var<br>
Form: TForm;<br>
TMB: TMufasaBitmap;</p>
<p>procedure Paint(Sender: TObject);<br>
var<br>
x, y, i, ii: Integer;<br>
begin<br>
TMB := TMufasaBitmap.Create;<br>
TMB.SetSize(601, 601);<br>
TMB.Rectangle(IntToBox(0, 0, 600, 600), ClBlack);</p>
<p>for i := 1 to 100000 do<br>
begin<br>
ii := Random(600);<br>
if (ii &lt;= 200) then<br>
begin<br>
x := x div 2;<br>
y := y div 2;<br>
end;<br>
if ((ii &gt; 200) and (ii &lt;= 400)) then<br>
begin<br>
x := (300 + x) div 2;<br>
y := (600 + y) div 2;<br>
end;<br>
if (ii &gt; 400) then<br>
begin<br>
x := (600 + x) div 2;<br>
y := y div 2;<br>
end;<br>
TMB.FastSetPixel(x, y, ClWhite);<br>
end;</p>
<p>TMB.DrawToCanvas(0, 0, Form.Canvas);<br>
TMB.Free;<br>
end;</p>
<p>procedure InitForm;<br>
begin<br>
Form := CreateForm;<br>
Form.Left := 600;<br>
Form.Top := 600;<br>
Form.Caption := ‘Sierpinski Triangle’;<br>
Form.Position := PoScreenCenter;<br>
Form.OnPaint := <a class="mention" href="/u/paint">@Paint</a>;<br>
end;</p>
<p>procedure SafeInitForm;<br>
var<br>
v: TVariantArray;<br>
begin<br>
SetArrayLength(v, 0);<br>
ThreadSafeCall(‘InitForm’, v);<br>
end;</p>
<p>procedure ShowFormModal;<br>
begin<br>
Form.ShowModal;<br>
end;</p>
<p>procedure SafeShowFormModal;<br>
var<br>
v: TVariantArray;<br>
begin<br>
SetArrayLength(v, 0);<br>
ThreadSafeCall(‘ShowFormModal’, v);<br>
end;</p>
<p>begin<br>
SafeInitForm;<br>
SafeShowFormModal;<br>
end.[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/sierpinski-triangle/413907/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/sierpinski-triangle/413907/4</link>
        <pubDate>Sun, 11 Sep 2011 00:36:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-413907-4</guid>
        <source url="https://forum.moparisthebest.com/t/sierpinski-triangle/413907.rss">Sierpinski Triangle</source>
      </item>
      <item>
        <title>Sierpinski Triangle</title>
        <dc:creator><![CDATA[@Wolf Wolf]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wolf">@Wolf</a> wrote:</p>
          <blockquote>
              <p>Ha, I like it Echo_.  A little bit of a paradox.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/sierpinski-triangle/413907/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/sierpinski-triangle/413907/3</link>
        <pubDate>Sat, 10 Sep 2011 14:55:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-413907-3</guid>
        <source url="https://forum.moparisthebest.com/t/sierpinski-triangle/413907.rss">Sierpinski Triangle</source>
      </item>
      <item>
        <title>Sierpinski Triangle</title>
        <dc:creator><![CDATA[@Wizzup Wizzup?]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wizzup">@Wizzup</a> wrote:</p>
          <blockquote>
              <p>Pretty cool! <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
To increase speed you might want to draw to a TMufasaBitmap and then paint it on the Canvas when you’re done. ( <a href="http://docs.villavu.com/simba/scriptref/bitmaps.html#drawbitmap" rel="nofollow noopener">http://docs.villavu.com/simba/scriptref/bitmaps.html#drawbitmap</a> )</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/sierpinski-triangle/413907/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/sierpinski-triangle/413907/2</link>
        <pubDate>Sat, 10 Sep 2011 11:58:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-413907-2</guid>
        <source url="https://forum.moparisthebest.com/t/sierpinski-triangle/413907.rss">Sierpinski Triangle</source>
      </item>
      <item>
        <title>Sierpinski Triangle</title>
        <dc:creator><![CDATA[@Echo3 Echo_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/echo3">@Echo3</a> wrote:</p>
          <blockquote>
              <p>There’s not much to say about this, I was bored and wrote it in about 15 minutes. Hopefully it will help some learn a little bit about drawing with Simba. Enjoy <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
<p>Script:</p>
<p>[code=pascal]program SierpinskiTriangle;<br>
{$I SRL/SRL.scar}</p>
<p>var<br>
Form: TForm;</p>
<p>procedure Paint(Sender: TObject);<br>
var<br>
x, y, i, ii: Integer;<br>
begin<br>
Form.Canvas.Rectangle(0, 0, 600, 600);<br>
for i := 1 to 100000 do<br>
begin<br>
ii := Random(600);<br>
if (ii &lt;= 200) then<br>
begin<br>
x := x div 2;<br>
y := y div 2;<br>
end;<br>
if ((ii &gt; 200) and (ii &lt;= 400)) then<br>
begin<br>
x := (300 + x) div 2;<br>
y := (600 + y) div 2;<br>
end;<br>
if (ii &gt; 400) then<br>
begin<br>
x := (600 + x) div 2;<br>
y := y div 2;<br>
end;<br>
Form.Canvas.Pixels[x, y] := ClWhite;<br>
end;<br>
end;</p>
<p>procedure InitForm;<br>
begin<br>
Form := CreateForm;<br>
Form.Left := 600;<br>
Form.Top := 600;<br>
Form.Caption := ‘Sierpinski Triangle’;<br>
Form.Position := PoScreenCenter;<br>
Form.OnPaint := <a class="mention" href="/u/paint">@Paint</a>;<br>
Form.Canvas.Brush.Color := ClBlack;<br>
end;</p>
<p>procedure SafeInitForm;<br>
var<br>
v: TVariantArray;<br>
begin<br>
SetArrayLength(v, 0);<br>
ThreadSafeCall(‘InitForm’, v);<br>
end;</p>
<p>procedure ShowFormModal;<br>
begin<br>
Form.ShowModal;<br>
end;</p>
<p>procedure SafeShowFormModal;<br>
var<br>
v: TVariantArray;<br>
begin<br>
SetArrayLength(v, 0);<br>
ThreadSafeCall(‘ShowFormModal’, v);<br>
end;</p>
<p>begin<br>
SafeInitForm;<br>
SafeShowFormModal;<br>
end.[/code]</p>
<p>Result:</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/dCZJH.png" title="dCZJH.png" rel="nofollow noopener"><img src="http://i.imgur.com/dCZJH.png" alt width="482" height="500"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">dCZJH.png</span><span class="informations">600×622</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/sierpinski-triangle/413907/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/sierpinski-triangle/413907/1</link>
        <pubDate>Thu, 08 Sep 2011 11:58:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-413907-1</guid>
        <source url="https://forum.moparisthebest.com/t/sierpinski-triangle/413907.rss">Sierpinski Triangle</source>
      </item>
  </channel>
</rss>
