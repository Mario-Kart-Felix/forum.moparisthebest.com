<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/irc-pircbot/303260 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 09:54:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>IRC PircBot - General Programming - moparisthebest.com</title>
    <meta name="description" content="Ok well i have a irc bot that stores everything that people say in a arraylist. And i have a string that does kinda what aibot does, except it gets the first string from the list that matches. Any idea how to randomize i&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="303260.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;IRC PircBot&#39;" href="303260.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/irc-pircbot/303260" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/irc-pircbot/303260" />
<meta property="og:title" content="IRC PircBot" />
<meta name="twitter:title" content="IRC PircBot" />
<meta property="og:description" content="Ok well i have a irc bot that stores everything that people say in a arraylist. And i have a string that does kinda what aibot does, except it gets the first string from the list that matches. Any idea how to randomize it without getting a out of bounds error or repeating a value?  	public String chat(String chat, String channel) { 	 		boolean foundMatch = false; 		String temp = &quot;&quot;; 		 		if(!memory.isEmpty()) { 			String[] aString = memory.toArray(new String[memory.size()]); 			 			for(int i = 0..." />
<meta name="twitter:description" content="Ok well i have a irc bot that stores everything that people say in a arraylist. And i have a string that does kinda what aibot does, except it gets the first string from the list that matches. Any idea how to randomize it without getting a out of bounds error or repeating a value?  	public String chat(String chat, String channel) { 	 		boolean foundMatch = false; 		String temp = &quot;&quot;; 		 		if(!memory.isEmpty()) { 			String[] aString = memory.toArray(new String[memory.size()]); 			 			for(int i = 0..." />
<meta property="article:published_time" content="2009-09-19T21:12:26+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="303260.html">IRC PircBot</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lesterknome.html'><span itemprop='name'>lesterknome</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-19T21:12:26Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:07:29Z' class='post-time'>
              July 31, 2016, 11:07am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok well i have a irc bot that stores everything that people say in a arraylist. And i have a string that does kinda what aibot does, except it gets the first string from the list that matches. Any idea how to randomize it without getting a out of bounds error or repeating a value?</p>
<pre><code class="lang-auto">	public String chat(String chat, String channel) {
	
		boolean foundMatch = false;
		String temp = "";
		
		if(!memory.isEmpty()) {
			String[] aString = memory.toArray(new String[memory.size()]);
			
			for(int i = 0; i &lt; aString.length; i++)
			{
				try
				{
					
					String[] temp_ = aString[i].split(" ");
					
					for(int k = 0; k &lt; temp_.length; k++) {
						
						if(temp_[k].equalsIgnoreCase(chat)) {
							temp = aString[i];
							foundMatch = true;
							break;
						}
						
					}
					
					if(foundMatch)
						break;
									
					
				}
				catch(Exception ioexception) { sendError(channel); }
			}
		} else return "I don't know what that is :(";
		
		
		if(temp == null) 
			temp = "I don't know what that is :(";
			
		return temp;
	}</code></pre>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/PeeHPee.html'><span itemprop='name'>PeeHPee</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-19T21:39:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:07:31Z' class='post-time'>
              July 31, 2016, 11:07am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>it’d help if you explained what you’re trying to do.</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lesterknome.html'><span itemprop='name'>lesterknome</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-19T21:43:36Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:07:31Z' class='post-time'>
              July 31, 2016, 11:07am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This makes it so whenever someone says something it stores it in a string and then it sends back what someone else said (everything people say is stored in a arraylist) but this just gets the thing on the top of the arraylist instead of gettting a random one containing that string. Should i use math random possibly?</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-19T21:44:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:07:31Z' class='post-time'>
              July 31, 2016, 11:07am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>AIBot uses an artificial neural network… not a simple search.</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lesterknome.html'><span itemprop='name'>lesterknome</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-19T21:54:27Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:07:32Z' class='post-time'>
              July 31, 2016, 11:07am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="4" data-topic="303260">
<div class="title">
<div class="quote-controls"></div>
 oksuper_:</div>
<blockquote>
<p>AIBot uses an artificial neural network… not a simple search.</p>
</blockquote>
</aside>
<p>Shiver was the one who told me to do something like this. Also in this case a simple search is all you need.</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/alowaniak.html'><span itemprop='name'>alowaniak</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-22T10:41:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:11:14Z' class='post-time'>
              July 31, 2016, 11:11am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well if you want to get a random string just use math.random in the index…<br>
Or if you want a random string on basis of a search, search all the strings that can be used, put them in an array and use random on that array…?</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fat_Cookies.html'><span itemprop='name'>Fat_Cookies</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-22T15:24:38Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:11:24Z' class='post-time'>
              July 31, 2016, 11:11am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>int Randomised = (int) (Math.random() * OriginalString.length);
}
</code><br>
OriginalString would be aString in this case.<br>
So when your printing it out:</p>
<p>“Fatty Says:” +OriginalString[Randomised] +</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/D_e_n_v_e_r.html'><span itemprop='name'>D_e_n_v_e_r</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-22T18:33:34Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:11:30Z' class='post-time'>
              July 31, 2016, 11:11am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lesterknome, post:1, topic:303260”]Ok well i have a irc bot that stores everything that people say in a arraylist. And i have a string that does kinda what aibot does, except it gets the first string from the list that matches. Any idea how to randomize it without getting a out of bounds error or repeating a value?</p>
<p>[code=php]<br>
public String chat(String chat, String channel) {</p>
<pre><code>	boolean foundMatch = false;
	String temp = "";
	
	if(!memory.isEmpty()) {
		String[] aString = memory.toArray(new String[memory.size()]);
		
		for(int i = 0; i &lt; aString.length; i++)
		{
			try
			{
				
				String[] temp_ = aString[i].split(" ");
				
				for(int k = 0; k &lt; temp_.length; k++) {
					
					if(temp_[k].equalsIgnoreCase(chat)) {
						temp = aString[i];
						foundMatch = true;
						break;
					}
					
				}
				
				if(foundMatch)
					break;
								
				
			}
			catch(Exception ioexception) { sendError(channel); }
		}
	} else return "I don't know what that is :(";
	
	
	if(temp == null) 
		temp = "I don't know what that is :(";
		
	return temp;
}
</code></pre>
<p>[/code][/quote]</p>
<p>to choose a random message that will contain a specific word, you’d have to add all the messages that contains that word into an array or arrayList first, and then randomize the index , so like:</p>
<pre><code class="lang-auto">ArrayList&lt;String&gt; matches = new ArrayList&lt;String&gt;();
String rand_string = "";
if(temp_[k].equalsIgnoreCase(chat)) {
							temp = aString[i];
                                                        matches.add(temp);
						}
int rand = new Random().nextInt(0,matches.size());// will give a random index between 0 
// and matches.size() -1
rand_string = matches.get(rand);//use Math.random instead of you want.</code></pre>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-23T14:47:05Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:12:41Z' class='post-time'>
              July 31, 2016, 11:12am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/denver.html">@Denver</a>: Using [tt]Math.random()[/tt] is incredibly more efficient than what you just did. You are creating a new [tt]Random[/tt] instance on every call, whereas [tt]Math.random()[/tt] only creates one global instance. You are also recreating a list object which could instead be a field. And you should really look at the bytecode side of some of that code.</p>
<p>Look at the following:</p>
<pre><code class="lang-auto">temp = aString[1];
matches.add(temp);</code></pre>
<p>Looks like harmless code, right? Well look at the bytecode of this:</p>
<pre><code class="lang-auto">aload 5 // load arrayref 'aString'
iload 6 // load index int value 'i'
aaload // load value from arrayref at index
astore 4 // store value to local var 'temp'
aload 8 // load objectref 'matches'
aload 4 // load local var 'temp'
invokevirtual #cpoolindex //method java.util.ArrayList.add(Ljava/lang/String;)Z - invoke method matches.add(temp)</code></pre>
<p>Instead, you could slim down your code and further increase the speed (even if it is an incredibly small speedup, it’s still worth it):</p>
<pre><code class="lang-auto">matches.add(aString[i]);</code></pre>
<p>would be the following bytecode:</p>
<pre><code class="lang-auto">aload 8 // load objectref 'matches'
aload 5 // load arrayref 'aString'
iload 6 // load index int value 'i'
aaload // load value from arrayref at index
invokevirtual #cpoolindex //method java.util.ArrayList.add(Ljava/lang/String;)Z - invoke method matches.add(temp)</code></pre>
<p>By doing that very, very small change in the Java code, you just saved two instructions- 1 store and 1 load. By doing this a little more, you may even be able to remove a few local variables that are really useless.</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cheese_Police.html'><span itemprop='name'>Cheese_Police</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-23T15:13:25Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:12:42Z' class='post-time'>
              July 31, 2016, 11:12am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>taharok == killer99</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-23T15:43:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:12:43Z' class='post-time'>
              July 31, 2016, 11:12am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="10" data-topic="303260">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/cheese_police/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> Cheese_Police:</div>
<blockquote>
<p>taharok == killer99</p>
</blockquote>
</aside>
<p>Never once said ‘optimization’ :P. Seriously though, you can’t deny that Denver’s code is disgusting. There’s a big difference between very small optimizations and making huge changes like not creating a new Random instance every iteration of the loop.</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/BAsh.html'><span itemprop='name'>BAsh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-23T15:47:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:12:43Z' class='post-time'>
              July 31, 2016, 11:12am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If the guys who made the JIT didn’t optimize single use local variables I will shoot them myself.</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/D_e_n_v_e_r.html'><span itemprop='name'>D_e_n_v_e_r</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-23T19:14:10Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:12:53Z' class='post-time'>
              July 31, 2016, 11:12am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Taharok, post:9, topic:303260”]<a class="mention" href="../../u/denver.html">@Denver</a>: Using [tt]Math.random()[/tt] is incredibly more efficient than what you just did. You are creating a new [tt]Random[/tt] instance on every call, whereas [tt]Math.random()[/tt] only creates one global instance. You are also recreating a list object which could instead be a field. And you should really look at the bytecode side of some of that code.</p>
<p>Look at the following:</p>
<pre><code class="lang-auto">temp = aString[1];
matches.add(temp);</code></pre>
<p>Looks like harmless code, right? Well look at the bytecode of this:</p>
<pre><code class="lang-auto">aload 5 // load arrayref 'aString'
iload 6 // load index int value 'i'
aaload // load value from arrayref at index
astore 4 // store value to local var 'temp'
aload 8 // load objectref 'matches'
aload 4 // load local var 'temp'
invokevirtual #cpoolindex //method java.util.ArrayList.add(Ljava/lang/String;)Z - invoke method matches.add(temp)</code></pre>
<p>Instead, you could slim down your code and further increase the speed (even if it is an incredibly small speedup, it’s still worth it):</p>
<pre><code class="lang-auto">matches.add(aString[i]);</code></pre>
<p>would be the following bytecode:</p>
<pre><code class="lang-auto">aload 8 // load objectref 'matches'
aload 5 // load arrayref 'aString'
iload 6 // load index int value 'i'
aaload // load value from arrayref at index
invokevirtual #cpoolindex //method java.util.ArrayList.add(Ljava/lang/String;)Z - invoke method matches.add(temp)</code></pre>
<p>By doing that very, very small change in the Java code, you just saved two instructions- 1 store and 1 load. By doing this a little more, you may even be able to remove a few local variables that are really useless.[/quote]<br>
he is not writing a big program, optimization is not that much required,and i personally don’t  declare fields and use them in a loop , but it was just for an efficient self explainable, easy to understand example + i already said to use Math random instead the line is commented out <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Jython.html'><span itemprop='name'>Jython</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-23T19:56:20Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:12:57Z' class='post-time'>
              July 31, 2016, 11:12am
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Taharok, post:9, topic:303260”]<a class="mention" href="../../u/denver.html">@Denver</a>: Using [tt]Math.random()[/tt] is incredibly more efficient than what you just did. You are creating a new [tt]Random[/tt] instance on every call, whereas [tt]Math.random()[/tt] only creates one global instance. You are also recreating a list object which could instead be a field. And you should really look at the bytecode side of some of that code.</p>
<p>Look at the following:</p>
<pre><code class="lang-auto">temp = aString[1];
matches.add(temp);</code></pre>
<p>Looks like harmless code, right? Well look at the bytecode of this:</p>
<pre><code class="lang-auto">aload 5 // load arrayref 'aString'
iload 6 // load index int value 'i'
aaload // load value from arrayref at index
astore 4 // store value to local var 'temp'
aload 8 // load objectref 'matches'
aload 4 // load local var 'temp'
invokevirtual #cpoolindex //method java.util.ArrayList.add(Ljava/lang/String;)Z - invoke method matches.add(temp)</code></pre>
<p>Instead, you could slim down your code and further increase the speed (even if it is an incredibly small speedup, it’s still worth it):</p>
<pre><code class="lang-auto">matches.add(aString[i]);</code></pre>
<p>would be the following bytecode:</p>
<pre><code class="lang-auto">aload 8 // load objectref 'matches'
aload 5 // load arrayref 'aString'
iload 6 // load index int value 'i'
aaload // load value from arrayref at index
invokevirtual #cpoolindex //method java.util.ArrayList.add(Ljava/lang/String;)Z - invoke method matches.add(temp)</code></pre>
<p>By doing that very, very small change in the Java code, you just saved two instructions- 1 store and 1 load. By doing this a little more, you may even be able to remove a few local variables that are really useless.[/quote]</p>
<p>Someone learned how bytecode works?</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-23T20:25:48Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:12:59Z' class='post-time'>
              July 31, 2016, 11:12am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“oksuper_, post:14, topic:303260”][quote author=Taharok link=topic=399502.msg2967583#msg2967583 date=1253717225]<br>
…<br>
[/quote]</p>
<p>Someone learned how bytecode works?[/quote]</p>
<p>Someone knew how bytecode worked, just didn’t care enough to say anything about it.</p>
<p>[quote=“D e n v e r, post:13, topic:303260”][quote author=Taharok link=topic=399502.msg2967583#msg2967583 date=1253717225]<br>
…<br>
[/quote]<br>
he is not writing a big program, optimization is not that much required,and i personally don’t  declare fields and use them in a loop , but it was just for an efficient self explainable, easy to understand example + i already said to use Math random instead the line is commented out ;)[/quote]</p>
<p>You actually said “you can use Math.random() if you want” not “you may want to use Math.random()” or “you should use Math.random()” or even directly using Math.random(). You were creating two new objects on an iterative basis, both of which could have been stored completely outside the method and, in effect, only require on instantiation each. That is pretty much the best scenario possible.</p>
<p>And about the small store-load optimization, that is quite minor. But for how simple it is, you should still do it.</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/abraham2119.html'><span itemprop='name'>abraham2119</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2009-09-24T00:34:35Z'>
            <time itemprop='dateModified' datetime='2016-07-31T11:13:25Z' class='post-time'>
              July 31, 2016, 11:13am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>taharok, why bitch for the sake of saving your application from executing 2 instructions. c|p is right btw</p>
<p>anyways if you really are never going to dispose strings from the list, then it can get to use a lot of memory. i suggest that instead of creating a string-per-line and appending it to a list, you simply append each string to a previously existing one and add some sort of delimiter in between. then, when wanting to access a specific line, you split it up through the delimiter, and iterate through them. and no, im not killer-99; i only recommended this because if the bot spends over 24 hours on an active irc, it will be using tons of unnecessary memory</p>
      </div>

      <meta itemprop='headline' content='IRC PircBot'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/irc-pircbot/303260 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 09:54:37 GMT -->
</html>
