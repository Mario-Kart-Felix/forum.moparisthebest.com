<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[php][source] Simple poll</title>
    <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576</link>
    <description>[code]&lt;?php
if($_GET[&#39;id&#39;] == results){
?&gt;
&lt;?php
if($_POST[&#39;gamer&#39;] == &#39;yes&#39;)
{
$num_votes_yes = file_get_contents(&#39;y.php&#39;);
$fy = fopen(&#39;y.php&#39;, &#39;w&#39;);
fwrite($fy, $num_votes_yes + 1);
fclose($fy);
}
if($_POST[&#39;gamer&#39;] == &#39;no&#39;)
{
$num_votes_no = file_get_contents(&#39;n.php&#39;);
$fn = fopen(&#39;n.php&#39;, &#39;w&#39;);
fwrite($fn, $num_votes_no + 1);
fclose($fn);
}
?&gt;
&lt;?php
$ip = $_SERVER[&#39;REMOTE_ADDR&#39;];

$fp = fopen(&#39;ip.txt&#39;, &quot;a&quot;); 
fwrite ($fp, &quot;$ip\n&quot;); 
fclose($fp);
?&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;
Poll
&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
$num_votes_yes=file_get_contents(&#39;y.php&#39;);
$num_votes_no=file_get_contents(&#39;n.php&#39;);
echo &quot;Question: Are you a gamer?
&lt;br /&gt;
&lt;br /&gt;
Results;
&lt;br /&gt;
Yes: $num_votes_yes votes.
&lt;br /&gt;
No: $num_votes_no votes.
&lt;br /&gt;
&lt;br /&gt;
&lt;a href=\&quot;poll3.php\&quot;&gt;Go back&lt;/a&gt;&quot;;
?&gt;

&lt;/body&gt;
&lt;/html&gt;
&lt;?
}else{
?&gt;
&lt;?php
$error = 0; 
$content = file(&quot;ip.txt&quot;); 
foreach($content as $ip) { 
    if(trim($ip) == $_SERVER[&#39;REMOTE_ADDR&#39;]) { 
        $error = 1; 
    } 
} 

// If the ip doesn&#39;t exist
if(!$error) {
echo &#39;&lt;!DOCTYPE html
PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;title&gt;
Poll
&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&quot;form&quot;&gt;
&lt;form method=&quot;post&quot; action=&quot;?id=results&quot;&gt;
&lt;p&gt;Are you a gamer?&lt;/p&gt;
&lt;p&gt;Yes &lt;input type=&quot;radio&quot; name=&quot;gamer&quot; value=&quot;yes&quot; /&gt;&lt;/p&gt;
&lt;p&gt;No &lt;input type=&quot;radio&quot; name=&quot;gamer&quot; value=&quot;no&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;&#39;;
}
else { //If the ip does exist
$num_votes_yes=file_get_contents(&#39;y.php&#39;);
$num_votes_no=file_get_contents(&#39;n.php&#39;);
echo &quot;You have already voted in this poll.
&lt;br /&gt;
&lt;br /&gt;
Question: Are you a gamer?
&lt;br /&gt;
&lt;br /&gt;
Results;
&lt;br /&gt;
Yes: $num_votes_yes votes.
&lt;br /&gt;
No: $num_votes_no votes.
&lt;br /&gt;
&lt;br /&gt;&quot;;
} 

?&gt;
&lt;? } ?&gt;[/code]

You will need to create 3 other files, ip.txt, y.php, and n.php

In y.php and n.php, you will need to put a 0 in, and in ip.txt, leave it completely blank.

Example: http://www.chatshack.us/test/poll3.php

I give credit to gokon, for getting me off my ass to do it, and s!ms, for his tutorial on ip logging.</description>
    
    <lastBuildDate>Sun, 28 Oct 2007 02:46:30 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@MastrChief MastrChief]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mastrchief">@MastrChief</a> wrote:</p>
          <blockquote>
              <p>[quote=".Fusion, post:9, topic:154576"]mysql isn’t hard at all.</p>
<p><a href="http://w3schools.com/php/php_mysql_connect.asp%5B/quote%5D" class="onebox" target="_blank" rel="nofollow noopener">http://w3schools.com/php/php_mysql_connect.asp[/quote]</a></p>
<p>I tried and failed epically. Some people aren’t meant to learn things, so I’m getting help from a few people.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/11</link>
        <pubDate>Sun, 28 Oct 2007 02:46:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-11</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@xxlegitxx xxlegitxx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xxlegitxx">@xxlegitxx</a> wrote:</p>
          <blockquote>
              <p>Also, there’s no need for concatenation in there.</p>
<pre><code class="lang-auto">Yes: ".$num_votes_yes." votes.</code></pre>
<p>can be simplfied to:</p>
<pre><code class="lang-auto">Yes: $num_votes_yes votes.</code></pre>
<p>Because you’re using double quotes, it parses it for special characters and variables, as opposed to single quotes, which treats everything as plain text.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/10</link>
        <pubDate>Sun, 28 Oct 2007 01:59:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-10</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@usernamelol .Fusion]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/usernamelol">@usernamelol</a> wrote:</p>
          <blockquote>
              <p>mysql isn’t hard at all.</p>
<p><a href="http://w3schools.com/php/php_mysql_connect.asp" class="onebox" target="_blank" rel="nofollow noopener">http://w3schools.com/php/php_mysql_connect.asp</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/9</link>
        <pubDate>Sun, 28 Oct 2007 01:56:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-9</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@MastrChief MastrChief]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mastrchief">@MastrChief</a> wrote:</p>
          <blockquote>
              <p>Alrighty, made the changes.</p>
<p>As I said, I’m still new to mysql, so thats out of the question until I get a better understanding of it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/8</link>
        <pubDate>Sun, 28 Oct 2007 01:53:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-8</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@xxlegitxx xxlegitxx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xxlegitxx">@xxlegitxx</a> wrote:</p>
          <blockquote>
              <p>Yea, MySQL would be much better for this.  Also, use echo instead of print, and as Alexia said, have it echo it all at once instead of multiple lines.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/7</link>
        <pubDate>Sun, 28 Oct 2007 01:10:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-7</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@MastrChief MastrChief]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mastrchief">@MastrChief</a> wrote:</p>
          <blockquote>
              <p>Of course it would, its just how I felt like doing it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/6</link>
        <pubDate>Sun, 28 Oct 2007 00:49:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-6</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@alexia alexia]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/alexia">@alexia</a> wrote:</p>
          <blockquote>
              <p>What’s with saying “print” in every line? Couldn’t you just do this:</p>
<p><code>print "Question: Are you a gamer?
&lt;br /&gt;
&lt;br /&gt;
Results
&lt;br /&gt;
Yes: '.$num_votes_yes.' votes
&lt;br /&gt;";
No: '.$num_votes_no.' votes.
&lt;br /&gt;
&lt;br /&gt;
&lt;a href=\"poll3.php\"&gt;Go back&lt;/a&gt;";</code></p>
<p>I am not the best with php, but I am pretty sure that would work…</p>
<p>-Alexia</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/5</link>
        <pubDate>Sun, 28 Oct 2007 00:48:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-5</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@3.65_kilos 3.65 kilos]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/3.65_kilos">@3.65_kilos</a> wrote:</p>
          <blockquote>
              <p>Wow, really nice. I may use this.  <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/4</link>
        <pubDate>Sat, 27 Oct 2007 09:48:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-4</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@MastrChief MastrChief]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mastrchief">@MastrChief</a> wrote:</p>
          <blockquote>
              <p>I’m not well rounded with sql, so I just chose to use files instead.</p>
<p>Thanks.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/3</link>
        <pubDate>Sat, 27 Oct 2007 08:49:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-3</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@VB7_Rocks VB7 Rocks]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vb7_rocks">@VB7_Rocks</a> wrote:</p>
          <blockquote>
              <p>Recommendation, instead of storing the results in php files, use an SQL database.</p>
<p>Otherwise it looks good.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/2</link>
        <pubDate>Sat, 27 Oct 2007 08:46:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-2</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
      <item>
        <title>[php][source] Simple poll</title>
        <dc:creator><![CDATA[@MastrChief MastrChief]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mastrchief">@MastrChief</a> wrote:</p>
          <blockquote>
              <p>[code]&lt;?php<br>
if($_GET[‘id’] == results){<br>
?&gt;</p>
&lt;?php
if($_POST['gamer'] == 'yes')
{
$num_votes_yes = file_get_contents('y.php');
$fy = fopen('y.php', 'w');
fwrite($fy, $num_votes_yes + 1);
fclose($fy);
}
if($_POST['gamer'] == 'no')
{
$num_votes_no = file_get_contents('n.php');
$fn = fopen('n.php', 'w');
fwrite($fn, $num_votes_no + 1);
fclose($fn);
}
?&gt;
&lt;?php
$ip = $_SERVER['REMOTE_ADDR'];

$fp = fopen('ip.txt', "a"); 
fwrite ($fp, "$ip\n"); 
fclose($fp);
?&gt;



Poll



&lt;?php
$num_votes_yes=file_get_contents('y.php');
$num_votes_no=file_get_contents('n.php');
echo "Question: Are you a gamer?
<br>
<br>
Results;
<br>
Yes: $num_votes_yes votes.
<br>
No: $num_votes_no votes.
<br>
<br>
<a>Go back</a>";
?&gt;


&lt;?
}else{
?&gt;
&lt;?php
$error = 0; 
$content = file("ip.txt"); 
foreach($content as $ip) { 
    if(trim($ip) == $_SERVER['REMOTE_ADDR']) { 
        $error = 1; 
    } 
} 
<p>// If the ip doesn’t exist<br>
if(!$error) {<br>
echo ’</p>



Poll



<div>

<p>Are you a gamer?</p>
<p>Yes </p>
<p>No </p>


</div>

';
}
else { //If the ip does exist
$num_votes_yes=file_get_contents('y.php');
$num_votes_no=file_get_contents('n.php');
echo "You have already voted in this poll.
<br>
<br>
Question: Are you a gamer?
<br>
<br>
Results;
<br>
Yes: $num_votes_yes votes.
<br>
No: $num_votes_no votes.
<br>
<br>";
} 
<p>?&gt;</p>
&lt;? } ?&gt;[/code]
<p>You will need to create 3 other files, ip.txt, y.php, and n.php</p>
<p>In y.php and n.php, you will need to put a 0 in, and in ip.txt, leave it completely blank.</p>
<p>Example: <a href="http://www.chatshack.us/test/poll3.php" rel="nofollow noopener">http://www.chatshack.us/test/poll3.php</a></p>
<p>I give credit to gokon, for getting me off my ass to do it, and s!ms, for his tutorial on ip logging.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-source-simple-poll/154576/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-source-simple-poll/154576/1</link>
        <pubDate>Sat, 27 Oct 2007 08:40:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-154576-1</guid>
        <source url="https://forum.moparisthebest.com/t/php-source-simple-poll/154576.rss">[php][source] Simple poll</source>
      </item>
  </channel>
</rss>
