<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/packing-508-maps-models-into-caceh-crashes-client/554457 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Packing 508 maps/models into Caceh Crashes Client! - Game Development - moparisthebest.com</title>
    <meta name="description" content="Hey guys, 

I have been trying to add 508+ maps into my PI Refactored client for 3 days now.. I have followed every tutorial there is and went through all the code as thoroughly as I can and I think I can conclude that t&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="554457.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Packing 508 maps/models into Caceh Crashes Client!&#39;" href="554457.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/packing-508-maps-models-into-caceh-crashes-client/554457" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/packing-508-maps-models-into-caceh-crashes-client/554457" />
<meta property="og:title" content="Packing 508 maps/models into Caceh Crashes Client!" />
<meta name="twitter:title" content="Packing 508 maps/models into Caceh Crashes Client!" />
<meta property="og:description" content="Hey guys,  I have been trying to add 508+ maps into my PI Refactored client for 3 days now… I have followed every tutorial there is and went through all the code as thoroughly as I can and I think I can conclude that the problem may be with Tom’s Cache suite rather than the code and models themselves.  The best and most efficient guide I followed on doing this was Galkon’s Index Repacking snippet. I redid this one alone at least 5 times and I keep getting the same problem.  http://www.rune-serve..." />
<meta name="twitter:description" content="Hey guys,  I have been trying to add 508+ maps into my PI Refactored client for 3 days now… I have followed every tutorial there is and went through all the code as thoroughly as I can and I think I can conclude that the problem may be with Tom’s Cache suite rather than the code and models themselves.  The best and most efficient guide I followed on doing this was Galkon’s Index Repacking snippet. I redid this one alone at least 5 times and I keep getting the same problem.  http://www.rune-serve..." />
<meta property="article:published_time" content="2016-01-18T06:28:01+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="554457.html">Packing 508 maps/models into Caceh Crashes Client!</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming/game-development.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Game Development</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/de_dust89.html'><span itemprop='name'>de_dust89</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-01-18T06:28:01Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:14:26Z' class='post-time'>
              August 4, 2016,  5:14pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey guys,</p>
<p>I have been trying to add 508+ maps into my PI Refactored client for 3 days now… I have followed every tutorial there is and went through all the code as thoroughly as I can and I think I can conclude that the problem may be with Tom’s Cache suite rather than the code and models themselves.</p>
<p>The best and most efficient guide I followed on doing this was Galkon’s Index Repacking snippet. I redid this one alone at least 5 times and I keep getting the same problem.</p>
<p><a href="http://www.rune-server.org/runescape-development/rs2-client/snippets/323269-index-repacking.html" data-bbcode="true" rel="nofollow noopener">http://www.rune-server.org/runescape-development/rs2-client/snippets/323269-index-repacking.html</a></p>
<p>I always end up with:</p>
<p><code>PANIC! RANDOMISED BLOCK!
Error: loaderror Requesting maps 75
</code></p>
<p>I only end up with this error if I repack anything in my cache using Tom’s suite, but I need to repack the following in order for it to work:<br>
model_index.dat<br>
flo.dat<br>
loc.dat<br>
loc.idx</p>
<p>And I don’t know if the files I’m using are corrupt, or if Tom’s suite is just messing the thing up.</p>
<p>My cache size is 63.3 megabytes and I was wondering if it just may be too big for the suite as I’ve seen other people say.</p>
<p>Would anyone know what to do??</p>
<p>EDIT: I just repacked my cache with my old files:<br>
model_index.dat<br>
flo.dat<br>
loc.dat<br>
loc.idx</p>
<p>and it loaded the old data just fine, but I still ended up with:</p>
<pre><code class="lang-auto"></code></pre>
<p>This output is being generated because of this:</p>
<p><code>			class32.aBoolean575 = byte0 != 0;
			if(class32.aBoolean575)
				System.out.println("PANIC! RANDOMISED BLOCK!");</code></p>
<p>And because the names of the variables are not really helpful I am still searching through tons of files and methods trying to figure out what the problem is. Does anyone know why this is happening?</p>
<p>Update: I have tried manually repacking the models by creating a command in client.java:</p>
<p><code>                        if(inputString.equals("::repack"))
                        {
                        	for(int i = 1; i &lt; 5; i++)
                        	{
                        		repackCacheIndex(i);
                        	}
                        }</code><br>
Now the models are packing but when I go to any place that has any models (any place that isnt all black)</p>
<p>The client crashes and I end up with this:</p>
<p><code>Exception in thread "Thread-3" java.lang.ArrayIndexOutOfBoundsException: 16433
	at ObjectDef.forID(ObjectDef.java:14)
	at ObjectManager.method189(ObjectManager.java:1334)
	at client.method54(client.java:2790)
	at client.loadingStages(client.java:2761)
	at client.mainGameProcessor(client.java:3238)
	at client.processGameLoop(client.java:2365)
	at RSApplet.run(RSApplet.java:101)
	at client.run(client.java:4829)
	at java.lang.Thread.run(Thread.java:745)
</code></p>
<p>I believe this may be happening because the models might be too high in number but in the guide that Galkon made, I followed the snippet to make my cache size unlimited so I don’t know why I would get this error.</p>
<p>Update: Still stuck. WTF!!!</p>
<p>Update: I might just delete my whole fucking client rn. How tf is this possible</p>
      </div>

      <meta itemprop='headline' content='Packing 508 maps/models into Caceh Crashes Client!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/X-J-K-X.html'><span itemprop='name'>X-J-K-X</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-01-18T12:19:14Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:14:27Z' class='post-time'>
              August 4, 2016,  5:14pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don’t think the randomised block is too much of an issue. When I was adding higher data I got this too, but didn’t cause any problems so I just ignored it.</p>
<p>The out of bounds exception on the other hand, well it looks like your models haven’t been added correctly if you’re still getting that error. Make sure your models are being read properly. I had an issue where even though the models were cache packed, it was only reading up to a certain amount of objects and ignoring the new data that I had added.</p>
      </div>

      <meta itemprop='headline' content='Packing 508 maps/models into Caceh Crashes Client!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/de_dust89.html'><span itemprop='name'>de_dust89</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-01-18T13:37:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:14:27Z' class='post-time'>
              August 4, 2016,  5:14pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“X-J-K-X, post:2, topic:554457”]I don’t think the randomised block is too much of an issue. When I was adding higher data I got this too, but didn’t cause any problems so I just ignored it.</p>
<p>The out of bounds exception on the other hand, well it looks like your models haven’t been added correctly if you’re still getting that error. Make sure your models are being read properly. I had an issue where even though the models were cache packed, it was only reading up to a certain amount of objects and ignoring the new data that I had added.[/quote]</p>
<p>I have literally done so much back and forth that I can’t even remember the steps anymore… I’m so lost now. I just deleted everything opened up my backup clientfiles and I’m trying to restart but I always mess up once It gets to the cache packing part… Can you help me out on that part because that’s the part that gives me the errors.</p>
      </div>

      <meta itemprop='headline' content='Packing 508 maps/models into Caceh Crashes Client!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/X-J-K-X.html'><span itemprop='name'>X-J-K-X</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-01-18T13:54:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:14:27Z' class='post-time'>
              August 4, 2016,  5:14pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“de dust89, post:3, topic:554457”][quote author=X-J-K-X link=topic=673381.msg4502668#msg4502668 date=1453119554]<br>
I don’t think the randomised block is too much of an issue. When I was adding higher data I got this too, but didn’t cause any problems so I just ignored it.</p>
<p>The out of bounds exception on the other hand, well it looks like your models haven’t been added correctly if you’re still getting that error. Make sure your models are being read properly. I had an issue where even though the models were cache packed, it was only reading up to a certain amount of objects and ignoring the new data that I had added.<br>
[/quote]</p>
<p>I have literally done so much back and forth that I can’t even remember the steps anymore… I’m so lost now. I just deleted everything opened up my backup clientfiles and I’m trying to restart but I always mess up once It gets to the cache packing part… Can you help me out on that part because that’s the part that gives me the errors.[/quote]</p>
<p>There are some snippets around that actually cache pack the data for you. I think you’ll find them on r-s.</p>
<p>Also remember my last post, just because you pack them, doesn’t mean your client will automatically use them. You need to make sure your client is reading the extra models you’re adding.</p>
      </div>

      <meta itemprop='headline' content='Packing 508 maps/models into Caceh Crashes Client!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/de_dust89.html'><span itemprop='name'>de_dust89</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-01-18T13:56:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:14:28Z' class='post-time'>
              August 4, 2016,  5:14pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“X-J-K-X, post:4, topic:554457”][quote author=de dust89 link=topic=673381.msg4502672#msg4502672 date=1453124246]</p>
<aside class="quote">
<blockquote>
<p>I don’t think the randomised block is too much of an issue. When I was adding higher data I got this too, but didn’t cause any problems so I just ignored it.</p>
<p>The out of bounds exception on the other hand, well it looks like your models haven’t been added correctly if you’re still getting that error. Make sure your models are being read properly. I had an issue where even though the models were cache packed, it was only reading up to a certain amount of objects and ignoring the new data that I had added.</p>
</blockquote>
</aside>
<p>I have literally done so much back and forth that I can’t even remember the steps anymore… I’m so lost now. I just deleted everything opened up my backup clientfiles and I’m trying to restart but I always mess up once It gets to the cache packing part… Can you help me out on that part because that’s the part that gives me the errors.<br>
[/quote]</p>
<p>There are some snippets around that actually cache pack the data for you. I think you’ll find them on r-s.</p>
<p>Also remember my last post, just because you pack them, doesn’t mean your client will automatically use them. You need to make sure your client is reading the extra models you’re adding.[/quote]</p>
<p>Well I’m I am following tutorials, and I the furthest I have reached is loading the models but everything is black, and I read some comments related to that and they say I need to include the objects and flo.dat, ect. and when I do that I get that same error again…</p>
<p>I also have read that I needed to change my model header and I did that as well, but that still didn’t work =/</p>
<p>can you add me on skype? previn.savaya</p>
<p>update: anyone!!</p>
<p>update: please?!?!</p>
<p>update: Someone???</p>
<p>Update: So no one knows how to do this now?</p>
<p>WTF!!</p>
      </div>

      <meta itemprop='headline' content='Packing 508 maps/models into Caceh Crashes Client!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/previn.html'><span itemprop='name'>previn</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-01-27T07:57:46Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:16:55Z' class='post-time'>
              August 4, 2016,  5:16pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>bump</p>
      </div>

      <meta itemprop='headline' content='Packing 508 maps/models into Caceh Crashes Client!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/1210saad.html'><span itemprop='name'>1210saad</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-02-01T18:33:44Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:17:19Z' class='post-time'>
              August 4, 2016,  5:17pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>For me some of the maps load but are really glitchy while others don’t and i get T3 error. <div class="lightbox-wrapper"><a class="lightbox" href="https://i.gyazo.com/80d11e9f7673533affc92c7e7b6a341c.png" title="80d11e9f7673533affc92c7e7b6a341c.png" rel="nofollow noopener"><img src="https://i.gyazo.com/80d11e9f7673533affc92c7e7b6a341c.png" alt width="690" height="343"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">80d11e9f7673533affc92c7e7b6a341c.png</span><span class="informations">967×481</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
      </div>

      <meta itemprop='headline' content='Packing 508 maps/models into Caceh Crashes Client!'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/packing-508-maps-models-into-caceh-crashes-client/554457 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:09 GMT -->
</html>
