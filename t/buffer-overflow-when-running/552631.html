<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/buffer-overflow-when-running/552631 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Buffer Overflow when running - Game Development - moparisthebest.com</title>
    <meta name="description" content="Recently I have downloaded the insanityX server and maiestas client and tried to connect them. But now when I run I get Buffer Overflow error:  

 Exception in thread &amp;quot;Thread-3&amp;quot; java.lang.RuntimeException: buffer overflo&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="552631.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Buffer Overflow when running&#39;" href="552631.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/buffer-overflow-when-running/552631" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/buffer-overflow-when-running/552631" />
<meta property="og:title" content="Buffer Overflow when running" />
<meta name="twitter:title" content="Buffer Overflow when running" />
<meta property="og:description" content="Recently I have downloaded the insanityX server and maiestas client and tried to connect them.  But now when I run I get Buffer Overflow error:  Exception in thread &quot;Thread-3&quot; java.lang.RuntimeException: buffer overflow! 	at OnDemandFetcher.getNextNode(OnDemandFetcher.java:399) 	at Client.processOnDemandQueue(Client.java:12590) 	at Client.processGameLoop(Client.java:12051) 	at RSApplet.run(RSApplet.java:182) 	at Client.run(Client.java:14353) 	at java.lang.Thread.run(Unknown Source)  This is my O..." />
<meta name="twitter:description" content="Recently I have downloaded the insanityX server and maiestas client and tried to connect them.  But now when I run I get Buffer Overflow error:  Exception in thread &quot;Thread-3&quot; java.lang.RuntimeException: buffer overflow! 	at OnDemandFetcher.getNextNode(OnDemandFetcher.java:399) 	at Client.processOnDemandQueue(Client.java:12590) 	at Client.processGameLoop(Client.java:12051) 	at RSApplet.run(RSApplet.java:182) 	at Client.run(Client.java:14353) 	at java.lang.Thread.run(Unknown Source)  This is my O..." />
<meta property="article:published_time" content="2015-07-25T12:15:27+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="552631.html">Buffer Overflow when running</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming/game-development.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Game Development</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xX4m4zingXx.html'><span itemprop='name'>xX4m4zingXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-25T12:15:27Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:28Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Recently I have downloaded the insanityX server and maiestas client and tried to connect them.<br>
But now when I run I get Buffer Overflow error:</p>
<p><code>Exception in thread "Thread-3" java.lang.RuntimeException: buffer overflow!
	at OnDemandFetcher.getNextNode(OnDemandFetcher.java:399)
	at Client.processOnDemandQueue(Client.java:12590)
	at Client.processGameLoop(Client.java:12051)
	at RSApplet.run(RSApplet.java:182)
	at Client.run(Client.java:14353)
	at java.lang.Thread.run(Unknown Source)</code><br>
This is my OnDemandFetcher.java:</p>
<p>[CODE]// Decompiled by Jad v1.5.8f. Copyright 2001 Pavel Kouznetsov.<br>
// Jad home page: <a href="http://www.kpdus.com/jad.html" rel="nofollow noopener">http://www.kpdus.com/jad.html</a><br>
// Decompiler options: packimports(3)</p>
<p>import <a href="http://java.io/" rel="nofollow noopener">java.io</a>.*;<br>
import java.net.Socket;<br>
import java.util.zip.CRC32;<br>
import java.util.zip.GZIPInputStream;</p>
<p>public final class OnDemandFetcher extends OnDemandFetcherParent<br>
implements Runnable<br>
{</p>
<pre><code>private void readData()  {
	try {
		int j = inputStream.available();
		if(expectedSize == 0 &amp;&amp; j &gt;= 6)
		{
		waiting = true;
		for(int k = 0; k &lt; 6; k += inputStream.read(ioBuffer, k, 6 - k));
		int l = ioBuffer[0] &amp; 0xff;
		int j1 = ((ioBuffer[1] &amp; 0xff) &lt;&lt; 8) + (ioBuffer[2] &amp; 0xff);
		int l1 = ((ioBuffer[3] &amp; 0xff) &lt;&lt; 8) + (ioBuffer[4] &amp; 0xff);
		int i2 = ioBuffer[5] &amp; 0xff;
		current = null;
		for(OnDemandData onDemandData = (OnDemandData) requested.reverseGetFirst(); onDemandData != null; onDemandData = (OnDemandData) requested.reverseGetNext())
		{
			if(onDemandData.dataType == l &amp;&amp; onDemandData.ID == j1)
			current = onDemandData;
			if(current != null)
			onDemandData.loopCycle = 0;
		}

		if(current != null)
		{
			loopCycle = 0;
			if(l1 == 0)
			{
			Signlink.reporterror("Rej: " + l + "," + j1);
			current.buffer = null;
			if(current.incomplete)
				synchronized(aClass19_1358)
				{
				aClass19_1358.insertHead(current);
				}
			else
				current.unlink();
			current = null;
			} else
			{
			if(current.buffer == null &amp;&amp; i2 == 0)
				current.buffer = new byte[l1];
			if(current.buffer == null &amp;&amp; i2 != 0)
				throw new IOException("missing start of file");
			}
		}
		completedSize = i2 * 500;
		expectedSize = 500;
		if(expectedSize &gt; l1 - i2 * 500)
			expectedSize = l1 - i2 * 500;
		}
		if(expectedSize &gt; 0 &amp;&amp; j &gt;= expectedSize)
		{
		waiting = true;
		byte abyte0[] = ioBuffer;
		int i1 = 0;
		if(current != null)
		{
			abyte0 = current.buffer;
			i1 = completedSize;
		}
		for(int k1 = 0; k1 &lt; expectedSize; k1 += inputStream.read(abyte0, k1 + i1, expectedSize - k1));
		if(expectedSize + completedSize &gt;= abyte0.length &amp;&amp; current != null)
		{
			if(clientInstance.decompressors[0] != null)
			clientInstance.decompressors[current.dataType + 1].method234(abyte0.length, abyte0, current.ID);
			if(!current.incomplete &amp;&amp; current.dataType == 3)
			{
			current.incomplete = true;
			current.dataType = 93;
			}
			if(current.incomplete)
			synchronized(aClass19_1358)
			{
				aClass19_1358.insertHead(current);
			}
			else
			current.unlink();
		}
		expectedSize = 0;
		}
	}
	catch(IOException ioexception) {
		try {
			socket.close();
		} catch(Exception _ex) {
		}
		socket = null;
		inputStream = null;
		outputStream = null;
		expectedSize = 0;
	}
}

public int mapAmount = 0;

public void start(StreamLoader streamLoader, Client client1)
{
    byte[] abyte2 = streamLoader.getDataForName("map_index");
    Stream stream2 = new Stream(abyte2);
    int j1 = abyte2.length / 6;
    mapIndices1 = new int[j1];
    mapIndices2 = new int[j1];
    mapIndices3 = new int[j1];
    for(int i2 = 0; i2 &lt; j1; i2++)
    {
        mapIndices1[i2] = stream2.readUnsignedWord();
        mapIndices2[i2] = stream2.readUnsignedWord();
        mapIndices3[i2] = stream2.readUnsignedWord();
        mapAmount++;
    }
    System.out.println("Maps Loaded: "+mapAmount+"");
    abyte2 = streamLoader.getDataForName("midi_index");
    stream2 = new Stream(abyte2);
    j1 = abyte2.length;
    anIntArray1348 = new int[j1];
    for(int k2 = 0; k2 &lt; j1; k2++)
        anIntArray1348[k2] = stream2.readUnsignedByte();

    clientInstance = client1;
    running = true;
    clientInstance.startRunnable(this, 2);
}

public int getNodeCount()
{
synchronized(nodeSubList)
{
    return nodeSubList.getNodeCount();
}
}

public void disable()
{
running = false;
}

public void method554(boolean flag)
{
int j = mapIndices1.length;
for(int k = 0; k &lt; j; k++)
    if(flag || mapIndices4[k] != 0)
    {
	method563((byte)2, 3, mapIndices3[k]);
	method563((byte)2, 3, mapIndices2[k]);
    }

}

public int getVersionCount(int j)
{
return versions[j].length;
}

private void closeRequest(OnDemandData onDemandData)
{
try
{
    if(socket == null)
    {
	long l = System.currentTimeMillis();
	if(l - openSocketTime &lt; 4000L)
	    return;
	openSocketTime = l;
	socket = clientInstance.openSocket(43594 + Client.portOff);
	inputStream = socket.getInputStream();
	outputStream = socket.getOutputStream();
	outputStream.write(15);
	for(int j = 0; j &lt; 8; j++)
	    inputStream.read();

	loopCycle = 0;
    }
    ioBuffer[0] = (byte)onDemandData.dataType;
    ioBuffer[1] = (byte)(onDemandData.ID &gt;&gt; 8);
    ioBuffer[2] = (byte)onDemandData.ID;
    if(onDemandData.incomplete)
	ioBuffer[3] = 2;
    else
    if(!clientInstance.loggedIn)
	ioBuffer[3] = 1;
    else
	ioBuffer[3] = 0;
    outputStream.write(ioBuffer, 0, 4);
    writeLoopCycle = 0;
    anInt1349 = -10000;
    return;
}
catch(IOException ioexception) { }
try
{
    socket.close();
}
catch(Exception _ex) { }
socket = null;
inputStream = null;
outputStream = null;
expectedSize = 0;
anInt1349++;
}

public int getAnimCount()
{
//return anIntArray1360.length;
return 65535;
}

public int getModelCount() {
	return 65535;
}

public void method558(int i, int j)
{
//if(i &lt; 0 || i &gt; versions.length || j &lt; 0 || j &gt; versions[i].length)
    //return;
//if(versions[i][j] == 0)
    //return;
synchronized(nodeSubList)
{
    for(OnDemandData onDemandData = (OnDemandData) nodeSubList.reverseGetFirst(); onDemandData != null; onDemandData = (OnDemandData) nodeSubList.reverseGetNext())
	if(onDemandData.dataType == i &amp;&amp; onDemandData.ID == j)
	    return;

    OnDemandData onDemandData_1 = new OnDemandData();
    onDemandData_1.dataType = i;
    onDemandData_1.ID = j;
    onDemandData_1.incomplete = true;
    synchronized(aClass19_1370)
    {
	aClass19_1370.insertHead(onDemandData_1);
    }
    nodeSubList.insertHead(onDemandData_1);
}
}

public int getModelIndex(int i)
{
//return modelIndices[i] &amp; 0xff;
return 65535;
}

public void run()
{
try
{
    while(running)
    {
	onDemandCycle++;
	int i = 20;
	if(anInt1332 == 0 &amp;&amp; clientInstance.decompressors[0] != null)
	    i = 50;
	try
	{
	    Thread.sleep(i);
	}
	catch(Exception _ex) { }
	waiting = true;
	for(int j = 0; j &lt; 100; j++)
	{
	    if(!waiting)
		break;
	    waiting = false;
	    checkReceived();
	    //handleFailed();
	    if(uncompletedCount == 0 &amp;&amp; j &gt;= 5)
		break;
	    method568();
	    if(inputStream != null)
		readData();
	}

	boolean flag = false;
	for(OnDemandData onDemandData = (OnDemandData) requested.reverseGetFirst(); onDemandData != null; onDemandData = (OnDemandData) requested.reverseGetNext())
	    if(onDemandData.incomplete)
	    {
		flag = true;
		onDemandData.loopCycle++;
		if(onDemandData.loopCycle &gt; 50)
		{
		    onDemandData.loopCycle = 0;
		    closeRequest(onDemandData);
		}
	    }

	if(!flag)
	{
	    for(OnDemandData onDemandData_1 = (OnDemandData) requested.reverseGetFirst(); onDemandData_1 != null; onDemandData_1 = (OnDemandData) requested.reverseGetNext())
	    {
		flag = true;
		onDemandData_1.loopCycle++;
		if(onDemandData_1.loopCycle &gt; 50)
		{
		    onDemandData_1.loopCycle = 0;
		    closeRequest(onDemandData_1);
		}
	    }

	}
	if(flag)
	{
	    loopCycle++;
	    if(loopCycle &gt; 750)
	    {
		try
		{
		    socket.close();
		}
		catch(Exception _ex) { }
		socket = null;
		inputStream = null;
		outputStream = null;
		expectedSize = 0;
	    }
	} else
	{
	    loopCycle = 0;
	    statusString = "";
	}
	if(clientInstance.loggedIn &amp;&amp; socket != null &amp;&amp; outputStream != null &amp;&amp; (anInt1332 &gt; 0 || clientInstance.decompressors[0] == null))
	{
	    writeLoopCycle++;
	    if(writeLoopCycle &gt; 500)
	    {
		writeLoopCycle = 0;
		ioBuffer[0] = 0;
		ioBuffer[1] = 0;
		ioBuffer[2] = 0;
		ioBuffer[3] = 10;
		try
		{
		    outputStream.write(ioBuffer, 0, 4);
		}
		catch(IOException _ex)
		{
		    loopCycle = 5000;
		}
	    }
	}
    }
}
catch(Exception exception)
{
    Signlink.reporterror("od_ex " + exception.getMessage());
}
}

public void method560(int i, int j)
{
if(clientInstance.decompressors[0] == null)
    return;
//if(versions[j][i] == 0)
    //return;
//if(fileStatus[j][i] == 0)
  //  return;
if(anInt1332 == 0)
    return;
OnDemandData onDemandData = new OnDemandData();
onDemandData.dataType = j;
onDemandData.ID = i;
onDemandData.incomplete = false;
synchronized(aClass19_1344)
{
    aClass19_1344.insertHead(onDemandData);
}
}

public OnDemandData getNextNode()
{
OnDemandData onDemandData;
synchronized(aClass19_1358)
{
    onDemandData = (OnDemandData)aClass19_1358.popHead();
}
if(onDemandData == null)
    return null;
synchronized(nodeSubList)
{
    onDemandData.unlinkSub();
}
if(onDemandData.buffer == null)
    return onDemandData;
int i = 0;
try
{
    GZIPInputStream gzipinputstream = new GZIPInputStream(new ByteArrayInputStream(onDemandData.buffer));
    do
    {
	if(i == gzipInputBuffer.length)
	    throw new RuntimeException("buffer overflow!");
	int k = gzipinputstream.read(gzipInputBuffer, i, gzipInputBuffer.length - i);
	if(k == -1)
	    break;
	i += k;
    } while(true);
}
catch(IOException _ex)
{
    throw new RuntimeException("error unzipping");
}
onDemandData.buffer = new byte[i];
System.arraycopy(gzipInputBuffer, 0, onDemandData.buffer, 0, i);

return onDemandData;
}

public int method562(int i, int k, int l)
{
int i1 = (l &lt;&lt; 8) + k;
for(int j1 = 0; j1 &lt; mapIndices1.length; j1++)
    if(mapIndices1[j1] == i1)
	if(i == 0)
	    return mapIndices2[j1];
	else
	    return mapIndices3[j1];
return -1;
}

public void method548(int i)
{
method558(0, i);
}

public void method563(byte byte0, int i, int j)
{
if(clientInstance.decompressors[0] == null)
    return;
//if(versions[i][j] == 0)
    //return;
clientInstance.decompressors[i + 1].decompress(j);
//if(crcMatches(versions[i][j], crcs[i][j], abyte0))
//    return;
//fileStatus[i][j] = byte0;
if(byte0 &gt; anInt1332)
    anInt1332 = byte0;
totalFiles++;
}

public boolean method564(int i)
{
for(int k = 0; k &lt; mapIndices1.length; k++)
    if(mapIndices3[k] == i)
	return true;
return false;
}

@SuppressWarnings("unused")
private void handleFailed()
{
uncompletedCount = 0;
completedCount = 0;
for(OnDemandData onDemandData = (OnDemandData) requested.reverseGetFirst(); onDemandData != null; onDemandData = (OnDemandData) requested.reverseGetNext())
    if(onDemandData.incomplete)
	uncompletedCount++;
    else
	completedCount++;

while(uncompletedCount &lt; 10)
{
    OnDemandData onDemandData_1 = (OnDemandData)aClass19_1368.popHead();
    if(onDemandData_1 == null)
	break;
    if(fileStatus[onDemandData_1.dataType][onDemandData_1.ID] != 0)
	filesLoaded++;
    fileStatus[onDemandData_1.dataType][onDemandData_1.ID] = 0;
    requested.insertHead(onDemandData_1);
    uncompletedCount++;
    closeRequest(onDemandData_1);
    waiting = true;
}
}

public void method566()
{
synchronized(aClass19_1344)
{
    aClass19_1344.removeAll();
}
}

private void checkReceived()
{
OnDemandData onDemandData;
synchronized(aClass19_1370)
{
    onDemandData = (OnDemandData)aClass19_1370.popHead();
}
while(onDemandData != null)
{
    waiting = true;
    byte abyte0[] = null;
    if(clientInstance.decompressors[0] != null)
	abyte0 = clientInstance.decompressors[onDemandData.dataType + 1].decompress(onDemandData.ID);
    //if(!crcMatches(versions[onDemandData.dataType][onDemandData.ID], crcs[onDemandData.dataType][onDemandData.ID], abyte0))
    //    abyte0 = null;
    synchronized(aClass19_1370)
    {
	if(abyte0 == null)
	{
	    aClass19_1368.insertHead(onDemandData);
	} else
	{
	    onDemandData.buffer = abyte0;
	    synchronized(aClass19_1358)
	    {
		aClass19_1358.insertHead(onDemandData);
	    }
	}
	onDemandData = (OnDemandData)aClass19_1370.popHead();
    }
}
}

private void method568()
{
while(uncompletedCount == 0 &amp;&amp; completedCount &lt; 10)
{
    if(anInt1332 == 0)
	break;
    OnDemandData onDemandData;
    synchronized(aClass19_1344)
    {
	onDemandData = (OnDemandData)aClass19_1344.popHead();
    }
    while(onDemandData != null)
    {
	if(fileStatus[onDemandData.dataType][onDemandData.ID] != 0)
	{
	    fileStatus[onDemandData.dataType][onDemandData.ID] = 0;
	    requested.insertHead(onDemandData);
	    closeRequest(onDemandData);
	    waiting = true;
	    if(filesLoaded &lt; totalFiles)
		filesLoaded++;
	    statusString = "Loading extra files - " + (filesLoaded * 100) / totalFiles + "%";
	    completedCount++;
	    if(completedCount == 10)
		return;
	}
	synchronized(aClass19_1344)
	{
	    onDemandData = (OnDemandData)aClass19_1344.popHead();
	}
    }
    for(int j = 0; j &lt; 4; j++)
    {
	byte abyte0[] = fileStatus[j];
	int k = abyte0.length;
	for(int l = 0; l &lt; k; l++)
	    if(abyte0[l] == anInt1332)
	    {
		abyte0[l] = 0;
		OnDemandData onDemandData_1 = new OnDemandData();
		onDemandData_1.dataType = j;
		onDemandData_1.ID = l;
		onDemandData_1.incomplete = false;
		requested.insertHead(onDemandData_1);
		closeRequest(onDemandData_1);
		waiting = true;
		if(filesLoaded &lt; totalFiles)
		    filesLoaded++;
		statusString = "Loading extra files - " + (filesLoaded * 100) / totalFiles + "%";
		completedCount++;
		if(completedCount == 10)
		    return;
	    }

    }

    anInt1332--;
}
}

public boolean method569(int i)
{
return anIntArray1348[i] == 1;
}

public OnDemandFetcher()
{
requested = new NodeList();
statusString = "";
new CRC32();
ioBuffer = new byte[500];
fileStatus = new byte[4][];
aClass19_1344 = new NodeList();
running = true;
waiting = false;
aClass19_1358 = new NodeList();
gzipInputBuffer = new byte[999999];
nodeSubList = new NodeSubList();
versions = new int[4][];
aClass19_1368 = new NodeList();
aClass19_1370 = new NodeList();
}

private int totalFiles;
private final NodeList requested;
private int anInt1332;
public String statusString;
private int writeLoopCycle;
private long openSocketTime;
private int[] mapIndices3;
private final byte[] ioBuffer;
public int onDemandCycle;
private final byte[][] fileStatus;
private Client clientInstance;
private final NodeList aClass19_1344;
private int completedSize;
private int expectedSize;
private int[] anIntArray1348;
public int anInt1349;
private int[] mapIndices2;
private int filesLoaded;
private boolean running;
private OutputStream outputStream;
private int[] mapIndices4;
private boolean waiting;
private final NodeList aClass19_1358;
private final byte[] gzipInputBuffer;
private final NodeSubList nodeSubList;
private InputStream inputStream;
private Socket socket;
private final int[][] versions;
private int uncompletedCount;
private int completedCount;
private final NodeList aClass19_1368;
private OnDemandData current;
private final NodeList aClass19_1370;
private int[] mapIndices1;
private int loopCycle;
</code></pre>
<p>}<br>
[/CODE]</p>
      </div>

      <meta itemprop='headline' content='Buffer Overflow when running'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/my-swagger.html'><span itemprop='name'>my-swagger</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-25T15:25:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:30Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Probably not sending/receiving packets in the correct order. Is the client you using compatible with your source?</p>
      </div>

      <meta itemprop='headline' content='Buffer Overflow when running'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xX4m4zingXx.html'><span itemprop='name'>xX4m4zingXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-25T16:07:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:31Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well almost everything else is working and I am not sure why this is only happening with the run animation</p>
<p>[EDIT]The error comes when I run with a scimitar.</p>
      </div>

      <meta itemprop='headline' content='Buffer Overflow when running'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/my-swagger.html'><span itemprop='name'>my-swagger</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-25T19:16:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:33Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You’re not sending the correct data then.</p>
      </div>

      <meta itemprop='headline' content='Buffer Overflow when running'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xX4m4zingXx.html'><span itemprop='name'>xX4m4zingXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-25T19:18:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:33Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="552631">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/my-swagger/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> my-swagger:</div>
<blockquote>
<p>You’re not sending the correct data then.</p>
</blockquote>
</aside>
<p>I have found out that other animations aren’t working too, so I think I’m going to load older animations.</p>
      </div>

      <meta itemprop='headline' content='Buffer Overflow when running'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xx_matty_xx.html'><span itemprop='name'>xx_matty_xx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-25T21:59:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:35Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>pretty sure the contents of that onDemandData buffer are not gzipped, or even data from some other unrelated packets. it expects a -1 at the end of the buffer and gets to the end before reading it. i’m not sure if that’s just shit decompiled code though… in java you know the length of an array so can just stop looping before you get to the end.</p>
      </div>

      <meta itemprop='headline' content='Buffer Overflow when running'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xX4m4zingXx.html'><span itemprop='name'>xX4m4zingXx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-25T22:01:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:35Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="552631">
<div class="title">
<div class="quote-controls"></div>
 Justin Bieber:</div>
<blockquote>
<p>pretty sure the contents of that onDemandData buffer are not gzipped, or even data from some other unrelated packets. it expects a -1 at the end of the buffer and gets to the end before reading it. i’m not sure if that’s just shit decompiled code though… in java you know the length of an array so can just stop looping before you get to the end.</p>
</blockquote>
</aside>
<p>I have fixed the run animation, I just used another one and that worked.</p>
      </div>

      <meta itemprop='headline' content='Buffer Overflow when running'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/buffer-overflow-when-running/552631 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:18 GMT -->
</html>
