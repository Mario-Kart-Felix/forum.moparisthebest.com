<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/writing-a-server-from-scratch-need-to-know-some-things/137084 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Aug 2019 08:15:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Writing a server from scratch, need to know some things - Runescape - moparisthebest.com</title>
    <meta name="description" content="Oman, I need to know two things so I can start working on BeanServ. First of all, I need the login procedure, and second of all, how does one fill in and flush out an RSStream (stream.java). 

TY, io9`">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="137084.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Writing a server from scratch, need to know some things&#39;" href="137084.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/writing-a-server-from-scratch-need-to-know-some-things/137084" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/writing-a-server-from-scratch-need-to-know-some-things/137084" />
<meta property="og:title" content="Writing a server from scratch, need to know some things" />
<meta name="twitter:title" content="Writing a server from scratch, need to know some things" />
<meta property="og:description" content="Oman, I need to know two things so I can start working on BeanServ. First of all, I need the login procedure, and second of all, how does one fill in and flush out an RSStream (stream.java).  TY, io9`" />
<meta name="twitter:description" content="Oman, I need to know two things so I can start working on BeanServ. First of all, I need the login procedure, and second of all, how does one fill in and flush out an RSStream (stream.java).  TY, io9`" />
<meta property="article:published_time" content="2007-08-26T07:14:24+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="137084.html">Writing a server from scratch, need to know some things</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ilyaostr9.html'><span itemprop='name'>ilyaostr9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-26T07:14:24Z'>
            <time itemprop='dateModified' datetime='2016-07-30T14:04:30Z' class='post-time'>
              July 30, 2016,  2:04pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Oman, I need to know two things so I can start working on BeanServ. First of all, I need the login procedure, and second of all, how does one fill in and flush out an RSStream (stream.java).</p>
<p>TY, io9`</p>
      </div>

      <meta itemprop='headline' content='Writing a server from scratch, need to know some things'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/runescape3.html'><span itemprop='name'>runescape3</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-26T07:43:00Z'>
            <time itemprop='dateModified' datetime='2016-07-30T14:04:35Z' class='post-time'>
              July 30, 2016,  2:04pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>sorry no clue</p>
      </div>

      <meta itemprop='headline' content='Writing a server from scratch, need to know some things'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/owner_Ethan.html'><span itemprop='name'>owner_Ethan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-26T07:44:38Z'>
            <time itemprop='dateModified' datetime='2016-07-30T14:04:35Z' class='post-time'>
              July 30, 2016,  2:04pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>well if ur making server from scratch u shud no</p>
      </div>

      <meta itemprop='headline' content='Writing a server from scratch, need to know some things'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ilyaostr9.html'><span itemprop='name'>ilyaostr9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-26T18:53:05Z'>
            <time itemprop='dateModified' datetime='2016-07-30T14:05:28Z' class='post-time'>
              July 30, 2016,  2:05pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/ethan.html">@Ethan</a>:</p>
<p>Considering that I spend barely any time on P. Server’s, I wouldn’t know.</p>
      </div>

      <meta itemprop='headline' content='Writing a server from scratch, need to know some things'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/wales_00.html'><span itemprop='name'>wales_00</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-26T18:56:07Z'>
            <time itemprop='dateModified' datetime='2016-07-30T14:05:29Z' class='post-time'>
              July 30, 2016,  2:05pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>pahhh!<br>
lmao<br>
good luck!<br>
even tho u will never ever do it</p>
      </div>

      <meta itemprop='headline' content='Writing a server from scratch, need to know some things'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-26T19:04:38Z'>
            <time itemprop='dateModified' datetime='2016-07-30T14:05:29Z' class='post-time'>
              July 30, 2016,  2:05pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well like, I never even bothered with the whole flushing of the streams like RSStream.class does, I just reset the buffer by reading the new stream and writing to it when the time called for. I never had any troubles there either.</p>
<p>Here is my login procedure (I didn’t get much farther than this):</p>
<pre><code class="lang-auto">			Socket player = s;
			OutputStream out = player.getOutputStream();
			InputStream in = player.getInputStream();
			out.write(0);
			buffer = new byte[5000];
			in.read(buffer);
			//int uid = readDWord();
			String username = readString();
			String password = readString();
			int flagged = (int)buffer[offset++];
			int detail = (int)buffer[offset++];
			out.flush();
			System.out.println("Username: " + username + " - Password: " + password + " - Flagged: " + (flagged == 18 ? "true" : "false") + " - Detail: " + (detail == 0 ? "highmem" : "lowmem"));
			out.write(2);
			out.write(2);
			out.write(0);
			offset = 0;
			buffer = new byte[5000];</code></pre>
<p>That is with disabled RSA and ISAAC. But liek, I also took out a lot of stupid stuff like the long representing the username and the eight '0’s that are exchanged. There are a few other things I took out, but that code up there will bring you up to the login screen.</p>
      </div>

      <meta itemprop='headline' content='Writing a server from scratch, need to know some things'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ilyaostr9.html'><span itemprop='name'>ilyaostr9</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-27T02:18:23Z'>
            <time itemprop='dateModified' datetime='2016-07-30T14:06:42Z' class='post-time'>
              July 30, 2016,  2:06pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Mod Taharok, post:6, topic:137084”]Well like, I never even bothered with the whole flushing of the streams like RSStream.class does, I just reset the buffer by reading the new stream and writing to it when the time called for. I never had any troubles there either.</p>
<p>Here is my login procedure (I didn’t get much farther than this):</p>
<pre><code class="lang-auto">			Socket player = s;
			OutputStream out = player.getOutputStream();
			InputStream in = player.getInputStream();
			out.write(0);
			buffer = new byte[5000];
			in.read(buffer);
			//int uid = readDWord();
			String username = readString();
			String password = readString();
			int flagged = (int)buffer[offset++];
			int detail = (int)buffer[offset++];
			out.flush();
			System.out.println("Username: " + username + " - Password: " + password + " - Flagged: " + (flagged == 18 ? "true" : "false") + " - Detail: " + (detail == 0 ? "highmem" : "lowmem"));
			out.write(2);
			out.write(2);
			out.write(0);
			offset = 0;
			buffer = new byte[5000];</code></pre>
<p>That is with disabled RSA and ISAAC. But liek, I also took out a lot of stupid stuff like the long representing the username and the eight '0’s that are exchanged. There are a few other things I took out, but that code up there will bring you up to the login screen.[/quote]<br>
Heh, I just copy+pasted my login procedure from client.run() :P. but I need to know what happens after. Like, I got to the point where it’s like, sorta logged in (username in chatbox, but when you type something and press enter, your username appears as null in the chatbox, but main game screen and minimap are black) and it goes into a attempting to reestablish phase.[br][size=1]Posted on: August 26, 2007, 08:18:28 AM[/size][hr][quote=“Mod Taharok, post:6, topic:137084”]LOL TAHAROK POST[/quote]</p>
<p>hhhm, I’m thinking of a way to flush like this:<br>
add a [tt]clear()[/tt] method of void return type which contains:</p>
<p><code>    public void clear() {
        for(int i = 0; i == buffer.length(); i++)
            buffer[i] = null;
        setCurrentIndex(0);
    }</code></p>
<p>and make [tt]flushOutputStream()[/tt] look like this:</p>
<p><code>    public void flushOutputStream() throws IOException{
        dos.write(outStream.getBuffer(), 0, outStream.getBuffer().getCurrentIndex());
        dos.flush();
        outStream.clear();
    }</code></p>
<p>where [tt]outStream[/tt] is an RSStream which is for output, and </p><blockquote>dos</blockquote> is a [tt]new DataOutputStream(playerSocket.getOutputStream)();[/tt], where [tt]playerSocket[/tt] is self-explanatory <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:">
<p>man i love the [nobbc][tt][/tt][/nobbc] tags</p>
      </div>

      <meta itemprop='headline' content='Writing a server from scratch, need to know some things'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Legend1.html'><span itemprop='name'>Legend1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-27T02:21:20Z'>
            <time itemprop='dateModified' datetime='2016-07-30T14:06:43Z' class='post-time'>
              July 30, 2016,  2:06pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“wales 00, post:5, topic:137084”]pahhh!<br>
lmao<br>
good luck!<br>
even tho u will never ever do it[/quote]</p>
<p>Don’t you have some leeching to do or creating piece of shit server.</p>
      </div>

      <meta itemprop='headline' content='Writing a server from scratch, need to know some things'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/writing-a-server-from-scratch-need-to-know-some-things/137084 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Aug 2019 08:15:38 GMT -->
</html>
