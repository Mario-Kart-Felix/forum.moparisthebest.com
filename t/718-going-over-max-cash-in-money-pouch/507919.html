<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/718-going-over-max-cash-in-money-pouch/507919 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 05:29:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>718 going over max cash in money pouch - Runescape - moparisthebest.com</title>
    <meta name="description" content="I need some help with my money pouch. Whenever a player goes over the max cash limit in the pouch, the pouch goes blank and sets the coins back to zero when you withdraw one.  

Here is my moneypouch.java in the player/c&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="507919.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;718 going over max cash in money pouch&#39;" href="507919.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/718-going-over-max-cash-in-money-pouch/507919" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/718-going-over-max-cash-in-money-pouch/507919" />
<meta property="og:title" content="718 going over max cash in money pouch" />
<meta name="twitter:title" content="718 going over max cash in money pouch" />
<meta property="og:description" content="I need some help with my money pouch. Whenever a player goes over the max cash limit in the pouch, the pouch goes blank and sets the coins back to zero when you withdraw one.  Here is my moneypouch.java in the player/content  [code]package com.rs.game.player.content;  import java.io.Serializable;  import java.text.DecimalFormat;  import java.text.NumberFormat;  import com.rs.game.player.Player;  public class MoneyPouch implements Serializable {  private static final long serialVersionUID = -3847..." />
<meta name="twitter:description" content="I need some help with my money pouch. Whenever a player goes over the max cash limit in the pouch, the pouch goes blank and sets the coins back to zero when you withdraw one.  Here is my moneypouch.java in the player/content  [code]package com.rs.game.player.content;  import java.io.Serializable;  import java.text.DecimalFormat;  import java.text.NumberFormat;  import com.rs.game.player.Player;  public class MoneyPouch implements Serializable {  private static final long serialVersionUID = -3847..." />
<meta property="article:published_time" content="2013-03-14T21:53:37+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="507919.html">718 going over max cash in money pouch</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k0ed_ur_mom.html'><span itemprop='name'>k0ed_ur_mom</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-03-14T21:53:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T05:47:23Z' class='post-time'>
              August 4, 2016,  5:47am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I need some help with my money pouch. Whenever a player goes over the max cash limit in the pouch, the pouch goes blank and sets the coins back to zero when you withdraw one.</p>
<p>Here is my moneypouch.java in the player/content</p>
<p>[code]package com.rs.game.player.content;</p>
<p>import java.io.Serializable;<br>
import java.text.DecimalFormat;<br>
import java.text.NumberFormat;</p>
<p>import com.rs.game.player.Player;</p>
<p>public class MoneyPouch implements Serializable {</p>
<pre><code>private static final long serialVersionUID = -3847090682601697992L;

private transient Player player;
private boolean usingPouch;

public MoneyPouch(Player player) {
	this.player = player;
}

public void switchPouch() {
	usingPouch = !usingPouch;
	player.getPackets().sendRunScript(5557, 1);
	player.getPackets().sendRunScript(5560, player.coinAmount);
}

private void refresh(boolean swap) {
	player.getPackets().sendRunScript(5557, 0);
	player.getPackets().sendRunScript(5560, player.coinAmount);
}

private String getFormattedNumber(int amount) {
	return new DecimalFormat("#,###,##0").format(amount).toString();
}

public void sendExamine() {
	player.getPackets().sendGameMessage(
			"Your money pouch current contains "
					+ getFormattedNumber(player.coinAmount) + " Coins.");
}

public void addMoney(int coinAmount, int addedAmount, boolean trade,
		boolean shop) {
	@SuppressWarnings("unused")
	int poo = (player.coinAmount + coinAmount);
	if (player.coinAmount &gt;= Integer.MAX_VALUE) {
		player.getInventory().addItem(995,
				(coinAmount + player.coinAmount) - Integer.MAX_VALUE);
	} else {
		if (shop || trade) {
			player.coinAmount += coinAmount;
		} else {
			player.coinAmount += coinAmount;
			player.getInventory().deleteItem(995, addedAmount);
		}
		player.getPackets().sendGameMessage(
				(coinAmount == 1 ? "One" : NumberFormat
						.getIntegerInstance().format(coinAmount))
						+ " coin"
						+ (coinAmount == 1 ? "" : "s")
						+ " "
						+ (coinAmount == 1 ? "has" : "have")
						+ " been added to your money pouch.");
		player.getPackets().sendRunScript(5561, 1, addedAmount);
		refresh(false);
	}
}

public void removeMoney(int coinAmount, int removedAmount, boolean trade,
		boolean shop) {
	if (shop) {
		if (coinAmount &gt; player.coinAmount) {
			player.sm("You don't have that many Coins in your Money Pouch.");
			return;
		}
		player.coinAmount -= coinAmount;
	} else if (trade) {
		player.coinAmount -= coinAmount;
	} else {
		if (coinAmount &gt; player.coinAmount) {
			player.sm("You don't have that many Coins in your Money Pouch.");
			return;
		}
		player.coinAmount -= coinAmount;
		player.getInventory().addItem(995, removedAmount);
	}
	player.getPackets().sendGameMessage(
			(coinAmount == 1 ? "One" : NumberFormat.getIntegerInstance()
					.format(coinAmount))
					+ " coin"
					+ (coinAmount == 1 ? "" : "s")
					+ " "
					+ (coinAmount == 1 ? "has" : "have")
					+ " been removed from your money pouch.");
	player.getPackets().sendRunScript(5561, 0, removedAmount);
	refresh(false);
}
</code></pre>
<p>}[/code]</p>
<p>and my moneypouch.java in my content/utils</p>
<p>[code]package com.rs.content.utils;</p>
<p>import java.text.DecimalFormat;</p>
<p>import com.rs.game.player.Player;</p>
<p>/**<br>
*<br>
*</p>
<ul>
<li>
<span class="mention">@author</span>: Adam</li>
<li>
</li>
</ul>
<p>*/</p>
<p>public class MoneyPouch {</p>
<pre><code>/**
 * 
 * Withdraw's the amount in the pouch.
 * @param player
 */



public static void withdraw(Player player) {
</code></pre>
<p>}</p>
<p>/**</p>
<ul>
<li>
<p>Add’s coins to pouch.</p>
</li>
<li>
<p><a class="mention" href="../../u/param.html">@param</a> player<br>
*/</p>
<p>public static void addToPouch(Player player) {<br>
int coins = player.getInventory().getNumerOf(995);<br>
if (coins + player.getCoins() &gt;= 2147000000) {<br>
player.out(“You’re money pouch is full.”);<br>
return;<br>
}<br>
player.setCoins(player.getCoins() + player.getInventory().getNumerOf(995));<br>
player.getInventory().containsOneItem(995);<br>
player.getInventory().deleteItem(995, 2147000000);<br>
player.out(getFormattedNumber(coins) + " coins have been added to your money pouch.");<br>
player. getPackets().sendRunScript(5561, 1, “n”, coins);<br>
player.getPackets().sendRunScript(5560, player.getCoins(), “n”);</p>
<p>}</p>
<p>/**</p>
<ul>
<li>
</li>
<li>
<a class="mention" href="../../u/param.html">@param</a> player<br>
*/</li>
</ul>
<p>public static void checkCoins(Player player){<br>
if (player.getCoins() &gt;= 2147000000) {<br>
player.out(“You’re money pouch is full.”);</p>
<pre><code> 	return;
 }
</code></pre>
<p>}</p>
<p>public static String getFormattedNumber(int amount) {<br>
return new DecimalFormat("#,###,#<span class="hashtag">#0</span>").format(amount).toString();<br>
}</p>
<p>/**</p>
<ul>
<li>5557 1 toggle<br>
5560 n set amount<br>
5561 1 n add amount popup + glow<br>
5561 0 n remove amount popup + glow<br>
Scripts.<br>
*/</li>
</ul>
</li>
</ul>
<p>}<br>
[/code]</p>
      </div>

      <meta itemprop='headline' content='718 going over max cash in money pouch'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Flame3.html'><span itemprop='name'>Flame3</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-03-15T01:41:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T05:47:40Z' class='post-time'>
              August 4, 2016,  5:47am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>                if (player.coinAmount &gt;= Integer.MAX_VALUE) {
                        player.getInventory().addItem(995,
                                        (coinAmount + player.coinAmount) - Integer.MAX_VALUE);</code><br>
Change this so that the money pouch just adds enough to reach Integer.MAX_VALUE, and leaves the rest in your inventory.</p>
      </div>

      <meta itemprop='headline' content='718 going over max cash in money pouch'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k0ed_ur_mom.html'><span itemprop='name'>k0ed_ur_mom</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-03-15T19:38:25Z'>
            <time itemprop='dateModified' datetime='2016-08-04T05:49:15Z' class='post-time'>
              August 4, 2016,  5:49am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>how do you suppose would be the best way to do that?</p>
      </div>

      <meta itemprop='headline' content='718 going over max cash in money pouch'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/718-going-over-max-cash-in-money-pouch/507919 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 05:29:42 GMT -->
</html>
