<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/java-appending-to-a-text-file/408641 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 13:44:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Java] Appending to a text file - General Programming - moparisthebest.com</title>
    <meta name="description" content="I&amp;#39;m trying to generate a list of scores for a game. I want to have the score be recorded in a text file and every time the program is run it just adds the score below the previous. This is the code I have: 

[code=java]p&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="408641.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Java] Appending to a text file&#39;" href="408641.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/java-appending-to-a-text-file/408641" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/java-appending-to-a-text-file/408641" />
<meta property="og:title" content="[Java] Appending to a text file" />
<meta name="twitter:title" content="[Java] Appending to a text file" />
<meta property="og:description" content="I’m trying to generate a list of scores for a game. I want to have the score be recorded in a text file and every time the program is run it just adds the score below the previous. This is the code I have:  [code=java]public void generateHighScoreList(int score) {      try {          PrintWriter hslWriter = new PrintWriter(list);         hslWriter.print(&quot;\nScore: &quot;);         hslWriter.print(score);         hslWriter.close();      } catch (Exception e) {          System.out.println(e);           ..." />
<meta name="twitter:description" content="I’m trying to generate a list of scores for a game. I want to have the score be recorded in a text file and every time the program is run it just adds the score below the previous. This is the code I have:  [code=java]public void generateHighScoreList(int score) {      try {          PrintWriter hslWriter = new PrintWriter(list);         hslWriter.print(&quot;\nScore: &quot;);         hslWriter.print(score);         hslWriter.close();      } catch (Exception e) {          System.out.println(e);           ..." />
<meta property="article:published_time" content="2011-08-07T03:29:35+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="408641.html">[Java] Appending to a text file</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sp11k3t3ht3rd.html'><span itemprop='name'>sp11k3t3ht3rd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-07T03:29:35Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:51:30Z' class='post-time'>
              August 1, 2016,  1:51pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m trying to generate a list of scores for a game. I want to have the score be recorded in a text file and every time the program is run it just adds the score below the previous. This is the code I have:</p>
<p>[code=java]public void generateHighScoreList(int score) {</p>
<pre><code>    try {

        PrintWriter hslWriter = new PrintWriter(list);
        hslWriter.print("\nScore: ");
        hslWriter.print(score);
        hslWriter.close();

    } catch (Exception e) {

        System.out.println(e);
        
    }

}[/code]
</code></pre>
<p>The problem is that every time the program is run the score gets overwritten so there is only one score in the text file. Any ideas?</p>
      </div>

      <meta itemprop='headline' content='[Java] Appending to a text file'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-07T03:39:57Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:51:31Z' class='post-time'>
              August 1, 2016,  1:51pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>FileWriter fileWriter = new FileWriter(list, true);</p>
<p>The true automatically sets it to append. I dont think there is a printwriter equiv, unless you want to waste time and convert it the output streams <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='[Java] Appending to a text file'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sp11k3t3ht3rd.html'><span itemprop='name'>sp11k3t3ht3rd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-07T03:51:03Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:51:32Z' class='post-time'>
              August 1, 2016,  1:51pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How can I make the text print out on the next line down? I’m using this code but I get this:</p>
<p>[code=java5]    public void generateHighScoreList(int score) {</p>
<pre><code>    String sScore = Integer.toString(score);

    try {

        FileWriter hslWriter = new FileWriter(list, true);
        hslWriter.write("\nScore: " + sScore + "\n\n\n\n\n");
        hslWriter.close();

    } catch (Exception e) {

        System.out.println(e);
        
    }

}[/code]
</code></pre>
<p>I just put a bunch of new lines because it wasn’t working.</p>
<blockquote>Score: 397Score: 397</blockquote>
<p>Also it looks like that in the text file but when I paste it here it looks like it should?</p>
<blockquote>Score: 397
<p>Score: 397</p>
</blockquote>
      </div>

      <meta itemprop='headline' content='[Java] Appending to a text file'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-07T03:53:02Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:51:32Z' class='post-time'>
              August 1, 2016,  1:51pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What text editor are you using to look at it?</p>
<p>If you want to try, you could do this:<br>
BufferedWriter fileWriter = new BufferedWriter(new FileWriter(list, true));<br>
and use<br>
fileWriter.newLine();</p>
      </div>

      <meta itemprop='headline' content='[Java] Appending to a text file'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sp11k3t3ht3rd.html'><span itemprop='name'>sp11k3t3ht3rd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-07T04:02:20Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:51:32Z' class='post-time'>
              August 1, 2016,  1:51pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I was just using notepad…</p>
<p>This works fine though.</p>
<p><code>BufferedWriter hslWriter = new BufferedWriter(new FileWriter(list, true));
hslWriter.write("Score: " + sScore);
hslWriter.newLine();
hslWriter.close();</code></p>
<p>Thanks!  <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>

      <meta itemprop='headline' content='[Java] Appending to a text file'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fat_Cookies.html'><span itemprop='name'>Fat_Cookies</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-08-07T09:31:39Z'>
            <time itemprop='dateModified' datetime='2016-08-01T13:51:46Z' class='post-time'>
              August 1, 2016,  1:51pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <pre><code class="lang-auto">package ircclient.irc;

import java.io.File;
import java.io.IOException;
import java.io.OutputStream;
import java.io.PrintStream;
import java.io.RandomAccessFile;
import java.util.Date;

/**
 *
 * @author fc
 */
public class Log {

    public PrintStream bw;

    public Log(String name, String chan) {
        try {
            File f = new File("networks/" + name + "/log/" + chan + ".txt");
            if (!f.exists()) {
                f.createNewFile();
            }

            bw = new PrintStream(new AppendFileStream("networks/" + name + "/log/" + chan + ".txt"));
        } catch (IOException ioe) {
            System.out.println("Error opening log.");
        }
    }

    public void writeLine(String in) throws IOException {
        bw.println(in);
        bw.flush();
    }

    public void writeLineTime(String in) throws IOException {
        Date d = new Date();
        String time = "[" + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds() + "] ";
        writeLine(time + in);
    }
}

class AppendFileStream extends OutputStream {

    RandomAccessFile fd;

    public AppendFileStream(String file) throws IOException {
        fd = new RandomAccessFile(file, "rw");
        fd.seek(fd.length());
    }

    @Override
    public void close() throws IOException {
        fd.close();
    }

    @Override
    public void write(byte[] b) throws IOException {
        fd.write(b);
    }

    @Override
    public void write(byte[] b, int off, int len) throws IOException {
        fd.write(b, off, len);
    }

    public void write(int b) throws IOException {
        fd.write(b);
    }
}</code></pre>
<p>That’s how I did it when logging chat with my irc client. Feel free to use it (it’s all open source anyway), obviously you’ll have to make some modifications to the Log constructor as it was written with the client in mind (which is a bad thing I know, but this is pretty old)</p>
      </div>

      <meta itemprop='headline' content='[Java] Appending to a text file'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/java-appending-to-a-text-file/408641 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 13:44:16 GMT -->
</html>
