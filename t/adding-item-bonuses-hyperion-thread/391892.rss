<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Adding item bonuses [hyperion thread]</title>
    <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892</link>
    <description>[center][b]Item bonuses[/b][/center]

[ul][li]You will be adding item bonuses too hyperion[/li]
[li]Difficulty: Low[/li][/ul]

[i]Introduction[/i]
Now I will be showing you the basics of adding item bonuses too hyperion, this isn&#39;t essential although it will help for when I show combat, skills and mini-games!
[b]Let&#39;s begin[/b]
First of all we need too add a new class in directory hyperion/rs2/model
Name this file &quot;Bonus.java&quot;
[code]package org.hyperion.rs2.model;

public class Bonus {

	private Player player;

	public Bonus(Player player) {
		this.player = player;
	}

	public String BonusName[] = {&quot;Stab&quot;, &quot;Slash&quot;, &quot;Crush&quot;, &quot;Magic&quot;, &quot;Range&quot;, &quot;Stab&quot;, &quot;Slash&quot;, &quot;Crush&quot;, &quot;Magic&quot;, &quot;Range&quot;, &quot;Strength&quot;, &quot;Prayer&quot;};

	public void setBonus() {
		for (int index = 0; index &lt; 13; index++) {
			if (player.getEquipment().get(index) == null)
				continue;
			for (int bonuses = 0; bonuses &lt; 12; bonuses++) {
				player.setBonuses(bonuses, player.getBonusList().get(bonuses) + ItemDefinition.forId(player.getEquipment().get(index).getId()).getBonuses()[bonuses]);
			}
		}
	}

	public void sendBonus() {
		int offset = 0;
		String send = &quot;&quot;;

		for (int i = 0; i &lt; 12; i++) {
			player.setBonuses(i, 0);
		}

		setBonus();
		for (int i = 0; i &lt; 12; i++) {
			if (player.getBonuses(i) &gt;= 0) {
				send = BonusName[i] + &quot;: +&quot; + player.getBonuses(i);
			} else {
				send = BonusName[i] + &quot;: -&quot; + Math.abs(player.getBonuses(i));
			}

			if (i == 10) {
				offset = 1;
			}
			player.getActionSender().sendString((1675 + i + offset), send);
		}
	}
}
[/code]
[i]Explanation[/i]
[code]	public String BonusName[] = {&quot;Stab&quot;, &quot;Slash&quot;, &quot;Crush&quot;, &quot;Magic&quot;, &quot;Range&quot;, &quot;Stab&quot;, &quot;Slash&quot;, &quot;Crush&quot;, &quot;Magic&quot;, &quot;Range&quot;, &quot;Strength&quot;, &quot;Prayer&quot;};[/code]
Now this should be fairly basic too most of you, but like always there will be people who can&#39;t understand.
This string is named [b]BonusName[/b] and consists of all the combat bonuses that are in Runescape 317 servers. 
[code]	public void setBonus() {
		for (int index = 0; index &lt; 13; index++) {
			if (player.getEquipment().get(index) == null)
				continue;
			for (int bonuses = 0; bonuses &lt; 12; bonuses++) {
				player.setBonuses(bonuses, player.getBonusList().get(bonuses) + ItemDefinition.forId(player.getEquipment().get(index).getId()).getBonuses()[bonuses]);
			}
		}
	}[/code]
This is a lot more complicated than previous tutorials, but if you read through the code you can get a brief understanding of what it is.
The void name is SetBonus(), and it calculates the bonus for each item you equip. If the item is &quot;null&quot; it will continue as normal without throwing any exception error, or errors.
[code]	public void sendBonus() {
		int offset = 0;
		String send = &quot;&quot;;

		for (int i = 0; i &lt; 12; i++) {
			player.setBonuses(i, 0);
		}

		setBonus();
		for (int i = 0; i &lt; 12; i++) {
			if (player.getBonuses(i) &gt;= 0) {
				send = BonusName[i] + &quot;: +&quot; + player.getBonuses(i);
			} else {
				send = BonusName[i] + &quot;: -&quot; + Math.abs(player.getBonuses(i));
			}

			if (i == 10) {
				offset = 1;
			}
			player.getActionSender().sendString((1675 + i + offset), send);
		}
	}
}[/code]
Now this method is what actually sets the item bonuses and display, as you can see the setBonus() method gets initialized here and when you equip an item the bonus will be shows by sending [code]player.getActionSender().sendString((1675 + i + offset), send);[/code]

[ul][li]Save as &quot;Bonuses.java&quot;[/li]
[li]Directory: hyperion/rs2/model[/li]
[li]Difficulty: low[/li][/ul]

[code]package org.hyperion.rs2.model;

import org.hyperion.rs2.model.container.Equipment;

public class Bonuses {

	public static final String[] BONUS_NAMES = new String[]{&quot;Stab&quot;, &quot;Slash&quot;, &quot;Crush&quot;, &quot;Magic&quot;, &quot;Range&quot;, &quot;Stab&quot;, &quot;Slash&quot;, &quot;Crush&quot;, &quot;Magic&quot;, &quot;Range&quot;, &quot;Strength&quot;, &quot;Prayer&quot;,};

	public static int ATKSTAB = 0, ATKSLASH = 1, ATKCRUSH = 2, MAGIC_ATTACK = 3, ATKRANGE = 4, DEFSTAB = 5, DEFSLASH = 6, DEFCRUSH = 7, MAGIC_DEFENCE = 8, DEFRANGE = 9, STRENGTH = 10, PRAYER = 11;

	public static final int SIZE = 12;

	private Player player;
	private int[] bonuses = new int[SIZE];

	public Bonuses(Player player) {
		this.player = player;
	}

	public void refresh() {
		for (int i = 0; i &lt; SIZE; i++) {
			bonuses[i] = 0;
		}
		for (int i = 0; i &lt; Equipment.SIZE; i++) {
			Item item = player.getEquipment().get(i);
			if (item != null) {
				for (int j = 0; j &lt; SIZE; j++) {
					bonuses[j] += item.getDefinition().getBonuses2(j);
				}
			}
		}
		player.getActionSender().sendBonus(bonuses);
	}
	/*
	 * public void sendBonus() { int id = 108; for(int i = 0; i &lt;
	 * (bonuses.length-1); i++) {
	 * player.getActionSender().sendString((Bonuses.BONUS_NAMES[i] + &quot;: &quot; +
	 * (bonuses[i] &gt; 0 ? &quot;+&quot; : &quot;&quot;) + bonuses[i]), 465, id++); if(i == 9) { id++;
	 * player.getActionSender().sendString((Bonuses.BONUS_NAMES[11] + &quot;: &quot; +
	 * (bonuses[11] &gt; 0 ? &quot;+&quot; : &quot;&quot;) + bonuses[11]), 465, id++); } if(i == 10) {
	 * id++; player.getActionSender().sendString((Bonuses.BONUS_NAMES[11] + &quot;: &quot;
	 * + (bonuses[11] &gt; 0 ? &quot;+&quot; : &quot;&quot;) + bonuses[11]), 465, id++); id = 120; } }
	 * }
	 */
	public int[] getBonuses() {
		return bonuses;
	}

	public int getBonus(int i) {
		return bonuses[i];
	}

}[/code]

Now too edit some existing files, open player.java and declare the following.
[code]	private Map&lt;Integer, Integer&gt; bonusList = new HashMap&lt;Integer, Integer&gt;();
	private Bonus bonus = new Bonus(this);[/code]
This is just a map for the equipment the player is wearing and a bonus of the player.
Now under 
[code]public Container getBank() {[/code] 
paste
[code]	public Bonus getBonus() {
		return bonus;
	}

	public int getBonuses(int id) {
		return bonusList.get(id);
	}

	public Map&lt;Integer, Integer&gt; getBonusList() {
		return bonusList;
	}[/code]
Now the first method gets the player&#39;s bonus, then returns the player&#39;s bonus.
The second method gets a certain bonus from the bonus list.
The third method is a map holding all the player&#39;s bonuses, so if you have more than one item equipped it will recognize them both. 

Last but not least, we need too add things in Itemdefinition.java 

Find
[code]public static void init() throws IOException {[/code]
Somewhere in this method you will see
[code]if(prices) {[/code]
add the following after 
[code]				int[] bonuses = new int[12];
				for (int index = 0; index &lt; 12; index++) {
					bonuses[index] = buffer.getShort();
				}[/code] 
Now find
[code]definitions[i] = new ItemDefinition(i, name, examine, noted, noteable, stackable, parentId, notedId, members, shop, highAlc, lowAlc);[/code]
and replace with
[code]definitions[i] = new ItemDefinition(i, name, examine, noted, noteable, stackable, parentId, notedId, members, shop, highAlc, lowAlc, bonuses);[/code]
[IMG]http://i53.tinypic.com/23uvbs6.png[/img]
[IMG]http://i54.tinypic.com/afegwg.png[/img]
Hope this has helped, give feedback and anything else I should add.</description>
    
    <lastBuildDate>Mon, 25 Apr 2011 11:54:41 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@MrMud MrMud]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mrmud">@MrMud</a> wrote:</p>
          <blockquote>
              <p>thanks, needed this</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/11</link>
        <pubDate>Mon, 25 Apr 2011 11:54:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-11</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@Ajdakiwii Ajdakiwii]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ajdakiwii">@Ajdakiwii</a> wrote:</p>
          <blockquote>
              <p>Nice job Kieren (i hope its right) <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/10</link>
        <pubDate>Sun, 24 Apr 2011 12:44:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-10</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@Saphire1 Saphire`]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/saphire1">@Saphire1</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="391892">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/loveandpower/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Loveandpower:</div>
<blockquote>
<p>Will test tonight and give feedback thank you for this.</p>
</blockquote>
</aside>
<p>Okay let me know if it all works fine.</p>
<aside class="quote" data-post="3" data-topic="391892">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/jaspertjeoo/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> jaspertjeoo:</div>
<blockquote>
<p>nice tut =o</p>
</blockquote>
</aside>
<p>Thank you.</p>
<aside class="quote quote-modified" data-post="4" data-topic="391892">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/mendorphins/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Mendorphins:</div>
<blockquote>
<p>When I finally go to use Hype. again I will remember this. I’ve got an idea, could I add this into my next Project Tools package for the Hyperion section? <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>Yes, go ahead.</p>
<aside class="quote" data-post="5" data-topic="391892">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/ddragonimp/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ddragonimp:</div>
<blockquote>
<p>You doing all these tutorials is making me consider hyperion.      Good job.</p>
</blockquote>
</aside>
<p>Once again, thank you.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/9</link>
        <pubDate>Sun, 24 Apr 2011 12:07:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-9</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@Mendorphins Mendorphins]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mendorphins">@Mendorphins</a> wrote:</p>
          <blockquote>
              <p>I must admit, I wrote a guide to set up Hyperion but I can’t even use it myself. :o</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/8</link>
        <pubDate>Sat, 23 Apr 2011 14:11:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-8</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@Ddragonimp Ddragonimp]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ddragonimp">@Ddragonimp</a> wrote:</p>
          <blockquote>
              <p>[quote=“Mendorphins, post:6, topic:391892”][quote author=Ddragonimp link=topic=489058.msg3577757#msg3577757 date=1303563145]<br>
You doing all these tutorials is making me consider hyperion.      Good job.<br>
[/quote]<br>
Considering your Delta infested signature I think you should. ;)[/quote]</p>
<p>i know its a better base but people are using Delta so i make guides for delta but totally willing to switch to hyperion with a good base but wont need a good base if these are being created <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> way to go sapphire</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/7</link>
        <pubDate>Sat, 23 Apr 2011 13:50:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-7</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@Mendorphins Mendorphins]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mendorphins">@Mendorphins</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="5" data-topic="391892">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/ddragonimp/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ddragonimp:</div>
<blockquote>
<p>You doing all these tutorials is making me consider hyperion.      Good job.</p>
</blockquote>
</aside>
<p>Considering your Delta infested signature I think you should. <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/6</link>
        <pubDate>Sat, 23 Apr 2011 13:42:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-6</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@Ddragonimp Ddragonimp]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ddragonimp">@Ddragonimp</a> wrote:</p>
          <blockquote>
              <p>You doing all these tutorials is making me consider hyperion.      Good job.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/5</link>
        <pubDate>Sat, 23 Apr 2011 12:52:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-5</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@Mendorphins Mendorphins]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mendorphins">@Mendorphins</a> wrote:</p>
          <blockquote>
              <p>When I finally go to use Hype. again I will remember this. I’ve got an idea, could I add this into my next Project Tools package for the Hyperion section? <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/4</link>
        <pubDate>Sat, 23 Apr 2011 12:12:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-4</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@jaspertjeoo jaspertjeoo]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jaspertjeoo">@jaspertjeoo</a> wrote:</p>
          <blockquote>
              <p>nice tut =o</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/3</link>
        <pubDate>Thu, 21 Apr 2011 14:31:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-3</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>Will test tonight and give feedback thank you for this.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/2</link>
        <pubDate>Thu, 21 Apr 2011 14:31:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-2</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
      <item>
        <title>Adding item bonuses [hyperion thread]</title>
        <dc:creator><![CDATA[@Saphire1 Saphire`]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/saphire1">@Saphire1</a> wrote:</p>
          <blockquote>
              <p>[center]<span class="bbcode-b">Item bonuses</span>[/center]</p>
<p>[ul][li]You will be adding item bonuses too hyperion[/li]<br>
[li]Difficulty: Low[/li][/ul]</p>
<p><span class="bbcode-i">Introduction</span><br>
Now I will be showing you the basics of adding item bonuses too hyperion, this isn’t essential although it will help for when I show combat, skills and mini-games!<br>
<span class="bbcode-b">Let’s begin</span><br>
First of all we need too add a new class in directory hyperion/rs2/model<br>
Name this file “Bonus.java”</p>
<p>[code]package org.hyperion.rs2.model;</p>
<p>public class Bonus {</p>
<pre><code>private Player player;

public Bonus(Player player) {
	this.player = player;
}

public String BonusName[] = {"Stab", "Slash", "Crush", "Magic", "Range", "Stab", "Slash", "Crush", "Magic", "Range", "Strength", "Prayer"};

public void setBonus() {
	for (int index = 0; index &lt; 13; index++) {
		if (player.getEquipment().get(index) == null)
			continue;
		for (int bonuses = 0; bonuses &lt; 12; bonuses++) {
			player.setBonuses(bonuses, player.getBonusList().get(bonuses) + ItemDefinition.forId(player.getEquipment().get(index).getId()).getBonuses()[bonuses]);
		}
	}
}

public void sendBonus() {
	int offset = 0;
	String send = "";

	for (int i = 0; i &lt; 12; i++) {
		player.setBonuses(i, 0);
	}

	setBonus();
	for (int i = 0; i &lt; 12; i++) {
		if (player.getBonuses(i) &gt;= 0) {
			send = BonusName[i] + ": +" + player.getBonuses(i);
		} else {
			send = BonusName[i] + ": -" + Math.abs(player.getBonuses(i));
		}

		if (i == 10) {
			offset = 1;
		}
		player.getActionSender().sendString((1675 + i + offset), send);
	}
}
</code></pre>
<p>}<br>
[/code]<br>
<span class="bbcode-i">Explanation</span></p>
<pre><code class="lang-auto">	public String BonusName[] = {"Stab", "Slash", "Crush", "Magic", "Range", "Stab", "Slash", "Crush", "Magic", "Range", "Strength", "Prayer"};</code></pre>
<p>Now this should be fairly basic too most of you, but like always there will be people who can’t understand.<br>
This string is named <span class="bbcode-b">BonusName</span> and consists of all the combat bonuses that are in Runescape 317 servers.</p>
<p><code>	public void setBonus() {
		for (int index = 0; index &lt; 13; index++) {
			if (player.getEquipment().get(index) == null)
				continue;
			for (int bonuses = 0; bonuses &lt; 12; bonuses++) {
				player.setBonuses(bonuses, player.getBonusList().get(bonuses) + ItemDefinition.forId(player.getEquipment().get(index).getId()).getBonuses()[bonuses]);
			}
		}
	}</code><br>
This is a lot more complicated than previous tutorials, but if you read through the code you can get a brief understanding of what it is.<br>
The void name is SetBonus(), and it calculates the bonus for each item you equip. If the item is “null” it will continue as normal without throwing any exception error, or errors.</p>
<p>[code]	public void sendBonus() {<br>
int offset = 0;<br>
String send = “”;</p>
<pre><code>	for (int i = 0; i &lt; 12; i++) {
		player.setBonuses(i, 0);
	}

	setBonus();
	for (int i = 0; i &lt; 12; i++) {
		if (player.getBonuses(i) &gt;= 0) {
			send = BonusName[i] + ": +" + player.getBonuses(i);
		} else {
			send = BonusName[i] + ": -" + Math.abs(player.getBonuses(i));
		}

		if (i == 10) {
			offset = 1;
		}
		player.getActionSender().sendString((1675 + i + offset), send);
	}
}
</code></pre>
<p>}[/code]<br>
Now this method is what actually sets the item bonuses and display, as you can see the setBonus() method gets initialized here and when you equip an item the bonus will be shows by sending <code>player.getActionSender().sendString((1675 + i + offset), send);</code></p>
<p>[ul][li]Save as “Bonuses.java”[/li]<br>
[li]Directory: hyperion/rs2/model[/li]<br>
[li]Difficulty: low[/li][/ul]</p>
<p>[code]package org.hyperion.rs2.model;</p>
<p>import org.hyperion.rs2.model.container.Equipment;</p>
<p>public class Bonuses {</p>
<pre><code>public static final String[] BONUS_NAMES = new String[]{"Stab", "Slash", "Crush", "Magic", "Range", "Stab", "Slash", "Crush", "Magic", "Range", "Strength", "Prayer",};

public static int ATKSTAB = 0, ATKSLASH = 1, ATKCRUSH = 2, MAGIC_ATTACK = 3, ATKRANGE = 4, DEFSTAB = 5, DEFSLASH = 6, DEFCRUSH = 7, MAGIC_DEFENCE = 8, DEFRANGE = 9, STRENGTH = 10, PRAYER = 11;

public static final int SIZE = 12;

private Player player;
private int[] bonuses = new int[SIZE];

public Bonuses(Player player) {
	this.player = player;
}

public void refresh() {
	for (int i = 0; i &lt; SIZE; i++) {
		bonuses[i] = 0;
	}
	for (int i = 0; i &lt; Equipment.SIZE; i++) {
		Item item = player.getEquipment().get(i);
		if (item != null) {
			for (int j = 0; j &lt; SIZE; j++) {
				bonuses[j] += item.getDefinition().getBonuses2(j);
			}
		}
	}
	player.getActionSender().sendBonus(bonuses);
}
/*
 * public void sendBonus() { int id = 108; for(int i = 0; i &lt;
 * (bonuses.length-1); i++) {
 * player.getActionSender().sendString((Bonuses.BONUS_NAMES[i] + ": " +
 * (bonuses[i] &gt; 0 ? "+" : "") + bonuses[i]), 465, id++); if(i == 9) { id++;
 * player.getActionSender().sendString((Bonuses.BONUS_NAMES[11] + ": " +
 * (bonuses[11] &gt; 0 ? "+" : "") + bonuses[11]), 465, id++); } if(i == 10) {
 * id++; player.getActionSender().sendString((Bonuses.BONUS_NAMES[11] + ": "
 * + (bonuses[11] &gt; 0 ? "+" : "") + bonuses[11]), 465, id++); id = 120; } }
 * }
 */
public int[] getBonuses() {
	return bonuses;
}

public int getBonus(int i) {
	return bonuses[i];
}
</code></pre>
<p>}[/code]</p>
<p>Now too edit some existing files, open player.java and declare the following.</p>
<p><code>	private Map&lt;Integer, Integer&gt; bonusList = new HashMap&lt;Integer, Integer&gt;();
	private Bonus bonus = new Bonus(this);</code><br>
This is just a map for the equipment the player is wearing and a bonus of the player.<br>
Now under</p>
<pre><code class="lang-auto">public Container getBank() {</code></pre>
<p>paste</p>
<p>[code]	public Bonus getBonus() {<br>
return bonus;<br>
}</p>
<pre><code>public int getBonuses(int id) {
	return bonusList.get(id);
}

public Map&lt;Integer, Integer&gt; getBonusList() {
	return bonusList;
}[/code]
</code></pre>
<p>Now the first method gets the player’s bonus, then returns the player’s bonus.<br>
The second method gets a certain bonus from the bonus list.<br>
The third method is a map holding all the player’s bonuses, so if you have more than one item equipped it will recognize them both.</p>
<p>Last but not least, we need too add things in Itemdefinition.java</p>
<p>Find</p>
<pre><code class="lang-auto">public static void init() throws IOException {</code></pre>
<p>Somewhere in this method you will see</p>
<pre><code class="lang-auto">if(prices) {</code></pre>
<p>add the following after</p>
<p><code>				int[] bonuses = new int[12];
				for (int index = 0; index &lt; 12; index++) {
					bonuses[index] = buffer.getShort();
				}</code><br>
Now find</p>
<pre><code class="lang-auto">definitions[i] = new ItemDefinition(i, name, examine, noted, noteable, stackable, parentId, notedId, members, shop, highAlc, lowAlc);</code></pre>
<p>and replace with</p>
<pre><code class="lang-auto">definitions[i] = new ItemDefinition(i, name, examine, noted, noteable, stackable, parentId, notedId, members, shop, highAlc, lowAlc, bonuses);</code></pre>
<p><div class="lightbox-wrapper"><a class="lightbox" href="http://i53.tinypic.com/23uvbs6.png" title="23uvbs6.png" rel="nofollow noopener"><img src="http://i53.tinypic.com/23uvbs6.png" alt width="246" height="500"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">23uvbs6.png</span><span class="informations">247×502</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
<img src="http://i54.tinypic.com/afegwg.png" alt width="140" height="120"><br>
Hope this has helped, give feedback and anything else I should add.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892/1</link>
        <pubDate>Thu, 21 Apr 2011 09:05:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-391892-1</guid>
        <source url="https://forum.moparisthebest.com/t/adding-item-bonuses-hyperion-thread/391892.rss">Adding item bonuses [hyperion thread]</source>
      </item>
  </channel>
</rss>
