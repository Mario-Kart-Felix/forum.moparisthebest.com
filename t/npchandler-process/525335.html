<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/npchandler-process/525335 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 19:02:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>NPCHandler Process - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hey guys, so I&amp;#39;m trying to add clipping to the npc&amp;#39;s so they don&amp;#39;t walk through walls and stuff, (and of course it won&amp;#39;t work). But once everything was going swimmingly until I replaced this statement in the process void &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="525335.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;NPCHandler Process&#39;" href="525335.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/npchandler-process/525335" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/npchandler-process/525335" />
<meta property="og:title" content="NPCHandler Process" />
<meta name="twitter:title" content="NPCHandler Process" />
<meta property="og:description" content="Hey guys, so I’m trying to add clipping to the npc’s so they don’t walk through walls and stuff, (and of course it won’t work). But once everything was going swimmingly until I replaced this statement in the process void  							if (VirtualWorld.I(npcs[i].heightLevel, npcs[i].absX, npcs[i].absY, x, y, 0)) 								npcs[i].getNextNPCMovement(i); 							else 							{ 								npcs[i].moveX = 0; 								npcs[i].moveY = 0; 							}  With this here  handleClipping(i); npcs[i].getNextNPCMovement(i);  No..." />
<meta name="twitter:description" content="Hey guys, so I’m trying to add clipping to the npc’s so they don’t walk through walls and stuff, (and of course it won’t work). But once everything was going swimmingly until I replaced this statement in the process void  							if (VirtualWorld.I(npcs[i].heightLevel, npcs[i].absX, npcs[i].absY, x, y, 0)) 								npcs[i].getNextNPCMovement(i); 							else 							{ 								npcs[i].moveX = 0; 								npcs[i].moveY = 0; 							}  With this here  handleClipping(i); npcs[i].getNextNPCMovement(i);  No..." />
<meta property="article:published_time" content="2013-07-18T15:41:49+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="525335.html">NPCHandler Process</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/b00mz1029.html'><span itemprop='name'>b00mz1029</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-07-18T15:41:49Z'>
            <time itemprop='dateModified' datetime='2016-08-04T09:47:21Z' class='post-time'>
              August 4, 2016,  9:47am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey guys, so I’m trying to add clipping to the npc’s so they don’t walk through walls and stuff, (and of course it won’t work). But once everything was going swimmingly until I replaced this statement in the process void</p>
<p><code>							if (VirtualWorld.I(npcs[i].heightLevel, npcs[i].absX, npcs[i].absY, x, y, 0))
								npcs[i].getNextNPCMovement(i);
							else
							{
								npcs[i].moveX = 0;
								npcs[i].moveY = 0;
							}</code></p>
<p>With this here</p>
<p><code>handleClipping(i);
npcs[i].getNextNPCMovement(i);</code></p>
<p>Now whenever I run my server, this error pops up.</p>
<p><code>[7/18/13 10:38 AM]: java.lang.NullPointerException
[7/18/13 10:38 AM]:     at server.Region.getClipping(Region.java:249)
[7/18/13 10:38 AM]:     at server.model.npcs.NPCHandler.handleClipping(NPCHandle
r.java:1768)
[7/18/13 10:38 AM]:     at server.model.npcs.NPCHandler.process(NPCHandler.java:
1065)
[7/18/13 10:38 AM]:     at server.Server.main(Server.java:168)
[7/18/13 10:38 AM]: A fatal exception has been thrown!
Press any key to continue . . .</code></p>
<p>Line 249 in Region.java</p>
<p><code>    public static int getClipping(int x, int y, int height) {
		if(height &gt; 3)
			height = 0;
        int regionX = x &gt;&gt; 3;
        int regionY = y &gt;&gt; 3;
        int regionId = ((regionX / 8) &lt;&lt; 8) + (regionY / 8);
        for (Region r : regions) { // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; THAT LINE THERE
            if (r.id() == regionId) {
                return r.getClip(x, y, height);
            }
        }
        return 0;
    }</code></p>
<p>Line 1768 in NPCHandler</p>
<p><code>		if((Region.getClipping(npc.absX - 1, npc.absY, npc.heightLevel) &amp; 0x1280108) != 0) { // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; THAT LINE THERE
				npc.moveX = 0;
			}</code></p>
<p>Line 1065 in NPCHandler</p>
<pre><code class="lang-auto"></code></pre>
<p>Andd Line 168 in Server.java (This is the thing giving me problems I believe)</p>
<pre><code class="lang-auto"></code></pre>
<p>Hope somebody can help me out, Thanks!</p>
      </div>

      <meta itemprop='headline' content='NPCHandler Process'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/npchandler-process/525335 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 19:02:38 GMT -->
</html>
