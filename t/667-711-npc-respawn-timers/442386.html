<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/667-711-npc-respawn-timers/442386 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 08:46:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>667/711 NPC Respawn timers - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hey guys, :slight_smile: I&amp;#39;m having a little problem getting the respawn timers to work correctly for NPC&amp;#39;s. I mean, yeah the bosses spawn correctly, spawning after a minute or whatever; but that was already coded into t&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="442386.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;667/711 NPC Respawn timers&#39;" href="442386.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/667-711-npc-respawn-timers/442386" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/667-711-npc-respawn-timers/442386" />
<meta property="og:title" content="667/711 NPC Respawn timers" />
<meta name="twitter:title" content="667/711 NPC Respawn timers" />
<meta property="og:description" content="Hey guys, üôÇ I‚Äôm having a little problem getting the respawn timers to work correctly for NPC‚Äôs. I mean, yeah the bosses spawn correctly, spawning after a minute or whatever; but that was already coded into the server.  I am a beginner coder, but instead of starting out on 317‚Äôs, I‚Äôve decided to go straight for the ‚Äòbig daddy‚Äô if you may. Regardless of the fact that I‚Äôm beginner, I‚Äôve still learn quite a bit from toying around with this server. (I don‚Äôt intend on leeching/re-releasin..." />
<meta name="twitter:description" content="Hey guys, üôÇ I‚Äôm having a little problem getting the respawn timers to work correctly for NPC‚Äôs. I mean, yeah the bosses spawn correctly, spawning after a minute or whatever; but that was already coded into the server.  I am a beginner coder, but instead of starting out on 317‚Äôs, I‚Äôve decided to go straight for the ‚Äòbig daddy‚Äô if you may. Regardless of the fact that I‚Äôm beginner, I‚Äôve still learn quite a bit from toying around with this server. (I don‚Äôt intend on leeching/re-releasin..." />
<meta property="article:published_time" content="2012-05-16T17:13:34+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="442386.html">667/711 NPC Respawn timers</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Rushby1337x.html'><span itemprop='name'>Rushby1337x</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-05-16T17:13:34Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:42:23Z' class='post-time'>
              August 3, 2016,  2:42am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey guys, <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> I‚Äôm having a little problem getting the respawn timers to work correctly for NPC‚Äôs. I mean, yeah the bosses spawn correctly, spawning after a minute or whatever; but that was already coded into the server.</p>
<p>I am a beginner coder, but instead of starting out on 317‚Äôs, I‚Äôve decided to go straight for the ‚Äòbig daddy‚Äô if you may. Regardless of the fact that I‚Äôm beginner, I‚Äôve still learn quite a bit from toying around with this server. (I don‚Äôt intend on leeching/re-releasing the server, I‚Äôm using it purely for my own educational purpose.)</p>
<p>Anyway, to the point. Could anybody give me a real explanation on how to add a respawn timer to the NPC‚Äôs? And also bare in mind that everything compiled correctly, but the NPC just decided not to spawn.</p>
<p>My first attempt insisted of the following:</p>
<p>(src &gt; com &gt; rc &gt; game &gt; World.java)<br>
First off, adding the import:</p>
<pre><code class="lang-auto"></code></pre>
<p>Then adding</p>
<p><code>		else if (id == 1265)//rock crab respawn
			n = new RockCrab(id, tile, mapAreaNameHash,
					canBeAttackFromOutOfArea, spawned);</code><br>
(Which was added in the right place.)</p>
<p>Then creating a file, named RockCrab.java, which was saved in the correct place. (com &gt; rs &gt; game &gt; npc &gt; others &gt; RockCrab.java)<br>
This is what was inside RockCrab.java.</p>
<p>[code]package com.rs.game.npc.others;</p>
<p>import java.util.List;<br>
import java.util.concurrent.TimeUnit;</p>
<p>import com.rs.cores.CoresManager;<br>
import com.rs.game.Animation;<br>
import com.rs.game.Entity;<br>
import com.rs.game.Graphics;<br>
import com.rs.game.Hit;<br>
import com.rs.game.Hit.HitLook;<br>
import com.rs.game.World;<br>
import com.rs.game.WorldTile;<br>
import com.rs.game.npc.NPC;<br>
import com.rs.game.npc.combat.NPCCombatDefinitions;<br>
import com.rs.game.player.Player;<br>
import com.rs.game.tasks.WorldTask;<br>
import com.rs.game.tasks.WorldTasksManager;<br>
import com.rs.utils.Utils;</p>
<p><span class="mention">@SuppressWarnings</span>(‚Äúserial‚Äù)<br>
public final class RockCrab extends NPC {</p>
<pre><code>private int shieldTimer;
private int fixedAmount;
private int fixedCombatType;

public RockCrab(int id, WorldTile tile, int mapAreaNameHash,
		boolean canBeAttackFromOutOfArea, boolean spawned) {
	super(id, tile, mapAreaNameHash, canBeAttackFromOutOfArea, spawned);
	setLureDelay(0);
}
@Override
public void handleIngoingHit(Hit hit) {
	if (hit.getLook() != HitLook.MELEE_DAMAGE
			&amp;&amp; hit.getLook() != HitLook.RANGE_DAMAGE
			&amp;&amp; hit.getLook() != HitLook.MAGIC_DAMAGE)
		return;
	super.handleIngoingHit(hit);
	if (hit.getSource() != null) {
	}
}

@Override
public void setRespawnTask() {
	if (!hasFinished()) {
		reset();
		setLocation(getRespawnTile());
		finish();
	}
	final NPC npc = this;
	CoresManager.slowExecutor.schedule(new Runnable() {
		@Override
		public void run() {
			setFinished(false);
			World.addNPC(npc);
			npc.setLastRegionId(0);
			World.updateEntityRegion(npc);
			loadMapRegions();
			checkMultiArea();
			shieldTimer = 0;
			fixedCombatType = 0;
			fixedAmount = 0;
		}
	}, getCombatDefinitions().getRespawnDelay() * 10000,
		TimeUnit.MILLISECONDS);
}
</code></pre>
<p>}[/code]<br>
Basically, I want the Rock Crab to spawn exactly 10 seconds after dying.<br>
Please, somebody point my in the right direction.</p>
<p>I‚Äôll be forever greatful. &lt;3</p>
      </div>

      <meta itemprop='headline' content='667/711 NPC Respawn timers'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/667-711-npc-respawn-timers/442386 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 08:46:46 GMT -->
</html>
