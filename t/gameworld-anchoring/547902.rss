<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Gameworld anchoring</title>
    <link>https://forum.moparisthebest.com/t/gameworld-anchoring/547902</link>
    <description>I am currently designing a game, that has both open world and building/structure regions. For some regions, there is a building linking it between other regions, and so stepping on that tile to get into/out of would trigger the region change event. The problem I&#39;m having is, how could I trigger this same kind of region change event between two open regions?

To better illustrate the point, imagine the old Pokemon Red game. To get from Viridian Forest to Pewter City, you get to the end of the forest, and step on a tile, and the screen goes black, and you end up in route 3/4 (or whatever it is). Then when you step on the line from the route to Pewter city, the game screen pauses briefly, and you&#39;re now in Pewter city. No black screen, and the transition is nearly seamless.

I would like to be able to edit each &quot;region&quot; individually (for example, edit Pewter City, without having to worry about Cerulean, or route 3/4), but I want to be able to transition with the &quot;open world&#39; regions smoothly. How should I go about doing this? On a test world, it would be easy to just load the entire game world into memory, because chances are it&#39;s not that big. But, in the actual game world, which could expand to be very large (depending on future content), I don&#39;t want to load Pewter City into memory, and have Fushia City of 500 tiles away processing Npc actions, when no one is in the area.

Should I use the Map-style that&#39;s used in RuneScape, where it&#39;s loaded based on the player&#39;s position? The complication with this approach is that each region has it&#39;s own set of coordinates (ie. each region has a (0,0) point). Or is there some way to &quot;stitch&quot; certain tiles together in different regions?</description>
    
    <lastBuildDate>Wed, 19 Nov 2014 00:41:14 +0000</lastBuildDate>
    <category>Game Development</category>
    <atom:link href="https://forum.moparisthebest.com/t/gameworld-anchoring/547902.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Gameworld anchoring</title>
        <dc:creator><![CDATA[@imthenull imthenull]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imthenull">@imthenull</a> wrote:</p>
          <blockquote>
              <p>lol that todo</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/gameworld-anchoring/547902/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/gameworld-anchoring/547902/8</link>
        <pubDate>Wed, 19 Nov 2014 00:41:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547902-8</guid>
        <source url="https://forum.moparisthebest.com/t/gameworld-anchoring/547902.rss">Gameworld anchoring</source>
      </item>
      <item>
        <title>Gameworld anchoring</title>
        <dc:creator><![CDATA[@Lin Lin]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lin">@Lin</a> wrote:</p>
          <blockquote>
              <p>[quote=“imthenull, post:6, topic:547902”][quote author=Lin link=topic=666809.msg4458670#msg4458670 date=1416332757]</p>
<p>[quote author=Lothy link=topic=666809.msg4458624#msg4458624 date=1416304788]<br>
Load the surrounding regions.</p>
<p>So if you’re in region x,y then load x+1,y x-1,y etc.<br>
[/quote]This. Since you brought up Pokemon Red, take a look at my remake if you need help with doing it: <a href="https://github.com/Lin20/projectpmr/blob/master/src/MapScene.cpp" rel="nofollow noopener">https://github.com/Lin20/projectpmr/blob/master/src/MapScene.cpp</a> (DrawMap function for rendering and the messy Update function for walking between maps. CheckMap to see how warps are handled, like if you can walk into a door to warp or walk out of a map since the original game handles all warps via warp points) <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
[/quote]<code>[this]() {Walk(); }</code><br>
y…[/quote]I find using lambda expressions much easier than properly binding member functions using std::bind. Walk is the step-completed callback function for the player and that function is a member of the MapScene class, which walking would depend on. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>If you think that’s messy… <a href="https://github.com/Lin20/projectpmr/blob/master/src/ItemStorage.cpp" rel="nofollow noopener">https://github.com/Lin20/projectpmr/blob/master/src/ItemStorage.cpp</a></p>
<p>[code=cpp]/*</p>
<ul>
<li>
<p>yo dawg</p>
</li>
<li>
<p>i herd you like lambdas</p>
</li>
<li>
<p>so i wrote some lambdas in your lambdas</p>
</li>
<li>
<p>so you can lambda while you lambda</p>
</li>
<li>
</li>
<li>
<p>Also TODO: Optimize…<br>
<em>/<br>
void ItemStorage::GenerateItems()<br>
{<br>
auto select = [this](TextItem</em> item)<br>
{<br>
auto toss = [this](TextItem* item)<br>
{<br>
if (ResourceCache::IsKeyItem(item-&gt;value))<br>
{<br>
Textbox* t = new Textbox();<br>
t-&gt;SetText(new TextItem(t, <a>this</a>{this-&gt;GetMenu()-&gt;SetArrowState(ArrowStates::ACTIVE); this-&gt;GetMenu()-&gt;CloseAll(); }, pokestring(“That’s too impor-\ntant to toss!\f”)));<br>
this-&gt;GetMenu()-&gt;ShowTextbox(t, false);<br>
}<br>
else<br>
{<br>
auto confirm = <a>this</a><br>
{<br>
auto confirm_toss_b = [this](TextItem* from)<br>
{<br>
auto close_all = [this](TextItem* yesnosrc)<br>
{<br>
this-&gt;GetMenu()-&gt;FlashCursor();<br>
this-&gt;GetMenu()-&gt;SetArrowState(ArrowStates::ACTIVE);<br>
this-&gt;GetMenu()-&gt;CloseAll();<br>
};</p>
<pre><code> 				auto toss_final = [this](TextItem* yesnosrc)
 				{
 					Textbox* threwaway = new Textbox();
 					threwaway-&gt;SetText(new TextItem(threwaway, [this](TextItem* src)
 					{
 						this-&gt;RemoveItemFromSlot(this-&gt;GetMenu()-&gt;GetInactiveIndex(), this-&gt;GetMenu()-&gt;GetTextboxes()[1]-&gt;GetCounterValue());
 						this-&gt;GetMenu()-&gt;ResetSelection(); this-&gt;GetMenu()-&gt;SetArrowState(ArrowStates::ACTIVE);
 					}, pokestring("Threw away\n").append(ResourceCache::GetItemName(this-&gt;GetItems()[this-&gt;GetMenu()-&gt;GetInactiveIndex()].id)).append(pokestring(".\f"))));
 					this-&gt;GetMenu()-&gt;ShowTextbox(threwaway, false); 
 					threwaway-&gt;SetCloseCallback([this](TextItem* s)
 					{
 						this-&gt;GetMenu()-&gt;CloseAll();
 					});
 				};

 				from-&gt;GetParent()-&gt;CancelClose();
 				Textbox* yesno = new Textbox(14, 7, 6, 5);
 				yesno-&gt;SetMenu(true, 2, sf::Vector2i(1, 0), sf::Vector2u(0, 2), close_all, MenuFlags::FOCUSABLE);
 				yesno-&gt;SetArrowState(ArrowStates::ACTIVE);
 				yesno-&gt;GetItems().push_back(new TextItem(yesno, toss_final, pokestring("YES")));
 				yesno-&gt;GetItems().push_back(new TextItem(yesno, close_all, pokestring("NO")));
 				yesno-&gt;UpdateMenu();
 				this-&gt;GetMenu()-&gt;ShowTextbox(yesno, false);
 			};
 			Textbox* tb = new Textbox();
 			tb-&gt;SetText(new TextItem(tb, confirm_toss_b, pokestring("Is it OK to toss\n").append(ResourceCache::GetItemName(this-&gt;GetItems()[this-&gt;GetMenu()-&gt;GetInactiveIndex()].id)).append(pokestring("?\f"))));
 			this-&gt;GetMenu()-&gt;ShowTextbox(tb, false);
 		};
 		auto close_all = [this](TextItem* yesnosrc)
 		{
 			this-&gt;GetMenu()-&gt;FlashCursor();
 			this-&gt;GetMenu()-&gt;SetArrowState(ArrowStates::ACTIVE);
 			this-&gt;GetMenu()-&gt;CloseAll();
 		};

 		Textbox* t = new Textbox(15, 9, 5, 3);
 		t-&gt;SetCounter(true, 1, this-&gt;GetItems()[item-&gt;index].quantity, confirm, close_all);
 		this-&gt;GetMenu()-&gt;ShowTextbox(t, false);
 		this-&gt;GetMenu()-&gt;GetTextboxes()[0]-&gt;SetArrowState(ArrowStates::INACTIVE);
 	}
 };

 auto use = [this](TextItem* item)
 {
 	item-&gt;GetParent()-&gt;SetArrowState(ArrowStates::INACTIVE);
 	ItemActions::UseItem(this, item, item-&gt;value);
 	/*Textbox* t = new Textbox();
 	t-&gt;SetText(new TextItem(t, [this](TextItem* src)
 	{
 		this-&gt;GetMenu()-&gt;GetTextboxes()[0]-&gt;Close();
 	}, pokestring("You just used\n").append(ResourceCache::GetItemName(item-&gt;value)).append(pokestring("."))));
 	item-&gt;GetParent()-&gt;ShowTextbox(t, false);*/
 };

 this-&gt;GetMenu()-&gt;SetArrowState(ArrowStates::INACTIVE);

 Textbox* usetoss = new Textbox(13, 10, 7, 5);
 usetoss-&gt;SetMenu(true, 2, sf::Vector2i(1, 0), sf::Vector2u(0, 2), [this](TextItem* source){ this-&gt;GetMenu()-&gt;FlashCursor(); this-&gt;GetMenu()-&gt;SetArrowState(ArrowStates::ACTIVE); }, MenuFlags::FOCUSABLE);
 usetoss-&gt;GetItems().push_back(new TextItem(usetoss, use, pokestring("USE"), this-&gt;GetMenu()-&gt;GetInactiveIndex(), this-&gt;GetItems()[this-&gt;GetMenu()-&gt;GetInactiveIndex()].id));

 usetoss-&gt;GetItems().push_back(new TextItem(usetoss, toss, pokestring("TOSS"), this-&gt;GetMenu()-&gt;GetInactiveIndex(), this-&gt;GetItems()[this-&gt;GetMenu()-&gt;GetInactiveIndex()].id));
 usetoss-&gt;UpdateMenu();
 usetoss-&gt;SetArrowState(ArrowStates::ACTIVE);
 menu-&gt;ShowTextbox(usetoss, false);
</code></pre>
<p>};</p>
<p>menu-&gt;ClearItems();<br>
for (unsigned int i = 0; i &lt; items.size(); i++)<br>
{<br>
if (items[i].id == 0 || items[i].quantity == 0)<br>
break;</p>
<pre><code> string s = ResourceCache::GetItemName(items[i].id);
 string amt = itos(items[i].quantity);
 if (amt.length() == 1)
 	amt.insert(amt.begin(), ' ');
 if (!ResourceCache::IsKeyItem(items[i].id))
 	s.append(pokestring("\n        *")).append(pokestring(amt));
 menu-&gt;GetItems().push_back(new TextItem(menu, select, s, i, items[i].id));
</code></pre>
<p>}<br>
menu-&gt;GetItems().push_back(new TextItem(menu, [this](TextItem* src){ this-&gt;GetMenu()-&gt;Close(); }, pokestring(“CANCEL”)));<br>
menu-&gt;UpdateMenu();<br>
}[/code]</p>
</li>
</ul>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/gameworld-anchoring/547902/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/gameworld-anchoring/547902/7</link>
        <pubDate>Wed, 19 Nov 2014 00:34:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547902-7</guid>
        <source url="https://forum.moparisthebest.com/t/gameworld-anchoring/547902.rss">Gameworld anchoring</source>
      </item>
      <item>
        <title>Gameworld anchoring</title>
        <dc:creator><![CDATA[@imthenull imthenull]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imthenull">@imthenull</a> wrote:</p>
          <blockquote>
              <p>[quote=“Lin, post:4, topic:547902”][quote author=Lothy link=topic=666809.msg4458624#msg4458624 date=1416304788]<br>
Load the surrounding regions.</p>
<p>So if you’re in region x,y then load x+1,y x-1,y etc.<br>
[/quote]This. Since you brought up Pokemon Red, take a look at my remake if you need help with doing it: <a href="https://github.com/Lin20/projectpmr/blob/master/src/MapScene.cpp" rel="nofollow noopener">https://github.com/Lin20/projectpmr/blob/master/src/MapScene.cpp</a> (DrawMap function for rendering and the messy Update function for walking between maps. CheckMap to see how warps are handled, like if you can walk into a door to warp or walk out of a map since the original game handles all warps via warp points) :)[/quote]<code>[this]() {Walk(); }</code><br>
y…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/gameworld-anchoring/547902/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/gameworld-anchoring/547902/6</link>
        <pubDate>Tue, 18 Nov 2014 23:33:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547902-6</guid>
        <source url="https://forum.moparisthebest.com/t/gameworld-anchoring/547902.rss">Gameworld anchoring</source>
      </item>
      <item>
        <title>Gameworld anchoring</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>To give a better understanding, of what I would like to achieve, see the attached image.</p>
<p>The image shows 3 regions. The far left, and bottom one are connected to the center one. Each region has it’s own coordinate plane, having a 0,0 point. If the player is in the far left region, only that region, and the one on the right will be loaded into memory. If the player enters the region on the right, both the one on the left, and the one on the bottom will be loaded. My question is more specifically, how would I handle going from 6,2 on the left most region, to 0,0 on the next region. I would like to avoid a “global” coordinate system, and have the player’s location be local to the region that they are in.</p>
<p>Is this possible? If so, what sort of technique would I have to employ to achieve this?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/gameworld-anchoring/547902/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/gameworld-anchoring/547902/5</link>
        <pubDate>Tue, 18 Nov 2014 21:17:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547902-5</guid>
        <source url="https://forum.moparisthebest.com/t/gameworld-anchoring/547902.rss">Gameworld anchoring</source>
      </item>
      <item>
        <title>Gameworld anchoring</title>
        <dc:creator><![CDATA[@Lin Lin]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lin">@Lin</a> wrote:</p>
          <blockquote>
              <p>[quote=“Lothy, post:2, topic:547902”]Load the surrounding regions.</p>
<p>So if you’re in region x,y then load x+1,y x-1,y etc.[/quote]This. Since you brought up Pokemon Red, take a look at my remake if you need help with doing it: <a href="https://github.com/Lin20/projectpmr/blob/master/src/MapScene.cpp" rel="nofollow noopener">https://github.com/Lin20/projectpmr/blob/master/src/MapScene.cpp</a> (DrawMap function for rendering and the messy Update function for walking between maps. CheckMap to see how warps are handled, like if you can walk into a door to warp or walk out of a map since the original game handles all warps via warp points) <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/gameworld-anchoring/547902/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/gameworld-anchoring/547902/4</link>
        <pubDate>Tue, 18 Nov 2014 17:45:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547902-4</guid>
        <source url="https://forum.moparisthebest.com/t/gameworld-anchoring/547902.rss">Gameworld anchoring</source>
      </item>
      <item>
        <title>Gameworld anchoring</title>
        <dc:creator><![CDATA[@vortex vortex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vortex">@vortex</a> wrote:</p>
          <blockquote>
              <p>pretty much what the bald fucker said<br>
just connect the regions together into one big map and draw that, like rs does, or determine which (presumably two) regions to draw based on the player’s/camera’s position</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/gameworld-anchoring/547902/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/gameworld-anchoring/547902/3</link>
        <pubDate>Tue, 18 Nov 2014 13:37:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547902-3</guid>
        <source url="https://forum.moparisthebest.com/t/gameworld-anchoring/547902.rss">Gameworld anchoring</source>
      </item>
      <item>
        <title>Gameworld anchoring</title>
        <dc:creator><![CDATA[@lothy Lothy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lothy">@lothy</a> wrote:</p>
          <blockquote>
              <p>Load the surrounding regions.</p>
<p>So if you’re in region x,y then load x+1,y x-1,y etc.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/gameworld-anchoring/547902/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/gameworld-anchoring/547902/2</link>
        <pubDate>Tue, 18 Nov 2014 09:59:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547902-2</guid>
        <source url="https://forum.moparisthebest.com/t/gameworld-anchoring/547902.rss">Gameworld anchoring</source>
      </item>
      <item>
        <title>Gameworld anchoring</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>I am currently designing a game, that has both open world and building/structure regions. For some regions, there is a building linking it between other regions, and so stepping on that tile to get into/out of would trigger the region change event. The problem I’m having is, how could I trigger this same kind of region change event between two open regions?</p>
<p>To better illustrate the point, imagine the old Pokemon Red game. To get from Viridian Forest to Pewter City, you get to the end of the forest, and step on a tile, and the screen goes black, and you end up in route 3/4 (or whatever it is). Then when you step on the line from the route to Pewter city, the game screen pauses briefly, and you’re now in Pewter city. No black screen, and the transition is nearly seamless.</p>
<p>I would like to be able to edit each “region” individually (for example, edit Pewter City, without having to worry about Cerulean, or route 3/4), but I want to be able to transition with the "open world’ regions smoothly. How should I go about doing this? On a test world, it would be easy to just load the entire game world into memory, because chances are it’s not that big. But, in the actual game world, which could expand to be very large (depending on future content), I don’t want to load Pewter City into memory, and have Fushia City of 500 tiles away processing Npc actions, when no one is in the area.</p>
<p>Should I use the Map-style that’s used in RuneScape, where it’s loaded based on the player’s position? The complication with this approach is that each region has it’s own set of coordinates (ie. each region has a (0,0) point). Or is there some way to “stitch” certain tiles together in different regions?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/gameworld-anchoring/547902/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/gameworld-anchoring/547902/1</link>
        <pubDate>Mon, 17 Nov 2014 20:40:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547902-1</guid>
        <source url="https://forum.moparisthebest.com/t/gameworld-anchoring/547902.rss">Gameworld anchoring</source>
      </item>
  </channel>
</rss>
