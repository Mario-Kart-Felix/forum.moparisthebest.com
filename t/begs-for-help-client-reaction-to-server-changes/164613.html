<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/begs-for-help-client-reaction-to-server-changes/164613 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Aug 2019 01:06:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[BEGS FOR HELP] Client reaction to Server changes - Runescape - moparisthebest.com</title>
    <meta name="description" content="Ok. My Server, UnScape, and its Client, &amp;quot;UnScape Client&amp;quot; (:p), usually work good together, apart from the few out of memory errors which i can fix with a batch file. I have recently added a new class to my server, &amp;quot;LoadS&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="164613.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[BEGS FOR HELP] Client reaction to Server changes&#39;" href="164613.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/begs-for-help-client-reaction-to-server-changes/164613" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/begs-for-help-client-reaction-to-server-changes/164613" />
<meta property="og:title" content="[BEGS FOR HELP] Client reaction to Server changes" />
<meta name="twitter:title" content="[BEGS FOR HELP] Client reaction to Server changes" />
<meta property="og:description" content="Ok.  My Server, UnScape, and its Client, “UnScape Client” (:p), usually work good together, apart from the few out of memory errors which i can fix with a batch file.  I have recently added a new class to my server, “LoadSave” - Which loads a users data out of a MySQL database, and sets the corresponding variables to the “Player”. I spent about 3 days setting up the Database, creating the class to read from it, testing it, etc… But when it came time to import the new class into my server, and ch..." />
<meta name="twitter:description" content="Ok.  My Server, UnScape, and its Client, “UnScape Client” (:p), usually work good together, apart from the few out of memory errors which i can fix with a batch file.  I have recently added a new class to my server, “LoadSave” - Which loads a users data out of a MySQL database, and sets the corresponding variables to the “Player”. I spent about 3 days setting up the Database, creating the class to read from it, testing it, etc… But when it came time to import the new class into my server, and ch..." />
<meta property="article:published_time" content="2007-12-14T07:15:04+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="164613.html">[BEGS FOR HELP] Client reaction to Server changes</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bencorbett.html'><span itemprop='name'>bencorbett</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-12-14T07:15:04Z'>
            <time itemprop='dateModified' datetime='2016-07-30T17:42:02Z' class='post-time'>
              July 30, 2016,  5:42pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok.<br>
My Server, UnScape, and its Client, “UnScape Client” (:p), usually work good together, apart from the few out of memory errors which i can fix with a batch file.<br>
I have recently added a new class to my server, “LoadSave” - Which loads a users data out of a MySQL database, and sets the corresponding variables to the “Player”. I spent about 3 days setting up the Database, creating the class to read from it, testing it, etc… But when it came time to import the new class into my server, and change some stuff around to actually use it, It still worked fine - for my server. My client on the other hand, would get an error on completion of the servers login validation / loading process:<br>
“Exception in thread “Thread-3” java.lang.ArrayIndexOutOfBoundsException: 9999”. This also occurs when i use a batch file to debug the MoparScape client 3.2.<br>
I have received similar Array index out of bounds errors before, So i know this refers to somewhere in the client attempting to read the 9999th entry of an array. I believe the reason this error occurs has something to do with the changes to my server, as no changes to my client have been made. Here are some changes i made to my server:<br>
• Added the new class LoadSave to my server directory.<br>
• Added a new void to client.java to run the new class and return "returnCode"s:</p>
<pre><code class="lang-auto">public int loadLogin() {
	if (PlayerHandler.updateRunning) { //System Update
		returnCode = 8;
		disconnected = true;
		savefile = false;
		return 0;
	} else if (PlayerHandler.getPlayerCount() &gt;= PlayerHandler.MyMaxPlayers) { //Server Full
		returnCode = 7;
		disconnected = true;
		savefile = false;
		return 0;
	} else if (PlayerHandler.isPlayerOn(playerName)) { //Account already online
		returnCode = 5;
		disconnected = true;
		savefile = false;
		return 0;
	} else if ((playerName.indexOf("Unborn") &gt; -1 || playerName.equalsIgnoreCase("Admin")) &amp;&amp; !connectedFrom.equalsIgnoreCase("localhost") &amp;&amp; !connectedFrom.equalsIgnoreCase("127.0.0.1")) { //Unauthorized owner login
		returnCode = 10;
		disconnected = true;
		savefile = false;
		return 0;
	} else {
		LoadSave x = new LoadSave();
		x.LoadSave(PlayerHandler.players[playerId], playerName, playerPass);
		if (x.haltCode == 0) {
			returnCode = 2;
			return 1;
		} else if (x.haltCode == 1) {
			returnCode = 3;
			disconnected = true;
			savefile = false;
			return 0;
		} else if (x.haltCode == 2) {
			returnCode = 4;
			disconnected = true;
			savefile = false;
			return 0;
		} else if (x.haltCode == 3) {
			returnCode = 9;
			disconnected = true;
			savefile = false;
			return 0;
		}
		x = null;
	}
	return 0;
}</code></pre>
<p>• Moved the declaration of some variables from client.java to player.java to allow easier access by my new class. (mutedate, kitstarte, questid, q1stage, q2stage, q3stage ,q4stage, totalqp)<br>
• Modified the way user account information is read.<br>
• Used to be:</p>
<pre><code class="lang-auto">if(readSave() != 3 &amp;&amp; checkbannedusers() != 5 &amp;&amp; checkbannedips() != 5 &amp;&amp; disconnected != true) {
loadmoreinfo();
...</code></pre>
<pre><code>• Now:
</code></pre>
<pre><code class="lang-auto">if(loadLogin() != 0 &amp;&amp; checkbannedusers() != 5 &amp;&amp; checkbannedips() != 5 &amp;&amp; disconnected != true) {
//loadmoreinfo();
...</code></pre>
<p>Those are the only changes i can remember…</p>
<p>If anyone knows what ive done that i shouldnt have, havent done that i should have, etc…, Please reply.</p>
<p>Thanks,<br>
Ben Corbett / Unborn</p>
<p>(Note: I wasn’t sure whether to post here or in client help forum, but chose here because i havent modified the client. If this is the wrong place, Sorry.)[br][br][size=1]Posted on: December 13, 2007, 08:57:44 PM[/size][hr]Anyone know anything that might help? Im really desperate here…</p>
      </div>

      <meta itemprop='headline' content='[BEGS FOR HELP] Client reaction to Server changes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/begs-for-help-client-reaction-to-server-changes/164613 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Aug 2019 01:06:40 GMT -->
</html>
