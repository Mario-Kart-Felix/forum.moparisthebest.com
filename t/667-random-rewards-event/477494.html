<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/667-random-rewards-event/477494 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 10:31:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[667+] Random Rewards Event - Runescape - moparisthebest.com</title>
    <meta name="description" content="Meh, i seen this on a few servers, so i decided to make one myself. The command isn&amp;#39;t randomized, or really long, but it still works. First the RandomRewards class 

 package com.rs.game.player.content;
import com.rs.cac&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="477494.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[667+] Random Rewards Event&#39;" href="477494.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/667-random-rewards-event/477494" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/667-random-rewards-event/477494" />
<meta property="og:title" content="[667+] Random Rewards Event" />
<meta name="twitter:title" content="[667+] Random Rewards Event" />
<meta property="og:description" content="Meh, i seen this on a few servers, so i decided to make one myself. The command isn’t randomized, or really long, but it still works. First the RandomRewards class  [code]  package com.rs.game.player.content;  import com.rs.cache.loaders.ItemDefinitions;  import com.rs.game.player.Player;  /**    @author King Fox  @date Dec. 25, 2012 @ 2:30am CST  */  public class RandomRewards {  /**  * The item list, edit these id&#39;s  */ private static int randomItemList[] = {  	2354, 2354, 2354, 2354, 2354, 	2..." />
<meta name="twitter:description" content="Meh, i seen this on a few servers, so i decided to make one myself. The command isn’t randomized, or really long, but it still works. First the RandomRewards class  [code]  package com.rs.game.player.content;  import com.rs.cache.loaders.ItemDefinitions;  import com.rs.game.player.Player;  /**    @author King Fox  @date Dec. 25, 2012 @ 2:30am CST  */  public class RandomRewards {  /**  * The item list, edit these id&#39;s  */ private static int randomItemList[] = {  	2354, 2354, 2354, 2354, 2354, 	2..." />
<meta property="article:published_time" content="2013-01-04T01:50:36+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="477494.html">[667+] Random Rewards Event</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fox2007.html'><span itemprop='name'>Fox2007</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-04T01:50:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:02:47Z' class='post-time'>
              August 4, 2016,  2:02am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Meh, i seen this on a few servers, so i decided to make one myself. The command isn’t randomized, or really long, but it still works. First the RandomRewards class</p>
<p>[code]<br>
package com.rs.game.player.content;</p>
<p>import com.rs.cache.loaders.ItemDefinitions;<br>
import com.rs.game.player.Player;</p>
<p>/**</p>
<ul>
<li>
<span class="mention">@author</span> King Fox</li>
<li>
<a class="mention" href="../../u/date.html">@date</a> Dec. 25, 2012 @ 2:30am CST<br>
*/</li>
</ul>
<p>public class RandomRewards {</p>
<pre><code>/**
 * The item list, edit these id's
 */
private static int randomItemList[] = { 
	2354, 2354, 2354, 2354, 2354,
	2360, 2360, 2360, 2360, 2360,
	448, 448, 448, 448, 448, 
	452, 452, 452, 452, 452,
	1618, 1618, 1618, 1618, 1618,
	200, 200, 200, 200, 200,
	4151
};

/**
 * Selects a random number from above
 */
public static int giveRandomItem() {
	return randomItemList[(int) (Math.random()*randomItemList.length)];
}


/**
 * Add more than one number to make it more common, or to make 
 * other numbers less common.
 */
private static int RandomAmounts[] = { 
	100,100,100,100,100,100,100,100,100,
	200,200,200,200,200,200, 200,
	300,300,300,300,
	400,400,
	500
};

/**
 * Selects an amount randomly from the above
 */
public static int getRandomAmount() {
	return RandomAmounts[(int) (Math.random()*RandomAmounts.length)];
}

/**
 * Calls the methods above, and displays the amount
 * and item given. If its a certain item like 4151 below,
 * then you can display a sperate message, as i also have
 */
public static void Reward(Player p) {
	int item = giveRandomItem();
	ItemDefinitions defs = ItemDefinitions.getItemDefinitions(item);
	String name = defs == null ? "" : defs.getName().toLowerCase();
	int amount = getRandomAmount();
	
	if (item == 4151) {
	p.GlobalMessage("&lt;img=5&gt; [&lt;col=FF0000&gt;Notice&lt;/col&gt;] &lt;col=FF0000&gt;"+p.getDisplayName()+" has claimed the rare "+name+"!");
	p.getInventory().addItem(4151, 1);
	} else {
		p.getInventory().addItem(item, amount);
		p.GlobalMessage("&lt;img=5&gt; [&lt;col=FF0000&gt;Notice&lt;/col&gt;] &lt;col=FF0000&gt;"+p.getDisplayName()+" has claimed "+amount+" "+name+".");
	}
}
</code></pre>
<p>}[/code]</p>
<p>Again, this is very simple, and im sure someone will comment “omg shoulda been done this way”…but for now this works. Everything has been commented to help you understand what to edit. If you need help figuring out where it goes, just look at the package declaration at the top of the file.</p>
<p>Now here’s a method i quickly made to clean up some clutter. This is very simple:</p>
<p><code>
public void GlobalMessage(String message) {
		for (Player players : World.getPlayers()) {
			if (players == null || !players.isRunning())
				continue;
			players.getPackets().sendGameMessage(""+message+"");
		}
	}</code></p>
<p>and thats it. Nothing to it. So instead of having everything in that method like everywhere, we now only need to use player.GlobalMessage(“text here”);</p>
<p>First thing to do before we go any further, is add this into Settings.java:</p>
<pre><code class="lang-auto"></code></pre>
<p>Do not change this to false, or anyone will be able to type the command to get free shit when the server starts up instantly. Now we just need to add the event into Launcher.java</p>
<p><code>
/**
	 * Throws the RANDOM_REWARD boolean to true, so the command can be typed
	 * and the reward given, also displays a message saying its active
	 */
	public static void RandomRewardsTask() {
		CoresManager.slowExecutor.scheduleWithFixedDelay(new Runnable() {
			@Override
			public void run() {
				try {
				Settings.RANDOM_REWARD = true;
				 System.err.println("[Rewards] Reward Issued, waiting for someone to claim...");
				for (Player player : World.getPlayers()) {
					if (player == null || !player.hasStarted() || player.hasFinished())
					continue;
					player.getPackets().sendGameMessage("&lt;img=5&gt; [&lt;col=FF6600&gt;Notice&lt;/col&gt;]&lt;col=FF6600&gt; First person to type ::claim gets a free random item!");
					}
				} catch (Throwable e) {
					Logger.handle(e);
				}
			}
		}, 1, 30, TimeUnit.MINUTES);
	}</code></p>
<p>Now then, at the end of this code, you will see this:</p>
<p>}, 1, 30, TimeUnit.MINUTES);</p>
<p>The 1 represents the time it takes to start it for the first time (in minutes)<br>
The second number, 30, is how often it occurs (in minutes) after its been initiated for the first time.<br>
To make this work, just simply add find this:</p>
<pre><code class="lang-auto"></code></pre>
<p>and under it add this:</p>
<pre><code class="lang-auto"></code></pre>
<p>And here’s the command, which has an auto-spam which works rather nicely:</p>
<p><code>
			case "claim":
				if (player.Attempt &gt; 3) {
				player.getPackets().sendGameMessage("&lt;img=1&gt;Disqualified for spamming.&lt;img=1&gt;");
					return true;
				}
				if(Settings.RANDOM_REWARD) {
					player.ResetAttempts();
					Settings.RANDOM_REWARD = false;
					RandomRewards.Reward(player);
					System.err.println("[Rewards] Reward claimed by "+player.getDisplayName()+"");
					return true;
				} else {
					player.Attempt += 1;
				}
			break;</code></p>
<p>and you need this in player.java:</p>
<p>[code]<br>
public int Attempt = 0;</p>
<pre><code>public void ResetAttempts() {
	for (Player players : World.getPlayers()) {
		if (players == null || !players.isRunning())
			continue;
		players.Attempt = 0;
	}
}[/code]</code></pre>
      </div>

      <meta itemprop='headline' content='[667+] Random Rewards Event'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-04T23:10:51Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:03:12Z' class='post-time'>
              August 4, 2016,  2:03am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>work on your coventions</p>
      </div>

      <meta itemprop='headline' content='[667+] Random Rewards Event'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fox2007.html'><span itemprop='name'>Fox2007</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-05T02:11:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:03:18Z' class='post-time'>
              August 4, 2016,  2:03am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>my conventions were actually corrected by Eclipse, and thats how i posted it…</p>
      </div>

      <meta itemprop='headline' content='[667+] Random Rewards Event'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/667-random-rewards-event/477494 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 10:31:29 GMT -->
</html>
