<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Baka server]Fixing client crashes via NPC combat</title>
    <link>https://forum.moparisthebest.com/t/baka-server-fixing-client-crashes-via-npc-combat/184081</link>
    <description>This is server-side btw.  (For bakatool&#39;s server only)

[code]if(npcs[i].isDead) {
				npcs[i].isDead = false;
				PlayerHandler.players[npcs[i].fighterId].resetCombat();
				npcs[i].resetCombat();
				if(npcs[i].respawns) {
					npcs[i].currentStats[3] = DataHandler.npcHits[npcs[i].npcId];
				} else {
					npcs[i] = null; //this npc is deleted now
					continue; //go to next npc
				}
			}[/code]
original npc/player combat would continue after the npc was dead.  Also the original would try loading the npc&#39;s max stats when it died but, don&#39;t ask me why, it would correctly load the npc hitpoints.  This directly loads the npc&#39;s max hitpoints when the npc dies.</description>
    
    <lastBuildDate>Sat, 23 Feb 2008 23:29:15 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/baka-server-fixing-client-crashes-via-npc-combat/184081.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Baka server]Fixing client crashes via NPC combat</title>
        <dc:creator><![CDATA[@Project16 Project16]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/project16">@Project16</a> wrote:</p>
          <blockquote>
              <p>This is server-side btw.  (For bakatool’s server only)</p>
<p><code>if(npcs[i].isDead) {
				npcs[i].isDead = false;
				PlayerHandler.players[npcs[i].fighterId].resetCombat();
				npcs[i].resetCombat();
				if(npcs[i].respawns) {
					npcs[i].currentStats[3] = DataHandler.npcHits[npcs[i].npcId];
				} else {
					npcs[i] = null; //this npc is deleted now
					continue; //go to next npc
				}
			}</code><br>
original npc/player combat would continue after the npc was dead.  Also the original would try loading the npc’s max stats when it died but, don’t ask me why, it would correctly load the npc hitpoints.  This directly loads the npc’s max hitpoints when the npc dies.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/baka-server-fixing-client-crashes-via-npc-combat/184081/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/baka-server-fixing-client-crashes-via-npc-combat/184081/1</link>
        <pubDate>Sat, 23 Feb 2008 23:29:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-184081-1</guid>
        <source url="https://forum.moparisthebest.com/t/baka-server-fixing-client-crashes-via-npc-combat/184081.rss">[Baka server]Fixing client crashes via NPC combat</source>
      </item>
  </channel>
</rss>
