<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/ip-packets/429565 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 07:40:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Ip packets - General Programming - moparisthebest.com</title>
    <meta name="description" content="import java.net.*;
public class Physics {
  /** Offset into byte array of the type of service header value. */
  public static final int OFFSET_TYPE_OF_SERVICE = 1;
  /** Offset into byte array of total packet length he&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="429565.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Ip packets&#39;" href="429565.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/ip-packets/429565" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/ip-packets/429565" />
<meta property="og:title" content="Ip packets" />
<meta name="twitter:title" content="Ip packets" />
<meta property="og:description" content="[code]import java.net.*;  public class Physics {  /** Offset into byte array of the type of service header value. */  public static final int OFFSET_TYPE_OF_SERVICE = 1;  /** Offset into byte array of total packet length header value. */  public static final int OFFSET_TOTAL_LENGTH = 2;  /** Offset into byte array of the identification header value. */  public static final int OFFSET_IDENTIFICATION = 4;  /** Offset into byte array of the flags header value. */  public static final int OFFSET_FLA..." />
<meta name="twitter:description" content="[code]import java.net.*;  public class Physics {  /** Offset into byte array of the type of service header value. */  public static final int OFFSET_TYPE_OF_SERVICE = 1;  /** Offset into byte array of total packet length header value. */  public static final int OFFSET_TOTAL_LENGTH = 2;  /** Offset into byte array of the identification header value. */  public static final int OFFSET_IDENTIFICATION = 4;  /** Offset into byte array of the flags header value. */  public static final int OFFSET_FLA..." />
<meta property="article:published_time" content="2012-01-16T21:17:27+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="429565.html">Ip packets</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Int_Bauk.html'><span itemprop='name'>Int_Bauk</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-16T21:17:27Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:21:27Z' class='post-time'>
              August 2, 2016,  3:21pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[code]import <a href="http://java.net/" rel="nofollow noopener">java.net</a>.*;</p>
<p>public class Physics {</p>
<p>/** Offset into byte array of the type of service header value. */<br>
public static final int OFFSET_TYPE_OF_SERVICE = 1;</p>
<p>/** Offset into byte array of total packet length header value. */<br>
public static final int OFFSET_TOTAL_LENGTH = 2;</p>
<p>/** Offset into byte array of the identification header value. */<br>
public static final int OFFSET_IDENTIFICATION = 4;</p>
<p>/** Offset into byte array of the flags header value. */<br>
public static final int OFFSET_FLAGS = 6;</p>
<p>/** Offset into byte array of source address header value. */<br>
public static final int OFFSET_SOURCE_ADDRESS      = 12;</p>
<p>/** Number of bytes in source address. */<br>
public static final int LENGTH_SOURCE_ADDRESS      = 4;</p>
<p>/** Offset into byte array of destination address header value. */<br>
public static final int OFFSET_DESTINATION_ADDRESS = 16;</p>
<p>/** Number of bytes in destination address. */<br>
public static final int LENGTH_DESTINATION_ADDRESS = 4;</p>
<p>/** Offset into byte array of time to live header value. */<br>
public static final int OFFSET_TTL      = 8;</p>
<p>/** Offset into byte array of protocol number header value. */<br>
public static final int OFFSET_PROTOCOL = 9;</p>
<p>/** Offset into byte array of header checksum header value. */<br>
public static final int OFFSET_IP_CHECKSUM = 10;</p>
<p>/** Protocol constant for IPv4. */<br>
public static final int PROTOCOL_IP   = 0;</p>
<p>/** Protocol constant for ICMP. */<br>
public static final int PROTOCOL_ICMP = 1;</p>
<p>/** Protocol constant for TCP. */<br>
public static final int PROTOCOL_TCP  = 6;</p>
<p>/** Protocol constant for UDP. */<br>
public static final int PROTOCOL_UDP  = 17;</p>
<p>/** Raw packet data. */<br>
protected byte[] <em>data</em>;</p>
<p>public Physics(int size) {<br>
setData(new byte[size]);<br>
}</p>
<p>public int size() {<br>
return <em>data</em>.length;<br>
}</p>
<p>public void setData(byte[] data) {<br>
<em>data</em> = data;<br>
}</p>
<p>public void getData(byte[] data) {<br>
System.arraycopy(<em>data</em>, 0, data, 0, data.length);<br>
}</p>
<p>public final void copy(Physics packet) {<br>
if(<em>data</em>.length != packet.size())<br>
setData(new byte[packet.size()]);<br>
System.arraycopy(packet.<em>data</em>, 0, <em>data</em>, 0, <em>data</em>.length);<br>
}</p>
<p>public final void setIPVersion(int version) {<br>
<em>data</em>[0] &amp;= 0x0f;<br>
<em>data</em>[0] |= ((version &lt;&lt; 4) &amp; 0xf0);<br>
}</p>
<p>public final int getIPVersion() {<br>
return ((<em>data</em>[0] &amp; 0xf0) &gt;&gt; 4);<br>
}</p>
<p>public void setIPHeaderLength(int length) {<br>
// Clear low order bits and then set<br>
<em>data</em>[0] &amp;= 0xf0;<br>
<em>data</em>[0] |= (length &amp; 0x0f);<br>
}</p>
<p>public final int getIPHeaderLength() {<br>
return (<em>data</em>[0] &amp; 0x0f);<br>
}</p>
<p>public final int getIPHeaderByteLength() {<br>
return getIPHeaderLength() &lt;&lt; 2;<br>
}</p>
<p>public final void setTypeOfService(int service) {<br>
<em>data</em>[OFFSET_TYPE_OF_SERVICE] = (byte)(service &amp; 0xff);<br>
}</p>
<p>public final int getTypeOfService() {<br>
return (<em>data</em>[OFFSET_TYPE_OF_SERVICE] &amp; 0xff);<br>
}</p>
<p>public final void setIPPacketLength(int length) {<br>
<em>data</em>[OFFSET_TOTAL_LENGTH]     = (byte)((length &gt;&gt; 8) &amp; 0xff);<br>
<em>data</em>[OFFSET_TOTAL_LENGTH + 1] = (byte)(length &amp; 0xff);<br>
}</p>
<p>public final int getIPPacketLength() {<br>
return (((<em>data</em>[OFFSET_TOTAL_LENGTH] &amp; 0xff) &lt;&lt; 8) |<br>
(<em>data</em>[OFFSET_TOTAL_LENGTH + 1] &amp; 0xff));<br>
}</p>
<p>public void setIdentification(int id) {<br>
<em>data</em>[OFFSET_IDENTIFICATION]     = (byte)((id &gt;&gt; 8) &amp; 0xff);<br>
<em>data</em>[OFFSET_IDENTIFICATION + 1] = (byte)(id &amp; 0xff);<br>
}</p>
<p>public final int getIdentification() {<br>
return (((<em>data</em>[OFFSET_IDENTIFICATION] &amp; 0xff) &lt;&lt; 8) |<br>
(<em>data</em>[OFFSET_IDENTIFICATION + 1] &amp; 0xff));<br>
}</p>
<p>public final void setIPFlags(int flags) {<br>
<em>data</em>[OFFSET_FLAGS] &amp;= 0x1f;<br>
<em>data</em>[OFFSET_FLAGS] |= ((flags &lt;&lt; 5) &amp; 0xe0);<br>
}</p>
<p>public final int getIPFlags() {<br>
return ((<em>data</em>[OFFSET_FLAGS] &amp; 0xe0) &gt;&gt; 5);<br>
}</p>
<p>public void setFragmentOffset(int offset) {<br>
<em>data</em>[OFFSET_FLAGS] &amp;= 0xe0;<br>
<em>data</em>[OFFSET_FLAGS] |= ((offset &gt;&gt; 8) &amp; 0x1f);<br>
<em>data</em>[OFFSET_FLAGS + 1] = (byte)(offset &amp; 0xff);<br>
}</p>
<p>public final int getFragmentOffset() {<br>
return (((<em>data</em>[OFFSET_FLAGS] &amp; 0x1f) &lt;&lt; 8) |<br>
(<em>data</em>[OFFSET_FLAGS + 1] &amp; 0xff));<br>
}</p>
<p>public final void setProtocol(int protocol) {<br>
<em>data</em>[OFFSET_PROTOCOL] = (byte)protocol;<br>
}</p>
<p>public final int getProtocol() {<br>
return <em>data</em>[OFFSET_PROTOCOL];<br>
}</p>
<p>/**</p>
<ul>
<li>Sets the time to live value in seconds.</li>
<li>
</li>
<li>
<a class="mention" href="../../u/param.html">@param</a> ttl The time to live value in seconds.<br>
*/<br>
public final void setTTL(int ttl) {<br>
<em>data</em>[OFFSET_TTL] = (byte)(ttl &amp; 0xff);<br>
}</li>
</ul>
<p>public final int getTTL() {<br>
return (<em>data</em>[OFFSET_TTL] &amp; 0xff);<br>
}</p>
<p>protected int <em>computeChecksum</em>(int startOffset,<br>
int checksumOffset,<br>
int length,<br>
int virtualHeaderTotal,<br>
boolean update)<br>
{<br>
int total = 0;<br>
int i     = startOffset;<br>
int imax  = checksumOffset;</p>
<pre><code>while(i &lt; imax)
  total+=(((_data_[i++] &amp; 0xff) &lt;&lt; 8) | (_data_[i++] &amp; 0xff));

// Skip existing checksum.
i = checksumOffset + 2;

imax = length - (length % 2);

while(i &lt; imax)
  total+=(((_data_[i++] &amp; 0xff) &lt;&lt; 8) | (_data_[i++] &amp; 0xff));

if(i &lt; length)
  total+=((_data_[i] &amp; 0xff) &lt;&lt; 8);

total+=virtualHeaderTotal;

// Fold to 16 bits
while((total &amp; 0xffff0000) != 0)
  total = (total &amp; 0xffff) + (total &gt;&gt;&gt; 16);

total = (~total &amp; 0xffff);

if(update) {
  _data_[checksumOffset]     = (byte)(total &gt;&gt; 8);
  _data_[checksumOffset + 1] = (byte)(total &amp; 0xff);
}

return total;
</code></pre>
<p>}</p>
<p>public final int computeIPChecksum(boolean update) {<br>
return <em>computeChecksum</em>(0, OFFSET_IP_CHECKSUM, getIPHeaderByteLength(),<br>
0, update);<br>
}</p>
<p>public final int computeIPChecksum() {<br>
return computeIPChecksum(true);<br>
}</p>
<p>public final int getIPChecksum() {<br>
return (((<em>data</em>[OFFSET_IP_CHECKSUM] &amp; 0xff) &lt;&lt; 8) |<br>
(<em>data</em>[OFFSET_IP_CHECKSUM + 1] &amp; 0xff));<br>
}</p>
<p>public final void getSource(StringBuffer buf) {<br>
System.arraycopy(<em>data</em>, OFFSET_SOURCE_ADDRESS, buf,<br>
0, (buf.length() &lt; LENGTH_SOURCE_ADDRESS ?<br>
buf.length() : LENGTH_SOURCE_ADDRESS));<br>
}</p>
<p>public final void getDestination(StringBuffer buf) {<br>
System.arraycopy(<em>data</em>, OFFSET_DESTINATION_ADDRESS, buf,<br>
0, (buf.length() &lt; LENGTH_DESTINATION_ADDRESS ?<br>
buf.length() : LENGTH_DESTINATION_ADDRESS));<br>
}</p>
<p>public final InetAddress getSourceAsInetAddress()<br>
throws UnknownHostException<br>
{<br>
StringBuffer buf = new StringBuffer();<br>
getSource(buf);<br>
return InetAddress.getByName(buf.toString());<br>
// This works only with JDK 1.4 and up<br>
/*<br>
byte[] octets = new byte[4];<br>
getSource(octets);<br>
return InetAddress.getByAddress(octets);<br>
<em>/<br>
}<br>
public final InetAddress getDestinationAsInetAddress()<br>
throws UnknownHostException<br>
{<br>
StringBuffer buf = new StringBuffer();<br>
getDestination(buf);<br>
return InetAddress.getByName(buf.toString());<br>
// This works only with JDK 1.4 and up<br>
/</em><br>
byte[] octets = new byte[4];<br>
getDestination(octets);<br>
return InetAddress.getByAddress(octets);<br>
*/<br>
}</p>
<p>public static void main (String[] args) {<br>
System.out.println("ip sum packet " + OFFSET_IP_CHECKSUM);<br>
System.out.println("ip adress packet " + PROTOCOL_IP);<br>
System.out.println("tcp packet " + PROTOCOL_TCP);<br>
System.out.println("icmp packet " +  PROTOCOL_ICMP);<br>
System.out.println("udp packet " + PROTOCOL_UDP);</p>
<p>}<br>
}[/code]</p>
<p>you’ll then have to:</p>
<p>[ul][li]Retrieve the source IP address as a string into a StringBuffer[/li]<br>
[li]Retrieve the destination IP address as a string into a StringBuffer[/li]<br>
[li]Set the source IP address using a word representation[/li]<br>
[li]Set the destination IP address using a word representation[/li]<br>
[li]Return The source IP address as a 32-bit word[/li]<br>
[li]Return The destination IP address as a 32-bit word[/li][/ul]</p>
<p>would their be any other ways of handling ip packets?</p>
      </div>

      <meta itemprop='headline' content='Ip packets'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Native1.html'><span itemprop='name'>Native1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-16T21:39:09Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:21:27Z' class='post-time'>
              August 2, 2016,  3:21pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>An IP Packet isn’t the same as a DatagramPacket right?</p>
      </div>

      <meta itemprop='headline' content='Ip packets'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Int_Bauk.html'><span itemprop='name'>Int_Bauk</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-17T17:44:49Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:22:16Z' class='post-time'>
              August 2, 2016,  3:22pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="2" data-topic="429565">
<div class="title">
<div class="quote-controls"></div>
 Native^:</div>
<blockquote>
<p>An IP Packet isn’t the same as a DatagramPacket right?</p>
</blockquote>
</aside>
<p>your right; Datagram packets are used to implement a connectionless packet delivery service. Each message is routed from one machine to another based solely on information contained within that packet.</p>
      </div>

      <meta itemprop='headline' content='Ip packets'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/ip-packets/429565 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 07:40:09 GMT -->
</html>
