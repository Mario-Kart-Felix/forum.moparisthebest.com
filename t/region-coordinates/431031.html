<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/region-coordinates/431031 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 14:32:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Region Coordinates - Runescape - moparisthebest.com</title>
    <meta name="description" content="I&amp;#39;m trying to improve my region system in my server, by having regions loaded and unloaded when he level of activity changes (for example, if there&amp;#39;s two people online, one in Varrock and one in Canifis, there&amp;#39;s no reaso&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="431031.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Region Coordinates&#39;" href="431031.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/region-coordinates/431031" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/region-coordinates/431031" />
<meta property="og:title" content="Region Coordinates" />
<meta name="twitter:title" content="Region Coordinates" />
<meta property="og:description" content="I’m trying to improve my region system in my server, by having regions loaded and unloaded when he level of activity changes (for example, if there’s two people online, one in Varrock and one in Canifis, there’s no reason to process events from Al Kharid and Lumbridge). After reading sinisoul’s post about regions in the Tutorials section, I found one implementation problem. While regions do have an X and Y position, they are not on the same scale as the rest of the world (it would be like plotti..." />
<meta name="twitter:description" content="I’m trying to improve my region system in my server, by having regions loaded and unloaded when he level of activity changes (for example, if there’s two people online, one in Varrock and one in Canifis, there’s no reason to process events from Al Kharid and Lumbridge). After reading sinisoul’s post about regions in the Tutorials section, I found one implementation problem. While regions do have an X and Y position, they are not on the same scale as the rest of the world (it would be like plotti..." />
<meta property="article:published_time" content="2012-01-29T00:38:44+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="431031.html">Region Coordinates</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T00:38:44Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:29Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m trying to improve my region system in my server, by having regions loaded and unloaded when he level of activity changes (for example, if there’s two people online, one in Varrock and one in Canifis, there’s no reason to process events from Al Kharid and Lumbridge). After reading sinisoul’s post about regions in the Tutorials section, I found one implementation problem. While regions do have an X and Y position, they are not on the same scale as the rest of the world (it would be like plotting a function of a 1:1 scale, and 1:5 scale on the same plane). The only thing that I could think of to solve this problem is to have another object, RegionLocation or something similar, and map the active regions using HashMap&lt;RegionLocation, Region&gt;. Is there a more appropriate solution, and if so, what are your suggestions?</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/jaruanna.html'><span itemprop='name'>jaruanna</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T00:50:40Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:29Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have a suggestion. Maybe you can put all the codes into regions(if you see what im trying to get at). Like, if there is a trader in Al Kharid, put it in an <code>If (playerisInRegion()) { 
shopsOpen = true;
 } else {
shopsClosed = true;
}</code><br>
If you don’t understand im sorry. But thats my suggestion</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T00:56:17Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:31Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“jaruanna, post:2, topic:431031”]I have a suggestion. Maybe you can put all the codes into regions(if you see what im trying to get at). Like, if there is a trader in Al Kharid, put it in an <code>If (playerisInRegion()) { 
shopsOpen = true;
 } else {
shopsClosed = true;
}</code><br>
If you don’t understand im sorry. But thats my suggestion[/quote]</p>
<p>Let me explain; how would you check what region the player is in? Traditionally, it’s the player’s position / 64 for X and Y. But what would you do with those coordinates? How would you check if the player is in that region. Sure you could do</p>
<pre><code class="lang-auto">for (Region r : regions) {// All loaded regions
    if (r.getX() == x &amp;&amp; r.getY() == y) {
        return r;
    }
}
Region r = new Region(x, y);
r.init();
regions.add(r);
return r;</code></pre>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/jaruanna.html'><span itemprop='name'>jaruanna</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T01:02:19Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:31Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>well yea, you can do that, or i was thinking the boolean. like the pk one:</p>
<p><code>	public boolean isInFalador(int coordX, int coordY, int Type) {
			if ((coordX &gt;= XXXX) &amp;&amp; (coordX &lt;= XXXX) &amp;&amp; (coordY &lt;= YYYY)
					&amp;&amp; (coordY &gt;= YYYY)) {
				return true;
			}
		}
		return false;
	}</code></p>
<p>then make a void for whats in Falador.(all the shops and stuff) And i guess in the walking method, you put the void there and if you aren’t in Falador, it would return false and nothing would load(besides that part of the map). And btw, if this doesn’t make sense to you, we are probably thinking of different things.</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T06:42:30Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:53Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The problem is that that the events aren’t being handled in the traditional manner. Usually, there’s one thread that directly handles the various “events” happening in the world, all of the time. To elaborate, if there are 2 players, both in Varrock, the server will continue to process events for Npcs and such in Lumbridge, Draynor, Seer’s Village, etc. This is a waste of resources because if there are no players around to see the events, then there’s really no reason to process them. With my approach, the regions are created and destroyed, based on whether or not it’s active.</p>
<p>For example, 2 players are fighting each other in the wilderness. One dies and respawns in Lumbridge. Since one player is still in the wilderness, and one is now in Lumbridge, two regions are now active; the one that contains the wilderness, and the one that contains Lumbridge. Now, let’s say the person in Lumbridge rage quits. Now, since there is only one player online (in the wilderness), there’s absolutely no reason to process events from the remaining active region (Lumbridge). The server then destroys (or unloads) the region when there are no more events to process (like dropped items, and anything else that updates players).</p>
<p>My problem is that I don’t want to load at least 64x64 regions. That almost defeats the entire purpose.</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/baddy351.html'><span itemprop='name'>baddy351</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T06:45:59Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:53Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why though. Considering there is in runescape, and popular servers there are people all over. It would some what work… but that is all. I mean if there is areas you want to just not process (unreachable), then just ‘blacklist’ them, and don’t load them.</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T07:07:36Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:54Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="6" data-topic="431031">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/baddy351/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> baddy351:</div>
<blockquote>
<p>Why though. Considering there is in runescape, and popular servers there are people all over. It would some what work… but that is all. I mean if there is areas you want to just not process (unreachable), then just ‘blacklist’ them, and don’t load them.</p>
</blockquote>
</aside>
<p>To make the server more efficient. For example, most servers have some Npcs who only welcome the user, let’s say with “Welcome to SomeScape”. That string is 21 bytes long. Now, if the server runs for 24 hours, that’s 144,000 server updates. Sending that one string, to one Npc, every tick, for one day results in 3,024,000 bytes being processed. The server still creates those strings, even if nobody is there to see it. Multiply that by an arbitrary number of Npcs, and it racks up quite quickly, for no reason at all.</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/jaruanna.html'><span itemprop='name'>jaruanna</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T07:19:58Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:54Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I see what you’re trying to do, but, unfortunately the only thing I could think of is the way I had it. I mean for the npc example, you could have it say “welcome to somescape” when someone logs in, but you’re looking for more than that.</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_wanderer.html'><span itemprop='name'>the_wanderer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T07:28:36Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:54Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What he is saying is that if your server is popular it wouldn’t be that useful as there will be users around the home location (place where that npc is saying that over and over) probably 20/24 hours. How about just create a region in the player class like<br>
private Region activeRegion;</p>
<p>then implement into the walking packet whenever the player switches regions you just change the active region. Then implement a check in your event system to only do events for that region.</p>
<p>And are you sure that the npc would still send that text since npc updating is done per player, not per world? So if there was no player to see the text would it still send the text? Because npc appearance updating isn’t done worldwide. At least for Apollo it isn’t as that would be extremely unnecessary that upon login you have to update for every single npc. What it does is gets the local npc/players and updates the player to them.</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T07:37:35Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:55Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Wanderer, post:9, topic:431031”]What he is saying is that if your server is popular it wouldn’t be that useful as there will be users around the home location (place where that npc is saying that over and over) probably 20/24 hours. How about just create a region in the player class like<br>
private Region activeRegion;</p>
<p>then implement into the walking packet whenever the player switches regions you just change the active region. Then implement a check in your event system to only do events for that region.</p>
<p>And are you sure that the npc would still send that text since npc updating is done per player, not per world? So if there was no player to see the text would it still send the text? Because npc appearance updating isn’t done worldwide. At least for Apollo it isn’t as that would be extremely unnecessary that upon login you have to update for every single npc. What it does is gets the local npc/players and updates the player to them.[/quote]</p>
<p>The way traditional (winterlove based) servers do things is all of the normal Npc updating, every tick, and then the Npc update block data is sent to the player after it’s been added to the list. So yes the update block is still created, and processed by the server, but the networking data may not be sent, depending on whether or not it’s added to a players list.</p>
<p>Also: If there were only 64 regions in each way, there are 4096 possible regions. Even if there are 2000 people online, and each one were in it’s own region, that’s still 2000 regions, that are loaded into memory, that aren’t being used.</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_wanderer.html'><span itemprop='name'>the_wanderer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T07:52:57Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:55Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well I would change that. Do updating only on the current region/surrounding regions. Would save you a lot of processing as said above. And events usually circle around players? Can’t think of any instances of an event running besides updating… I guess it is better to be safe than sorry.</p>
<p>Just checked Apollo and that is actually how it gets the active region. Has a class called RegionCoordinates (your RegionLocation) and then a RegionRepository class that has a hashmap like how you said.</p>
<p>Only difference I see is that you said it’s position/64 and Apollo uses 32. Not sure why, because I thought as you did, that you would divide by 64…</p>
<p>But yeah, could you not do</p>
<blockquote>add in super class for players/npcs
private Region activeRegion;
<p>then implement into the walking packet whenever the player switches regions you just change the active region. Then implement a check in your event system to only do events for that region.</p>
</blockquote><br>
? Of course you would have to set the active region upon login/spawning so it isn’t null on login/spawn.
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T08:02:16Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:55Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I was in the same bend as you and never finished my implementation.  <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>Wait, what do you mean they are not on the same scale? The universal unit (besides coordinates) is chunks (8 x 8). Actually when you do construction or dungeoneering the scale is in chunks so that’d be a good base unit to work with.</p>
<p>My approach would be:</p>
<p>Player has map around himself.<br>
Player is at coordinate x, y<br>
Calculate what is around player through the player scope.<br>
Populate his map with what is around him.<br>
Do for all players.<br>
Enact methods to update each entity with an act method for animations and such. Callback to player to send update to client.<br>
Reset player map.</p>
<p>That would allow you to actually play with ‘scopes’ of the world while only having one global scope where all the entities and players are stored. Each player could be considered in their own scope and something fun would to have scopes registered to the world such as ‘CASTLE WARS GAME 0’, ‘PEST CONTROL 2’.  So many possibilities with that if you can correctly implement it.</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/baddy351.html'><span itemprop='name'>baddy351</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T08:03:15Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:56Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sini, get back on msn</p>
<p>And yeah, i agree. I was thinking way off Zyle. My bad.</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T08:25:58Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:56Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Wanderer, post:11, topic:431031”]Well I would change that. Do updating only on the current region/surrounding regions. Would save you a lot of processing as said above. And events usually circle around players? Can’t think of any instances of an event running besides updating… I guess it is better to be safe than sorry.</p>
<p>Just checked Apollo and that is actually how it gets the active region. Has a class called RegionCoordinates (your RegionLocation) and then a RegionRepository class that has a hashmap like how you said.</p>
<p>Only difference I see is that you said it’s position/64 and Apollo uses 32. Not sure why, because I thought as you did, that you would divide by 64…</p>
<p>But yeah, could you not do</p>
<p>[quote]<br>
add in super class for players/npcs<br>
private Region activeRegion;</p>
<p>then implement into the walking packet whenever the player switches regions you just change the active region. Then implement a check in your event system to only do events for that region.[/quote]<br>
? Of course you would have to set the active region upon login/spawning so it isn’t null on login/spawn.[/quote]</p>
<p>Some other events (although, not necessarily part of the update block) are ground items, and object changes (changing from a tree to a stump, the same for ore, etc)</p>
<p>While it would be possible to have the player’s region like you mentioned, there would still need to be a way to limit the interactions that are processed (which Npcs are rendered, obejcts are updating, etc).</p>
<p><a class="mention" href="../../u/sini.html">@sini</a>, that is almost exactly what I’m trying to implement. And what I mean by on the same scale is this. Let’s say that the world is 64 regions wide and 64 regions long. One region would be 64 “tiles” wide. In your post in the tutorials section, you used the point (3211, 3424) as Varrock. It’s regional coordinates were (50, 53). This translates into having the bottom left of the region as (3200, 3392).</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T08:28:34Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:56Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“zyle1992, post:14, topic:431031”][quote author=The Wanderer link=topic=533705.msg3901698#msg3901698 date=1327823577]<br>
Well I would change that. Do updating only on the current region/surrounding regions. Would save you a lot of processing as said above. And events usually circle around players? Can’t think of any instances of an event running besides updating… I guess it is better to be safe than sorry.</p>
<p>Just checked Apollo and that is actually how it gets the active region. Has a class called RegionCoordinates (your RegionLocation) and then a RegionRepository class that has a hashmap like how you said.</p>
<p>Only difference I see is that you said it’s position/64 and Apollo uses 32. Not sure why, because I thought as you did, that you would divide by 64…</p>
<p>But yeah, could you not do</p>
<aside class="quote">
<blockquote>
<p>add in super class for players/npcs<br>
private Region activeRegion;</p>
<p>then implement into the walking packet whenever the player switches regions you just change the active region. Then implement a check in your event system to only do events for that region.[/quote]<br>
? Of course you would have to set the active region upon login/spawning so it isn’t null on login/spawn.</p>
</blockquote>
</aside>
<p>Some other events (although, not necessarily part of the update block) are ground items, and object changes (changing from a tree to a stump, the same for ore, etc)</p>
<p>While it would be possible to have the player’s region like you mentioned, there would still need to be a way to limit the interactions that are processed (which Npcs are rendered, obejcts are updating, etc).</p>
<p><a class="mention" href="../../u/sini.html">@sini</a>, that is almost exactly what I’m trying to implement. And what I mean by on the same scale is this. Let’s say that the world is 64 regions wide and 64 regions long. One region would be 64 “tiles” wide. In your post in the tutorials section, you used the point (3211, 3424) as Varrock. It’s regional coordinates were (50, 53). This translates into having the bottom left of the region as (3200, 3392).[/quote]</p>
<p>Ah alright. So you are wondering how store these effectively? Did you read my player scoping thing?</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-29T08:37:34Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:37:56Z' class='post-time'>
              August 2, 2016,  3:37pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sinisoul, post:15, topic:431031”][quote author=zyle1992 link=topic=533705.msg3901706#msg3901706 date=1327825558]</p>
<aside class="quote">
<blockquote>
<p>Well I would change that. Do updating only on the current region/surrounding regions. Would save you a lot of processing as said above. And events usually circle around players? Can’t think of any instances of an event running besides updating… I guess it is better to be safe than sorry.</p>
<p>Just checked Apollo and that is actually how it gets the active region. Has a class called RegionCoordinates (your RegionLocation) and then a RegionRepository class that has a hashmap like how you said.</p>
<p>Only difference I see is that you said it’s position/64 and Apollo uses 32. Not sure why, because I thought as you did, that you would divide by 64…</p>
<p>But yeah, could you not do</p>
<aside class="quote">
<blockquote>
<p>add in super class for players/npcs<br>
private Region activeRegion;</p>
<p>then implement into the walking packet whenever the player switches regions you just change the active region. Then implement a check in your event system to only do events for that region.[/quote]<br>
? Of course you would have to set the active region upon login/spawning so it isn’t null on login/spawn.</p>
</blockquote>
</aside>
<p>Some other events (although, not necessarily part of the update block) are ground items, and object changes (changing from a tree to a stump, the same for ore, etc)</p>
<p>While it would be possible to have the player’s region like you mentioned, there would still need to be a way to limit the interactions that are processed (which Npcs are rendered, obejcts are updating, etc).</p>
<p><a class="mention" href="../../u/sini.html">@sini</a>, that is almost exactly what I’m trying to implement. And what I mean by on the same scale is this. Let’s say that the world is 64 regions wide and 64 regions long. One region would be 64 “tiles” wide. In your post in the tutorials section, you used the point (3211, 3424) as Varrock. It’s regional coordinates were (50, 53). This translates into having the bottom left of the region as (3200, 3392).</p>
</blockquote>
</aside>
<p>Ah alright. So you are wondering how store these effectively?[/quote]</p>
<p>Yes. Like it was posted earlier, another server uses a RegionCoordinate class to represent the location. If I had something like that, then I could store the regions in a HashMap&lt;RegionLocation, Region&gt;. However, the problem still remains with the implementation.</p>
<p>I do like the idea of having the field player keep track of its region. I hadn’t thought about that.</p>
      </div>

      <meta itemprop='headline' content='Region Coordinates'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/region-coordinates/431031 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 14:32:43 GMT -->
</html>
