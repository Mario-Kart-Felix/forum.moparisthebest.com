<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-drop-system/439259?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 23:34:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>PI Drop System - Runescape - moparisthebest.com</title>
    <meta name="description" content="Prologue:  

Well, I&amp;#39;ve given up hope on my emulation-remix because of my horrible choice in choosing, arguably the worst base in existence, project insanity. I&amp;#39;m a perfectionist and I cannot stand the way anything was d&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="4392599ba9.html?page=3" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;PI Drop System&#39;" href="439259.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-drop-system/439259?page=3" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-drop-system/439259?page=3" />
<meta property="og:title" content="PI Drop System" />
<meta name="twitter:title" content="PI Drop System" />
<meta property="og:description" content="That way is more costly than the current one.  You would have to assign groups of items for each type of number ranging from 1-513+." />
<meta name="twitter:description" content="That way is more costly than the current one.  You would have to assign groups of items for each type of number ranging from 1-513+." />
<meta property="article:published_time" content="2012-04-15T00:20:02+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="4392594658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="439259.html">PI Drop System</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imsuperman05.html'><span itemprop='name'>imsuperman05</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-15T00:20:02Z'>
            <time itemprop='dateModified' datetime='2016-08-02T23:59:01Z' class='post-time'>
              August 2, 2016, 11:59pm
            </time>
        <span itemprop='position'>#41</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>That way is more costly than the current one.  You would have to assign groups of items for each type of number ranging from 1-513+.</p>
      </div>

      <meta itemprop='headline' content='PI Drop System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/asshole_rule.html'><span itemprop='name'>asshole_rule</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-15T00:21:51Z'>
            <time itemprop='dateModified' datetime='2016-08-02T23:59:01Z' class='post-time'>
              August 2, 2016, 11:59pm
            </time>
        <span itemprop='position'>#42</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="41" data-topic="439259">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/imsuperman05/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> imsuperman05:</div>
<blockquote>
<p>That way is more costly than the current one.  You would have to assign groups of items for each type of number ranging from 1-513+.</p>
</blockquote>
</aside>
<p>Could maybe do it based on price if you have an accurate price.txt or dump it from rswiki and add it to item.cfg</p>
      </div>

      <meta itemprop='headline' content='PI Drop System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Loveandpower.html'><span itemprop='name'>Loveandpower</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-15T00:49:48Z'>
            <time itemprop='dateModified' datetime='2016-08-02T23:59:05Z' class='post-time'>
              August 2, 2016, 11:59pm
            </time>
        <span itemprop='position'>#43</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“imsuperman05, post:41, topic:439259”]That way is more costly than the current one.  You would have to assign groups of items for each type of number ranging from 1-513+.[/quote]Not to mention that would be one hell of a list to have  to  fix up</p>
      </div>

      <meta itemprop='headline' content='PI Drop System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/JavaTC.html'><span itemprop='name'>JavaTC</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-15T02:24:51Z'>
            <time itemprop='dateModified' datetime='2016-08-02T23:59:08Z' class='post-time'>
              August 2, 2016, 11:59pm
            </time>
        <span itemprop='position'>#44</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Skiire, post:6, topic:439259”][quote author=Skiire link=topic=541961.msg3970767#msg3970767 date=1334112303]<br>
So, because one of the things I hated the MOST about Project Insanity was the drop system, here’s my alternative<br>
[/quote]</p>
<aside class="quote">
<blockquote>
<p>I fail to see how this is any better to be honest</p>
</blockquote>
</aside>
<p>You fail to see a lot of things to be honest. Where did I say better? I said alternative. Let me define that for you.</p>
<p>al·ter·na·tive/ôlˈtərnətiv/<br>
Adjective:	<br>
(of one or more things) Available as another possibility.<br>
Noun:	<br>
One of two or more available possibilities.[/quote]<br>
Congratulations, you can use <a href="http://dictionary.com/" rel="nofollow noopener">dictionary.com</a>.  Don’t bother giving smartass replies if you can’t define the terms yourself.  He was making the point that there is nothing new compared to the normal one, so unless it’s further developed, there’s no fucking point to posting it.</p>
      </div>

      <meta itemprop='headline' content='PI Drop System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Skiire.html'><span itemprop='name'>Skiire</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-15T03:13:26Z'>
            <time itemprop='dateModified' datetime='2016-08-02T23:59:12Z' class='post-time'>
              August 2, 2016, 11:59pm
            </time>
        <span itemprop='position'>#45</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“JavaTC, post:44, topic:439259”][quote author=Skiire link=topic=541961.msg3971025#msg3971025 date=1334156816]</p>
<aside class="quote">
<blockquote>
<p>So, because one of the things I hated the MOST about Project Insanity was the drop system, here’s my alternative</p>
</blockquote>
</aside>
<aside class="quote">
<blockquote>
<p>I fail to see how this is any better to be honest</p>
</blockquote>
</aside>
<p>You fail to see a lot of things to be honest. Where did I say better? I said alternative. Let me define that for you.</p>
<p>al·ter·na·tive/ôlˈtərnətiv/<br>
Adjective:	<br>
(of one or more things) Available as another possibility.<br>
Noun:	<br>
One of two or more available possibilities.<br>
[/quote]<br>
Congratulations, you can use <a href="http://dictionary.com/" rel="nofollow noopener">dictionary.com</a>.  Don’t bother giving smartass replies if you can’t define the terms yourself.  He was making the point that there is nothing new compared to the normal one, so unless it’s further developed, there’s no fucking point to posting it.[/quote]</p>
<p>I’m pretty positive I can define those terms as you don’t require higher than a fourth grade education to appropriately use them. I used a dictionary definition because that’s what you’re supposed to use for reference. I’m sorry for utilizing something that was created for this sole purpose.</p>
<p>There are variations from the old one. If you would have read my four or five posts now stating what is different, you would know this.</p>
<p>Here’s a quote from page one:</p>
<aside class="quote" data-post="9" data-topic="439259">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/skiire/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Skiire:</div>
<blockquote>
<p>My system supports a range for the amount of an item dropped. My system supports multiple set amounts of an item to be dropped. My system has easier to use ALWAYS-SUPER_RARE drop table constants with a formula for percentages rather then having to manually set percentages on a drop-by-drop basis. These constants are also set to a formula that is fairly accurate to the RSWiki droptable; this will increase the ease of adding additional drops for remakes. Increased productivity is progress, is it not?</p>
</blockquote>
</aside>
<p>Congratulations on trying to reply with a smart-ass comment, yet failing to educate yourself beforehand.</p>
      </div>

      <meta itemprop='headline' content='PI Drop System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/JavaTC.html'><span itemprop='name'>JavaTC</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-15T05:06:28Z'>
            <time itemprop='dateModified' datetime='2016-08-02T23:59:18Z' class='post-time'>
              August 2, 2016, 11:59pm
            </time>
        <span itemprop='position'>#46</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="45" data-topic="439259">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/skiire/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Skiire:</div>
<blockquote>
<p>I’m pretty positive I can define those terms as you don’t require higher than a fourth grade education to appropriately use them. I used a dictionary definition because that’s what you’re supposed to use for reference. I’m sorry for utilizing something that was created for this sole purpose.</p>
</blockquote>
</aside>
<p>And yet there is no way you can submit proof that you had any prior knowledge of the terms, at least explain using your own words.  For all I know, you could be a 9 year old little kid using the hell out of spellcheck (I do too because of my school system’s early education system).</p>
<p>Literacy aside, there is no need for this.  Although it’s only an alternative, it’s the way of Moparscape to dislike anything that’s not at least useful.  This can be useful, but the default one is just the same.</p>
      </div>

      <meta itemprop='headline' content='PI Drop System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Skiire.html'><span itemprop='name'>Skiire</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-15T06:13:28Z'>
            <time itemprop='dateModified' datetime='2016-08-02T23:59:21Z' class='post-time'>
              August 2, 2016, 11:59pm
            </time>
        <span itemprop='position'>#47</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“JavaTC, post:46, topic:439259”][quote author=Skiire link=topic=541961.msg3974116#msg3974116 date=1334459606]<br>
I’m pretty positive I can define those terms as you don’t require higher than a fourth grade education to appropriately use them. I used a dictionary definition because that’s what you’re supposed to use for reference. I’m sorry for utilizing something that was created for this sole purpose.<br>
[/quote]<br>
And yet there is no way you can submit proof that you had any prior knowledge of the terms, at least explain using your own words.  For all I know, you could be a 9 year old little kid using the hell out of spellcheck (I do too because of my school system’s early education system).</p>
<p>Literacy aside, there is no need for this.  Although it’s only an alternative, it’s the way of Moparscape to dislike anything that’s not at least useful.  This can be useful, but the default one is just the same.[/quote]</p>
<p>I’m not continuing this debate any longer, if you wish to think of me as an illiterate youth, more power to you.</p>
<p>It’s a contribution if you don’t need it, don’t want it, don’t care for it, etc. you don’t have to post. If no one needs it and I had no replies on this thread, that’s more than okay with me, but this continuous debate in regards to how my system is better when I have <span class="bbcode-i">never</span> even remotely come close to such a claim is ridiculous.</p>
      </div>

      <meta itemprop='headline' content='PI Drop System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/south-park.html'><span itemprop='name'>south-park</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-05-27T19:24:34Z'>
            <time itemprop='dateModified' datetime='2016-08-04T07:34:04Z' class='post-time'>
              August 4, 2016,  7:34am
            </time>
        <span itemprop='position'>#48</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Skiire, post:1, topic:439259”]<span class="bbcode-b">Prologue: </span></p>
<p>Well, I’ve given up hope on my emulation-remix because of my horrible choice in choosing, arguably the worst base in existence, project insanity. I’m a perfectionist and I cannot stand the way anything was done in Project Insanity… I’ve had to re-write every class I’ve looked at so far and it’s just too much of a project and I refuse to waste more time on it. So, because one of the things I hated the MOST about Project Insanity was the drop system, here’s my alternative. All code is explained within itself directly, if I need to further explain anything, <span class="bbcode-i">please</span> ask. This is also my first “spoon-feed.”</p>
<p>Within your NPCHandler:</p>
<pre><code class="lang-auto">public static NPCDrop npcDropList[][] = new NPCDrop[NPCHandler.maxListedNPCs][];</code></pre>
<p>Still within your NPCHandler class search:</p>
<pre><code class="lang-auto">public void intialize()</code></pre>
<p>Within that method add this:</p>
<pre><code class="lang-auto">/*
* When public static void main within the Server class is read so will this configuration file.
*/

loadNPCDrops("./Data/CFG/npc_drops.cfg");</code></pre>
<p><span class="bbcode-b">Do not</span> forget to create that (npc_drops.cfg) file!</p>
<p>Add this boolean within your NPCHandler class.</p>
<pre><code class="lang-auto">	/**
	 * 
	 * @param FileName
	 * @return NPC drops
	 * @start Used for relaying a console print out of intialization times.
	 * @dropsCount Used for relaying a console print out of the number of drops.
	 * @ &amp; used to separate drops amounts of the same type of item by amount. Example chickens: drop 5, 10 or 15 feathers, not a range. TODO finish
	 * @ : used to separate drops using a range. Example goblins: drop 1-24 coins.
	 * @ / used to indicate multiple NPC's that have the same drops. Example cows: 2310/1768/1767/1766/955/397/81 are all the ID's for cows, which share a common droptable. 
	 */

	public boolean loadNPCDrops(final String FileName) {
		long start = System.currentTimeMillis();
		int dropsCount = 0;
		int npcCount = 0;
		String line = "";
		String token = "";
		String token2 = "";
		String token2_2 = "";
		String[] token3 = new String[10];
		boolean EndOfFile = false;
		BufferedReader characterfile = null;
		try {
			characterfile = new BufferedReader(new FileReader("./" + FileName));
		} catch (final FileNotFoundException fileex) {
			Misc.println(FileName + ": file not found.");
			return false;
		}
		try {
			line = characterfile.readLine();
		} catch (final IOException ioexception) {
			Misc.println(FileName + ": error loading file.");
			return false;
		}
		while (EndOfFile == false &amp;&amp; line != null) {
			line = line.trim();
			final int spot = line.indexOf("=");
			if (spot &gt; -1) {
				token = line.substring(0, spot);
				token = token.trim();
				token2 = line.substring(spot + 1);
				token2 = token2.trim();
				token2_2 = token2.replaceAll("\t\t", "\t");
				while (token2_2.indexOf("\t\t") &gt; -1) {
					token2_2 = token2_2.replaceAll("\t\t", "\t");
				}
				token3 = token2_2.split("\t");
				if (token.equals("drop")) {
					String[] slotTokens = token3[0].trim().split("/");
					for (String slotToken : slotTokens) {
						if (slotToken.length() &gt; 0) {
							int slot = Integer.parseInt(slotToken.trim());
							List&lt;NPCDrop&gt; newNpcDrops = new LinkedList&lt;NPCDrop&gt;();
							for (int i = 1; i &lt;= token3.length - 1; i++) {
								String[] token4 = token3[i].trim().split(":");
								NPCDrop npcDrop = null;
								if (token4.length == 3) {
									String amounts = token4[1].trim();
									if (amounts.indexOf("&amp;") &gt; -1) {
										String[] token5 = amounts.split("&amp;");
										for (String amount : token5) {
											amount = amount.trim();
											if (amount.length() &gt; 0) {
												npcDrop = new NPCDrop(slot, Integer.parseInt(token4[0].trim()), Integer.parseInt(amount), token4[2].trim());
												if (npcDrop != null) {
													newNpcDrops.add(npcDrop);
												}
											}
										}
									} else {
										npcDrop = new NPCDrop(slot, Integer.parseInt(token4[0].trim()), Integer.parseInt(token4[1].trim()), token4[2].trim());
										if (npcDrop != null) {
											newNpcDrops.add(npcDrop);
										}
									}
								}
								if (token4.length == 4) {
									npcDrop = new NPCDrop(slot, Integer.parseInt(token4[0].trim()), Integer.parseInt(token4[1].trim()), Integer.parseInt(token4[2].trim()), token4[2].trim());
									if (npcDrop != null) {
										newNpcDrops.add(npcDrop);
									}
								}
							}
							npcDropList[slot] = newNpcDrops.toArray(new NPCDrop[0]);
							dropsCount += npcDropList[slot].length;
							npcCount += 1;
						}
					}
				}
			} else if (line.equals("[ENDOFDROPLIST]")) {
				try {
					characterfile.close();
				} catch (final IOException ioexception) {
				}
				System.out.println("            Loaded " + dropsCount + " npc drops for " + npcCount + " npcs in " + (System.currentTimeMillis() - start) + "ms.");
				return true;
			}
			try {
				line = characterfile.readLine();
			} catch (final IOException ioexception1) {
				EndOfFile = true;
			}
		}
		try {
			characterfile.close();
		} catch (final IOException ioexception) {
		}
		return false;
	}</code></pre>
<p>Add this below the above boolean.</p>
<pre><code class="lang-auto">	/**
	 * 
	 * @param value
	 * @return Percent Rarities
	 * Float used rather than a double.
	 */
	
	public float getRarity(String value) {
		float dropRarity = 0.0f;
		if (value.equalsIgnoreCase("ALWAYS")) {
			dropRarity = 100.0f;
		} else if (value.equalsIgnoreCase("VERY_COMMON")) {
			dropRarity = 75.0f;	
		} else if (value.equalsIgnoreCase("COMMON")) {
			int x = server.Misc.random(2, 50); 			// 1 in 2 through 50 kills will give this item
			dropRarity = (float) (1 - (1 - (1/x))) * 100;
		} else if (value.equalsIgnoreCase("UNCOMMON")) {
			int x = server.Misc.random(51, 100); 		// 1 in 51 through 100 kills will give this item
			dropRarity = (float) (1 - (1 - (1/x))) * 100;
		} else if (value.equalsIgnoreCase("RARE")) {
			int x = server.Misc.random(101, 512); 		// 1 in 101 through 512 kills will give this item
			dropRarity = (float) (1 - (1 - (1/x))) * 100;
		} else if (value.equalsIgnoreCase("VERY_RARE")) {
			int x = server.Misc.random(513, 1024); 		// 1 in 513 through 1024 kills will give this item
			dropRarity = (float) (1 - (1 - (1/x))) * 100;
		} else if (value.equalsIgnoreCase("SUPER_RARE")) {
			int x = server.Misc.random(1025, 4096); 	// 1 in 1025 through 4096 kills will give this item
			dropRarity = (float) (1 - (1 - (1/x))) * 100;
		} else if (value.equalsIgnoreCase("EXTREMELY_RARE")) {
			int x = server.Misc.random(4097, 8192); 	// 1 in 4097 through 8192 kills will give this item
			dropRarity = (float) (1 - (1 - (1/x))) * 100;
		} else {
			dropRarity = Float.parseFloat(value);
		}
		return dropRarity;
	}</code></pre>
<p>Finally, add:</p>
<pre><code class="lang-auto">	class NPCDrop {
		public int npcId;
		public int itemId;
		public int itemAmount = -1;
		public int itemAmount2 = -1;
		public String rarity;
		
		public NPCDrop(int npcId, int itemId, int itemAmount, String percentRarity) {
			this.npcId = npcId;
			this.itemId = itemId;
			this.itemAmount = itemAmount;
			this.rarity = percentRarity;
		}
		
		public NPCDrop(int npcId, int itemId, int itemAmount, int itemAmount2, String percentRarity) {
			this.npcId = npcId;
			this.itemId = itemId;
			this.itemAmount = itemAmount;
			this.itemAmount2 = itemAmount2;
			this.rarity = percentRarity;
		}
	}</code></pre>
<p>Last, but not least, add these within your Misc class.</p>
<pre><code class="lang-auto">	public static int random(final float range) {
		return (int) (java.lang.Math.random() * (range + 1));
	}

	public static int random(int range1, int range2) { // 0 till range (range INCLUDED)
		int keepGoing = 1;
		int compare1 = 0;
		while (keepGoing == 1) {
			compare1 = random(range2);
			if (compare1 &gt;= range1) {
				keepGoing = 0;
			} else {
				keepGoing = 1;
			}
		}
		return compare1;
	}</code></pre>
<p>There you go!</p>
<p>But, just for the hell of it, here’s my RareDropTable system as well.</p>
<p>NPCHandler class import this.</p>
<pre><code class="lang-auto">import server.game.npcs.RareDropTable.RareDrops;</code></pre>
<p>Still within NPCHandler search this:</p>
<pre><code class="lang-auto">public void dropItems</code></pre>
<p>Within that method add this.</p>
<pre><code class="lang-auto">			if (npcDropList[NPCHandler.npcs[i].npcType] != null) {
				for (NPCDrop drop : npcDropList[NPCHandler.npcs[i].npcType]) {
					if (NPCHandler.npcs[i].npcType == drop.npcId) {
						float dropRarity = getRarity(drop.rarity);
						if (server.Misc.random(100.0f) &lt;= dropRarity) {
							if (drop.itemAmount2 != -1) {
								int itemAmount = drop.itemAmount;
								int itemAmount2 = drop.itemAmount2;
								if (drop.itemAmount &gt; drop.itemAmount2) { 
									itemAmount2 = drop.itemAmount;
									itemAmount = drop.itemAmount2;
								}
								int amount = server.Misc.random(itemAmount, itemAmount2);
								Server.itemHandler.createGroundItem(c, drop.itemId, NPCHandler.npcs[i].absX, NPCHandler.npcs[i].absY, amount, c.playerId);
							} else {
								Server.itemHandler.createGroundItem(c, drop.itemId, NPCHandler.npcs[i].absX, NPCHandler.npcs[i].absY, drop.itemAmount, c.playerId);
							}
						}
					}
				}
			}
			if (server.Misc.random(100.0f) &lt;= 100 * (((float) npcList[NPCHandler.npcs[i].npcType].npcCombat) / 25000)) {
				RareDrops drop = RareDrops.getRandomDrop(c);
				if (!drop.equals(RareDrops.EMPTY)) { 
					c.sendMessage("You received a drop from the rare drop table.");
					c.getItems().addItem(drop.getItemId(), drop.getAmount());
				}
				System.out.println(c.playerName2 + " received a drop from the rare drop table. " + drop.name());
			}</code></pre>
<p>Now create a new file called RareDropTable.java.</p>
<pre><code class="lang-auto">package //TODO

import server.model.players.Client;
import server.util.Misc;

public class RareDropTable {
	
	/**
	 * 
	 * @author Skiire
	 * @date Apr 10, 2012
	 * RareDrops enumeration used to store all rare drops and quantities.
	 * TODO: Fix the Misc.random() bug. Where users who receive a Misc.random() drop would set the drop amount until a server reset. This is not a huge issue as this is very rare and the chances of two of the same RareDrop in one server session is highly unlikely and hardly noticable.
	 */
	
	public enum RareDrops {
		
		COINS(995, new int[] {250, 3000, 12000}),
		UNCUT_SAPPHIRE(1623, 1),
		UNCUT_EMERALD(1621, 1),
		UNCUT_RUBY(1619, 1),
		UNCUT_DIAMOND(1617, 1),
		UNCUT_DRAGONSTONE(1631, 1),
		DRAGONSTONE(1615, 1),
		LOOP_HALF_OF_A_KEY(987, 1),
		TOOTH_HALF_OF_A_KEY(985, 1),
		ADAMANT_JAVELIN(829, 20),
		RUNE_JAVELIN(830, 5),
		RUNE_SPEAR(1247, 1),
		DRAGON_SPEAR(1249, 1),
		DRAGON_DAGGER(new int[] {1215, 1216}, new int[] {1, 50}),
		RUNE_KITESHIELD(1201, 1),
		SHIELD_LEFT_HALF(2366, 1),
		DRAGON_MED_HELM(1149, 1),
		RUNE_ARROW(892, new int[] {150, 200, 500}),
		ADAMANT_BOLTS(9143, 200),
		ONYX_BOLTS(9342, 150),
		BATTLESTAFF(1392, 200),
		AIR_ORB(573, 1000),
		FIRE_ORB(569, 1000),
		PURE_ESSENCE(7937, new int[] {500, 15000}),
		NATURE_RUNE(561, new int[] {47, 62 + Misc.random(5)}),
		SOUL_RUNE(566, 20),
		BLOOD_RUNE(565, 50),
		WATER_TALISMAN(1444, 1),
		EARTH_TALISMAN(1441, 25 + Misc.random(10)),
		FIRE_TALISMAN(1443, 25 + Misc.random(9)),
		CHAOS_TALISMAN(1452, 1),
		NATURE_TALISMAN(1462, 1),
		RAW_SWORDFISH(372, new int[] {150 + Misc.random(100), 1000}),
		RAW_SHARK(384, 250 + Misc.random(250)),
		BIG_BONES(533, 150 + Misc.random(350)),
		SILVER_ORE(443, 100),
		COAL(454, 75 + Misc.random(75)),
		ADAMANT_BAR(2362, 1450 + Misc.random(5550)),
		RUNITE_ORE(452, 100),
		RUNE_BAR(2364, new int[] {1, 50, 100}),
		CLEAN_RANARR(258, 33),
		CLEAN_TOADFLAX(2999, 25 + Misc.random(225)),
		CLEAN_SNAPDRAGON(3001, 30 + Misc.random(90)),
		CLEAN_TORSTOL(270, 10 + Misc.random(90)),
		SARADOMIN_BREW(6686, new int[] {250, 2500}),
		WATERMELON_SEED(5321, 3),
		YEW_SEED(5315, 1 + Misc.random(49)),
		MAGIC_SEED(5316, 1 + Misc.random(5)),
		PALM_TREE_SEED(5289, 10),
		SNAPDRAGON_SEED(5300, 1),
		TORSTOL_SEED(5304, 1 + Misc.random(30)),
		YEW_LOGS(1516, 100 + Misc.random(19900)),
		EMPTY(0, 0);
		
		/**
		 * The information that is being stored in the above enumeration.
		 */
		
		private int[] itemIds, variousAmounts;
		private int itemId, singleAmount;
		
		/**
		 * 
		 * @param itemIds
		 * @param variousAmounts
		 */
		
		private RareDrops(int[] itemIds, int[] variousAmounts) {
			this.itemIds = itemIds;
			this.variousAmounts = variousAmounts;
		}
		
		/**
		 * 
		 * @param itemId
		 * @param singleAmount
		 */
		
		private RareDrops(int itemId, int singleAmount) {
			this.itemId = itemId;
			this.singleAmount = singleAmount;
		}
		
		/**
		 * 
		 * @param itemIds
		 * @param singleAmount
		 */
		
		private RareDrops(int[] itemIds, int singleAmount) {
			this.itemIds = itemIds;
			this.singleAmount = singleAmount;
		}
		
		/**
		 * 
		 * @param itemId
		 * @param variousAmounts
		 */
		
		private RareDrops(int itemId, int[] variousAmounts) {
			this.itemId = itemId;
			this.variousAmounts = variousAmounts;
		}
		
		/**
		 * 
		 * @return itemIds
		 */
		
		public int[] getItemIds() {
			return this.itemIds;
		}
		
		/**
		 * 
		 * @return variousAmounts
		 */
		
		public int[] getVariousAmounts() {
			return this.variousAmounts;
		}
		
		/**
		 * 
		 * @return itemId
		 */
		
		public int getItemId() {
			return this.itemId;
		}
		
		/**
		 * 
		 * @return singleAmount
		 */
		
		public int getSingleAmount() {
			return this.singleAmount; 
		}
		
		/**
		 * 
		 * @return amount(s)
		 */
		
		public int getAmount() {
			if (this.variousAmounts != null) {
				int choice = server.Misc.random(this.variousAmounts.length);
				choice = ((choice == this.variousAmounts.length) ? 0 : choice);
				return this.variousAmounts[choice];
			} else {
				return this.singleAmount;
			}
		}
		
		/**
		 * 
		 * @param name
		 * @return RareDrops
		 */
		
		public static RareDrops getRareDrops(String name) {
			for (RareDrops rd : RareDrops.values()) {
				if (rd.name().equalsIgnoreCase(name)) {
					return rd;
				}
			}
			return null;
		}
		
		/**
		 * 
		 * @param c
		 * @return RareDrops chance.
		 * Additional Ring of Wealth increase on getting an actual drop instead of an empty.
		 * 
		 * Chance on getting rare drop is minimal. 50% chance of getting NO drop and instead an empty. 10% if wearing a ring of wealth.
		 */
		
		public static RareDrops getRandomDrop(Client c) {
			float chanceForEmpty = 50.0f;
			if (c.playerEquipment[c.playerRing] == 2572) {
				chanceForEmpty = 10.0f;
			}
			if (server.Misc.random(100.0f) &gt;= chanceForEmpty) 
				return RareDrops.EMPTY;
			else
				return values()[server.Misc.random(0, values().length)];
		}
	}
}</code></pre>
<p>And… Because I’m feeling generous, here’s a start to NPC drops for the <span class="hashtag">#377</span> revision. Some NPC’s are missing drops for those servers that are packing their 317 clients with this newer revision garbage, so you’ll have to redo that. I tried my best to stick to pure <span class="hashtag">#377</span> items!</p>
<p>P.S. This is your “npc_drops.cfg” <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p><a href="http://uppit.com/8kugxchlscoq/npc_drops.cfg" data-bbcode="true" rel="nofollow noopener">Download npc.drops.cfg @ UppIT</a></p>
<p>Please note that this is <span class="bbcode-b">not</span> completely accurate to RuneScape’s drop system, if anyone can come up with a better or more precise formula, let me know :). I was content with what I came up with, but it’s lacking. Also, if I’ve forgotten any other necessary tidbits of code, let me know as well, I implemented this quite a while back and no longer have access to my IDE (call-hierachy) so I had to search manually using notepad.[/quote]</p>
<p>very nice</p>
      </div>

      <meta itemprop='headline' content='PI Drop System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/hexan.html'><span itemprop='name'>hexan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-05-27T20:26:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T07:34:20Z' class='post-time'>
              August 4, 2016,  7:34am
            </time>
        <span itemprop='position'>#49</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>nice tutorial <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='PI Drop System'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="4392594658.html?page=2">← previous page</a></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-drop-system/439259?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 23:34:30 GMT -->
</html>
