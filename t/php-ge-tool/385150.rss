<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>PHP GE Tool</title>
    <link>https://forum.moparisthebest.com/t/php-ge-tool/385150</link>
    <description>Grabs the data from the toolbar so you don&#39;t need to login to RS or get a shit toolbar.

ENJOY.
[code]
&lt;?php
/* Aaron (cumescape) */
function convertXmlObjToArr($obj, &amp;$arr){
	//Thanks PHP.net
	$children = $obj-&gt;children();
	foreach ($children as $elementName =&gt; $node){
		$nextIdx = count($arr);
		$arr[$nextIdx] = array();
		$arr[$nextIdx][&#39;@name&#39;] = strtolower((string)$elementName);
		$arr[$nextIdx][&#39;@attributes&#39;] = array();
		$attributes = $node-&gt;attributes();
		foreach ($attributes as $attributeName =&gt; $attributeValue){
			$attribName = strtolower(trim((string)$attributeName));
			$attribVal = trim((string)$attributeValue);
			$arr[$nextIdx][&#39;@attributes&#39;][$attribName] = $attribVal;
		}
		$text = (string)$node;
		$text = trim($text);
		if (strlen($text) &gt; 0){
			$arr[$nextIdx][&#39;@text&#39;] = $text;
		}
		$arr[$nextIdx][&#39;@children&#39;] = array();
		convertXmlObjToArr($node, $arr[$nextIdx][&#39;@children&#39;]);
	}
	return;
}

$images = array(&#39;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ1OUExM0RBRkQ2ODExREY4RTM5QjFENDQzRjhGQjI4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ1OUExM0RCRkQ2ODExREY4RTM5QjFENDQzRjhGQjI4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDU5QTEzRDhGRDY4MTFERjhFMzlCMUQ0NDNGOEZCMjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDU5QTEzRDlGRDY4MTFERjhFMzlCMUQ0NDNGOEZCMjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5PJ5LoAAAEt0lEQVR42oRVWUirVxCeJH+iiRr3Pe7KVaNiXKhWuUgrLg+iVXBHpfhQxAo+VPFB+iL41guVQqWIgi0UQakgpYW2CoKggoKiXnet4q64RHOzmX5z0NKWeHtgOL8nZ74z8803oywmJobOzs4oPT2dfH19aXR01E+pVL6BuWFZz8/PfySi32CeMKOnp+e1Tqejx8dH4rW6ukrOlvT8MTU1FYRNA7Ce6urqlPLycv07rJaWFt+bm5vqgIAA9dXVlRnf38CmExIS7PSeJYO5wT5yd3f/1MXFRVFVVZWYlZUVY7VaCVHT0dERTU9PnxQWFgatrKxcjYyMzF1fX184HI6m+Ph4+9ramvOIZTLZt8nJyfrs7OworVarAjWa4+Nj8vPzExcuLy+puLg4yNvbm9ra2nz0ev2H7e3tv9jtdjdJkm5filgCtwmdnZ0G5lcul9PMzAzNzc1RRUUF3d3d0cXFBSUmJpJGo+Fza39//wqitcH3HWf0InBjY2M8+BVpp6amkpeXF6FAtLu7S0iZHh4e6ODggG5vb819fX3zW1tbffD7KTMz0/JejkNDQ3/19/fXZ2RkhAYHBxNSpKWlJTo8PBSV54f47OTk5HB7e/sr1OLNPwE4q5eKZ1CpVB1JSUm6qKioXAiB4CyiDgwMpLCwMFpeXqahoaEbgEzi/mew02cA0OIcGCnR/Py8FkX8DsV7jb+DIiIiRJQWi4XwqOAXVDig2cWFhYUvPTw8JjhSrgnfc7bkLCssJYAViFTii1wwPEJQi3De2dkhPCaDpl+Brs8B+pr+Z8kByLsuJCTEu7m52Q+yo8rKSiooKCCmRaFQUFFRkdjX19fd6uvr0/HdBp+U5+5zCry4uOiKix3gNxa6pJSUFJEeR8l7V1cXoRvFI8y1j4+Pb1NT0we42wl/7xeBYQEA9sjLywtjAJPJRPf39wQeBQ3Dw8Nks9koLi5OOCAQamho0HV3dyfjzyJknANLctZ5PeDNH0WScZNwwbjSbOHh4YQWJs6ktbWV6urqmA6amJjgoia6urp2IJN7YJhg3wPvd/gdClVgPvxQVlaWW1paGs7pms1mESkXb3Z2ljB8iAs8MDBAGEzid24eLizL0Wg02jFLLH9ibW5ufg3MPwD+FsFIcrVarWUl8DxgeUFaglM0DuEy1dbWUklJiTjv7e0VxaypqREpg0ZFfn6+uqen5xUwvsCdXES/Jz0J3MaFYVDmdm9vT0TEM4LPBgcHKTo6WvzGs5tbfHJykhCQaHm+HxkZyY9EokMDoRaLApUvRdQqg8EQjKEu48IxFTw72ImbhSccGkOc5eTkEEuUBzzGKGE2C/VwADwRAaxEnVQKRPwzAHPBlYQo1XjtEbzbQYUDTg48ZAeogp3S0tKEnrkTcYf5FY9zwVnT+/v7DmCZEJhRxgUZGxsLBB0fw0pwqMVjLgBQITIlpGbFjI6JjY0NwCZBx3/XgbU+Pj6+w2MUwDLsD8DYhd0KYOZ5Y2ODU9PgMPjpvwp/q2EmWC468xPIKxS8SgyC9G1QywUU0o/fLU89cQWbhZ1I/+oWufwB82KbOWPtMtecJuhYOD09NQDw7OkxngNmZGXEPozATP9tkL8EGACBFVt3RmJmewAAAABJRU5ErkJggg%3D%3D&#39;,&#39;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNEQzU2ODhBRkQ2ODExREZCNkI3QzEwNDA1Nzc2QjU1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNEQzU2ODhCRkQ2ODExREZCNkI3QzEwNDA1Nzc2QjU1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0RDNTY4ODhGRDY4MTFERkI2QjdDMTA0MDU3NzZCNTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0RDNTY4ODlGRDY4MTFERkI2QjdDMTA0MDU3NzZCNTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4tNfbxAAAFlklEQVR42oRVaWxUZRQ9b21n7TKly7TTKXSlmy20bA5lq2VRhFYCjWCEggsEwaCCJBrUkKjEwA+icZcIEkQNatCIYWsxFWihpbSVtLS0dKHTbdrZl/fmeVshMabF++bkffPmfee795577zCZaSb09A3DUpiJ2KgwfPHt2ShR4A8RNDqtKnCv33YCwFlCGMEZGaEdmWaOgSwHMWbXG9oxkfEPFr+cq4mlm1qnUe1/4ZnluZvKi7PcLp939Zb9hmGbo9wYY1ANDI36hm3ODwmX8nOmyniIMQQNYbFeq65QhYrc8+uXZS6Yn5cse/zgQkR0dVnxe2VtX9kT82Ov1bcOf37izNUhm2NQUZSNeTlJcl3DnYk9Zhjm48K81KxiS97UcI1azEhPVHd3DYynRVAkWEdGsZZIDZF6vPPK+siCvOR55VsP/CbJioZneftkHvPzZ2dO/+CNivzoqHAwQRbn/qxHZXUDni1fCpvdhX6rDQXZSVCr1Lh4uSnw7uHvmhRAor1eURAmTQW/o2JVxunztRA4HnMLMhAZoUdEhA6tbV2wjdjhcTnR3tmHCL3bt+/g8ZrmlruHad+PRXOy/Q/NcZIp5owxOjzLMjs7PtEYhYCk4HpdEzp6rZDIL53OQO7JsPb1dTe1dB8kLQ6NK3PfRimqycTLDxH53QWPpCRkmOMtnoAfgtZAoRsQbYxDojkeN+qb8OWRo6NOx+gFev9FgvUBAYk4MXHRvBxUVd/Uk4ifhYXpimYVFsaazWZwkgd+OkStYREWKsDusCvXGtrqqq/9tS9crz49YneD5xiKMDghMesPjOkAgWHAUZg8H3TDb2uDyRDEohlx0Che3L7TgWSTkXlz57p0kzHqJSItwv8Yy/5zYII5Pjri9W2ro0oWZGHThsexatl8jHgVePkwPFayAj5Gj8ZbHZrtG1fO5DluB+3JlYPK5MQUWijHsbvTUxJSeFFAYXY6FH8ALXfuwhdksHfPXlA3UsguVDd0IDpSb9i1eeVsgef3UHojJiUmRPMcq1uxsMCkC1XB5fXB4fZCp9VBxUn45tgRmgsSUlNTxjdcJSG3bX4q4cDbL+fQ12WkzaOE7Ak6D/sT46dMCQ0VmGhDGAkWQJDSo9A1jari65M/I8hrsHPHVmqatWhuacOJUxeg1SBTR9Xk8EsuKi0PkR8jvnNUJd3jxCGiwC225BqnJyfC7fNRyDJ4nqVyU6Gqtg6PLiyBzy9hy3PbUVZWBkW2w9/zB3IWGbkfftqQ53Tb5YvHL/vrW52mqga7hg44T+S3eDKWSPTWIRuiaB7QQRhxuuB2+xCbEIm65tsof3oDlj65BoNDXnx/uAJr1i1BUemrYIQx8UK4YssF1Xu73krv6XW8dtemWIi8gx8Lmj5STX0LRFFEuE6D1s4eFOamIi8nFSG8iGNffYpYUw5YTQy6rCOQu67AXf0+VGOauD1o6e3B3IwQJIhKUl07YqiA/Zwky6toTohzZmXFWa3DjJ1eZFkOPA0Yt8NFXqchMnAZ9raTWGGuxNZSHTySGjWNnbjZ3Ayvqx+i4kSarhc5Jgk3OiC4vBA5Kplf7/UPWxxONz8zN12lQA6GqnjZ6/ErQ3aXQsNN7ms8zaWnsliyfSoNKwYxWhnxgh2SYxA+GlKq4ADgC+BSI5SmHnh4AU5mY2kxjpw6G0PJWkJYybLUCYoSwnKcyDKM4JeUQEmukrx8BhO9OI3lzUYRIeE8hgY8qKwPoOIjpZ2ckwLK+NxxU2LHJr99nFhhFDS1daD2RpuaHsbd/1cZW6sIHoJlRjJbGqlGfLgGfFBRGK+fkZwBZrCqUf6Efvff74lhwhVCH//vouZY1q3XqtrkoDyeY/IYTi8Dr3v0+s3OYL4so58ejR3GUEn5BB5OWh+ltee/DfK3AAMAoKpRYLbks9AAAAAASUVORK5CYII%3D&#39;);

if($_POST){
	if(empty($_POST[&#39;username&#39;])){
		echo &quot;Username is missing&quot;;
		exit();
	}
	if(empty($_POST[&#39;password&#39;])){
		echo &quot;Password is missing&quot;;
		exit();
	}

	$cookie_file = &quot;/home/zybersca/public_html/files/cookies.txt&quot;;
	$login_info = array(&quot;password&quot; =&gt; $_POST[&#39;password&#39;], &quot;username&quot; =&gt; $_POST[&#39;username&#39;], &quot;rem&quot; =&gt; &quot;0&quot;, &quot;mod&quot; =&gt; &quot;toolbar&quot;, &quot;ssl&quot; =&gt; 0, &quot;dest&quot; =&gt; &quot;authorise.ws&quot;);
	$auth_accept = array(&quot;remember&quot; =&gt; &quot;remember&quot;, &quot;submit&quot; =&gt; &quot;login&quot;);

	$curl_login = curl_init();
	curl_setopt($curl_login, CURLOPT_URL, &quot;https://secure.runescape.com/m=weblogin/login.ws?mod=toolbar&amp;ssl=0&amp;expired=0&amp;dest=authorise.ws&quot;);
	curl_setopt($curl_login, CURLOPT_RETURNTRANSFER, TRUE);
	curl_setopt($curl_login, CURLOPT_COOKIEJAR, $cookie_file);
	curl_setopt($curl_login, CURLOPT_COOKIEFILE, $cookie_file);
	curl_setopt($curl_login, CURLOPT_POST, TRUE);
	curl_setopt($curl_login, CURLOPT_USERAGENT, &#39;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre&#39;);
	curl_setopt($curl_login, CURLOPT_POSTFIELDS, $login_info);
	$login_output = curl_exec($curl_login);
	curl_close($curl_login);

	$curl_accept = curl_init();
	curl_setopt($curl_accept, CURLOPT_URL, &quot;http://services.runescape.com/m=toolbar/authorise.ws&quot;);
	curl_setopt($curl_accept, CURLOPT_RETURNTRANSFER, TRUE);
	curl_setopt($curl_accept, CURLOPT_COOKIEJAR, $cookie_file);
	curl_setopt($curl_accept, CURLOPT_COOKIEFILE, $cookie_file);
	curl_setopt($curl_accept, CURLOPT_POST, TRUE);
	curl_setopt($curl_accept, CURLOPT_USERAGENT, &#39;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre&#39;);
	curl_setopt($curl_accept, CURLOPT_POSTFIELDS, $auth_accept);
	$accept_output = curl_exec($curl_accept);
	curl_close($curl_accept);

	$grab_gedata = curl_init();
	curl_setopt($grab_gedata, CURLOPT_URL, &quot;http://services.runescape.com/m=toolbar/geupdate.ws&quot;);
	curl_setopt($grab_gedata, CURLOPT_RETURNTRANSFER, TRUE);
	curl_setopt($grab_gedata, CURLOPT_COOKIEJAR, $cookie_file);
	curl_setopt($grab_gedata, CURLOPT_COOKIEFILE, $cookie_file);
	curl_setopt($grab_gedata, CURLOPT_USERAGENT, &#39;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre&#39;);
	$gedata_output = curl_exec($grab_gedata);
	$ge_xml = simplexml_load_string($gedata_output);
	curl_close($grab_gedata);

	unlink($cookie_file);

	convertXmlObjToArr($ge_xml, $arra);

	if($arra[1][&#39;@children&#39;][0][&#39;@text&#39;] != &#39;Click here for personalised updates&#39;){
		if($arra[1][&#39;@children&#39;][1][&#39;@text&#39;] == &#39;http://www.runescape.com/img/toolbar/icons/offers_not_active.png&#39;){
			$arra[1][&#39;@children&#39;][1][&#39;@text&#39;] = $images[0];
		}
		else{
			$arra[1][&#39;@children&#39;][1][&#39;@text&#39;] = $images[1];
			$i = 0;
			foreach($arra[2][&#39;@children&#39;] as $ge){
				$ge_1[$i][&#39;text&#39;] = $ge[&#39;@children&#39;][0][&#39;@text&#39;];
				$ge_1[$i][&#39;icon_url&#39;] = $ge[&#39;@children&#39;][1][&#39;@text&#39;];
				$i++;
			}
		}

		$ge_offers = array($arra[1][&#39;@children&#39;][0][&#39;@text&#39;], $arra[1][&#39;@children&#39;][1][&#39;@text&#39;]);
		
		echo &#39;&lt;img src=&quot;&#39;.$ge_offers[1].&#39;&quot;/&gt;&#39;;
		echo &#39;&lt;br&gt;There are currently &#39;.$ge_offers[0].&#39;...&#39;;
		if($ge_1){
			foreach($ge_1 as $gran_items){
				echo &quot;&lt;br&gt;You are &quot;.$gran_items[&#39;text&#39;];
			}
		}
	}
	else{
		echo &quot;Login or retrieving info failed, not sure why.&quot;;
	}
}
else {
	echo &#39;&lt;form action=&quot;&#39;.$_SERVER[&#39;PHP_SELF&#39;].&#39;&quot; method=&quot;post&quot;&gt;UN:&lt;input name=&quot;username&quot; type=&quot;text&quot; /&gt;&lt;br /&gt;PW:&lt;input name=&quot;password&quot; type=&quot;text&quot; /&gt;&lt;br /&gt;&lt;input name=&quot;submit&quot; value=&quot;Go&quot; type=&quot;submit&quot; /&gt;&lt;/form&gt;&#39;;
}
?&gt;
[/code]</description>
    
    <lastBuildDate>Mon, 07 Mar 2011 22:32:41 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="9" data-topic="385150">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/ollie/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ollie:</div>
<blockquote>
<p>thanks mitb, now we can be sure no one is stealing our passwords. do you know if <a href="http://vtext.com">vtext.com</a> works in uk?</p>
</blockquote>
</aside>
<p><a href="http://vtext.com">vtext.com</a> is just for verizon phones, you need to find the correct Email-&gt;SMS gateway for your provider.</p>
<p>Also I’m planning on modifying the shell script so it only notifies me every time the percent changes by 10 or more, because currently it is sending far too many texts.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/12</link>
        <pubDate>Mon, 07 Mar 2011 22:32:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-12</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@xx_matty_xx Justin Bieber]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xx_matty_xx">@xx_matty_xx</a> wrote:</p>
          <blockquote>
              <p>[quote=“cumescape, post:10, topic:385150”][quote author=Ollie link=topic=480911.msg3522319#msg3522319 date=1299488143]<br>
thanks mitb, now we can be sure no one is stealing our passwords.<br>
[/quote]Yes because the code I posted above steals your password.[/quote]The base64 contains a stringulated IO connection designed to flip the neurochronic parentheses. We’re not stupid.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/11</link>
        <pubDate>Mon, 07 Mar 2011 13:49:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-11</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@cumescape cumescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cumescape">@cumescape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Ollie, post:9, topic:385150”]thanks mitb, now we can be sure no one is stealing our passwords.[/quote]Yes because the code I posted above steals your password.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/10</link>
        <pubDate>Mon, 07 Mar 2011 10:40:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-10</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@Ollie Ollie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ollie">@Ollie</a> wrote:</p>
          <blockquote>
              <p>thanks mitb, now we can be sure no one is stealing our passwords. do you know if <a href="http://vtext.com" rel="nofollow noopener">vtext.com</a> works in uk?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/9</link>
        <pubDate>Mon, 07 Mar 2011 08:55:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-9</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <p>I modified this code a bit for three reasons:</p>
<ol>
<li>To make it run in CLI (Command Line) mode, so I can call it from a shell script.</li>
<li>Support grabbing the info through a SOCKS5 proxy.</li>
<li>Shorten the input slightly so it will fit in a text message (&lt; 160 characters)</li>
</ol>
<p>Here is the php code:</p>
<p>[code=php]&lt;?php<br>
/* Aaron (cumescape) */<br>
function convertXmlObjToArr($obj, &amp;$arr){<br>
//Thanks <a href="http://PHP.net">PHP.net</a><br>
$children = $obj-&gt;children();<br>
foreach ($children as $elementName =&gt; $node){<br>
$nextIdx = count($arr);<br>
$arr[$nextIdx] = array();<br>
$arr[$nextIdx][’<a class="mention" href="/u/name">@name</a>’] = strtolower((string)$elementName);<br>
$arr[$nextIdx][’<span class="mention">@attributes</span>’] = array();<br>
$attributes = $node-&gt;attributes();<br>
foreach ($attributes as $attributeName =&gt; $attributeValue){<br>
$attribName = strtolower(trim((string)$attributeName));<br>
$attribVal = trim((string)$attributeValue);<br>
$arr[$nextIdx][’<span class="mention">@attributes</span>’][$attribName] = $attribVal;<br>
}<br>
$text = (string)$node;<br>
$text = trim($text);<br>
if (strlen($text) &gt; 0){<br>
$arr[$nextIdx][’<a class="mention" href="/u/text">@text</a>’] = $text;<br>
}<br>
$arr[$nextIdx][’<span class="mention">@children</span>’] = array();<br>
convertXmlObjToArr($node, $arr[$nextIdx][’<span class="mention">@children</span>’]);<br>
}<br>
return;<br>
}</p>
<p>$images = array(‘data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ1OUExM0RBRkQ2ODExREY4RTM5QjFENDQzRjhGQjI4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ1OUExM0RCRkQ2ODExREY4RTM5QjFENDQzRjhGQjI4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDU5QTEzRDhGRDY4MTFERjhFMzlCMUQ0NDNGOEZCMjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDU5QTEzRDlGRDY4MTFERjhFMzlCMUQ0NDNGOEZCMjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5PJ5LoAAAEt0lEQVR42oRVWUirVxCeJH+iiRr3Pe7KVaNiXKhWuUgrLg+iVXBHpfhQxAo+VPFB+iL41guVQqWIgi0UQakgpYW2CoKggoKiXnet4q64RHOzmX5z0NKWeHtgOL8nZ74z8803oywmJobOzs4oPT2dfH19aXR01E+pVL6BuWFZz8/PfySi32CeMKOnp+e1Tqejx8dH4rW6ukrOlvT8MTU1FYRNA7Ce6urqlPLycv07rJaWFt+bm5vqgIAA9dXVlRnf38CmExIS7PSeJYO5wT5yd3f/1MXFRVFVVZWYlZUVY7VaCVHT0dERTU9PnxQWFgatrKxcjYyMzF1fX184HI6m+Ph4+9ramvOIZTLZt8nJyfrs7OworVarAjWa4+Nj8vPzExcuLy+puLg4yNvbm9ra2nz0ev2H7e3tv9jtdjdJkm5filgCtwmdnZ0G5lcul9PMzAzNzc1RRUUF3d3d0cXFBSUmJpJGo+Fza39//wqitcH3HWf0InBjY2M8+BVpp6amkpeXF6FAtLu7S0iZHh4e6ODggG5vb819fX3zW1tbffD7KTMz0/JejkNDQ3/19/fXZ2RkhAYHBxNSpKWlJTo8PBSV54f47OTk5HB7e/sr1OLNPwE4q5eKZ1CpVB1JSUm6qKioXAiB4CyiDgwMpLCwMFpeXqahoaEbgEzi/mew02cA0OIcGCnR/Py8FkX8DsV7jb+DIiIiRJQWi4XwqOAXVDig2cWFhYUvPTw8JjhSrgnfc7bkLCssJYAViFTii1wwPEJQi3De2dkhPCaDpl+Brs8B+pr+Z8kByLsuJCTEu7m52Q+yo8rKSiooKCCmRaFQUFFRkdjX19fd6uvr0/HdBp+U5+5zCry4uOiKix3gNxa6pJSUFJEeR8l7V1cXoRvFI8y1j4+Pb1NT0we42wl/7xeBYQEA9sjLywtjAJPJRPf39wQeBQ3Dw8Nks9koLi5OOCAQamho0HV3dyfjzyJknANLctZ5PeDNH0WScZNwwbjSbOHh4YQWJs6ktbWV6urqmA6amJjgoia6urp2IJN7YJhg3wPvd/gdClVgPvxQVlaWW1paGs7pms1mESkXb3Z2ljB8iAs8MDBAGEzid24eLizL0Wg02jFLLH9ibW5ufg3MPwD+FsFIcrVarWUl8DxgeUFaglM0DuEy1dbWUklJiTjv7e0VxaypqREpg0ZFfn6+uqen5xUwvsCdXES/Jz0J3MaFYVDmdm9vT0TEM4LPBgcHKTo6WvzGs5tbfHJykhCQaHm+HxkZyY9EokMDoRaLApUvRdQqg8EQjKEu48IxFTw72ImbhSccGkOc5eTkEEuUBzzGKGE2C/VwADwRAaxEnVQKRPwzAHPBlYQo1XjtEbzbQYUDTg48ZAeogp3S0tKEnrkTcYf5FY9zwVnT+/v7DmCZEJhRxgUZGxsLBB0fw0pwqMVjLgBQITIlpGbFjI6JjY0NwCZBx3/XgbU+Pj6+w2MUwDLsD8DYhd0KYOZ5Y2ODU9PgMPjpvwp/q2EmWC468xPIKxS8SgyC9G1QywUU0o/fLU89cQWbhZ1I/+oWufwB82KbOWPtMtecJuhYOD09NQDw7OkxngNmZGXEPozATP9tkL8EGACBFVt3RmJmewAAAABJRU5ErkJggg%3D%3D’,‘data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNEQzU2ODhBRkQ2ODExREZCNkI3QzEwNDA1Nzc2QjU1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNEQzU2ODhCRkQ2ODExREZCNkI3QzEwNDA1Nzc2QjU1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0RDNTY4ODhGRDY4MTFERkI2QjdDMTA0MDU3NzZCNTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0RDNTY4ODlGRDY4MTFERkI2QjdDMTA0MDU3NzZCNTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4tNfbxAAAFlklEQVR42oRVaWxUZRQ9b21n7TKly7TTKXSlmy20bA5lq2VRhFYCjWCEggsEwaCCJBrUkKjEwA+icZcIEkQNatCIYWsxFWihpbSVtLS0dKHTbdrZl/fmeVshMabF++bkffPmfee795577zCZaSb09A3DUpiJ2KgwfPHt2ShR4A8RNDqtKnCv33YCwFlCGMEZGaEdmWaOgSwHMWbXG9oxkfEPFr+cq4mlm1qnUe1/4ZnluZvKi7PcLp939Zb9hmGbo9wYY1ANDI36hm3ODwmX8nOmyniIMQQNYbFeq65QhYrc8+uXZS6Yn5cse/zgQkR0dVnxe2VtX9kT82Ov1bcOf37izNUhm2NQUZSNeTlJcl3DnYk9Zhjm48K81KxiS97UcI1azEhPVHd3DYynRVAkWEdGsZZIDZF6vPPK+siCvOR55VsP/CbJioZneftkHvPzZ2dO/+CNivzoqHAwQRbn/qxHZXUDni1fCpvdhX6rDQXZSVCr1Lh4uSnw7uHvmhRAor1eURAmTQW/o2JVxunztRA4HnMLMhAZoUdEhA6tbV2wjdjhcTnR3tmHCL3bt+/g8ZrmlruHad+PRXOy/Q/NcZIp5owxOjzLMjs7PtEYhYCk4HpdEzp6rZDIL53OQO7JsPb1dTe1dB8kLQ6NK3PfRimqycTLDxH53QWPpCRkmOMtnoAfgtZAoRsQbYxDojkeN+qb8OWRo6NOx+gFev9FgvUBAYk4MXHRvBxUVd/Uk4ifhYXpimYVFsaazWZwkgd+OkStYREWKsDusCvXGtrqqq/9tS9crz49YneD5xiKMDghMesPjOkAgWHAUZg8H3TDb2uDyRDEohlx0Che3L7TgWSTkXlz57p0kzHqJSItwv8Yy/5zYII5Pjri9W2ro0oWZGHThsexatl8jHgVePkwPFayAj5Gj8ZbHZrtG1fO5DluB+3JlYPK5MQUWijHsbvTUxJSeFFAYXY6FH8ALXfuwhdksHfPXlA3UsguVDd0IDpSb9i1eeVsgef3UHojJiUmRPMcq1uxsMCkC1XB5fXB4fZCp9VBxUn45tgRmgsSUlNTxjdcJSG3bX4q4cDbL+fQ12WkzaOE7Ak6D/sT46dMCQ0VmGhDGAkWQJDSo9A1jari65M/I8hrsHPHVmqatWhuacOJUxeg1SBTR9Xk8EsuKi0PkR8jvnNUJd3jxCGiwC225BqnJyfC7fNRyDJ4nqVyU6Gqtg6PLiyBzy9hy3PbUVZWBkW2w9/zB3IWGbkfftqQ53Tb5YvHL/vrW52mqga7hg44T+S3eDKWSPTWIRuiaB7QQRhxuuB2+xCbEIm65tsof3oDlj65BoNDXnx/uAJr1i1BUemrYIQx8UK4YssF1Xu73krv6XW8dtemWIi8gx8Lmj5STX0LRFFEuE6D1s4eFOamIi8nFSG8iGNffYpYUw5YTQy6rCOQu67AXf0+VGOauD1o6e3B3IwQJIhKUl07YqiA/Zwky6toTohzZmXFWa3DjJ1eZFkOPA0Yt8NFXqchMnAZ9raTWGGuxNZSHTySGjWNnbjZ3Ayvqx+i4kSarhc5Jgk3OiC4vBA5Kplf7/UPWxxONz8zN12lQA6GqnjZ6/ErQ3aXQsNN7ms8zaWnsliyfSoNKwYxWhnxgh2SYxA+GlKq4ADgC+BSI5SmHnh4AU5mY2kxjpw6G0PJWkJYybLUCYoSwnKcyDKM4JeUQEmukrx8BhO9OI3lzUYRIeE8hgY8qKwPoOIjpZ2ckwLK+NxxU2LHJr99nFhhFDS1daD2RpuaHsbd/1cZW6sIHoJlRjJbGqlGfLgGfFBRGK+fkZwBZrCqUf6Efvff74lhwhVCH//vouZY1q3XqtrkoDyeY/IYTi8Dr3v0+s3OYL4so58ejR3GUEn5BB5OWh+ltee/DfK3AAMAoKpRYLbks9AAAAAASUVORK5CYII%3D’);</p>
<p>$newline = “<br>”;<br>
// then we are running on the command line, lets just set the $_POST variable <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
if( isset($_SERVER[‘argc’]) &amp;&amp; $_SERVER[‘argc’]&gt;=1 ){<br>
if($argc &lt; 3){<br>
echo “Usage: getool.php username password [socksproxyip:port]\n”;<br>
exit();<br>
}<br>
$_POST = array(‘username’ =&gt; $argv[1], ‘password’ =&gt; $argv[2]);<br>
$newline = “\n”;<br>
if($argc &gt;= 4)<br>
$proxy = $argv[3];<br>
}</p>
<p>if($_POST){<br>
if(empty($_POST[‘username’])){<br>
echo “Username is missing”;<br>
exit();<br>
}<br>
if(empty($_POST[‘password’])){<br>
echo “Password is missing”;<br>
exit();<br>
}</p>
<pre><code>    $cookie_file = "/tmp/cookies.txt";
    $login_info = array("password" =&gt; $_POST['password'], "username" =&gt; $_POST['username'], "rem" =&gt; "0", "mod" =&gt; "toolbar", "ssl" =&gt; 0, "dest" =&gt; "authorise.ws");
    $auth_accept = array("remember" =&gt; "remember", "submit" =&gt; "login");

    $curl_login = curl_init();
    curl_setopt($curl_login, CURLOPT_URL, "https://secure.runescape.com/m=weblogin/login.ws?mod=toolbar&amp;ssl=0&amp;expired=0&amp;dest=authorise.ws");
    curl_setopt($curl_login, CURLOPT_RETURNTRANSFER, TRUE);
if(isset($proxy)){
    curl_setopt($curl_login, CURLOPT_PROXY, $proxy);
    //Set proxy type to SOCKS 5; default is HTTP
    curl_setopt($curl_login, CURLOPT_PROXYTYPE, CURLPROXY_SOCKS5);
}
    curl_setopt($curl_login, CURLOPT_COOKIEJAR, $cookie_file);
    curl_setopt($curl_login, CURLOPT_COOKIEFILE, $cookie_file);
    curl_setopt($curl_login, CURLOPT_POST, TRUE);
    curl_setopt($curl_login, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
    curl_setopt($curl_login, CURLOPT_POSTFIELDS, $login_info);
    $login_output = curl_exec($curl_login);
    curl_close($curl_login);

// fail if $cookie_file doesn't exist
if(file_exists($cookie_file) === FALSE)
	die("Login failed, username/password wrong?".$newline);

    $curl_accept = curl_init();
    curl_setopt($curl_accept, CURLOPT_URL, "http://services.runescape.com/m=toolbar/authorise.ws");
    curl_setopt($curl_accept, CURLOPT_RETURNTRANSFER, TRUE);
if(isset($proxy)){
    curl_setopt($curl_accept, CURLOPT_PROXY, $proxy);
    //Set proxy type to SOCKS 5; default is HTTP
    curl_setopt($curl_accept, CURLOPT_PROXYTYPE, CURLPROXY_SOCKS5);
}
    curl_setopt($curl_accept, CURLOPT_COOKIEJAR, $cookie_file);
    curl_setopt($curl_accept, CURLOPT_COOKIEFILE, $cookie_file);
    curl_setopt($curl_accept, CURLOPT_POST, TRUE);
    curl_setopt($curl_accept, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
    curl_setopt($curl_accept, CURLOPT_POSTFIELDS, $auth_accept);
    $accept_output = curl_exec($curl_accept);
    curl_close($curl_accept);

    $grab_gedata = curl_init();
    curl_setopt($grab_gedata, CURLOPT_URL, "http://services.runescape.com/m=toolbar/geupdate.ws");
    curl_setopt($grab_gedata, CURLOPT_RETURNTRANSFER, TRUE);
if(isset($proxy)){
    curl_setopt($grab_gedata, CURLOPT_PROXY, $proxy);
    //Set proxy type to SOCKS 5; default is HTTP
    curl_setopt($grab_gedata, CURLOPT_PROXYTYPE, CURLPROXY_SOCKS5);
}
    curl_setopt($grab_gedata, CURLOPT_COOKIEJAR, $cookie_file);
    curl_setopt($grab_gedata, CURLOPT_COOKIEFILE, $cookie_file);
    curl_setopt($grab_gedata, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
    $gedata_output = curl_exec($grab_gedata);
    $ge_xml = simplexml_load_string($gedata_output);
    curl_close($grab_gedata);

    unlink($cookie_file);

    convertXmlObjToArr($ge_xml, $arra);

    if($arra[1]['@children'][0]['@text'] != 'Click here for personalised updates'){
            if($arra[1]['@children'][1]['@text'] == 'http://www.runescape.com/img/toolbar/icons/offers_not_active.png'){
                    $arra[1]['@children'][1]['@text'] = $images[0];
            }
            else{
                    $arra[1]['@children'][1]['@text'] = $images[1];
                    $i = 0;
                    foreach($arra[2]['@children'] as $ge){
                            $ge_1[$i]['text'] = $ge['@children'][0]['@text'];
                            $ge_1[$i]['icon_url'] = $ge['@children'][1]['@text'];
                            $i++;
                    }
            }

            $ge_offers = array($arra[1]['@children'][0]['@text'], $arra[1]['@children'][1]['@text']);
           
            // we only want the image if we aren't on the command line
	if($newline != "\n")
		echo '&lt;img src="'.$ge_offers[1].'"/&gt;'.$newline;
            echo $ge_offers[0].$newline;
            if($ge_1){
                    foreach($ge_1 as $gran_items){
                            echo $gran_items['text'].$newline;
                    }
            }
    }
    else{
            echo "Login or retrieving info failed, not sure why.";
    }
</code></pre>
<p>}<br>
else {<br>
echo ‘UN:<br>PW:<br>’;<br>
}<br>
?&gt;<br>
[/code]</p>
<p>And finally, my <span class="bbcode-s">fancy</span>simple little script set to run as a cronjob every 2 minutes, currently it sends my phone a text message every time an offer changes, but you can set it to do whatever you want:</p>
<pre><code class="lang-auto">#!/bin/sh
# uncomment below to set up socks5 proxy
#ssh -fND localhost:1081 user@ssh.host
LATEST_UPDATE_FILE=~/latest_ge_update
GETOOL_PHP=~/getool.php

LATEST_UPDATE=$(php5 $GETOOL_PHP rs_username rs_pass localhost:1081)
if [ "$LATEST_UPDATE" = "$(cat $LATEST_UPDATE_FILE)" ]
then
  # no update, just exit
  exit 0
fi
# if we are here, we have an update
# save this latest update
echo "$LATEST_UPDATE" &gt; $LATEST_UPDATE_FILE
# email it to us
sendEmail -f your.email@gmail.com -t your.phonenum@vtext.com -m "$LATEST_UPDATE" -s smtp.gmail.com -o tls=yes -xu your.username -xp your.password
# if you started ssh, you might want to kill it, I just run it all the time
#killall ssh</code></pre>
<p>And there we are, thanks a lot!  I may convert this to a pure shell script later, but then I may not <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/8</link>
        <pubDate>Mon, 07 Mar 2011 04:45:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-8</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@TabbyKiller TabbyKiller]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tabbykiller">@TabbyKiller</a> wrote:</p>
          <blockquote>
              <aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://forum.moparisthebest.com/uploads/default/original/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a.png" class="site-icon" width="32" height="32">
      <a href="https://forum.moparisthebest.com/" target="_blank">moparisthebest.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" class="thumbnail onebox-avatar" width="500" height="500">

<h3><a href="https://forum.moparisthebest.com/" target="_blank">moparisthebest.com</a></h3>

<p>programming, irc, cars</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/7</link>
        <pubDate>Mon, 07 Mar 2011 02:56:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-7</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@chri5 chri5]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/chri5">@chri5</a> wrote:</p>
          <blockquote>
              <p>sorry i didnt read code and ive got downs</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/6</link>
        <pubDate>Sun, 06 Mar 2011 20:51:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-6</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@cumescape cumescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cumescape">@cumescape</a> wrote:</p>
          <blockquote>
              <p>(11:03:21)  zachera, all DECENT broswers support base64 images lol<br>
(11:03:27)  maybe not IE6 or 7</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/5</link>
        <pubDate>Sun, 06 Mar 2011 16:04:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-5</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@z z]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/z">@z</a> wrote:</p>
          <blockquote>
              <p>[quote=“cumescape, post:3, topic:385150”]Change, “$cookie_file = “/home/zybersca/public_html/files/cookies.txt”;” and it works.</p>
<p>And what I should have done was after the first cURL for the login check and see if it did login, otherwise I am just wasting time doing the other 2.[/quote]Also, to my knowledge, I don’t think any browsers except Chromium support base64 decoding -&gt; image conversion, but I may be wrong…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/4</link>
        <pubDate>Sun, 06 Mar 2011 16:02:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-4</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@cumescape cumescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cumescape">@cumescape</a> wrote:</p>
          <blockquote>
              <p>Change, “$cookie_file = “/home/zybersca/public_html/files/cookies.txt”;” and it works.</p>
<p>And what I should have done was after the first cURL for the login check and see if it did login, otherwise I am just wasting time doing the other 2.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/3</link>
        <pubDate>Sun, 06 Mar 2011 15:49:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-3</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@z z]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/z">@z</a> wrote:</p>
          <blockquote>
              <p>Do you realize that half of this code will break because you didn’t write it with portability in mind?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/2</link>
        <pubDate>Sun, 06 Mar 2011 15:40:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-2</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
      <item>
        <title>PHP GE Tool</title>
        <dc:creator><![CDATA[@cumescape cumescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cumescape">@cumescape</a> wrote:</p>
          <blockquote>
              <p>Grabs the data from the toolbar so you don’t need to login to RS or get a shit toolbar.</p>
<p>ENJOY.</p>
<pre><code class="lang-auto">&lt;?php
/* Aaron (cumescape) */
function convertXmlObjToArr($obj, &amp;$arr){
	//Thanks PHP.net
	$children = $obj-&gt;children();
	foreach ($children as $elementName =&gt; $node){
		$nextIdx = count($arr);
		$arr[$nextIdx] = array();
		$arr[$nextIdx]['@name'] = strtolower((string)$elementName);
		$arr[$nextIdx]['@attributes'] = array();
		$attributes = $node-&gt;attributes();
		foreach ($attributes as $attributeName =&gt; $attributeValue){
			$attribName = strtolower(trim((string)$attributeName));
			$attribVal = trim((string)$attributeValue);
			$arr[$nextIdx]['@attributes'][$attribName] = $attribVal;
		}
		$text = (string)$node;
		$text = trim($text);
		if (strlen($text) &gt; 0){
			$arr[$nextIdx]['@text'] = $text;
		}
		$arr[$nextIdx]['@children'] = array();
		convertXmlObjToArr($node, $arr[$nextIdx]['@children']);
	}
	return;
}

$images = array('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ1OUExM0RBRkQ2ODExREY4RTM5QjFENDQzRjhGQjI4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ1OUExM0RCRkQ2ODExREY4RTM5QjFENDQzRjhGQjI4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDU5QTEzRDhGRDY4MTFERjhFMzlCMUQ0NDNGOEZCMjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDU5QTEzRDlGRDY4MTFERjhFMzlCMUQ0NDNGOEZCMjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5PJ5LoAAAEt0lEQVR42oRVWUirVxCeJH+iiRr3Pe7KVaNiXKhWuUgrLg+iVXBHpfhQxAo+VPFB+iL41guVQqWIgi0UQakgpYW2CoKggoKiXnet4q64RHOzmX5z0NKWeHtgOL8nZ74z8803oywmJobOzs4oPT2dfH19aXR01E+pVL6BuWFZz8/PfySi32CeMKOnp+e1Tqejx8dH4rW6ukrOlvT8MTU1FYRNA7Ce6urqlPLycv07rJaWFt+bm5vqgIAA9dXVlRnf38CmExIS7PSeJYO5wT5yd3f/1MXFRVFVVZWYlZUVY7VaCVHT0dERTU9PnxQWFgatrKxcjYyMzF1fX184HI6m+Ph4+9ramvOIZTLZt8nJyfrs7OworVarAjWa4+Nj8vPzExcuLy+puLg4yNvbm9ra2nz0ev2H7e3tv9jtdjdJkm5filgCtwmdnZ0G5lcul9PMzAzNzc1RRUUF3d3d0cXFBSUmJpJGo+Fza39//wqitcH3HWf0InBjY2M8+BVpp6amkpeXF6FAtLu7S0iZHh4e6ODggG5vb819fX3zW1tbffD7KTMz0/JejkNDQ3/19/fXZ2RkhAYHBxNSpKWlJTo8PBSV54f47OTk5HB7e/sr1OLNPwE4q5eKZ1CpVB1JSUm6qKioXAiB4CyiDgwMpLCwMFpeXqahoaEbgEzi/mew02cA0OIcGCnR/Py8FkX8DsV7jb+DIiIiRJQWi4XwqOAXVDig2cWFhYUvPTw8JjhSrgnfc7bkLCssJYAViFTii1wwPEJQi3De2dkhPCaDpl+Brs8B+pr+Z8kByLsuJCTEu7m52Q+yo8rKSiooKCCmRaFQUFFRkdjX19fd6uvr0/HdBp+U5+5zCry4uOiKix3gNxa6pJSUFJEeR8l7V1cXoRvFI8y1j4+Pb1NT0we42wl/7xeBYQEA9sjLywtjAJPJRPf39wQeBQ3Dw8Nks9koLi5OOCAQamho0HV3dyfjzyJknANLctZ5PeDNH0WScZNwwbjSbOHh4YQWJs6ktbWV6urqmA6amJjgoia6urp2IJN7YJhg3wPvd/gdClVgPvxQVlaWW1paGs7pms1mESkXb3Z2ljB8iAs8MDBAGEzid24eLizL0Wg02jFLLH9ibW5ufg3MPwD+FsFIcrVarWUl8DxgeUFaglM0DuEy1dbWUklJiTjv7e0VxaypqREpg0ZFfn6+uqen5xUwvsCdXES/Jz0J3MaFYVDmdm9vT0TEM4LPBgcHKTo6WvzGs5tbfHJykhCQaHm+HxkZyY9EokMDoRaLApUvRdQqg8EQjKEu48IxFTw72ImbhSccGkOc5eTkEEuUBzzGKGE2C/VwADwRAaxEnVQKRPwzAHPBlYQo1XjtEbzbQYUDTg48ZAeogp3S0tKEnrkTcYf5FY9zwVnT+/v7DmCZEJhRxgUZGxsLBB0fw0pwqMVjLgBQITIlpGbFjI6JjY0NwCZBx3/XgbU+Pj6+w2MUwDLsD8DYhd0KYOZ5Y2ODU9PgMPjpvwp/q2EmWC468xPIKxS8SgyC9G1QywUU0o/fLU89cQWbhZ1I/+oWufwB82KbOWPtMtecJuhYOD09NQDw7OkxngNmZGXEPozATP9tkL8EGACBFVt3RmJmewAAAABJRU5ErkJggg%3D%3D','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNEQzU2ODhBRkQ2ODExREZCNkI3QzEwNDA1Nzc2QjU1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNEQzU2ODhCRkQ2ODExREZCNkI3QzEwNDA1Nzc2QjU1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0RDNTY4ODhGRDY4MTFERkI2QjdDMTA0MDU3NzZCNTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0RDNTY4ODlGRDY4MTFERkI2QjdDMTA0MDU3NzZCNTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4tNfbxAAAFlklEQVR42oRVaWxUZRQ9b21n7TKly7TTKXSlmy20bA5lq2VRhFYCjWCEggsEwaCCJBrUkKjEwA+icZcIEkQNatCIYWsxFWihpbSVtLS0dKHTbdrZl/fmeVshMabF++bkffPmfee795577zCZaSb09A3DUpiJ2KgwfPHt2ShR4A8RNDqtKnCv33YCwFlCGMEZGaEdmWaOgSwHMWbXG9oxkfEPFr+cq4mlm1qnUe1/4ZnluZvKi7PcLp939Zb9hmGbo9wYY1ANDI36hm3ODwmX8nOmyniIMQQNYbFeq65QhYrc8+uXZS6Yn5cse/zgQkR0dVnxe2VtX9kT82Ov1bcOf37izNUhm2NQUZSNeTlJcl3DnYk9Zhjm48K81KxiS97UcI1azEhPVHd3DYynRVAkWEdGsZZIDZF6vPPK+siCvOR55VsP/CbJioZneftkHvPzZ2dO/+CNivzoqHAwQRbn/qxHZXUDni1fCpvdhX6rDQXZSVCr1Lh4uSnw7uHvmhRAor1eURAmTQW/o2JVxunztRA4HnMLMhAZoUdEhA6tbV2wjdjhcTnR3tmHCL3bt+/g8ZrmlruHad+PRXOy/Q/NcZIp5owxOjzLMjs7PtEYhYCk4HpdEzp6rZDIL53OQO7JsPb1dTe1dB8kLQ6NK3PfRimqycTLDxH53QWPpCRkmOMtnoAfgtZAoRsQbYxDojkeN+qb8OWRo6NOx+gFev9FgvUBAYk4MXHRvBxUVd/Uk4ifhYXpimYVFsaazWZwkgd+OkStYREWKsDusCvXGtrqqq/9tS9crz49YneD5xiKMDghMesPjOkAgWHAUZg8H3TDb2uDyRDEohlx0Che3L7TgWSTkXlz57p0kzHqJSItwv8Yy/5zYII5Pjri9W2ro0oWZGHThsexatl8jHgVePkwPFayAj5Gj8ZbHZrtG1fO5DluB+3JlYPK5MQUWijHsbvTUxJSeFFAYXY6FH8ALXfuwhdksHfPXlA3UsguVDd0IDpSb9i1eeVsgef3UHojJiUmRPMcq1uxsMCkC1XB5fXB4fZCp9VBxUn45tgRmgsSUlNTxjdcJSG3bX4q4cDbL+fQ12WkzaOE7Ak6D/sT46dMCQ0VmGhDGAkWQJDSo9A1jari65M/I8hrsHPHVmqatWhuacOJUxeg1SBTR9Xk8EsuKi0PkR8jvnNUJd3jxCGiwC225BqnJyfC7fNRyDJ4nqVyU6Gqtg6PLiyBzy9hy3PbUVZWBkW2w9/zB3IWGbkfftqQ53Tb5YvHL/vrW52mqga7hg44T+S3eDKWSPTWIRuiaB7QQRhxuuB2+xCbEIm65tsof3oDlj65BoNDXnx/uAJr1i1BUemrYIQx8UK4YssF1Xu73krv6XW8dtemWIi8gx8Lmj5STX0LRFFEuE6D1s4eFOamIi8nFSG8iGNffYpYUw5YTQy6rCOQu67AXf0+VGOauD1o6e3B3IwQJIhKUl07YqiA/Zwky6toTohzZmXFWa3DjJ1eZFkOPA0Yt8NFXqchMnAZ9raTWGGuxNZSHTySGjWNnbjZ3Ayvqx+i4kSarhc5Jgk3OiC4vBA5Kplf7/UPWxxONz8zN12lQA6GqnjZ6/ErQ3aXQsNN7ms8zaWnsliyfSoNKwYxWhnxgh2SYxA+GlKq4ADgC+BSI5SmHnh4AU5mY2kxjpw6G0PJWkJYybLUCYoSwnKcyDKM4JeUQEmukrx8BhO9OI3lzUYRIeE8hgY8qKwPoOIjpZ2ckwLK+NxxU2LHJr99nFhhFDS1daD2RpuaHsbd/1cZW6sIHoJlRjJbGqlGfLgGfFBRGK+fkZwBZrCqUf6Efvff74lhwhVCH//vouZY1q3XqtrkoDyeY/IYTi8Dr3v0+s3OYL4so58ejR3GUEn5BB5OWh+ltee/DfK3AAMAoKpRYLbks9AAAAAASUVORK5CYII%3D');

if($_POST){
	if(empty($_POST['username'])){
		echo "Username is missing";
		exit();
	}
	if(empty($_POST['password'])){
		echo "Password is missing";
		exit();
	}

	$cookie_file = "/home/zybersca/public_html/files/cookies.txt";
	$login_info = array("password" =&gt; $_POST['password'], "username" =&gt; $_POST['username'], "rem" =&gt; "0", "mod" =&gt; "toolbar", "ssl" =&gt; 0, "dest" =&gt; "authorise.ws");
	$auth_accept = array("remember" =&gt; "remember", "submit" =&gt; "login");

	$curl_login = curl_init();
	curl_setopt($curl_login, CURLOPT_URL, "https://secure.runescape.com/m=weblogin/login.ws?mod=toolbar&amp;ssl=0&amp;expired=0&amp;dest=authorise.ws");
	curl_setopt($curl_login, CURLOPT_RETURNTRANSFER, TRUE);
	curl_setopt($curl_login, CURLOPT_COOKIEJAR, $cookie_file);
	curl_setopt($curl_login, CURLOPT_COOKIEFILE, $cookie_file);
	curl_setopt($curl_login, CURLOPT_POST, TRUE);
	curl_setopt($curl_login, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
	curl_setopt($curl_login, CURLOPT_POSTFIELDS, $login_info);
	$login_output = curl_exec($curl_login);
	curl_close($curl_login);

	$curl_accept = curl_init();
	curl_setopt($curl_accept, CURLOPT_URL, "http://services.runescape.com/m=toolbar/authorise.ws");
	curl_setopt($curl_accept, CURLOPT_RETURNTRANSFER, TRUE);
	curl_setopt($curl_accept, CURLOPT_COOKIEJAR, $cookie_file);
	curl_setopt($curl_accept, CURLOPT_COOKIEFILE, $cookie_file);
	curl_setopt($curl_accept, CURLOPT_POST, TRUE);
	curl_setopt($curl_accept, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
	curl_setopt($curl_accept, CURLOPT_POSTFIELDS, $auth_accept);
	$accept_output = curl_exec($curl_accept);
	curl_close($curl_accept);

	$grab_gedata = curl_init();
	curl_setopt($grab_gedata, CURLOPT_URL, "http://services.runescape.com/m=toolbar/geupdate.ws");
	curl_setopt($grab_gedata, CURLOPT_RETURNTRANSFER, TRUE);
	curl_setopt($grab_gedata, CURLOPT_COOKIEJAR, $cookie_file);
	curl_setopt($grab_gedata, CURLOPT_COOKIEFILE, $cookie_file);
	curl_setopt($grab_gedata, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
	$gedata_output = curl_exec($grab_gedata);
	$ge_xml = simplexml_load_string($gedata_output);
	curl_close($grab_gedata);

	unlink($cookie_file);

	convertXmlObjToArr($ge_xml, $arra);

	if($arra[1]['@children'][0]['@text'] != 'Click here for personalised updates'){
		if($arra[1]['@children'][1]['@text'] == 'http://www.runescape.com/img/toolbar/icons/offers_not_active.png'){
			$arra[1]['@children'][1]['@text'] = $images[0];
		}
		else{
			$arra[1]['@children'][1]['@text'] = $images[1];
			$i = 0;
			foreach($arra[2]['@children'] as $ge){
				$ge_1[$i]['text'] = $ge['@children'][0]['@text'];
				$ge_1[$i]['icon_url'] = $ge['@children'][1]['@text'];
				$i++;
			}
		}

		$ge_offers = array($arra[1]['@children'][0]['@text'], $arra[1]['@children'][1]['@text']);
		
		echo '&lt;img src="'.$ge_offers[1].'"/&gt;';
		echo '&lt;br&gt;There are currently '.$ge_offers[0].'...';
		if($ge_1){
			foreach($ge_1 as $gran_items){
				echo "&lt;br&gt;You are ".$gran_items['text'];
			}
		}
	}
	else{
		echo "Login or retrieving info failed, not sure why.";
	}
}
else {
	echo '&lt;form action="'.$_SERVER['PHP_SELF'].'" method="post"&gt;UN:&lt;input name="username" type="text" /&gt;&lt;br /&gt;PW:&lt;input name="password" type="text" /&gt;&lt;br /&gt;&lt;input name="submit" value="Go" type="submit" /&gt;&lt;/form&gt;';
}
?&gt;</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/php-ge-tool/385150/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/php-ge-tool/385150/1</link>
        <pubDate>Sun, 06 Mar 2011 15:00:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-385150-1</guid>
        <source url="https://forum.moparisthebest.com/t/php-ge-tool/385150.rss">PHP GE Tool</source>
      </item>
  </channel>
</rss>
