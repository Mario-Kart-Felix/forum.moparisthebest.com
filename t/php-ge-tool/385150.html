<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/php-ge-tool/385150 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 19:47:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>PHP GE Tool - General Programming - moparisthebest.com</title>
    <meta name="description" content="Grabs the data from the toolbar so you don&amp;#39;t need to login to RS or get a shit toolbar. 

ENJOY.  

 &amp;lt;?php
/* Aaron (cumescape) */
function convertXmlObjToArr($obj, &amp;amp;$arr){
	//Thanks PHP.net
	$children = $obj-&amp;gt;children()&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="385150.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;PHP GE Tool&#39;" href="385150.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/php-ge-tool/385150" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/php-ge-tool/385150" />
<meta property="og:title" content="PHP GE Tool" />
<meta name="twitter:title" content="PHP GE Tool" />
<meta property="og:description" content="Grabs the data from the toolbar so you don’t need to login to RS or get a shit toolbar.  ENJOY.  &lt;?php /* Aaron (cumescape) */ function convertXmlObjToArr($obj, &amp;$arr){ 	//Thanks PHP.net 	$children = $obj-&gt;children(); 	foreach ($children as $elementName =&gt; $node){ 		$nextIdx = count($arr); 		$arr[$nextIdx] = array(); 		$arr[$nextIdx][&#39;@name&#39;] = strtolower((string)$elementName); 		$arr[$nextIdx][&#39;@attributes&#39;] = array(); 		$attributes = $node-&gt;attributes(); 		foreach ($attributes as $attributeNam..." />
<meta name="twitter:description" content="Grabs the data from the toolbar so you don’t need to login to RS or get a shit toolbar.  ENJOY.  &lt;?php /* Aaron (cumescape) */ function convertXmlObjToArr($obj, &amp;$arr){ 	//Thanks PHP.net 	$children = $obj-&gt;children(); 	foreach ($children as $elementName =&gt; $node){ 		$nextIdx = count($arr); 		$arr[$nextIdx] = array(); 		$arr[$nextIdx][&#39;@name&#39;] = strtolower((string)$elementName); 		$arr[$nextIdx][&#39;@attributes&#39;] = array(); 		$attributes = $node-&gt;attributes(); 		foreach ($attributes as $attributeNam..." />
<meta property="article:published_time" content="2011-03-06T15:00:51+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="385150.html">PHP GE Tool</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cumescape.html'><span itemprop='name'>cumescape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-06T15:00:51Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:58:21Z' class='post-time'>
              August 1, 2016,  7:58am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Grabs the data from the toolbar so you don’t need to login to RS or get a shit toolbar.</p>
<p>ENJOY.</p>
<pre><code class="lang-auto">&lt;?php
/* Aaron (cumescape) */
function convertXmlObjToArr($obj, &amp;$arr){
	//Thanks PHP.net
	$children = $obj-&gt;children();
	foreach ($children as $elementName =&gt; $node){
		$nextIdx = count($arr);
		$arr[$nextIdx] = array();
		$arr[$nextIdx]['@name'] = strtolower((string)$elementName);
		$arr[$nextIdx]['@attributes'] = array();
		$attributes = $node-&gt;attributes();
		foreach ($attributes as $attributeName =&gt; $attributeValue){
			$attribName = strtolower(trim((string)$attributeName));
			$attribVal = trim((string)$attributeValue);
			$arr[$nextIdx]['@attributes'][$attribName] = $attribVal;
		}
		$text = (string)$node;
		$text = trim($text);
		if (strlen($text) &gt; 0){
			$arr[$nextIdx]['@text'] = $text;
		}
		$arr[$nextIdx]['@children'] = array();
		convertXmlObjToArr($node, $arr[$nextIdx]['@children']);
	}
	return;
}

$images = array('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ1OUExM0RBRkQ2ODExREY4RTM5QjFENDQzRjhGQjI4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ1OUExM0RCRkQ2ODExREY4RTM5QjFENDQzRjhGQjI4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDU5QTEzRDhGRDY4MTFERjhFMzlCMUQ0NDNGOEZCMjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDU5QTEzRDlGRDY4MTFERjhFMzlCMUQ0NDNGOEZCMjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5PJ5LoAAAEt0lEQVR42oRVWUirVxCeJH+iiRr3Pe7KVaNiXKhWuUgrLg+iVXBHpfhQxAo+VPFB+iL41guVQqWIgi0UQakgpYW2CoKggoKiXnet4q64RHOzmX5z0NKWeHtgOL8nZ74z8803oywmJobOzs4oPT2dfH19aXR01E+pVL6BuWFZz8/PfySi32CeMKOnp+e1Tqejx8dH4rW6ukrOlvT8MTU1FYRNA7Ce6urqlPLycv07rJaWFt+bm5vqgIAA9dXVlRnf38CmExIS7PSeJYO5wT5yd3f/1MXFRVFVVZWYlZUVY7VaCVHT0dERTU9PnxQWFgatrKxcjYyMzF1fX184HI6m+Ph4+9ramvOIZTLZt8nJyfrs7OworVarAjWa4+Nj8vPzExcuLy+puLg4yNvbm9ra2nz0ev2H7e3tv9jtdjdJkm5filgCtwmdnZ0G5lcul9PMzAzNzc1RRUUF3d3d0cXFBSUmJpJGo+Fza39//wqitcH3HWf0InBjY2M8+BVpp6amkpeXF6FAtLu7S0iZHh4e6ODggG5vb819fX3zW1tbffD7KTMz0/JejkNDQ3/19/fXZ2RkhAYHBxNSpKWlJTo8PBSV54f47OTk5HB7e/sr1OLNPwE4q5eKZ1CpVB1JSUm6qKioXAiB4CyiDgwMpLCwMFpeXqahoaEbgEzi/mew02cA0OIcGCnR/Py8FkX8DsV7jb+DIiIiRJQWi4XwqOAXVDig2cWFhYUvPTw8JjhSrgnfc7bkLCssJYAViFTii1wwPEJQi3De2dkhPCaDpl+Brs8B+pr+Z8kByLsuJCTEu7m52Q+yo8rKSiooKCCmRaFQUFFRkdjX19fd6uvr0/HdBp+U5+5zCry4uOiKix3gNxa6pJSUFJEeR8l7V1cXoRvFI8y1j4+Pb1NT0we42wl/7xeBYQEA9sjLywtjAJPJRPf39wQeBQ3Dw8Nks9koLi5OOCAQamho0HV3dyfjzyJknANLctZ5PeDNH0WScZNwwbjSbOHh4YQWJs6ktbWV6urqmA6amJjgoia6urp2IJN7YJhg3wPvd/gdClVgPvxQVlaWW1paGs7pms1mESkXb3Z2ljB8iAs8MDBAGEzid24eLizL0Wg02jFLLH9ibW5ufg3MPwD+FsFIcrVarWUl8DxgeUFaglM0DuEy1dbWUklJiTjv7e0VxaypqREpg0ZFfn6+uqen5xUwvsCdXES/Jz0J3MaFYVDmdm9vT0TEM4LPBgcHKTo6WvzGs5tbfHJykhCQaHm+HxkZyY9EokMDoRaLApUvRdQqg8EQjKEu48IxFTw72ImbhSccGkOc5eTkEEuUBzzGKGE2C/VwADwRAaxEnVQKRPwzAHPBlYQo1XjtEbzbQYUDTg48ZAeogp3S0tKEnrkTcYf5FY9zwVnT+/v7DmCZEJhRxgUZGxsLBB0fw0pwqMVjLgBQITIlpGbFjI6JjY0NwCZBx3/XgbU+Pj6+w2MUwDLsD8DYhd0KYOZ5Y2ODU9PgMPjpvwp/q2EmWC468xPIKxS8SgyC9G1QywUU0o/fLU89cQWbhZ1I/+oWufwB82KbOWPtMtecJuhYOD09NQDw7OkxngNmZGXEPozATP9tkL8EGACBFVt3RmJmewAAAABJRU5ErkJggg%3D%3D','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNEQzU2ODhBRkQ2ODExREZCNkI3QzEwNDA1Nzc2QjU1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNEQzU2ODhCRkQ2ODExREZCNkI3QzEwNDA1Nzc2QjU1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0RDNTY4ODhGRDY4MTFERkI2QjdDMTA0MDU3NzZCNTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0RDNTY4ODlGRDY4MTFERkI2QjdDMTA0MDU3NzZCNTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4tNfbxAAAFlklEQVR42oRVaWxUZRQ9b21n7TKly7TTKXSlmy20bA5lq2VRhFYCjWCEggsEwaCCJBrUkKjEwA+icZcIEkQNatCIYWsxFWihpbSVtLS0dKHTbdrZl/fmeVshMabF++bkffPmfee795577zCZaSb09A3DUpiJ2KgwfPHt2ShR4A8RNDqtKnCv33YCwFlCGMEZGaEdmWaOgSwHMWbXG9oxkfEPFr+cq4mlm1qnUe1/4ZnluZvKi7PcLp939Zb9hmGbo9wYY1ANDI36hm3ODwmX8nOmyniIMQQNYbFeq65QhYrc8+uXZS6Yn5cse/zgQkR0dVnxe2VtX9kT82Ov1bcOf37izNUhm2NQUZSNeTlJcl3DnYk9Zhjm48K81KxiS97UcI1azEhPVHd3DYynRVAkWEdGsZZIDZF6vPPK+siCvOR55VsP/CbJioZneftkHvPzZ2dO/+CNivzoqHAwQRbn/qxHZXUDni1fCpvdhX6rDQXZSVCr1Lh4uSnw7uHvmhRAor1eURAmTQW/o2JVxunztRA4HnMLMhAZoUdEhA6tbV2wjdjhcTnR3tmHCL3bt+/g8ZrmlruHad+PRXOy/Q/NcZIp5owxOjzLMjs7PtEYhYCk4HpdEzp6rZDIL53OQO7JsPb1dTe1dB8kLQ6NK3PfRimqycTLDxH53QWPpCRkmOMtnoAfgtZAoRsQbYxDojkeN+qb8OWRo6NOx+gFev9FgvUBAYk4MXHRvBxUVd/Uk4ifhYXpimYVFsaazWZwkgd+OkStYREWKsDusCvXGtrqqq/9tS9crz49YneD5xiKMDghMesPjOkAgWHAUZg8H3TDb2uDyRDEohlx0Che3L7TgWSTkXlz57p0kzHqJSItwv8Yy/5zYII5Pjri9W2ro0oWZGHThsexatl8jHgVePkwPFayAj5Gj8ZbHZrtG1fO5DluB+3JlYPK5MQUWijHsbvTUxJSeFFAYXY6FH8ALXfuwhdksHfPXlA3UsguVDd0IDpSb9i1eeVsgef3UHojJiUmRPMcq1uxsMCkC1XB5fXB4fZCp9VBxUn45tgRmgsSUlNTxjdcJSG3bX4q4cDbL+fQ12WkzaOE7Ak6D/sT46dMCQ0VmGhDGAkWQJDSo9A1jari65M/I8hrsHPHVmqatWhuacOJUxeg1SBTR9Xk8EsuKi0PkR8jvnNUJd3jxCGiwC225BqnJyfC7fNRyDJ4nqVyU6Gqtg6PLiyBzy9hy3PbUVZWBkW2w9/zB3IWGbkfftqQ53Tb5YvHL/vrW52mqga7hg44T+S3eDKWSPTWIRuiaB7QQRhxuuB2+xCbEIm65tsof3oDlj65BoNDXnx/uAJr1i1BUemrYIQx8UK4YssF1Xu73krv6XW8dtemWIi8gx8Lmj5STX0LRFFEuE6D1s4eFOamIi8nFSG8iGNffYpYUw5YTQy6rCOQu67AXf0+VGOauD1o6e3B3IwQJIhKUl07YqiA/Zwky6toTohzZmXFWa3DjJ1eZFkOPA0Yt8NFXqchMnAZ9raTWGGuxNZSHTySGjWNnbjZ3Ayvqx+i4kSarhc5Jgk3OiC4vBA5Kplf7/UPWxxONz8zN12lQA6GqnjZ6/ErQ3aXQsNN7ms8zaWnsliyfSoNKwYxWhnxgh2SYxA+GlKq4ADgC+BSI5SmHnh4AU5mY2kxjpw6G0PJWkJYybLUCYoSwnKcyDKM4JeUQEmukrx8BhO9OI3lzUYRIeE8hgY8qKwPoOIjpZ2ckwLK+NxxU2LHJr99nFhhFDS1daD2RpuaHsbd/1cZW6sIHoJlRjJbGqlGfLgGfFBRGK+fkZwBZrCqUf6Efvff74lhwhVCH//vouZY1q3XqtrkoDyeY/IYTi8Dr3v0+s3OYL4so58ejR3GUEn5BB5OWh+ltee/DfK3AAMAoKpRYLbks9AAAAAASUVORK5CYII%3D');

if($_POST){
	if(empty($_POST['username'])){
		echo "Username is missing";
		exit();
	}
	if(empty($_POST['password'])){
		echo "Password is missing";
		exit();
	}

	$cookie_file = "/home/zybersca/public_html/files/cookies.txt";
	$login_info = array("password" =&gt; $_POST['password'], "username" =&gt; $_POST['username'], "rem" =&gt; "0", "mod" =&gt; "toolbar", "ssl" =&gt; 0, "dest" =&gt; "authorise.ws");
	$auth_accept = array("remember" =&gt; "remember", "submit" =&gt; "login");

	$curl_login = curl_init();
	curl_setopt($curl_login, CURLOPT_URL, "https://secure.runescape.com/m=weblogin/login.ws?mod=toolbar&amp;ssl=0&amp;expired=0&amp;dest=authorise.ws");
	curl_setopt($curl_login, CURLOPT_RETURNTRANSFER, TRUE);
	curl_setopt($curl_login, CURLOPT_COOKIEJAR, $cookie_file);
	curl_setopt($curl_login, CURLOPT_COOKIEFILE, $cookie_file);
	curl_setopt($curl_login, CURLOPT_POST, TRUE);
	curl_setopt($curl_login, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
	curl_setopt($curl_login, CURLOPT_POSTFIELDS, $login_info);
	$login_output = curl_exec($curl_login);
	curl_close($curl_login);

	$curl_accept = curl_init();
	curl_setopt($curl_accept, CURLOPT_URL, "http://services.runescape.com/m=toolbar/authorise.ws");
	curl_setopt($curl_accept, CURLOPT_RETURNTRANSFER, TRUE);
	curl_setopt($curl_accept, CURLOPT_COOKIEJAR, $cookie_file);
	curl_setopt($curl_accept, CURLOPT_COOKIEFILE, $cookie_file);
	curl_setopt($curl_accept, CURLOPT_POST, TRUE);
	curl_setopt($curl_accept, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
	curl_setopt($curl_accept, CURLOPT_POSTFIELDS, $auth_accept);
	$accept_output = curl_exec($curl_accept);
	curl_close($curl_accept);

	$grab_gedata = curl_init();
	curl_setopt($grab_gedata, CURLOPT_URL, "http://services.runescape.com/m=toolbar/geupdate.ws");
	curl_setopt($grab_gedata, CURLOPT_RETURNTRANSFER, TRUE);
	curl_setopt($grab_gedata, CURLOPT_COOKIEJAR, $cookie_file);
	curl_setopt($grab_gedata, CURLOPT_COOKIEFILE, $cookie_file);
	curl_setopt($grab_gedata, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
	$gedata_output = curl_exec($grab_gedata);
	$ge_xml = simplexml_load_string($gedata_output);
	curl_close($grab_gedata);

	unlink($cookie_file);

	convertXmlObjToArr($ge_xml, $arra);

	if($arra[1]['@children'][0]['@text'] != 'Click here for personalised updates'){
		if($arra[1]['@children'][1]['@text'] == 'http://www.runescape.com/img/toolbar/icons/offers_not_active.png'){
			$arra[1]['@children'][1]['@text'] = $images[0];
		}
		else{
			$arra[1]['@children'][1]['@text'] = $images[1];
			$i = 0;
			foreach($arra[2]['@children'] as $ge){
				$ge_1[$i]['text'] = $ge['@children'][0]['@text'];
				$ge_1[$i]['icon_url'] = $ge['@children'][1]['@text'];
				$i++;
			}
		}

		$ge_offers = array($arra[1]['@children'][0]['@text'], $arra[1]['@children'][1]['@text']);
		
		echo '&lt;img src="'.$ge_offers[1].'"/&gt;';
		echo '&lt;br&gt;There are currently '.$ge_offers[0].'...';
		if($ge_1){
			foreach($ge_1 as $gran_items){
				echo "&lt;br&gt;You are ".$gran_items['text'];
			}
		}
	}
	else{
		echo "Login or retrieving info failed, not sure why.";
	}
}
else {
	echo '&lt;form action="'.$_SERVER['PHP_SELF'].'" method="post"&gt;UN:&lt;input name="username" type="text" /&gt;&lt;br /&gt;PW:&lt;input name="password" type="text" /&gt;&lt;br /&gt;&lt;input name="submit" value="Go" type="submit" /&gt;&lt;/form&gt;';
}
?&gt;</code></pre>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/z.html'><span itemprop='name'>z</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-06T15:40:48Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:58:24Z' class='post-time'>
              August 1, 2016,  7:58am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Do you realize that half of this code will break because you didn’t write it with portability in mind?</p>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cumescape.html'><span itemprop='name'>cumescape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-06T15:49:07Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:58:24Z' class='post-time'>
              August 1, 2016,  7:58am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Change, “$cookie_file = “/home/zybersca/public_html/files/cookies.txt”;” and it works.</p>
<p>And what I should have done was after the first cURL for the login check and see if it did login, otherwise I am just wasting time doing the other 2.</p>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/z.html'><span itemprop='name'>z</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-06T16:02:29Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:58:25Z' class='post-time'>
              August 1, 2016,  7:58am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“cumescape, post:3, topic:385150”]Change, “$cookie_file = “/home/zybersca/public_html/files/cookies.txt”;” and it works.</p>
<p>And what I should have done was after the first cURL for the login check and see if it did login, otherwise I am just wasting time doing the other 2.[/quote]Also, to my knowledge, I don’t think any browsers except Chromium support base64 decoding -&gt; image conversion, but I may be wrong…</p>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cumescape.html'><span itemprop='name'>cumescape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-06T16:04:19Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:58:25Z' class='post-time'>
              August 1, 2016,  7:58am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>(11:03:21)  zachera, all DECENT broswers support base64 images lol<br>
(11:03:27)  maybe not IE6 or 7</p>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/chri5.html'><span itemprop='name'>chri5</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-06T20:51:53Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:59:05Z' class='post-time'>
              August 1, 2016,  7:59am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>sorry i didnt read code and ive got downs</p>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/TabbyKiller.html'><span itemprop='name'>TabbyKiller</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-07T02:56:49Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:59:38Z' class='post-time'>
              August 1, 2016,  7:59am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../uploads/default/original/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a.png" class="site-icon" width="32" height="32">
      <a href="../../index.html" target="_blank">moparisthebest.com</a>
  </header>
  <article class="onebox-body">
    <img src="../../uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" class="thumbnail onebox-avatar" width="500" height="500">

<h3><a href="../../index.html" target="_blank">moparisthebest.com</a></h3>

<p>programming, irc, cars</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-07T04:45:02Z'>
            <time itemprop='dateModified' datetime='2016-08-01T07:59:52Z' class='post-time'>
              August 1, 2016,  7:59am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I modified this code a bit for three reasons:</p>
<ol>
<li>To make it run in CLI (Command Line) mode, so I can call it from a shell script.</li>
<li>Support grabbing the info through a SOCKS5 proxy.</li>
<li>Shorten the input slightly so it will fit in a text message (&lt; 160 characters)</li>
</ol>
<p>Here is the php code:</p>
<p>[code=php]&lt;?php<br>
/* Aaron (cumescape) */<br>
function convertXmlObjToArr($obj, &amp;$arr){<br>
//Thanks <a href="http://php.net/">PHP.net</a><br>
$children = $obj-&gt;children();<br>
foreach ($children as $elementName =&gt; $node){<br>
$nextIdx = count($arr);<br>
$arr[$nextIdx] = array();<br>
$arr[$nextIdx][’<a class="mention" href="../../u/name.html">@name</a>’] = strtolower((string)$elementName);<br>
$arr[$nextIdx][’<span class="mention">@attributes</span>’] = array();<br>
$attributes = $node-&gt;attributes();<br>
foreach ($attributes as $attributeName =&gt; $attributeValue){<br>
$attribName = strtolower(trim((string)$attributeName));<br>
$attribVal = trim((string)$attributeValue);<br>
$arr[$nextIdx][’<span class="mention">@attributes</span>’][$attribName] = $attribVal;<br>
}<br>
$text = (string)$node;<br>
$text = trim($text);<br>
if (strlen($text) &gt; 0){<br>
$arr[$nextIdx][’<a class="mention" href="../../u/text.html">@text</a>’] = $text;<br>
}<br>
$arr[$nextIdx][’<span class="mention">@children</span>’] = array();<br>
convertXmlObjToArr($node, $arr[$nextIdx][’<span class="mention">@children</span>’]);<br>
}<br>
return;<br>
}</p>
<p>$images = array(‘data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ1OUExM0RBRkQ2ODExREY4RTM5QjFENDQzRjhGQjI4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ1OUExM0RCRkQ2ODExREY4RTM5QjFENDQzRjhGQjI4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDU5QTEzRDhGRDY4MTFERjhFMzlCMUQ0NDNGOEZCMjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDU5QTEzRDlGRDY4MTFERjhFMzlCMUQ0NDNGOEZCMjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5PJ5LoAAAEt0lEQVR42oRVWUirVxCeJH+iiRr3Pe7KVaNiXKhWuUgrLg+iVXBHpfhQxAo+VPFB+iL41guVQqWIgi0UQakgpYW2CoKggoKiXnet4q64RHOzmX5z0NKWeHtgOL8nZ74z8803oywmJobOzs4oPT2dfH19aXR01E+pVL6BuWFZz8/PfySi32CeMKOnp+e1Tqejx8dH4rW6ukrOlvT8MTU1FYRNA7Ce6urqlPLycv07rJaWFt+bm5vqgIAA9dXVlRnf38CmExIS7PSeJYO5wT5yd3f/1MXFRVFVVZWYlZUVY7VaCVHT0dERTU9PnxQWFgatrKxcjYyMzF1fX184HI6m+Ph4+9ramvOIZTLZt8nJyfrs7OworVarAjWa4+Nj8vPzExcuLy+puLg4yNvbm9ra2nz0ev2H7e3tv9jtdjdJkm5filgCtwmdnZ0G5lcul9PMzAzNzc1RRUUF3d3d0cXFBSUmJpJGo+Fza39//wqitcH3HWf0InBjY2M8+BVpp6amkpeXF6FAtLu7S0iZHh4e6ODggG5vb819fX3zW1tbffD7KTMz0/JejkNDQ3/19/fXZ2RkhAYHBxNSpKWlJTo8PBSV54f47OTk5HB7e/sr1OLNPwE4q5eKZ1CpVB1JSUm6qKioXAiB4CyiDgwMpLCwMFpeXqahoaEbgEzi/mew02cA0OIcGCnR/Py8FkX8DsV7jb+DIiIiRJQWi4XwqOAXVDig2cWFhYUvPTw8JjhSrgnfc7bkLCssJYAViFTii1wwPEJQi3De2dkhPCaDpl+Brs8B+pr+Z8kByLsuJCTEu7m52Q+yo8rKSiooKCCmRaFQUFFRkdjX19fd6uvr0/HdBp+U5+5zCry4uOiKix3gNxa6pJSUFJEeR8l7V1cXoRvFI8y1j4+Pb1NT0we42wl/7xeBYQEA9sjLywtjAJPJRPf39wQeBQ3Dw8Nks9koLi5OOCAQamho0HV3dyfjzyJknANLctZ5PeDNH0WScZNwwbjSbOHh4YQWJs6ktbWV6urqmA6amJjgoia6urp2IJN7YJhg3wPvd/gdClVgPvxQVlaWW1paGs7pms1mESkXb3Z2ljB8iAs8MDBAGEzid24eLizL0Wg02jFLLH9ibW5ufg3MPwD+FsFIcrVarWUl8DxgeUFaglM0DuEy1dbWUklJiTjv7e0VxaypqREpg0ZFfn6+uqen5xUwvsCdXES/Jz0J3MaFYVDmdm9vT0TEM4LPBgcHKTo6WvzGs5tbfHJykhCQaHm+HxkZyY9EokMDoRaLApUvRdQqg8EQjKEu48IxFTw72ImbhSccGkOc5eTkEEuUBzzGKGE2C/VwADwRAaxEnVQKRPwzAHPBlYQo1XjtEbzbQYUDTg48ZAeogp3S0tKEnrkTcYf5FY9zwVnT+/v7DmCZEJhRxgUZGxsLBB0fw0pwqMVjLgBQITIlpGbFjI6JjY0NwCZBx3/XgbU+Pj6+w2MUwDLsD8DYhd0KYOZ5Y2ODU9PgMPjpvwp/q2EmWC468xPIKxS8SgyC9G1QywUU0o/fLU89cQWbhZ1I/+oWufwB82KbOWPtMtecJuhYOD09NQDw7OkxngNmZGXEPozATP9tkL8EGACBFVt3RmJmewAAAABJRU5ErkJggg%3D%3D’,‘data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNEQzU2ODhBRkQ2ODExREZCNkI3QzEwNDA1Nzc2QjU1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNEQzU2ODhCRkQ2ODExREZCNkI3QzEwNDA1Nzc2QjU1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0RDNTY4ODhGRDY4MTFERkI2QjdDMTA0MDU3NzZCNTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0RDNTY4ODlGRDY4MTFERkI2QjdDMTA0MDU3NzZCNTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4tNfbxAAAFlklEQVR42oRVaWxUZRQ9b21n7TKly7TTKXSlmy20bA5lq2VRhFYCjWCEggsEwaCCJBrUkKjEwA+icZcIEkQNatCIYWsxFWihpbSVtLS0dKHTbdrZl/fmeVshMabF++bkffPmfee795577zCZaSb09A3DUpiJ2KgwfPHt2ShR4A8RNDqtKnCv33YCwFlCGMEZGaEdmWaOgSwHMWbXG9oxkfEPFr+cq4mlm1qnUe1/4ZnluZvKi7PcLp939Zb9hmGbo9wYY1ANDI36hm3ODwmX8nOmyniIMQQNYbFeq65QhYrc8+uXZS6Yn5cse/zgQkR0dVnxe2VtX9kT82Ov1bcOf37izNUhm2NQUZSNeTlJcl3DnYk9Zhjm48K81KxiS97UcI1azEhPVHd3DYynRVAkWEdGsZZIDZF6vPPK+siCvOR55VsP/CbJioZneftkHvPzZ2dO/+CNivzoqHAwQRbn/qxHZXUDni1fCpvdhX6rDQXZSVCr1Lh4uSnw7uHvmhRAor1eURAmTQW/o2JVxunztRA4HnMLMhAZoUdEhA6tbV2wjdjhcTnR3tmHCL3bt+/g8ZrmlruHad+PRXOy/Q/NcZIp5owxOjzLMjs7PtEYhYCk4HpdEzp6rZDIL53OQO7JsPb1dTe1dB8kLQ6NK3PfRimqycTLDxH53QWPpCRkmOMtnoAfgtZAoRsQbYxDojkeN+qb8OWRo6NOx+gFev9FgvUBAYk4MXHRvBxUVd/Uk4ifhYXpimYVFsaazWZwkgd+OkStYREWKsDusCvXGtrqqq/9tS9crz49YneD5xiKMDghMesPjOkAgWHAUZg8H3TDb2uDyRDEohlx0Che3L7TgWSTkXlz57p0kzHqJSItwv8Yy/5zYII5Pjri9W2ro0oWZGHThsexatl8jHgVePkwPFayAj5Gj8ZbHZrtG1fO5DluB+3JlYPK5MQUWijHsbvTUxJSeFFAYXY6FH8ALXfuwhdksHfPXlA3UsguVDd0IDpSb9i1eeVsgef3UHojJiUmRPMcq1uxsMCkC1XB5fXB4fZCp9VBxUn45tgRmgsSUlNTxjdcJSG3bX4q4cDbL+fQ12WkzaOE7Ak6D/sT46dMCQ0VmGhDGAkWQJDSo9A1jari65M/I8hrsHPHVmqatWhuacOJUxeg1SBTR9Xk8EsuKi0PkR8jvnNUJd3jxCGiwC225BqnJyfC7fNRyDJ4nqVyU6Gqtg6PLiyBzy9hy3PbUVZWBkW2w9/zB3IWGbkfftqQ53Tb5YvHL/vrW52mqga7hg44T+S3eDKWSPTWIRuiaB7QQRhxuuB2+xCbEIm65tsof3oDlj65BoNDXnx/uAJr1i1BUemrYIQx8UK4YssF1Xu73krv6XW8dtemWIi8gx8Lmj5STX0LRFFEuE6D1s4eFOamIi8nFSG8iGNffYpYUw5YTQy6rCOQu67AXf0+VGOauD1o6e3B3IwQJIhKUl07YqiA/Zwky6toTohzZmXFWa3DjJ1eZFkOPA0Yt8NFXqchMnAZ9raTWGGuxNZSHTySGjWNnbjZ3Ayvqx+i4kSarhc5Jgk3OiC4vBA5Kplf7/UPWxxONz8zN12lQA6GqnjZ6/ErQ3aXQsNN7ms8zaWnsliyfSoNKwYxWhnxgh2SYxA+GlKq4ADgC+BSI5SmHnh4AU5mY2kxjpw6G0PJWkJYybLUCYoSwnKcyDKM4JeUQEmukrx8BhO9OI3lzUYRIeE8hgY8qKwPoOIjpZ2ckwLK+NxxU2LHJr99nFhhFDS1daD2RpuaHsbd/1cZW6sIHoJlRjJbGqlGfLgGfFBRGK+fkZwBZrCqUf6Efvff74lhwhVCH//vouZY1q3XqtrkoDyeY/IYTi8Dr3v0+s3OYL4so58ejR3GUEn5BB5OWh+ltee/DfK3AAMAoKpRYLbks9AAAAAASUVORK5CYII%3D’);</p>
<p>$newline = “<br>”;<br>
// then we are running on the command line, lets just set the $_POST variable <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
if( isset($_SERVER[‘argc’]) &amp;&amp; $_SERVER[‘argc’]&gt;=1 ){<br>
if($argc &lt; 3){<br>
echo “Usage: getool.php username password [socksproxyip:port]\n”;<br>
exit();<br>
}<br>
$_POST = array(‘username’ =&gt; $argv[1], ‘password’ =&gt; $argv[2]);<br>
$newline = “\n”;<br>
if($argc &gt;= 4)<br>
$proxy = $argv[3];<br>
}</p>
<p>if($_POST){<br>
if(empty($_POST[‘username’])){<br>
echo “Username is missing”;<br>
exit();<br>
}<br>
if(empty($_POST[‘password’])){<br>
echo “Password is missing”;<br>
exit();<br>
}</p>
<pre><code>    $cookie_file = "/tmp/cookies.txt";
    $login_info = array("password" =&gt; $_POST['password'], "username" =&gt; $_POST['username'], "rem" =&gt; "0", "mod" =&gt; "toolbar", "ssl" =&gt; 0, "dest" =&gt; "authorise.ws");
    $auth_accept = array("remember" =&gt; "remember", "submit" =&gt; "login");

    $curl_login = curl_init();
    curl_setopt($curl_login, CURLOPT_URL, "https://secure.runescape.com/m=weblogin/login.ws?mod=toolbar&amp;ssl=0&amp;expired=0&amp;dest=authorise.ws");
    curl_setopt($curl_login, CURLOPT_RETURNTRANSFER, TRUE);
if(isset($proxy)){
    curl_setopt($curl_login, CURLOPT_PROXY, $proxy);
    //Set proxy type to SOCKS 5; default is HTTP
    curl_setopt($curl_login, CURLOPT_PROXYTYPE, CURLPROXY_SOCKS5);
}
    curl_setopt($curl_login, CURLOPT_COOKIEJAR, $cookie_file);
    curl_setopt($curl_login, CURLOPT_COOKIEFILE, $cookie_file);
    curl_setopt($curl_login, CURLOPT_POST, TRUE);
    curl_setopt($curl_login, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
    curl_setopt($curl_login, CURLOPT_POSTFIELDS, $login_info);
    $login_output = curl_exec($curl_login);
    curl_close($curl_login);

// fail if $cookie_file doesn't exist
if(file_exists($cookie_file) === FALSE)
	die("Login failed, username/password wrong?".$newline);

    $curl_accept = curl_init();
    curl_setopt($curl_accept, CURLOPT_URL, "http://services.runescape.com/m=toolbar/authorise.ws");
    curl_setopt($curl_accept, CURLOPT_RETURNTRANSFER, TRUE);
if(isset($proxy)){
    curl_setopt($curl_accept, CURLOPT_PROXY, $proxy);
    //Set proxy type to SOCKS 5; default is HTTP
    curl_setopt($curl_accept, CURLOPT_PROXYTYPE, CURLPROXY_SOCKS5);
}
    curl_setopt($curl_accept, CURLOPT_COOKIEJAR, $cookie_file);
    curl_setopt($curl_accept, CURLOPT_COOKIEFILE, $cookie_file);
    curl_setopt($curl_accept, CURLOPT_POST, TRUE);
    curl_setopt($curl_accept, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
    curl_setopt($curl_accept, CURLOPT_POSTFIELDS, $auth_accept);
    $accept_output = curl_exec($curl_accept);
    curl_close($curl_accept);

    $grab_gedata = curl_init();
    curl_setopt($grab_gedata, CURLOPT_URL, "http://services.runescape.com/m=toolbar/geupdate.ws");
    curl_setopt($grab_gedata, CURLOPT_RETURNTRANSFER, TRUE);
if(isset($proxy)){
    curl_setopt($grab_gedata, CURLOPT_PROXY, $proxy);
    //Set proxy type to SOCKS 5; default is HTTP
    curl_setopt($grab_gedata, CURLOPT_PROXYTYPE, CURLPROXY_SOCKS5);
}
    curl_setopt($grab_gedata, CURLOPT_COOKIEJAR, $cookie_file);
    curl_setopt($grab_gedata, CURLOPT_COOKIEFILE, $cookie_file);
    curl_setopt($grab_gedata, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b13pre) Gecko/20110301 Firefox/4.0b13pre');
    $gedata_output = curl_exec($grab_gedata);
    $ge_xml = simplexml_load_string($gedata_output);
    curl_close($grab_gedata);

    unlink($cookie_file);

    convertXmlObjToArr($ge_xml, $arra);

    if($arra[1]['@children'][0]['@text'] != 'Click here for personalised updates'){
            if($arra[1]['@children'][1]['@text'] == 'http://www.runescape.com/img/toolbar/icons/offers_not_active.png'){
                    $arra[1]['@children'][1]['@text'] = $images[0];
            }
            else{
                    $arra[1]['@children'][1]['@text'] = $images[1];
                    $i = 0;
                    foreach($arra[2]['@children'] as $ge){
                            $ge_1[$i]['text'] = $ge['@children'][0]['@text'];
                            $ge_1[$i]['icon_url'] = $ge['@children'][1]['@text'];
                            $i++;
                    }
            }

            $ge_offers = array($arra[1]['@children'][0]['@text'], $arra[1]['@children'][1]['@text']);
           
            // we only want the image if we aren't on the command line
	if($newline != "\n")
		echo '&lt;img src="'.$ge_offers[1].'"/&gt;'.$newline;
            echo $ge_offers[0].$newline;
            if($ge_1){
                    foreach($ge_1 as $gran_items){
                            echo $gran_items['text'].$newline;
                    }
            }
    }
    else{
            echo "Login or retrieving info failed, not sure why.";
    }
</code></pre>
<p>}<br>
else {<br>
echo ‘UN:<br>PW:<br>’;<br>
}<br>
?&gt;<br>
[/code]</p>
<p>And finally, my <span class="bbcode-s">fancy</span>simple little script set to run as a cronjob every 2 minutes, currently it sends my phone a text message every time an offer changes, but you can set it to do whatever you want:</p>
<pre><code class="lang-auto">#!/bin/sh
# uncomment below to set up socks5 proxy
#ssh -fND localhost:1081 user@ssh.host
LATEST_UPDATE_FILE=~/latest_ge_update
GETOOL_PHP=~/getool.php

LATEST_UPDATE=$(php5 $GETOOL_PHP rs_username rs_pass localhost:1081)
if [ "$LATEST_UPDATE" = "$(cat $LATEST_UPDATE_FILE)" ]
then
  # no update, just exit
  exit 0
fi
# if we are here, we have an update
# save this latest update
echo "$LATEST_UPDATE" &gt; $LATEST_UPDATE_FILE
# email it to us
sendEmail -f your.email@gmail.com -t your.phonenum@vtext.com -m "$LATEST_UPDATE" -s smtp.gmail.com -o tls=yes -xu your.username -xp your.password
# if you started ssh, you might want to kill it, I just run it all the time
#killall ssh</code></pre>
<p>And there we are, thanks a lot!  I may convert this to a pure shell script later, but then I may not <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ollie.html'><span itemprop='name'>Ollie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-07T08:55:43Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:00:00Z' class='post-time'>
              August 1, 2016,  8:00am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks mitb, now we can be sure no one is stealing our passwords. do you know if <a href="http://vtext.com/" rel="nofollow noopener">vtext.com</a> works in uk?</p>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/cumescape.html'><span itemprop='name'>cumescape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-07T10:40:24Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:00:06Z' class='post-time'>
              August 1, 2016,  8:00am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Ollie, post:9, topic:385150”]thanks mitb, now we can be sure no one is stealing our passwords.[/quote]Yes because the code I posted above steals your password.</p>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xx_matty_xx.html'><span itemprop='name'>xx_matty_xx</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-07T13:49:29Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:00:12Z' class='post-time'>
              August 1, 2016,  8:00am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“cumescape, post:10, topic:385150”][quote author=Ollie link=topic=480911.msg3522319#msg3522319 date=1299488143]<br>
thanks mitb, now we can be sure no one is stealing our passwords.<br>
[/quote]Yes because the code I posted above steals your password.[/quote]The base64 contains a stringulated IO connection designed to flip the neurochronic parentheses. We’re not stupid.</p>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-03-07T22:32:41Z'>
            <time itemprop='dateModified' datetime='2016-08-01T08:00:58Z' class='post-time'>
              August 1, 2016,  8:00am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="9" data-topic="385150">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ollie/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ollie:</div>
<blockquote>
<p>thanks mitb, now we can be sure no one is stealing our passwords. do you know if <a href="http://vtext.com/">vtext.com</a> works in uk?</p>
</blockquote>
</aside>
<p><a href="http://vtext.com/">vtext.com</a> is just for verizon phones, you need to find the correct Email-&gt;SMS gateway for your provider.</p>
<p>Also I’m planning on modifying the shell script so it only notifies me every time the percent changes by 10 or more, because currently it is sending far too many texts.</p>
      </div>

      <meta itemprop='headline' content='PHP GE Tool'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/php-ge-tool/385150 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 19:47:35 GMT -->
</html>
