<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Start of an equipment loader</title>
    <link>https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505</link>
    <description>Hello i&#39;m back again just making a server for something to kill time, this isn&#39;t a full tutorial but it gives you the majority of an equipment loading system.

It loads the level requirements and equipment bonuses. If you wanted to go full out with this, it would overall save time (i presume) instead of the original way which loads bonuses for every item, when most of the items in the cache are not even wearable/wieldable items.

Anyway...

EquipmentLoader.class

[code]
package stanyer.rs.world.items.equipment;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;

public class EquipmentLoader {
	
	public EquipmentList[] list = new EquipmentList[6925];
	
	public EquipmentLoader() {
	}
	
	public boolean loadEquipmentList() {
		BufferedReader file = null;
		try {
			file = new BufferedReader(new FileReader(&quot;bin/config/EQUIPMENT.txt&quot;));
		} catch(FileNotFoundException e) {
			System.out.println(&quot;Not able to find equipment configuration.&quot;);
			return false;
		}
		try {
			boolean finished = false;
			while(!finished) {
				String line = file.readLine().trim();
				if(line.startsWith(&quot;@&quot;)) {
					String[] g = line.split(&quot; &quot;);
					String[] a = g[0].split(&quot;:&quot;);
					String[] b = a[1].split(&quot;-&quot;);
					int index = Integer.parseInt(a[0].substring(1));
					int[] requirements = new int[7];
					int[] bonuses = new int[12];
					for(int i = 0; i &lt; bonuses.length; i++) {
						bonuses[i] = 0;
					}
					for(int i = 0; i &lt; b.length; i++) {
						requirements[i] = Integer.parseInt(b[i]);
					}
					if(g.length &gt; 1) {
						if(!g[1].startsWith(&quot;+&quot;)) {
							String c = line.split(&quot; &quot;)[1];
							String d = c.replace(&quot;(&quot;, &quot;&quot;);
							String e = d.replace(&quot;)&quot;, &quot;&quot;);
							String[] f = e.split(&quot;,&quot;);
							for(int i = 0; i &lt; f.length; i++) {
								bonuses[i] = Integer.parseInt(f[i]);
							}
						}
					}
					add(index, requirements, bonuses);
				} else if(line.equals(&quot;finish;&quot;)) {
					System.out.println(&quot;Equipment list was loaded successfully...&quot;);
					finished = true;
					return true;
				}
			}
		} catch(IOException e) {
			System.out.println(&quot;Fatal error: Unable to load equipment list...&quot;);
			return false;
		}
		return false;
	}
	
	public void add(int item, int[] requirements, int[] bonuses) {
		try {
			if(list[item] == null) {
				list[item] = new EquipmentList(item, requirements, bonuses);
			} else {
				System.out.println(&quot;Equipment #&quot;+item+&quot; has already been loaded.&quot;);
			}
		} catch(Exception e) {
			System.out.println(&quot;Unable to add equipment to list. (&quot;+item+&quot;).&quot;);
		}
	}
	
	public EquipmentList[] get() {
		return list;
	}

}
[/code]

EquipmentList.class

[code]
package stanyer.rs.world.items.equipment;

public class EquipmentList {
	
	public int item;
	public int[] requirements;
	public int[] bonuses;
	
	public EquipmentList() {
	}
	
	public EquipmentList(int item, int[] requirements, int[] bonuses) {
		if(item &gt; 0) {
			this.item = item;
		} else {
			this.item = -1;
			return;
		}
		if(requirements == null) {
			this.requirements = new int[7];
		} else {
			this.requirements = requirements;
		}
		if(bonuses == null) {
			this.bonuses = new int[12];
		} else {
			this.bonuses = bonuses;
		}
	}
	
	public int bonus(String type) {
		try {
			if(type.equals(&quot;stab_attack&quot;)) {
				return bonuses[0];
			} else if(type.equals(&quot;slash_attack&quot;)) {
				return bonuses[1];
			} else if(type.equals(&quot;crush_attack&quot;)) {
				return bonuses[2];
			} else if(type.equals(&quot;magic_attack&quot;)) {
				return bonuses[3];
			} else if(type.equals(&quot;range_attack&quot;)) {
				return bonuses[4];
			} else if(type.equals(&quot;stab_attack&quot;)) {
				return bonuses[5];
			} else if(type.equals(&quot;slash_defence&quot;)) {
				return bonuses[6];
			} else if(type.equals(&quot;crush_defence&quot;)) {
				return bonuses[7];
			} else if(type.equals(&quot;magic_defence&quot;)) {
				return bonuses[8];
			} else if(type.equals(&quot;range_defence&quot;)) {
				return bonuses[9];
			} else if(type.equals(&quot;strength&quot;)) {
				return bonuses[10];
			} else if(type.equals(&quot;prayer&quot;)) {
				return bonuses[11];
			} else {
				return 0;
			}
		} catch(Exception e) {
			return 0;
		}
	}
}
[/code]

The way to use this when checking the bonuses or requirements would be something as such:

[code]
boolean canWear = true;
for(int i = 0; i &lt; Server.EQUIPMENT.list[ITEM_ID_HERE].requirements.length; i++) {
	if(!this.trueSkillLevel(i) &gt;= Server.EQUIPMENT.list[ITEM_ID_HERE].requirements[i]) {
		sendMessage(&quot;You need level &quot;+Server.EQUIPMENT.list[ITEM_ID_HERE].requirements[i]+&quot; in (SKILL NAME, SORT THIS OUT YOURSELF).&quot;);
		canWear = false;
	}
}
if(canWear) {
	//WEAR THE ITEM (ADD YOUR EXISTING WEAR ITEM METHOD HERE
}
[/code]

Also, declare this (or something similiar) in your main class.

[code]
public static final EquipmentLoader EQUIPMENT = new EquipmentLoader();
[/code]

And last but not least, the file to load from.

[code]
++This file contains the skill level requirements for wearable equipment.
++This file was last modified at 00:00 on 01/01/2010
++
++Requirements: item index - attack - defence - strength - hitpoints - ranged - prayer - magic
++Bonuses: (attack bonuses) stab - slash - crush - magic - ranged - (defence bonuses) stab - slash - crush - magic - ranged - (other bonuses) strength - prayer

#Weapons
@1321:0-0-0-0-0-0-0
@1323:0-0-0-0-0-0-0
@1325:5-0-0-0-0-0-0
@1327:10-0-0-0-0-0-0
@1329:20-0-0-0-0-0-0
@1331:30-0-0-0-0-0-0
@1333:40-0-0-0-0-0-0
@4151:70-0-0-0-0-0-0 (0,82,0,0,0,0,0,0,0,0,82,0)
@4587:60-0-0-0-0-0-0 (8,67,-2,0,0,0,1,0,0,0,66,0)

#Helmets
@1137:0-0-0-0-0-0-0
@1139:0-0-0-0-0-0-0
@1141:0-5-0-0-0-0-0
@1143:0-20-0-0-0-0-0
@1145:0-30-0-0-0-0-0
@1147:0-40-0-0-0-0-0
@1149:0-60-0-0-0-0-0 (0,0,0,-3,-1,33,35,32,-1,34,0,0) +Dragon med helm+
@1151:0-10-0-0-0-0-0

finish;
[/code]

I did have all the armour on my list but the file somehow dissapeared... Lol.
If you want to add a description/name of the item after the details, make sure you start it with a &quot;+&quot;.

Good luck!

EDIT: I forgot to add, you could easily add another parameter which has a single number which is the slot the item goes in to, this will save you having additional arrays for each item.</description>
    
    <lastBuildDate>Mon, 23 Aug 2010 10:39:36 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Start of an equipment loader</title>
        <dc:creator><![CDATA[@Stanyer Stanyer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stanyer">@Stanyer</a> wrote:</p>
          <blockquote>
              <p>dump them…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/6</link>
        <pubDate>Mon, 23 Aug 2010 10:39:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-356505-6</guid>
        <source url="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505.rss">Start of an equipment loader</source>
      </item>
      <item>
        <title>Start of an equipment loader</title>
        <dc:creator><![CDATA[@Stanyer Stanyer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stanyer">@Stanyer</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="4" data-topic="356505">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/xldarkwinglx/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> xldarkwinglx:</div>
<blockquote>
<p>Oh ok. That’s what I thought. I don’t know why I put models <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> I guess I was honking of the equipment models. But cool TuT</p>
</blockquote>
</aside>
<p>Thanks</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/5</link>
        <pubDate>Mon, 23 Aug 2010 08:21:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-356505-5</guid>
        <source url="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505.rss">Start of an equipment loader</source>
      </item>
      <item>
        <title>Start of an equipment loader</title>
        <dc:creator><![CDATA[@xldarkwinglx xldarkwinglx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xldarkwinglx">@xldarkwinglx</a> wrote:</p>
          <blockquote>
              <p>Oh ok. That’s what I thought. I don’t know why I put models <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> I guess I was honking of the equipment models. But cool TuT</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/4</link>
        <pubDate>Mon, 23 Aug 2010 03:12:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-356505-4</guid>
        <source url="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505.rss">Start of an equipment loader</source>
      </item>
      <item>
        <title>Start of an equipment loader</title>
        <dc:creator><![CDATA[@Stanyer Stanyer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stanyer">@Stanyer</a> wrote:</p>
          <blockquote>
              <p>No it preloads equipment requirements and bonuses.<br>
Also this way it reduces unnecessary loading as it only needs to include the weapons you use in the server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/3</link>
        <pubDate>Mon, 23 Aug 2010 03:01:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-356505-3</guid>
        <source url="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505.rss">Start of an equipment loader</source>
      </item>
      <item>
        <title>Start of an equipment loader</title>
        <dc:creator><![CDATA[@xldarkwinglx xldarkwinglx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xldarkwinglx">@xldarkwinglx</a> wrote:</p>
          <blockquote>
              <p>What deos this exactly do? Preload the models?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/2</link>
        <pubDate>Mon, 23 Aug 2010 03:01:10 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-356505-2</guid>
        <source url="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505.rss">Start of an equipment loader</source>
      </item>
      <item>
        <title>Start of an equipment loader</title>
        <dc:creator><![CDATA[@Stanyer Stanyer]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/stanyer">@Stanyer</a> wrote:</p>
          <blockquote>
              <p>Hello i’m back again just making a server for something to kill time, this isn’t a full tutorial but it gives you the majority of an equipment loading system.</p>
<p>It loads the level requirements and equipment bonuses. If you wanted to go full out with this, it would overall save time (i presume) instead of the original way which loads bonuses for every item, when most of the items in the cache are not even wearable/wieldable items.</p>
<p>Anyway…</p>
<p>EquipmentLoader.class</p>
<pre><code class="lang-auto">package stanyer.rs.world.items.equipment;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;

public class EquipmentLoader {
	
	public EquipmentList[] list = new EquipmentList[6925];
	
	public EquipmentLoader() {
	}
	
	public boolean loadEquipmentList() {
		BufferedReader file = null;
		try {
			file = new BufferedReader(new FileReader("bin/config/EQUIPMENT.txt"));
		} catch(FileNotFoundException e) {
			System.out.println("Not able to find equipment configuration.");
			return false;
		}
		try {
			boolean finished = false;
			while(!finished) {
				String line = file.readLine().trim();
				if(line.startsWith("@")) {
					String[] g = line.split(" ");
					String[] a = g[0].split(":");
					String[] b = a[1].split("-");
					int index = Integer.parseInt(a[0].substring(1));
					int[] requirements = new int[7];
					int[] bonuses = new int[12];
					for(int i = 0; i &lt; bonuses.length; i++) {
						bonuses[i] = 0;
					}
					for(int i = 0; i &lt; b.length; i++) {
						requirements[i] = Integer.parseInt(b[i]);
					}
					if(g.length &gt; 1) {
						if(!g[1].startsWith("+")) {
							String c = line.split(" ")[1];
							String d = c.replace("(", "");
							String e = d.replace(")", "");
							String[] f = e.split(",");
							for(int i = 0; i &lt; f.length; i++) {
								bonuses[i] = Integer.parseInt(f[i]);
							}
						}
					}
					add(index, requirements, bonuses);
				} else if(line.equals("finish;")) {
					System.out.println("Equipment list was loaded successfully...");
					finished = true;
					return true;
				}
			}
		} catch(IOException e) {
			System.out.println("Fatal error: Unable to load equipment list...");
			return false;
		}
		return false;
	}
	
	public void add(int item, int[] requirements, int[] bonuses) {
		try {
			if(list[item] == null) {
				list[item] = new EquipmentList(item, requirements, bonuses);
			} else {
				System.out.println("Equipment #"+item+" has already been loaded.");
			}
		} catch(Exception e) {
			System.out.println("Unable to add equipment to list. ("+item+").");
		}
	}
	
	public EquipmentList[] get() {
		return list;
	}

}</code></pre>
<p>EquipmentList.class</p>
<pre><code class="lang-auto">package stanyer.rs.world.items.equipment;

public class EquipmentList {
	
	public int item;
	public int[] requirements;
	public int[] bonuses;
	
	public EquipmentList() {
	}
	
	public EquipmentList(int item, int[] requirements, int[] bonuses) {
		if(item &gt; 0) {
			this.item = item;
		} else {
			this.item = -1;
			return;
		}
		if(requirements == null) {
			this.requirements = new int[7];
		} else {
			this.requirements = requirements;
		}
		if(bonuses == null) {
			this.bonuses = new int[12];
		} else {
			this.bonuses = bonuses;
		}
	}
	
	public int bonus(String type) {
		try {
			if(type.equals("stab_attack")) {
				return bonuses[0];
			} else if(type.equals("slash_attack")) {
				return bonuses[1];
			} else if(type.equals("crush_attack")) {
				return bonuses[2];
			} else if(type.equals("magic_attack")) {
				return bonuses[3];
			} else if(type.equals("range_attack")) {
				return bonuses[4];
			} else if(type.equals("stab_attack")) {
				return bonuses[5];
			} else if(type.equals("slash_defence")) {
				return bonuses[6];
			} else if(type.equals("crush_defence")) {
				return bonuses[7];
			} else if(type.equals("magic_defence")) {
				return bonuses[8];
			} else if(type.equals("range_defence")) {
				return bonuses[9];
			} else if(type.equals("strength")) {
				return bonuses[10];
			} else if(type.equals("prayer")) {
				return bonuses[11];
			} else {
				return 0;
			}
		} catch(Exception e) {
			return 0;
		}
	}
}</code></pre>
<p>The way to use this when checking the bonuses or requirements would be something as such:</p>
<pre><code class="lang-auto">boolean canWear = true;
for(int i = 0; i &lt; Server.EQUIPMENT.list[ITEM_ID_HERE].requirements.length; i++) {
	if(!this.trueSkillLevel(i) &gt;= Server.EQUIPMENT.list[ITEM_ID_HERE].requirements[i]) {
		sendMessage("You need level "+Server.EQUIPMENT.list[ITEM_ID_HERE].requirements[i]+" in (SKILL NAME, SORT THIS OUT YOURSELF).");
		canWear = false;
	}
}
if(canWear) {
	//WEAR THE ITEM (ADD YOUR EXISTING WEAR ITEM METHOD HERE
}</code></pre>
<p>Also, declare this (or something similiar) in your main class.</p>
<pre><code class="lang-auto">public static final EquipmentLoader EQUIPMENT = new EquipmentLoader();</code></pre>
<p>And last but not least, the file to load from.</p>
<pre><code class="lang-auto">++This file contains the skill level requirements for wearable equipment.
++This file was last modified at 00:00 on 01/01/2010
++
++Requirements: item index - attack - defence - strength - hitpoints - ranged - prayer - magic
++Bonuses: (attack bonuses) stab - slash - crush - magic - ranged - (defence bonuses) stab - slash - crush - magic - ranged - (other bonuses) strength - prayer

#Weapons
@1321:0-0-0-0-0-0-0
@1323:0-0-0-0-0-0-0
@1325:5-0-0-0-0-0-0
@1327:10-0-0-0-0-0-0
@1329:20-0-0-0-0-0-0
@1331:30-0-0-0-0-0-0
@1333:40-0-0-0-0-0-0
@4151:70-0-0-0-0-0-0 (0,82,0,0,0,0,0,0,0,0,82,0)
@4587:60-0-0-0-0-0-0 (8,67,-2,0,0,0,1,0,0,0,66,0)

#Helmets
@1137:0-0-0-0-0-0-0
@1139:0-0-0-0-0-0-0
@1141:0-5-0-0-0-0-0
@1143:0-20-0-0-0-0-0
@1145:0-30-0-0-0-0-0
@1147:0-40-0-0-0-0-0
@1149:0-60-0-0-0-0-0 (0,0,0,-3,-1,33,35,32,-1,34,0,0) +Dragon med helm+
@1151:0-10-0-0-0-0-0

finish;</code></pre>
<p>I did have all the armour on my list but the file somehow dissapeared… Lol.<br>
If you want to add a description/name of the item after the details, make sure you start it with a “+”.</p>
<p>Good luck!</p>
<p>EDIT: I forgot to add, you could easily add another parameter which has a single number which is the slot the item goes in to, this will save you having additional arrays for each item.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505/1</link>
        <pubDate>Mon, 23 Aug 2010 02:51:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-356505-1</guid>
        <source url="https://forum.moparisthebest.com/t/start-of-an-equipment-loader/356505.rss">Start of an equipment loader</source>
      </item>
  </channel>
</rss>
