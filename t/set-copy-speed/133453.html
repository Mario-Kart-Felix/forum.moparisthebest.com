<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/set-copy-speed/133453 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 17:46:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Set copy speed - General Programming - moparisthebest.com</title>
    <meta name="description" content="Right, I currently have created a method to copy a directory to somewhere else but I cannot seem to work out how to set the speed of the copy. As I want this copying to be done in the background whilst I am doing somethi&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="133453.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Set copy speed&#39;" href="133453.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/set-copy-speed/133453" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/set-copy-speed/133453" />
<meta property="og:title" content="Set copy speed" />
<meta name="twitter:title" content="Set copy speed" />
<meta property="og:description" content="Right, I currently have created a method to copy a directory to somewhere else but I cannot seem to work out how to set the speed of the copy. As I want this copying to be done in the background whilst I am doing something else, it really needs to be a relatively slow copy speed to allow other things to be done on the computer at that time. My current copy() method is this:  [code]public void copy() throws IOException  {  if(source.isDirectory())  copyDirectory(source, dest);  else  copyFile(sou..." />
<meta name="twitter:description" content="Right, I currently have created a method to copy a directory to somewhere else but I cannot seem to work out how to set the speed of the copy. As I want this copying to be done in the background whilst I am doing something else, it really needs to be a relatively slow copy speed to allow other things to be done on the computer at that time. My current copy() method is this:  [code]public void copy() throws IOException  {  if(source.isDirectory())  copyDirectory(source, dest);  else  copyFile(sou..." />
<meta property="article:published_time" content="2007-08-14T14:27:46+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="133453.html">Set copy speed</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imafatmess.html'><span itemprop='name'>imafatmess</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-14T14:27:46Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:37:57Z' class='post-time'>
              July 30, 2016,  1:37pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Right, I currently have created a method to copy a directory to somewhere else but I cannot seem to work out how to set the speed of the copy. As I want this copying to be done in the background whilst I am doing something else, it really needs to be a relatively slow copy speed to allow other things to be done on the computer at that time. My current copy() method is this:</p>
<p>[code]public void copy() throws IOException<br>
{<br>
if(source.isDirectory())<br>
copyDirectory(source, dest);<br>
else<br>
copyFile(source, dest);<br>
}</p>
<p>private void copyFile(File src, File dst) throws IOException<br>
{<br>
FileChannel in = null, out = null;<br>
try<br>
{<br>
in = new FileInputStream(src).getChannel();<br>
out = new FileOutputStream(new File(dst.getPath() + “\” + src.getName())).getChannel();</p>
<pre><code>    long size = in.size();
    MappedByteBuffer buf = in.map(FileChannel.MapMode.READ_ONLY, 0, size);

        out.write(buf);
}
catch (FileNotFoundException e) 
	{
		System.err.println("File " + src.getName() + " not found");
	} 
	finally 
	{
		if (in != null)
			in.close();
		if (out != null)
			out.close();
	}
</code></pre>
<p>}</p>
<p>private void copyDirectory(File source, File dest) throws IOException<br>
{<br>
File sourceArray[] = source.listFiles();<br>
for(int i = 0; i &lt; sourceArray.length; i++)<br>
{<br>
System.out.println("Copying: " + sourceArray[i]);<br>
if(sourceArray[i].isDirectory())<br>
{<br>
String directoryPath = dest.getPath() + “\” + sourceArray[i].getName() + “\”;<br>
File directory = new File(directoryPath);<br>
directory.mkdir();<br>
copyDirectory(sourceArray[i], new File(directoryPath));<br>
}<br>
else<br>
copyFile(sourceArray[i], dest);<br>
}</p>
<p>}[/code]</p>
<p>If anyone can help me set the copying speed, it would be muchly appreciated <img src="../../images/emoji/twitter/smiley1bce.png?v=6" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>Thanks</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-14T14:29:31Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:37:57Z' class='post-time'>
              July 30, 2016,  1:37pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>uh, wtfusayin</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imafatmess.html'><span itemprop='name'>imafatmess</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-14T14:31:38Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:37:57Z' class='post-time'>
              July 30, 2016,  1:37pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why are you confused? I want to copy a directroy from one place to another and set the speed of the copying from one directory to the other as if the speed is at the usual copying speed, it slows down the computer. I want the copying to run in the background.</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-14T14:34:41Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:37:57Z' class='post-time'>
              July 30, 2016,  1:37pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i guess you could do a thread.sleep after every file is moved but thats pointless to the max!</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imafatmess.html'><span itemprop='name'>imafatmess</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-14T15:05:28Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:38:01Z' class='post-time'>
              July 30, 2016,  1:38pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, that would be completely pointless!</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-14T15:11:22Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:38:01Z' class='post-time'>
              July 30, 2016,  1:38pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i was talking about what your trying to do.</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imafatmess.html'><span itemprop='name'>imafatmess</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-14T15:59:23Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:38:04Z' class='post-time'>
              July 30, 2016,  1:38pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I know, and doing what you said most likely wouldn’t work and would be pointless because if you’re moving 1gb sized files, then the whole thread.sleep after every file would be completely useless…</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Iamadam.html'><span itemprop='name'>Iamadam</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-14T16:17:27Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:38:05Z' class='post-time'>
              July 30, 2016,  1:38pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If you don’t mind locking the file for a while, you could just modify the method used to copy. Read all of the bytes into an array (ByteArrayInputStream if you must), then write the buffer, one bit at a time. You can also read one bit at a time if you really want.<br>
Other that that, I really don’t know what you could do. I’m pretty sure there are ways to do things like that using native languages, but nothing springs to mind in java.</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imafatmess.html'><span itemprop='name'>imafatmess</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-14T16:43:09Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:38:08Z' class='post-time'>
              July 30, 2016,  1:38pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Right, thanks very much, that was actually very useful! I’ll go and try it…</p>
<p>EDIT -&gt;</p>
<p>I just tried a way that I had been thinking of a bit and it worked perfectly. I edited the copyFile method to be the following:</p>
<p>[code]private void copyFile(File src, File dst) throws IOException<br>
{<br>
FileChannel in = null, out = null;<br>
try<br>
{<br>
in = new FileInputStream(src).getChannel();<br>
out = new FileOutputStream(new File(dst.getPath() + “\” + src.getName())).getChannel();</p>
<pre><code>        long sze = in.size();
        System.out.println(sze);
        for(int i = 0; i &lt; sze; i++)
        {
	        System.out.println("x = " + (i-1) + ", i = " + i);
	        MappedByteBuffer buf = in.map(FileChannel.MapMode.READ_ONLY, i, 1);
	 
	        out.write(buf);
	        try 
	        {
				Thread.sleep(10);
			} 
	        catch (InterruptedException e) 
			{
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
        }
	}
	catch (FileNotFoundException e) 
	{
		System.err.println("File " + src.getName() + " not found");
	} 
	finally 
	{
		if (in != null)
			in.close();
		if (out != null)
			out.close();
	}
}[/code]
</code></pre>
<p>All that needs to be done is to change the waiting time to, well, whatever…</p>
<p>EDIT2 -&gt; Right, this method of doing this is unbelievably slow (even without any waits) probably something to do with the whole creating a new MappedByteBuffer every single loop :S It only reaches 5kb/s copying speed and that takes over 2 minutes to reach :S</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-15T07:14:05Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:39:46Z' class='post-time'>
              July 30, 2016,  1:39pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just a question, but couldn’t you just use File.renameTo(File dest) ?</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/1337h4x.html'><span itemprop='name'>1337h4x</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-15T07:18:53Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:39:47Z' class='post-time'>
              July 30, 2016,  1:39pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Mod Taharok, post:10, topic:133453”]Just a question, but couldn’t you just use File.renameTo(File dest) ?[/quote]I think he wants to move it to a different directory too <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fasga.html'><span itemprop='name'>Fasga</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-15T08:16:32Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:39:55Z' class='post-time'>
              July 30, 2016,  1:39pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“1337h4x, post:11, topic:133453”][quote author=Mod Taharok link=topic=184711.msg1675826#msg1675826 date=1187162045]<br>
Just a question, but couldn’t you just use File.renameTo(File dest) ?<br>
[/quote]I think he wants to move it to a different directory too :P[/quote]<br>
That’s what that does.</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imafatmess.html'><span itemprop='name'>imafatmess</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-15T12:11:55Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:40:10Z' class='post-time'>
              July 30, 2016,  1:40pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I would but I want to be able to choose the speed at which it copies to be, lets say 10mb/s (not actually true but something along those lines). with File.renameTo(File dest); it will just go at the speed the jdk decides it should go at. If I’m wrong then please tell me as then I’ve been screwing around wasting my time perfecting a copy method which does, by the way, finally work at a reasonable rate, about 10 mb/s although can be up to 21 mb/s, I just haven’t perfected the slowing down part yet…</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-15T22:27:34Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:40:58Z' class='post-time'>
              July 30, 2016,  1:40pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="13" data-topic="133453">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/imafatmess/40/5_6259e4fa9dfe0dec282fb0955bb1974c.png" class="avatar"> imafatmess:</div>
<blockquote>
<p>I would but I want to be able to choose the speed at which it copies to be, lets say 10mb/s (not actually true but something along those lines). with File.renameTo(File dest); it will just go at the speed the jdk decides it should go at. If I’m wrong then please tell me as then I’ve been screwing around wasting my time perfecting a copy method which does, by the way, finally work at a reasonable rate, about 10 mb/s although can be up to 21 mb/s, I just haven’t perfected the slowing down part yet…</p>
</blockquote>
</aside>
<p>How fast it copies is dependent upon the hard drive and the processor I would imagine. By choosing a speed for it to copy will mean you will only slow it down from its natural speed. You can’t make something go faster on a computer when the hardware itself is not built to go that fast.</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Fasga.html'><span itemprop='name'>Fasga</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-15T22:32:47Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:40:59Z' class='post-time'>
              July 30, 2016,  1:40pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Wow, if nobody is going to answer his question:</p>
<pre><code class="lang-auto">	public void copy(File from, File to) {
		try {
			InputStream in = new FileInputStream(from);
			OutputStream out = new FileOutputStream(to);
			byte[] buff = new byte[500];
			int numRead = 0;
			while((numRead = in.read(buff)) != 0) {
				out.write(buff, 0, numRead);
				out.flush();
				Thread.sleep(10);
			}
			out.close();
			in.close();
		} catch(IOException ioe) {
			ioe.printStackTrace();
		} catch(InterruptedException e) {
			e.printStackTrace();
		}
	}</code></pre>
<p>That should go…  what, 500kb/s?</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/RLN.html'><span itemprop='name'>RLN</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-16T01:29:44Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:41:22Z' class='post-time'>
              July 30, 2016,  1:41pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>just wrote this, haven’t tried compiling it or tested it… it should transfer a file over with a set speed in bytes per second… i don’t really know why you would want to do this…</p>
<p>[code]private boolean move(FileInputStream target, FileOutputStream dest, int speed /* in bytes - per second*/, int length) {<br>
byte[] buffer = new byte[8192];<br>
int c = 0;<br>
int i = speed;<br>
int r;<br>
int m = 0, m2;<br>
while(c &lt; length) {<br>
try {<br>
m = System.currentTimeMillis();<br>
r = target.read(buffer, c, speed - i);<br>
i -= r;<br>
c += r;<br>
dest.write(buffer, 0, r);<br>
m2 = System.currentTimeMillis();<br>
if(i &gt; 0)<br>
continue;<br>
if(m2 - m1 &gt;= 1000) {<br>
i = speed;<br>
continue;<br>
}<br>
else {<br>
try {<br>
Thread.sleep(1000 - (m2 - m1));<br>
} catch (Exception e) { return false; }<br>
i = speed;<br>
}<br>
} catch (IOException io) { io.printStackTrace(); return false; }<br>
}</p>
<pre><code>return true;
</code></pre>
<p>}[/code]</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imafatmess.html'><span itemprop='name'>imafatmess</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-16T01:35:45Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:41:22Z' class='post-time'>
              July 30, 2016,  1:41pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I need a way to slow down a copying speed thing because i am writing something to kinda backup a load of files on start up and i don’t want the copying to hinder system performance too much, understand?</p>
<p>Also, thanks, that’s just about perfect <img src="../../images/emoji/twitter/smiley1bce.png?v=6" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k00dr.html'><span itemprop='name'>k00dr</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-16T03:54:12Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:41:40Z' class='post-time'>
              July 30, 2016,  1:41pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here’s my version, sort of like RLN’s.<br>
If the source file is a directory, then it and it’s subdirectories are copied under the new root directory, copying speed is maintained even when the files are small, I’d say it turned out pretty sexy… <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<pre><code class="lang-auto">  public final static void copyFile(File src, File dest, int bytesPerSecond) {
    if(bytesPerSecond &lt; 0)
      throw new IllegalArgumentException("Copying speed cannot be negative!");
    copyFile(src, dest, bytesPerSecond, bytesPerSecond, new byte[1024]);
  }

  public final static int copyFile(File src, File dest, int bytesPerSecond, int currentSecond, byte[] buffer) {
    if(src.isDirectory()) {
      if(dest.exists() || dest.mkdir())
        for(File file : src.listFiles())
          currentSecond = copyFile(file, new File(dest, file.getName()), bytesPerSecond, currentSecond, buffer);
    }
    else {
      try {
        FileInputStream in = new FileInputStream(src);
        FileOutputStream out = new FileOutputStream(dest);
        int chunk;
        while((chunk = in.read(buffer, 0, Math.min(buffer.length, currentSecond))) &gt; 0) {
          out.write(buffer, 0, chunk);
          if((currentSecond -= chunk) &lt;= 0) {
            Thread.sleep(1000);
            currentSecond = bytesPerSecond;
          }
        }
        in.close();
        out.close();
      } catch(Exception _ex) {
        dest.delete();
      }
    }
    return currentSecond;
  }</code></pre>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Pwnd.html'><span itemprop='name'>Pwnd</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-16T04:16:17Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:41:42Z' class='post-time'>
              July 30, 2016,  1:41pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>k00dr’s way is exactly like I would have done it.</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imafatmess.html'><span itemprop='name'>imafatmess</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-16T13:26:29Z'>
            <time itemprop='dateModified' datetime='2016-07-30T13:42:27Z' class='post-time'>
              July 30, 2016,  1:42pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I actually like the look of RLNs better, don’t know why, but I just do… Anyway, thanks everyone, you’ve helped me loads!</p>
      </div>

      <meta itemprop='headline' content='Set copy speed'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/set-copy-speed/133453 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 17:46:45 GMT -->
</html>
