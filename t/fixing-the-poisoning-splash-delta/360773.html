<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/fixing-the-poisoning-splash-delta/360773 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 12:28:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Fixing the poisoning splash [Delta] - Runescape - moparisthebest.com</title>
    <meta name="description" content="Since i quited rsps, i will release my snippets to you. 

In delta servers wow.. you might have noticed that it gives red splash instead green when you get poisoned. This will fix it. 

[IMG]http://i40.tinypic.com/2nbzpt&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="360773.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Fixing the poisoning splash [Delta]&#39;" href="360773.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://i40.tinypic.com/2nbzptt.png" />
<meta property="og:image" content="http://i40.tinypic.com/2nbzptt.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/fixing-the-poisoning-splash-delta/360773" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/fixing-the-poisoning-splash-delta/360773" />
<meta property="og:title" content="Fixing the poisoning splash [Delta]" />
<meta name="twitter:title" content="Fixing the poisoning splash [Delta]" />
<meta property="og:description" content="Since i quited rsps, i will release my snippets to you.  In delta servers wow… you might have noticed that it gives red splash instead green when you get poisoned. This will fix it.    in player.java  replace protected void appendHitUpdate(stream str) {      [CODE]protected void appendHitUpdate(stream str) {		  try {  str.writeByte(hitDiff); // What the perseon got ‘hit’ for  		if(hitDiff &gt; 0 &amp;&amp; healUpdateRequired &amp;&amp; poisonDmg == false){ 			str.writeByteA(0); 		} else if (hitDiff &gt; 0 &amp;&amp; newhptyp..." />
<meta name="twitter:description" content="Since i quited rsps, i will release my snippets to you.  In delta servers wow… you might have noticed that it gives red splash instead green when you get poisoned. This will fix it.    in player.java  replace protected void appendHitUpdate(stream str) {      [CODE]protected void appendHitUpdate(stream str) {		  try {  str.writeByte(hitDiff); // What the perseon got ‘hit’ for  		if(hitDiff &gt; 0 &amp;&amp; healUpdateRequired &amp;&amp; poisonDmg == false){ 			str.writeByteA(0); 		} else if (hitDiff &gt; 0 &amp;&amp; newhptyp..." />
<meta property="article:published_time" content="2010-09-18T09:34:18+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="360773.html">Fixing the poisoning splash [Delta]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Sir_roju.html'><span itemprop='name'>Sir_roju</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-09-18T09:34:18Z'>
            <time itemprop='dateModified' datetime='2016-07-31T23:54:06Z' class='post-time'>
              July 31, 2016, 11:54pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><span class="bbcode-b">Since i quited rsps, i will release my snippets to you.</span></p>
<p>In delta servers wow… you might have noticed that it gives <span class="bbcode-b">red splash</span> instead <span class="bbcode-b">green</span> when you get poisoned. This will fix it.</p>
<p><img src="http://i40.tinypic.com/2nbzptt.png" alt width="515" height="337"></p>
<p>in <span class="bbcode-b">player.java</span></p>
<p>replace <span class="bbcode-b">protected void appendHitUpdate(stream str) {    </span></p>
<p>[CODE]protected void appendHitUpdate(stream str) {		<br>
try {<br>
str.writeByte(hitDiff); // What the perseon got ‘hit’ for</p>
<pre><code>		if(hitDiff &gt; 0 &amp;&amp; healUpdateRequired &amp;&amp; poisonDmg == false){
			str.writeByteA(0);
		} else if (hitDiff &gt; 0 &amp;&amp; newhptype == false &amp;&amp; poisonDmg == false) {
			str.writeByteA(1); // 0: red hitting - 1: blue hitting
		} else {
			str.writeByteA(0); // 0: red hitting - 1: blue hitting
		}

		if(!healUpdateRequired){
			/*currentHealth -= hitDiff;
			if (currentHealth &lt;= 0) {
				currentHealth = playerLevel[playerHitpoints];
				deathStage = 1;
				deathTimer = System.currentTimeMillis();
			}*/
		} else {
			currentHealth = (currentHealth + hitDiff);
			if(currentHealth &gt; maxHealth){
				currentHealth = maxHealth;
			}
		}
		healUpdateRequired = false;
		str.writeByteC(currentHealth); // Their current hp, for HP bar
		str.writeByte(getLevelForXP(playerXP[playerHitpoints])); // Their max hp, for HP bar
                    inCombat = true;
		lastCombat = System.currentTimeMillis();
	} catch(Exception e) {
		e.printStackTrace();
	}
}[/CODE]
</code></pre>
<p>and if you dont already have, declare this</p>
<p>[CODE]protected void appendHitUpdate2(stream str) {		<br>
if(str != null)<br>
{<br>
str.writeByte(hitDiff2); // What the perseon got ‘hit’ for</p>
<pre><code>		if (hitDiff2 &gt; 0) {
			str.writeByteS(2); // 0: red hitting - 1: blue hitting 2: poison 3: orange

		} else if (hitDiff2 == 0 &amp;&amp; healUpdateRequired) {
			str.writeByteS(2); // 0: red hitting - 1: blue hitting 2: poison 3: orange
		} else {
			str.writeByteS(2); // 0: red hitting - 1: blue hitting
		}

		str.writeByte(currentHealth); // Their current hp, for HP bar
		str.writeByteC(getLevelForXP(playerXP[playerHitpoints])); // Their max hp, for HP bar
                    inCombat = true;
		lastCombat = System.currentTimeMillis();
	}
	
}[/CODE]
</code></pre>
<p>search<br>
<span class="bbcode-b">public void appendPlayerUpdateBlock(stream str) {</span></p>
<p>replace the void with this</p>
<p>[CODE]public void appendPlayerUpdateBlock(stream str) {<br>
if (!updateRequired &amp;&amp; !chatTextUpdateRequired)<br>
return;<br>
// nothing required<br>
int updateMask = 0;<br>
if (mask400update)<br>
updateMask |= 0x400; // Xerozcheez: Very interesting<br>
// update mask!<br>
if (mask100update)<br>
updateMask |= 0x100; // Xerozcheez: Graphics on player<br>
// update mask<br>
if(animationRequest != -1) updateMask |= 8;<br>
if (chatTextUpdateRequired)<br>
updateMask |= 0x80;<br>
if (faceNPCupdate)<br>
updateMask |= 1;<br>
if (appearanceUpdateRequired)<br>
updateMask |= 0x10;<br>
if (FocusPointX != -1)<br>
updateMask |= 2;<br>
if (hitUpdateRequired)<br>
updateMask |= 0x20;<br>
if (hitUpdateRequired2)<br>
updateMask |= 0x200;<br>
if (dirUpdateRequired)<br>
updateMask |= 0x40;<br>
if (plrTextUpdateRequired)<br>
updateMask |= 4;<br>
if(animationRequest != -1) updateMask |= 8;<br>
if (updateMask &gt;= 0x100) {<br>
// byte isn’t sufficient<br>
updateMask |= 0x40;<br>
// indication for the client that updateMask is stored in a word<br>
str.writeByte(updateMask &amp; 0xFF);<br>
str.writeByte(updateMask &gt;&gt; 8);<br>
} else<br>
str.writeByte(updateMask);</p>
<pre><code>	// now writing the various update blocks itself - note that their order
	// crucial
	if (mask400update)
		appendMask400Update(str); // Xerozcheez: Very
	// interesting update mask!
	if (mask100update)
		appendMask100Update(str); // Xerozcheez: Graphics on
	// player update mask
            if(animationRequest != -1) appendAnimationRequest(str);
	if (plrTextUpdateRequired)
		appendString4(str);
	if (chatTextUpdateRequired)
		appendPlayerChatText(str);
	if (faceNPCupdate)
       		appendFaceNPCUpdate(str);
	if (appearanceUpdateRequired)
		appendPlayerAppearance(str);
	if (FocusPointX != -1)
		appendSetFocusDestination(str);
	if (hitUpdateRequired)
		appendHitUpdate(str);
</code></pre>
<p>if (hitUpdateRequired2)<br>
appendHitUpdate2(str);<br>
if (dirUpdateRequired)<br>
appendDirUpdate(str);<br>
//if(animationRequest != -1) appendAnimationRequest(str);<br>
// TODO: add the various other update blocks</p>
<pre><code>}
</code></pre>
<p>[/CODE]</p>
<p>find <span class="bbcode-b">public void clearUpdateFlags() {</span></p>
<p>add this</p>
<p><code>hitUpdateRequired2 = false;
</code></p>
<p>declare these</p>
<p><code>protected boolean hitUpdateRequired2 = false;
protected int hitDiff2 = 0;</code></p>
<p>then find</p>
<pre><code class="lang-auto">public void applyPoisonToMe() {</code></pre>
<p>replace it with this</p>
<p><code>public void applyPoisonToMe() {		
		poisonDelay = misc.random(60);
		hitDiff2 = misc.random(6);
		currentHealth -= hitDiff2;
		updateRequired = true;
		hitUpdateRequired2 = true;
	}
</code></p>
<p>post any errors or missed methods</p>
<p>credits: me</p>
      </div>

      <meta itemprop='headline' content='Fixing the poisoning splash [Delta]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/recker450.html'><span itemprop='name'>recker450</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-09-18T15:03:22Z'>
            <time itemprop='dateModified' datetime='2016-07-31T23:54:21Z' class='post-time'>
              July 31, 2016, 11:54pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>good job and lol one guy just died</p>
      </div>

      <meta itemprop='headline' content='Fixing the poisoning splash [Delta]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/kihomura.html'><span itemprop='name'>kihomura</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-09-19T00:19:41Z'>
            <time itemprop='dateModified' datetime='2016-07-31T23:55:04Z' class='post-time'>
              July 31, 2016, 11:55pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Please explain some of the code so that users know what they are changing.</p>
      </div>

      <meta itemprop='headline' content='Fixing the poisoning splash [Delta]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/recker450.html'><span itemprop='name'>recker450</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-09-19T00:21:02Z'>
            <time itemprop='dateModified' datetime='2016-07-31T23:55:04Z' class='post-time'>
              July 31, 2016, 11:55pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>its an snippet…and he just quit i dont think hes going to edit it and add more info</p>
      </div>

      <meta itemprop='headline' content='Fixing the poisoning splash [Delta]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/recker450.html'><span itemprop='name'>recker450</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-09-19T02:08:36Z'>
            <time itemprop='dateModified' datetime='2016-07-31T23:55:13Z' class='post-time'>
              July 31, 2016, 11:55pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="1" data-topic="360773">
<div class="title">
<div class="quote-controls"></div>
 Sir roju:</div>
<blockquote>
<p><span class="bbcode-b">i quited rsps.</span></p>
</blockquote>
</aside>
<p>i don’t think hes comming back</p>
      </div>

      <meta itemprop='headline' content='Fixing the poisoning splash [Delta]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/stepehi.html'><span itemprop='name'>stepehi</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-10-23T11:14:26Z'>
            <time itemprop='dateModified' datetime='2016-08-01T00:33:16Z' class='post-time'>
              August 1, 2016, 12:33am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks for this</p>
      </div>

      <meta itemprop='headline' content='Fixing the poisoning splash [Delta]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/smkscape.html'><span itemprop='name'>smkscape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-10-23T20:32:46Z'>
            <time itemprop='dateModified' datetime='2016-08-01T00:33:54Z' class='post-time'>
              August 1, 2016, 12:33am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think this will help some people, nice.</p>
      </div>

      <meta itemprop='headline' content='Fixing the poisoning splash [Delta]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/fixing-the-poisoning-splash-delta/360773 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 12:28:05 GMT -->
</html>
