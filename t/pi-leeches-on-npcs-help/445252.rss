<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[pi] leeches on npcs help</title>
    <link>https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252</link>
    <description>Here is the code under attackNpc method:

[code]if (!c.prayerActive[36]) { //leech NPC att
			if (c.oldNpcIndex &gt; 0) {
			if (NPCHandler.npcs[c.oldNpcIndex] != null) {
			final int pX = c.getX();
			final int pY = c.getY();
			final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
			final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
			final int offX = (pY - nY) * -1;
			final int offY = (pX - nX) * -1;
                        c.sendMessage(&quot;You leech your combatant&#39;s attack.&quot;);
                        c.startAnimation(12575);
						c.gfx0(2234);
                        c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2231, 43, 31, - c.oldNpcIndex - 1, 1);
                        c.leechAttackDelay = 2;
                        EventManager.getSingleton().addEvent(new Event() {
                                @Override
								public void execute(EventContainer s) {
                                        if (c.leechAttackDelay &gt; 0) {
                                                c.leechAttackDelay--;
                                        }
					if (c.oldNpcIndex &gt; 0) {
						if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                        if (c.leechAttackDelay == 1) {
                                                NPCHandler.npcs[c.oldNpcIndex].gfx0(2232);
                                                if (c.attackMultiplier &lt; 1.10) {
                                                        c.attackMultiplier += 0.01;
                                                }
                                        }
				}
			}
                                        if (c.leechAttackDelay == 0) {  
                                                s.stop();
                                        }
                                }
                        }, 500);
                }
        }
	}

		if (!c.prayerActive[37]) 
			if (c.oldNpcIndex &gt; 0) {
			if (NPCHandler.npcs[c.oldNpcIndex] != null) {
			final int pX = c.getX();
			final int pY = c.getY();
			final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
			final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
			final int offX = (pY - nY) * -1;
			final int offY = (pX - nX) * -1;
                        c.sendMessage(&quot;You leech your combatant&#39;s range.&quot;);
                        c.startAnimation(12575);
                        c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2236, 43, 31, - c.oldNpcIndex - 1, 0);
                        c.leechRangedDelay = 2;
                        EventManager.getSingleton().addEvent(new Event() {
                                @Override
								public void execute(EventContainer s) {
                                        if (c.leechRangedDelay &gt; 0) {
                                                c.leechRangedDelay--;
                                        }
					if (c.oldNpcIndex &gt; 0) {
						if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                        if (c.leechRangedDelay == 1) {
                                                NPCHandler.npcs[c.oldNpcIndex].gfx0(2238);
                                                if (c.rangedMultiplier &lt; 1.10) {
                                                        c.rangedMultiplier += 0.01;
                                                }
                                        }
				}
			}
                                        if (c.leechRangedDelay == 0) {  
                                                s.stop();
                                        }
                                }
                        }, 500);
                }
        }
	
		if (!c.prayerActive[38]) 
			if (c.oldNpcIndex &gt; 0) {
			if (NPCHandler.npcs[c.oldNpcIndex] != null) {
			final int pX = c.getX();
			final int pY = c.getY();
			final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
			final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
			final int offX = (pY - nY) * -1;
			final int offY = (pX - nX) * -1;
                        c.sendMessage(&quot;You leech your combatant&#39;s magic.&quot;);
                        c.startAnimation(12575);
                        c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2240, 43, 31, - c.oldNpcIndex - 1, 2);
                        c.leechMagicDelay = 2;
                        EventManager.getSingleton().addEvent(new Event() {
                                @Override
								public void execute(EventContainer s) {
                                        if (c.leechMagicDelay &gt; 0) {
                                                c.leechMagicDelay--;
                                        }
					if (c.oldNpcIndex &gt; 0) {
						if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                        if (c.leechMagicDelay == 1) {
                                                NPCHandler.npcs[c.oldNpcIndex].gfx0(2242);
                                                if (c.magicMultiplier &lt; 1.10) {
                                                        c.magicMultiplier += 0.01;
                                                }
                                        }
				}
			}
                                        if (c.leechMagicDelay == 0) {   
                                                s.stop();
                                        }
                                }
                        }, 500);
                }
        }

	if (!c.prayerActive[39]) 
			if (c.oldNpcIndex &gt; 0) {
			if (NPCHandler.npcs[c.oldNpcIndex] != null) {
			final int pX = c.getX();
			final int pY = c.getY();
			final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
			final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
			final int offX = (pY - nY) * -1;
			final int offY = (pX - nX) * -1;
                        c.sendMessage(&quot;You leech your combatant&#39;s defence.&quot;);
                        c.startAnimation(12575);
                        c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2244, 43, 31, - c.oldNpcIndex - 1, 3);
                        c.leechDefenceDelay = 2;
                        EventManager.getSingleton().addEvent(new Event() {
                                @Override
								public void execute(EventContainer s) {
                                        if (c.leechDefenceDelay &gt; 0) {
                                                c.leechDefenceDelay--;
                                        }
					if (c.oldNpcIndex &gt; 0) {
						if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                        if (c.leechDefenceDelay == 1) {
                                                NPCHandler.npcs[c.oldNpcIndex].gfx0(2246);
                                                if (c.defenceMultiplier &lt; 1.10) {
                                                        c.defenceMultiplier += 0.01;
                                                }
                                        }
				}
			}
                                        if (c.leechDefenceDelay == 0) { 
                                                s.stop();
                                        }
                                }
                        }, 500);
                }
        }

	if (!c.prayerActive[40]) 
			if (c.oldNpcIndex &gt; 0) {
			if (NPCHandler.npcs[c.oldNpcIndex] != null) {
			final int pX = c.getX();
			final int pY = c.getY();
			final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
			final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
			final int offX = (pY - nY) * -1;
			final int offY = (pX - nX) * -1;
                        c.sendMessage(&quot;You leech your combatant&#39;s strength.&quot;);
                        c.startAnimation(12575);
                        c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2248, 43, 31, - c.oldNpcIndex - 1, 4);
                        c.leechStrengthDelay = 2;
                        EventManager.getSingleton().addEvent(new Event() {
                                @Override
								public void execute(EventContainer s) {
                                        if (c.leechStrengthDelay &gt; 0) {
                                                c.leechStrengthDelay--;
                                        }
					if (c.oldNpcIndex &gt; 0) {
						if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                        if (c.leechStrengthDelay == 1) {
                                                NPCHandler.npcs[c.oldNpcIndex].gfx0(2250);
                                                if (c.strengthMultiplier &lt; 1.10) {
                                                        c.strengthMultiplier += 0.01;
                                                }
                                        }
				}
			}
                                        if (c.leechStrengthDelay == 0) {        
                                                s.stop();
                                        }
                                }
                        }, 500);
                }
        }
	
	if (!c.prayerActive[41]) 
			if (c.oldNpcIndex &gt; 0) {
			if (NPCHandler.npcs[c.oldNpcIndex] != null) {
			final int pX = c.getX();
			final int pY = c.getY();
			final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
			final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
			final int offX = (pY - nY) * -1;
			final int offY = (pX - nX) * -1;
                        c.sendMessage(&quot;You leech your combatant&#39;s run energy.&quot;);
                        c.startAnimation(12575);
                        c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2252, 43, 31, - c.oldNpcIndex - 1, 5);
                        c.leechEnergyDelay = 2;
                        EventManager.getSingleton().addEvent(new Event() {
                                @Override
								public void execute(EventContainer s) {
                                        if (c.leechEnergyDelay &gt; 0) {
                                                c.leechEnergyDelay--;
                                        }
					if (c.oldNpcIndex &gt; 0) {
						if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                        if (c.leechEnergyDelay == 1) {
                                                NPCHandler.npcs[c.oldNpcIndex].gfx0(2254);
                                        }
				}
			}
                                        if (c.leechEnergyDelay == 0) {  
                                                s.stop();
                                        }
                                }
                        }, 500);
                }
        }

	if (!c.prayerActive[42]) 
			if (c.oldNpcIndex &gt; 0) {
			if (NPCHandler.npcs[c.oldNpcIndex] != null) {
			final int pX = c.getX();
			final int pY = c.getY();
			final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
			final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
			final int offX = (pY - nY) * -1;
			final int offY = (pX - nX) * -1;
                        c.sendMessage(&quot;You leech your combatant&#39;s special attack.&quot;);
                        c.startAnimation(12575);
                        c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2256, 43, 31, - c.oldNpcIndex - 1, 6);
                        c.leechSpecialDelay = 2;
                        EventManager.getSingleton().addEvent(new Event() {
                                @Override
								public void execute(EventContainer s) {
                                        if (c.leechSpecialDelay &gt; 0) {
                                                c.leechSpecialDelay--;
                                        }
					if (c.oldNpcIndex &gt; 0) {
						if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                        if (c.leechSpecialDelay == 1) {
                                                NPCHandler.npcs[c.oldNpcIndex].gfx0(2258);
                                                if (c.specAmount &gt;= 10)
                                                        return;
                                                c.specAmount += 1;
                                        }
				}
			}
                                        if (c.leechSpecialDelay == 0) { 
                                                s.stop();
                                        }
                                }
                        }, 500);
                }
        }

	if(c.prayerActive[44]) { 
					if(c.oldNpcIndex &gt; 0) {
					if(NPCHandler.npcs[c.oldNpcIndex] != null) {
					try {
					if(c.prayerActive[44] &amp;&amp; !c.prayerActive[23] &amp;&amp; c.playerLevel[3] &lt;= 99) {
						int heal = 2;
						if(c.playerLevel[3] + heal &gt;= c.getPA().getLevelForXP(c.playerXP[3])) {
							c.playerLevel[3] = c.getPA().getLevelForXP(c.playerXP[3]);
						} else {
							c.playerLevel[3] += heal;
						}
						c.getPA().refreshSkill(3);
					}
					final int pX = c.getX();
 					final int pY = c.getY();
					final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
					final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
					final int offX = (pY - nY)* -1;
					final int offY = (pX - nX)* -1;
					c.SSPLIT = true;
					c.getPA().createPlayersProjectile2(pX, pY, offX, offY, 50, 50, 2263, 9, 9, c.oldNpcIndex + 1, 24, 0);
					EventManager.getSingleton().addEvent(new Event() {
					public void execute(EventContainer b) {
					c.SSPLIT = false;
				        b.stop();
					}
					}, 500);
					/*EventManager.getSingleton().addEvent(new Event() { 
					public void execute(EventContainer b) {
					//c.getPA().createPlayersProjectile2(nX, nY, offX, offY, 50, 50, 2263, 9, 9, - c.playerId - 1, 24, 0);
				        b.stop();
					}
					}, 800);*/
					} catch (Exception e) {
					e.printStackTrace();
				}
			}
		}
	}[/code]

There is a problem as when I attack any  NPC in the server (REGARDLESS OF WHETHER THE LEECH PRAYERS ARE ON OR OFF), all of the leech prayers do their effects simulatneously including sending all the messages from leech attack to leech special attack. Is there ANY Possible way to fix this?</description>
    
    <lastBuildDate>Fri, 15 Jun 2012 17:20:34 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[pi] leeches on npcs help</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>No problem…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/9</link>
        <pubDate>Fri, 15 Jun 2012 17:20:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445252-9</guid>
        <source url="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252.rss">[pi] leeches on npcs help</source>
      </item>
      <item>
        <title>[pi] leeches on npcs help</title>
        <dc:creator><![CDATA[@Code_kai Code kai]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/code_kai">@Code_kai</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="7" data-topic="445252">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/asshole_rule/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> asshole_rule:</div>
<blockquote>
<p>random number 0-15, if it is bigger then 10, then do whatever is under it.</p>
</blockquote>
</aside>
<p>Thanks for the clarification!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/8</link>
        <pubDate>Fri, 15 Jun 2012 17:13:40 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445252-8</guid>
        <source url="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252.rss">[pi] leeches on npcs help</source>
      </item>
      <item>
        <title>[pi] leeches on npcs help</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>random number 0-15, if it is bigger then 10, then do whatever is under it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/7</link>
        <pubDate>Fri, 15 Jun 2012 17:12:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445252-7</guid>
        <source url="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252.rss">[pi] leeches on npcs help</source>
      </item>
      <item>
        <title>[pi] leeches on npcs help</title>
        <dc:creator><![CDATA[@Code_kai Code kai]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/code_kai">@Code_kai</a> wrote:</p>
          <blockquote>
              <p>[quote=“imsuperman05, post:5, topic:445252”]<code>if (!c.prayerActive[36] &amp;&amp; Misc.random(15) &gt; 10) { //leech NPC att</code></p>
<p>Also, the checks should not be false but true.  Remove the exclamation point (!) from each of those c.prayerActive[int] checks.[/quote]</p>
<p>sorry to be a jerk, but what does the 15 and the 10 mean?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/6</link>
        <pubDate>Fri, 15 Jun 2012 17:11:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445252-6</guid>
        <source url="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252.rss">[pi] leeches on npcs help</source>
      </item>
      <item>
        <title>[pi] leeches on npcs help</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">

Also, the checks should not be false but true.  Remove the exclamation point (!) from each of those c.prayerActive[int] checks.</code></pre>
<p>Also, the checks should not be false but true.  Remove the exclamation point (!) from each of those c.prayerActive[int] checks.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/5</link>
        <pubDate>Fri, 15 Jun 2012 17:05:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445252-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252.rss">[pi] leeches on npcs help</source>
      </item>
      <item>
        <title>[pi] leeches on npcs help</title>
        <dc:creator><![CDATA[@Code_kai Code kai]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/code_kai">@Code_kai</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="3" data-topic="445252">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/imsuperman05/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> imsuperman05:</div>
<blockquote>
<p>Add a random if statement, so that it does it randomly?  Misc.random(50) &gt; 35</p>
</blockquote>
</aside>
<p>can you give me an example of the random statement? like where it would go etc.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/4</link>
        <pubDate>Fri, 15 Jun 2012 17:04:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445252-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252.rss">[pi] leeches on npcs help</source>
      </item>
      <item>
        <title>[pi] leeches on npcs help</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>Add a random if statement, so that it does it randomly?  Misc.random(50) &gt; 35</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/3</link>
        <pubDate>Fri, 15 Jun 2012 17:00:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445252-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252.rss">[pi] leeches on npcs help</source>
      </item>
      <item>
        <title>[pi] leeches on npcs help</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>why are you checking if the prayer’s aren’t active</p>
<pre><code class="lang-auto"></code></pre>
<p>shouldn’t it be the other way around</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/2</link>
        <pubDate>Fri, 15 Jun 2012 16:58:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445252-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252.rss">[pi] leeches on npcs help</source>
      </item>
      <item>
        <title>[pi] leeches on npcs help</title>
        <dc:creator><![CDATA[@Code_kai Code kai]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/code_kai">@Code_kai</a> wrote:</p>
          <blockquote>
              <p>Here is the code under attackNpc method:</p>
<p>[code]if (!c.prayerActive[36]) { //leech NPC att<br>
if (c.oldNpcIndex &gt; 0) {<br>
if (NPCHandler.npcs[c.oldNpcIndex] != null) {<br>
final int pX = c.getX();<br>
final int pY = c.getY();<br>
final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();<br>
final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();<br>
final int offX = (pY - nY) * -1;<br>
final int offY = (pX - nX) * -1;<br>
c.sendMessage(“You leech your combatant’s attack.”);<br>
c.startAnimation(12575);<br>
c.gfx0(2234);<br>
c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2231, 43, 31, - c.oldNpcIndex - 1, 1);<br>
c.leechAttackDelay = 2;<br>
EventManager.getSingleton().addEvent(new Event() {<br>
<a class="mention" href="/u/override">@Override</a><br>
public void execute(EventContainer s) {<br>
if (c.leechAttackDelay &gt; 0) {<br>
c.leechAttackDelay–;<br>
}<br>
if (c.oldNpcIndex &gt; 0) {<br>
if (NPCHandler.npcs[c.oldNpcIndex] != null) {<br>
if (c.leechAttackDelay == 1) {<br>
NPCHandler.npcs[c.oldNpcIndex].gfx0(2232);<br>
if (c.attackMultiplier &lt; 1.10) {<br>
c.attackMultiplier += 0.01;<br>
}<br>
}<br>
}<br>
}<br>
if (c.leechAttackDelay == 0) {<br>
s.stop();<br>
}<br>
}<br>
}, 500);<br>
}<br>
}<br>
}</p>
<pre><code>	if (!c.prayerActive[37]) 
		if (c.oldNpcIndex &gt; 0) {
		if (NPCHandler.npcs[c.oldNpcIndex] != null) {
		final int pX = c.getX();
		final int pY = c.getY();
		final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
		final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
		final int offX = (pY - nY) * -1;
		final int offY = (pX - nX) * -1;
                    c.sendMessage("You leech your combatant's range.");
                    c.startAnimation(12575);
                    c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2236, 43, 31, - c.oldNpcIndex - 1, 0);
                    c.leechRangedDelay = 2;
                    EventManager.getSingleton().addEvent(new Event() {
                            @Override
							public void execute(EventContainer s) {
                                    if (c.leechRangedDelay &gt; 0) {
                                            c.leechRangedDelay--;
                                    }
				if (c.oldNpcIndex &gt; 0) {
					if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                    if (c.leechRangedDelay == 1) {
                                            NPCHandler.npcs[c.oldNpcIndex].gfx0(2238);
                                            if (c.rangedMultiplier &lt; 1.10) {
                                                    c.rangedMultiplier += 0.01;
                                            }
                                    }
			}
		}
                                    if (c.leechRangedDelay == 0) {  
                                            s.stop();
                                    }
                            }
                    }, 500);
            }
    }

	if (!c.prayerActive[38]) 
		if (c.oldNpcIndex &gt; 0) {
		if (NPCHandler.npcs[c.oldNpcIndex] != null) {
		final int pX = c.getX();
		final int pY = c.getY();
		final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
		final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
		final int offX = (pY - nY) * -1;
		final int offY = (pX - nX) * -1;
                    c.sendMessage("You leech your combatant's magic.");
                    c.startAnimation(12575);
                    c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2240, 43, 31, - c.oldNpcIndex - 1, 2);
                    c.leechMagicDelay = 2;
                    EventManager.getSingleton().addEvent(new Event() {
                            @Override
							public void execute(EventContainer s) {
                                    if (c.leechMagicDelay &gt; 0) {
                                            c.leechMagicDelay--;
                                    }
				if (c.oldNpcIndex &gt; 0) {
					if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                    if (c.leechMagicDelay == 1) {
                                            NPCHandler.npcs[c.oldNpcIndex].gfx0(2242);
                                            if (c.magicMultiplier &lt; 1.10) {
                                                    c.magicMultiplier += 0.01;
                                            }
                                    }
			}
		}
                                    if (c.leechMagicDelay == 0) {   
                                            s.stop();
                                    }
                            }
                    }, 500);
            }
    }

if (!c.prayerActive[39]) 
		if (c.oldNpcIndex &gt; 0) {
		if (NPCHandler.npcs[c.oldNpcIndex] != null) {
		final int pX = c.getX();
		final int pY = c.getY();
		final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
		final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
		final int offX = (pY - nY) * -1;
		final int offY = (pX - nX) * -1;
                    c.sendMessage("You leech your combatant's defence.");
                    c.startAnimation(12575);
                    c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2244, 43, 31, - c.oldNpcIndex - 1, 3);
                    c.leechDefenceDelay = 2;
                    EventManager.getSingleton().addEvent(new Event() {
                            @Override
							public void execute(EventContainer s) {
                                    if (c.leechDefenceDelay &gt; 0) {
                                            c.leechDefenceDelay--;
                                    }
				if (c.oldNpcIndex &gt; 0) {
					if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                    if (c.leechDefenceDelay == 1) {
                                            NPCHandler.npcs[c.oldNpcIndex].gfx0(2246);
                                            if (c.defenceMultiplier &lt; 1.10) {
                                                    c.defenceMultiplier += 0.01;
                                            }
                                    }
			}
		}
                                    if (c.leechDefenceDelay == 0) { 
                                            s.stop();
                                    }
                            }
                    }, 500);
            }
    }

if (!c.prayerActive[40]) 
		if (c.oldNpcIndex &gt; 0) {
		if (NPCHandler.npcs[c.oldNpcIndex] != null) {
		final int pX = c.getX();
		final int pY = c.getY();
		final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
		final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
		final int offX = (pY - nY) * -1;
		final int offY = (pX - nX) * -1;
                    c.sendMessage("You leech your combatant's strength.");
                    c.startAnimation(12575);
                    c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2248, 43, 31, - c.oldNpcIndex - 1, 4);
                    c.leechStrengthDelay = 2;
                    EventManager.getSingleton().addEvent(new Event() {
                            @Override
							public void execute(EventContainer s) {
                                    if (c.leechStrengthDelay &gt; 0) {
                                            c.leechStrengthDelay--;
                                    }
				if (c.oldNpcIndex &gt; 0) {
					if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                    if (c.leechStrengthDelay == 1) {
                                            NPCHandler.npcs[c.oldNpcIndex].gfx0(2250);
                                            if (c.strengthMultiplier &lt; 1.10) {
                                                    c.strengthMultiplier += 0.01;
                                            }
                                    }
			}
		}
                                    if (c.leechStrengthDelay == 0) {        
                                            s.stop();
                                    }
                            }
                    }, 500);
            }
    }

if (!c.prayerActive[41]) 
		if (c.oldNpcIndex &gt; 0) {
		if (NPCHandler.npcs[c.oldNpcIndex] != null) {
		final int pX = c.getX();
		final int pY = c.getY();
		final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
		final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
		final int offX = (pY - nY) * -1;
		final int offY = (pX - nX) * -1;
                    c.sendMessage("You leech your combatant's run energy.");
                    c.startAnimation(12575);
                    c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2252, 43, 31, - c.oldNpcIndex - 1, 5);
                    c.leechEnergyDelay = 2;
                    EventManager.getSingleton().addEvent(new Event() {
                            @Override
							public void execute(EventContainer s) {
                                    if (c.leechEnergyDelay &gt; 0) {
                                            c.leechEnergyDelay--;
                                    }
				if (c.oldNpcIndex &gt; 0) {
					if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                    if (c.leechEnergyDelay == 1) {
                                            NPCHandler.npcs[c.oldNpcIndex].gfx0(2254);
                                    }
			}
		}
                                    if (c.leechEnergyDelay == 0) {  
                                            s.stop();
                                    }
                            }
                    }, 500);
            }
    }

if (!c.prayerActive[42]) 
		if (c.oldNpcIndex &gt; 0) {
		if (NPCHandler.npcs[c.oldNpcIndex] != null) {
		final int pX = c.getX();
		final int pY = c.getY();
		final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
		final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
		final int offX = (pY - nY) * -1;
		final int offY = (pX - nX) * -1;
                    c.sendMessage("You leech your combatant's special attack.");
                    c.startAnimation(12575);
                    c.getPA().createPlayersProjectile(pX, pY, offX, offY, 50, 45, 2256, 43, 31, - c.oldNpcIndex - 1, 6);
                    c.leechSpecialDelay = 2;
                    EventManager.getSingleton().addEvent(new Event() {
                            @Override
							public void execute(EventContainer s) {
                                    if (c.leechSpecialDelay &gt; 0) {
                                            c.leechSpecialDelay--;
                                    }
				if (c.oldNpcIndex &gt; 0) {
					if (NPCHandler.npcs[c.oldNpcIndex] != null) {
                                    if (c.leechSpecialDelay == 1) {
                                            NPCHandler.npcs[c.oldNpcIndex].gfx0(2258);
                                            if (c.specAmount &gt;= 10)
                                                    return;
                                            c.specAmount += 1;
                                    }
			}
		}
                                    if (c.leechSpecialDelay == 0) { 
                                            s.stop();
                                    }
                            }
                    }, 500);
            }
    }

if(c.prayerActive[44]) { 
				if(c.oldNpcIndex &gt; 0) {
				if(NPCHandler.npcs[c.oldNpcIndex] != null) {
				try {
				if(c.prayerActive[44] &amp;&amp; !c.prayerActive[23] &amp;&amp; c.playerLevel[3] &lt;= 99) {
					int heal = 2;
					if(c.playerLevel[3] + heal &gt;= c.getPA().getLevelForXP(c.playerXP[3])) {
						c.playerLevel[3] = c.getPA().getLevelForXP(c.playerXP[3]);
					} else {
						c.playerLevel[3] += heal;
					}
					c.getPA().refreshSkill(3);
				}
				final int pX = c.getX();
				final int pY = c.getY();
				final int nX = NPCHandler.npcs[c.oldNpcIndex].getX();
				final int nY = NPCHandler.npcs[c.oldNpcIndex].getY();
				final int offX = (pY - nY)* -1;
				final int offY = (pX - nX)* -1;
				c.SSPLIT = true;
				c.getPA().createPlayersProjectile2(pX, pY, offX, offY, 50, 50, 2263, 9, 9, c.oldNpcIndex + 1, 24, 0);
				EventManager.getSingleton().addEvent(new Event() {
				public void execute(EventContainer b) {
				c.SSPLIT = false;
			        b.stop();
				}
				}, 500);
				/*EventManager.getSingleton().addEvent(new Event() { 
				public void execute(EventContainer b) {
				//c.getPA().createPlayersProjectile2(nX, nY, offX, offY, 50, 50, 2263, 9, 9, - c.playerId - 1, 24, 0);
			        b.stop();
				}
				}, 800);*/
				} catch (Exception e) {
				e.printStackTrace();
			}
		}
	}
}[/code]
</code></pre>
<p>There is a problem as when I attack any  NPC in the server (REGARDLESS OF WHETHER THE LEECH PRAYERS ARE ON OR OFF), all of the leech prayers do their effects simulatneously including sending all the messages from leech attack to leech special attack. Is there ANY Possible way to fix this?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252/1</link>
        <pubDate>Fri, 15 Jun 2012 16:57:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445252-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-leeches-on-npcs-help/445252.rss">[pi] leeches on npcs help</source>
      </item>
  </channel>
</rss>
