<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/problems-with-server/440920 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 03:49:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Problems with server - General Programming - moparisthebest.com</title>
    <meta name="description" content="Hi guys, I recently learned Java and I&amp;#39;ve started writing my first server from scratch (not a RSPS server, but a server for something like omegle). 

Anyhow, the server is doing great, but now I&amp;#39;m stuck at securing it. H&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="440920.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Problems with server&#39;" href="440920.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/problems-with-server/440920" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/problems-with-server/440920" />
<meta property="og:title" content="Problems with server" />
<meta name="twitter:title" content="Problems with server" />
<meta property="og:description" content="Hi guys, I recently learned Java and I’ve started writing my first server from scratch (not a RSPS server, but a server for something like omegle).  Anyhow, the server is doing great, but now I’m stuck at securing it. Here’s the problem, at some point, I’m using a BufferedReader combined with a InputStreamReader to read data from a socket by calling a read().  In order to have a stable server, I want mine to close the socket after not getting any input for a period of time. Now normally, I would..." />
<meta name="twitter:description" content="Hi guys, I recently learned Java and I’ve started writing my first server from scratch (not a RSPS server, but a server for something like omegle).  Anyhow, the server is doing great, but now I’m stuck at securing it. Here’s the problem, at some point, I’m using a BufferedReader combined with a InputStreamReader to read data from a socket by calling a read().  In order to have a stable server, I want mine to close the socket after not getting any input for a period of time. Now normally, I would..." />
<meta property="article:published_time" content="2012-04-29T14:07:05+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="440920.html">Problems with server</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/MistaBigBoss.html'><span itemprop='name'>MistaBigBoss</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-29T14:07:05Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:26:44Z' class='post-time'>
              August 3, 2016,  2:26am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi guys, I recently learned Java and I’ve started writing my first server from scratch (not a RSPS server, but a server for something like omegle).</p>
<p>Anyhow, the server is doing great, but now I’m stuck at securing it. Here’s the problem, at some point, I’m using a BufferedReader combined with a InputStreamReader to read data from a socket by calling a read().</p>
<p>In order to have a stable server, I want mine to close the socket after not getting any input for a period of time. Now normally, I would not mind, but my server consist out of two servers, the actual server running on port 5555 and a policy server running on port 5556. The policy server has to give the client policy information in order for the client to be able to communicate with the actual server running on 5555 and after giving that policy information, it has to close the connection with itself. This must be done because the client is using flash, and flash needs a cross domain policy in order to communicate with remote hosts. So, simply put, in this part of the server (the policy server, not the actual server), if no input is received within 2 seconds, it needs to close the socket, because that connection is probably coming from a source that should not be communicating with the policy server.</p>
<p>If no input is given, the policy server just waits on that read(), a good example is by pinging the policy server from a port checking website, a new socket is made but it gets no input from the client. To counter this problem, I used the setSoTimeOut() before opening the reading and writing streams to throw an exception on timeout (e.g. 2000 ms of no input) and continuing the program instead of staying stuck on that read().</p>
<p>Now, before implementing that setSoTimeOut(), it stayed stuck on that read() when I pinged the policy server from lets say <a href="http://www.yougetsignal.com/tools/open-ports/" data-bbcode="true" rel="nofollow noopener">http://www.yougetsignal.com/tools/open-ports/</a> and when I pinged the policy server with a socket testing program <a href="http://www.softpedia.com/get/Network-Tools/Network-Testing/SocketTest.shtml" data-bbcode="true" rel="nofollow noopener">http://www.softpedia.com/get/Network-Tools/Network-Testing/SocketTest.shtml</a></p>
<p>After implementing setSoTimeOut(), I successfully got a timeout when pinging with that program but the website still makes my policy server stuck on that stupid read().</p>
<p>Basically, now I need a way for my policy server to continue if it gets no input from that read() function, and according to Java documentation,</p>
<p>Enable/disable SO_TIMEOUT with the specified timeout, in milliseconds. With this option set to a non-zero timeout, a read() call on the InputStream associated with this Socket will block for only this amount of time. If the timeout expires, ajava.net.SocketTimeoutException is raised, though the Socket is still valid. The option must be enabled prior to entering the blocking operation to have effect. The timeout must be &gt; 0. A timeout of zero is interpreted as an infinite timeout.</p>
<p>setSoTimeOut should do the trick but it doesn’t, I need this fixed because 20 clients running on 20 threads that are stuck on a read() with no input raises my quad core second gen i7 to 90%.</p>
      </div>

      <meta itemprop='headline' content='Problems with server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-29T15:44:31Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:26:48Z' class='post-time'>
              August 3, 2016,  2:26am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>could you make a tl;dr version of the question?</p>
      </div>

      <meta itemprop='headline' content='Problems with server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Muroth.html'><span itemprop='name'>Muroth</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-29T15:55:51Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:26:48Z' class='post-time'>
              August 3, 2016,  2:26am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="440920">
<div class="title">
<div class="quote-controls"></div>
 t4:</div>
<blockquote>
<p>could you make a tl;dr version of the question?</p>
</blockquote>
</aside>
<p>i think…</p>
<blockquote>Basically, now I need a way for my policy server to continue if it gets no input from that read() function, and according to Java documentation,</blockquote>
      </div>

      <meta itemprop='headline' content='Problems with server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/mod_taharok.html'><span itemprop='name'>mod_taharok</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-29T20:23:37Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:27:06Z' class='post-time'>
              August 3, 2016,  2:27am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Unless I’m mistaken, you may want to look into using non-blocking IO, because whatever thread you want to continue will block on read() until data is available to read. That’s how networking works.</p>
      </div>

      <meta itemprop='headline' content='Problems with server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/MistaBigBoss.html'><span itemprop='name'>MistaBigBoss</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-04-29T23:56:35Z'>
            <time itemprop='dateModified' datetime='2016-08-03T02:27:22Z' class='post-time'>
              August 3, 2016,  2:27am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Taharok, post:4, topic:440920”]Unless I’m mistaken, you may want to look into using non-blocking IO, because whatever thread you want to continue will block on read() until data is available to read. That’s how networking works.[/quote]Thanks man, non-blocking IO, shouldn’t be too hard to implement I guess, I’ll look it up when I feel like it.</p>
      </div>

      <meta itemprop='headline' content='Problems with server'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/problems-with-server/440920 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 03:49:37 GMT -->
</html>
