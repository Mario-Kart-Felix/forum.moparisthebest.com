<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-adding-new-gfx-help/518836 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PI] Adding new gfx help - Game Development - moparisthebest.com</title>
    <meta name="description" content="Im tryin to add the real korasi spec and i got the anim in and working but i can&amp;#39;t get the gfx to work they make me turn invisible i used this tutorial http://www.rune-server.org/runescape-development/rs2-client/snippets&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="518836.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PI] Adding new gfx help&#39;" href="518836.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-adding-new-gfx-help/518836" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-adding-new-gfx-help/518836" />
<meta property="og:title" content="[PI] Adding new gfx help" />
<meta name="twitter:title" content="[PI] Adding new gfx help" />
<meta property="og:description" content="Im tryin to add the real korasi spec and i got the anim in and working but i can’t get the gfx to work they make me turn invisible i used this tutorial  http://www.rune-server.org/runescape-development/rs2-client/snippets/418555-pi-adding-real-korasi-spec.html  i had to change a couple small things to make the animation work but i still cant get the gfx heres my animation.java  [CODE]import sign.signlink;  public final class Animation {  public static void unpackConfig(StreamLoader streamLoader)..." />
<meta name="twitter:description" content="Im tryin to add the real korasi spec and i got the anim in and working but i can’t get the gfx to work they make me turn invisible i used this tutorial  http://www.rune-server.org/runescape-development/rs2-client/snippets/418555-pi-adding-real-korasi-spec.html  i had to change a couple small things to make the animation work but i still cant get the gfx heres my animation.java  [CODE]import sign.signlink;  public final class Animation {  public static void unpackConfig(StreamLoader streamLoader)..." />
<meta property="article:published_time" content="2013-05-10T00:01:28+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="518836.html">[PI] Adding new gfx help</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming/game-development.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Game Development</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/thugnit1019.html'><span itemprop='name'>thugnit1019</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-05-10T00:01:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T07:17:29Z' class='post-time'>
              August 4, 2016,  7:17am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Im tryin to add the real korasi spec and i got the anim in and working but i can’t get the gfx to work they make me turn invisible i used this tutorial<br>
<a href="http://www.rune-server.org/runescape-development/rs2-client/snippets/418555-pi-adding-real-korasi-spec.html" data-bbcode="true" rel="nofollow noopener">http://www.rune-server.org/runescape-development/rs2-client/snippets/418555-pi-adding-real-korasi-spec.html</a></p>
<p>i had to change a couple small things to make the animation work but i still cant get the gfx heres my animation.java</p>
<p>[CODE]import sign.signlink;</p>
<p>public final class Animation {</p>
<pre><code>public static void unpackConfig(StreamLoader streamLoader) {
	Stream stream = new Stream(streamLoader.getDataForName("seq.dat"));
	int length = stream.readUnsignedWord();
	System.out.println("602 Animation Amount: " + length);
	if (anims == null)
		anims = new Animation[length];
	for (int j = 0; j &lt; length; j++) {
		if (anims[j] == null)
			anims[j] = new Animation();
			anims[j].readValues(stream);
</code></pre>
<p>if (j == 4000) {<br>
anims[j].anInt352 = 28;<br>
anims[j].anIntArray355 = new int[]{3,2,2,2,3,3,3,3,3,2,2,2,2,2,3,3,2,1,1,3,3,3,3,3,3,3,3,3};<br>
anims[j].anIntArray353 = new int[]{223019263,223019511,223019120,223019119,223019242,223019278,223019027,223019504,223019417,223019428,223019705,223019087,223019664,223019465,223019589,223019707,223019322,223019644,223019174,223019574,223019108,223019335,223019521,223019401,223019300,223019029,223019276,223019115};<br>
anims[j].anInt363 = 0;<br>
anims[j].anInt364 = 0;<br>
}<br>
if (j == 4001) {<br>
anims[j].anInt352 = 15;<br>
anims[j].anIntArray355 = new int[]{9,3,3,3,3,3,2,2,15,4,3,3,3,3,3};<br>
anims[j].anIntArray353 = new int[]{219742346,219742338,219742330,219742335,219742341,219742348,219742322,219742325,219742318,219742320,219742323,219742349,219742334,219742317,219742347};<br>
}<br>
if (j == 4002) {<br>
anims[j].anInt352 = 40;<br>
anims[j].anIntArray355 = new int[]{3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3};<br>
anims[j].anIntArray353 = new int[]{219742278,219742256,219742218,219742282,219742223,219742222,219742253,219742232,219742300,219742239,219742254,219742252,219742245,219742224,219742219,219742294,219742209,219742241,219742299,219742230,219742279,219742238,219742221,219742214,219742283,219742305,219742312,219742280,219742265,219742211,219742210,219742208,219742212,219742234,219742314,219742240,219742292,219742313,219742267,219742263};<br>
}<br>
}<br>
}</p>
<pre><code>public int method258(int i) {
	int j = anIntArray355[i];
	if (j == 0) {
		Class36 class36 = Class36.method531(anIntArray353[i]);
		if (class36 != null)
			j = anIntArray355[i] = class36.anInt636;
	}
	if (j == 0)
		j = 1;
	return j;
}


public void readValues(Stream stream)
{
	do {
		int i = stream.readUnsignedByte();
		if(i == 0)
			break;
		if(i == 1) {
			anInt352 = stream.readUnsignedWord();
			anIntArray353 = new int[anInt352];
			anIntArray354 = new int[anInt352];
			anIntArray355 = new int[anInt352];
			for(int i_ = 0; i_ &lt; anInt352; i_++){
				anIntArray353[i_] = stream.readDWord();
				anIntArray354[i_] = -1;
			}
			for(int i_ = 0; i_ &lt; anInt352; i_++)
				anIntArray355[i_] = stream.readUnsignedByte();
		}
		else if(i == 2)
			anInt356 = stream.readUnsignedWord();
		else if(i == 3) {
			int k = stream.readUnsignedByte();
			anIntArray357 = new int[k + 1];
			for(int l = 0; l &lt; k; l++)
				anIntArray357[l] = stream.readUnsignedByte();
			anIntArray357[k] = 0x98967f;
		}
		else if(i == 4)
			aBoolean358 = true;
		else if(i == 5)
			anInt359 = stream.readUnsignedByte();
		else if(i == 6)
			anInt360 = stream.readUnsignedWord();
		else if(i == 7)
			anInt361 = stream.readUnsignedWord();
		else if(i == 8)
			anInt362 = stream.readUnsignedByte();
		else if(i == 9)
			anInt363 = stream.readUnsignedByte();
		else if(i == 10)
			anInt364 = stream.readUnsignedByte();
		else if(i == 11)
			anInt365 = stream.readUnsignedByte();
		else 
			System.out.println("Unrecognized seq.dat config code: "+i);
	} while(true);
	if(anInt352 == 0)
	{
		anInt352 = 1;
		anIntArray353 = new int[1];
		anIntArray353[0] = -1;
		anIntArray354 = new int[1];
		anIntArray354[0] = -1;
		anIntArray355 = new int[1];
		anIntArray355[0] = -1;
	}
	if(anInt363 == -1)
		if(anIntArray357 != null)
			anInt363 = 2;
		else
			anInt363 = 0;
	if(anInt364 == -1)
	{
		if(anIntArray357 != null)
		{
			anInt364 = 2;
			return;
		}
		anInt364 = 0;
	}
}

private Animation() {
	anInt356 = -1;
	aBoolean358 = false;
	anInt359 = 5;
	anInt360 = -1;
	anInt361 = -1;
	anInt362 = 99;
	anInt363 = -1;
	anInt364 = -1;
	anInt365 = 2;
}

public static Animation anims[];
public int anInt352;
public int anIntArray353[];
public int anIntArray354[];
private int[] anIntArray355;
public int anInt356;
public int anIntArray357[];
public boolean aBoolean358;
public int anInt359;
public int anInt360;
public int anInt361;
public int anInt362;
public int anInt363;
public int anInt364;
public int anInt365;
public static int anInt367;
</code></pre>
<p>}[/CODE]</p>
<p>heres my spotanim.java</p>
<p>[CODE]// Decompiled by Jad v1.5.8f. Copyright 2001 Pavel Kouznetsov.<br>
// Jad home page: <a href="http://www.kpdus.com/jad.html" rel="nofollow noopener">http://www.kpdus.com/jad.html</a><br>
// Decompiler options: packimports(3)</p>
<p>public final class SpotAnim {</p>
<pre><code>public static void unpackConfig(StreamLoader streamLoader)
{
    Stream stream = new Stream(streamLoader.getDataForName("spotanim.dat"));
     int length = stream.readUnsignedWord();
    if(cache == null)
        cache = new SpotAnim[length];
    for(int j = 0; j &lt; length; j++)
    {
        if(cache[j] == null)
            cache[j] = new SpotAnim();
        cache[j].anInt404 = j;
        cache[j].readValues(stream);
	if (j == 1247) {
		cache[j].anInt405 = 60776;//modelId
		cache[j].anInt406 = 4001;//animId
		cache[j].aAnimation_407 = Animation.anims[4001];//4001-&gt;animId
	}
	if (j == 1248) {
		cache[j].anInt405 = 60776;//modelId
		cache[j].anInt406 = 4002;//animId
		cache[j].aAnimation_407 = Animation.anims[4002];//4002-&gt;animId
	}
    }

}
private void readValues(Stream stream) {
do {
	anInt406 = stream.readUnsignedWord();
	anInt405 = stream.readUnsignedWord();
    if(Animation.anims != null &amp;&amp; anInt406 != 65535 &amp;&amp; anInt406 != -1)
		aAnimation_407 = Animation.anims[anInt406];
    	anInt410 = stream.readUnsignedByte();
    	anInt411 = stream.readUnsignedByte();
		int j = stream.readUnsignedWord();
		if(j != 65535){
		for (int k = 0; k &lt; j; k++)
			anIntArray409[k] = stream.readUnsignedWord();
		for (int k = 0; k &lt; j; k++)
			anIntArray408[k] = stream.readUnsignedWord();
		}
		break;
	}while(true);
}
private static int getCorrectColours(int i) {
	String s = Integer.toHexString(i).toUpperCase();
	String str; if (s.length() &gt; 4) {
		str = s.substring(4); 
	} else {
		str = s;
	} 
	int i2 = Integer.parseInt(str, 16); 
	return i2; 
}
public Model getModel()
{
    Model model = (Model) aMRUNodes_415.insertFromCache(anInt404);
    if(model != null)
        return model;
    model = Model.method462(anInt405);
    if(model == null)
        return null;
    for(int i = 0; i &lt; 6; i++)
        if(anIntArray408[0] != 0)
            model.method476(anIntArray408[i], anIntArray409[i]);

    aMRUNodes_415.removeFromCache(model, anInt404);
    return model;
}

private SpotAnim()
{
    anInt400 = 9;
    anInt406 = -1;
    anIntArray408 = new int[6];
    anIntArray409 = new int[6];
    anInt410 = 128;
    anInt411 = 128;
}

private final int anInt400;
public static SpotAnim cache[];
private int anInt404;
private int anInt405;
private int anInt406;
public Animation aAnimation_407;
private final int[] anIntArray408;
private final int[] anIntArray409;
public int anInt410;
public int anInt411;
public int anInt412;
public int anInt413;
public int anInt414;
public static MRUNodes aMRUNodes_415 = new MRUNodes(30);
</code></pre>
<p>}[/CODE]</p>
<p>i have 60776.dat which was the model for the gfx in my caches root folder in the RAW folder which has the item models im still learning clients so im not sure whats wrong and how to fix it</p>
      </div>

      <meta itemprop='headline' content='[PI] Adding new gfx help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-adding-new-gfx-help/518836 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:00 GMT -->
</html>
