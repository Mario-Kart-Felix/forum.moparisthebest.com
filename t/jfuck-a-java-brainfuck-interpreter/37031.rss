<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>JFuck - a Java BrainFuck interpreter!</title>
    <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031</link>
    <description>Title says it all, I have a more optimized version, that combines instructions, but it&#39;s still under testing and benchmarking.

[url=http://esoteric.sange.fi/brainfuck/bf-source/prog/]BrainFuck archive for scripts[/url]

[code]
import java.io.File;
import java.io.FileInputStream;
import java.io.InputStream;
import java.io.IOException;
import java.io.PrintStream;

public final class JFuck {

  public final static void main(String[] argv) throws IOException {

    JFuck engine = new JFuck(new byte[30000]);
    byte[] buffer = new byte[0];

    for(String file : argv) {
      File f;
      FileInputStream stream = new FileInputStream(f = new File(file));
      int i;
      if((i = (int)f.length()) &gt; buffer.length)
        buffer = new byte[i];
      for(int j = 0; j &lt; i; j += stream.read(buffer, j, i - j));
      stream.close();
      engine.run(buffer, 0, i);
    }

  }

  private final byte[] memory;
  private int pointer;

  private byte cache;

  private InputStream input;
  private PrintStream output;

  private JFuck(byte[] mem) {
    memory = mem;
    input = System.in;
    output = System.out;
  }

  private final void reset() {
    byte[] b = memory;
    for(int i = cache = (byte)(pointer = 0); i &lt; 30000; b[i++] = 0x00);
  }

  public final void setIn(InputStream stream) {
    input = stream;
  }

  public final void setOut(PrintStream stream) {
    output = stream;
  }

  public final void run(byte[] code, int offset, int end) throws IOException {
    reset();
    stepInto(code, offset, optimizeCode(code, offset, end), memory);
  }

  private final int stepInto(byte[] code, int offset, int end, byte[] mem) throws IOException {

    InputStream in = input; 
    PrintStream out = output;

    int i = pointer, start = offset;
    byte b = cache;

    while(offset &lt; end) {

      switch(code[offset++]) {

        case 0:
          mem[i++] = b;
          b = mem[i];
          break;

        case 1:
          mem[i--] = b;
          b = mem[i];
          break;

        case 2:
          b++;
          break;

        case 3:
          b--;
          break;

        case 4:
          out.write(b);
          out.flush();
          break;

        case 5:
           if((b = (byte)in.read()) == 0x0d)
             b = 0x0a;
           break;

        case 6:
          if(b == 0)
             offset = stepOver(code, offset);
          else {
            mem[pointer = i] = cache = b;
            offset = stepInto(code, offset, end, mem);
            i = pointer;
            b = cache;
          }
          break;

        case 7:
          if(b == 0) {
            mem[pointer = i] = cache = b;
            return offset;
          }
          else {
            offset = start;
            break;
          }
      }
    }

    return offset;
  }

  private final int stepOver(byte[] code, int offset) {
    byte b;
    while((b = code[offset++]) != 7)
      if(b == 6)
        offset = stepOver(code, offset);
    return offset;
  }

  private final static int optimizeCode(byte[] code, int offset, int end) {
    int i;
    for(i = offset; offset &lt; end; ) {

      switch(code[offset++]) {

        case &#39;&gt;&#39;:
          code[i++] = 0;
          break;

        case &#39;&lt;&#39;:
          code[i++] = 1;
          break;

        case &#39;+&#39;:
          code[i++] = 2;
          break;

        case &#39;-&#39;:
          code[i++] = 3;
          break;

        case &#39;.&#39;:
          code[i++] = 4;
          break;

        case &#39;,&#39;:
          code[i++] = 5;
          break;

        case &#39;[&#39;:
          code[i++] = 6;
          break;

        case &#39;]&#39;:
          code[i++] = 7;
          break;

      }
    }
    return i;
  }

}
[/code]</description>
    
    <lastBuildDate>Thu, 21 Dec 2006 19:12:35 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>JFuck - a Java BrainFuck interpreter!</title>
        <dc:creator><![CDATA[@iwasinmoparseas101cl iwasinmoparseas101class]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/iwasinmoparseas101cl">@iwasinmoparseas101cl</a> wrote:</p>
          <blockquote>
              <p>[quote=“1337h4x, post:4, topic:37031”]I would probably make a try, catch block but they can get messy.</p>
<p>Plus they make your code jumbled up…once when I was working on my bot I had 3 NESTED try/catches and it was a big mess.[/quote]</p>
<p>why not just do the generic catching of Exception <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/10</link>
        <pubDate>Thu, 21 Dec 2006 19:12:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-37031-10</guid>
        <source url="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss">JFuck - a Java BrainFuck interpreter!</source>
      </item>
      <item>
        <title>JFuck - a Java BrainFuck interpreter!</title>
        <dc:creator><![CDATA[@Iamadam Iamadam]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/iamadam">@Iamadam</a> wrote:</p>
          <blockquote>
              <p>Nooo! Now I might have to start contributing <img src="https://forum.moparisthebest.com/images/emoji/twitter/frowning.png?v=6" title=":frowning:" class="emoji" alt=":frowning:"><br>
<em>Sigh</em></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/9</link>
        <pubDate>Wed, 20 Dec 2006 06:06:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-37031-9</guid>
        <source url="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss">JFuck - a Java BrainFuck interpreter!</source>
      </item>
      <item>
        <title>JFuck - a Java BrainFuck interpreter!</title>
        <dc:creator><![CDATA[@k00dr k00dr]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/k00dr">@k00dr</a> wrote:</p>
          <blockquote>
              <p>Lol, I’m loving this community already. ;D</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/8</link>
        <pubDate>Wed, 20 Dec 2006 04:59:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-37031-8</guid>
        <source url="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss">JFuck - a Java BrainFuck interpreter!</source>
      </item>
      <item>
        <title>JFuck - a Java BrainFuck interpreter!</title>
        <dc:creator><![CDATA[@Mopman Mopman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mopman">@Mopman</a> wrote:</p>
          <blockquote>
              <p>You have already made two mistakes on this forum, you have contributed some pretty cool code and you don’t care about rep/awards.</p>
<p>Don’t carry on like this or they’ll expect it from all of us.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/7</link>
        <pubDate>Wed, 20 Dec 2006 04:44:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-37031-7</guid>
        <source url="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss">JFuck - a Java BrainFuck interpreter!</source>
      </item>
      <item>
        <title>JFuck - a Java BrainFuck interpreter!</title>
        <dc:creator><![CDATA[@k00dr k00dr]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/k00dr">@k00dr</a> wrote:</p>
          <blockquote>
              <p>Please, don’t. <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>Maybe I’ll get a cup one day, who knows?<br>
Who cares?</p>
<p>I don’t need reputation, awards, higher member group… etc.<br>
When the programmers of this forum know me, that’s enough reputation and respect for me.<br>
The before mentioned things would only give the people who don’t know me the feeling “<span class="bbcode-i">who the hell is this guy? whatever, he’s got a rank, let’s sex0r him!1</span>”</p>
<p>I’m totally fine with how my profile is at the moment. <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=6" title=":smiley:" class="emoji" alt=":smiley:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/6</link>
        <pubDate>Wed, 20 Dec 2006 04:26:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-37031-6</guid>
        <source url="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss">JFuck - a Java BrainFuck interpreter!</source>
      </item>
      <item>
        <title>JFuck - a Java BrainFuck interpreter!</title>
        <dc:creator><![CDATA[@k00dr k00dr]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/k00dr">@k00dr</a> wrote:</p>
          <blockquote>
              <p>Yeah, to be honest, I hate the try/catch block. Lol. <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>I like the old-fashioned approach to exceptions; error flags being set or returning null pointers.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/5</link>
        <pubDate>Wed, 20 Dec 2006 03:38:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-37031-5</guid>
        <source url="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss">JFuck - a Java BrainFuck interpreter!</source>
      </item>
      <item>
        <title>JFuck - a Java BrainFuck interpreter!</title>
        <dc:creator><![CDATA[@1337h4x 1337h4x]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/1337h4x">@1337h4x</a> wrote:</p>
          <blockquote>
              <p>I would probably make a try, catch block but they can get messy.</p>
<p>Plus they make your code jumbled up…once when I was working on my bot I had 3 NESTED try/catches and it was a big mess.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/4</link>
        <pubDate>Wed, 20 Dec 2006 03:31:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-37031-4</guid>
        <source url="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss">JFuck - a Java BrainFuck interpreter!</source>
      </item>
      <item>
        <title>JFuck - a Java BrainFuck interpreter!</title>
        <dc:creator><![CDATA[@k00dr k00dr]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/k00dr">@k00dr</a> wrote:</p>
          <blockquote>
              <p>Lmao AssFuck. <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=6" title=":smiley:" class="emoji" alt=":smiley:"><br>
Yes, it throws an IOException if an input error occurs while reading the BrainFuck scripts given in the arguments.</p>
<p>And thanks for commenting on my other threads, I thought they’d be left commentless. <img src="https://forum.moparisthebest.com/images/emoji/twitter/frowning.png?v=6" title=":frowning:" class="emoji" alt=":frowning:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/3</link>
        <pubDate>Wed, 20 Dec 2006 03:22:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-37031-3</guid>
        <source url="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss">JFuck - a Java BrainFuck interpreter!</source>
      </item>
      <item>
        <title>JFuck - a Java BrainFuck interpreter!</title>
        <dc:creator><![CDATA[@1337h4x 1337h4x]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/1337h4x">@1337h4x</a> wrote:</p>
          <blockquote>
              <p><a href="http://pwnds.info/smf/index.php?topic=60.0" rel="nofollow noopener">http://pwnds.info/smf/index.php?topic=60.0</a> pwnd please.</p>
<p>Wow, thats a pretty sexy interpreter actually.<br>
You main method throws an exception tho, wtf is that? <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/2</link>
        <pubDate>Wed, 20 Dec 2006 03:02:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-37031-2</guid>
        <source url="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss">JFuck - a Java BrainFuck interpreter!</source>
      </item>
      <item>
        <title>JFuck - a Java BrainFuck interpreter!</title>
        <dc:creator><![CDATA[@k00dr k00dr]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/k00dr">@k00dr</a> wrote:</p>
          <blockquote>
              <p>Title says it all, I have a more optimized version, that combines instructions, but it’s still under testing and benchmarking.</p>
<p><a href="http://esoteric.sange.fi/brainfuck/bf-source/prog/" data-bbcode="true" rel="nofollow noopener">BrainFuck archive for scripts</a></p>
<pre><code class="lang-auto">import java.io.File;
import java.io.FileInputStream;
import java.io.InputStream;
import java.io.IOException;
import java.io.PrintStream;

public final class JFuck {

  public final static void main(String[] argv) throws IOException {

    JFuck engine = new JFuck(new byte[30000]);
    byte[] buffer = new byte[0];

    for(String file : argv) {
      File f;
      FileInputStream stream = new FileInputStream(f = new File(file));
      int i;
      if((i = (int)f.length()) &gt; buffer.length)
        buffer = new byte[i];
      for(int j = 0; j &lt; i; j += stream.read(buffer, j, i - j));
      stream.close();
      engine.run(buffer, 0, i);
    }

  }

  private final byte[] memory;
  private int pointer;

  private byte cache;

  private InputStream input;
  private PrintStream output;

  private JFuck(byte[] mem) {
    memory = mem;
    input = System.in;
    output = System.out;
  }

  private final void reset() {
    byte[] b = memory;
    for(int i = cache = (byte)(pointer = 0); i &lt; 30000; b[i++] = 0x00);
  }

  public final void setIn(InputStream stream) {
    input = stream;
  }

  public final void setOut(PrintStream stream) {
    output = stream;
  }

  public final void run(byte[] code, int offset, int end) throws IOException {
    reset();
    stepInto(code, offset, optimizeCode(code, offset, end), memory);
  }

  private final int stepInto(byte[] code, int offset, int end, byte[] mem) throws IOException {

    InputStream in = input; 
    PrintStream out = output;

    int i = pointer, start = offset;
    byte b = cache;

    while(offset &lt; end) {

      switch(code[offset++]) {

        case 0:
          mem[i++] = b;
          b = mem[i];
          break;

        case 1:
          mem[i--] = b;
          b = mem[i];
          break;

        case 2:
          b++;
          break;

        case 3:
          b--;
          break;

        case 4:
          out.write(b);
          out.flush();
          break;

        case 5:
           if((b = (byte)in.read()) == 0x0d)
             b = 0x0a;
           break;

        case 6:
          if(b == 0)
             offset = stepOver(code, offset);
          else {
            mem[pointer = i] = cache = b;
            offset = stepInto(code, offset, end, mem);
            i = pointer;
            b = cache;
          }
          break;

        case 7:
          if(b == 0) {
            mem[pointer = i] = cache = b;
            return offset;
          }
          else {
            offset = start;
            break;
          }
      }
    }

    return offset;
  }

  private final int stepOver(byte[] code, int offset) {
    byte b;
    while((b = code[offset++]) != 7)
      if(b == 6)
        offset = stepOver(code, offset);
    return offset;
  }

  private final static int optimizeCode(byte[] code, int offset, int end) {
    int i;
    for(i = offset; offset &lt; end; ) {

      switch(code[offset++]) {

        case '&gt;':
          code[i++] = 0;
          break;

        case '&lt;':
          code[i++] = 1;
          break;

        case '+':
          code[i++] = 2;
          break;

        case '-':
          code[i++] = 3;
          break;

        case '.':
          code[i++] = 4;
          break;

        case ',':
          code[i++] = 5;
          break;

        case '[':
          code[i++] = 6;
          break;

        case ']':
          code[i++] = 7;
          break;

      }
    }
    return i;
  }

}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031/1</link>
        <pubDate>Tue, 19 Dec 2006 11:01:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-37031-1</guid>
        <source url="https://forum.moparisthebest.com/t/jfuck-a-java-brainfuck-interpreter/37031.rss">JFuck - a Java BrainFuck interpreter!</source>
      </item>
  </channel>
</rss>
