<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/614-items-being-added-to-inventory-return-a-null-def/398628 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 01:57:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[614] Items being added to inventory return a null def - Runescape - moparisthebest.com</title>
    <meta name="description" content="Hey, im currently coding a 614, and the inventory doesnt work. Whenever I pick up an item, nothing happens and I get a huge error in the server. I&amp;#39;m assuming the error comes from the item&amp;#39;s definitions not being returned&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="398628.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[614] Items being added to inventory return a null def&#39;" href="398628.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://img15.imageshack.us/img15/224/serverd.jpg" />
<meta property="og:image" content="http://img15.imageshack.us/img15/224/serverd.jpg" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/614-items-being-added-to-inventory-return-a-null-def/398628" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/614-items-being-added-to-inventory-return-a-null-def/398628" />
<meta property="og:title" content="[614] Items being added to inventory return a null def" />
<meta name="twitter:title" content="[614] Items being added to inventory return a null def" />
<meta property="og:description" content="Hey, im currently coding a 614, and the inventory doesnt work. Whenever I pick up an item, nothing happens and I get a huge error in the server. I’m assuming the error comes from the item’s definitions not being returned, or being returned null (and probably happens when it checks if its stackable). Here is the error I get:    Here is the part of ItemDefinitions.java that is returning the item null:  [code]public static ItemDefinitions forID(int id) {  System.out.println(“ItemDefinitions.forID(”..." />
<meta name="twitter:description" content="Hey, im currently coding a 614, and the inventory doesnt work. Whenever I pick up an item, nothing happens and I get a huge error in the server. I’m assuming the error comes from the item’s definitions not being returned, or being returned null (and probably happens when it checks if its stackable). Here is the error I get:    Here is the part of ItemDefinitions.java that is returning the item null:  [code]public static ItemDefinitions forID(int id) {  System.out.println(“ItemDefinitions.forID(”..." />
<meta property="article:published_time" content="2011-06-10T16:12:31+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="398628.html">[614] Items being added to inventory return a null def</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Bandos1337.html'><span itemprop='name'>Bandos1337</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-06-10T16:12:31Z'>
            <time itemprop='dateModified' datetime='2016-08-01T12:20:15Z' class='post-time'>
              August 1, 2016, 12:20pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey, im currently coding a 614, and the inventory doesnt work. Whenever I pick up an item, nothing happens and I get a huge error in the server. I’m assuming the error comes from the item’s definitions not being returned, or being returned null (and probably happens when it checks if its stackable). Here is the error I get:<br>
<a href="http://imageshack.us/photo/my-images/15/serverd.jpg/" data-bbcode="true" rel="nofollow noopener"><img src="http://img15.imageshack.us/img15/224/serverd.jpg" alt width="" height=""></a><br>
Here is the part of ItemDefinitions.java that is returning the item null:</p>
<p>[code]public static ItemDefinitions forID(int id) {<br>
System.out.println(“ItemDefinitions.forID(”+id+")");<br>
ItemDefinitions itemDef = itemsDefs.get(id);<br>
System.out.println(“forID got the def”);<br>
if (itemDef != null)<br>
return itemDef;<br>
System.out.println(“but forID got a NULL def”);<br>
byte[] is = null;<br>
try {<br>
is = (CacheManager.getData(CacheConstants.ITEMDEF_IDX_ID,<br>
getContainerId(id), 0xff &amp; id));<br>
} catch (Exception e) {<br>
System.out.println("Could not grab item " + id + “: “+e.getMessage());<br>
System.out.println(“Could not grab item… getContainerID(” + id+”).”);<br>
System.out.println("Could not grab item… cacheconstants.itemdef_idx_id = " + CacheConstants.ITEMDEF_IDX_ID);			<br>
System.out.println("Could not grab item " + id);<br>
return null;<br>
}<br>
itemDef = new ItemDefinitions();<br>
itemDef.groundActions = new String[] { null, null, “take”, null, null };<br>
itemDef.actions = new String[] { null, null, null, null, “drop” };<br>
itemDef.id = id;<br>
if (is != null) {<br>
try {<br>
itemDef.getOpCodeLoop(new RSInputStream(<br>
new ByteArrayInputStream(is)), is.length);<br>
} catch (IOException e) {<br>
System.out.println("Could not load item " + id);<br>
return null;<br>
}<br>
}<br>
if (itemDef.certTemplateID != -1)<br>
itemDef<br>
.toNote(forID(itemDef.certTemplateID),<br>
forID(itemDef.certID));<br>
if (itemDef.lendTemplateID != -1)<br>
itemDef<br>
.toLend(forID(itemDef.lendTemplateID),<br>
forID(itemDef.lendID));<br>
itemDef.loadItemPart2();<br>
itemDef.loadExtraInformation();<br>
itemsDefs.put(id, itemDef);<br>
return itemDef;</p>
<pre><code>}[/code]
</code></pre>
<p>The system.out.println()s were just added, it’s not that i didnt compile or anything. Still, you can tell from the “Could not grab item” that it was null (it would have returned if it wasnt)<br>
hasroomfor, located in inventory.java, and isstackable:</p>
<p><code>   public boolean hasRoomFor(int id, int itemAmount) {
        if (ItemDefinitions.forID(id).isStackable()) {
            return getFreeSlots() &gt;= 1 || contains(id);
        } else {
            return getFreeSlots() &gt;= itemAmount;
        }
    }
public boolean isStackable() {
		return stackable == 1;
	}
</code><br>
If anybody knows what is going on, any help would be greatly appreciated.</p>
      </div>

      <meta itemprop='headline' content='[614] Items being added to inventory return a null def'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/614-items-being-added-to-inventory-return-a-null-def/398628 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 01:57:06 GMT -->
</html>
