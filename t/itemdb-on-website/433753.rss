<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>ItemDB on website</title>
    <link>https://forum.moparisthebest.com/t/itemdb-on-website/433753</link>
    <description>[size=10pt][b]I Released this on R-S ages ago as NEWZEALAND. I&#39;m releasing here too just incase a noob steals it.[/b][/size]

In my spare time, I decided to work on this. Its an Item Database where players can search an item id. Could be useful for Pk servers.

What your adding: A fully functional Item database for your website
What you need: PHP + MySQL Capable server or webhost, Ability to change a couple of things &amp; ability to read.

[B]Step 1: Converting your Item.cfg file to Item.sql[/B]

All credits for this part go to Zachera of R-S for his converter script I found :)

Create a new PHP file and name it something like converter.php. Add this code

[code]
&lt;?php
$file = file(&#39;item.cfg&#39;);
$string = &#39;INSERT INTO `items` (`id`, `name`) VALUES
&#39;;
foreach($file as $key =&gt; $line){
$lines = explode(&#39;	&#39;,$line);
foreach($lines as $explodedNum =&gt; $exploded){
if($explodedNum == 0){
$exploded = str_replace(&#39;item = &#39;,&#39;&#39;,$exploded);
$string .= &#39;(&#39;.$exploded.&#39;,&#39;;
}
if($explodedNum == 1){
$exploded = str_replace(&#39;_&#39;,&#39; &#39;,$exploded);
$string .= &#39;\&#39;&#39;.mysql_escape_string($exploded).&#39;\&#39;,&#39;;
}
if($explodedNum == 2){
$exploded = str_replace(&#39;_&#39;,&#39; &#39;,$exploded);
$string .= &#39;\&#39;&#39;.mysql_escape_string($exploded).&#39;\&#39;),&#39;;
}
}
$string .= &quot;\n&quot;;
}
$file = &quot;item.sql&quot;;
$handle = fopen($file,&#39;w&#39;);
fwrite($handle,substr($string,0,-2).&#39;;&#39;);
fclose($handle);
echo &#39;File written.&#39;;
?&gt;
[/code]

Okay so now thats out of the way. What you want to do now is upload or drag your item.cfg into the same directory as the converter.php file. Now run it by going to [url=http://yoursite.com/itemdb/converter.php]http://yoursite.com/itemdb/converter.php[/url] or wherever the file is

It will generate a item.sql file containing every ID and Item name in SQL Syntax. What you want to do now is open that file and copy everything from it to a text document or something

[B]Step 2: MySQL Part[/B]

Now, if your using cPanel go to MySQL Databases and add a new database. I also recommend making a new user and using a generated password. You can paste it into notepad if you think you may forget it
If you made a user, make sure to assign it to the database. When it asks what rights to give the user, only check the &#39;SELECT&#39; box. Giving a user uneeded rights can leave you vulnerable to attacks and st00f.

You will want to go into PHPMyAdmin and select your database. Inside that database you want to click &#39;SQL&#39; in the menu bar and put the following code in the box that pops up:
[CODE]
CREATE TABLE IF NOT EXISTS `items` (
  `id` int(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `desc` varchar(255) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
[/CODE]

It should create a table called &#39;items&#39;. Go into that table and click SQL again. Now you will want to copy the converted item.cfg code into there. When its done it will have added the data into the database.

[b]Note:[/b] If the maximum query time or something keeps popping up, create another couple of .sql files (item2, item3, item4 etc) and have about 3000-4000 id querys in each. Makes it easier

[B]Step 3: Actual searching[/B]

Create a new PHP file called index.php inside your itemdb folder. Add this code inside it:
[code]
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Server name - ItemDB&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;center&gt;
&lt;h1&gt;Server name&lt;br /&gt;Official ItemDB!&lt;/h1&gt;
&lt;br /&gt;
&lt;br /&gt;
Enter a keyword and click search! All data containing the keyword will be displayed
&lt;br /&gt;
&lt;br /&gt;
&lt;form action=&quot;search.php&quot; method=&quot;POST&quot;&gt;
&lt;input type=&quot;text&quot; name=&quot;search&quot; /&gt;&lt;br /&gt;&lt;br /&gt;
&lt;input type=&quot;Submit&quot; value=&quot;Search ItemDB&quot; /&gt;
&lt;/form&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;
[/code]

Create another PHP file called search.php - This handles the actual searching.
[code]
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Server name - ItemDB&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;center&gt;
&lt;?php
 if (!$_POST) {
	include(&#39;index.php&#39;);
	} else {
	?&gt;
&lt;h1&gt;Server name&lt;br /&gt;Official ItemDB!&lt;/h1&gt;
&lt;br /&gt;
&lt;?php
	$search = $_POST[&quot;search&quot;];
        MySQL_connect(&quot;localhost&quot;, &quot;username&quot;, &quot;password&quot;);
        MySQL_select_db(&quot;database&quot;);
		$result = mysql_query(&quot;SELECT * FROM item WHERE name LIKE &#39;%&quot; . mysql_real_escape_string($search) . &quot;%&#39;&quot;);

while($row = mysql_fetch_array($result))
  {
  ?&gt;
  &lt;table border=&quot;1&quot;&gt;
&lt;?
	echo &#39;&lt;tr&gt;&#39;;
	echo &#39;&lt;td&gt;&#39;.$row[&#39;id&#39;] . &#39;&lt;/td&gt;&#39;;
	echo &#39;&lt;td&gt;&#39; . $row[&#39;name&#39;] . &#39;&lt;/td&gt;&#39;;
	echo &#39;&lt;/tr&gt;&#39;;
		}
	}
?&gt;  
&lt;/tr&gt;
&lt;/table&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;
[/code]

And that should be it! Please post feedback and let me know how I can improve it! :)</description>
    
    <lastBuildDate>Thu, 23 Feb 2012 02:36:31 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/itemdb-on-website/433753.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>ItemDB on website</title>
        <dc:creator><![CDATA[@Kakapo Kakapo]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kakapo">@Kakapo</a> wrote:</p>
          <blockquote>
              <p>[quote=“Daginith, post:2, topic:433753”]looks nice. Im going to test it out in about 10 min…<img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>…or you could go to itemdb.biz :p[/quote]</p>
<p>Some servers have innacurate item id’s compared to itemdb.biz so this is for them <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/itemdb-on-website/433753/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/itemdb-on-website/433753/3</link>
        <pubDate>Thu, 23 Feb 2012 02:36:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-433753-3</guid>
        <source url="https://forum.moparisthebest.com/t/itemdb-on-website/433753.rss">ItemDB on website</source>
      </item>
      <item>
        <title>ItemDB on website</title>
        <dc:creator><![CDATA[@Daginith Daginith]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/daginith">@Daginith</a> wrote:</p>
          <blockquote>
              <p>looks nice. Im going to test it out in about 10 min…<img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
<p>…or you could go to itemdb.biz <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/itemdb-on-website/433753/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/itemdb-on-website/433753/2</link>
        <pubDate>Tue, 21 Feb 2012 21:48:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-433753-2</guid>
        <source url="https://forum.moparisthebest.com/t/itemdb-on-website/433753.rss">ItemDB on website</source>
      </item>
      <item>
        <title>ItemDB on website</title>
        <dc:creator><![CDATA[@Kakapo Kakapo]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kakapo">@Kakapo</a> wrote:</p>
          <blockquote>
              <p>[size=10pt]<span class="bbcode-b">I Released this on R-S ages ago as NEWZEALAND. I’m releasing here too just incase a noob steals it.</span>[/size]</p>
<p>In my spare time, I decided to work on this. Its an Item Database where players can search an item id. Could be useful for Pk servers.</p>
<p>What your adding: A fully functional Item database for your website<br>
What you need: PHP + MySQL Capable server or webhost, Ability to change a couple of things &amp; ability to read.</p>
<p><span class="bbcode-b">Step 1: Converting your Item.cfg file to Item.sql</span></p>
<p>All credits for this part go to Zachera of R-S for his converter script I found <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Create a new PHP file and name it something like converter.php. Add this code</p>
<pre><code class="lang-auto">&lt;?php
$file = file('item.cfg');
$string = 'INSERT INTO `items` (`id`, `name`) VALUES
';
foreach($file as $key =&gt; $line){
$lines = explode('	',$line);
foreach($lines as $explodedNum =&gt; $exploded){
if($explodedNum == 0){
$exploded = str_replace('item = ','',$exploded);
$string .= '('.$exploded.',';
}
if($explodedNum == 1){
$exploded = str_replace('_',' ',$exploded);
$string .= '\''.mysql_escape_string($exploded).'\',';
}
if($explodedNum == 2){
$exploded = str_replace('_',' ',$exploded);
$string .= '\''.mysql_escape_string($exploded).'\'),';
}
}
$string .= "\n";
}
$file = "item.sql";
$handle = fopen($file,'w');
fwrite($handle,substr($string,0,-2).';');
fclose($handle);
echo 'File written.';
?&gt;</code></pre>
<p>Okay so now thats out of the way. What you want to do now is upload or drag your item.cfg into the same directory as the converter.php file. Now run it by going to <a href="http://yoursite.com/itemdb/converter.php" data-bbcode="true" rel="nofollow noopener">http://yoursite.com/itemdb/converter.php</a> or wherever the file is</p>
<p>It will generate a item.sql file containing every ID and Item name in SQL Syntax. What you want to do now is open that file and copy everything from it to a text document or something</p>
<p><span class="bbcode-b">Step 2: MySQL Part</span></p>
<p>Now, if your using cPanel go to MySQL Databases and add a new database. I also recommend making a new user and using a generated password. You can paste it into notepad if you think you may forget it<br>
If you made a user, make sure to assign it to the database. When it asks what rights to give the user, only check the ‘SELECT’ box. Giving a user uneeded rights can leave you vulnerable to attacks and st00f.</p>
<p>You will want to go into PHPMyAdmin and select your database. Inside that database you want to click ‘SQL’ in the menu bar and put the following code in the box that pops up:</p>
<pre><code class="lang-auto">CREATE TABLE IF NOT EXISTS `items` (
  `id` int(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `desc` varchar(255) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1;</code></pre>
<p>It should create a table called ‘items’. Go into that table and click SQL again. Now you will want to copy the converted item.cfg code into there. When its done it will have added the data into the database.</p>
<p><span class="bbcode-b">Note:</span> If the maximum query time or something keeps popping up, create another couple of .sql files (item2, item3, item4 etc) and have about 3000-4000 id querys in each. Makes it easier</p>
<p><span class="bbcode-b">Step 3: Actual searching</span></p>
<p>Create a new PHP file called index.php inside your itemdb folder. Add this code inside it:</p>
<pre><code class="lang-auto">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Server name - ItemDB&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;center&gt;
&lt;h1&gt;Server name&lt;br /&gt;Official ItemDB!&lt;/h1&gt;
&lt;br /&gt;
&lt;br /&gt;
Enter a keyword and click search! All data containing the keyword will be displayed
&lt;br /&gt;
&lt;br /&gt;
&lt;form action="search.php" method="POST"&gt;
&lt;input type="text" name="search" /&gt;&lt;br /&gt;&lt;br /&gt;
&lt;input type="Submit" value="Search ItemDB" /&gt;
&lt;/form&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Create another PHP file called search.php - This handles the actual searching.</p>
<pre><code class="lang-auto">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Server name - ItemDB&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;center&gt;
&lt;?php
 if (!$_POST) {
	include('index.php');
	} else {
	?&gt;
&lt;h1&gt;Server name&lt;br /&gt;Official ItemDB!&lt;/h1&gt;
&lt;br /&gt;
&lt;?php
	$search = $_POST["search"];
        MySQL_connect("localhost", "username", "password");
        MySQL_select_db("database");
		$result = mysql_query("SELECT * FROM item WHERE name LIKE '%" . mysql_real_escape_string($search) . "%'");

while($row = mysql_fetch_array($result))
  {
  ?&gt;
  &lt;table border="1"&gt;
&lt;?
	echo '&lt;tr&gt;';
	echo '&lt;td&gt;'.$row['id'] . '&lt;/td&gt;';
	echo '&lt;td&gt;' . $row['name'] . '&lt;/td&gt;';
	echo '&lt;/tr&gt;';
		}
	}
?&gt;  
&lt;/tr&gt;
&lt;/table&gt;
&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>And that should be it! Please post feedback and let me know how I can improve it! <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/itemdb-on-website/433753/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/itemdb-on-website/433753/1</link>
        <pubDate>Tue, 21 Feb 2012 19:10:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-433753-1</guid>
        <source url="https://forum.moparisthebest.com/t/itemdb-on-website/433753.rss">ItemDB on website</source>
      </item>
  </channel>
</rss>
