<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/official-moparscape-server-in-development/533108?page=23 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Official MoparScape Server - In Development - Runescape - moparisthebest.com</title>
    <meta name="description" content="OPEN ALPHA STARTS SATURDAY: http://www.timeanddate.com/countdown/generic?iso=20150110T13&amp;amp;p0=234&amp;amp;msg=First+Open+Alpha 

Throughout the course of pretty much all of MoparScape&amp;#39;s existence, there has always been talk about &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="53310889ae.html?page=23" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Official MoparScape Server - In Development&#39;" href="533108.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://puu.sh/4BX7A.jpg" />
<meta property="og:image" content="http://puu.sh/4BX7A.jpg" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/official-moparscape-server-in-development/533108?page=23" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/official-moparscape-server-in-development/533108?page=23" />
<meta property="og:title" content="Official MoparScape Server - In Development" />
<meta name="twitter:title" content="Official MoparScape Server - In Development" />
<meta property="og:description" content="My badass meter just broke, someone call the hardware store." />
<meta name="twitter:description" content="My badass meter just broke, someone call the hardware store." />
<meta property="article:published_time" content="2014-01-29T09:34:25+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="5331083c09.html?page=22">
      <link rel="next" href="5331081d82.html?page=24">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="533108.html">Official MoparScape Server - In Development</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-29T09:34:25Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:37:22Z' class='post-time'>
              August 4, 2016, 11:37am
            </time>
        <span itemprop='position'>#441</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>My badass meter just broke, someone call the hardware store.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/system.html'><span itemprop='name'>system</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-30T18:09:24Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:37:42Z' class='post-time'>
              August 4, 2016, 11:37am
            </time>
        <span itemprop='position'>#442</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="441" data-topic="533108">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/sinisoul/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sinisoul:</div>
<blockquote>
<p>My badass meter just broke, someone call the hardware store.</p>
</blockquote>
</aside>
<p>Lol<br>
OT: Will this server have donation ranks/VIP?<br>
…Just wanted to know.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pure2ownage.html'><span itemprop='name'>pure2ownage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-30T18:13:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:37:42Z' class='post-time'>
              August 4, 2016, 11:37am
            </time>
        <span itemprop='position'>#443</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lil_Smok3r, post:442, topic:533108”][quote author=sinisoul link=topic=651901.msg4402554#msg4402554 date=1390988065]<br>
My badass meter just broke, someone call the hardware store.<br>
[/quote]<br>
Lol<br>
OT: Will this server have donation ranks/VIP?<br>
…Just wanted to know.[/quote]Pretty sure the operation of it is not really up to them (minus moderating etc.). Try asking Tom.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-03T13:30:20Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:39:15Z' class='post-time'>
              August 4, 2016, 11:39am
            </time>
        <span itemprop='position'>#444</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lil_Smok3r, post:442, topic:533108”][quote author=sinisoul link=topic=651901.msg4402554#msg4402554 date=1390988065]<br>
My badass meter just broke, someone call the hardware store.<br>
[/quote]<br>
Lol<br>
OT: Will this server have donation ranks/VIP?<br>
…Just wanted to know.[/quote]</p>
<p>I’m going to say no, but Im not qualified to give a definite answer.</p>
<p>Some updates:</p>
<ul>
<li>Moved the source to Java 8 (Yay!) which includes some very cool development features like lambdas and static methods for interfaces.</li>
<li>Updated the server to use <a href="http://javalite.io/activejdbc" data-bbcode="true" rel="nofollow noopener">ActiveJDBC</a> and MySQL instead of my lack of ORM and SQLite</li>
</ul>
<p>Here is the updated code for Animation loading and caching:</p>
<pre><code class="lang-auto">package us.evelus.world.model;

import com.google.common.cache.CacheBuilder;
import com.google.common.cache.LoadingCache;
import org.javalite.activejdbc.Model;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import java.util.concurrent.ExecutionException;
import java.util.concurrent.TimeUnit;

import static us.evelus.util.CacheLoaderProxy.wrap;

public final class Animation extends Model {

    /**
     * The logger for this class.
     */
    private static final Logger logger = LoggerFactory.getLogger(Animation.class);

    @SuppressWarnings("unchecked")
    private static final LoadingCache&lt;String, Animation&gt; cache = CacheBuilder.newBuilder().maximumSize(200L)
                                                                .expireAfterAccess(5L, TimeUnit.MINUTES)
                                                                .build(wrap(name -&gt; Animation.findFirst("name = ?", name)));                 // JAVA 8, WOO

    /**
     * Getter for the animation id of the animation from the active JDBC model wrapper.
     *
     * @return
     *          The animation id.
     */
    public int getAnimId() {
        return getInteger("anim_id");
    }

    /**
     * Getter for the delay of the animation from the active JDBC model wrapper.
     *
     * @return
     *          The animation delay.
     */
    public int getDelay() {
        return getInteger("delay");
    }

    /**
     * Gets an animation by its name from the cache.
     *
     * @param name
     *              The name of the animation to get.
     * @return
     *              The animation.
     */
    public static Animation getByName(String name) {
        try {
            return cache.get(name);
        } catch(ExecutionException ex) {
            logger.error("Exception caught while trying to get animation by name", ex);
            return null;
        }
    }
}</code></pre>
<p>What to expect next?</p>
<ul>
<li>More content development features.</li>
<li>More ‘interactables’.</li>
<li>Combat discussion.</li>
</ul>
<p>Edit:</p>
<p>Guess Java 8 doesn’t work with javassist (dependency of ActiveJDBC) so for all models that include a cache that loads the model you have to just create an external cache loader. Sad day but not really a big issue.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-04T03:11:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:39:35Z' class='post-time'>
              August 4, 2016, 11:39am
            </time>
        <span itemprop='position'>#445</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Isn’t it a bit early to upgrade the version of java used to 8? Java 8 hasn’t been released yet, and it almost certainly hasn’t seen use in a production environment.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-04T04:00:34Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:39:37Z' class='post-time'>
              August 4, 2016, 11:39am
            </time>
        <span itemprop='position'>#446</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="445" data-topic="533108">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/lothy/40/51_1.png" class="avatar"> Lothy:</div>
<blockquote>
<p>Isn’t it a bit early to upgrade the version of java used to 8? Java 8 hasn’t been released yet, and it almost certainly hasn’t seen use in a production environment.</p>
</blockquote>
</aside>
<p>Good concern to raise considering the issues I dealt with last night with the ORM not being able to add fixins because it wasn’t compatable with Java 8. I feel like since this is a beta environment it isn’t a huge deal, we don’t even have a production server current sighted for a release date so theres a lot of room for change until then. A lot of the features presented in Java 8 though are making some pieces easier and much cleaner . It’s mostly for my experimentation and also to expose people to some of the future features they will eventually have available to them.</p>
<p>Edit:</p>
<p>The new plugin system and feature to make plugins a reality are starting to take shape</p>
<pre><code class="lang-auto">module Woodcutting
        class WoodcuttingPlugin &lt; Plugin::Base
                include Woodcutting

                def load
                        bind :object, :action =&gt; 'chop down', :ids =&gt; info(:ids), :callback =&gt; :chop
                end

                # Callback for when menu action 'chop down' is selected
                def chop(mob, obj, route)
                        mob.start_action ChopTreeAction.new(mob, obj, route)
                end
        end

        class ChopTreeAction &lt; InteractWithAction
                include Woodcutting

                def initialize(mob, target, route)
                        super(mob, target, route, 1, 4, true)

                        # Get the type of tree that the target object is
                        @type = what_is(target)
                end

                def execute
                        unless chopped_down

                                # Get the required chance of getting a log from the base chance for the log type and woodcutting level
                                chance = info(:chance, @type) + (@mob.get(:woodcutting_lvl) + 1) * 0.20

                                # Roll on the chance for getting a log
                                if rand(100) &lt; chance

                                        # Add item here

                                        # Add the woodcutting xp to the mob
                                        @mob.add :woodcutting_xp, info(:xp, @type)

                                        chance = info(:teardown, @type)

                                        # Roll on the chance of the tree being chopped down
                                        if rand(100) &lt; chance

                                                # Set the type to the stump id
                                                @target.set_type info(:stump, @type)

                                                # Stop the action
                                                stop
                                        end
                                end

                                # Send the woodcutting animation to the mob
                                @mob.animate :hatchet_swing
                        else
                                # Stop the action since the tree is chopped down
                                stop
                        end
                end

                def chopped_down
                        @target.type != info(:id, @type)
                end
        end

        def what_is(obj)

        end

        def info(type, *args)
                nil
        end
end</code></pre>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-06T09:31:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:40:57Z' class='post-time'>
              August 4, 2016, 11:40am
            </time>
        <span itemprop='position'>#447</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>sinisoul showed us some sql database thing in the IRC and its pretty awesome this is coming along great</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-06T10:31:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:40:58Z' class='post-time'>
              August 4, 2016, 11:40am
            </time>
        <span itemprop='position'>#448</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Few things:</p>
<ul>
<li>Plugin system has had another improvement added to it. Now instead of having to import actions for your plugin you can specify the start_action method.</li>
<li>Data sets added in, it is now possible to define data for plugins to retrieve in an easy to read manner.</li>
<li>Various plugin system bug fixes (eg hook proxy constructor not properly working when array splat included integer array)</li>
</ul>
<p>How to access ‘data set’ values through plugin scripting:</p>
<pre><code class="lang-auto">info(:i, 'parent', 'child', 'name') # i: integer, s: string, @i integer array, @s string array

# Automatically if you do not specify a parent the parent will be set to the name of the plugin you are accessing this method from
class WoodcuttingPlugin
...
info(:i, 'child', 'name') # parent: 'woodcutting'</code></pre>
<p>Environment script used to define data</p>
<pre><code class="lang-auto">bundle :woodcutting do
        define :animation, :name =&gt; 'hatchet_swing', :id =&gt; -1

        define :set, :parent =&gt; 'woodcutting', :name =&gt; 'experience', :values =&gt; { 'normal' =&gt; 50 }
        define :set, :parent =&gt; 'woodcutting', :name =&gt; 'objs', :values =&gt; { 'normal' =&gt; [0, -1, 2] }
end</code></pre>
<p>Here is my half completed woodcutting script.</p>
<pre><code class="lang-auto">module Woodcutting
        class WoodcuttingPlugin &lt; Plugin::Base
                include Woodcutting

                def load
                        bind :object, :action =&gt; 'chop down', :ids =&gt; ids, :callback =&gt; :chop
                end

                # Callback for when menu action 'chop down' is selected
                def chop(mob, target, route)
                        start_action(:routed, mob, :target =&gt; target, :route =&gt; route, :radius =&gt; 1, :delay =&gt; 4, :immediate =&gt; true) do

                                # Execute action initialization if it has not been already
                                unless @initialized

                                        # Get the type of tree that the target is
                                        @type = what_is(@target)

                                        # Instruct the mob to turn to the target
                                        @mob.turn_to @target

                                        # Note that the action as initialized
                                        @initialized = true
                                end

                                unless chopped_down? @target

                                        # Get the required chance of getting a log from the base chance for the log type and woodcutting level
                                        chance = info(:i, :chance, @type) + (@mob.get(:woodcutting_lvl) + 1) * 0.20

                                        # Roll on the chance for getting a log
                                        if rand(100) &lt; chance

                                                # Add item here TODO

                                                # Add the woodcutting xp to the mob
                                                @mob.add :woodcutting_xp, info(:i, :xp, @type)

                                                chance = info(:i, teardown, @type)

                                                # Roll on the chance of the tree being chopped down
                                                if rand(100) &lt; chance

                                                        # Set the type to the stump id
                                                        @target.set_type info(:i, :stump, @type)

                                                        # Stop the action
                                                        stop
                                                end
                                        end

                                        # Send the woodcutting animation to the mob
                                        @mob.animate :hatchet_swing                                     # NEED TO CONVERT TO STRING NOT SUPPORTED
                                else
                                        # Stop the action since the tree is chopped down
                                        stop
                                end
                        end
                end

                # Each of the define tree types
                def types
                        [ :normal ]
                end

                # Auto generate the methods to check for each tree type
                types.each do |type|
                        instance_eval &lt;&lt;-RUBY, __FILE__, __LINE__
                                def #[type]_ids
                                        @#{type}_ids ||= info(:@i, :objs, #{type})
                                end

                                def is_#{type}?(id)
                                        #{type}_ids.include? id
                                end
                        RUBY
                end

                # Get what type of tree the target is
                def what_is(target)
                        types.each { |type| return type if send("is_#{type}?".to_s, target.type) }
                end

                # Get if the target tree is chopped down
                def chopped_down?(target)
                        what_is(target).nil?
                end

                # Gets the ids of the objects to bind for the chop down tree action.
                def ids
                        types.map { |type| info(:@i, :objs, type) }.flatten
                end
        end
end</code></pre>
<p>Thinking about dropping the type parameter on ‘info’ and changing the methods to ‘infoi’, ‘infos’, (or ‘info_i’, ‘info_s’)</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Flame3.html'><span itemprop='name'>Flame3</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-06T11:00:02Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:40:58Z' class='post-time'>
              August 4, 2016, 11:40am
            </time>
        <span itemprop='position'>#449</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Looks great, keep up the good work!</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-10T12:50:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:42:34Z' class='post-time'>
              August 4, 2016, 11:42am
            </time>
        <span itemprop='position'>#450</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Had to rewrite a bit of the plugin system because I had some scoping issues.</p>
<ul>
<li>The ‘start_action’ method renamed to ‘action’</li>
<li>Callbacks added to action, have option for different prefixes (before: initialization)</li>
<li>Added the ability to set properties on an action from the helper parameter that are passed between calls</li>
</ul>
<pre><code class="lang-auto">module Woodcutting
        def self.included(base)
                base.extend(ClassMethods)
        end

        module ClassMethods
                def trees
                        [ :normal, :oak, :willow, :maple, :magic ]
                end

                def hatchets
                        [ :bronze, :iron, :steel, :mithril, :adamante, :rune, :dragon ]
                end
        end

        class WoodcuttingPlugin &lt; Plugin::Base
                include Woodcutting

                info :authors =&gt; [ 'sinisoul' ], :description =&gt; 'The woodcutting plugin is responsible for handling when menu options to cut down trees is handled.'

                def load
                        bind :object, :action =&gt; 'chop down', :ids =&gt; ids, :callback =&gt; :chop_down
                end

                # Need access to @mob,

                # Callback for when menu action 'chop down' is selected
                def chop_down(mob, target, route)
                        action(:routed, mob, :target =&gt; target, :route =&gt; route, :radius =&gt; 1, :delay =&gt; 4, :immediate =&gt; true, :callback =&gt; :chop)
                end

                # Initializer for the action
                def before_chop(mob, target, helper)
                        
                end

                # Callback for when the 'chop down' action is executed
                def chop(mob, target, helper)

                end
        end

        # Auto generate the methods to check for each tree type
        %w(normal oak willow maple magic).each do |type|
                class_eval &lt;&lt;-RUBY, __FILE__, __LINE__
                                def #{type}_ids
                                        @#{type}_ids ||= info(:objs, #{type})
                                end

                                def is_#{type}?(id)
                                        #{type}_ids.include? id
                                end
                RUBY
        end

        # Each of the define tree types
        def trees
                my.trees
        end

        # Get what type of tree the target is
        def what_is(target)
                trees.each { |type| return type if send("is_#{type}?".to_s, target.type) }
        end

        # Get if the target tree is chopped down
        def chopped_down?(target)
                what_is(target).nil?
        end

        # Gets the ids of the objects to bind for the chop down tree action.
        def ids
                trees.map { |type| info(:objs, type) }.flatten
        end
end
</code></pre>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Elrick.html'><span itemprop='name'>Elrick</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-23T17:47:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:48:46Z' class='post-time'>
              August 4, 2016, 11:48am
            </time>
        <span itemprop='position'>#451</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Any recent news?</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-24T01:31:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:48:54Z' class='post-time'>
              August 4, 2016, 11:48am
            </time>
        <span itemprop='position'>#452</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>There will be an announcement within the next few weeks.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kozs.html'><span itemprop='name'>Kozs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-26T03:52:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:49:38Z' class='post-time'>
              August 4, 2016, 11:49am
            </time>
        <span itemprop='position'>#453</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="452" data-topic="533108">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/sinisoul/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sinisoul:</div>
<blockquote>
<p>There will be an announcement within the next few weeks.</p>
</blockquote>
</aside>
<p>About?</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-26T04:36:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:49:38Z' class='post-time'>
              August 4, 2016, 11:49am
            </time>
        <span itemprop='position'>#454</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Stuff.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Togasa.html'><span itemprop='name'>Togasa</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-02-26T06:42:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:49:40Z' class='post-time'>
              August 4, 2016, 11:49am
            </time>
        <span itemprop='position'>#455</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="3" data-topic="533108">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/nolan2131/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> nolan2131:</div>
<blockquote>
<p>This is going to be awesome upon opening. Mega excited.</p>
</blockquote>
</aside>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Stealmojo.html'><span itemprop='name'>Stealmojo</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-11T17:05:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:35Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#456</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Togasa, post:455, topic:533108”][quote author=nolan2131 link=topic=651901.msg4369632#msg4369632 date=1380340588]<br>
This is going to be awesome upon opening. Mega excited.<br>
[/quote][/quote]<br>
It definitely will be.  <img src="../../images/emoji/twitter/smileyae52.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kozs.html'><span itemprop='name'>Kozs</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-11T22:31:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:40Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#457</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Togasa, post:455, topic:533108”][quote author=nolan2131 link=topic=651901.msg4369632#msg4369632 date=1380340588]<br>
This is going to be awesome upon opening. Mega excited.<br>
[/quote][/quote]</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/McDongals.html'><span itemprop='name'>McDongals</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-22T21:42:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T12:25:22Z' class='post-time'>
              August 4, 2016, 12:25pm
            </time>
        <span itemprop='position'>#458</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="452" data-topic="533108">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/sinisoul/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sinisoul:</div>
<blockquote>
<p>There will be an announcement within the next few weeks.</p>
</blockquote>
</aside>
<p>define… few weeks</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-22T22:06:06Z'>
            <time itemprop='dateModified' datetime='2016-08-04T12:25:22Z' class='post-time'>
              August 4, 2016, 12:25pm
            </time>
        <span itemprop='position'>#459</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>sinisoul left to work on his own project(s), I’m trying to get a time to talk to MITB about where to go from here. I’ll post an update when I get one.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-29T21:17:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T12:28:18Z' class='post-time'>
              August 4, 2016, 12:28pm
            </time>
        <span itemprop='position'>#460</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I removed the old 530 server from my github because i needed to clean it up for my resume. If you are interested in hosting the repository I will send you a copy of the contents.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="5331083c09.html?page=22">← previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="5331081d82.html?page=24">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/official-moparscape-server-in-development/533108?page=23 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:33 GMT -->
</html>
