<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/official-moparscape-server-in-development/533108?page=29 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Official MoparScape Server - In Development - Runescape - moparisthebest.com</title>
    <meta name="description" content="OPEN ALPHA STARTS SATURDAY: http://www.timeanddate.com/countdown/generic?iso=20150110T13&amp;amp;p0=234&amp;amp;msg=First+Open+Alpha 

Throughout the course of pretty much all of MoparScape&amp;#39;s existence, there has always been talk about &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="533108219f.html?page=29" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Official MoparScape Server - In Development&#39;" href="533108.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://puu.sh/4BX7A.jpg" />
<meta property="og:image" content="http://puu.sh/4BX7A.jpg" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/official-moparscape-server-in-development/533108?page=29" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/official-moparscape-server-in-development/533108?page=29" />
<meta property="og:title" content="Official MoparScape Server - In Development" />
<meta name="twitter:title" content="Official MoparScape Server - In Development" />
<meta property="og:description" content="Wondering if either of you actually read the article…  The polymorphic approach to this problem is simple: go through every one of your 150 monsters and add a doesMrOpinionatedElfHateYou() method. Gosh. That sounds insanely stupid. But it’s the true polymorphic approach, right? If you have a bunch of similar objects (in this case, monsters), and they’re all supposed to respond differently to some situation, then you add a virtual method to them and implement it differently for each object. Right..." />
<meta name="twitter:description" content="Wondering if either of you actually read the article…  The polymorphic approach to this problem is simple: go through every one of your 150 monsters and add a doesMrOpinionatedElfHateYou() method. Gosh. That sounds insanely stupid. But it’s the true polymorphic approach, right? If you have a bunch of similar objects (in this case, monsters), and they’re all supposed to respond differently to some situation, then you add a virtual method to them and implement it differently for each object. Right..." />
<meta property="article:published_time" content="2014-05-21T05:31:11+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="533108e459.html?page=28">
      <link rel="next" href="533108b385.html?page=30">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="533108.html">Official MoparScape Server - In Development</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-21T05:31:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:09:18Z' class='post-time'>
              August 4, 2016,  1:09pm
            </time>
        <span itemprop='position'>#561</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Wondering if either of you actually read the article…</p>
<blockquote>The polymorphic approach to this problem is simple: go through every one of your 150 monsters and add a doesMrOpinionatedElfHateYou() method.
<p>Gosh. That sounds insanely stupid. But it’s the true polymorphic approach, right? If you have a bunch of similar objects (in this case, monsters), and they’re all supposed to respond differently to some situation, then you add a virtual method to them and implement it differently for each object. Right?</p>
<p>Obviously it doesn’t work worth a damn in this case, and even if you could do it (and you can’t, since the user writing this little elf has no access to the source code), it would smack of Bad Design. Clearly there’s no reason to put such a specific method on every monster object in the game. What if we later decide the OpinionatedElf is a copyright violation, and he has to be removed? You’d have to go back and remove that method from 150 classes.</p>
<p>As far as I know (and I don’t claim to be a good designer, just one who would like to know the right answer), the right way to solve this is using runtime typing. The code would look something like this:</p>
<p>public boolean doesElfLikeIt ( Monster mon )<br>
{<br>
if ( mon instanceof Orc ) { return false; }<br>
if ( mon instanceof Elf ) { return true; }<br>
… &lt;repeat 150 times&gt;<br>
}</p>
<p>Admittedly, you could be an OO Freak, and create 150 helper classes for the OpinionatedElf, one per monster. That doesn’t really solve the root problem, though, which is that the discriminating behavior is all in the caller, not the callee. That’s where it belongs - in the caller, that is.</p>
</blockquote>
<p>Basically it’s saying if you have a method that isn’t different enough to warrant creating a new method for it in a subclass using polymorphism, runtime typing is fine.</p>
<p>tl;dr - I know having a method that will do something like:</p>
<p><code>
if(mob instanceof NPC) {
  //npc specific  combat methods
} else if (mob instanceof Player) {
 //player specific combat methods
}</code><br>
is wrong. But that’s not what I’m doing. The reason behind not doing that is you can never guarantee the design of those will remain the same or need to be expanded on. I have yet to see any reason to not use it as a simple flag to check for an exact type without performing different operations based on that check.</p>
<p>AtomicInt, try and do a bit more research before hopping on a bandwagon when you don’t know what you’re talking about.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-21T06:07:35Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:09:18Z' class='post-time'>
              August 4, 2016,  1:09pm
            </time>
        <span itemprop='position'>#562</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>In the article I’ve never seen a case like that to permit using instance of, when expressing specific behaviors over a large amount of models you usually have separate strategies of behaviors that are defined in classes themselves. What you done can be split into two arrays, combat spells and non-combat spells and then you handle them accordingly. Don’t act like a dick, you don’t know java as well as you think you do.</p>
<p>Btw, this explains it better:</p>
<p><a href="http://www.javapractices.com/topic/TopicAction.do?Id=31" class="onebox" target="_blank" rel="nofollow noopener">http://www.javapractices.com/topic/TopicAction.do?Id=31</a></p>
<p>I’ll even rewrite it for you:</p>
<pre><code class="lang-auto">class SpellBook {
  private TeleportSpell[] teleportSpells;
  private CombatSpell[] combatSpells;

  ...
  boolean isTeleportSpell(int button) {}
  int getTeleportSpellId(int button) {}
  ...
}</code></pre>
<p><img src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSef93RDspw_lGV86iB83qgcOWVTjDPvxPzJPZRfBScNvLspX_gHBO3DbI" alt width="" height=""></p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-21T06:12:27Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:09:18Z' class='post-time'>
              August 4, 2016,  1:09pm
            </time>
        <span itemprop='position'>#563</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You of all people should look at the design of the client and realize what I have is more accurate and efficient. The client sends an index of a spell on the interface, and those buttons are in a single array.</p>
<p>Looking at your second article, it reiterates exactly what I just said. Using instanceof to replace overridable methods or avoid proper polymorphism is bad. That’s not what I’m doing (I’m not even calling any methods of the object I’m performing the check on  <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"> <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:">), so I see no reason to rewrite the code and make it less efficient and less accurate because you have paranoid-ish peeve.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-21T07:12:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:09:18Z' class='post-time'>
              August 4, 2016,  1:09pm
            </time>
        <span itemprop='position'>#564</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I mean, I know I’m thick headed but you give me a run for my money. Alright. Well, do what you want.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-21T07:24:30Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:09:19Z' class='post-time'>
              August 4, 2016,  1:09pm
            </time>
        <span itemprop='position'>#565</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I mean, sure, you can just resort to a personal attack and leave, but I actually want to know if what I did was wrong. Everything you have linked so far clearly gives examples that are not at all similar to what I’m doing. So I want to know if you have any real reasons to say what I’m doing is wrong.</p>
<p>Your articles talk about things like this:</p>
<p><code>
public class CombatHandler {
public void attack(Mob target) {
  if(target instanceof NPC) {
    // specific actions for attacking NPCs
  } else if(target instanceof Player) {
    // specific actions for attacking players
  }
}
}</code><br>
Which should instead be an abstract method and you have a NPCCombatHandler or attack(Player player) and attack(NPC npc), etc. A lot of servers do make that mistake (and I have definitely as well, but not in the code I posted here), so I can understand why you would have that peeve. However, to me, it sounds like you take that as a blanket “NEVER USE INSTANCEOF” and are trying to apply that to what I’m doing even though it isn’t the same concept at all. Maybe you assumed because I used instanceof the way I did I would also use it incorrectly like in the above example(s)?</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-21T07:46:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:09:19Z' class='post-time'>
              August 4, 2016,  1:09pm
            </time>
        <span itemprop='position'>#566</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Davidi2, post:561, topic:533108”]<em>snip</em></p>
<p>AtomicInt, try and do a bit more research before hopping on a bandwagon when you don’t know what you’re talking about.[/quote]</p>
<p>The article I posted was perfectly relevant</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-21T07:46:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:09:19Z' class='post-time'>
              August 4, 2016,  1:09pm
            </time>
        <span itemprop='position'>#567</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You can’t defend your usage of it, it’s practically the same thing. You need to separate your collections of combat spells, teleport spells, and misc spells and NOT put it in a single array. Ask yourself, “Am I doing this because I’m lazy or because I actually don’t understand how this should be done?”  :palm:</p>
<p>The only case I’ve seen instanceof acceptable is for ‘equals’ methods because you can’t really tell if the duck is a duck unless it quacks like a duck and looks like a duck. That’s just to assure that the object can be casted to a duck, safely. Which in cases like that is perfectly fine since you are not actually returning the object casted as that type implicitly.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-21T08:21:02Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:09:19Z' class='post-time'>
              August 4, 2016,  1:09pm
            </time>
        <span itemprop='position'>#568</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sinisoul, post:567, topic:533108”]You can’t defend your usage of it, it’s practically the same thing. You need to separate your collections of combat spells, teleport spells, and misc spells and NOT put it in a single array. Ask yourself, “Am I doing this because I’m lazy or because I actually don’t understand how this should be done?”  :palm:</p>
<p>The only case I’ve seen instanceof acceptable is for ‘equals’ methods because you can’t really tell if the duck is a duck unless it quacks like a duck and looks like a duck. That’s just to assure that the object can be casted to a duck, safely. Which in cases like that is perfectly fine since you are not actually returning the object casted as that type implicitly.[/quote]It is slightly lazy, but it’s still not the same thing. I might change it if it hinders development in the future (ie - if it required I use instanceof in worse ways), but at the moment its fine and saves code and makes more sense from a spellbook representation standpoint.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-21T17:21:26Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:09:23Z' class='post-time'>
              August 4, 2016,  1:09pm
            </time>
        <span itemprop='position'>#569</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You really should try and do things the right way, but alright as long as you admit its lazy.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-26T20:21:51Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:12Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#570</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Had lots of little bugs to fix while playtesting combat… but I think I have the mechanics down except for projectile clipping. Adding the death mechanics now and then going to convert some of my old npc definitions to mysql. After that… the main things I need to do are pretty much just adding the rest of the combat definitions in terms of like npc anims, spell graphics, etc.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-26T20:33:14Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:14Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#571</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>With projectiles I think the traversal map included flags for if it was projectile traversable or not, you just need to write a pathfinder for it and check if thats the case.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-26T20:38:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:14Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#572</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sinisoul, post:571, topic:533108”]With projectiles I think the traversal map included flags for if it was projectile traversable or not, you just need to write a pathfinder for it and check if thats the case.[/quote]Yea that’s what I was going to do. Well I didnt know there was a flag specifically for projectiles, hadn’t really looked at it yet was just using the methods you already wrote.</p>
<p><img src="http://puu.sh/92toM.png" alt width="" height=""><br>
No clue why I screenshotted that instead of code tags, rofl.</p>
<p>So I just need to check those impenetrable wall flags and impenetrable occupant? That will do all the walls and tall objects (trees etc)?</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-26T20:58:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:15Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#573</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yerp. There was a guy who posted using a line algorithm for testing projectiles, you should be able to find it.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-26T21:37:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:17Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#574</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[code=java]package org.model.entity.content.pathfinding;</p>
<p>import org.model.Position;<br>
import org.util.map.Region;</p>
<p>public class ProjectilePathChecker {</p>
<pre><code>public static boolean isPathClear(Position a, Position b) {
	return isPathClear(a.getX(), a.getY(), a.getZ(), b.getX(), b.getY());
}

public static boolean isPathClear(final int x, final int y, int z, final int x2, final int y2) {
	double x3 = x;
	double y3 = y;
	double xs = x2 - x;
	double ys = y2 - y;
	
	while (xs &gt;= 1 || ys &gt;= 1 || xs &lt;= -1 || ys &lt;= -1) {
		xs = xs/2;
		ys = ys/2;
	}
	
	int prevX = x;
	int prevY = y;
	
	while (true) {
		x3 += xs;
		y3 += ys;
		
		if (!(prevX == (int) x3 &amp;&amp; prevY == (int) y3)) {
			
			if (!canShootOver((int) x3, (int) y3, z, prevX, prevY)) {
				return false;
			}
			
			prevX = (int) x3;
			prevY = (int) y3;
		}
		
		if (x3 &gt;= x2 &amp;&amp; y3 &gt;= y2) {
			return true;
		}
	}
}

private static boolean canShootOver(int x, int y, int z, int prevX, int prevY) {
	int dir = -1;
	int dir2 = -1;
	
	for (int i = 0; i &lt; DIR.length; i++) {
		if (x + DIR[i][0] == prevX &amp;&amp; y + DIR[i][1] == prevY) {
			dir = i;
		}
		
		if (prevX + DIR[i][0] == x &amp;&amp; prevY + DIR[i][1] == y) {
			dir2 = i;
		}
	}
	
	if (dir == -1 || dir2 == -1) {
		System.out.println("-1 direction error in canShootOver");
		return false;
	}
	
	if (Region.getRegion(x, y).canMove(x, y, z, dir) &amp;&amp; Region.getRegion(prevX, prevY).canMove(prevX, prevY, z, dir2)) {
		return true;
	} else {
		return (Region.getStaticClip(x, y, z) &amp; 0x20000) == 0;
	}
}

private static final int[][] DIR =
	{{-1, 1}, {0, 1}, {1, 1}, {-1, 0}, 
	{1, 0}, {-1, -1}, {0, -1}, {1, -1}
};
</code></pre>
<p>}[/code]Does that use the proper flags?</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-26T21:42:20Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:17Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#575</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeah youre not using all of the wall clips. Can move you need to pass a boolean for if to check for pen or impen.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-28T00:07:07Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:41Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#576</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Gircat”]Sini told me to ask you for the Mopar source: <a href="https://www.moparisthebest.com/smf/index.php/topic,651901.msg4426569.html#new">https://www.moparisthebest.com/smf/index.php/topic,651901.msg4426569.html#new</a></p>
<p>Here’s me talking to him, but if you don’t believe it just send him a message lol.<br>
<img src="http://i.imgur.com/oplDpJL.png" alt width="" height="">[/quote]I like how you say I butchered the source when at the time you left all I had done on the core was add some packet decoders and the grand exchange, scumbag <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>Also dont tell people to PM me for the source, they can have it when it goes back on a GIT.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-28T01:28:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:42Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#577</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Your Ruby woodcutting man.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-28T01:49:49Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:42Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#578</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>fudge you you made me try and learn ruby that was like a day or two after i looked at ruby for the first time SCUMBAG</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Dan0194.html'><span itemprop='name'>Dan0194</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-28T02:31:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:42Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#579</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="578" data-topic="533108">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/davidi2/40/2579_1.png" class="avatar"> Davidi2:</div>
<blockquote>
<p>fudge you you made me try and learn ruby that was like a day or two after i looked at ruby for the first time SCUMBAG</p>
</blockquote>
</aside>
<p>Beef.</p>
<p>Put the source on GitHub again please <img src="../../images/emoji/twitter/expressionlessae52.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Elrick.html'><span itemprop='name'>Elrick</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-28T03:16:57Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:11:42Z' class='post-time'>
              August 4, 2016,  1:11pm
            </time>
        <span itemprop='position'>#580</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Out of the frying pan and into the fire :P.</p>
      </div>

      <meta itemprop='headline' content='Official MoparScape Server - In Development'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="533108e459.html?page=28">← previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="533108b385.html?page=30">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/official-moparscape-server-in-development/533108?page=29 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:06:40 GMT -->
</html>
