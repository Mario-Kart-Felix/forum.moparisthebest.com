<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Reading files which I have no permission to read</title>
    <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706</link>
    <description>This is probably trivial, but I cannot seem to get it.

I need to read a file (/proc/vz/vzstat, openvz) with a nomal user. I can read it with root, but not with my unprivileged user, obviously the norm.

Before I did try to access a binary which only root can access, and just added that into the sudoers file. I obviously don&#39;t want to add cat or something into /etc/sudoers, for obvious reasons.

Also chmoding the file from root did not help, &quot;chmod: changing permissions of &#39;/proc/vz/vzstat&#39;: Operation not permitted&quot;.

The accessing of this file will be done in Python, but I could probably get away with accessing it by a command. Prefurably I don&#39;t want to have to compile a C file with setuid etc in.</description>
    
    <lastBuildDate>Thu, 28 Apr 2011 17:28:07 +0000</lastBuildDate>
    <category>Technology</category>
    <atom:link href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@SpeedIsMeh SpeedIsMeh]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/speedismeh">@SpeedIsMeh</a> wrote:</p>
          <blockquote>
              <p>use chown?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/11</link>
        <pubDate>Thu, 28 Apr 2011 17:28:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-11</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="9" data-topic="380706">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/somethingtohide/40/5_1887921562df0dabfae55079ddabeb03.png" class="avatar"> SomethingToHide:</div>
<blockquote>
<p>What are all the details for this file? You could include the file, and add a .htaccess to not allow that file for anything else.</p>
</blockquote>
</aside>
<p>The web server doesn’t run as root though, so it couldn’t read it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/10</link>
        <pubDate>Tue, 01 Feb 2011 00:48:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-10</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@SomethingToHide STH]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/somethingtohide">@SomethingToHide</a> wrote:</p>
          <blockquote>
              <p>What are all the details for this file? You could include the file, and add a .htaccess to not allow that file for anything else.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/9</link>
        <pubDate>Tue, 01 Feb 2011 00:14:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-9</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <p>I don’t think you can avoid it without changing permissions on the file, which I’m not sure you can do.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/8</link>
        <pubDate>Mon, 31 Jan 2011 23:16:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-8</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@chri5 chri5]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/chri5">@chri5</a> wrote:</p>
          <blockquote>
              <p>[quote=“Niall, post:6, topic:380706”][quote author=chri5 link=topic=476529.msg3485149#msg3485149 date=1296498657]</p>
<aside class="quote no-group">
<blockquote>
<p>Can’t you just add your user into sudoers and sudo pythonscript?</p>
</blockquote>
</aside>
<p>I could do that, but what my OP lacked was this will need to be secured as it will be running on the interwebs.</p>
<p>I do not want some skid finding a bug with my code and uploading a script that’ll run “rm -rf /”…<br>
[/quote]</p>
<p>What about adding a proxy script in between that can only cat the file you want? At least then the worse someone can do if they do manage to exploit it is read the file on demand.[/quote]<br>
This is exacly what I want to avoid :/.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/7</link>
        <pubDate>Mon, 31 Jan 2011 20:58:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-7</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@The_Un-Named The Un-Named]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_un-named">@The_Un-Named</a> wrote:</p>
          <blockquote>
              <p>[quote=“chri5, post:5, topic:380706”][quote author=Niall link=topic=476529.msg3485075#msg3485075 date=1296488887]<br>
Can’t you just add your user into sudoers and sudo pythonscript?<br>
[/quote]<br>
I could do that, but what my OP lacked was this will need to be secured as it will be running on the interwebs.</p>
<p>I do not want some skid finding a bug with my code and uploading a script that’ll run “rm -rf /”…[/quote]</p>
<p>What about adding a proxy script in between that can only cat the file you want? At least then the worse someone can do if they do manage to exploit it is read the file on demand.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/6</link>
        <pubDate>Mon, 31 Jan 2011 20:44:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-6</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@chri5 chri5]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/chri5">@chri5</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="4" data-topic="380706">
<div class="title">
<div class="quote-controls"></div>
 Niall:</div>
<blockquote>
<p>Can’t you just add your user into sudoers and sudo pythonscript?</p>
</blockquote>
</aside>
<p>I could do that, but what my OP lacked was this will need to be secured as it will be running on the interwebs.</p>
<p>I do not want some skid finding a bug with my code and uploading a script that’ll run “rm -rf /”…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/5</link>
        <pubDate>Mon, 31 Jan 2011 18:30:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-5</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@The_Un-Named The Un-Named]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_un-named">@The_Un-Named</a> wrote:</p>
          <blockquote>
              <p>Can’t you just add your user into sudoers and sudo pythonscript?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/4</link>
        <pubDate>Mon, 31 Jan 2011 15:48:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-4</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@chri5 chri5]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/chri5">@chri5</a> wrote:</p>
          <blockquote>
              <p>[quote=“Moparisthebest, post:2, topic:380706”]What are the permissions of that file?  Do a:</p>
<p>‘ls -lah /proc/vz/vzstat’[/quote]<br>
[chris@ovz-test-1 ~]# ls -lah /proc/vz/vestat<br>
-r-------- 1 root root 0 Jan 31 15:04 /proc/vz/vestat</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/3</link>
        <pubDate>Mon, 31 Jan 2011 15:04:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-3</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <p>What are the permissions of that file?  Do a:</p>
<p>‘ls -lah /proc/vz/vzstat’</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/2</link>
        <pubDate>Mon, 31 Jan 2011 08:09:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-2</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
      <item>
        <title>Reading files which I have no permission to read</title>
        <dc:creator><![CDATA[@chri5 chri5]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/chri5">@chri5</a> wrote:</p>
          <blockquote>
              <p>This is probably trivial, but I cannot seem to get it.</p>
<p>I need to read a file (/proc/vz/vzstat, openvz) with a nomal user. I can read it with root, but not with my unprivileged user, obviously the norm.</p>
<p>Before I did try to access a binary which only root can access, and just added that into the sudoers file. I obviously don’t want to add cat or something into /etc/sudoers, for obvious reasons.</p>
<p>Also chmoding the file from root did not help, “chmod: changing permissions of ‘/proc/vz/vzstat’: Operation not permitted”.</p>
<p>The accessing of this file will be done in Python, but I could probably get away with accessing it by a command. Prefurably I don’t want to have to compile a C file with setuid etc in.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706/1</link>
        <pubDate>Mon, 31 Jan 2011 08:03:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-380706-1</guid>
        <source url="https://forum.moparisthebest.com/t/reading-files-which-i-have-no-permission-to-read/380706.rss">Reading files which I have no permission to read</source>
      </item>
  </channel>
</rss>
