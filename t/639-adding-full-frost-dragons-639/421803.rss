<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>639 - Adding Full Frost Dragons - 639</title>
    <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803</link>
    <description>Hey there. So Dementhium 639 was released without frost dragons def&#39;s and classes so I figured I&#39;d post here.
(BTW this is more of a snippet then a tutorial but if I post it in the snippets thread it most likely will not be seen.)

First you want to make a new class in your [b]Model &gt; Combat &gt; Impl &gt; Npc[/b] and name is FrostDragonAction.java
Add this inside of it:
[code]package org.dementhium.model.combat.impl.npc;

import org.dementhium.model.Location;
import org.dementhium.model.Projectile;
import org.dementhium.model.combat.CombatAction;
import org.dementhium.model.combat.CombatMovement;
import org.dementhium.model.combat.CombatType;
import org.dementhium.model.combat.Damage;
import org.dementhium.model.combat.MeleeFormulae;
import org.dementhium.model.mask.Animation;
import org.dementhium.model.misc.DamageManager.DamageType;
import org.dementhium.model.misc.ProjectileManager;

/**
 * Handles a Frost dragons combat action.
 * @author Eclipse
 *
 */
public class FrostDragonAction extends CombatAction {
	
    /**
     * The bite melee attack animation.
     */
    private static final Animation BITE_ANIMATION = Animation.create(13155);

    /**
     * The dragonfire attack animation. (13164 before)
     */
    private static final Animation DRAGONFIRE_ANIMATION = Animation.create(13152);

    /**
     * The dragonfire projectile id.
     */
    private static final int DRAGONFIRE_ID = 2465;
    
    /**
     * The current combat type.
     */
    private CombatType type = CombatType.DRAGONFIRE;
    
	/**
	 * Constructs a new {@code FrostDragonAction}.
	 */
	public FrostDragonAction() {
		super(false);
	}

	@Override
	public boolean commenceSession() {
		type = CombatType.DRAGONFIRE;
        if (CombatMovement.canMelee(interaction.getSource(), interaction.getVictim()) &amp;&amp; interaction.getSource().getRandom().nextInt(10) &lt; 5) {
            type = CombatType.MELEE;
        }
		interaction.getSource().getCombatExecutor().setTicks(interaction.getSource().getAttackDelay());
        if (type == CombatType.MELEE) {
        	if (interaction.getVictim().isPlayer()) {
    			interaction.setDeflected(interaction.getVictim().getPlayer().getPrayer().usingPrayer(1, 9));
    		}
        	interaction.setDamage(Damage.getDamage(interaction.getSource(), interaction.getVictim(), type, MeleeFormulae.getDamage(interaction.getSource(), interaction.getVictim())));
        	interaction.getDamage().setMaximum(MeleeFormulae.getMeleeDamage(interaction.getSource(), 1.0));
            interaction.getSource().animate(BITE_ANIMATION);
            return true;
        }
        interaction.getSource().animate(DRAGONFIRE_ANIMATION);
        Location l = Projectile.getLocation(interaction.getSource());
        int speed = (int) (46 + l.distance(interaction.getVictim().getLocation()) * 5);
        Projectile p = Projectile.create(interaction.getSource(), interaction.getVictim(), DRAGONFIRE_ID, 20, 36, 43, speed, 28);
        int ticks = (int) Math.floor(l.distance(interaction.getVictim().getLocation()) * 0.3);
        ProjectileManager.sendProjectile(p);
        interaction.setDamage(Damage.getDamage(interaction.getSource(), interaction.getVictim(), type, interaction.getSource().getRandom().nextInt(596)));
        interaction.getDamage().setMaximum(595);
        interaction.setTicks(ticks);
		return true;
	}

	@Override
	public boolean executeSession() {
		if (interaction.getTicks() &lt; 2) {
			interaction.getVictim().animate(interaction.isDeflected() ? 12573 
					: interaction.getVictim().getDefenceAnimation());
			if (interaction.isDeflected()) {
				interaction.getVictim().graphics(2230);
			}
		}
		interaction.setTicks(interaction.getTicks() - 1);
		return interaction.getTicks() &lt; 1;
	}

	@Override
	public boolean endSession() {
		interaction.getVictim().getDamageManager().damage(
				interaction.getSource(), interaction.getDamage(), type.getDamageType());
		if (interaction.getDamage().getVenged() &gt; 0) {
			interaction.getVictim().submitVengeance(
					interaction.getSource(), interaction.getDamage().getVenged());
		}
		if (interaction.getDamage().getDeflected() &gt; 0) {
			interaction.getSource().getDamageManager().damage(interaction.getVictim(),
					interaction.getDamage().getDeflected(), interaction.getDamage().getDeflected(), DamageType.DEFLECT);
		}
		if (interaction.getDamage().getRecoiled() &gt; 0) {
			interaction.getSource().getDamageManager().damage(interaction.getVictim(),
					interaction.getDamage().getRecoiled(), interaction.getDamage().getRecoiled(), DamageType.DEFLECT);
		}
		interaction.getVictim().retaliate(interaction.getSource());
		return true;
	}

	@Override
	public CombatType getCombatType() {
		return CombatType.DRAGONFIRE;
	}

}
[/code]
Save and exit

Now open your [b]Model&gt; Npc &gt; Impl[/b] folder and create a new class and name it FrostDragon.java
Place this inside of it
[code]package org.dementhium.model.npc.impl;

import org.dementhium.model.Mob;
import org.dementhium.model.combat.CombatAction;
import org.dementhium.model.combat.CombatType;
import org.dementhium.model.combat.Damage;
import org.dementhium.model.combat.impl.npc.FrostDragonAction;
import org.dementhium.model.npc.NPC;

/**
 * Represents a Frost Dragon.
 *
 * @author Eclipse
 */
public class FrostDragon extends NPC {

	/**
	 * The combat action to use.
	 */
	private static CombatAction combatAction = new FrostDragonAction();
	
    /**
     * Constructs a new {@code FrostDragon} {@code Object}.
     *
     * @param id The NPC id.
     */
    public FrostDragon(int id) {
        super(id);
        setAttribute(&quot;dragonfireName&quot;, &quot;fiery breath&quot;);
    }

    @Override
    public int getAttackDelay() {
    	return 4;
    }
    
	@Override
	public Damage updateHit(Mob source, int hit, CombatType type) {
		if (type == CombatType.DRAGONFIRE) {
			return new Damage(0);
		}
		return new Damage(hit);
	}
	
	@Override
	public CombatAction getCombatAction() {
		return combatAction;
	}

}[/code]
Save and Exit.

And finally, Open up your MagicFormulae class and add this import
[code]import org.dementhium.model.npc.impl.FrostDragon;[/code]

Now search for:
[code]        if (victim instanceof MetalDragon &amp;&amp; spell.getClass().getSimpleName().contains(&quot;Fire&quot;)) {[/code]

Directly under that add:
[code]            if (victim instanceof FrostDragon &amp;&amp; spell.getClass().getSimpleName().contains(&quot;Fire&quot;)) {[/code]

Save, Exit, Compile and enjoy!

P.S. Here&#39;s the NPC Definition for those of you that don&#39;t have it

Open your NPCDefinitions folder and look for NPCDefinition10775.xml

Replace everything inside of there with this:
[code]	&lt;NpcDefinition&gt;
		&lt;CombatLevel&gt;254&lt;/CombatLevel&gt;
		&lt;Examine&gt;This dragon looks cold to the touch.&lt;/Examine&gt;
		&lt;Bonus0&gt;184&lt;/Bonus0&gt;
		&lt;Bonus1&gt;379&lt;/Bonus1&gt;
		&lt;Bonus2&gt;346&lt;/Bonus2&gt;
		&lt;Bonus3&gt;398&lt;/Bonus3&gt;
		&lt;Bonus4&gt;156&lt;/Bonus4&gt;
		&lt;Bonus5&gt;204&lt;/Bonus5&gt;
		&lt;Bonus6&gt;497&lt;/Bonus6&gt;
		&lt;Bonus7&gt;589&lt;/Bonus7&gt;
		&lt;Bonus8&gt;326&lt;/Bonus8&gt;
		&lt;Bonus9&gt;207&lt;/Bonus9&gt;
		&lt;Bonus10&gt;238&lt;/Bonus10&gt;
		&lt;Bonus11&gt;102&lt;/Bonus11&gt;
		&lt;Bonus12&gt;132&lt;/Bonus12&gt;
		&lt;Bonus13&gt;219&lt;/Bonus13&gt;
		&lt;LifePoints&gt;1900&lt;/LifePoints&gt;
		&lt;Respawn&gt;17&lt;/Respawn&gt;
&lt;attackAnim&gt;13155&lt;/attackAnim&gt;
&lt;defenceAnim&gt;13154&lt;/defenceAnim&gt;
&lt;deathAnim&gt;13153&lt;/deathAnim&gt;
		&lt;StrengthLevel&gt;72&lt;/StrengthLevel&gt;
		&lt;AttackLevel&gt;120&lt;/AttackLevel&gt;
		&lt;DefenceLevel&gt;269&lt;/DefenceLevel&gt;
		&lt;RangeLevel&gt;1&lt;/RangeLevel&gt;
		&lt;MagicLevel&gt;103&lt;/MagicLevel&gt;
		&lt;AttackSpeed&gt;5&lt;/AttackSpeed&gt;
		&lt;StartGraphics&gt;-1&lt;/StartGraphics&gt;
		&lt;ProjectileId&gt;2465&lt;/ProjectileId&gt;
		&lt;EndGraphics&gt;-1&lt;/EndGraphics&gt;
		&lt;UsingMelee&gt;true&lt;/UsingMelee&gt;
		&lt;UsingRange&gt;false&lt;/UsingRange&gt;
		&lt;UsingMagic&gt;true&lt;/UsingMagic&gt;
		&lt;Aggressive&gt;true&lt;/Aggressive&gt;
		&lt;PoisonImmune&gt;false&lt;/PoisonImmune&gt;
	&lt;/NpcDefinition&gt;[/code]</description>
    
    <lastBuildDate>Sun, 01 Jul 2012 23:52:55 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@Sjonsen Sjonsen]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sjonsen">@Sjonsen</a> wrote:</p>
          <blockquote>
              <p>If anyone still has the 10 hp problem, go to NDE and remove the NPCDefinitions.bin<br>
This means after adding in the frost dragon, it will reload all the NPCDefinitions and actually change the hp of the frosts.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/19</link>
        <pubDate>Sun, 01 Jul 2012 23:52:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-19</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@RuNnNy RuNnNy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/runnny">@RuNnNy</a> wrote:</p>
          <blockquote>
              <p>Does anyone know the Cords of the Asgarnian Ice Dungeon resource dungeon (The resource dungeon that the frost drags are in).<br>
Thanks!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/18</link>
        <pubDate>Sat, 18 Feb 2012 18:32:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-18</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@EclipseRSPS EclipseRSPS]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eclipsersps">@EclipseRSPS</a> wrote:</p>
          <blockquote>
              <p><span class="hashtag">#Winning</span> ^^</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/17</link>
        <pubDate>Sat, 18 Feb 2012 04:57:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-17</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>[quote=“imtiax, post:4, topic:421803”]My Magicformulae is MagicFormulaae.class so you can’t read anything. It’s all<br>
like<br>
getMagicModifier getNormalDamage<br>
getBaseDamage getEquipment )()Lorg/dementhium/model/player/Equipment; %org/dementhium/model/player/Equipment avoidSet (I)Z getClass ()Ljava/lang/Class; java/lang/Class<br>
getSimpleName ()Ljava/lang/String; java/lang/String contains e(Ljava/lang/CharSequence;)Z getStartDamage A(Lorg/dementhium/model/player/Player;Lorg/dementhium/model/Mob;)I getLevelForExperience getId agetSlot ! K L       M N  O        *· ±    P        	 Q R  O   ‚     H *¶ *(¸ ¸ 9 +¶ a+¸ ¸ 9<br>
<br>
co9<br>
—ž <em>¶ </em>¸ 	¸ Ž¬¬    P          #   - ! 5 " F $ S    þ F 	 Q T  O    <br>
E *¶ *(¸ ¸ 9a +¶ a+¸ ¸ 9	aa	co9a	—ž <em>¶ ‡¸ Ž¬¬    P       3  4 # 5 - 6 5 7 C 9 S    þ C<br>
U V  O   e  a   1</em>¶<br>
¶ <code>&gt;*¶ ¶ a56h</code>-`‡'k9˜œ a§ ¯    P       E<br>
F  G # H S<br>
þ .A<br>
W X  O  ƒ     ä&gt;<em>¶<br>
™ &amp;</em>¶ ¶ ¶   &gt;§ *¶ ¶ ¶   &gt;<em>¶ ™ </em>¶ ¶<br>
¶ § *¶ ¶ ¶ ‡ k9*¶ ™ *¶ ¶<br>
¶ § *¶ ¶ ¶ ‡[/quote]</p>
<p>I wanted to say something funny but I thought a quote would be enough.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/16</link>
        <pubDate>Thu, 16 Feb 2012 16:15:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-16</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@bibbobbib bibbobbib]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bibbobbib">@bibbobbib</a> wrote:</p>
          <blockquote>
              <p>[quote=“imtiax, post:4, topic:421803”]My Magicformulae is MagicFormulaae.class so you can’t read anything. It’s all<br>
like<br>
getMagicModifier getNormalDamage<br>
getBaseDamage getEquipment )()Lorg/dementhium/model/player/Equipment; %org/dementhium/model/player/Equipment avoidSet (I)Z getClass ()Ljava/lang/Class; java/lang/Class<br>
getSimpleName ()Ljava/lang/String; java/lang/String contains e(Ljava/lang/CharSequence;)Z getStartDamage A(Lorg/dementhium/model/player/Player;Lorg/dementhium/model/Mob;)I getLevelForExperience getId agetSlot ! K L       M N  O        *· ±    P        	 Q R  O   ‚     H *¶ *(¸ ¸ 9 +¶ a+¸ ¸ 9<br>
<br>
co9<br>
—ž <em>¶ </em>¸ 	¸ Ž¬¬    P          #   - ! 5 " F $ S    þ F 	 Q T  O    <br>
E *¶ *(¸ ¸ 9a +¶ a+¸ ¸ 9	aa	co9a	—ž <em>¶ ‡¸ Ž¬¬    P       3  4 # 5 - 6 5 7 C 9 S    þ C<br>
U V  O   e  a   1</em>¶<br>
¶ <code>&gt;*¶ ¶ a56h</code>-`‡'k9˜œ a§ ¯    P       E<br>
F  G # H S<br>
þ .A<br>
W X  O  ƒ     ä&gt;<em>¶<br>
™ &amp;</em>¶ ¶ ¶   &gt;§ *¶ ¶ ¶   &gt;<em>¶ ™ </em>¶ ¶<br>
¶ § *¶ ¶ ¶ ‡ k9*¶ ™ *¶ ¶<br>
¶ § *¶ ¶ ¶ ‡[/quote]</p>
<p>Lol did you try put this into your class file?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/15</link>
        <pubDate>Thu, 16 Feb 2012 01:37:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-15</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@perryman perryman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/perryman">@perryman</a> wrote:</p>
          <blockquote>
              <p>What a fail you are, no wonder why i get 88 errors…</p>
<blockquote>if (victim instanceof FrostDragon &amp;&amp; spell.getClass().getSimpleName().contains("Fire")) {</blockquote> AND AFTER I WHILE I RELIZED WHAT WAS WRONG, UR FUCKING FAIL KID!! LMFAO I CAN'T LAUGHT AT UR CODING: <blockquote>if (victim instanceof FrostDragon &amp;&amp; spell.getClass().getSimpleName().contains("Fire")) {</blockquote>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/14</link>
        <pubDate>Wed, 15 Feb 2012 20:45:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-14</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@pray4urlife pray4urlife]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pray4urlife">@pray4urlife</a> wrote:</p>
          <blockquote>
              <p>Hey man i got everything in there compiled no errors, but when i attack a frost dragon it still only has 10 hp? any help plz.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/13</link>
        <pubDate>Mon, 13 Feb 2012 22:16:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-13</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@kiss_my_feet kiss my feet]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kiss_my_feet">@kiss_my_feet</a> wrote:</p>
          <blockquote>
              <p>my magic formulae is all fucked up in chineese so I added it in .java and i got 15 errors.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/12</link>
        <pubDate>Thu, 05 Jan 2012 17:36:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-12</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@noty noty]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/noty">@noty</a> wrote:</p>
          <blockquote>
              <p>just wants to say “GL”</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/11</link>
        <pubDate>Wed, 04 Jan 2012 15:22:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-11</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@wildy_0wns1 wildy 0wns1]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wildy_0wns1">@wildy_0wns1</a> wrote:</p>
          <blockquote>
              <p>so, i have now add them, and i have spawned them, but when i kill them, they only have 100 hp (x10)<br>
but, the life points should be 1900 lp right? please replay</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/10</link>
        <pubDate>Tue, 03 Jan 2012 18:54:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-10</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@wildskiller wildskiller]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wildskiller">@wildskiller</a> wrote:</p>
          <blockquote>
              <p>[code]package org.dementhium.model.combat;</p>
<p>import org.dementhium.model.Mob;<br>
import org.dementhium.model.definition.WeaponInterface;<br>
import org.dementhium.model.npc.NPC;<br>
import org.dementhium.model.npc.impl.MetalDragon;<br>
import org.dementhium.model.npc.impl.FrostDragon;<br>
import org.dementhium.model.player.Equipment;<br>
import org.dementhium.model.player.Player;<br>
import org.dementhium.model.player.Skills;</p>
<p>/**</p>
<ul>
<li>
<p>Holds all the magic combat related formulae.</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Emperor<br>
*/<br>
public class MagicFormulae {</p>
<p>/**</p>
<ul>
<li>Gets the current magic damage.</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> source             The attacking NPC.</li>
<li>
<a class="mention" href="/u/param">@param</a> victim             The entity being attacked.</li>
<li>
<a class="mention" href="/u/param">@param</a> accuracyMultiplier The amount to increase the accuracy with.</li>
<li>
<a class="mention" href="/u/param">@param</a> hitMultiplier      The amount to increase the hit with.</li>
<li>
<a class="mention" href="/u/param">@param</a> defenceMultiplier  The amount to increase the defence with.</li>
<li>
<a class="mention" href="/u/return">@return</a> The amount to hit.<br>
*/<br>
public static int getDamage(NPC source, Mob victim, double accuracyMultiplier,<br>
double hitMultiplier, double defenceMultiplier) {<br>
double accuracy = CombatExecutor.getGaussian(0.5, source.getRandom(), getMaximumMagicAccuracy(source, accuracyMultiplier));<br>
double defence = CombatExecutor.getGaussian(0.5, victim.getRandom(), getMaximumMagicDefence(victim, defenceMultiplier));<br>
double mod = accuracy / (accuracy + defence);<br>
if (accuracy &gt; defence) {<br>
return (int) CombatExecutor.getGaussian(mod, source.getRandom(), getMaximumMagicDamage(source, hitMultiplier));<br>
}<br>
return -1;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the current magic damage.</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> source             The attacking NPC.</li>
<li>
<a class="mention" href="/u/param">@param</a> victim             The entity being attacked.</li>
<li>
<a class="mention" href="/u/param">@param</a> accuracyMultiplier The amount to increase the accuracy with.</li>
<li>
<a class="mention" href="/u/param">@param</a> hitMultiplier      The amount to increase the hit with.</li>
<li>
<a class="mention" href="/u/param">@param</a> defenceMultiplier  The amount to increase the defence with.</li>
<li>
<a class="mention" href="/u/return">@return</a> The amount to hit.<br>
*/<br>
public static int getDamage(NPC source, Mob victim, double accuracyMultiplier,<br>
int damage, double defenceMultiplier) {<br>
double accuracy = CombatExecutor.getGaussian(0.5, source.getRandom(), getMaximumMagicAccuracy(source, accuracyMultiplier));<br>
double defence = CombatExecutor.getGaussian(0.5, victim.getRandom(), getMaximumMagicDefence(victim, defenceMultiplier));<br>
double mod = accuracy / (accuracy + defence);<br>
if (accuracy &gt; defence) {<br>
return (int) CombatExecutor.getGaussian(mod, source.getRandom(), damage);<br>
}<br>
return -1;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the maximum magic accuracy.</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> source             The attacking NPC.</li>
<li>
<a class="mention" href="/u/param">@param</a> accuracyMultiplier The accuracy multiplier.</li>
<li>
<a class="mention" href="/u/return">@return</a> The maximum magic accuracy.<br>
*/<br>
private static double getMaximumMagicAccuracy(NPC source,<br>
double accuracyMultiplier) {<br>
int magicLevel = source.getDefinition().getMagicLevel() + 1;<br>
int magicBonus = source.getDefinition().getBonuses()[4];<br>
double accuracy = ((magicLevel + (magicBonus * 2)) + 45) * accuracyMultiplier;<br>
return accuracy &lt; 1 ? 1 : accuracy;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the maximum magic defence.</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> source            The attacking NPC.</li>
<li>
<a class="mention" href="/u/param">@param</a> victim            The entity being attacked.</li>
<li>
<a class="mention" href="/u/param">@param</a> defenceMultiplier The defence multiplier.</li>
<li>
<a class="mention" href="/u/return">@return</a> The maximum magic defence.<br>
*/<br>
private static double getMaximumMagicDefence(Mob victim, double defenceMultiplier) {<br>
int style = 0;<br>
if (victim.isPlayer()) {<br>
if (victim.getPlayer().getSettings().getCombatStyle() == WeaponInterface.STYLE_DEFENSIVE) {<br>
style = 3;<br>
} else if (victim.getPlayer().getSettings().getCombatStyle() == WeaponInterface.STYLE_CONTROLLED) {<br>
style = 1;<br>
}<br>
}<br>
double defLvl = (victim.isNPC() ? victim.getNPC().getDefinition().getDefenceLevel() : victim.getPlayer().getSkills().getLevel(1)) * 0.3;<br>
defLvl += (victim.isNPC() ? victim.getNPC().getDefinition().getMagicLevel() : victim.getPlayer().getSkills().getLevel(6)) * 0.7;<br>
int defBonus = victim.isNPC() ? victim.getNPC().getDefinition().getBonuses()[8] : victim.getPlayer().getBonuses().getBonus(8);<br>
double defMult = 1.0;<br>
defMult += victim.isPlayer() ? victim.getPlayer().getPrayer().getDefenceModifier() : victim.getNPC().getDefenceModifier();<br>
double defence = (((defLvl + (defBonus * 2)) + style) * defMult) * defenceMultiplier;<br>
return defence &lt; 1 ? 1 : defence;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the maximum magic damage.</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> source        The attacking NPC.</li>
<li>
<a class="mention" href="/u/param">@param</a> hitMultiplier The hit multiplier.</li>
<li>
<a class="mention" href="/u/return">@return</a> The maximum magic damage.<br>
*/<br>
public static double getMaximumMagicDamage(NPC source, double hitMultiplier) {<br>
int mageLvl = source.getDefinition().getMagicLevel() + 1;<br>
int magicBonus = source.getDefinition().getBonuses()[13];<br>
return (14 + mageLvl + (magicBonus / 8) + ((mageLvl * magicBonus) / 64)) * hitMultiplier;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Sets the current damage on the interaction.</li>
<li>
<a class="mention" href="/u/param">@param</a> interaction The interaction.<br>
*/<br>
public static void setDamage(Interaction interaction) {<br>
double accuracy = CombatExecutor.getGaussian(0.5, interaction.getSource().getRandom(), getMaximumAccuracy(interaction.getSource().getPlayer(), interaction.getSpell()) + 5);<br>
double defence = CombatExecutor.getGaussian(0.5, interaction.getVictim().getRandom(), getMaximumDefence(interaction.getSource().getPlayer(), interaction.getVictim(), interaction.getSpell()) + 5);<br>
double maximum = getMaximumDamage(interaction.getSource().getPlayer(), interaction.getVictim(), interaction.getSpell());<br>
double mod = accuracy / (accuracy + defence);<br>
if (accuracy &gt; defence) {<br>
int hit = (int) CombatExecutor.getGaussian(mod, interaction.getSource().getRandom(), maximum);<br>
interaction.setDamage(Damage.getDamage(interaction.getSource(), interaction.getVictim(), CombatType.MAGIC, hit));<br>
} else {<br>
interaction.setDamage(new Damage(-1));<br>
}<br>
interaction.getDamage().setMaximum((int) maximum);<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the current magic damage.</li>
<li>
<a class="mention" href="/u/param">@param</a> source The attacking player.</li>
<li>
<a class="mention" href="/u/param">@param</a> victim The mob being attacked.</li>
<li>
<a class="mention" href="/u/param">@param</a> spell The spell used.</li>
<li>
<a class="mention" href="/u/return">@return</a> The current damage.<br>
*/<br>
public static int getDamage(Player source, Mob victim, MagicSpell spell) {<br>
double accuracy = CombatExecutor.getGaussian(0.5, source.getRandom(), getMaximumAccuracy(source, spell) + 5);<br>
double defence = CombatExecutor.getGaussian(0.5, victim.getRandom(), getMaximumDefence(source, victim, spell) + 5);<br>
double maximum = getMaximumDamage(source, victim, spell);<br>
double mod = accuracy / (accuracy + defence);<br>
if (accuracy &gt; defence) {<br>
return (int) CombatExecutor.getGaussian(mod, source.getRandom(), maximum);<br>
}<br>
return -1;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the maximum magic accuracy.</li>
<li>
<a class="mention" href="/u/param">@param</a> source The attacking player.</li>
<li>
<a class="mention" href="/u/param">@param</a> accuracyMultiplier The accuracy multiplier.</li>
<li>
<a class="mention" href="/u/return">@return</a> The maximum magic accuracy.<br>
*/<br>
private static double getMaximumAccuracy(Player source, MagicSpell spell) {<br>
int magicLevel = source.getSkills().getLevel(Skills.MAGIC);<br>
int magicBonus = source.getBonuses().getBonus(3);<br>
double prayerBonus = 1 + source.getPrayer().getMagicModifier();<br>
double accuracy = ((magicLevel + (magicBonus * 4)) * 1.2) * prayerBonus;<br>
accuracy += (spell.getNormalDamage() + spell.getBaseDamage()) / 2;<br>
if (accuracy &lt; 1) {<br>
accuracy = 1;<br>
}<br>
if (source.getEquipment().voidSet(3)) {<br>
return accuracy * 1.1;<br>
}<br>
return accuracy;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the maximum magic defence.</li>
<li>
<a class="mention" href="/u/param">@param</a> source The attacking player.</li>
<li>
<a class="mention" href="/u/param">@param</a> spellType The spell type used.</li>
<li>
<a class="mention" href="/u/param">@param</a> victim The entity being attacked.</li>
<li>
<a class="mention" href="/u/param">@param</a> defenceMultiplier The defence multiplier.</li>
<li>
<a class="mention" href="/u/return">@return</a> The maximum magic defence.<br>
*/<br>
private static double getMaximumDefence(Player source, Mob victim, MagicSpell spell) {<br>
int style = 0;<br>
if (victim.isPlayer()) {<br>
if (victim.getPlayer().getSettings().getCombatStyle() == WeaponInterface.STYLE_DEFENSIVE) {<br>
style = 3;<br>
} else if (victim.getPlayer().getSettings().getCombatStyle() == WeaponInterface.STYLE_CONTROLLED) {<br>
style = 1;<br>
}<br>
}<br>
double defLvl = (victim.isNPC() ? victim.getNPC().getDefinition().getDefenceLevel() : victim.getPlayer().getSkills().getLevel(1)) * 0.3;<br>
defLvl += (victim.isNPC() ? victim.getNPC().getDefinition().getMagicLevel() : victim.getPlayer().getSkills().getLevel(6)) * 0.7;<br>
int defBonus = victim.isNPC() ? victim.getNPC().getDefinition().getBonuses()[8] : victim.getPlayer().getBonuses().getBonus(8);<br>
double defMult = 1.0;<br>
defMult += victim.isPlayer() ? victim.getPlayer().getPrayer().getDefenceModifier() : victim.getNPC().getDefenceModifier();<br>
if (victim instanceof MetalDragon &amp;&amp; spell.getClass().getSimpleName().contains(“Fire”)) {<br>
defMult -= 0.5;<br>
}<br>
double defence = ((defLvl + (defBonus * 4)) + style) * defMult;<br>
return defence &lt; 1 ? 1 : defence;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the maximum magic damage.</li>
<li>
<a class="mention" href="/u/param">@param</a> source The attacking player.</li>
<li>
<a class="mention" href="/u/param">@param</a> victim The entity being attacked.</li>
<li>
<a class="mention" href="/u/param">@param</a> spellType The spell type used.</li>
<li>
<a class="mention" href="/u/param">@param</a> hitMultiplier The hit multiplier.</li>
<li>
<a class="mention" href="/u/return">@return</a> The maximum magic damage.<br>
*/<br>
public static double getMaximumDamage(Player source, Mob victim, MagicSpell spell) {<br>
int damage = spell.getStartDamage(source, victim);<br>
double multiplier = 1;<br>
multiplier *= (source.getBonuses().getBonus(14) * 0.01) + 1;<br>
if (source.getSkills().getLevel(Skills.MAGIC) &gt; source.getSkills().getLevelForExperience(Skills.MAGIC)) {<br>
multiplier *= 1 + ((source.getSkills().getLevel(Skills.MAGIC) - source.getSkills().getLevelForExperience(Skills.MAGIC)) * 0.03);<br>
}<br>
//TODO: Slayer helm/HexCreft helm multiplier on slayer tasks.<br>
if (victim.isNPC() &amp;&amp; victim.getNPC().getId() == 9463) {<br>
boolean isFireSpell = spell.getClass().getSimpleName().contains(“Fire”);<br>
if (source.getEquipment().getSlot(Equipment.SLOT_CAPE) == 6570 &amp;&amp; isFireSpell) {<br>
damage += 40;<br>
multiplier *= 2.0;<br>
} else if (isFireSpell) {<br>
multiplier *= 1.5;<br>
} else if (source.getEquipment().getSlot(Equipment.SLOT_CAPE) == 6570) {<br>
damage += 40;<br>
}<br>
}<br>
if (source.getEquipment().voidSet(3)) {<br>
multiplier += .1;<br>
}<br>
return damage * multiplier;<br>
}</li>
</ul>
<p>/**</p>
<ul>
<li>Gets the normal damage from the spell?</li>
<li>
<a class="mention" href="/u/param">@param</a> source The attacking player.</li>
<li>
<a class="mention" href="/u/param">@param</a> victim The entity being attacked.</li>
<li>
<a class="mention" href="/u/param">@param</a> spellType The spell type used.</li>
<li>
<a class="mention" href="/u/return">@return</a> The normal damage.<br>
*/<br>
/*private static int getNormalDamage(Player source, Entity victim, SpellType spellType) {<br>
int t = spellType.getBaseDamage();<br>
String name = spellType.name();<br>
if (name.endsWith(“STRIKE”)) {<br>
return victim instanceof Npc &amp;&amp; ((Npc) victim).getId() == 205 ? (80 + t) : (2 * t);<br>
} else if (name.endsWith(“BOLT”)) {<br>
return source.getEquipment().getItem(Equipment.SLOT_HANDS).getId() == 777 ? 110 + t : 80 + t;<br>
} else if (name.endsWith(“BLAST”)) {<br>
return 120 + t;<br>
} else if (name.endsWith(“WAVE”)) {<br>
return 160 + t;<br>
} else if (name.endsWith(“SURGE”)) {<br>
return 200 + (2 * t);<br>
} else if (name.equals(“CRUMBLE_UNDEAD”)) {<br>
return 150;<br>
} else if (name.equals(“MAGIC_DART”)) {<br>
return 100 + source.getSkills().getLevel(Skills.MAGIC);<br>
} else if (name.equals(“IBAN_BLAST”)) {<br>
return 250;<br>
} else if (name.endsWith(“GODSPELL”)) {<br>
return source.getIntegerAttribute(“godSpellCharge”) &gt; /<em>GameEngine.getTicks()<em>1 ? 300 : 200;<br>
/</em>} else if (name.endsWith(“RUSH”)) {<br>
return 140 + t;<br>
} else if (name.endsWith(“BURST”)) {<br>
return 180 + t;<br>
} else if (name.endsWith(“BLITZ”)) {<br>
return 220 + t;<br>
} else if (name.endsWith(“BARRAGE”)) {<br>
return 260 + t;<br>
}<br>
return t;<br>
}</em>/<br>
}[/code]</li>
</ul>
</li>
</ul>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/9</link>
        <pubDate>Sun, 20 Nov 2011 17:14:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-9</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@Travas Travas]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/travas">@Travas</a> wrote:</p>
          <blockquote>
              <p>[quote=“wildskiller, post:7, topic:421803”][quote author=lostmyphat link=topic=524457.msg3820517#msg3820517 date=1321738167]</p>
<aside class="quote">
<blockquote>
<p>My Magicformulae is MagicFormulaae.class so you can’t read anything. It’s all<br>
like<br>
getMagicModifier getNormalDamage<br>
getBaseDamage getEquipment )()Lorg/dementhium/model/player/Equipment; %org/dementhium/model/player/Equipment avoidSet (I)Z getClass ()Ljava/lang/Class; java/lang/Class<br>
getSimpleName ()Ljava/lang/String; java/lang/String contains e(Ljava/lang/CharSequence;)Z getStartDamage A(Lorg/dementhium/model/player/Player;Lorg/dementhium/model/Mob;)I getLevelForExperience getId agetSlot ! K L       M N  O        *· ±    P            Q R  O   ‚     H *¶ *(¸ ¸ 9 +¶ a+¸ ¸ 9<br>
<br>
co9<br>
—ž <em>¶ </em>¸    ¸ Ž¬¬    P          #   - ! 5 " F $ S    þ F     Q T  O    <br>
E *¶ *(¸ ¸ 9a +¶ a+¸ ¸ 9   aa   co9a   —ž <em>¶ ‡¸ Ž¬¬    P       3  4 # 5 - 6 5 7 C 9 S    þ C<br>
U V  O   e  a   1</em>¶<br>
¶ <code>&gt;*¶ ¶ a56h</code>-`‡'k9˜œ a§ ¯    P       E<br>
F  G # H S<br>
þ .A<br>
W X  O  ƒ     ä&gt;<em>¶<br>
™ &amp;</em>¶ ¶ ¶   &gt;§ *¶ ¶ ¶   &gt;<em>¶ ™ </em>¶ ¶<br>
¶ § *¶ ¶ ¶ ‡ k9*¶ ™ *¶ ¶<br>
¶ § *¶ ¶ ¶ ‡</p>
</blockquote>
</aside>
<p>He means the .java…<br>
[/quote]</p>
<p>You either have a messed up notepad or something because mine is just fine[/quote]<br>
Are you kidding…?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/8</link>
        <pubDate>Sun, 20 Nov 2011 05:47:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-8</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@wildskiller wildskiller]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wildskiller">@wildskiller</a> wrote:</p>
          <blockquote>
              <p>[quote=“lostmyphat, post:5, topic:421803”][quote author=imtiax link=topic=524457.msg3820484#msg3820484 date=1321735356]<br>
My Magicformulae is MagicFormulaae.class so you can’t read anything. It’s all<br>
like<br>
getMagicModifier getNormalDamage<br>
getBaseDamage getEquipment )()Lorg/dementhium/model/player/Equipment; %org/dementhium/model/player/Equipment avoidSet (I)Z getClass ()Ljava/lang/Class; java/lang/Class<br>
getSimpleName ()Ljava/lang/String; java/lang/String contains e(Ljava/lang/CharSequence;)Z getStartDamage A(Lorg/dementhium/model/player/Player;Lorg/dementhium/model/Mob;)I getLevelForExperience getId agetSlot ! K L       M N  O        *· ±    P        	 Q R  O   ‚     H *¶ *(¸ ¸ 9 +¶ a+¸ ¸ 9<br>
<br>
co9<br>
—ž <em>¶ </em>¸ 	¸ Ž¬¬    P          #   - ! 5 " F $ S    þ F 	 Q T  O    <br>
E *¶ *(¸ ¸ 9a +¶ a+¸ ¸ 9	aa	co9a	—ž <em>¶ ‡¸ Ž¬¬    P       3  4 # 5 - 6 5 7 C 9 S    þ C<br>
U V  O   e  a   1</em>¶<br>
¶ <code>&gt;*¶ ¶ a56h</code>-`‡'k9˜œ a§ ¯    P       E<br>
F  G # H S<br>
þ .A<br>
W X  O  ƒ     ä&gt;<em>¶<br>
™ &amp;</em>¶ ¶ ¶   &gt;§ *¶ ¶ ¶   &gt;<em>¶ ™ </em>¶ ¶<br>
¶ § *¶ ¶ ¶ ‡ k9*¶ ™ *¶ ¶<br>
¶ § *¶ ¶ ¶ ‡<br>
[/quote]<br>
He means the .java…[/quote]</p>
<p>You either have a messed up notepad or something because mine is just fine</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/7</link>
        <pubDate>Sun, 20 Nov 2011 03:04:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-7</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@n10si_t n10si t]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/n10si_t">@n10si_t</a> wrote:</p>
          <blockquote>
              <p>[quote=“imtiax, post:4, topic:421803”]My Magicformulae is MagicFormulaae.class so you can’t read anything. It’s all<br>
like<br>
getMagicModifier getNormalDamage<br>
getBaseDamage getEquipment )()Lorg/dementhium/model/player/Equipment; %org/dementhium/model/player/Equipment avoidSet (I)Z getClass ()Ljava/lang/Class; java/lang/Class<br>
getSimpleName ()Ljava/lang/String; java/lang/String contains e(Ljava/lang/CharSequence;)Z getStartDamage A(Lorg/dementhium/model/player/Player;Lorg/dementhium/model/Mob;)I getLevelForExperience getId agetSlot ! K L       M N  O        *· ±    P        	 Q R  O   ‚     H *¶ *(¸ ¸ 9 +¶ a+¸ ¸ 9<br>
<br>
co9<br>
—ž <em>¶ </em>¸ 	¸ Ž¬¬    P          #   - ! 5 " F $ S    þ F 	 Q T  O    <br>
E *¶ *(¸ ¸ 9a +¶ a+¸ ¸ 9	aa	co9a	—ž <em>¶ ‡¸ Ž¬¬    P       3  4 # 5 - 6 5 7 C 9 S    þ C<br>
U V  O   e  a   1</em>¶<br>
¶ <code>&gt;*¶ ¶ a56h</code>-`‡'k9˜œ a§ ¯    P       E<br>
F  G # H S<br>
þ .A<br>
W X  O  ƒ     ä&gt;<em>¶<br>
™ &amp;</em>¶ ¶ ¶   &gt;§ *¶ ¶ ¶   &gt;<em>¶ ™ </em>¶ ¶<br>
¶ § *¶ ¶ ¶ ‡ k9*¶ ™ *¶ ¶<br>
¶ § *¶ ¶ ¶ ‡[/quote]</p>
<p>hahahahahaaha</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/6</link>
        <pubDate>Sun, 20 Nov 2011 00:02:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-6</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@lostmyphat lostmyphat]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lostmyphat">@lostmyphat</a> wrote:</p>
          <blockquote>
              <p>[quote=“imtiax, post:4, topic:421803”]My Magicformulae is MagicFormulaae.class so you can’t read anything. It’s all<br>
like<br>
getMagicModifier getNormalDamage<br>
getBaseDamage getEquipment )()Lorg/dementhium/model/player/Equipment; %org/dementhium/model/player/Equipment avoidSet (I)Z getClass ()Ljava/lang/Class; java/lang/Class<br>
getSimpleName ()Ljava/lang/String; java/lang/String contains e(Ljava/lang/CharSequence;)Z getStartDamage A(Lorg/dementhium/model/player/Player;Lorg/dementhium/model/Mob;)I getLevelForExperience getId agetSlot ! K L       M N  O        *· ±    P        	 Q R  O   ‚     H *¶ *(¸ ¸ 9 +¶ a+¸ ¸ 9<br>
<br>
co9<br>
—ž <em>¶ </em>¸ 	¸ Ž¬¬    P          #   - ! 5 " F $ S    þ F 	 Q T  O    <br>
E *¶ *(¸ ¸ 9a +¶ a+¸ ¸ 9	aa	co9a	—ž <em>¶ ‡¸ Ž¬¬    P       3  4 # 5 - 6 5 7 C 9 S    þ C<br>
U V  O   e  a   1</em>¶<br>
¶ <code>&gt;*¶ ¶ a56h</code>-`‡'k9˜œ a§ ¯    P       E<br>
F  G # H S<br>
þ .A<br>
W X  O  ƒ     ä&gt;<em>¶<br>
™ &amp;</em>¶ ¶ ¶   &gt;§ *¶ ¶ ¶   &gt;<em>¶ ™ </em>¶ ¶<br>
¶ § *¶ ¶ ¶ ‡ k9*¶ ™ *¶ ¶<br>
¶ § *¶ ¶ ¶ ‡[/quote]<br>
He means the .java…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/5</link>
        <pubDate>Sat, 19 Nov 2011 21:29:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-5</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@imtiax imtiax]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imtiax">@imtiax</a> wrote:</p>
          <blockquote>
              <p>My Magicformulae is MagicFormulaae.class so you can’t read anything. It’s all<br>
like<br>
getMagicModifier getNormalDamage<br>
getBaseDamage getEquipment )()Lorg/dementhium/model/player/Equipment; %org/dementhium/model/player/Equipment avoidSet (I)Z getClass ()Ljava/lang/Class; java/lang/Class<br>
getSimpleName ()Ljava/lang/String; java/lang/String contains e(Ljava/lang/CharSequence;)Z getStartDamage A(Lorg/dementhium/model/player/Player;Lorg/dementhium/model/Mob;)I getLevelForExperience getId agetSlot ! K L       M N  O        *· ±    P        	 Q R  O   ‚     H *¶ *(¸ ¸ 9 +¶ a+¸ ¸ 9<br>
<br>
co9<br>
—ž <em>¶ </em>¸ 	¸ Ž¬¬    P          #   - ! 5 " F $ S    þ F 	 Q T  O    <br>
E *¶ *(¸ ¸ 9a +¶ a+¸ ¸ 9	aa	co9a	—ž <em>¶ ‡¸ Ž¬¬    P       3  4 # 5 - 6 5 7 C 9 S    þ C<br>
U V  O   e  a   1</em>¶<br>
¶ <code>&gt;*¶ ¶ a56h</code>-`‡'k9˜œ a§ ¯    P       E<br>
F  G # H S<br>
þ .A<br>
W X  O  ƒ     ä&gt;<em>¶<br>
™ &amp;</em>¶ ¶ ¶   &gt;§ *¶ ¶ ¶   &gt;<em>¶ ™ </em>¶ ¶<br>
¶ § *¶ ¶ ¶ ‡ k9*¶ ™ *¶ ¶<br>
¶ § *¶ ¶ ¶ ‡</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/4</link>
        <pubDate>Sat, 19 Nov 2011 20:42:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-4</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@wildskiller wildskiller]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wildskiller">@wildskiller</a> wrote:</p>
          <blockquote>
              <p>How can I compile this if they are in xml format?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/3</link>
        <pubDate>Fri, 18 Nov 2011 22:34:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-3</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@k1ng0frs k1ng0frs]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/k1ng0frs">@k1ng0frs</a> wrote:</p>
          <blockquote>
              <p>this is good for people using dementhium good job</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/2</link>
        <pubDate>Wed, 16 Nov 2011 02:22:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-2</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
      <item>
        <title>639 - Adding Full Frost Dragons - 639</title>
        <dc:creator><![CDATA[@Ecstacy_Pkz Ecstacy Pkz]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ecstacy_pkz">@Ecstacy_Pkz</a> wrote:</p>
          <blockquote>
              <p>Hey there. So Dementhium 639 was released without frost dragons def’s and classes so I figured I’d post here.<br>
(BTW this is more of a snippet then a tutorial but if I post it in the snippets thread it most likely will not be seen.)</p>
<p>First you want to make a new class in your <span class="bbcode-b">Model &gt; Combat &gt; Impl &gt; Npc</span> and name is FrostDragonAction.java<br>
Add this inside of it:</p>
<p>[code]package org.dementhium.model.combat.impl.npc;</p>
<p>import org.dementhium.model.Location;<br>
import org.dementhium.model.Projectile;<br>
import org.dementhium.model.combat.CombatAction;<br>
import org.dementhium.model.combat.CombatMovement;<br>
import org.dementhium.model.combat.CombatType;<br>
import org.dementhium.model.combat.Damage;<br>
import org.dementhium.model.combat.MeleeFormulae;<br>
import org.dementhium.model.mask.Animation;<br>
import org.dementhium.model.misc.DamageManager.DamageType;<br>
import org.dementhium.model.misc.ProjectileManager;</p>
<p>/**</p>
<ul>
<li>Handles a Frost dragons combat action.</li>
<li>
<span class="mention">@author</span> Eclipse</li>
<li>
</li>
</ul>
<p>*/<br>
public class FrostDragonAction extends CombatAction {</p>
<pre><code>/**
 * The bite melee attack animation.
 */
private static final Animation BITE_ANIMATION = Animation.create(13155);

/**
 * The dragonfire attack animation. (13164 before)
 */
private static final Animation DRAGONFIRE_ANIMATION = Animation.create(13152);

/**
 * The dragonfire projectile id.
 */
private static final int DRAGONFIRE_ID = 2465;

/**
 * The current combat type.
 */
private CombatType type = CombatType.DRAGONFIRE;

/**
 * Constructs a new {@code FrostDragonAction}.
 */
public FrostDragonAction() {
	super(false);
}

@Override
public boolean commenceSession() {
	type = CombatType.DRAGONFIRE;
    if (CombatMovement.canMelee(interaction.getSource(), interaction.getVictim()) &amp;&amp; interaction.getSource().getRandom().nextInt(10) &lt; 5) {
        type = CombatType.MELEE;
    }
	interaction.getSource().getCombatExecutor().setTicks(interaction.getSource().getAttackDelay());
    if (type == CombatType.MELEE) {
    	if (interaction.getVictim().isPlayer()) {
			interaction.setDeflected(interaction.getVictim().getPlayer().getPrayer().usingPrayer(1, 9));
		}
    	interaction.setDamage(Damage.getDamage(interaction.getSource(), interaction.getVictim(), type, MeleeFormulae.getDamage(interaction.getSource(), interaction.getVictim())));
    	interaction.getDamage().setMaximum(MeleeFormulae.getMeleeDamage(interaction.getSource(), 1.0));
        interaction.getSource().animate(BITE_ANIMATION);
        return true;
    }
    interaction.getSource().animate(DRAGONFIRE_ANIMATION);
    Location l = Projectile.getLocation(interaction.getSource());
    int speed = (int) (46 + l.distance(interaction.getVictim().getLocation()) * 5);
    Projectile p = Projectile.create(interaction.getSource(), interaction.getVictim(), DRAGONFIRE_ID, 20, 36, 43, speed, 28);
    int ticks = (int) Math.floor(l.distance(interaction.getVictim().getLocation()) * 0.3);
    ProjectileManager.sendProjectile(p);
    interaction.setDamage(Damage.getDamage(interaction.getSource(), interaction.getVictim(), type, interaction.getSource().getRandom().nextInt(596)));
    interaction.getDamage().setMaximum(595);
    interaction.setTicks(ticks);
	return true;
}

@Override
public boolean executeSession() {
	if (interaction.getTicks() &lt; 2) {
		interaction.getVictim().animate(interaction.isDeflected() ? 12573 
				: interaction.getVictim().getDefenceAnimation());
		if (interaction.isDeflected()) {
			interaction.getVictim().graphics(2230);
		}
	}
	interaction.setTicks(interaction.getTicks() - 1);
	return interaction.getTicks() &lt; 1;
}

@Override
public boolean endSession() {
	interaction.getVictim().getDamageManager().damage(
			interaction.getSource(), interaction.getDamage(), type.getDamageType());
	if (interaction.getDamage().getVenged() &gt; 0) {
		interaction.getVictim().submitVengeance(
				interaction.getSource(), interaction.getDamage().getVenged());
	}
	if (interaction.getDamage().getDeflected() &gt; 0) {
		interaction.getSource().getDamageManager().damage(interaction.getVictim(),
				interaction.getDamage().getDeflected(), interaction.getDamage().getDeflected(), DamageType.DEFLECT);
	}
	if (interaction.getDamage().getRecoiled() &gt; 0) {
		interaction.getSource().getDamageManager().damage(interaction.getVictim(),
				interaction.getDamage().getRecoiled(), interaction.getDamage().getRecoiled(), DamageType.DEFLECT);
	}
	interaction.getVictim().retaliate(interaction.getSource());
	return true;
}

@Override
public CombatType getCombatType() {
	return CombatType.DRAGONFIRE;
}
</code></pre>
<p>}<br>
[/code]<br>
Save and exit</p>
<p>Now open your <span class="bbcode-b">Model&gt; Npc &gt; Impl</span> folder and create a new class and name it FrostDragon.java<br>
Place this inside of it</p>
<p>[code]package org.dementhium.model.npc.impl;</p>
<p>import org.dementhium.model.Mob;<br>
import org.dementhium.model.combat.CombatAction;<br>
import org.dementhium.model.combat.CombatType;<br>
import org.dementhium.model.combat.Damage;<br>
import org.dementhium.model.combat.impl.npc.FrostDragonAction;<br>
import org.dementhium.model.npc.NPC;</p>
<p>/**</p>
<ul>
<li>
<p>Represents a Frost Dragon.</p>
</li>
<li>
</li>
<li>
<p><span class="mention">@author</span> Eclipse<br>
*/<br>
public class FrostDragon extends NPC {</p>
<p>/**</p>
<ul>
<li>The combat action to use.<br>
*/<br>
private static CombatAction combatAction = new FrostDragonAction();</li>
</ul>
<p>/**</p>
<ul>
<li>Constructs a new {<a class="mention" href="/u/code">@code</a> FrostDragon} {<a class="mention" href="/u/code">@code</a> Object}.</li>
<li>
</li>
<li>
<a class="mention" href="/u/param">@param</a> id The NPC id.<br>
*/<br>
public FrostDragon(int id) {<br>
super(id);<br>
setAttribute(“dragonfireName”, “fiery breath”);<br>
}</li>
</ul>
<p><a class="mention" href="/u/override">@Override</a><br>
public int getAttackDelay() {<br>
return 4;<br>
}</p>
<p><a class="mention" href="/u/override">@Override</a><br>
public Damage updateHit(Mob source, int hit, CombatType type) {<br>
if (type == CombatType.DRAGONFIRE) {<br>
return new Damage(0);<br>
}<br>
return new Damage(hit);<br>
}</p>
<p><a class="mention" href="/u/override">@Override</a><br>
public CombatAction getCombatAction() {<br>
return combatAction;<br>
}</p>
</li>
</ul>
<p>}[/code]<br>
Save and Exit.</p>
<p>And finally, Open up your MagicFormulae class and add this import</p>
<pre><code class="lang-auto"></code></pre>
<p>Now search for:</p>
<pre><code class="lang-auto"></code></pre>
<p>Directly under that add:</p>
<pre><code class="lang-auto"></code></pre>
<p>Save, Exit, Compile and enjoy!</p>
<p>P.S. Here’s the NPC Definition for those of you that don’t have it</p>
<p>Open your NPCDefinitions folder and look for NPCDefinition10775.xml</p>
<p>Replace everything inside of there with this:</p>
<p><code>	&lt;NpcDefinition&gt;
		&lt;CombatLevel&gt;254&lt;/CombatLevel&gt;
		&lt;Examine&gt;This dragon looks cold to the touch.&lt;/Examine&gt;
		&lt;Bonus0&gt;184&lt;/Bonus0&gt;
		&lt;Bonus1&gt;379&lt;/Bonus1&gt;
		&lt;Bonus2&gt;346&lt;/Bonus2&gt;
		&lt;Bonus3&gt;398&lt;/Bonus3&gt;
		&lt;Bonus4&gt;156&lt;/Bonus4&gt;
		&lt;Bonus5&gt;204&lt;/Bonus5&gt;
		&lt;Bonus6&gt;497&lt;/Bonus6&gt;
		&lt;Bonus7&gt;589&lt;/Bonus7&gt;
		&lt;Bonus8&gt;326&lt;/Bonus8&gt;
		&lt;Bonus9&gt;207&lt;/Bonus9&gt;
		&lt;Bonus10&gt;238&lt;/Bonus10&gt;
		&lt;Bonus11&gt;102&lt;/Bonus11&gt;
		&lt;Bonus12&gt;132&lt;/Bonus12&gt;
		&lt;Bonus13&gt;219&lt;/Bonus13&gt;
		&lt;LifePoints&gt;1900&lt;/LifePoints&gt;
		&lt;Respawn&gt;17&lt;/Respawn&gt;
&lt;attackAnim&gt;13155&lt;/attackAnim&gt;
&lt;defenceAnim&gt;13154&lt;/defenceAnim&gt;
&lt;deathAnim&gt;13153&lt;/deathAnim&gt;
		&lt;StrengthLevel&gt;72&lt;/StrengthLevel&gt;
		&lt;AttackLevel&gt;120&lt;/AttackLevel&gt;
		&lt;DefenceLevel&gt;269&lt;/DefenceLevel&gt;
		&lt;RangeLevel&gt;1&lt;/RangeLevel&gt;
		&lt;MagicLevel&gt;103&lt;/MagicLevel&gt;
		&lt;AttackSpeed&gt;5&lt;/AttackSpeed&gt;
		&lt;StartGraphics&gt;-1&lt;/StartGraphics&gt;
		&lt;ProjectileId&gt;2465&lt;/ProjectileId&gt;
		&lt;EndGraphics&gt;-1&lt;/EndGraphics&gt;
		&lt;UsingMelee&gt;true&lt;/UsingMelee&gt;
		&lt;UsingRange&gt;false&lt;/UsingRange&gt;
		&lt;UsingMagic&gt;true&lt;/UsingMagic&gt;
		&lt;Aggressive&gt;true&lt;/Aggressive&gt;
		&lt;PoisonImmune&gt;false&lt;/PoisonImmune&gt;
	&lt;/NpcDefinition&gt;</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803/1</link>
        <pubDate>Wed, 16 Nov 2011 01:32:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421803-1</guid>
        <source url="https://forum.moparisthebest.com/t/639-adding-full-frost-dragons-639/421803.rss">639 - Adding Full Frost Dragons - 639</source>
      </item>
  </channel>
</rss>
