<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/req-adding-full-fight-caves-req/230117 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 06:50:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[REQ] - Adding Full Fight Caves - [REQ] - Runescape - moparisthebest.com</title>
    <meta name="description" content="Okay first of all I would just like to point out that I HAVE used the search button and cannot find the tut anywhere do now I am asking you for a [-LINK-]. Also please don&amp;#39;t flame because it gets you no where and I am ju&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="230117.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[REQ] - Adding Full Fight Caves - [REQ]&#39;" href="230117.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/req-adding-full-fight-caves-req/230117" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/req-adding-full-fight-caves-req/230117" />
<meta property="og:title" content="[REQ] - Adding Full Fight Caves - [REQ]" />
<meta name="twitter:title" content="[REQ] - Adding Full Fight Caves - [REQ]" />
<meta property="og:description" content="Okay first of all I would just like to point out that I HAVE used the search button and cannot find the tut anywhere do now I am asking you for a [-LINK-]. Also please don’t flame because it gets you no where and I am just after a simple link not a simple rant…  So I am looking for a tut on adding full “Fight Caves” with “Waves” for my new server.  Thanks for you help,   Projext" />
<meta name="twitter:description" content="Okay first of all I would just like to point out that I HAVE used the search button and cannot find the tut anywhere do now I am asking you for a [-LINK-]. Also please don’t flame because it gets you no where and I am just after a simple link not a simple rant…  So I am looking for a tut on adding full “Fight Caves” with “Waves” for my new server.  Thanks for you help,   Projext" />
<meta property="article:published_time" content="2008-09-07T08:50:37+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="230117.html">[REQ] - Adding Full Fight Caves - [REQ]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Projext.html'><span itemprop='name'>Projext</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-07T08:50:37Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:28:48Z' class='post-time'>
              July 31, 2016,  1:28am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Okay first of all I would just like to point out that I HAVE used the search button and cannot find the tut anywhere do now I am asking you for a [-LINK-]. Also please don’t flame because it gets you no where and I am just after a simple link not a simple rant…</p>
<p>So I am looking for a tut on adding full “Fight Caves” with “Waves” for my new server.</p>
<p>Thanks for you help,</p>
<ul>
<li>Projext</li>
</ul>
      </div>

      <meta itemprop='headline' content='[REQ] - Adding Full Fight Caves - [REQ]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/spon80.html'><span itemprop='name'>spon80</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-11T01:13:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:32:17Z' class='post-time'>
              July 31, 2016,  1:32am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>let me look around i might be able to find you one</p>
      </div>

      <meta itemprop='headline' content='[REQ] - Adding Full Fight Caves - [REQ]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Mikeyofadown.html'><span itemprop='name'>Mikeyofadown</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-11T01:15:47Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:32:17Z' class='post-time'>
              July 31, 2016,  1:32am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <h2>If your source is devolution then follow this (ONLY IF DEVO, or else you’ll have errors) I wrote this using RichScape V1 as my base:</h2>
<p>Description: This is a tutorial I wrote to add Fight Caves to a devolution based server, it’s not that easy to mess up on here. But for all tutorials, I recomend you make a BACKUP folder of your server! Due to this notice, if you get 100 errors, I don’t have to care.</p>
<p>Difficulty: 3/10</p>
<p>Assumed Knowledge: following directions, decent short term memory.</p>
<p>Tested Server: RichScape V1, SkaScape (V2), DirgeServer</p>
<p>Files/Classes Modified: npchandler.java, client.java, server.java</p>
<p>Procedure:</p>
<p>Open up your server.java (this is the only time.), then under</p>
<pre><code class="lang-auto">public class server implements Runnable {</code></pre>
<p>add:</p>
<pre><code class="lang-auto">public static int caves = 0;</code></pre>
<p>This int will control how many players can be in the caves at once. Also for the fact it’s in “server.java” it will take effect upon all players. So it’ll work out perfectly.</p>
<p>Save your client.java (HOPEFULLY YOU MADE A BACKUP!!)</p>
<p>Now let’s move onto client.java shall we?<br>
Open that file, then under:</p>
<p><code>
public class client extends Player implements Runnable {</code></p>
<p>add this void (This will be used to add the NPC for the waves to work.)</p>
<p><code>       public void SummonNewNPC(int npcID) {
       server.npcHandler.newSummonedNPC(npcID, absX, absY-1, heightLevel, absX-1, absY-1, absX+1, absY-1, 1, server.npcHandler.GetNpcListHP(npcID), false, playerId);
       summonedNPCS++;
       actionTimer = 20;
}</code></p>
<p>So when we get to the NPC deaths in npchandler, you’ll use SummonNewNPC(2745); for the final wave, e.g. TzTok Jad!</p>
<p>Now let’s work on your objects to make them work!<br>
(still in client.java now, sorry for talkin’ bout npchandler.java ;))<br>
in client.java search for:</p>
<pre><code class="lang-auto">  	if ((objectID == 6420) &amp;&amp; premium)</code></pre>
<p>That’s the coins object in most devolution sources. Above that, add this:</p>
<pre><code class="lang-auto">  	if ((objectID == 9369) &amp;&amp; (objectX == 2399) &amp;&amp; (objectY == 5176)) {
    // Hot vent door A
    if (server.caves == 0) {
    if (absY == 5177) {
    server.caves += 1;
    sendFrame200(4883, 591);
    sendFrame126(GetNpcName(2617).replaceAll("_", " "), 4884);
    sendFrame126("Prepare to battle many fierce foes.", 4885);
    sendFrame126("Click here to continue", 4886);
    sendFrame75(2617, 4883);
    sendFrame164(4882);
    teleportToX = 2413;
    teleportToY = 5117;
    } else if (server.caves &gt; 0) {
    sendFrame200(4883, 591);
    sendFrame126(GetNpcName(2617).replaceAll("_", " "), 4884);
    sendFrame126("There's already someone in there, please wait.", 4885);
    sendFrame126("Click here to continue", 4886);
    sendFrame75(2617, 4883);
    sendFrame164(4882);
  	}
  }
	}</code></pre>
<p>This makes it so if the fight caves are empty (server.caves = 0!) then you can enter, but if they’re full (&gt; 0) then you cannot enter.</p>
<p>Now for the exit to make it so it’ll go down again.</p>
<p><code>
  	if ((objectID == 9357) &amp;&amp; (objectX == 2412) &amp;&amp; (objectY == 5118)) {
    // Tzhaar Jad Cave Exit
    if(server.caves &gt; 0) {
    server.caves = 0;
    teleportToX = 2438;
    teleportToY = 5168;
    sendFrame200(4883, 591);
    sendFrame126(GetNpcName(2618).replaceAll("_", " "), 4884);
    sendFrame126("You forfeit the fight caves.", 4885);
    sendFrame126("Click here to continue", 4886);
    sendFrame75(2618, 4883);
    sendFrame164(4882);
    NpcDialogueSend = true;
  	} else if (server.caves == 0) {
    teleportToX = 2438;
    teleportToY = 5168;
  	}
	}</code><br>
This will make it so if a player xteleto’d to get into the caves, that if they exit, it will still get emptied.<br>
Close + save your client.java.</p>
<p>ON TO NPCHANDLER!!</p>
<p>Open up npchandler.java. If you have slayer in your server, or a yell message (such as richscape’s boss killing yells.) e.g. in old richscape, if you killed let’s say… The KBD, it would say “the kbd has been slain by–”</p>
<p>So, CTRL + F for (If you’re using richscape)</p>
<pre><code class="lang-auto">king black dragon</code></pre>
<p>Using richscape, you should see this:</p>
<pre><code class="lang-auto">      	} else if (npcs[i].npcType == 50) {
        server.playerHandler
          .yell("King Black Dragon has been slain by "
            + temp.playerName + " (level-"
            + temp.combatLevel + ")");</code></pre>
<p>This will be the effects for NPC death, what will happen when you kill it. In this case, “npcType == 50” this is stating that the KBD will make this happen when you kill it.</p>
<p>Let’s make all those pesky TzHaar npc’s spawn another on death now!<br>
You’ll be using the void from client.java, “SummonNewNPC(####);”</p>
<p>These are all the summoning bits for the death.<br>
You can choose how your fight caves end. <img src="../../images/emoji/twitter/wink1bce.png?v=6" title=":wink:" class="emoji" alt=":wink:"><br>
You can either make it go to your home, to the fight caves exit, whatever you want!</p>
<pre><code class="lang-auto">      	} else if (npcs[i].npcType == 2627) {
      	temp.SummonNewNPC(2629);

      	} else if (npcs[i].npcType == 2629) {
      	temp.SummonNewNPC(2631);

      	} else if (npcs[i].npcType == 2631) {
      	temp.SummonNewNPC(2591);

      	} else if (npcs[i].npcType == 2591) {
      	temp.SummonNewNPC(2741);

      	} else if (npcs[i].npcType == 2741) {
      	temp.SummonNewNPC(2743);

      	} else if (npcs[i].npcType == 2743) {
      	temp.SummonNewNPC(2745);

      	} else if (npcs[i].npcType == 2745) {
      	temp.addItem(6570, 1);</code></pre>
<p>The temp. bit is for client.java voids/methods/booleans, etc.</p>
<p>This is pretty much it. <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Was that hard? NO! <img src="../../images/emoji/twitter/smiley1bce.png?v=6" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>POST ANY ERRORS.</p>
      </div>

      <meta itemprop='headline' content='[REQ] - Adding Full Fight Caves - [REQ]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xstrxpurez.html'><span itemprop='name'>xstrxpurez</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-09-11T01:16:10Z'>
            <time itemprop='dateModified' datetime='2016-07-31T01:32:17Z' class='post-time'>
              July 31, 2016,  1:32am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>if u wana do that then search the jad minigame… take the waves from that and then see what you get… so make the final npc like something besides jad or w.e… or dont make a final npc just keep adding waves until everyone is dead… then when one player is left make them get teleported to the safe part and make it say blah blah is the winner</p>
      </div>

      <meta itemprop='headline' content='[REQ] - Adding Full Fight Caves - [REQ]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/req-adding-full-fight-caves-req/230117 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 06:50:41 GMT -->
</html>
