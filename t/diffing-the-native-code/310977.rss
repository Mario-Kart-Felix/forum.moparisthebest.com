<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Diff&#39;ing the native code?</title>
    <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977</link>
    <description>Would it be worth setting up some kind of automated diff on Jagex&#39;s native code somewhere, similar to the various client trackers that people have running at the moment? Obviously a straight diff isn&#39;t much use, and I don&#39;t know of any decent analysis tools that could be used, but it seems like something we should be doing.

The best idea I can come up with at the moment is disassembling and text-diff&#39;ing that, or maybe some kind of automated REC output, but maybe someone has a better suggestion?

My thinking is that if I were Jagex, and I had jaggl.[dll/so] sitting there already, and a community of people who are largely not assembler-familiar trying to hack my game, it might be tempting to slip some nasty stuff in there without anyone really noticing. The occasional skim over the obvious things like the import table is not really going to cut it on preventing this, since they already import enough stuff in jaggl to play some tricks on us.

Just a thought.</description>
    
    <lastBuildDate>Wed, 28 Oct 2009 02:26:49 +0000</lastBuildDate>
    <category>Community Inside Talk</category>
    <atom:link href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="12" data-topic="310977">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/bash/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> BAsh:</div>
<blockquote>
<p>Just identify the version class and from that you have the names and hashes of everything you need. Just use http. There is no point in doing anything more fancy. If the parsing fails then try downloading the files that were there before and at the same time notify someone to have a look at it. Use the hash to reduce bandwidth.</p>
</blockquote>
</aside>
<p>Exactly what my script does, with the exception of if the parsing fails it just fails.  (but it shouldn’t)</p>
<p>As frank_ pointed out though, it still doesn’t get you the cache, for that they don’t use HTTP.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/13</link>
        <pubDate>Wed, 28 Oct 2009 02:26:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-13</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@BAsh BAsh]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bash">@BAsh</a> wrote:</p>
          <blockquote>
              <p>Just identify the version class and from that you have the names and hashes of everything you need. Just use http. There is no point in doing anything more fancy. If the parsing fails then try downloading the files that were there before and at the same time notify someone to have a look at it. Use the hash to reduce bandwidth.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/12</link>
        <pubDate>Wed, 28 Oct 2009 02:21:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-12</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <p>It would be a great idea to download the data, just painful as you said.  Write the code to do it and I’ll host it for the public. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/11</link>
        <pubDate>Wed, 28 Oct 2009 02:12:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-11</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@frank frank_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/frank">@frank</a> wrote:</p>
          <blockquote>
              <p>well the main reason i would do it like this is because if they change anything (for example no longer using http), it wont be affected</p>
<p>wouldnt it be a good idea to download the data too?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/10</link>
        <pubDate>Wed, 28 Oct 2009 02:00:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-10</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <p>[quote=“frank_, post:8, topic:310977”]i started writing an updater for the loader to steal their code that downloads the files, but i couldnt think of a decent way to structure it</p>
<p>if anyone else wants to do it, the way mine as going to work was as follows:</p>
<ul>
<li>identify the “versioning” class, the one that contains the info for the libs</li>
<li>identify the “libinfo” class, the one that contains the local filename, remote filename, loading strings, hash, etc</li>
<li>identify the methods that download the libraries</li>
<li>remove/inline the opaque predicate, remove the exception tracing from above methods</li>
<li>insert these methods into a generated class</li>
<li>load these classes in a classloader and run it</li>
</ul>
<p>basically how a bot should work, but i probably wont be bothered to have another go at it unless someone wants to motivate me[/quote]</p>
<p>Instead of just grabbing them over HTTP from the servers?  Unless you want to get something else that won’t allow you to do that, but as far as I know that is only the cache files.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/9</link>
        <pubDate>Wed, 28 Oct 2009 01:57:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-9</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@frank frank_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/frank">@frank</a> wrote:</p>
          <blockquote>
              <p>i started writing an updater for the loader to steal their code that downloads the files, but i couldnt think of a decent way to structure it</p>
<p>if anyone else wants to do it, the way mine as going to work was as follows:</p>
<ul>
<li>identify the “versioning” class, the one that contains the info for the libs</li>
<li>identify the “libinfo” class, the one that contains the local filename, remote filename, loading strings, hash, etc</li>
<li>identify the methods that download the libraries</li>
<li>remove/inline the opaque predicate, remove the exception tracing from above methods</li>
<li>insert these methods into a generated class</li>
<li>load these classes in a classloader and run it</li>
</ul>
<p>basically how a bot should work, but i probably wont be bothered to have another go at it unless someone wants to motivate me</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/8</link>
        <pubDate>Wed, 28 Oct 2009 01:35:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-8</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <p>Alright, I’ve painstakingly updated my script:<br>
<a href="http://www.moparisthebest.com/rs/getRS.sh" class="onebox" target="_blank">http://www.moparisthebest.com/rs/getRS.sh</a><br>
(offtopic: with all this extra code lately, I really need some more documentation and better structure, I’ll probably do it soon)</p>
<p>Now when the loader is updated, I grab the file names from it and download them in their original forms to this folder:<br>
<a href="http://www.moparisthebest.com/rs/native_bins/" class="onebox" target="_blank">http://www.moparisthebest.com/rs/native_bins/</a></p>
<p>Any comments on how I do it?  The problem is the file names are hard coded and, while I don’t think they will ever change them, they may add more so if you guys see more added let me know right away so I can update the code.</p>
<p>Meanwhile, if anyone comes up with fancy ideas on how to diff the code, I can implement that too, the important thing is that the files are saved so they can be compared in the future.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/7</link>
        <pubDate>Wed, 28 Oct 2009 01:14:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-7</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@ownagesbot ownagesbot]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ownagesbot">@ownagesbot</a> wrote:</p>
          <blockquote>
              <p>It’s a good idea, unfortunately I doubt anyone will pull it off.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/6</link>
        <pubDate>Tue, 27 Oct 2009 14:24:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-6</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@BAsh BAsh]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bash">@BAsh</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="4" data-topic="310977">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/user_avatar/forum.moparisthebest.com/moparisthebest/40/30_1.png" class="avatar"> Moparisthebest:</div>
<blockquote>
<p>If you guys decide on a decent way to do this, I have no problem running it on this server for the public.</p>
</blockquote>
</aside>
<p>There is a class in the loader that has all the hashes in it. If it differs then download. I’ve no idea how to disassemble the code so a simple hash style update checker should be sufficient until someone writes one.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/5</link>
        <pubDate>Tue, 27 Oct 2009 03:34:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-5</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@moparisthebest Moparisthebest]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/moparisthebest">@moparisthebest</a> wrote:</p>
          <blockquote>
              <p>If you guys decide on a decent way to do this, I have no problem running it on this server for the public.</p>
<p>I don’t see what would be wrong with mopman’s original idea of disassembling the code and running a diff on that.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/4</link>
        <pubDate>Tue, 27 Oct 2009 03:05:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-4</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@BAsh BAsh]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bash">@BAsh</a> wrote:</p>
          <blockquote>
              <p>Either way we need an update page similar to <a href="http://mitb.com/rs/" rel="nofollow noopener">mitb.com/rs/</a>.</p>
<p>Lol BinDiff is written in java. Start your deobers.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/3</link>
        <pubDate>Tue, 27 Oct 2009 02:44:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-3</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@Unhandled Unhandled]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/unhandled">@Unhandled</a> wrote:</p>
          <blockquote>
              <p>I remember looking at <a href="http://www.zynamics.com/bindiff.html" data-bbcode="true" rel="nofollow noopener">this</a> a while back for something similar. Dunno if there are any pirated copies floating around, but it’s certainly worth pursuing.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/2</link>
        <pubDate>Tue, 27 Oct 2009 02:27:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-2</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
      <item>
        <title>Diff&#39;ing the native code?</title>
        <dc:creator><![CDATA[@Mopman Mopman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mopman">@Mopman</a> wrote:</p>
          <blockquote>
              <p>Would it be worth setting up some kind of automated diff on Jagex’s native code somewhere, similar to the various client trackers that people have running at the moment? Obviously a straight diff isn’t much use, and I don’t know of any decent analysis tools that could be used, but it seems like something we should be doing.</p>
<p>The best idea I can come up with at the moment is disassembling and text-diff’ing that, or maybe some kind of automated REC output, but maybe someone has a better suggestion?</p>
<p>My thinking is that if I were Jagex, and I had jaggl.[dll/so] sitting there already, and a community of people who are largely not assembler-familiar trying to hack my game, it might be tempting to slip some nasty stuff in there without anyone really noticing. The occasional skim over the obvious things like the import table is not really going to cut it on preventing this, since they already import enough stuff in jaggl to play some tricks on us.</p>
<p>Just a thought.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/diffing-the-native-code/310977/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/diffing-the-native-code/310977/1</link>
        <pubDate>Tue, 27 Oct 2009 02:20:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-310977-1</guid>
        <source url="https://forum.moparisthebest.com/t/diffing-the-native-code/310977.rss">Diff&#39;ing the native code?</source>
      </item>
  </channel>
</rss>
