<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Tyb97&#39;s Quest System</title>
    <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555</link>
    <description>I have been working on this system for a few days now, and while it could use some work, I will go ahead and release it, so lets get started.

1. If you are a eclipse/netbeans user:
    Go into your src folder, click on the server.model.players package, and make a new package named, &quot;server.model.players.quests&quot;

2. If you do not use eclipse or any IDE, go into your server.model.players package, and make a folder called, &quot;quests&quot;.

[s]                                                                                                                                                                                        [/s]

For this tut, I have made the quest system, and one quest named, &quot;The cooks quest&quot;, now go into your quests package, and make a java file named, &quot;QuestHandler&quot;, and then import this.

[code=java]
package server.model.players.quests;

import server.model.players.Client;

public class QuestHandler {

	/**
	 * 
	 * @Author Tyler(Tyb97)
	 * 
	 * @version 1.0
	 * 
	 */
	
	private Client c;
	public boolean doingQuest = false;
	public int whatQuest = -1;
	
	/*Start of the Quest ID&#39;s*/
	public int Cooks = 1;
	/*End of Quest ID&#39;s*/
	
	public QuestHandler(Client c){
		this.c = c;
	}
	
	private CooksQuest cooksQuest = new CooksQuest();
	
	public CooksQuest getCook() {
		return cooksQuest;
	}
}

[/code]
It is only handling one quest atm, so it is not much. The way it works is, you give your quest an ID, and that will be used in playersaves, and all that good stuff.

[s]                                                                                                                                                                                        [/s]

Now to get your server set up for the QuestHandler, go into your client.java, and search
[code]
	private Food food = new Food(this);
[/code]
Under that, put
[code]
	private QuestHandler questHandler = new QuestHandler(this);
[/code]
Now you have made the QuestHandler an object, 
now search for,
[code]
	public Food getFood() {
		return food;
	}
[/code]

And under  that put
[code]
	public QuestHandler getQH() {
		return questHandler;
	}
[/code]
Also, don&#39;t forget to import
server.model.players.quests.QuestHandler;
[s]                                                                                                                                                                                        [/s]
Now that the QuestHandler is set up, make another java file named &quot;CooksQuest&quot; And add this to it,
[code=java]
package server.model.players.quests;

import server.model.players.Client;


public class CooksQuest {
	
	/**
	 * 
	 * @author Tyler (tyb97)
	 * 
	 * @Version 1.5
	 * 
	 * 
	 */
	
	public int Flour = 1933;
	public int Water = 1937;
	public int Cheese = 1985;
	public int Meat = 2132;
	
	
	public CooksQuest() {
		/*
		 * 
		 * Constructor
		 * 
		 */
	}
	
	public boolean isQuesting(Client c) {
		if (c.getQH().doingQuest == true) {
			if (c.getQH().whatQuest == 1) {
				return true;
			}
		}
		return false;
	}
	
	
	
	public boolean hasAllItems(Client c) {
		if (c.getItems().playerHasItem(Flour, 1)) {
			if (c.getItems().playerHasItem(Water, 1)) {
				if (c.getItems().playerHasItem(Cheese, 1)) {
					if (c.getItems().playerHasItem(Meat, 1)) {
						return true;
					}
				}
			}
			
		}
		return false;
	}

	public void giveRewards(Client c) {
		if (hasAllItems(c)) {
			c.getItems().addItem(2327, 1);
			c.getItems().addItem(995, 500000);
			c.getItems().deleteItem(Flour, 1);
			c.getItems().deleteItem(Water, 1);
			c.getItems().deleteItem(Cheese, 1);
			c.getItems().deleteItem(Meat, 1);
			c.getDH().sendDialogues(44 , 278);
			c.getQH().doingQuest = false;
			c.getQH().whatQuest = -1;
		} else if (!hasAllItems(c)) {
			c.sendMessage(&quot;You have not gotten the items yet!&quot;);
			c.getDH().sendDialogues(45, 278);
		}
	}
	
	

}
[/code]
Now its time to edit your DialougeHandler.java, ActionHandler.java, and ClickingButtons.java.

In DialougeHandler add these in the switch statement

[code=java]
		case 34:
			sendPlayerChat1(&quot;How are you doing today sir?&quot;);
			c.nextChat = 35;
			break;
		case 35:
			sendNpcChat1(&quot;Not very well...&quot;, 278, &quot;Cook&quot;);
			c.nextChat = 36;
			break;
		case 36:
			sendPlayerChat1(&quot;Whats the matter?&quot;);
			c.nextChat = 37;
			break;
		case 37:
			sendNpcChat4(&quot;Well the issue is I have a baking tournment today,&quot;, &quot;But I don&#39;t have any ingredients for my recipe..&quot;, 
										&quot;This is my first ever competition I have ever been in..&quot;, &quot;But I&#39;m gonna fail now.&quot;, 278, &quot;Cook&quot;);
			c.nextChat = 38;
			break;
		case 38:
			sendPlayerChat1(&quot;Is there any way I can help?&quot;);
			c.nextChat = 39;
			break;
		case 39:
			sendNpcChat1(&quot;Could you please get me the ingredients I need?&quot;, 278, &quot;Cook&quot;);
			c.nextChat = 40;
			break;
		case 40:
			sendOption2(&quot;Yes of course!&quot;, &quot;No way!&quot;);
			c.dialogueAction = 50;
			break;
		case 41:
			sendNpcChat1(&quot;I&#39;m sorry to hear that... Good bye then.&quot;, 278, &quot;Cook&quot;);
			c.nextChat = -1;
			break;
		case 42:
			sendNpcChat4(&quot;Thats great! Here are the ingredients I need!&quot;, &quot;First I will need flour and a jug of water,&quot;, 
					&quot;Then I will need one tomato and one slice of cheese,&quot;, &quot;And then some raw beef will do it!&quot;,
					278, &quot;Cook&quot;);
			c.nextChat = 43;
			break;
		case 43:
			sendPlayerChat1(&quot;Ok, ill get right on it!&quot;);
			c.nextChat = -1;
			break;
		case 44:
			sendNpcChat4(&quot;You have found all the items!&quot;,&quot;Good job!&quot;, &quot;Here is you reward!&quot;,
					&quot;&quot;, 278, &quot;Cook&quot;);
			c.nextChat = -1;
			break;
		case 45:
			sendNpcChat1(&quot;Your missing some items, go find them!&quot;, 278, &quot;Cook&quot;);
			c.nextChat = -1;
			break;
		}
	}
[/code]
You may have to adjust some for it to work with your DH, Now go to ActionHandler.java, and search for

firstClickNpc

Somewhere in that void, add this
[code]
			case 278:
				if (c.getQH().doingQuest == false &amp;&amp; 
						c.getQH().whatQuest == -1) {
						c.getDH().sendDialogues(34, 278);
				} else if (c.getQH().doingQuest == true &amp;&amp;
						c.getQH().whatQuest == 1) {
						c.getQH().getCook().giveRewards(c);
				}
					break;
[/code]

Now go to ClickingButtons, and add search for

case 9157:

and add this in their,

[code]
				} else if (c.dialogueAction == 50){
					c.getDH().sendDialogues(42, 278);
					c.getQH().doingQuest = true;
					c.getQH().whatQuest = 1;
				}
[/code]
NOTE: YOU MAY HAVE SOME ISSUES WITH COPY &amp; PASTING, JUST EDIT TO FIX YOURSELF, NOT THAT HARD!

Now search for 
case 9158:

And add this in their:
[code]
				} else if(c.dialogueAction == 50) {
					c.getDH().sendDialogues(41, 278);
				}
[/code]
Still may have to adjust for it to work with your setup..

Now last but not least spawn your cook,

[code]
spawn =	278	3093	3493	0	0	0	0	0	Cook
[/code]
^This is in the Edgeville bank.

Oops. I forgot to show you how to do playersaves, no worries, go to your playersave.java and search for
[code]
			characterfile.write(&quot;fightMode = &quot;, 0, 12);
			characterfile.write(Integer.toString(p.fightMode), 0, Integer.toString(p.fightMode).length());
			characterfile.newLine();
[/code]
Under that add,
[code]
			characterfile.write(&quot;doingQuest = &quot;, 0, 13);
			characterfile.write(Boolean.toString(p.getQH().doingQuest), 0, Boolean.toString(p.getQH().doingQuest).length());
			characterfile.newLine();
			characterfile.write(&quot;whatQuest = &quot;, 0, 12);
			characterfile.write(Integer.toString(p.getQH().whatQuest), 0, Integer.toString(p.getQH().whatQuest).length());
			characterfile.newLine();
[/code]

Now search for,
[code]
					} else if (token.equals(&quot;wave&quot;)) {
						p.waveId = Integer.parseInt(token2);
[/code]


And under that add:
[code]
					} else if (token.equals(&quot;doingQuest&quot;)) {
						p.getQH().doingQuest = Boolean.parseBoolean(token2);
					} else if (token.equals(&quot;whatQuest&quot;)) {
						p.getQH().whatQuest = Integer.parseInt(token2);
[/code]

That  should be all, if you have an questions, or comments, let me know, if you wish to improve this, please do, this could be a very good system if it is, I would wish to see many quests made with this system :P Thanks for reading.</description>
    
    <lastBuildDate>Tue, 15 Nov 2011 00:02:18 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>I see how it is.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/20</link>
        <pubDate>Tue, 15 Nov 2011 00:02:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-20</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@Advocatus Advocatus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/advocatus">@Advocatus</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="16" data-topic="421555">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>You should use mine <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> And fix it up, then re-release.</p>
</blockquote>
</aside>
<p>Nty.</p>
<p>I’ll make my own.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/19</link>
        <pubDate>Mon, 14 Nov 2011 23:58:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-19</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>[quote=“Davidi2, post:17, topic:421555”]If you learn conventions, you wont need to sit down one day and fix it because you’ll automatically use them correctly.</p>
<p>Also, your quest handler is pretty pointless. It’s basically just a container for your quest instances, which there is no reason to have. If you use it to hold/handle other things it could be useful, but the way you have it written right now you may as well just make the quest classes static.[/quote]<br>
The quest handler… yeah Ik… I realize that I have int CooksQuest = 1; And then that is never referenced… but I’m pretty much moving away from PI, going to Hyperion… much better.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/18</link>
        <pubDate>Mon, 14 Nov 2011 23:54:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-18</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>If you learn conventions, you wont need to sit down one day and fix it because you’ll automatically use them correctly.</p>
<p>Also, your quest handler is pretty pointless. It’s basically just a container for your quest instances, which there is no reason to have. If you use it to hold/handle other things it could be useful, but the way you have it written right now you may as well just make the quest classes static.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/17</link>
        <pubDate>Mon, 14 Nov 2011 23:42:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-17</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>You should use mine <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> And fix it up, then re-release.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/16</link>
        <pubDate>Mon, 14 Nov 2011 23:42:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-16</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@Advocatus Advocatus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/advocatus">@Advocatus</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="14" data-topic="421555">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>^Lol I apologize for my flaming, I know this isn’t very good, I just haven’t found a quest system that is out, so I made one <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
</blockquote>
</aside>
<p>Its ok, but I need to write a quest system eventually, sooo <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/15</link>
        <pubDate>Mon, 14 Nov 2011 23:38:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-15</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>^Lol I apologize for my flaming, I know this isn’t very good, I just haven’t found a quest system that is out, so I made one <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/14</link>
        <pubDate>Mon, 14 Nov 2011 23:34:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-14</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@Advocatus Advocatus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/advocatus">@Advocatus</a> wrote:</p>
          <blockquote>
              <p>[quote=“tyb97, post:12, topic:421555”][quote author=Advocatus link=topic=524212.msg3814654#msg3814654 date=1321217782]<br>
Sucks horribly. You realizing that you are instancing the quest and also the quest handler per player right? Why wouldnt you just make a static Quest Manager, and have an interface and have the quests implement it. You could even instance a class for the current quest status if you really wanted then<br>
[/quote]<br>
Do you care to re-do it then? I have never seen any of your work. If your think its that bad. Good for you.[/quote]<br>
Ill do it when I get time, won’t be written for PI though.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/13</link>
        <pubDate>Mon, 14 Nov 2011 23:31:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-13</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="11" data-topic="421555">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/advocatus/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Advocatus:</div>
<blockquote>
<p>Sucks horribly. You realizing that you are instancing the quest and also the quest handler per player right? Why wouldnt you just make a static Quest Manager, and have an interface and have the quests implement it. You could even instance a class for the current quest status if you really wanted then</p>
</blockquote>
</aside>
<p>Do you care to re-do it then? I have never seen any of your work. If your think its that bad. Good for you.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/12</link>
        <pubDate>Sun, 13 Nov 2011 21:04:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-12</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@Advocatus Advocatus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/advocatus">@Advocatus</a> wrote:</p>
          <blockquote>
              <p>Sucks horribly. You realizing that you are instancing the quest and also the quest handler per player right? Why wouldnt you just make a static Quest Manager, and have an interface and have the quests implement it. You could even instance a class for the current quest status if you really wanted then</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/11</link>
        <pubDate>Sun, 13 Nov 2011 20:56:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-11</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@Native1 Native^]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/native1">@Native1</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="8" data-topic="421555">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>^Yeah I know, Ive seen it both ways tho, and btw bro love your sig. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p><img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/10</link>
        <pubDate>Sun, 13 Nov 2011 20:41:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-10</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@pk2play pk2play]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pk2play">@pk2play</a> wrote:</p>
          <blockquote>
              <p>Nice system might use it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/9</link>
        <pubDate>Sun, 13 Nov 2011 20:24:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-9</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>^Yeah I know, Ive seen it both ways tho, and btw bro love your sig. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/8</link>
        <pubDate>Sun, 13 Nov 2011 20:10:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-8</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@Native1 Native^]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/native1">@Native1</a> wrote:</p>
          <blockquote>
              <p>Nice I guess, but the javadoc should be above the class’s name <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/7</link>
        <pubDate>Sun, 13 Nov 2011 20:10:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-7</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="5" data-topic="421555">
<div class="title">
<div class="quote-controls"></div>
 3lv3n snip3r:</div>
<blockquote>
<p>Pretty good, might use it to make some quests of my own. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>Thanks <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> That’s why I made it, so we can have quests, I love quests.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/6</link>
        <pubDate>Sun, 13 Nov 2011 20:05:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-6</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@3lv3n_snip3r 3lv3n snip3r]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/3lv3n_snip3r">@3lv3n_snip3r</a> wrote:</p>
          <blockquote>
              <p>Pretty good, might use it to make some quests of my own. <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/5</link>
        <pubDate>Sun, 13 Nov 2011 20:02:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-5</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="3" data-topic="421555">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/riipiinftw/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> RiiPiiNFtW:</div>
<blockquote>
<p>Eh. Your conventions could use some work. Not bad though altogether. Nice relesed and contriubtion to the server.</p>
</blockquote>
</aside>
<p>I know about my conventions, Imma sit down one day and work on them, I just wanted to have a nice system for quests in the community, since a lot of servers lack of them.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/4</link>
        <pubDate>Sun, 13 Nov 2011 19:53:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-4</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@RiiPiiNFtW RiiPiiNFtW]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/riipiinftw">@RiiPiiNFtW</a> wrote:</p>
          <blockquote>
              <p>Eh. Your conventions could use some work. Not bad though altogether. Nice relesed and contriubtion to the server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/3</link>
        <pubDate>Sun, 13 Nov 2011 19:48:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-3</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@baddy351 baddy351]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/baddy351">@baddy351</a> wrote:</p>
          <blockquote>
              <p>Not bad. Thanks for releasing this to the community.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/2</link>
        <pubDate>Sun, 13 Nov 2011 19:42:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-2</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
      <item>
        <title>Tyb97&#39;s Quest System</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>I have been working on this system for a few days now, and while it could use some work, I will go ahead and release it, so lets get started.</p>
<ol>
<li>
<p>If you are a eclipse/netbeans user:<br>
Go into your src folder, click on the server.model.players package, and make a new package named, “server.model.players.quests”</p>
</li>
<li>
<p>If you do not use eclipse or any IDE, go into your server.model.players package, and make a folder called, “quests”.</p>
</li>
</ol>
<p><span class="bbcode-s">                                                                                                                                                                                        </span></p>
<p>For this tut, I have made the quest system, and one quest named, “The cooks quest”, now go into your quests package, and make a java file named, “QuestHandler”, and then import this.</p>
<pre><code class="lang-auto">package server.model.players.quests;

import server.model.players.Client;

public class QuestHandler {

	/**
	 * 
	 * @Author Tyler(Tyb97)
	 * 
	 * @version 1.0
	 * 
	 */
	
	private Client c;
	public boolean doingQuest = false;
	public int whatQuest = -1;
	
	/*Start of the Quest ID's*/
	public int Cooks = 1;
	/*End of Quest ID's*/
	
	public QuestHandler(Client c){
		this.c = c;
	}
	
	private CooksQuest cooksQuest = new CooksQuest();
	
	public CooksQuest getCook() {
		return cooksQuest;
	}
}
</code></pre>
<p>It is only handling one quest atm, so it is not much. The way it works is, you give your quest an ID, and that will be used in playersaves, and all that good stuff.</p>
<p><span class="bbcode-s">                                                                                                                                                                                        </span></p>
<p>Now to get your server set up for the QuestHandler, go into your client.java, and search</p>
<pre><code class="lang-auto">	private Food food = new Food(this);</code></pre>
<p>Under that, put</p>
<pre><code class="lang-auto">	private QuestHandler questHandler = new QuestHandler(this);</code></pre>
<p>Now you have made the QuestHandler an object,<br>
now search for,</p>
<pre><code class="lang-auto">	public Food getFood() {
		return food;
	}</code></pre>
<p>And under  that put</p>
<pre><code class="lang-auto">	public QuestHandler getQH() {
		return questHandler;
	}</code></pre>
<p>Also, don’t forget to import<br>
server.model.players.quests.QuestHandler;<br>
<span class="bbcode-s">                                                                                                                                                                                        </span><br>
Now that the QuestHandler is set up, make another java file named “CooksQuest” And add this to it,</p>
<pre><code class="lang-auto">package server.model.players.quests;

import server.model.players.Client;


public class CooksQuest {
	
	/**
	 * 
	 * @author Tyler (tyb97)
	 * 
	 * @Version 1.5
	 * 
	 * 
	 */
	
	public int Flour = 1933;
	public int Water = 1937;
	public int Cheese = 1985;
	public int Meat = 2132;
	
	
	public CooksQuest() {
		/*
		 * 
		 * Constructor
		 * 
		 */
	}
	
	public boolean isQuesting(Client c) {
		if (c.getQH().doingQuest == true) {
			if (c.getQH().whatQuest == 1) {
				return true;
			}
		}
		return false;
	}
	
	
	
	public boolean hasAllItems(Client c) {
		if (c.getItems().playerHasItem(Flour, 1)) {
			if (c.getItems().playerHasItem(Water, 1)) {
				if (c.getItems().playerHasItem(Cheese, 1)) {
					if (c.getItems().playerHasItem(Meat, 1)) {
						return true;
					}
				}
			}
			
		}
		return false;
	}

	public void giveRewards(Client c) {
		if (hasAllItems(c)) {
			c.getItems().addItem(2327, 1);
			c.getItems().addItem(995, 500000);
			c.getItems().deleteItem(Flour, 1);
			c.getItems().deleteItem(Water, 1);
			c.getItems().deleteItem(Cheese, 1);
			c.getItems().deleteItem(Meat, 1);
			c.getDH().sendDialogues(44 , 278);
			c.getQH().doingQuest = false;
			c.getQH().whatQuest = -1;
		} else if (!hasAllItems(c)) {
			c.sendMessage("You have not gotten the items yet!");
			c.getDH().sendDialogues(45, 278);
		}
	}
	
	

}</code></pre>
<p>Now its time to edit your DialougeHandler.java, ActionHandler.java, and ClickingButtons.java.</p>
<p>In DialougeHandler add these in the switch statement</p>
<pre><code class="lang-auto">		case 34:
			sendPlayerChat1("How are you doing today sir?");
			c.nextChat = 35;
			break;
		case 35:
			sendNpcChat1("Not very well...", 278, "Cook");
			c.nextChat = 36;
			break;
		case 36:
			sendPlayerChat1("Whats the matter?");
			c.nextChat = 37;
			break;
		case 37:
			sendNpcChat4("Well the issue is I have a baking tournment today,", "But I don't have any ingredients for my recipe..", 
										"This is my first ever competition I have ever been in..", "But I'm gonna fail now.", 278, "Cook");
			c.nextChat = 38;
			break;
		case 38:
			sendPlayerChat1("Is there any way I can help?");
			c.nextChat = 39;
			break;
		case 39:
			sendNpcChat1("Could you please get me the ingredients I need?", 278, "Cook");
			c.nextChat = 40;
			break;
		case 40:
			sendOption2("Yes of course!", "No way!");
			c.dialogueAction = 50;
			break;
		case 41:
			sendNpcChat1("I'm sorry to hear that... Good bye then.", 278, "Cook");
			c.nextChat = -1;
			break;
		case 42:
			sendNpcChat4("Thats great! Here are the ingredients I need!", "First I will need flour and a jug of water,", 
					"Then I will need one tomato and one slice of cheese,", "And then some raw beef will do it!",
					278, "Cook");
			c.nextChat = 43;
			break;
		case 43:
			sendPlayerChat1("Ok, ill get right on it!");
			c.nextChat = -1;
			break;
		case 44:
			sendNpcChat4("You have found all the items!","Good job!", "Here is you reward!",
					"", 278, "Cook");
			c.nextChat = -1;
			break;
		case 45:
			sendNpcChat1("Your missing some items, go find them!", 278, "Cook");
			c.nextChat = -1;
			break;
		}
	}</code></pre>
<p>You may have to adjust some for it to work with your DH, Now go to ActionHandler.java, and search for</p>
<p>firstClickNpc</p>
<p>Somewhere in that void, add this</p>
<pre><code class="lang-auto">			case 278:
				if (c.getQH().doingQuest == false &amp;&amp; 
						c.getQH().whatQuest == -1) {
						c.getDH().sendDialogues(34, 278);
				} else if (c.getQH().doingQuest == true &amp;&amp;
						c.getQH().whatQuest == 1) {
						c.getQH().getCook().giveRewards(c);
				}
					break;</code></pre>
<p>Now go to ClickingButtons, and add search for</p>
<p>case 9157:</p>
<p>and add this in their,</p>
<pre><code class="lang-auto">				} else if (c.dialogueAction == 50){
					c.getDH().sendDialogues(42, 278);
					c.getQH().doingQuest = true;
					c.getQH().whatQuest = 1;
				}</code></pre>
<p>NOTE: YOU MAY HAVE SOME ISSUES WITH COPY &amp; PASTING, JUST EDIT TO FIX YOURSELF, NOT THAT HARD!</p>
<p>Now search for<br>
case 9158:</p>
<p>And add this in their:</p>
<pre><code class="lang-auto">				} else if(c.dialogueAction == 50) {
					c.getDH().sendDialogues(41, 278);
				}</code></pre>
<p>Still may have to adjust for it to work with your setup…</p>
<p>Now last but not least spawn your cook,</p>
<pre><code class="lang-auto">spawn =	278	3093	3493	0	0	0	0	0	Cook</code></pre>
<p>^This is in the Edgeville bank.</p>
<p>Oops. I forgot to show you how to do playersaves, no worries, go to your playersave.java and search for</p>
<pre><code class="lang-auto">			characterfile.write("fightMode = ", 0, 12);
			characterfile.write(Integer.toString(p.fightMode), 0, Integer.toString(p.fightMode).length());
			characterfile.newLine();</code></pre>
<p>Under that add,</p>
<pre><code class="lang-auto">			characterfile.write("doingQuest = ", 0, 13);
			characterfile.write(Boolean.toString(p.getQH().doingQuest), 0, Boolean.toString(p.getQH().doingQuest).length());
			characterfile.newLine();
			characterfile.write("whatQuest = ", 0, 12);
			characterfile.write(Integer.toString(p.getQH().whatQuest), 0, Integer.toString(p.getQH().whatQuest).length());
			characterfile.newLine();</code></pre>
<p>Now search for,</p>
<pre><code class="lang-auto">					} else if (token.equals("wave")) {
						p.waveId = Integer.parseInt(token2);</code></pre>
<p>And under that add:</p>
<pre><code class="lang-auto">					} else if (token.equals("doingQuest")) {
						p.getQH().doingQuest = Boolean.parseBoolean(token2);
					} else if (token.equals("whatQuest")) {
						p.getQH().whatQuest = Integer.parseInt(token2);</code></pre>
<p>That  should be all, if you have an questions, or comments, let me know, if you wish to improve this, please do, this could be a very good system if it is, I would wish to see many quests made with this system <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> Thanks for reading.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/tyb97s-quest-system/421555/1</link>
        <pubDate>Sun, 13 Nov 2011 19:31:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-421555-1</guid>
        <source url="https://forum.moparisthebest.com/t/tyb97s-quest-system/421555.rss">Tyb97&#39;s Quest System</source>
      </item>
  </channel>
</rss>
