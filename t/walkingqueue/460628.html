<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/walkingqueue/460628 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 19:06:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>WalkingQueue - Runescape - moparisthebest.com</title>
    <meta name="description" content="Recently been working on the walking queue and getting to grips with it. 

My aim: Being able to make a character walk/run to a desired location on command. 

Syntax:  

 ::moveplayer (x) (y)
::moveplayer 3155 3170

I wa&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="460628.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;WalkingQueue&#39;" href="460628.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/walkingqueue/460628" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/walkingqueue/460628" />
<meta property="og:title" content="WalkingQueue" />
<meta name="twitter:title" content="WalkingQueue" />
<meta property="og:description" content="Recently been working on the walking queue and getting to grips with it.  My aim: Being able to make a character walk/run to a desired location on command.  Syntax: ::moveplayer (x) (y) ::moveplayer 3155 3170  I was told that I would need to place the entered coordinates into the players walking queue so that they would have their next destination.  I think I found the stuff that does this, although when I made it work how I want it, when the command is typed it says in the console [player] Inva..." />
<meta name="twitter:description" content="Recently been working on the walking queue and getting to grips with it.  My aim: Being able to make a character walk/run to a desired location on command.  Syntax: ::moveplayer (x) (y) ::moveplayer 3155 3170  I was told that I would need to place the entered coordinates into the players walking queue so that they would have their next destination.  I think I found the stuff that does this, although when I made it work how I want it, when the command is typed it says in the console [player] Inva..." />
<meta property="article:published_time" content="2012-09-19T17:55:57+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="460628.html">WalkingQueue</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T17:55:57Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:09Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Recently been working on the walking queue and getting to grips with it.</p>
<p><span class="bbcode-b">My aim</span>: Being able to make a character walk/run to a desired location on command.</p>
<p>Syntax: <code>::moveplayer (x) (y)
::moveplayer 3155 3170</code></p>
<p>I was told that I would need to place the entered coordinates into the players walking queue so that they would have their next destination.</p>
<p>I think I found the stuff that does this, although when I made it work how I want it, when the command is typed it says in the console [player] Invalid waypoint in walking queue.</p>
<p>Something here is causing the problem I believe</p>
<p><code>
	public int getNextWalkingDirection() {
		if(wQueueReadPtr == wQueueWritePtr) 
			return -1;		
		int dir;
		do {
			dir = Misc.direction(currentX, currentY, walkingQueueX[wQueueReadPtr], walkingQueueY[wQueueReadPtr]);
			if(dir == -1) {
				wQueueReadPtr = (wQueueReadPtr+1) % walkingQueueSize;
			} else if((dir&amp;1) != 0) {
				println_debug("Invalid waypoint in walking queue!");
				resetWalkingQueue();
				return -1;
			}
		} while((dir == -1) &amp;&amp; (wQueueReadPtr != wQueueWritePtr));
		if(dir == -1) return -1;
		dir &gt;&gt;= 1;
		currentX += Misc.directionDeltaX[dir];
		currentY += Misc.directionDeltaY[dir];
		absX += Misc.directionDeltaX[dir];
		absY += Misc.directionDeltaY[dir];
		return dir;
	}</code></p>
<p>I sort of have an idea it’s about the direction, but I thought I’d ask for a little guidance considering I don’t know much about this. What would I need to do in order to get this working?</p>
<p>Much appreciated</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/tyb97.html'><span itemprop='name'>tyb97</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T21:05:01Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:20Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Show me the command you’re using.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T21:10:49Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:20Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="2" data-topic="460628">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>Show me the command you’re using.</p>
</blockquote>
</aside>
<pre><code class="lang-auto">		if (playerCommand.startsWith("walkto")) {
				try {
						String[] walk = playerCommand.split(" ");
						if (walk[1].length() != 4 || walk[2].length() != 4) {
							c.sendMessage("Coordinate length must be four digits");
							return;
						}
						if (walk[1].startsWith("0") || walk[2].startsWith("0")) {
							c.sendMessage("Coordinates cannot start with 0");
							return;
						}
						if (!Pattern.matches("[0-9]+", walk[1]) || !Pattern.matches("[0-9]+", walk[2])) {
							c.sendMessage("Values must be numerical characters.");
							return;
						}
						c.addWalkQueue(Integer.parseInt(walk[1]), Integer.parseInt(walk[2]));
						//c.getNextDir(-1);
						c.sendMessage("Walking.");
						} catch (Exception e) {
						c.sendMessage("::walkto [X] [Y]. Values must be 4 digits.");
						}
					}</code></pre>
<pre><code class="lang-auto">	public void addWalkQueue(int x, int y) {
			int next = (wQueueWritePtr+1) % walkingQueueSize;
			if(next == wQueueWritePtr) return;		
			walkingQueueX[wQueueWritePtr] = x;
			walkingQueueY[wQueueWritePtr] = y;
			wQueueWritePtr = next; 
	}</code></pre>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T21:13:22Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:20Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>you do know you don’t have to use Pattern.matches() you can just use:</p>
<p>[tt]string[index].matches("[0-9+]")[/tt]</p>
<p>p.s: look at the getNextPlayerMovement()</p>
<p><code>
	    if (mapRegionDidChange) {
		currentX += deltaX;
		currentY += deltaY;
		for (int i = 0; i &lt; walkingQueueSize; i++) {
		    walkingQueueX[i] += deltaX;
		    walkingQueueY[i] += deltaY;
		}
	    }
</code> <img src="../../images/emoji/twitter/expressionlessae52.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T21:16:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:21Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“AtomicInt_, post:4, topic:460628”]you do know you don’t have to use Pattern.matches() you can just use:</p>
<p>[tt]string[index].matches("[0-9+]")[/tt][/quote]</p>
<p>Ah alright thanks, seems to still work in this case though.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T21:16:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:21Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Read my edit.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T21:58:55Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:25Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="460628">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>Read my edit.</p>
</blockquote>
</aside>
<p>I’ve messed around with it but I’m still getting the same. Am I still supposed to be using what I’ve got already in combination that? Because the walk queue needs to be set with specific coordinates.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T22:09:58Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:26Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Why isn’t anyone else using normal navigational techniques?</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T22:12:02Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:26Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="8" data-topic="460628">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/zyle1992/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> zyle1992:</div>
<blockquote>
<p>Why isn’t anyone else using normal navigational techniques?</p>
</blockquote>
</aside>
<p>What?</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T22:16:45Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:27Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“ohokay, post:9, topic:460628”][quote author=zyle1992 link=topic=563564.msg4106897#msg4106897 date=1348092598]<br>
Why isn’t anyone else using normal navigational techniques?<br>
[/quote]</p>
<p>What?[/quote]</p>
<p>Sorry, thought this was in the Discussion board.</p>
<p>Anyways, I think the problem is that the algorithm for determining the next location is limited to the current region (meaning, you can’t be at 3200, 3200, and be forced to walk to 4000, 4000).</p>
<p>Another thing that might be happening, is that since the locations are outside the regions, it doesn’t determine the appropriate locations, and directions to walk to.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-19T22:55:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:31Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“zyle1992, post:10, topic:460628”][quote author=ohokay link=topic=563564.msg4106902#msg4106902 date=1348092722]</p>
<aside class="quote">
<blockquote>
<p>Why isn’t anyone else using normal navigational techniques?</p>
</blockquote>
</aside>
<p>What?<br>
[/quote]</p>
<p>Sorry, thought this was in the Discussion board.</p>
<p>Anyways, I think the problem is that the algorithm for determining the next location is limited to the current region (meaning, you can’t be at 3200, 3200, and be forced to walk to 4000, 4000).</p>
<p>Another thing that might be happening, is that since the locations are outside the regions, it doesn’t determine the appropriate locations, and directions to walk to.[/quote]</p>
<p>So would this not be possible then?</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-20T00:06:22Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:34Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Possible, just not easy. You’d have to modify the algorithm a bit.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/The_Web_Guy.html'><span itemprop='name'>The_Web_Guy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-20T01:30:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:39Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This is off topic, somewhat…<br>
But why would you want to do this? I believe that is the real question here… Why not just teleport someone else to those coordinates instead of forcefully making them walk. And also, if you’re doing this and the user has no option, make sure they can’t click elsewhere and stop the process. In other words, disable clicking when the command is being performed.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-20T07:21:06Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:48Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“The Web Guy, post:13, topic:460628”]This is off topic, somewhat…<br>
But why would you want to do this? I believe that is the real question here… Why not just teleport someone else to those coordinates instead of forcefully making them walk. And also, if you’re doing this and the user has no option, make sure they can’t click elsewhere and stop the process. In other words, disable clicking when the command is being performed.[/quote]</p>
<p>That was one of my next steps, this really has no aim to it, I’m just trying to get a better understanding of how it works. Once I understand it, then it can be used for other things such as skilling etc, teleportToX is no fun.</p>
<aside class="quote quote-modified" data-post="12" data-topic="460628">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/zyle1992/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> zyle1992:</div>
<blockquote>
<p>Possible, just not easy. You’d have to modify the algorithm a bit.</p>
</blockquote>
</aside>
<p>I’ve just noticed what you said about the map being in regions etc and can’t be forced to walk long distances, but I haven’t tested long distances yet, it’s always been a maximum of like 3 squares just to see if the player will move and it doesn’t. Can you say which bit would need changing?</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-20T11:05:46Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:13:56Z' class='post-time'>
              August 4, 2016, 12:13am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[code=java]<br>
c.newWalkCmdSteps = 0;<br>
if (++c.newWalkCmdSteps &gt; 50) {<br>
c.newWalkCmdSteps = 0;<br>
}<br>
int newPointX = c.getX() + x;<br>
newPointX -= c.mapRegionX * 8;<br>
c.getNewWalkCmdX()[0] = c.getNewWalkCmdY()[0] = 0;<br>
int newPointY = c.getY() + y;<br>
newPointY -= c.mapRegionY * 8;</p>
<pre><code>for (int n = 0; n &lt; c.newWalkCmdSteps; n++) {
    c.getNewWalkCmdX()[n] += newPointX;
    c.getNewWalkCmdY()[n] += newPointY;
}[/code]
</code></pre>
<p>This allows you to walk to a certain point on the map.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-21T16:07:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:15:55Z' class='post-time'>
              August 4, 2016, 12:15am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“AtomicInt_, post:15, topic:460628”][code=java]<br>
c.newWalkCmdSteps = 0;<br>
if (++c.newWalkCmdSteps &gt; 50) {<br>
c.newWalkCmdSteps = 0;<br>
}<br>
int newPointX = c.getX() + x;<br>
newPointX -= c.mapRegionX * 8;<br>
c.getNewWalkCmdX()[0] = c.getNewWalkCmdY()[0] = 0;<br>
int newPointY = c.getY() + y;<br>
newPointY -= c.mapRegionY * 8;</p>
<pre><code>for (int n = 0; n &lt; c.newWalkCmdSteps; n++) {
    c.getNewWalkCmdX()[n] += newPointX;
    c.getNewWalkCmdY()[n] += newPointY;
}[/code]
</code></pre>
<p>This allows you to walk to a certain point on the map.[/quote]</p>
<p>I’ve been messing around with this. This is close to what I had originally where it gets your current location and the coordinates you add to it will advance your position, making it possible to move specific amounts of squares, however doesn’t move to desired coordinates. Example.<code>
::moveplayer 0001 0001</code><br>
Would be one step on X, and one step on Y, so one square northwest.<br>
With this, it will only allow to move if the coordinates are similar also, if they’re not the player doesn’t move and I get:</p>
<pre><code class="lang-auto">Fatal: Couldn't find connection vertex. Dropping packet.
Invalid waypoint in walking queue.</code></pre>
<p>Edit: ::moveplayer 0001 0000 does in fact move the player one square east, but anything above 1 and it does nothing unless the values are the same.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/tyb97.html'><span itemprop='name'>tyb97</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-21T21:14:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:15:58Z' class='post-time'>
              August 4, 2016, 12:15am
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Looks like your adding to the players current position. Not making that coordinate the next position.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-21T21:15:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:15:58Z' class='post-time'>
              August 4, 2016, 12:15am
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’ve been messing with the WalkingQueue in my ‘fuck around’ base, this works nicely.</p>
<p><code>
	player.walkingQueueSteps = (packetSize - 5) / 2;
	if (++player.walkingQueueSteps &gt; Constants.WALKING_QUEUE_SIZE) {
	    player.walkingQueueSteps = 0;
	    return;
	}
	Player.walkX[0] = Player.walkY[0] = 0;
	final int firstStepX = player.getInStream().readSignedWordBigEndianA() - player.mapRegionX * 8;
	for (int i = 1; i &lt; player.walkingQueueSteps; i++) {
	    Player.walkX[i] = player.getInStream().readSignedByte();
	    Player.walkY[i] = player.getInStream().readSignedByte();
	}
	final int firstStepY = player.getInStream().readSignedWordBigEndian() - player.mapRegionY * 8;
	player.isRunningDuringWalk = player.getInStream().readSignedByteC() == 1;
	for (int i = 0; i &lt; player.walkingQueueSteps; i++) {
	    Player.walkX[i] += firstStepX;
	    Player.walkY[i] += firstStepY;
	}</code></p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-09-23T14:37:44Z'>
            <time itemprop='dateModified' datetime='2016-08-04T00:18:42Z' class='post-time'>
              August 4, 2016, 12:18am
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="17" data-topic="460628">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>Looks like your adding to the players current position. Not making that coordinate the next position.</p>
</blockquote>
</aside>
<p>Yeah I noticed, changed it around and still no success.</p>
<p>[quote=“AtomicInt_, post:18, topic:460628”]I’ve been messing with the WalkingQueue in my ‘fuck around’ base, this works nicely.</p>
<p><code>
	player.walkingQueueSteps = (packetSize - 5) / 2;
	if (++player.walkingQueueSteps &gt; Constants.WALKING_QUEUE_SIZE) {
	    player.walkingQueueSteps = 0;
	    return;
	}
	Player.walkX[0] = Player.walkY[0] = 0;
	final int firstStepX = player.getInStream().readSignedWordBigEndianA() - player.mapRegionX * 8;
	for (int i = 1; i &lt; player.walkingQueueSteps; i++) {
	    Player.walkX[i] = player.getInStream().readSignedByte();
	    Player.walkY[i] = player.getInStream().readSignedByte();
	}
	final int firstStepY = player.getInStream().readSignedWordBigEndian() - player.mapRegionY * 8;
	player.isRunningDuringWalk = player.getInStream().readSignedByteC() == 1;
	for (int i = 0; i &lt; player.walkingQueueSteps; i++) {
	    Player.walkX[i] += firstStepX;
	    Player.walkY[i] += firstStepY;
	}</code>[/quote]</p>
<p>Something similar to this in my Walking class, still no success though.</p>
<p>I’m going to leave it at that for now because I have no clue. Thanks for the help anyway.</p>
      </div>

      <meta itemprop='headline' content='WalkingQueue'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/walkingqueue/460628 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 19:06:15 GMT -->
</html>
