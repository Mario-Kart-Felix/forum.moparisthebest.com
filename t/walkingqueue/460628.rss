<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>WalkingQueue</title>
    <link>https://forum.moparisthebest.com/t/walkingqueue/460628</link>
    <description>Recently been working on the walking queue and getting to grips with it.

[b]My aim[/b]: Being able to make a character walk/run to a desired location on command.

Syntax: [code]::moveplayer (x) (y)
::moveplayer 3155 3170[/code]

I was told that I would need to place the entered coordinates into the players walking queue so that they would have their next destination.

I think I found the stuff that does this, although when I made it work how I want it, when the command is typed it says in the console [player] Invalid waypoint in walking queue.

Something here is causing the problem I believe
[code]
	public int getNextWalkingDirection() {
		if(wQueueReadPtr == wQueueWritePtr) 
			return -1;		
		int dir;
		do {
			dir = Misc.direction(currentX, currentY, walkingQueueX[wQueueReadPtr], walkingQueueY[wQueueReadPtr]);
			if(dir == -1) {
				wQueueReadPtr = (wQueueReadPtr+1) % walkingQueueSize;
			} else if((dir&amp;1) != 0) {
				println_debug(&quot;Invalid waypoint in walking queue!&quot;);
				resetWalkingQueue();
				return -1;
			}
		} while((dir == -1) &amp;&amp; (wQueueReadPtr != wQueueWritePtr));
		if(dir == -1) return -1;
		dir &gt;&gt;= 1;
		currentX += Misc.directionDeltaX[dir];
		currentY += Misc.directionDeltaY[dir];
		absX += Misc.directionDeltaX[dir];
		absY += Misc.directionDeltaY[dir];
		return dir;
	}[/code]

I sort of have an idea it&#39;s about the direction, but I thought I&#39;d ask for a little guidance considering I don&#39;t know much about this. What would I need to do in order to get this working?

Much appreciated</description>
    
    <lastBuildDate>Sun, 23 Sep 2012 14:37:44 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/walkingqueue/460628.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ohokay ohokay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ohokay">@ohokay</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="17" data-topic="460628">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>Looks like your adding to the players current position. Not making that coordinate the next position.</p>
</blockquote>
</aside>
<p>Yeah I noticed, changed it around and still no success.</p>
<p>[quote=“AtomicInt_, post:18, topic:460628”]I’ve been messing with the WalkingQueue in my ‘fuck around’ base, this works nicely.</p>
<p><code>
	player.walkingQueueSteps = (packetSize - 5) / 2;
	if (++player.walkingQueueSteps &gt; Constants.WALKING_QUEUE_SIZE) {
	    player.walkingQueueSteps = 0;
	    return;
	}
	Player.walkX[0] = Player.walkY[0] = 0;
	final int firstStepX = player.getInStream().readSignedWordBigEndianA() - player.mapRegionX * 8;
	for (int i = 1; i &lt; player.walkingQueueSteps; i++) {
	    Player.walkX[i] = player.getInStream().readSignedByte();
	    Player.walkY[i] = player.getInStream().readSignedByte();
	}
	final int firstStepY = player.getInStream().readSignedWordBigEndian() - player.mapRegionY * 8;
	player.isRunningDuringWalk = player.getInStream().readSignedByteC() == 1;
	for (int i = 0; i &lt; player.walkingQueueSteps; i++) {
	    Player.walkX[i] += firstStepX;
	    Player.walkY[i] += firstStepY;
	}</code>[/quote]</p>
<p>Something similar to this in my Walking class, still no success though.</p>
<p>I’m going to leave it at that for now because I have no clue. Thanks for the help anyway.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/19</link>
        <pubDate>Sun, 23 Sep 2012 14:37:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-19</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>I’ve been messing with the WalkingQueue in my ‘fuck around’ base, this works nicely.</p>
<p><code>
	player.walkingQueueSteps = (packetSize - 5) / 2;
	if (++player.walkingQueueSteps &gt; Constants.WALKING_QUEUE_SIZE) {
	    player.walkingQueueSteps = 0;
	    return;
	}
	Player.walkX[0] = Player.walkY[0] = 0;
	final int firstStepX = player.getInStream().readSignedWordBigEndianA() - player.mapRegionX * 8;
	for (int i = 1; i &lt; player.walkingQueueSteps; i++) {
	    Player.walkX[i] = player.getInStream().readSignedByte();
	    Player.walkY[i] = player.getInStream().readSignedByte();
	}
	final int firstStepY = player.getInStream().readSignedWordBigEndian() - player.mapRegionY * 8;
	player.isRunningDuringWalk = player.getInStream().readSignedByteC() == 1;
	for (int i = 0; i &lt; player.walkingQueueSteps; i++) {
	    Player.walkX[i] += firstStepX;
	    Player.walkY[i] += firstStepY;
	}</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/18</link>
        <pubDate>Fri, 21 Sep 2012 21:15:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-18</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>Looks like your adding to the players current position. Not making that coordinate the next position.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/17</link>
        <pubDate>Fri, 21 Sep 2012 21:14:11 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-17</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ohokay ohokay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ohokay">@ohokay</a> wrote:</p>
          <blockquote>
              <p>[quote=“AtomicInt_, post:15, topic:460628”][code=java]<br>
c.newWalkCmdSteps = 0;<br>
if (++c.newWalkCmdSteps &gt; 50) {<br>
c.newWalkCmdSteps = 0;<br>
}<br>
int newPointX = c.getX() + x;<br>
newPointX -= c.mapRegionX * 8;<br>
c.getNewWalkCmdX()[0] = c.getNewWalkCmdY()[0] = 0;<br>
int newPointY = c.getY() + y;<br>
newPointY -= c.mapRegionY * 8;</p>
<pre><code>for (int n = 0; n &lt; c.newWalkCmdSteps; n++) {
    c.getNewWalkCmdX()[n] += newPointX;
    c.getNewWalkCmdY()[n] += newPointY;
}[/code]
</code></pre>
<p>This allows you to walk to a certain point on the map.[/quote]</p>
<p>I’ve been messing around with this. This is close to what I had originally where it gets your current location and the coordinates you add to it will advance your position, making it possible to move specific amounts of squares, however doesn’t move to desired coordinates. Example.<code>
::moveplayer 0001 0001</code><br>
Would be one step on X, and one step on Y, so one square northwest.<br>
With this, it will only allow to move if the coordinates are similar also, if they’re not the player doesn’t move and I get:</p>
<pre><code class="lang-auto">Fatal: Couldn't find connection vertex. Dropping packet.
Invalid waypoint in walking queue.</code></pre>
<p>Edit: ::moveplayer 0001 0000 does in fact move the player one square east, but anything above 1 and it does nothing unless the values are the same.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/16</link>
        <pubDate>Fri, 21 Sep 2012 16:07:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-16</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>[code=java]<br>
c.newWalkCmdSteps = 0;<br>
if (++c.newWalkCmdSteps &gt; 50) {<br>
c.newWalkCmdSteps = 0;<br>
}<br>
int newPointX = c.getX() + x;<br>
newPointX -= c.mapRegionX * 8;<br>
c.getNewWalkCmdX()[0] = c.getNewWalkCmdY()[0] = 0;<br>
int newPointY = c.getY() + y;<br>
newPointY -= c.mapRegionY * 8;</p>
<pre><code>for (int n = 0; n &lt; c.newWalkCmdSteps; n++) {
    c.getNewWalkCmdX()[n] += newPointX;
    c.getNewWalkCmdY()[n] += newPointY;
}[/code]
</code></pre>
<p>This allows you to walk to a certain point on the map.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/15</link>
        <pubDate>Thu, 20 Sep 2012 11:05:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-15</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ohokay ohokay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ohokay">@ohokay</a> wrote:</p>
          <blockquote>
              <p>[quote=“The Web Guy, post:13, topic:460628”]This is off topic, somewhat…<br>
But why would you want to do this? I believe that is the real question here… Why not just teleport someone else to those coordinates instead of forcefully making them walk. And also, if you’re doing this and the user has no option, make sure they can’t click elsewhere and stop the process. In other words, disable clicking when the command is being performed.[/quote]</p>
<p>That was one of my next steps, this really has no aim to it, I’m just trying to get a better understanding of how it works. Once I understand it, then it can be used for other things such as skilling etc, teleportToX is no fun.</p>
<aside class="quote quote-modified" data-post="12" data-topic="460628">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/zyle1992/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> zyle1992:</div>
<blockquote>
<p>Possible, just not easy. You’d have to modify the algorithm a bit.</p>
</blockquote>
</aside>
<p>I’ve just noticed what you said about the map being in regions etc and can’t be forced to walk long distances, but I haven’t tested long distances yet, it’s always been a maximum of like 3 squares just to see if the player will move and it doesn’t. Can you say which bit would need changing?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/14</link>
        <pubDate>Thu, 20 Sep 2012 07:21:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-14</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@The_Web_Guy The Web Guy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_web_guy">@The_Web_Guy</a> wrote:</p>
          <blockquote>
              <p>This is off topic, somewhat…<br>
But why would you want to do this? I believe that is the real question here… Why not just teleport someone else to those coordinates instead of forcefully making them walk. And also, if you’re doing this and the user has no option, make sure they can’t click elsewhere and stop the process. In other words, disable clicking when the command is being performed.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/13</link>
        <pubDate>Thu, 20 Sep 2012 01:30:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-13</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>Possible, just not easy. You’d have to modify the algorithm a bit.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/12</link>
        <pubDate>Thu, 20 Sep 2012 00:06:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-12</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ohokay ohokay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ohokay">@ohokay</a> wrote:</p>
          <blockquote>
              <p>[quote=“zyle1992, post:10, topic:460628”][quote author=ohokay link=topic=563564.msg4106902#msg4106902 date=1348092722]</p>
<aside class="quote">
<blockquote>
<p>Why isn’t anyone else using normal navigational techniques?</p>
</blockquote>
</aside>
<p>What?<br>
[/quote]</p>
<p>Sorry, thought this was in the Discussion board.</p>
<p>Anyways, I think the problem is that the algorithm for determining the next location is limited to the current region (meaning, you can’t be at 3200, 3200, and be forced to walk to 4000, 4000).</p>
<p>Another thing that might be happening, is that since the locations are outside the regions, it doesn’t determine the appropriate locations, and directions to walk to.[/quote]</p>
<p>So would this not be possible then?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/11</link>
        <pubDate>Wed, 19 Sep 2012 22:55:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-11</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>[quote=“ohokay, post:9, topic:460628”][quote author=zyle1992 link=topic=563564.msg4106897#msg4106897 date=1348092598]<br>
Why isn’t anyone else using normal navigational techniques?<br>
[/quote]</p>
<p>What?[/quote]</p>
<p>Sorry, thought this was in the Discussion board.</p>
<p>Anyways, I think the problem is that the algorithm for determining the next location is limited to the current region (meaning, you can’t be at 3200, 3200, and be forced to walk to 4000, 4000).</p>
<p>Another thing that might be happening, is that since the locations are outside the regions, it doesn’t determine the appropriate locations, and directions to walk to.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/10</link>
        <pubDate>Wed, 19 Sep 2012 22:16:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-10</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ohokay ohokay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ohokay">@ohokay</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="8" data-topic="460628">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/zyle1992/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> zyle1992:</div>
<blockquote>
<p>Why isn’t anyone else using normal navigational techniques?</p>
</blockquote>
</aside>
<p>What?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/9</link>
        <pubDate>Wed, 19 Sep 2012 22:12:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-9</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>Why isn’t anyone else using normal navigational techniques?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/8</link>
        <pubDate>Wed, 19 Sep 2012 22:09:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-8</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ohokay ohokay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ohokay">@ohokay</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="6" data-topic="460628">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>Read my edit.</p>
</blockquote>
</aside>
<p>I’ve messed around with it but I’m still getting the same. Am I still supposed to be using what I’ve got already in combination that? Because the walk queue needs to be set with specific coordinates.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/7</link>
        <pubDate>Wed, 19 Sep 2012 21:58:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-7</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>Read my edit.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/6</link>
        <pubDate>Wed, 19 Sep 2012 21:16:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-6</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ohokay ohokay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ohokay">@ohokay</a> wrote:</p>
          <blockquote>
              <p>[quote=“AtomicInt_, post:4, topic:460628”]you do know you don’t have to use Pattern.matches() you can just use:</p>
<p>[tt]string[index].matches("[0-9+]")[/tt][/quote]</p>
<p>Ah alright thanks, seems to still work in this case though.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/5</link>
        <pubDate>Wed, 19 Sep 2012 21:16:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-5</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>you do know you don’t have to use Pattern.matches() you can just use:</p>
<p>[tt]string[index].matches("[0-9+]")[/tt]</p>
<p>p.s: look at the getNextPlayerMovement()</p>
<p><code>
	    if (mapRegionDidChange) {
		currentX += deltaX;
		currentY += deltaY;
		for (int i = 0; i &lt; walkingQueueSize; i++) {
		    walkingQueueX[i] += deltaX;
		    walkingQueueY[i] += deltaY;
		}
	    }
</code> <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/4</link>
        <pubDate>Wed, 19 Sep 2012 21:13:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-4</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ohokay ohokay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ohokay">@ohokay</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="2" data-topic="460628">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/tyb97/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> tyb97:</div>
<blockquote>
<p>Show me the command you’re using.</p>
</blockquote>
</aside>
<pre><code class="lang-auto">		if (playerCommand.startsWith("walkto")) {
				try {
						String[] walk = playerCommand.split(" ");
						if (walk[1].length() != 4 || walk[2].length() != 4) {
							c.sendMessage("Coordinate length must be four digits");
							return;
						}
						if (walk[1].startsWith("0") || walk[2].startsWith("0")) {
							c.sendMessage("Coordinates cannot start with 0");
							return;
						}
						if (!Pattern.matches("[0-9]+", walk[1]) || !Pattern.matches("[0-9]+", walk[2])) {
							c.sendMessage("Values must be numerical characters.");
							return;
						}
						c.addWalkQueue(Integer.parseInt(walk[1]), Integer.parseInt(walk[2]));
						//c.getNextDir(-1);
						c.sendMessage("Walking.");
						} catch (Exception e) {
						c.sendMessage("::walkto [X] [Y]. Values must be 4 digits.");
						}
					}</code></pre>
<pre><code class="lang-auto">	public void addWalkQueue(int x, int y) {
			int next = (wQueueWritePtr+1) % walkingQueueSize;
			if(next == wQueueWritePtr) return;		
			walkingQueueX[wQueueWritePtr] = x;
			walkingQueueY[wQueueWritePtr] = y;
			wQueueWritePtr = next; 
	}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/3</link>
        <pubDate>Wed, 19 Sep 2012 21:10:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-3</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@tyb97 tyb97]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tyb97">@tyb97</a> wrote:</p>
          <blockquote>
              <p>Show me the command you’re using.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/2</link>
        <pubDate>Wed, 19 Sep 2012 21:05:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-2</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
      <item>
        <title>WalkingQueue</title>
        <dc:creator><![CDATA[@ohokay ohokay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ohokay">@ohokay</a> wrote:</p>
          <blockquote>
              <p>Recently been working on the walking queue and getting to grips with it.</p>
<p><span class="bbcode-b">My aim</span>: Being able to make a character walk/run to a desired location on command.</p>
<p>Syntax: <code>::moveplayer (x) (y)
::moveplayer 3155 3170</code></p>
<p>I was told that I would need to place the entered coordinates into the players walking queue so that they would have their next destination.</p>
<p>I think I found the stuff that does this, although when I made it work how I want it, when the command is typed it says in the console [player] Invalid waypoint in walking queue.</p>
<p>Something here is causing the problem I believe</p>
<p><code>
	public int getNextWalkingDirection() {
		if(wQueueReadPtr == wQueueWritePtr) 
			return -1;		
		int dir;
		do {
			dir = Misc.direction(currentX, currentY, walkingQueueX[wQueueReadPtr], walkingQueueY[wQueueReadPtr]);
			if(dir == -1) {
				wQueueReadPtr = (wQueueReadPtr+1) % walkingQueueSize;
			} else if((dir&amp;1) != 0) {
				println_debug("Invalid waypoint in walking queue!");
				resetWalkingQueue();
				return -1;
			}
		} while((dir == -1) &amp;&amp; (wQueueReadPtr != wQueueWritePtr));
		if(dir == -1) return -1;
		dir &gt;&gt;= 1;
		currentX += Misc.directionDeltaX[dir];
		currentY += Misc.directionDeltaY[dir];
		absX += Misc.directionDeltaX[dir];
		absY += Misc.directionDeltaY[dir];
		return dir;
	}</code></p>
<p>I sort of have an idea it’s about the direction, but I thought I’d ask for a little guidance considering I don’t know much about this. What would I need to do in order to get this working?</p>
<p>Much appreciated</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/walkingqueue/460628/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/walkingqueue/460628/1</link>
        <pubDate>Wed, 19 Sep 2012 17:55:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-460628-1</guid>
        <source url="https://forum.moparisthebest.com/t/walkingqueue/460628.rss">WalkingQueue</source>
      </item>
  </channel>
</rss>
