<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Duel Arena Rep+ for help</title>
    <link>https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252</link>
    <description>Hi there,

i&#39;ve recently been trying to fix my duel arena. What happens is when you win the duel your opponent gets teleported out and you stay in the arena. To combat this I made it so that when you win the duel you get teleported out. When you are teleported out though the player you killed then dies properly and goes to home and loses his items etc. I realise now this is because I was still not in the duel arena with the player that dies so the game thinks that he is just in another place of the game. Here is my applydead void. Hopefully you can help :)

[code]	public void applyDead() {	
		c.respawnTimer = 15;
		c.isDead = false;
		Client o = (Client) Server.playerHandler.players[c.killerId];

			if (c.duelStatus &lt;= 4) {
				c.sendMessage(&quot;Oh dear you are dead!&quot;);
			} else if (c.duelStatus != 6) {
				c.sendMessage(&quot;You have lost the duel!&quot;);
				o.getTradeAndDuel().duelVictory();
				c.getTradeAndDuel().resetDuel();
				c.getTradeAndDuel().resetDuelItems();
				o.getPA().movePlayer(
						Config.DUELING_RESPAWN_X
								+ (Misc.random(Config.RANDOM_DUELING_RESPAWN)),
						Config.DUELING_RESPAWN_Y
								+ (Misc.random(Config.RANDOM_DUELING_RESPAWN)), 0);

			}
}	
		
		if(c.duelStatus != 6) {
			//c.killerId = c.getCombat().getKillerId(c.playerId);
			c.killerId = findKiller();

			if(o != null) {
				if(!c.inPits) {
			}
				if(c.inWild()) {
				if (c.killerId != c.playerId) {
				o.auroraPoints += 30;
				o.Playerkills += 1;
				c.Playerdeaths += 1;
				o.sendMessage(&quot;You have defeated &quot;+c.playerName+&quot;. You&#39;ve been awarded 30 Aurora Points.&quot;);
				o.sendMessage(&quot;You now have &quot;+o.auroraPoints+&quot;.&quot;);
				c.playerKilled = c.playerId;
				if(o.duelStatus == 5) {
					o.duelStatus++;
				}
			}
		}
		}
	}
		c.faceUpdate(0);
		c.npcIndex = 0;
		c.playerIndex = 0;
		c.stopMovement();
		
		if (c.duelStatus &lt;= 4) {
           if (o != null) {
				if(c.inPits) {
				c.sendMessage(&quot;You have lost the battle in Pits.&quot;);
				c.pcPoints -= 1;
				}
                if (c.killerId != c.playerId &amp;&amp; c.inWild()) {
                    c.sendMessage(&quot;You died because @blu@&quot; + Misc.optimizeText(o.playerName) + &quot;@bla@ was too strong for you. You lost 10 Aurora Points&quot;);
                    c.auroraPoints -= 10;
                    if (c.auroraPoints &lt; 0) {
                        c.auroraPoints = 0;
}
       


               } else if (!c.inWild()) {
                    c.sendMessage(&quot;Oh Dear you have died!&quot;);
               }
           }
		}
		resetDamageDone();
		c.specAmount = 10;
		c.getItems().addSpecialBar(c.playerEquipment[c.playerWeapon]);
		c.lastVeng = 0;
		c.vengOn = false;
		resetFollowers();
		c.attackTimer = 10;
	}[/code]</description>
    
    <lastBuildDate>Tue, 06 Mar 2012 20:22:44 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Duel Arena Rep+ for help</title>
        <dc:creator><![CDATA[@RegalX RegalX]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/regalx">@RegalX</a> wrote:</p>
          <blockquote>
              <p>cmon…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252/5</link>
        <pubDate>Tue, 06 Mar 2012 20:22:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435252-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252.rss">[PI] Duel Arena Rep+ for help</source>
      </item>
      <item>
        <title>[PI] Duel Arena Rep+ for help</title>
        <dc:creator><![CDATA[@MR_Terror MR Terror]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mr_terror">@MR_Terror</a> wrote:</p>
          <blockquote>
              <p>well i have no clue soz.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252/4</link>
        <pubDate>Mon, 05 Mar 2012 20:50:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435252-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252.rss">[PI] Duel Arena Rep+ for help</source>
      </item>
      <item>
        <title>[PI] Duel Arena Rep+ for help</title>
        <dc:creator><![CDATA[@RegalX RegalX]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/regalx">@RegalX</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="2" data-topic="435252">
<div class="title">
<div class="quote-controls"></div>
 MR Terror:</div>
<blockquote>
<p>you sir, can’t rep:)</p>
</blockquote>
</aside>
<p>oh wow, it comes up with the option. whatever, try and help, not just post this to troll or whatever…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252/3</link>
        <pubDate>Mon, 05 Mar 2012 20:05:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435252-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252.rss">[PI] Duel Arena Rep+ for help</source>
      </item>
      <item>
        <title>[PI] Duel Arena Rep+ for help</title>
        <dc:creator><![CDATA[@MR_Terror MR Terror]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/mr_terror">@MR_Terror</a> wrote:</p>
          <blockquote>
              <p>you sir, can’t rep:)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252/2</link>
        <pubDate>Mon, 05 Mar 2012 20:02:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435252-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252.rss">[PI] Duel Arena Rep+ for help</source>
      </item>
      <item>
        <title>[PI] Duel Arena Rep+ for help</title>
        <dc:creator><![CDATA[@RegalX RegalX]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/regalx">@RegalX</a> wrote:</p>
          <blockquote>
              <p>Hi there,</p>
<p>i’ve recently been trying to fix my duel arena. What happens is when you win the duel your opponent gets teleported out and you stay in the arena. To combat this I made it so that when you win the duel you get teleported out. When you are teleported out though the player you killed then dies properly and goes to home and loses his items etc. I realise now this is because I was still not in the duel arena with the player that dies so the game thinks that he is just in another place of the game. Here is my applydead void. Hopefully you can help <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>[code]	public void applyDead() {	<br>
c.respawnTimer = 15;<br>
c.isDead = false;<br>
Client o = (Client) Server.playerHandler.players[c.killerId];</p>
<pre><code>		if (c.duelStatus &lt;= 4) {
			c.sendMessage("Oh dear you are dead!");
		} else if (c.duelStatus != 6) {
			c.sendMessage("You have lost the duel!");
			o.getTradeAndDuel().duelVictory();
			c.getTradeAndDuel().resetDuel();
			c.getTradeAndDuel().resetDuelItems();
			o.getPA().movePlayer(
					Config.DUELING_RESPAWN_X
							+ (Misc.random(Config.RANDOM_DUELING_RESPAWN)),
					Config.DUELING_RESPAWN_Y
							+ (Misc.random(Config.RANDOM_DUELING_RESPAWN)), 0);

		}
</code></pre>
<p>}</p>
<pre><code>	if(c.duelStatus != 6) {
		//c.killerId = c.getCombat().getKillerId(c.playerId);
		c.killerId = findKiller();

		if(o != null) {
			if(!c.inPits) {
		}
			if(c.inWild()) {
			if (c.killerId != c.playerId) {
			o.auroraPoints += 30;
			o.Playerkills += 1;
			c.Playerdeaths += 1;
			o.sendMessage("You have defeated "+c.playerName+". You've been awarded 30 Aurora Points.");
			o.sendMessage("You now have "+o.auroraPoints+".");
			c.playerKilled = c.playerId;
			if(o.duelStatus == 5) {
				o.duelStatus++;
			}
		}
	}
	}
}
	c.faceUpdate(0);
	c.npcIndex = 0;
	c.playerIndex = 0;
	c.stopMovement();
	
	if (c.duelStatus &lt;= 4) {
       if (o != null) {
			if(c.inPits) {
			c.sendMessage("You have lost the battle in Pits.");
			c.pcPoints -= 1;
			}
            if (c.killerId != c.playerId &amp;&amp; c.inWild()) {
                c.sendMessage("You died because @blu@" + Misc.optimizeText(o.playerName) + "@bla@ was too strong for you. You lost 10 Aurora Points");
                c.auroraPoints -= 10;
                if (c.auroraPoints &lt; 0) {
                    c.auroraPoints = 0;
</code></pre>
<p>}</p>
<pre><code>           } else if (!c.inWild()) {
                c.sendMessage("Oh Dear you have died!");
           }
       }
	}
	resetDamageDone();
	c.specAmount = 10;
	c.getItems().addSpecialBar(c.playerEquipment[c.playerWeapon]);
	c.lastVeng = 0;
	c.vengOn = false;
	resetFollowers();
	c.attackTimer = 10;
}[/code]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252/1</link>
        <pubDate>Mon, 05 Mar 2012 19:57:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-435252-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-duel-arena-rep-for-help/435252.rss">[PI] Duel Arena Rep+ for help</source>
      </item>
  </channel>
</rss>
