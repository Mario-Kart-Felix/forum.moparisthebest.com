<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/item-tracking/421655?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 17:13:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Item tracking - Runescape - moparisthebest.com</title>
    <meta name="description" content="On a fresh (non-RSCD) source, how would you personally go about implementing a way to track items? 

For example, say there&amp;#39;s 500 Party Hat&amp;#39;s in the game and over night someone finds a way to duplicate or create items ad&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="4216554658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Item tracking&#39;" href="421655.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/item-tracking/421655?page=2" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/item-tracking/421655?page=2" />
<meta property="og:title" content="Item tracking" />
<meta name="twitter:title" content="Item tracking" />
<meta property="og:description" content="Shouldn’t be if the server is well written, personally I would have an objectpool for some items. the get/create method would be in charge of assigning the uid and details of the item. as well as logging it (if you wanted logs).  the release method would put the item back into the pool release the uid for reuse (probably would have a table for this so if you restart the server or have too many items released at one time and just need to destroy the object you can come back to the available uid ..." />
<meta name="twitter:description" content="Shouldn’t be if the server is well written, personally I would have an objectpool for some items. the get/create method would be in charge of assigning the uid and details of the item. as well as logging it (if you wanted logs).  the release method would put the item back into the pool release the uid for reuse (probably would have a table for this so if you restart the server or have too many items released at one time and just need to destroy the object you can come back to the available uid ..." />
<meta property="article:published_time" content="2011-11-15T08:42:50+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="421655.html">
      <link rel="next" href="4216559ba9.html?page=3">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="421655.html">Item tracking</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-15T08:42:50Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:43:18Z' class='post-time'>
              August 2, 2016,  6:43am
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="20" data-topic="421655">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/rodgerwilco/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Rodgerwilco:</div>
<blockquote>
<p>There could be multiple ways to create an item or dupe one so pin pointing the exact source is going to be the toughest part. Another reason why I suggested logging I suppose</p>
</blockquote>
</aside>
<p>Shouldn’t be if the server is well written, personally I would have an objectpool for some items. the get/create method would be in charge of assigning the uid and details of the item. as well as logging it (if you wanted logs).</p>
<p>the release method would put the item back into the pool release the uid for reuse (probably would have a table for this so if you restart the server or have too many items released at one time and just need to destroy the object you can come back to the available uid list. and again have a logging event (if you wanted logs).</p>
<p>if you are creating item objects in multiple locations you are asking for trouble.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/RSCShadow.html'><span itemprop='name'>RSCShadow</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-15T14:14:12Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:43:23Z' class='post-time'>
              August 2, 2016,  6:43am
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“gawdz666, post:17, topic:421655”][quote author=Kryptix link=topic=524313.msg3815635#msg3815635 date=1321313048]<br>
On a fresh (non-RSCD) source, how would you personally go about implementing a way to track items?</p>
<p>For example, say there’s 500 Party Hat’s in the game and over night someone finds a way to duplicate or create items adding another 500. How would you discover which items were original?</p>
<p>Does Jagex have something like this in place?</p>
<p>Each item could have a creation time attached to it but how would this work with stackables?<br>
[/quote]</p>
<p>NO, just like silabsoft said give each item its own incrementing number and track it that way. but again why the fuck would you care about shittier items i would only do that for things that are valuable ingame.[/quote]Well it’s possible to dupe shitty items and then alch or sell them to the general store or something</p>
<p>IMO It’s too much work to implement something like this and I personally don’t think it’s worth it.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Protosstribe.html'><span itemprop='name'>Protosstribe</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-15T18:01:44Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:43:34Z' class='post-time'>
              August 2, 2016,  6:43am
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Logging is probably a better way. Just log everything and you’ll have the option to create statistics of things. Just parse the log files and add whatever you find to a database for statistics. We did this on a company I worked for previously - creating an MMOQ-game.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kryptix.html'><span itemprop='name'>Kryptix</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-15T22:19:40Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:43:54Z' class='post-time'>
              August 2, 2016,  6:43am
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="23" data-topic="421655">
<div class="title">
<div class="quote-controls"></div>
 object:</div>
<blockquote>
<p>Logging is probably a better way. Just log everything and you’ll have the option to create statistics of things. Just parse the log files and add whatever you find to a database for statistics. We did this on a company I worked for previously - creating an MMOQ-game.</p>
</blockquote>
</aside>
<p>We do that now but it doesn’t help, if I was to dupe 1,000 items and drop, trade, stake, sell (etc) them and the database only updates every 15 minutes, it’s difficult to know where they currently are, who had them before hand, etc. It’s near on impossible.</p>
<p>A better system would be for each Party Hat (or any non-stackable items) to have a unique ID and a log database of when each ID was created, the method that created it, etc. If any items were duped you could see when they started being created and delete all items after that creation date that shouldn’t be possible to create (such as discontinued items).</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/AlCoHoLiC.html'><span itemprop='name'>AlCoHoLiC</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-18T13:55:11Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:47:11Z' class='post-time'>
              August 2, 2016,  6:47am
            </time>
        <span itemprop='position'>#25</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Rodgerwilco, post:16, topic:421655”]Jagex did/does have a system for item tracking in rsc. What we know of it… not much (obviously)<br>
they did explain one time (off of memory) about each item having a unique id. Looking back it just looked like they counted how many of the items were in the game. As with arc famous dupe they never knew where the problem was but did know that the items were being duped.</p>
<p>I wouldn’t personally worry about item tracking in particular but instead work on logging information.</p>
<p>Player A mined xxxx ore<br>
Player A high alced xxxx item<br>
Player A trade xxxx gp for xxxx nature runes[/quote]</p>
<p>yes tracking but jagex didnt have unique ID’s for each individual item hence why sixfeetunder had gotten away with it untill he started telling afew people on autorun e and all hell broke loose, jagex didnt have a clue which crackers and phats were real and which ones were not hence why they put a shitty news update on the main page asking people who was doing it and as a reward a free 1 month membership woowww…</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/slavemaster.html'><span itemprop='name'>slavemaster</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-21T11:08:25Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:51:48Z' class='post-time'>
              August 2, 2016,  6:51am
            </time>
        <span itemprop='position'>#26</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think I know how to implement item tracking, and I think it’s fairly easy.<br>
Most items in game can be treated as what in the domain-driven mindset call <span class="bbcode-i">value objects</span>. These objects have attributes but no conceptual individual identity… you can see an example of this in the fact most private servers merely keep an item ID or some other reference to a definition (ItemDef).<br>
It should be very clear items have been treated like this in private servers for some time now as it makes sense… an item ID or ItemDef reference are adequate because they are distinct from one another by their attributes, each item’s definition.</p>
<blockquote>When people exchange dollar bills, they generally do not distinguish between each unique bill; they only are concerned about the face value of the dollar bill. In this context, dollar bills are value objects.</blockquote>
The concept of value objects contrasts with that of [i]entities[/i], which are not defined merely by their attributes but yet by that very trait value objects lack, a sense of identity.
<blockquote>However, the Federal Reserve may be concerned about each unique bill; in this context each bill would be an entity.</blockquote>
What you can see here is that you are asking how to change items in game from value objects into entities... it is very much possible, but is it practical and worth it?
It'd require quite a change in the codebase. A simple item ID would not be adequate here as instead we would now need to track the identity of each item, distinct from their attributes. Something perhaps like:
[code]public class Item {
<pre><code>private UUID id;
private ItemDefinition definition;
....
</code></pre>
<p>}[/code]<br>
Each individual item in the game could be tracked now by their unique ID distinct from others with the same attributes.<br>
Is it practical, though? Surprisingly so. Good luck.</p>
<p>For more on this stuff, <a href="http://en.wikipedia.org/wiki/Domain-driven_design" rel="nofollow noopener">http://en.wikipedia.org/wiki/Domain-driven_design</a></p>
<p>As a side note, I’m a little surprised object didn’t delve into this… I mean, he was the one who introduced me to DDD in the first place a couple odd years ago.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-21T15:41:14Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:51:54Z' class='post-time'>
              August 2, 2016,  6:51am
            </time>
        <span itemprop='position'>#27</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“veer, post:26, topic:421655”]I think I know how to implement item tracking, and I think it’s fairly easy.<br>
Most items in game can be treated as what in the domain-driven mindset call <span class="bbcode-i">value objects</span>. These objects have attributes but no conceptual individual identity… you can see an example of this in the fact most private servers merely keep an item ID or some other reference to a definition (ItemDef).<br>
It should be very clear items have been treated like this in private servers for some time now as it makes sense… an item ID or ItemDef reference are adequate because they are distinct from one another by their attributes, each item’s definition.</p>
<aside class="quote">
<blockquote>
<p>When people exchange dollar bills, they generally do not distinguish between each unique bill; they only are concerned about the face value of the dollar bill. In this context, dollar bills are value objects.</p>
</blockquote>
</aside>
<p>The concept of value objects contrasts with that of <span class="bbcode-i">entities</span>, which are not defined merely by their attributes but yet by that very trait value objects lack, a sense of identity.</p>
<aside class="quote">
<blockquote>
<p>However, the Federal Reserve may be concerned about each unique bill; in this context each bill would be an entity.</p>
</blockquote>
</aside>
<p>What you can see here is that you are asking how to change items in game from value objects into entities… it is very much possible, but is it practical and worth it?<br>
It’d require quite a change in the codebase. A simple item ID would not be adequate here as instead we would now need to track the identity of each item, distinct from their attributes. Something perhaps like:</p>
<p>[code]public class Item {</p>
<pre><code>private UUID id;
private ItemDefinition definition;
....
</code></pre>
<p>}[/code]<br>
Each individual item in the game could be tracked now by their unique ID distinct from others with the same attributes.<br>
Is it practical, though? Surprisingly so. Good luck.</p>
<p>For more on this stuff, <a href="http://en.wikipedia.org/wiki/Domain-driven_design" rel="nofollow noopener">http://en.wikipedia.org/wiki/Domain-driven_design</a></p>
<p>As a side note, I’m a little surprised object didn’t delve into this… I mean, he was the one who introduced me to DDD in the first place a couple odd years ago.[/quote]That works just fine for non-stackable items…  With your idea each individual coin would need to be tracked, and that is a lot of excess data.</p>
<p>If items were mutable then you’d need to keep track of the transactions, and tracking/mapping them back to the source becomes a bit complex.  If it’s immutable then you have to store each item, and every time a player changes the stack size there needs to be a new item creates and stored, but it makes working with the data because you can look at the state of the game at any given point.</p>
<p>It seems like everyone is trying to keep these two separeate ideas linked together, but they should really be decoupled and thought of as completely different problems…  Using this approach, I would to treat stackable items as mutable (log transactions) and unstackable items as immutable (log unique ids).  Then you eliminate the problems that each approach has.  It really wouldn’t add much complexity if you just use the current setup as an interface for the new design.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/5_1.html'><span itemprop='name'>5_1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-22T02:21:58Z'>
            <time itemprop='dateModified' datetime='2016-08-02T06:52:46Z' class='post-time'>
              August 2, 2016,  6:52am
            </time>
        <span itemprop='position'>#28</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Anc13ntsIsBack, post:3, topic:421655”][quote]<br>
Does Jagex have something like this in place?<br>
[/quote]</p>
<p>I don’t think they had that. Seeing as how they had the google dupe and didn’t remove every duped party hat.<br>
I’m not sure about now though.[/quote]<br>
This was in like 2002…</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sw0o0sh.html'><span itemprop='name'>sw0o0sh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-30T04:30:19Z'>
            <time itemprop='dateModified' datetime='2016-08-02T11:47:18Z' class='post-time'>
              August 2, 2016, 11:47am
            </time>
        <span itemprop='position'>#29</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>JAVA is only as strong as the person programming it, like any other language. Why assume magic will happen when the issue is the programming itself?</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-30T09:00:57Z'>
            <time itemprop='dateModified' datetime='2016-08-02T11:47:28Z' class='post-time'>
              August 2, 2016, 11:47am
            </time>
        <span itemprop='position'>#30</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sw0o0sh, post:29, topic:421655”]JAVA is only as strong as the person programming it, like any other language. Why assume magic will happen when the issue is the programming itself?[/quote]What are you talking about?</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sw0o0sh.html'><span itemprop='name'>sw0o0sh</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-30T18:26:12Z'>
            <time itemprop='dateModified' datetime='2016-08-02T11:47:46Z' class='post-time'>
              August 2, 2016, 11:47am
            </time>
        <span itemprop='position'>#31</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If he’s coding a source from the ground up, and the people behind it know what they are doing with the language, having these fall back logging systems isn’t entirely necessary imo. I made things to notice duplications back in the past, but that’s because I knew the public RSCDaemon I was using had the potential in it’s state at the time. Easier said than done perhaps, but there were no magical dupes in RSC once they were found &amp; patched. They didn’t anticipate how people would modify the client, so there was no check for what resulted in amass duplication exploit. I’m not saying don’t find a way to make sure original items are original, it would definitely be interesting and a hopefully fail proof system in case something ever DID go wrong, but magic in JAVA doesn’t happen.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Protosstribe.html'><span itemprop='name'>Protosstribe</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-30T19:41:29Z'>
            <time itemprop='dateModified' datetime='2016-08-02T11:47:49Z' class='post-time'>
              August 2, 2016, 11:47am
            </time>
        <span itemprop='position'>#32</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>veer: I have thought about the idea of items as entities a few times before. But in this case I must admit that it isn’t practical.</p>
<p>For me, all items, whether stackable or not, conceptually belongs together. The difference is only the quantity. A stackable item can have a quantity of 1 or greater, whereas a non-stackable item can only have a quantity of 1. This in turn makes it conceptually impossible to differ the two, only so that this approach would work out. This approach would only work out if we differed them and only track non-stackable items (just about what CodeForFame said).</p>
<p>If you think about it, have 100 players with 2.000.000.000 (2 billion) GP each. That’s about 200.000.000.000 (200 billion) GP. One Item instance per GP would be too many Item instances. Not to mention, all Item instances may hold a List with all (or at least a few of) their previous carriers (whether it be players, npcs or shops etc.). This List of previous carriers must be part of the Domain Model, because otherwise you might aswell lose the opportunity to save all recent carriers of a given Item instance to the database.</p>
<p>One Item instance per GP is needed, because we do not always trade the exact same amount of GP to other players and we do not always drop the exact same amount of GP etc.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-30T21:22:02Z'>
            <time itemprop='dateModified' datetime='2016-08-02T11:48:04Z' class='post-time'>
              August 2, 2016, 11:48am
            </time>
        <span itemprop='position'>#33</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“object, post:32, topic:421655”]veer: I have thought about the idea of items as entities a few times before. But in this case I must admit that it isn’t practical.</p>
<p>For me, all items, whether stackable or not, conceptually belongs together. The difference is only the quantity. A stackable item can have a quantity of 1 or greater, whereas a non-stackable item can only have a quantity of 1. This in turn makes it conceptually impossible to differ the two, only so that this approach would work out. This approach would only work out if we differed them and only track non-stackable items (just about what CodeForFame said).</p>
<p>If you think about it, have 100 players with 2.000.000.000 (2 billion) GP each. That’s about 200.000.000.000 (200 billion) GP. One Item instance per GP would be too many Item instances. Not to mention, all Item instances may hold a List with all (or at least a few of) their previous carriers (whether it be players, npcs or shops etc.). This List of previous carriers must be part of the Domain Model, because otherwise you might aswell lose the opportunity to save all recent carriers of a given Item instance to the database.</p>
<p>One Item instance per GP is needed, because we do not always trade the exact same amount of GP to other players and we do not always drop the exact same amount of GP etc.[/quote]If it’s done correctly the usage would be as if they were the same, and behaved the same way as they currently do.</p>
<p>You abstract away the underlying logging/logic…  Basic OO stuff here.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Protosstribe.html'><span itemprop='name'>Protosstribe</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-30T23:03:06Z'>
            <time itemprop='dateModified' datetime='2016-08-02T11:48:14Z' class='post-time'>
              August 2, 2016, 11:48am
            </time>
        <span itemprop='position'>#34</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>CodeForFame: Are you referring to having an Item interface and two package protected implementations of it - be it StackableItem and NonStackableItem, both of which handles tracking differently? Or what exactly are you referring to?</p>
<p>Because the problem, as I see it, is how to track stackable items. As you know, every single stackable item needs to be tracked. Tracking stackable items without using logging is problematic. Separating the two implementations tracking mechanisms isn’t either a good solution. Then you need to maintain two very different tracking solutions. One using a parser to find out where all stackable items are and one solution grabbing non-stackable items from the database.</p>
<p>By the way, try not to couple logging with the Domain Model. Logging could be implemented via AOP and injected to their proper locations either at compile-time or at runtime. But then, if we do not keep logging in the Domain Model, one of the two implementations do not have a tracking solution as per the contract of the Item interface. In that case, why do we even have tracking in the Domain Model in the first place? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Kryptix: By the way, when I was referring to logging, I didn’t mean to log things to the database. I ment to log things to files in your own personal format - using a logging framework.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-11-30T23:45:02Z'>
            <time itemprop='dateModified' datetime='2016-08-02T11:48:20Z' class='post-time'>
              August 2, 2016, 11:48am
            </time>
        <span itemprop='position'>#35</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“object, post:34, topic:421655”]CodeForFame: Are you referring to having an Item interface and two package protected implementations of it - be it StackableItem and NonStackableItem, both of which handles tracking differently? Or what exactly are you referring to?</p>
<p>Because the problem, as I see it, is how to track stackable items. As you know, every single stackable item needs to be tracked. Tracking stackable items without using logging is problematic. Separating the two implementations tracking mechanisms isn’t either a good solution. Then you need to maintain two very different tracking solutions. One using a parser to find out where all stackable items are and one solution grabbing non-stackable items from the database.</p>
<p>By the way, try not to couple logging with the Domain Model. Logging could be implemented via AOP and injected to their proper locations either at compile-time or at runtime. But then, if we do not keep logging in the Domain Model, one of the two implementations do not have a tracking solution as per the contract of the Item interface. In that case, why do we even have tracking in the Domain Model in the first place? <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>Kryptix: By the way, when I was referring to logging, I didn’t mean to log things to the database. I ment to log things to files in your own personal format - using a logging framework.[/quote]The behaviors of each are different, and with them combined it leads to ugly code.  It would clean everything up, and solve this problem.</p>
<p>Looking at the transactions of non-stackable items can be done, but then you don’t have the ability to track an individual item (which is useful in many situations).  Doing that with stackable items just isn’t reasonable, so you just don’t do it.</p>
<p>Injecting the logging in the correct spot is a small portion of what separating them would do.  The data would be different, and it would require a different type of logging for each item type.  So, you still need to make a distinction somewhere, so why not do it how I’m suggesting and clean up the code base at the same time?</p>
<p>How do you figure one doesn’t have tracking?  The logging should be handled by it’s own class, not the rest of the application.</p>
<p>Why do you keep trying to force this into the domain model if it doesn’t fit naturally?  It would fit entities were immutable and values were mutable, but they’re not.  In addition, just because something is similar, or feels like it should fit a design pattern doesn’t mean it really does or should; they’re just general templates, and sometimes you need to do something differently.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Protosstribe.html'><span itemprop='name'>Protosstribe</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-01T08:44:41Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:07:39Z' class='post-time'>
              August 2, 2016,  2:07pm
            </time>
        <span itemprop='position'>#36</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>CodeForFame: “How do you figure one doesn’t have tracking?”: My mistake. I don’t really know what I was thinking when I wrote that. But, still, logging should not be part of the Domain Model. That is, all interface types and class types within the Domain Model should be simple “POJOs” with no external dependencies and have as few responsibilities as possible. They shouldn’t know how to log themselves and persist themselves etc.</p>
<p>But, in my opinion, we shouldn’t add any tracking what so ever to the Domain Model itself. That’s not the responsibility for an Item. And I’m not trying to force it onto the Domain Model. It’s actually the opposite. That’s why I advocate logging to files in the first place. I wrote the above to prove that it isn’t practical. And changing the Domain Model to make it practical isn’t a good solution - especially since tracking isn’t a Domain Model related part in the first place.</p>
<p>Just out of curiosity. What behavior of stackable items and non-stackable items differ (in your opinion)? Is it the visual representation, that one is shown stacked and one is not? Or are there other differences? I honestly cannot remember anything else though.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-01T17:21:26Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:08:03Z' class='post-time'>
              August 2, 2016,  2:08pm
            </time>
        <span itemprop='position'>#37</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I had an idea that could combat this problem, along with others, for use with MoparScape Classic, I’ll quote my whole post here:</p>
<p>[quote=“Moparisthebest, post:1, topic:417102”]I just had a brain storm out of nowhere which I think could completely stop cheating on a RS server, and I’d like to eventually implement it in MoparScape Classic.  Incidentally, it is also a system that would be fine as 100% open source.</p>
<p>You all know that what I did with RS was basically cheat, and these are the reasons I never stopped:</p>
<ol>
<li>Accounts are free and easy to make, if one gets banned, you just make another one.</li>
<li>Money/items are easy to make and transfer to other accounts, either mains or mules.</li>
<li>When banned, only items currently on the banned account got removed.</li>
</ol>
<p>With that it mind, the solution seems pretty simple, similar to a plugin I’m running on the minecraft server.  This plugin records everything a player does, every block he picks up, every block he destroys, and if a player places lava or something that flows, it tracks where it goes to and what it causes there as well.  If the staff determines a player was a bad player they can ‘rollback’ all their actions with a single command, if the player was ‘hacked’ during the time in question, they can rollback everything they did for the past X hours or whatever.</p>
<p>So here is what I have in mind, track every possible exchange of items (money is an item) in RSC, each transaction will have it’s own unique ID and the ID of the parent transaction as well, a simplified row in the database would look something like this:</p>
<pre><code class="lang-auto">id, parent_id, username, ip, date, xfer_method, item, amount, rolled_back
#playerx trades 50 gold to playery
0, null, playerx, iphere, unixtimestamp, trade, gold, 50, 0
#playery trades that 50 gold to playerz
1, 0, playery, iphere, unixtimestamp, trade, gold, 50, 0</code></pre>
<p>Etc.  Transactions would include any way items can be transferred, like if they are dropped (or looted while pking), traded to another player, sold to a shop, or wagered in a duel.  Another example of a transaction would be mining ore from a rock, or getting wood from a tree, etc etc.  Basically any time that you get or lose an item.  A transaction would also need to be recorded if, for example, iron ore was smelted into iron bars or similar, then the iron bars would be tracked or ultimately rolled back if the parent transaction was.</p>
<p>Optionally, we should also track experience points gained from using transferred items, so that could be rolled back too.</p>
<p>This is too complicated to handle in-game with chat commands, so a nice web-based front-end could be written for staff to search and handle.  Then when people are banned for cheating, you can remove all effects they had on the game with a single command, effectively removing all incentive to cheat for all players, as cheaters lose everything they ever did, even on their main, and regular players are more leary of buying obviously botted goods, as they know they will just be rolled back anyway.  As a side-effect, it can also be used to reliably detect cheating.  For example, since all rocks mined are recorded, you could run a query to determine if anyone mined, say, more than 100 iron ores per hour for more than 3 hours, no human could keep that up, so it must be a bot.</p>
<p>So, thoughts?[/quote]</p>
<p>So, basically, you just record every transaction in the game.  This could be used to find ‘dupes’ by running an SQL query testing if the player has the exact type and amount of items they should have, given the transactions recorded for them.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-01T17:23:06Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:08:03Z' class='post-time'>
              August 2, 2016,  2:08pm
            </time>
        <span itemprop='position'>#38</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“object, post:36, topic:421655”]CodeForFame: “How do you figure one doesn’t have tracking?”: My mistake. I don’t really know what I was thinking when I wrote that. But, still, logging should not be part of the Domain Model. That is, all interface types and class types within the Domain Model should be simple “POJOs” with no external dependencies and have as few responsibilities as possible. They shouldn’t know how to log themselves and persist themselves etc.</p>
<p>But, in my opinion, we shouldn’t add any tracking what so ever to the Domain Model itself. That’s not the responsibility for an Item. And I’m not trying to force it onto the Domain Model. It’s actually the opposite. That’s why I advocate logging to files in the first place. I wrote the above to prove that it isn’t practical. And changing the Domain Model to make it practical isn’t a good solution - especially since tracking isn’t a Domain Model related part in the first place.</p>
<p>Just out of curiosity. What behavior of stackable items and non-stackable items differ (in your opinion)? Is it the visual representation, that one is shown stacked and one is not? Or are there other differences? I honestly cannot remember anything else though.[/quote]Riddling the application with the same lines of code to do the logging is messy.  For example, every time an object changes slot or container it should be logged; doing that outside of the class is going to be a huge mess, and this community has already proven they can’t handle it.</p>
<p>That’s the thing, you’re trying to combine an immutable entity and mutable value into one.</p>
<p>Stackable items are more of a container for a specific item rather than an item itself.  Look at all the checks that are done every single time a stackable item is changed/used compared to non-stackable items.</p>
<p>For example:</p>
<p><code>			if (!item.getDef().canTrade()) {
				player.getActionSender().sendMessage(
						"You cannot sell this item.");
				return;
			}
			if (item.getDef().isMembers() &amp;&amp; !World.isMembers()) {
				player.getActionSender().sendMessage(
						"This feature is only avaliable on a members server");
				return;
			}
			if (player.getInventory().countId(item.getID()) &lt; 1) {
				return;
			}
...
			if (player.getInventory().remove(item) &gt; -1) {
				player.getInventory().add(new InvItem(10, itempricez));
				shop.add(item);
				player.getActionSender().sendSound("coins");
				player.getActionSender().sendInventory();
				shop.updatePlayers();
			}</code><br>
That should really be something like:</p>
<pre><code class="lang-auto">try {
	player.getInventory().transact(item, new InvItem(10, itemPrice));
	player.getActionSender().sendSound("coins");
	shop.updatePlayers();
} catch (TransactionExcpetion te) {
	...
}</code></pre>
<p>[hr][quote=“Moparisthebest, post:37, topic:421655”]I had an idea that could combat this problem, along with others, for use with MoparScape Classic, I’ll quote my whole post here:</p>
<aside class="quote">
<blockquote>
<p>I just had a brain storm out of nowhere which I think could completely stop cheating on a RS server, and I’d like to eventually implement it in MoparScape Classic.  Incidentally, it is also a system that would be fine as 100% open source.</p>
<p>You all know that what I did with RS was basically cheat, and these are the reasons I never stopped:</p>
<ol>
<li>Accounts are free and easy to make, if one gets banned, you just make another one.</li>
<li>Money/items are easy to make and transfer to other accounts, either mains or mules.</li>
<li>When banned, only items currently on the banned account got removed.</li>
</ol>
<p>With that it mind, the solution seems pretty simple, similar to a plugin I’m running on the minecraft server.  This plugin records everything a player does, every block he picks up, every block he destroys, and if a player places lava or something that flows, it tracks where it goes to and what it causes there as well.  If the staff determines a player was a bad player they can ‘rollback’ all their actions with a single command, if the player was ‘hacked’ during the time in question, they can rollback everything they did for the past X hours or whatever.</p>
<p>So here is what I have in mind, track every possible exchange of items (money is an item) in RSC, each transaction will have it’s own unique ID and the ID of the parent transaction as well, a simplified row in the database would look something like this:</p>
<pre><code class="lang-auto">id, parent_id, username, ip, date, xfer_method, item, amount, rolled_back
#playerx trades 50 gold to playery
0, null, playerx, iphere, unixtimestamp, trade, gold, 50, 0
#playery trades that 50 gold to playerz
1, 0, playery, iphere, unixtimestamp, trade, gold, 50, 0</code></pre>
<p>Etc.  Transactions would include any way items can be transferred, like if they are dropped (or looted while pking), traded to another player, sold to a shop, or wagered in a duel.  Another example of a transaction would be mining ore from a rock, or getting wood from a tree, etc etc.  Basically any time that you get or lose an item.  A transaction would also need to be recorded if, for example, iron ore was smelted into iron bars or similar, then the iron bars would be tracked or ultimately rolled back if the parent transaction was.</p>
<p>Optionally, we should also track experience points gained from using transferred items, so that could be rolled back too.</p>
<p>This is too complicated to handle in-game with chat commands, so a nice web-based front-end could be written for staff to search and handle.  Then when people are banned for cheating, you can remove all effects they had on the game with a single command, effectively removing all incentive to cheat for all players, as cheaters lose everything they ever did, even on their main, and regular players are more leary of buying obviously botted goods, as they know they will just be rolled back anyway.  As a side-effect, it can also be used to reliably detect cheating.  For example, since all rocks mined are recorded, you could run a query to determine if anyone mined, say, more than 100 iron ores per hour for more than 3 hours, no human could keep that up, so it must be a bot.</p>
<p>So, thoughts?</p>
</blockquote>
</aside>
<p>So, basically, you just record every transaction in the game.  This could be used to find ‘dupes’ by running an SQL query testing if the player has the exact type and amount of items they should have, given the transactions recorded for them.[/quote]I think we already agreed that everything needs to be logged, just an argument of how it should be done, and how fine it should be.</p>
<p>The same issues were actually raised in that thread, so I’m not going to repeat them.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Protosstribe.html'><span itemprop='name'>Protosstribe</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-01T18:29:40Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:08:47Z' class='post-time'>
              August 2, 2016,  2:08pm
            </time>
        <span itemprop='position'>#39</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>CodeForFame: An Entity is normally mutable. But I’m sure it can be immutable aswell. A Value Object, on the other hand, should always be immutable, not mutable.</p>
<p>The logging should be taken care of by an aspect. An aspect is usually in its own file. So no, the mess you’re talking about may not exist. See AOP (Aspect Oriented Programming) for more details. For a specific implementation of AOP, see AspectJ.</p>
<p>The transaction you wrote in the code, should really be a Service. This Service could be injected via DI (Dependency Injection) using for instance Spring Framework, or any other IoC (Inversion of Control) container for that matter.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/CodeForFame.html'><span itemprop='name'>CodeForFame</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-01T19:04:21Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:08:49Z' class='post-time'>
              August 2, 2016,  2:08pm
            </time>
        <span itemprop='position'>#40</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“object, post:39, topic:421655”]CodeForFame: An Entity is normally mutable. But I’m sure it can be immutable aswell. A Value Object, on the other hand, should always be immutable, not mutable.</p>
<p>The logging should be taken care of by an aspect. An aspect is usually in its own file. So no, the mess you’re talking about may not exist. See AOP (Aspect Oriented Programming) for more details. For a specific implementation of AOP, see AspectJ.</p>
<p>The transaction you wrote in the code, should really be a Service. This Service could be injected via DI (Dependency Injection) using for instance Spring Framework, or any other IoC (Inversion of Control) container for that matter.[/quote]Yes, in the domain model it should be, but that’s exactly why it doesn’t fit.  To get the most detailed tracking of non-stackables they need to be an immutable entity (what player (aggregate) has them is merely who is interfacing with them).  We’ve also ruled out treating stackable items this way because of the sheer amount of data, so they must be treated as a value object, but it should be mutable because it’s more like a container of identical items.</p>
<p>Okay, it can be taken care of by an aspect, but it would still need to be done on each item class, not throughout the entire applications, which is what I was getting at…</p>
<p>It wouldn’t be a service, because the operation does belong to an object…  That specific transaction is within a player’s inventory container, so it belongs the the player’s inventory object.  Though, I’m open to improvements, because I can see where you’re going, but not how to get there.  (It should be a transaction between the shop’s inventory and the player’s inventory now that I think about it)</p>
<p>Anyway, I’d appreciate it if you explained why you think it should be your way rather than just saying it should just be that way.  You’re coming off as too rigid and closed minded (I probably am too, but I’m trying to actually explain why), but I know you’re better than that.</p>
      </div>

      <meta itemprop='headline' content='Item tracking'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="421655.html">← previous page</a></span>
      <span itemprop='name'><b><a rel="next" itemprop="url" href="4216559ba9.html?page=3">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/item-tracking/421655?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 17:13:26 GMT -->
</html>
