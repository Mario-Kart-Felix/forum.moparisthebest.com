<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/appearance-667/527165 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 17:10:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Appearance 667 - Runescape - moparisthebest.com</title>
    <meta name="description" content="I was wondering if anyone could help me on this, my hairsalon works, and saves with the buttons that are provided in it, but  I ripped the Thessalia from another source and it opens the interface, and the clothes show up&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="527165.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Appearance 667&#39;" href="527165.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/appearance-667/527165" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/appearance-667/527165" />
<meta property="og:title" content="Appearance 667" />
<meta name="twitter:title" content="Appearance 667" />
<meta property="og:description" content="I was wondering if anyone could help me on this, my hairsalon works, and saves with the buttons that are provided in it, but  I ripped the Thessalia from another source and it opens the interface, and the clothes show up afterward, but when I equip something, it either resets my appearance or crashes me.  No matter what I try and do, it doesn’t save.  If anyone could help it’d be really appreciated, thanks.  Here’s my Playerlook.java &amp; Appearance.java  package com.rs.game.player.content;  import..." />
<meta name="twitter:description" content="I was wondering if anyone could help me on this, my hairsalon works, and saves with the buttons that are provided in it, but  I ripped the Thessalia from another source and it opens the interface, and the clothes show up afterward, but when I equip something, it either resets my appearance or crashes me.  No matter what I try and do, it doesn’t save.  If anyone could help it’d be really appreciated, thanks.  Here’s my Playerlook.java &amp; Appearance.java  package com.rs.game.player.content;  import..." />
<meta property="article:published_time" content="2013-08-04T04:29:28+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="527165.html">Appearance 667</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Tylerd21.html'><span itemprop='name'>Tylerd21</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-08-04T04:29:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:01:53Z' class='post-time'>
              August 4, 2016, 10:01am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I was wondering if anyone could help me on this, my hairsalon works, and saves with the buttons that are provided in it, but  I ripped the Thessalia from another source and it opens the interface, and the clothes show up afterward, but when I equip something, it either resets my appearance or crashes me.</p>
<p>No matter what I try and do, it doesn’t save.</p>
<p>If anyone could help it’d be really appreciated, thanks.</p>
<p>Here’s my Playerlook.java &amp; Appearance.java</p>
<pre><code class="lang-auto">package com.rs.game.player.content;

import com.rs.game.player.Player;
import com.rs.cache.loaders.ClientScriptMap;
import com.rs.game.Animation;

public final class PlayerLook {

	public static void openCharacterCustomizing(Player player) {
		player.getPackets().sendWindowsPane(1028, 0); // character customizing
	}

	public static void handleCharacterCustomizingButtons(Player player,
			int buttonId) {
		if (buttonId == 138) { // confirm
			player.getPackets().sendWindowsPane(
					player.getInterfaceManager().hasRezizableScreen() ? 746
							: 548, 0);
			player.closeInterfaces();
			player.getDialogueManager().startDialogue("NewUser");
			
		}
	}

	public static void openMageMakeOver(Player player) {
		player.getInterfaceManager().sendInterface(900);
		player.getPackets().sendIComponentText(900, 33, "Confirm");
		player.getPackets().sendConfigByFile(6098,
				player.getAppearence().isMale() ? 0 : 1);
		player.getPackets().sendConfigByFile(6099,
				player.getAppearence().getSkinColor());
		player.getTemporaryAttributtes().put("MageMakeOverGender",
				player.getAppearence().isMale());
		player.getTemporaryAttributtes().put("MageMakeOverSkin",
				player.getAppearence().getSkinColor());
	}

	public static void handleMageMakeOverButtons(Player player, int buttonId) {
		if (buttonId == 16 || buttonId == 17)
			player.getTemporaryAttributtes().put("MageMakeOverGender",
					buttonId == 16);
		else if (buttonId &gt;= 20 &amp;&amp; buttonId &lt;= 31) {

			int skin;
			if (buttonId == 31)
				skin = 11;
			else if (buttonId == 30)
				skin = 10;
			else if (buttonId == 20)
				skin = 9;
			else if (buttonId == 21)
				skin = 8;
			else if (buttonId == 22)
				skin = 7;
			else if (buttonId == 29)
				skin = 6;
			else if (buttonId == 28)
				skin = 5;
			else if (buttonId == 27)
				skin = 4;
			else if (buttonId == 26)
				skin = 3;
			else if (buttonId == 25)
				skin = 2;
			else if (buttonId == 24)
				skin = 1;
			else
				skin = 0;
			player.getTemporaryAttributtes().put("MageMakeOverSkin", skin);
		} else if (buttonId == 33) {
			Boolean male = (Boolean) player.getTemporaryAttributtes().remove(
					"MageMakeOverGender");
			Integer skin = (Integer) player.getTemporaryAttributtes().remove(
					"MageMakeOverSkin");
			player.closeInterfaces();
			if (male == null || skin == null)
				return;
			if (male == player.getAppearence().isMale()
					&amp;&amp; skin == player.getAppearence().getSkinColor())
				player.getDialogueManager().startDialogue("MakeOverMage", 2676,
						1);
			else {
				player.getDialogueManager().startDialogue("MakeOverMage", 2676,
						2);
				if (player.getAppearence().isMale() != male) {
					if (male)
						player.getAppearence().resetAppearence();
					else
						player.getAppearence().female();
				}
				player.getAppearence().setSkinColor(skin);
				player.getAppearence().generateAppearenceData();
			}
		}
	}
	
	public static void handleThessaliasMakeOverButtons(Player player,
			int buttonId, int slotId) {
		if (buttonId == 6)
			player.getTemporaryAttributtes().put("ThessaliasMakeOver", 0);
		else if (buttonId == 7) {
			if (ClientScriptMap.getMap(
					player.getAppearence().isMale() ? 690 : 1591)
					.getKeyForValue(player.getAppearence().getTopStyle()) &gt;= 32) {
				player.getTemporaryAttributtes().put("ThessaliasMakeOver", 1);
			} else
				player.getPackets().sendGameMessage(
						"You can't select different arms to go with that top.");
		} else if (buttonId == 8) {
			if (ClientScriptMap.getMap(
					player.getAppearence().isMale() ? 690 : 1591)
					.getKeyForValue(player.getAppearence().getTopStyle()) &gt;= 32) {
				player.getTemporaryAttributtes().put("ThessaliasMakeOver", 2);
			} else
				player.getPackets()
						.sendGameMessage(
								"You can't select different wrists to go with that top.");
		} else if (buttonId == 9)
			player.getTemporaryAttributtes().put("ThessaliasMakeOver", 3);
		else if (buttonId == 19) { // confirm
			player.closeInterfaces();
		} else if (buttonId == 12) { // set part
			Integer stage = (Integer) player.getTemporaryAttributtes().get(
					"ThessaliasMakeOver");
			if (stage == null || stage == 0) {
				player.getAppearence().setTopStyle(
						(int) ClientScriptMap.getMap(
								player.getAppearence().isMale() ? 690 : 1591)
								.getIntValue(slotId / 2));
				if (!player.getAppearence().isMale())
					player.getAppearence().setBeardStyle(
							player.getAppearence().getTopStyle());
				player.getAppearence().setArmsStyle(
						player.getAppearence().isMale() ? 26 : 65); // default
				player.getAppearence().setWristsStyle(
						player.getAppearence().isMale() ? 34 : 68); // default
			} else if (stage == 1) // arms
				player.getAppearence().setArmsStyle(
						(int) ClientScriptMap.getMap(
								player.getAppearence().isMale() ? 711 : 693)
								.getIntValue(slotId / 2));
			else if (stage == 2) // wrists
				player.getAppearence().setWristsStyle(
						(int) ClientScriptMap.getMap(751).getIntValue(
								slotId / 2));
			else
				player.getAppearence().setLegsStyle(
						(int) ClientScriptMap.getMap(
								player.getAppearence().isMale() ? 1586 : 1607)
								.getIntValue(slotId / 2));

		} else if (buttonId == 17) {// color
			Integer stage = (Integer) player.getTemporaryAttributtes().get(
					"ThessaliasMakeOver");
			if (stage == null || stage == 0 || stage == 1)
				player.getAppearence().setTopColor(
						ClientScriptMap.getMap(3282).getIntValue(slotId / 2));
			else if (stage == 3)
				player.getAppearence().setLegsColor(
						ClientScriptMap.getMap(3284).getIntValue(slotId / 2));
		}
	}

	public static void openThessaliasMakeOver(final Player player) {
		if (player.getEquipment().wearingArmour()) {
			player.getDialogueManager()
					.startDialogue(
							"SimpleNPCMessage",
							548,
							"You're not able to try on my clothes with all that armour. Take it off and then speak to me again.");
			return;
		}
		player.setNextAnimation(new Animation(11623));
		player.getInterfaceManager().sendInterface(729);
		player.getPackets().sendIComponentText(729, 21, "Free!");
		player.getTemporaryAttributtes().put("ThessaliasMakeOver", 0);
		player.getPackets().sendUnlockIComponentOptionSlots(729, 12, 0, 100, 0);
		player.getPackets().sendUnlockIComponentOptionSlots(729, 17, 0,
				ClientScriptMap.getMap(3282).getSize() * 2, 0);
		player.setCloseInterfacesEvent(new Runnable() {

			@Override
			public void run() {
				player.getDialogueManager().startDialogue("SimpleNPCMessage",
						548, "A marvellous choise. You look splendid!");
				player.setNextAnimation(new Animation(-1));
				player.getAppearence().getAppeareanceData();
				player.getTemporaryAttributtes().remove("ThessaliasMakeOver");
			}

		});
	}

	public static void handleBeardButtons(Player player, int buttonId,
			int slotId) {// Hair and color match button count so just loop and
							// do ++, but cant find button ids
		if (buttonId == 6)
			player.getTemporaryAttributtes().put("hairSaloon", true);
		else if (buttonId == 7)
			player.getTemporaryAttributtes().put("hairSaloon", false);
		else if (buttonId == 18) {
			player.getInterfaceManager().closeScreenInterface();
			player.getAppearence().generateAppearenceData();
		} else if (buttonId == 10) {
			int hairCoordinate = -1;
			if ((boolean) player.getTemporaryAttributtes().get("hairSaloon")) {
				if (slotId == 1)// bald
					hairCoordinate = 256;
				else if (slotId == 3)// dreadlocks
					hairCoordinate = 257;
				else if (slotId == 5)// long hair
					hairCoordinate = 258;
				else if (slotId == 7)
					hairCoordinate = 259;
				else if (slotId == 9)
					hairCoordinate = 260;
				else if (slotId == 11)
					hairCoordinate = 261;
				else if (slotId == 12)
					hairCoordinate = 262;
				else if (slotId == 13)
					hairCoordinate = 5;
				else if (slotId == 15)
					hairCoordinate = 7;
				else if (slotId == 17)
					hairCoordinate = 264;
				else if (slotId == 19)
					hairCoordinate = 91;
				else if (slotId == 23)
					hairCoordinate = 93;
				else if (slotId == 21)
					hairCoordinate = 92;
				else if (slotId == 29)// curtains
					hairCoordinate = 93;
				else if (slotId == 25)// samurai
					hairCoordinate = 94;
				else if (slotId == 27)
					hairCoordinate = 95;
				else if (slotId == 29)
					hairCoordinate = 96;
				else if (slotId == 31)
					hairCoordinate = 267;
				else
					hairCoordinate = 0;
				player.getAppearence().setHairStyle(hairCoordinate);
			} else {
				int beardCoordinate = -1;
				if (slotId == 1)// red
					beardCoordinate = 20;
				else if (slotId == 3)// moustache
					beardCoordinate = 13;
				else if (slotId == 5)// handle bar
					beardCoordinate = 98;
				else if (slotId == 7)// sensi
					beardCoordinate = 18;
				else if (slotId == 9)// half goatee
					beardCoordinate = 4;
				else if (slotId == 11)// imperial
					beardCoordinate = 5;
				else if (slotId == 13)// goatee
					beardCoordinate = 10;
				else if (slotId == 15)// short beard
					beardCoordinate = 15;
				else if (slotId == 17)// short full
					beardCoordinate = 16;
				else if (slotId == 19)// full mutton
					beardCoordinate = 100;
				else if (slotId == 21)// medium beard
					beardCoordinate = 12;
				else if (slotId == 23)// long full beard
					beardCoordinate = 11;
				else if (slotId == 25)// waxed
					beardCoordinate = 102;
				else if (slotId == 27)// sideburns
					beardCoordinate = 17;
				else if (slotId == 29)// mutton
					beardCoordinate = 99;
				else if (slotId == 31)// full mustache
					beardCoordinate = 101;
				else if (slotId == 33)// visor
					beardCoordinate = 104;
				else if (slotId == 35)// split beard
					beardCoordinate = 17;
				else if (slotId == 36)// Dali
					beardCoordinate = 103;
				else
					beardCoordinate = 14;
				player.getAppearence().setBeardStyle(beardCoordinate);
			}
		} else if (buttonId == 16) {// 350
			int hairColourCoordinate = 0;
			if (slotId == 1)
				hairColourCoordinate = 20;
			else if (slotId == 3)
				hairColourCoordinate = 19;
			else if (slotId == 5)
				hairColourCoordinate = 10;
			else if (slotId == 7)
				hairColourCoordinate = 18;
			else if (slotId == 9)
				hairColourCoordinate = 4;
			else if (slotId == 11)
				hairColourCoordinate = 5;
			else if (slotId == 13)
				hairColourCoordinate = 15;
			else if (slotId == 15)
				hairColourCoordinate = 7;
			else if (slotId == 17)
				hairColourCoordinate = 26;
			else if (slotId == 19)
				hairColourCoordinate = 6;
			else if (slotId == 21)
				hairColourCoordinate = 21;
			else if (slotId == 23)
				hairColourCoordinate = 9;
			else if (slotId == 25)
				hairColourCoordinate = 22;
			else if (slotId == 27)
				hairColourCoordinate = 17;
			else if (slotId == 29)
				hairColourCoordinate = 8;
			else if (slotId == 31)
				hairColourCoordinate = 16;
			else if (slotId == 33)
				hairColourCoordinate = 11;
			else if (slotId == 35)
				hairColourCoordinate = 24;
			else if (slotId == 37)
				hairColourCoordinate = 23;
			else if (slotId == 39)
				hairColourCoordinate = 3;
			else if (slotId == 41)
				hairColourCoordinate = 2;
			else if (slotId == 43)
				hairColourCoordinate = 1;
			else if (slotId == 45)
				hairColourCoordinate = 14;
			else if (slotId == 47)
				hairColourCoordinate = 13;
			else if (slotId == 49)
				hairColourCoordinate = 12;
			player.getAppearence().setHairColor(hairColourCoordinate);

		}
	}

	public static void openBeardInterface(Player player) {
		player.getInterfaceManager().sendInterface(309);
		player.getPackets().sendIComponentText(309, 20, "Confirm");
		player.getPackets().sendUnlockIComponentOptionSlots(309, 10, 0, 63, 0); // hairs
																				// and
																				// mustaches
		player.getPackets().sendUnlockIComponentOptionSlots(309, 16, 1, 49, 0); // colors
		player.getTemporaryAttributtes().put("hairSaloon", true);
	}

	private PlayerLook() {

	}

}</code></pre>
<p>Appearance.java -</p>
<p><a href="http://pastebin.com/JYEDFbXQ" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/JYEDFbXQ</a></p>
      </div>

      <meta itemprop='headline' content='Appearance 667'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/appearance-667/527165 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 17:10:19 GMT -->
</html>
