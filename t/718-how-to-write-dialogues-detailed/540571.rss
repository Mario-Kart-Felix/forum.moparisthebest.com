<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[718] How to Write Dialogues ~ Detailed</title>
    <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571</link>
    <description>
Figured since Rune-serbah is getting a little rediculous with the noobs and people with too high of egos, I&#39;d start posting some of the tutorials I posted there, on here. &gt;_&gt;
-----
So basically someone asked me how to make dialogues, so I figured if one person didnt know how, there were more people that still don&#39;t know how, so I&#39;ll write this in laymens terms if I can, to help the nubs understand what&#39;s going on a little bit easier.


I help kk? KK i help den. ^-^


(and since this person asked me, I&#39;m assuming they&#39;ve already looked it up but couldn&#39;t find it, so I&#39;m posting another if there&#39;s already a guide)


First, you&#39;ll make a class, (We&#39;re calling it TestDialogue), and in it you shall put this:


[code]
package com.rs.game.player.dialogues.impl;


import com.rs.game.player.dialogues.Dialogue;


public class TestDialogue extends Dialogue {


	@Override
	public void start() {
		// TODO Auto-generated method stub
		
	}


	@Override
	public void run(int interfaceId, int componentId) {
		// TODO Auto-generated method stub
	}


	@Override
	public void finish() {
		// TODO Auto-generated method stub	
	}


}
[/code]


Now you can see here, we have 3 methods that are mandatory in the class. If you do not have these, you will get errors when you attempt to compile. Most of the time I don&#39;t use the last one, the finish() method. This is just used whenever you walk away or whatever.


Second, we now need to make this dialogue do something.
Adding this to the start() method, will make a speech dialogue


[code]
sendNPCDialogue(1, 9785, 
	&quot;Line 1 Dialogue&lt;br&gt;&quot;,
	&quot;Line 2 Dialogue&lt;br&gt;&quot;,
	&quot;Line 3 Dialogue&lt;br&gt;&quot;,
	&quot;Line 4 Dialogue&lt;br&gt;&quot;,
	&quot;Line 5 Dialogue&quot;);
[/code]


You change &quot;Line # Dialogue&quot; in each quotes to whatever you want the message to be. The &lt;br&gt; tag is HTML code for a line break. It&#39;s not really necessary but if you want to make it look better in some cases, you can use the &lt;br&gt; tag to make the next line apear on its own line.


As of right now, you should have this:


[code]
package com.rs.game.player.dialogues.impl;


import com.rs.game.player.dialogues.Dialogue;


public class TestDialogue extends Dialogue {


	@Override
	public void start() {
		sendNPCDialogue(1, 9785, 
			&quot;Line 1 Dialogue&lt;br&gt;&quot;,
			&quot;Line 2 Dialogue&lt;br&gt;&quot;,
			&quot;Line 3 Dialogue&lt;br&gt;&quot;,
			&quot;Line 4 Dialogue&lt;br&gt;&quot;,
			&quot;Line 5 Dialogue&quot;);
	}


	@Override
	public void run(int interfaceId, int componentId) {
		// TODO Auto-generated method stub
		
	}


	@Override
	public void finish() {
		// TODO Auto-generated method stub
	}


}
[/code]


now the run method is used for when you click a button on the dialogue, it makes it do certain things. To make the run method or this dialogue even work properly, we need to define the starting stage just above the the last bracket (}) in the start method:


[code]
@Override
	public void start() {
		sendNPCDialogue(1, 9785, 
			&quot;Line 1 Dialogue&lt;br&gt;&quot;,
			&quot;Line 2 Dialogue&lt;br&gt;&quot;,
			&quot;Line 3 Dialogue&lt;br&gt;&quot;,
			&quot;Line 4 Dialogue&lt;br&gt;&quot;,
			&quot;Line 5 Dialogue&quot;);


		stage = 1;
	}
[/code]


You can see i added stage = 1;
this is the starting stage, now that we have the stage defined (by default it&#39;s -1, not 1, but it doesnt really matter what stage it starts at, as long as you can follow it just as easy), we can now start the run method.


First, make your run method like this:
[code]
	@Override
	public void run(int interfaceId, int componentId) {
		switch (stage) {
		case 1:
			break;
		case 2:
			break;
		}
	}
[/code]


so you can see I&#39;ve now added a switch statement, which defines which stage does what. You can always add more if necessary. For now, since the first stage was an actual dialogue without options, we need to make the next button either close the dialogue, or do an action, such as send a player dialogue. Sending a player dialogue is using a different method, but it&#39;s almost similiar:




[code]sendPlayerDialogue(9827, &quot;Hi there, im a player dialogue!&quot;);[/code]


So if we want the next button to send a response from the player, we make stage 1 (or case 1) send the dialogue like so:


[code]
case 1:
	sendPlayerDialogue(9827, &quot;Hi there, im a player dialogue!&quot;);
	break;
[/code]


So now when you click the continue button, it send the player&#39;s response. Useful for making conversations to give your server some life to it instead of just click the npc, options pop up, u click and it&#39;s done.


So let&#39;s assume we want the continue button on the player&#39;s response to send some options, we&#39;d need to modify the case 1 to set the stage to 2:


[code]
case 1:
	sendPlayerDialogue(9827, &quot;Hi there, im a player dialogue!&quot;);
	stage = 2;
	break;
[/code]


So now when the player&#39;s response is sent, we now have the stage set to 2, so stage 1 is no longer used unless you loop back to it.
So now we&#39;re working with stage 2 (case 2)




To send some options for the player to choose, you can use this method below, which will send up to 5 options:


[code]
sendOptionsDialogue(&quot;Select an Option&quot;, 
			&quot;Option 1&quot;, 
			&quot;Option 2&quot;, 
			&quot;Option 3&quot;,
			&quot;Option 4&quot;,
			&quot;Option 5&quot;,
);
[/code]


Now keep in mind, once we send options, a new stage has to be set so each button can have an action, you you&#39;ll need to define case 3, so now your class should look similiar to this:


[code]
package com.rs.game.player.dialogues.impl;


import com.rs.game.player.dialogues.Dialogue;


public class TestDialogue extends Dialogue {




	@Override
	public void start() {
		sendNPCDialogue(1, 9785, 
			&quot;Line 1 Dialogue&lt;br&gt;&quot;,
			&quot;Line 2 Dialogue&lt;br&gt;&quot;,
			&quot;Line 3 Dialogue&lt;br&gt;&quot;,
			&quot;Line 4 Dialogue&lt;br&gt;&quot;,
			&quot;Line 5 Dialogue&quot;);
	}


	@Override
	public void run(int interfaceId, int componentId) {
		switch (stage) {
		
		case 1:
			sendPlayerDialogue(9827, &quot;Hi there, im a player dialogue!&quot;);
			stage = 2;
			break;
			
		case 2:
			sendOptionsDialogue(&quot;Select an Option&quot;, 
					&quot;Option 1&quot;, 
					&quot;Option 2&quot;, 
					&quot;Option 3&quot;,
					&quot;Option 4&quot;,
					&quot;Option 5&quot;);
			stage = 3;
			break;
			
		case 3:
			break;
		}
	}


	@Override
	public void finish() {
		// TODO Auto-generated method stub
		
	}


}
[/code]


Now we&#39;re working with case 3.
In case 3, to make the button have it&#39;s own option, we can do something like this:


[code]
	case 3:
		if (componentId == OPTION_1) {
			// option 1
		}
		if (componentId == OPTION_2) {
			// option 2
		}
		if (componentId == OPTION_3) {
			// option 3
		}
		if (componentId == OPTION_4) {
			// option 4
		}
		if (componentId == OPTION_5) {
			// option 5
		}
		break;
[/code]


Each if statement has it&#39;s own corresponding button, in order, that corresponds with case 2. You can do various things here like sending more NPC Dialogue with player responses, or open shops, or whatever. You can make a button open a shop by using this method:




[code]ShopsHandler.openShop(player, 1);[/code]


1 is the Shop Id that you wish to open. This can be found in your unpackedShops.txt file in data/items folder in your source (most of the time)


Shown in example:
[code]
	case 2:
	sendOptionsDialogue(&quot;Select an Option&quot;, 
			&quot;General Store&quot;, // I changed this button label so players know what they&#39;re clicking
			&quot;Option 2&quot;, 
			&quot;Option 3&quot;,
			&quot;Option 4&quot;,
			&quot;Option 5&quot;);
		stage = 3;
		break;
[/code]


You can remove any of the options you wish. Now since this is poiting to stage 3 (case 3), we change case 3 to this:


[code]
	case 3:
		if (componentId == OPTION_1) {
			ShopsHandler.openShop(player, 1);
		}
		if (componentId == OPTION_2) {
			// option 2
		}
		if (componentId == OPTION_3) {
			// option 3
		}
		if (componentId == OPTION_4) {
			// option 4
		}
		if (componentId == OPTION_5) {
			// option 5
		}
		break;
[/code]


So now your class should look lik ethis:


[code]
package com.rs.game.player.dialogues.impl;


import com.rs.game.player.dialogues.Dialogue;
import com.rs.utils.ShopsHandler;


public class TestDialogue extends Dialogue {


	@Override
	public void start() {
		sendNPCDialogue(1, 9785, 
			&quot;Line 1 Dialogue&lt;br&gt;&quot;,
			&quot;Line 2 Dialogue&lt;br&gt;&quot;,
			&quot;Line 3 Dialogue&lt;br&gt;&quot;,
			&quot;Line 4 Dialogue&lt;br&gt;&quot;,
			&quot;Line 5 Dialogue&quot;);
	}


	@Override
	public void run(int interfaceId, int componentId) {
		switch (stage) {
		
		case 1:
			sendPlayerDialogue(9827, &quot;Hi there, im a player dialogue!&quot;);
			stage = 2;
			break;
			
		case 2:
			sendOptionsDialogue(&quot;Select an Option&quot;, 
					&quot;General Store&quot;, 
					&quot;Option 2&quot;, 
					&quot;Option 3&quot;,
					&quot;Option 4&quot;,
					&quot;Option 5&quot;);
			stage = 3;
			break;
			
		case 3:
			if (componentId == OPTION_1) {
				ShopsHandler.openShop(player, 1);
			}
			if (componentId == OPTION_2) {
				// option 2
			}
			if (componentId == OPTION_3) {
				// option 3
			}
			if (componentId == OPTION_4) {
				// option 4
			}
			if (componentId == OPTION_5) {
				// option 5
			}
			break;
		}
	}


	@Override
	public void finish() {
		// TODO Auto-generated method stub
		
	}


}
[/code]


If you want the dialogue to close at any time, like when opening a shop, you can use the end method above the openShop method like so :


[code]
if (componentId == OPTION_1) {
	end(); // closes the chatbox and ends the dialogue
	ShopsHandler.openShop(player, 1); // sends the shop
}
[/code]




Welp, think I&#39;ve explained enough hopefully to get someone started on writing dialogues. Now hopefully i shouldn&#39;t be bothered &gt;_&gt;


if you want a full example, see below (inb4 someone copies &amp; pastes wthout even trying to read this, you know its gonna happen then people are gonna be like &quot;how i add another stage?????????&quot;) 




[code]
package com.rs.game.player.dialogues.impl;




import com.rs.game.player.dialogues.Dialogue;
import com.rs.utils.ShopsHandler;




public class TestDialogue extends Dialogue {




	/**
	 * You will need to initialize this dialogue in DialogueHandler by doing this:
	 * 
	 * handledDialogues.put(&quot;TestDialogue&quot;, (Class&lt;Dialogue&gt;) Class.forName(TestDialogue.getCanonicalName()));
	 * 
	 * You just put this with the rest, and in NPCHandler where the rest of the dialogues are handled, add this:
	 * 
	 * player.getDialogueManager().startDialogue(&quot;TestDialogue&quot;, npc.getId());
	 * 
	 * ^ This will start the dialogue when you click the npc
	 */
	int npcId;
	
	@Override
	public void start() {
		// the start of the dialogue
		npcId = (Integer) parameters[0]; // grabs the Id when you call this dialogue
		sendNPCDialogue(npcId, 9785, 
			&quot;Welcome to ServerName, &quot;+player.getDisplayName()+&quot;!&lt;br&gt;&quot;,
			&quot;I have various shops that you may buy from!&lt;br&gt;&quot;,
			&quot;So what would you like to do?&quot;);
	}




	@Override
	public void run(int interfaceId, int componentId) {
		switch (stage) {
		
		case 1:
			sendPlayerDialogue(9827, &quot;Hi there, im a player dialogue!&quot;);
			stage = 2;
			break;
			
		case 2:
			sendOptionsDialogue(&quot;Select an Option&quot;, 
				&quot;General Store&quot;,
				&quot;Specials Store&quot;,
				&quot;Armour Kits&quot;,
				&quot;Weapons Store&quot;,
				&quot;Nevermind&quot;);
			stage = 3;
			break;
			
		case 3:
			// none of these probably match your shop id&#39;s
			if (componentId == OPTION_1) {
				end(); // removes dialogue
				ShopsHandler.openShop(player, 1);
			}
			if (componentId == OPTION_2) {
				end(); // removes dialogue
				ShopsHandler.openShop(player, 2);
			}
			if (componentId == OPTION_3) {
				end(); // removes dialogue
				ShopsHandler.openShop(player, 3);
			}
			if (componentId == OPTION_4) {
				end(); // removes dialogue
				ShopsHandler.openShop(player, 4);
			}
			if (componentId == OPTION_5) {
				npcId = (Integer) parameters[0]; // grabs the Id when you call this dialogue
				sendNPCDialogue(npcId, 9785, 
					&quot;Pffft, get lost, didnt want ur damn money anyway!&quot;);
				stage = 4;
			}
			break;
			
		case 4:
			end();
			// since stage 4 as definied above was just the npc talking shit,
			// we finish the dialogue
			break;
		}
	}




	@Override
	public void finish() {
		end(); // removes the dialogue properly
	}


}
[/code]
Just FYI:


sendPlayerDialogue(9827, &quot;Hi there, im a player dialogue!&quot;);
sendNPCDialogue(npcId, 9785, &quot;line&quot;, &quot;line&quot;, &quot;line&quot;);


9827 and 9785 is the expressions for either the player or the npc. These can be changed if you know the correct animation id&#39;s.</description>
    
    <lastBuildDate>Sun, 18 May 2014 03:23:20 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@pure2ownage Pure_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure2ownage">@pure2ownage</a> wrote:</p>
          <blockquote>
              <p>lol</p>
<p>OT Good job!!!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/19</link>
        <pubDate>Sun, 18 May 2014 03:23:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-19</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>[quote=“arham 4, post:17, topic:540571”][quote author=Dan0194 link=topic=659433.msg4424420#msg4424420 date=1400099955]<br>
Actually you would use poll() and peek() gf. Again being serious I found my dialogue being faster when I used queue.<br>
[/quote]Do you realize you contradicted yourself now?</p>
<p>I consider myself a noob. So if I couldn’t understand that, then how would all the other “noobs” understand that?</p>
<p>Simplicity is key.[/quote]<br>
What?</p>
<p>If your talking about the methods poll() and peek() there just</p>
<p>poll() &gt; retrieves first value in the queue and then removes it<br>
peek() &gt; retrieves first value in the queue</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/18</link>
        <pubDate>Thu, 15 May 2014 00:38:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-18</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@arham_4 arham 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/arham_4">@arham_4</a> wrote:</p>
          <blockquote>
              <p>[quote=“Dan0194, post:16, topic:540571”]Actually you would use poll() and peek() gf. Again being serious I found my dialogue being faster when I used queue.[/quote]Do you realize you contradicted yourself now?</p>
<p>I consider myself a noob. So if I couldn’t understand that, then how would all the other “noobs” understand that?</p>
<p>Simplicity is key.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/17</link>
        <pubDate>Wed, 14 May 2014 21:07:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-17</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>Actually you would use poll() and peek() gf. Again being serious I found my dialogue being faster when I used queue.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/16</link>
        <pubDate>Wed, 14 May 2014 20:39:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-16</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@arham_4 arham 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/arham_4">@arham_4</a> wrote:</p>
          <blockquote>
              <p>[quote=“Dan0194, post:14, topic:540571”][quote author=arham 4 link=topic=659433.msg4424345#msg4424345 date=1400027922]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Instead of using a switch for the dialogue just use a queue.</p>
</blockquote>
</aside>
<p>MoparScapers… always trying to “improve” something that is already fine.</p>
</blockquote>
</aside>
<p>It seems like he’s trying to over complicate and ruin the code some more <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
</blockquote>
</aside>
<p>Hmm don’t think so bud a queue would work pretty well here.</p>
</blockquote>
</aside>
<p>Over complicated…</p>
<p>Why can’t anyone design systems that make content writing EASY rather than more difficult and look like spaghetti code…</p>
</blockquote>
</aside>
<p>I don’t understand why it’s so complicated wouldn’t it be easier.</p>
<p>instead of doing this</p>
<p><code>public void handleDialogue(Player player) {
switch(player.getNpcDialogue()) {
case 0:
//dialogue
break;
case 1:
//dialogue
break;
case 2:
//dialogue
break;
case 3:
//dialogue
break;
case 4:
//dialogue
break;
case 5:
//dialogue
break;
}</code></p>
<p>With queue:</p>
<p><code>public void handleDialogue(Player player) {
player.getDialogue().add(dialogue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
}</code></p>
</blockquote>
</aside>
<p>Why? Just why…?<br>
[/quote]<br>
u mad broz.</p>
<p>No honestly with this u don’t have to keep calling the method over and over just on the start up it grabs all the data.[/quote]<br>
No, I’m not. Its just the same shit goes on this section.</p>
<blockquote>*someone posts code*
*someone "improves" the code to show they know something*
*argument*
*person who posts code never comes back*</blockquote>
Also, wow! A call to "add" 5 times and then calling them all with a get(index) is MUCH more better than a call to different dialogue methods (sendPlayerChat, sendNpcChat, etc.) 5 times! We learn something new everyday, don't we...
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/15</link>
        <pubDate>Wed, 14 May 2014 03:59:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-15</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>[quote=“arham 4, post:13, topic:540571”][quote author=Dan0194 link=topic=659433.msg4424309#msg4424309 date=1400010535]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Instead of using a switch for the dialogue just use a queue.</p>
</blockquote>
</aside>
<p>MoparScapers… always trying to “improve” something that is already fine.</p>
</blockquote>
</aside>
<p>It seems like he’s trying to over complicate and ruin the code some more <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
</blockquote>
</aside>
<p>Hmm don’t think so bud a queue would work pretty well here.</p>
</blockquote>
</aside>
<p>Over complicated…</p>
<p>Why can’t anyone design systems that make content writing EASY rather than more difficult and look like spaghetti code…</p>
</blockquote>
</aside>
<p>I don’t understand why it’s so complicated wouldn’t it be easier.</p>
<p>instead of doing this</p>
<p><code>public void handleDialogue(Player player) {
switch(player.getNpcDialogue()) {
case 0:
//dialogue
break;
case 1:
//dialogue
break;
case 2:
//dialogue
break;
case 3:
//dialogue
break;
case 4:
//dialogue
break;
case 5:
//dialogue
break;
}</code></p>
<p>With queue:</p>
<p><code>public void handleDialogue(Player player) {
player.getDialogue().add(dialogue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
}</code><br>
[/quote]<br>
Why? Just why…?[/quote]<br>
u mad broz.</p>
<p>No honestly with this u don’t have to keep calling the method over and over just on the start up it grabs all the data.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/14</link>
        <pubDate>Wed, 14 May 2014 02:47:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-14</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@arham_4 arham 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/arham_4">@arham_4</a> wrote:</p>
          <blockquote>
              <p>[quote=“Dan0194, post:11, topic:540571”][quote author=AtomicInt_ link=topic=659433.msg4424293#msg4424293 date=1400008146]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Instead of using a switch for the dialogue just use a queue.</p>
</blockquote>
</aside>
<p>MoparScapers… always trying to “improve” something that is already fine.</p>
</blockquote>
</aside>
<p>It seems like he’s trying to over complicate and ruin the code some more <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
</blockquote>
</aside>
<p>Hmm don’t think so bud a queue would work pretty well here.</p>
</blockquote>
</aside>
<p>Over complicated…</p>
<p>Why can’t anyone design systems that make content writing EASY rather than more difficult and look like spaghetti code…<br>
[/quote]</p>
<p>I don’t understand why it’s so complicated wouldn’t it be easier.</p>
<p>instead of doing this</p>
<p><code>public void handleDialogue(Player player) {
switch(player.getNpcDialogue()) {
case 0:
//dialogue
break;
case 1:
//dialogue
break;
case 2:
//dialogue
break;
case 3:
//dialogue
break;
case 4:
//dialogue
break;
case 5:
//dialogue
break;
}</code></p>
<p>With queue:</p>
<p><code>public void handleDialogue(Player player) {
player.getDialogue().add(dialogue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
}</code>[/quote]<br>
Why? Just why…?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/13</link>
        <pubDate>Wed, 14 May 2014 00:38:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-13</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Dan0194, post:11, topic:540571”][quote author=AtomicInt_ link=topic=659433.msg4424293#msg4424293 date=1400008146]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Instead of using a switch for the dialogue just use a queue.</p>
</blockquote>
</aside>
<p>MoparScapers… always trying to “improve” something that is already fine.</p>
</blockquote>
</aside>
<p>It seems like he’s trying to over complicate and ruin the code some more <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
</blockquote>
</aside>
<p>Hmm don’t think so bud a queue would work pretty well here.</p>
</blockquote>
</aside>
<p>Over complicated…</p>
<p>Why can’t anyone design systems that make content writing EASY rather than more difficult and look like spaghetti code…<br>
[/quote]</p>
<p>I don’t understand why it’s so complicated wouldn’t it be easier.</p>
<p>instead of doing this</p>
<p><code>public void handleDialogue(Player player) {
switch(player.getNpcDialogue()) {
case 0:
//dialogue
break;
case 1:
//dialogue
break;
case 2:
//dialogue
break;
case 3:
//dialogue
break;
case 4:
//dialogue
break;
case 5:
//dialogue
break;
}</code></p>
<p>With queue:</p>
<p><code>public void handleDialogue(Player player) {
player.getDialogue().add(dialogue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
}</code>[/quote]</p>
<p>That would cause more boiler plate than using a widget listener for all dialogue with the option to override for example a next() method which returns the next dialogue listener if it exists, this could be executed whenever the continue() event is</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/12</link>
        <pubDate>Tue, 13 May 2014 19:57:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-12</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>[quote=“AtomicInt_, post:10, topic:540571”][quote author=Dan0194 link=topic=659433.msg4424291#msg4424291 date=1400007268]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Instead of using a switch for the dialogue just use a queue.</p>
</blockquote>
</aside>
<p>MoparScapers… always trying to “improve” something that is already fine.</p>
</blockquote>
</aside>
<p>It seems like he’s trying to over complicate and ruin the code some more <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
</blockquote>
</aside>
<p>Hmm don’t think so bud a queue would work pretty well here.<br>
[/quote]</p>
<p>Over complicated…</p>
<p>Why can’t anyone design systems that make content writing EASY rather than more difficult and look like spaghetti code…[/quote]</p>
<p>I don’t understand why it’s so complicated wouldn’t it be easier.</p>
<p>instead of doing this</p>
<p><code>public void handleDialogue(Player player) {
switch(player.getNpcDialogue()) {
case 0:
//dialogue
break;
case 1:
//dialogue
break;
case 2:
//dialogue
break;
case 3:
//dialogue
break;
case 4:
//dialogue
break;
case 5:
//dialogue
break;
}</code></p>
<p>With queue:</p>
<p><code>public void handleDialogue(Player player) {
player.getDialogue().add(dialogue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
player.getDialogue().add(dialgoue);
}</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/11</link>
        <pubDate>Tue, 13 May 2014 19:48:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-11</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Dan0194, post:9, topic:540571”][quote author=Ashi link=topic=659433.msg4424260#msg4424260 date=1399994956]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Instead of using a switch for the dialogue just use a queue.</p>
</blockquote>
</aside>
<p>MoparScapers… always trying to “improve” something that is already fine.</p>
</blockquote>
</aside>
<p>It seems like he’s trying to over complicate and ruin the code some more <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
[/quote]<br>
Hmm don’t think so bud a queue would work pretty well here.[/quote]</p>
<p>Over complicated…</p>
<p>Why can’t anyone design systems that make content writing EASY rather than more difficult and look like spaghetti code…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/10</link>
        <pubDate>Tue, 13 May 2014 19:09:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-10</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>[quote=“Ashi, post:8, topic:540571”][quote author=arham 4 link=topic=659433.msg4424248#msg4424248 date=1399982849]</p>
<aside class="quote">
<blockquote>
<p>Instead of using a switch for the dialogue just use a queue.</p>
</blockquote>
</aside>
<p>MoparScapers… always trying to “improve” something that is already fine.<br>
[/quote]<br>
It seems like he’s trying to over complicate and ruin the code some more :p[/quote]<br>
Hmm don’t think so bud a queue would work pretty well here.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/9</link>
        <pubDate>Tue, 13 May 2014 18:54:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-9</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@Ashi Ashi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ashi">@Ashi</a> wrote:</p>
          <blockquote>
              <p>[quote=“arham 4, post:6, topic:540571”][quote author=Dan0194 link=topic=659433.msg4424247#msg4424247 date=1399982188]<br>
Instead of using a switch for the dialogue just use a queue.<br>
[/quote]<br>
MoparScapers… always trying to “improve” something that is already fine.[/quote]<br>
It seems like he’s trying to over complicate and ruin the code some more <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/8</link>
        <pubDate>Tue, 13 May 2014 15:29:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-8</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>[quote=“arham 4, post:6, topic:540571”][quote author=Dan0194 link=topic=659433.msg4424247#msg4424247 date=1399982188]<br>
Instead of using a switch for the dialogue just use a queue.<br>
[/quote]<br>
MoparScapers… always trying to “improve” something that is already fine.[/quote]<br>
Just saying it’s a bit easier too you dont have to keep adding a new case in the switch everytime.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/7</link>
        <pubDate>Tue, 13 May 2014 12:21:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-7</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@arham_4 arham 4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/arham_4">@arham_4</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="5" data-topic="540571">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/dan0194/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Dan0194:</div>
<blockquote>
<p>Instead of using a switch for the dialogue just use a queue.</p>
</blockquote>
</aside>
<p>MoparScapers… always trying to “improve” something that is already fine.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/6</link>
        <pubDate>Tue, 13 May 2014 12:07:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-6</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@Dan0194 Dan0194]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dan0194">@Dan0194</a> wrote:</p>
          <blockquote>
              <p>Instead of using a switch for the dialogue just use a queue.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/5</link>
        <pubDate>Tue, 13 May 2014 11:56:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-5</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@jefersonpang jefersonpang]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jefersonpang">@jefersonpang</a> wrote:</p>
          <blockquote>
              <p>yea it does lol i added a cooks assisants quest here resently and i added like cookstart and cook done for like a quest tracker to try and keep the dialogues with the quest parts and its like everything right and most of the time it works perfectly fine. but every now and then it just for no reason skips around and im like how the hell and its pretty much like fuck you thats how. its got a mind of its own</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/4</link>
        <pubDate>Tue, 13 May 2014 10:18:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-4</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@Ashi Ashi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ashi">@Ashi</a> wrote:</p>
          <blockquote>
              <p>use a line feed not <br> and matrix has a weird dialogue system lol</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/3</link>
        <pubDate>Tue, 13 May 2014 10:02:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-3</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@jefersonpang jefersonpang]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jefersonpang">@jefersonpang</a> wrote:</p>
          <blockquote>
              <p>Jesus man. nice tut. i was just scrolling through and noticed no one said anything so I wanted to say very nice contribute to to community. Need more people like you.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/2</link>
        <pubDate>Tue, 13 May 2014 09:57:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-2</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
      <item>
        <title>[718] How to Write Dialogues ~ Detailed</title>
        <dc:creator><![CDATA[@Fox2007 Fox2007]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/fox2007">@Fox2007</a> wrote:</p>
          <blockquote>
              <h2>Figured since Rune-serbah is getting a little rediculous with the noobs and people with too high of egos, I’d start posting some of the tutorials I posted there, on here. &gt;_&gt;</h2>
<p>So basically someone asked me how to make dialogues, so I figured if one person didnt know how, there were more people that still don’t know how, so I’ll write this in laymens terms if I can, to help the nubs understand what’s going on a little bit easier.</p>
<p>I help kk? KK i help den. ^-^</p>
<p>(and since this person asked me, I’m assuming they’ve already looked it up but couldn’t find it, so I’m posting another if there’s already a guide)</p>
<p>First, you’ll make a class, (We’re calling it TestDialogue), and in it you shall put this:</p>
<pre><code class="lang-auto">package com.rs.game.player.dialogues.impl;


import com.rs.game.player.dialogues.Dialogue;


public class TestDialogue extends Dialogue {


	@Override
	public void start() {
		// TODO Auto-generated method stub
		
	}


	@Override
	public void run(int interfaceId, int componentId) {
		// TODO Auto-generated method stub
	}


	@Override
	public void finish() {
		// TODO Auto-generated method stub	
	}


}</code></pre>
<p>Now you can see here, we have 3 methods that are mandatory in the class. If you do not have these, you will get errors when you attempt to compile. Most of the time I don’t use the last one, the finish() method. This is just used whenever you walk away or whatever.</p>
<p>Second, we now need to make this dialogue do something.<br>
Adding this to the start() method, will make a speech dialogue</p>
<pre><code class="lang-auto">sendNPCDialogue(1, 9785, 
	"Line 1 Dialogue&lt;br&gt;",
	"Line 2 Dialogue&lt;br&gt;",
	"Line 3 Dialogue&lt;br&gt;",
	"Line 4 Dialogue&lt;br&gt;",
	"Line 5 Dialogue");</code></pre>
<p>You change “Line # Dialogue” in each quotes to whatever you want the message to be. The <br> tag is HTML code for a line break. It’s not really necessary but if you want to make it look better in some cases, you can use the <br> tag to make the next line apear on its own line.</p>
<p>As of right now, you should have this:</p>
<pre><code class="lang-auto">package com.rs.game.player.dialogues.impl;


import com.rs.game.player.dialogues.Dialogue;


public class TestDialogue extends Dialogue {


	@Override
	public void start() {
		sendNPCDialogue(1, 9785, 
			"Line 1 Dialogue&lt;br&gt;",
			"Line 2 Dialogue&lt;br&gt;",
			"Line 3 Dialogue&lt;br&gt;",
			"Line 4 Dialogue&lt;br&gt;",
			"Line 5 Dialogue");
	}


	@Override
	public void run(int interfaceId, int componentId) {
		// TODO Auto-generated method stub
		
	}


	@Override
	public void finish() {
		// TODO Auto-generated method stub
	}


}</code></pre>
<p>now the run method is used for when you click a button on the dialogue, it makes it do certain things. To make the run method or this dialogue even work properly, we need to define the starting stage just above the the last bracket (}) in the start method:</p>
<pre><code class="lang-auto">@Override
	public void start() {
		sendNPCDialogue(1, 9785, 
			"Line 1 Dialogue&lt;br&gt;",
			"Line 2 Dialogue&lt;br&gt;",
			"Line 3 Dialogue&lt;br&gt;",
			"Line 4 Dialogue&lt;br&gt;",
			"Line 5 Dialogue");


		stage = 1;
	}</code></pre>
<p>You can see i added stage = 1;<br>
this is the starting stage, now that we have the stage defined (by default it’s -1, not 1, but it doesnt really matter what stage it starts at, as long as you can follow it just as easy), we can now start the run method.</p>
<p>First, make your run method like this:</p>
<pre><code class="lang-auto">	@Override
	public void run(int interfaceId, int componentId) {
		switch (stage) {
		case 1:
			break;
		case 2:
			break;
		}
	}</code></pre>
<p>so you can see I’ve now added a switch statement, which defines which stage does what. You can always add more if necessary. For now, since the first stage was an actual dialogue without options, we need to make the next button either close the dialogue, or do an action, such as send a player dialogue. Sending a player dialogue is using a different method, but it’s almost similiar:</p>
<pre><code class="lang-auto"></code></pre>
<p>So if we want the next button to send a response from the player, we make stage 1 (or case 1) send the dialogue like so:</p>
<pre><code class="lang-auto">case 1:
	sendPlayerDialogue(9827, "Hi there, im a player dialogue!");
	break;</code></pre>
<p>So now when you click the continue button, it send the player’s response. Useful for making conversations to give your server some life to it instead of just click the npc, options pop up, u click and it’s done.</p>
<p>So let’s assume we want the continue button on the player’s response to send some options, we’d need to modify the case 1 to set the stage to 2:</p>
<pre><code class="lang-auto">case 1:
	sendPlayerDialogue(9827, "Hi there, im a player dialogue!");
	stage = 2;
	break;</code></pre>
<p>So now when the player’s response is sent, we now have the stage set to 2, so stage 1 is no longer used unless you loop back to it.<br>
So now we’re working with stage 2 (case 2)</p>
<p>To send some options for the player to choose, you can use this method below, which will send up to 5 options:</p>
<pre><code class="lang-auto">sendOptionsDialogue("Select an Option", 
			"Option 1", 
			"Option 2", 
			"Option 3",
			"Option 4",
			"Option 5",
);</code></pre>
<p>Now keep in mind, once we send options, a new stage has to be set so each button can have an action, you you’ll need to define case 3, so now your class should look similiar to this:</p>
<pre><code class="lang-auto">package com.rs.game.player.dialogues.impl;


import com.rs.game.player.dialogues.Dialogue;


public class TestDialogue extends Dialogue {




	@Override
	public void start() {
		sendNPCDialogue(1, 9785, 
			"Line 1 Dialogue&lt;br&gt;",
			"Line 2 Dialogue&lt;br&gt;",
			"Line 3 Dialogue&lt;br&gt;",
			"Line 4 Dialogue&lt;br&gt;",
			"Line 5 Dialogue");
	}


	@Override
	public void run(int interfaceId, int componentId) {
		switch (stage) {
		
		case 1:
			sendPlayerDialogue(9827, "Hi there, im a player dialogue!");
			stage = 2;
			break;
			
		case 2:
			sendOptionsDialogue("Select an Option", 
					"Option 1", 
					"Option 2", 
					"Option 3",
					"Option 4",
					"Option 5");
			stage = 3;
			break;
			
		case 3:
			break;
		}
	}


	@Override
	public void finish() {
		// TODO Auto-generated method stub
		
	}


}</code></pre>
<p>Now we’re working with case 3.<br>
In case 3, to make the button have it’s own option, we can do something like this:</p>
<pre><code class="lang-auto">	case 3:
		if (componentId == OPTION_1) {
			// option 1
		}
		if (componentId == OPTION_2) {
			// option 2
		}
		if (componentId == OPTION_3) {
			// option 3
		}
		if (componentId == OPTION_4) {
			// option 4
		}
		if (componentId == OPTION_5) {
			// option 5
		}
		break;</code></pre>
<p>Each if statement has it’s own corresponding button, in order, that corresponds with case 2. You can do various things here like sending more NPC Dialogue with player responses, or open shops, or whatever. You can make a button open a shop by using this method:</p>
<pre><code class="lang-auto"></code></pre>
<p>1 is the Shop Id that you wish to open. This can be found in your unpackedShops.txt file in data/items folder in your source (most of the time)</p>
<p>Shown in example:</p>
<pre><code class="lang-auto">	case 2:
	sendOptionsDialogue("Select an Option", 
			"General Store", // I changed this button label so players know what they're clicking
			"Option 2", 
			"Option 3",
			"Option 4",
			"Option 5");
		stage = 3;
		break;</code></pre>
<p>You can remove any of the options you wish. Now since this is poiting to stage 3 (case 3), we change case 3 to this:</p>
<pre><code class="lang-auto">	case 3:
		if (componentId == OPTION_1) {
			ShopsHandler.openShop(player, 1);
		}
		if (componentId == OPTION_2) {
			// option 2
		}
		if (componentId == OPTION_3) {
			// option 3
		}
		if (componentId == OPTION_4) {
			// option 4
		}
		if (componentId == OPTION_5) {
			// option 5
		}
		break;</code></pre>
<p>So now your class should look lik ethis:</p>
<pre><code class="lang-auto">package com.rs.game.player.dialogues.impl;


import com.rs.game.player.dialogues.Dialogue;
import com.rs.utils.ShopsHandler;


public class TestDialogue extends Dialogue {


	@Override
	public void start() {
		sendNPCDialogue(1, 9785, 
			"Line 1 Dialogue&lt;br&gt;",
			"Line 2 Dialogue&lt;br&gt;",
			"Line 3 Dialogue&lt;br&gt;",
			"Line 4 Dialogue&lt;br&gt;",
			"Line 5 Dialogue");
	}


	@Override
	public void run(int interfaceId, int componentId) {
		switch (stage) {
		
		case 1:
			sendPlayerDialogue(9827, "Hi there, im a player dialogue!");
			stage = 2;
			break;
			
		case 2:
			sendOptionsDialogue("Select an Option", 
					"General Store", 
					"Option 2", 
					"Option 3",
					"Option 4",
					"Option 5");
			stage = 3;
			break;
			
		case 3:
			if (componentId == OPTION_1) {
				ShopsHandler.openShop(player, 1);
			}
			if (componentId == OPTION_2) {
				// option 2
			}
			if (componentId == OPTION_3) {
				// option 3
			}
			if (componentId == OPTION_4) {
				// option 4
			}
			if (componentId == OPTION_5) {
				// option 5
			}
			break;
		}
	}


	@Override
	public void finish() {
		// TODO Auto-generated method stub
		
	}


}</code></pre>
<p>If you want the dialogue to close at any time, like when opening a shop, you can use the end method above the openShop method like so :</p>
<pre><code class="lang-auto">if (componentId == OPTION_1) {
	end(); // closes the chatbox and ends the dialogue
	ShopsHandler.openShop(player, 1); // sends the shop
}</code></pre>
<p>Welp, think I’ve explained enough hopefully to get someone started on writing dialogues. Now hopefully i shouldn’t be bothered &gt;_&gt;</p>
<p>if you want a full example, see below (inb4 someone copies &amp; pastes wthout even trying to read this, you know its gonna happen then people are gonna be like “how i add another stage???”)</p>
<pre><code class="lang-auto">package com.rs.game.player.dialogues.impl;




import com.rs.game.player.dialogues.Dialogue;
import com.rs.utils.ShopsHandler;




public class TestDialogue extends Dialogue {




	/**
	 * You will need to initialize this dialogue in DialogueHandler by doing this:
	 * 
	 * handledDialogues.put("TestDialogue", (Class&lt;Dialogue&gt;) Class.forName(TestDialogue.getCanonicalName()));
	 * 
	 * You just put this with the rest, and in NPCHandler where the rest of the dialogues are handled, add this:
	 * 
	 * player.getDialogueManager().startDialogue("TestDialogue", npc.getId());
	 * 
	 * ^ This will start the dialogue when you click the npc
	 */
	int npcId;
	
	@Override
	public void start() {
		// the start of the dialogue
		npcId = (Integer) parameters[0]; // grabs the Id when you call this dialogue
		sendNPCDialogue(npcId, 9785, 
			"Welcome to ServerName, "+player.getDisplayName()+"!&lt;br&gt;",
			"I have various shops that you may buy from!&lt;br&gt;",
			"So what would you like to do?");
	}




	@Override
	public void run(int interfaceId, int componentId) {
		switch (stage) {
		
		case 1:
			sendPlayerDialogue(9827, "Hi there, im a player dialogue!");
			stage = 2;
			break;
			
		case 2:
			sendOptionsDialogue("Select an Option", 
				"General Store",
				"Specials Store",
				"Armour Kits",
				"Weapons Store",
				"Nevermind");
			stage = 3;
			break;
			
		case 3:
			// none of these probably match your shop id's
			if (componentId == OPTION_1) {
				end(); // removes dialogue
				ShopsHandler.openShop(player, 1);
			}
			if (componentId == OPTION_2) {
				end(); // removes dialogue
				ShopsHandler.openShop(player, 2);
			}
			if (componentId == OPTION_3) {
				end(); // removes dialogue
				ShopsHandler.openShop(player, 3);
			}
			if (componentId == OPTION_4) {
				end(); // removes dialogue
				ShopsHandler.openShop(player, 4);
			}
			if (componentId == OPTION_5) {
				npcId = (Integer) parameters[0]; // grabs the Id when you call this dialogue
				sendNPCDialogue(npcId, 9785, 
					"Pffft, get lost, didnt want ur damn money anyway!");
				stage = 4;
			}
			break;
			
		case 4:
			end();
			// since stage 4 as definied above was just the npc talking shit,
			// we finish the dialogue
			break;
		}
	}




	@Override
	public void finish() {
		end(); // removes the dialogue properly
	}


}</code></pre>
<p>Just FYI:</p>
<p>sendPlayerDialogue(9827, “Hi there, im a player dialogue!”);<br>
sendNPCDialogue(npcId, 9785, “line”, “line”, “line”);</p>
<p>9827 and 9785 is the expressions for either the player or the npc. These can be changed if you know the correct animation id’s.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571/1</link>
        <pubDate>Mon, 24 Feb 2014 05:45:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-540571-1</guid>
        <source url="https://forum.moparisthebest.com/t/718-how-to-write-dialogues-detailed/540571.rss">[718] How to Write Dialogues ~ Detailed</source>
      </item>
  </channel>
</rss>
