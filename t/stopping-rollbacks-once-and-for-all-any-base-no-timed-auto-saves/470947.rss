<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
    <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947</link>
    <description>[B]If you are using a base like Runesource, Hyperion, Apollo, etc. you do [B]not[/B] need this tutorial. Please turn back.[/B]


[U][B]Intro[/B][/U]

The actual code added is not long enough to a be a tutorial, but I&#39;m going to post a lot of detail and info regarding this subject so I think its beefed up enough to be a tutorial.

I can&#39;t believe I have never seen this implemented in the place of what most people are using now.


[B][U]The Problem[/U][/B]

Those stupid timed auto saves. Takes up processing time saving players and not to mention those stupid inaccurate process timers used to time the auto-saves, you can find an explanation to why they are inaccurate and unreliable here: 

[QUOTE=Graham]PART 1: WHY PROCESS IS UNRELIABLE FOR TIMING

You may be wondering why I say process() is unreliable for timing. Process() is called every 500ms. The main server loop ensures this. If you have a look at the code, you even see it takes into account the previous processing time.

For instance on a large server, a situation like this happens:

1. Players are being processed, there are hundreds so it takes a long time. (E.g. 200 ms).

2. Server sleeps for 300 ms

That means the total execution time of the loop would have been 500ms, meaning a stable call to the player processing every 500 ms.

Now we are going to step through your server and see what actually happens when the players are processed.

In the server class, you will see this call in the main server loop:


[code]playerHandler.process();[/code]

That&#39;s being called every 500ms and runs in a stable loop.

So lets go to the PlayerHandler class, and see what the process() there is actually doing.

It is pretty complicated and scary, but we are looking for this part:


[code]for(int i = 0; i &lt; MAXIMUM_PLAYERS; i++) {
if(players[i] == null) continue;

players[i].actionAmount--;

players[i].preProcessing();
while(players[i].process());
players[i].postProcessing();[/code]

If you can see, players[i].process is being called in a while loop. That means it could be called multiple times. So our process() method in the client class, which some people use for timing could actually be run more than once every 500ms, making unreliable timers! Your timers could be running twice, three times or four times as fast!

Now, we are going to look at the process() method in the client class. Specifically, the end of it.

The part we are looking at is this:


[code]
if(disconnected) return false;
try {
parseOutgoingPackets();
if(timeOutCounter++ &gt; 20) {
Misc.println(&quot;Client lost connection: timeout&quot;);
disconnected = true;
return false;
}
if(in == null) return false;

int avail = in.available();
if(avail == 0) return false;

if(packetType == -1) {
packetType = in.read() &amp; 0xff;
if(inStreamDecryption != null)
packetType = packetType - inStreamDecryption.getNextKey() &amp; 0xff;
packetSize = packetSizes[packetType];
avail--;
            }
if(packetSize == -1) {
if(avail &gt; 0) {
// this is a variable size packet, the next byte containing the length of said
packetSize = in.read() &amp; 0xff;
avail--;
}
else return false;
}
if(avail &lt; packetSize) return false;// packet not completely arrived here yet

fillInStream(packetSize);
            timeOutCounter = 0;// reset

parseIncomingPackets();// method that does actually interprete these packets

packetType = -1;
} catch(java.lang.Exception __ex) {
Misc.println(&quot;BlakeScape Server: Exception!&quot;);
__ex.printStackTrace(); 
disconnected = true;
}
return true;[/code]

As it runs on a while loop, whenever true is returned, it runs a second time. If you see, true is returned whenever a whole packet is read.

That means, a clever bot (or player), could send a huge amount of packets in 500 ms. Maybe 10. Maybe 20. And then that would cause process() to be called 10 or 20 times a second. Maybe every 30, 40 or 50!

In fact, you don&#39;t even need a bot to do this. Mass clicking will do. So that means, your process() timers could be running anywhere from 10x - 50x faster than they should with a clever player!

That is why process() is a complete failure for putting timers. In fact, in my opinion, you should only put packet processing code there.

Also, if you put lots of timers (that don&#39;t run often), there is little point. Why have it consuming CPU power when you could put them in a list (array) of events?[/QUOTE]


[B][U]The Solution[/U][/B]

The solution to this problem is as easily stated: [B]a shutdown hook[/B].

And what you may ask, is a shutdown hook?

A shutdown hook is basically a thread that is started right before the VM shuts down. If you look in the Runtime docs, you’ll find a method named addShutdownHook, which takes a Thread object as it’s single parameter. What this method does is registering the Thread to be started right before the VM shuts down.

Now how can we add this shutdown hook? Simple, create a class which extends thread and make it register the shutdown hook on startup.


[B][U]The Tutorial[/U][/B]

[B]Difficulty: 2/10 (seriously a retard could do this)
Time: Less than five minutes
Classes modified: ShutdownHook (new), Server[/B]

First things first, create a new class named &#39;ShutdownHook&#39; and put this in it:

[CODE=java]/**
 * Shutdown hook, so if the vm ever crashes it saves players before exiting,
 * this takes away the need for timed auto-saves
 *
 * @author lare96
 */
public class ShutdownHook extends Thread {
 
        /**
         * Our shutdownhook, this is the code that will execute before the vm is
         * going to exit
         */
        @Override
        public void run() {
                System.out.println(&quot;The shutdown hook has been executed&quot;);
 
                /**
                 * Loop through all players
                 */
                for (Player p : PlayerHandler.players) {
 
                        /**
                         * Check if we are saving an ACTUAL player
                         */
                        if (p != null) {
 
                                /**
                                 * Create a new client player
                                 */
                                Client players = (Client) p;
 
                                /**
                                 * Actually saves the player, try-catch statement for any errors
                                 * we may come across
                                 */
                                try {
                                        players.savegame(true);
                                        System.out.println(&quot;Players sucessfully saved, exiting...&quot;);
                                } catch (Exception e) {
                                        e.printStackTrace();
                                }
                        }
                }
        }
}
[/CODE]

You may need to change some things in here particular to your server base. I&#39;m not going to spoon feed you. Figure it out.

We now need to register the shutdown hook on start up. Open your server class and add this in your main method:

[CODE=java]/**
 * Registers our shutdown hook
 */
ShutdownHook hook = new ShutdownHook();
Runtime.getRuntime().addShutdownHook(hook);[/CODE]

and that&#39;s it!


[B][U]Testing The Shutdown Hook[/U][/B]

[CODE=java]if(cmd.equals(&quot;shutdown&quot;)) {
     System.exit(1);
}[/CODE]

The result of typing this command would be (based on my hook):

&quot;The shutdown hook has been executed&quot;
*saves players*
&quot;Players sucessfully saved, exiting...&quot;


[B][U]Conclusion[/U][/B]

No more worries, no more timed auto-saves. If the server ever crashes, your shutdown hook will execute.

This does [B]not[/B] work if the server is terminated manually with the red button in eclipse (or the batch file is manually closed with the x button, for those that don&#39;t use IDE&#39;s)</description>
    
    <lastBuildDate>Wed, 14 May 2014 17:28:03 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="33" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/xethanx/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> xEthanx:</div>
<blockquote>
<p>Yeah honestly. Nothing wrong with a scheduled restart like every 3 hours or so and have the files save then so the rollbacks are minimized. Or even better yet, have it save like once  every 30 mins like others have suggested. I’m unconvinced of this whole theory. If the virtual machine crashes, you shouldn’t be expecting it to just be able to start a new thread, I mean I suppose it’s possible, but it just doesn’t seem likely. Also starting threads “just in case” isn’t the best idea.</p>
</blockquote>
</aside>
<p>or just avoid rollbacks altogether by programming properly lol</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/35">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/35</link>
        <pubDate>Wed, 14 May 2014 17:28:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-35</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Ashi Ashi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ashi">@Ashi</a> wrote:</p>
          <blockquote>
              <p>[quote=“AtomicInt_, post:30, topic:470947”]Using an asynchronous database manager (so you don’t put any extra stress on the game-logic thread), whether this be one you wrote yourself or an API which should be native to your game-server to handle serialization, logging, etc</p>
<p>I personally use MySQL as it is simply awesome compared to flat file IO</p>
<p>• Very fast to search through very large tables (if you set up the indexes properly!).<br>
• Transactions to ensure something works or it doesn’t. This means you won’t end up having something half-saved (what if your server crashed in the middle of writing a file to the disk?).<br>
• Partitioning to split data across multiple servers - some DBMSs will handle this automatically for you.<br>
• Querying/searching is easy - and you can do pretty advanced stuff with SQL. A basic implementation of saving files on the disk won’t allow you to easily and quickly find people who are suspected of abusing a duping bug, for example.<br>
• Atomic updates - in the context of RSPS this could help prevents duping issues among other things (e.g. make sure updating a player’s bank and inventory when they withdraw is atomic).<br>
• Recovery of corrupted data[/quote]<br>
Okay I understand what you mean now.</p>
<p>Using SQL is the preferred method anyway.<br>
JBoss Hibernate would allow you to do the server code very nicely <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>As for the OT: You should create a batch process to save all the players.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/34">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/34</link>
        <pubDate>Wed, 14 May 2014 07:07:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-34</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@xEthanx xEthanx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xethanx">@xEthanx</a> wrote:</p>
          <blockquote>
              <p>Yeah honestly. Nothing wrong with a scheduled restart like every 3 hours or so and have the files save then so the rollbacks are minimized. Or even better yet, have it save like once  every 30 mins like others have suggested. I’m unconvinced of this whole theory. If the virtual machine crashes, you shouldn’t be expecting it to just be able to start a new thread, I mean I suppose it’s possible, but it just doesn’t seem likely. Also starting threads “just in case” isn’t the best idea.</p>
<p>AtomicInt’s right, mySQL is definitely the way to go on this one. Clever idea though. <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/33">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/33</link>
        <pubDate>Wed, 14 May 2014 00:56:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-33</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="31" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/sinisoul/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sinisoul:</div>
<blockquote>
<p>You shouldn’t be handling I/O operations on your game thread anyway lmao</p>
</blockquote>
</aside>
<p>i know</p>
<p>[quote=“AtomicInt_, post:30, topic:470947”]Using an asynchronous database manager (so you don’t put any extra stress on the game-logic thread), whether this be one you wrote yourself or an API which should be native to your game-server to handle serialization, logging, etc</p>
<p>I personally use MySQL as it is simply awesome compared to flat file IO</p>
<p>• Very fast to search through very large tables (if you set up the indexes properly!).<br>
• Transactions to ensure something works or it doesn’t. This means you won’t end up having something half-saved (what if your server crashed in the middle of writing a file to the disk?).<br>
• Partitioning to split data across multiple servers - some DBMSs will handle this automatically for you.<br>
• Querying/searching is easy - and you can do pretty advanced stuff with SQL. A basic implementation of saving files on the disk won’t allow you to easily and quickly find people who are suspected of abusing a duping bug, for example.<br>
• Atomic updates - in the context of RSPS this could help prevents duping issues among other things (e.g. make sure updating a player’s bank and inventory when they withdraw is atomic).<br>
• Recovery of corrupted data[/quote]<br>
sounds extremely convenient</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/32">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/32</link>
        <pubDate>Wed, 14 May 2014 00:44:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-32</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>You shouldn’t be handling I/O operations on your game thread anyway lmao</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/31">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/31</link>
        <pubDate>Wed, 14 May 2014 00:19:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-31</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>Using an asynchronous database manager (so you don’t put any extra stress on the game-logic thread), whether this be one you wrote yourself or an API which should be native to your game-server to handle serialization, logging, etc</p>
<p>I personally use MySQL as it is simply awesome compared to flat file IO</p>
<p>• Very fast to search through very large tables (if you set up the indexes properly!).<br>
• Transactions to ensure something works or it doesn’t. This means you won’t end up having something half-saved (what if your server crashed in the middle of writing a file to the disk?).<br>
• Partitioning to split data across multiple servers - some DBMSs will handle this automatically for you.<br>
• Querying/searching is easy - and you can do pretty advanced stuff with SQL. A basic implementation of saving files on the disk won’t allow you to easily and quickly find people who are suspected of abusing a duping bug, for example.<br>
• Atomic updates - in the context of RSPS this could help prevents duping issues among other things (e.g. make sure updating a player’s bank and inventory when they withdraw is atomic).<br>
• Recovery of corrupted data</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/30">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/30</link>
        <pubDate>Tue, 13 May 2014 21:24:46 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-30</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Ashi Ashi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ashi">@Ashi</a> wrote:</p>
          <blockquote>
              <p>[quote=“AtomicInt_, post:28, topic:470947”][quote author=lare69 link=topic=588478.msg4424274#msg4424274 date=1400001895]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Your best bet would to save the players every 30-1 hour.</p>
</blockquote>
</aside>
<p>no lol that’s horrible especially because disk IO on almost every server is done on the main game thread</p>
</blockquote>
</aside>
<p>asynchronous database management</p>
</blockquote>
</aside>
<p>tf is that<br>
[/quote]</p>
<p>a more appropriate solution to the common disk-io[/quote]<br>
Care to explain?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/29">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/29</link>
        <pubDate>Tue, 13 May 2014 21:03:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-29</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>[quote=“lare69, post:27, topic:470947”][quote author=AtomicInt_ link=topic=588478.msg4424222#msg4424222 date=1399955933]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>Your best bet would to save the players every 30-1 hour.</p>
</blockquote>
</aside>
<p>no lol that’s horrible especially because disk IO on almost every server is done on the main game thread</p>
</blockquote>
</aside>
<p>asynchronous database management<br>
[/quote]<br>
tf is that[/quote]</p>
<p>a more appropriate solution to the common disk-io</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/28">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/28</link>
        <pubDate>Tue, 13 May 2014 18:04:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-28</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>[quote=“AtomicInt_, post:26, topic:470947”][quote author=lare69 link=topic=588478.msg4424220#msg4424220 date=1399954494]</p>
<aside class="quote">
<blockquote>
<p>Your best bet would to save the players every 30-1 hour.</p>
</blockquote>
</aside>
<p>no lol that’s horrible especially because disk IO on almost every server is done on the main game thread<br>
[/quote]</p>
<p>asynchronous database management[/quote]<br>
tf is that</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/27">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/27</link>
        <pubDate>Tue, 13 May 2014 17:24:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-27</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>[quote=“lare69, post:25, topic:470947”][quote author=Michael P link=topic=588478.msg4424176#msg4424176 date=1399935303]<br>
Your best bet would to save the players every 30-1 hour.<br>
[/quote]<br>
no lol that’s horrible especially because disk IO on almost every server is done on the main game thread[/quote]</p>
<p>asynchronous database management</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/26">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/26</link>
        <pubDate>Tue, 13 May 2014 04:38:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-26</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="24" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
 Michael P:</div>
<blockquote>
<p>Your best bet would to save the players every 30-1 hour.</p>
</blockquote>
</aside>
<p>no lol that’s horrible especially because disk IO on almost every server is done on the main game thread</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/25">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/25</link>
        <pubDate>Tue, 13 May 2014 04:14:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-25</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Michael_P1 Michael P]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/michael_p1">@Michael_P1</a> wrote:</p>
          <blockquote>
              <p>Your best bet would to save the players every 30-1 hour.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/24</link>
        <pubDate>Mon, 12 May 2014 22:55:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-24</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="21" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/strucker/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Strucker:</div>
<blockquote>
<p>Is it really that not reliable?</p>
</blockquote>
</aside>
<p>yes</p>
<aside class="quote" data-post="21" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/strucker/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Strucker:</div>
<blockquote>
<p>And when would it be good to use it?</p>
</blockquote>
</aside>
<p>never… it doesn’t have any practical use in rsps</p>
<aside class="quote" data-post="21" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/strucker/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Strucker:</div>
<blockquote>
<p>Or should it be used just in-case it works?</p>
</blockquote>
</aside>
<p>if you want, waste of resources that could be dedicated to processing the core of the server imo</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/23">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/23</link>
        <pubDate>Mon, 12 May 2014 03:14:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-23</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@doom_j doom_j]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/doom_j">@doom_j</a> wrote:</p>
          <blockquote>
              <p>You will never be able to stop a rollback, you can minimize the impact but chances are a roll back can and will occur at anytime.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/22">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/22</link>
        <pubDate>Mon, 12 May 2014 03:00:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-22</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@strucker Strucker]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/strucker">@strucker</a> wrote:</p>
          <blockquote>
              <p>[quote=“lare69, post:20, topic:470947”][quote author=Strucker link=topic=588478.msg4424034#msg4424034 date=1399846971]<br>
Y not bump<br>
[/quote]<br>
… why did you bump this <img src="https://forum.moparisthebest.com/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>i was wrong here shutdownhooks are pretty much useless here, program your servers better and you won’t have to worry about them crashing and “rolling back”[/quote]Is it really that not reliable?<br>
And when would it be good to use it?<br>
Or should it be used just in-case it works?<br>
I’m curious</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/21</link>
        <pubDate>Mon, 12 May 2014 02:22:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-21</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="19" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/strucker/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Strucker:</div>
<blockquote>
<p>Y not bump</p>
</blockquote>
</aside>
<p>… why did you bump this <img src="https://forum.moparisthebest.com/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>i was wrong here shutdownhooks are pretty much useless here, program your servers better and you won’t have to worry about them crashing and “rolling back”</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/20</link>
        <pubDate>Sun, 11 May 2014 23:17:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-20</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@strucker Strucker]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/strucker">@strucker</a> wrote:</p>
          <blockquote>
              <p>Y not bump</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/19</link>
        <pubDate>Sun, 11 May 2014 22:22:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-19</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="16" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/team_rocket/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Team_Rocket:</div>
<blockquote>
<p>A variety of different ways. Anything from Trade to Dead Dropping to Dueling. I’ve seen it done many times and have done it myself in the past.</p>
</blockquote>
</aside>
<p>Good point, I never thought about what could happen if players were dueling or trading or in minigames or something. Thanks for the heads up.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/18</link>
        <pubDate>Mon, 10 Dec 2012 21:57:47 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-18</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>[quote=“Clawz fury, post:13, topic:470947”][quote author=imsuperman05 link=topic=588478.msg4177465#msg4177465 date=1355148608]<br>
If you want to stop rollbacks, then just save the players file when they logout; no need for this mass save bs.<br>
[/quote]<br>
When the vm crashes the logout method isn’t even called…[/quote]Then program and restart properly to avoid vm crashes.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/17</link>
        <pubDate>Mon, 10 Dec 2012 20:47:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-17</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Team_Rocket Team_Rocket]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/team_rocket">@Team_Rocket</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="15" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
 Clawz fury:</div>
<blockquote>
<p>Interesting… How would they go about doing this?</p>
</blockquote>
</aside>
<p>A variety of different ways. Anything from Trade to Dead Dropping to Dueling. I’ve seen it done many times and have done it myself in the past.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/16</link>
        <pubDate>Mon, 10 Dec 2012 17:57:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-16</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <p>Interesting… How would they go about doing this?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/15</link>
        <pubDate>Mon, 10 Dec 2012 17:55:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-15</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Team_Rocket Team_Rocket]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/team_rocket">@Team_Rocket</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="13" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
 Clawz fury:</div>
<blockquote>
<p>How could someone exploit a shutdown hook to duplicate items? I would like to know more please.</p>
</blockquote>
</aside>
<p>I should have been more clear. I apologize. I meant that in regards as to Rollbacks and Auto-Saves. If a Player knows when a Rollback or Auto-Save will occur - they’ll be able to Duplicate Items and exploit it eventually.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/14</link>
        <pubDate>Mon, 10 Dec 2012 17:23:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-14</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Clawz_fury lare69]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/clawz_fury">@Clawz_fury</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="12" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/imsuperman05/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> imsuperman05:</div>
<blockquote>
<p>If you want to stop rollbacks, then just save the players file when they logout; no need for this mass save bs.</p>
</blockquote>
</aside>
<p>When the vm crashes the logout method isn’t even called…<br>
.</p>
<aside class="quote quote-modified" data-post="11" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/team_rocket/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Team_Rocket:</div>
<blockquote>
<p>Just throwing this out there… If you don’t do this correctly players can exploit this to Duplicate Items.</p>
</blockquote>
</aside>
<p>How could someone exploit a shutdown hook to duplicate items? I would like to know more please.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/13</link>
        <pubDate>Mon, 10 Dec 2012 17:15:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-13</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>If you want to stop rollbacks, then just save the players file when they logout; no need for this mass save bs.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/12</link>
        <pubDate>Mon, 10 Dec 2012 14:10:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-12</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
      <item>
        <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves]</title>
        <dc:creator><![CDATA[@Team_Rocket Team_Rocket]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/team_rocket">@Team_Rocket</a> wrote:</p>
          <blockquote>
              <p>Just throwing this out there… If you don’t do this correctly players can exploit this to Duplicate Items.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947/11</link>
        <pubDate>Mon, 10 Dec 2012 13:11:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-470947-11</guid>
        <source url="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947.rss">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</source>
      </item>
  </channel>
</rss>
