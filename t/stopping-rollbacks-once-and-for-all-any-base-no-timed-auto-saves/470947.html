<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 02:23:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Stopping rollbacks once and for all [Any base][NO timed auto-saves] - Runescape - moparisthebest.com</title>
    <meta name="description" content="If you are using a base like Runesource, Hyperion, Apollo, etc. you do not need this tutorial. Please turn back. 

Intro 

The actual code added is not long enough to a be a tutorial, but I&amp;#39;m going to post a lot of detai&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="470947.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Stopping rollbacks once and for all [Any base][NO timed auto-saves]&#39;" href="470947.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947" />
<meta property="og:title" content="Stopping rollbacks once and for all [Any base][NO timed auto-saves]" />
<meta name="twitter:title" content="Stopping rollbacks once and for all [Any base][NO timed auto-saves]" />
<meta property="og:description" content="If you are using a base like Runesource, Hyperion, Apollo, etc. you do not need this tutorial. Please turn back.  Intro  The actual code added is not long enough to a be a tutorial, but I’m going to post a lot of detail and info regarding this subject so I think its beefed up enough to be a tutorial.  I can’t believe I have never seen this implemented in the place of what most people are using now.  The Problem  Those stupid timed auto saves. Takes up processing time saving players and not to me..." />
<meta name="twitter:description" content="If you are using a base like Runesource, Hyperion, Apollo, etc. you do not need this tutorial. Please turn back.  Intro  The actual code added is not long enough to a be a tutorial, but I’m going to post a lot of detail and info regarding this subject so I think its beefed up enough to be a tutorial.  I can’t believe I have never seen this implemented in the place of what most people are using now.  The Problem  Those stupid timed auto saves. Takes up processing time saving players and not to me..." />
<meta property="article:published_time" content="2012-12-03T19:20:21+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="4709474658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="470947.html">Stopping rollbacks once and for all [Any base][NO timed auto-saves]</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-03T19:20:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:30:09Z' class='post-time'>
              August 4, 2016,  1:30am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><span class="bbcode-b">If you are using a base like Runesource, Hyperion, Apollo, etc. you do <span class="bbcode-b">not</span> need this tutorial. Please turn back.</span></p>
<p><span class="bbcode-u"><span class="bbcode-b">Intro</span></span></p>
<p>The actual code added is not long enough to a be a tutorial, but I’m going to post a lot of detail and info regarding this subject so I think its beefed up enough to be a tutorial.</p>
<p>I can’t believe I have never seen this implemented in the place of what most people are using now.</p>
<p><span class="bbcode-b"><span class="bbcode-u">The Problem</span></span></p>
<p>Those stupid timed auto saves. Takes up processing time saving players and not to mention those stupid inaccurate process timers used to time the auto-saves, you can find an explanation to why they are inaccurate and unreliable here:</p>
<p>[QUOTE=Graham]PART 1: WHY PROCESS IS UNRELIABLE FOR TIMING</p>
<p>You may be wondering why I say process() is unreliable for timing. Process() is called every 500ms. The main server loop ensures this. If you have a look at the code, you even see it takes into account the previous processing time.</p>
<p>For instance on a large server, a situation like this happens:</p>
<ol>
<li>
<p>Players are being processed, there are hundreds so it takes a long time. (E.g. 200 ms).</p>
</li>
<li>
<p>Server sleeps for 300 ms</p>
</li>
</ol>
<p>That means the total execution time of the loop would have been 500ms, meaning a stable call to the player processing every 500 ms.</p>
<p>Now we are going to step through your server and see what actually happens when the players are processed.</p>
<p>In the server class, you will see this call in the main server loop:</p>
<pre><code class="lang-auto"></code></pre>
<p>That’s being called every 500ms and runs in a stable loop.</p>
<p>So lets go to the PlayerHandler class, and see what the process() there is actually doing.</p>
<p>It is pretty complicated and scary, but we are looking for this part:</p>
<p>[code]for(int i = 0; i &lt; MAXIMUM_PLAYERS; i++) {<br>
if(players[i] == null) continue;</p>
<p>players[i].actionAmount–;</p>
<p>players[i].preProcessing();<br>
while(players[i].process());<br>
players[i].postProcessing();[/code]</p>
<p>If you can see, players[i].process is being called in a while loop. That means it could be called multiple times. So our process() method in the client class, which some people use for timing could actually be run more than once every 500ms, making unreliable timers! Your timers could be running twice, three times or four times as fast!</p>
<p>Now, we are going to look at the process() method in the client class. Specifically, the end of it.</p>
<p>The part we are looking at is this:</p>
<pre><code class="lang-auto">if(disconnected) return false;
try {
parseOutgoingPackets();
if(timeOutCounter++ &gt; 20) {
Misc.println("Client lost connection: timeout");
disconnected = true;
return false;
}
if(in == null) return false;

int avail = in.available();
if(avail == 0) return false;

if(packetType == -1) {
packetType = in.read() &amp; 0xff;
if(inStreamDecryption != null)
packetType = packetType - inStreamDecryption.getNextKey() &amp; 0xff;
packetSize = packetSizes[packetType];
avail--;
            }
if(packetSize == -1) {
if(avail &gt; 0) {
// this is a variable size packet, the next byte containing the length of said
packetSize = in.read() &amp; 0xff;
avail--;
}
else return false;
}
if(avail &lt; packetSize) return false;// packet not completely arrived here yet

fillInStream(packetSize);
            timeOutCounter = 0;// reset

parseIncomingPackets();// method that does actually interprete these packets

packetType = -1;
} catch(java.lang.Exception __ex) {
Misc.println("BlakeScape Server: Exception!");
__ex.printStackTrace(); 
disconnected = true;
}
return true;[/code]

As it runs on a while loop, whenever true is returned, it runs a second time. If you see, true is returned whenever a whole packet is read.

That means, a clever bot (or player), could send a huge amount of packets in 500 ms. Maybe 10. Maybe 20. And then that would cause process() to be called 10 or 20 times a second. Maybe every 30, 40 or 50!

In fact, you don't even need a bot to do this. Mass clicking will do. So that means, your process() timers could be running anywhere from 10x - 50x faster than they should with a clever player!

That is why process() is a complete failure for putting timers. In fact, in my opinion, you should only put packet processing code there.

Also, if you put lots of timers (that don't run often), there is little point. Why have it consuming CPU power when you could put them in a list (array) of events?[/QUOTE]


[B][U]The Solution[/U][/B]

The solution to this problem is as easily stated: [B]a shutdown hook[/B].

And what you may ask, is a shutdown hook?

A shutdown hook is basically a thread that is started right before the VM shuts down. If you look in the Runtime docs, you’ll find a method named addShutdownHook, which takes a Thread object as it’s single parameter. What this method does is registering the Thread to be started right before the VM shuts down.

Now how can we add this shutdown hook? Simple, create a class which extends thread and make it register the shutdown hook on startup.


[B][U]The Tutorial[/U][/B]

[B]Difficulty: 2/10 (seriously a retard could do this)
Time: Less than five minutes
Classes modified: ShutdownHook (new), Server[/B]

First things first, create a new class named 'ShutdownHook' and put this in it:

[CODE=java]/**
 * Shutdown hook, so if the vm ever crashes it saves players before exiting,
 * this takes away the need for timed auto-saves
 *
 * @author lare96
 */
public class ShutdownHook extends Thread {
 
        /**
         * Our shutdownhook, this is the code that will execute before the vm is
         * going to exit
         */
        @Override
        public void run() {
                System.out.println("The shutdown hook has been executed");
 
                /**
                 * Loop through all players
                 */
                for (Player p : PlayerHandler.players) {
 
                        /**
                         * Check if we are saving an ACTUAL player
                         */
                        if (p != null) {
 
                                /**
                                 * Create a new client player
                                 */
                                Client players = (Client) p;
 
                                /**
                                 * Actually saves the player, try-catch statement for any errors
                                 * we may come across
                                 */
                                try {
                                        players.savegame(true);
                                        System.out.println("Players sucessfully saved, exiting...");
                                } catch (Exception e) {
                                        e.printStackTrace();
                                }
                        }
                }
        }
}</code></pre>
<p>You may need to change some things in here particular to your server base. I’m not going to spoon feed you. Figure it out.</p>
<p>We now need to register the shutdown hook on start up. Open your server class and add this in your main method:</p>
<p>[CODE=java]/**</p>
<ul>
<li>Registers our shutdown hook<br>
*/<br>
ShutdownHook hook = new ShutdownHook();<br>
Runtime.getRuntime().addShutdownHook(hook);[/CODE]</li>
</ul>
<p>and that’s it!</p>
<p><span class="bbcode-b"><span class="bbcode-u">Testing The Shutdown Hook</span></span></p>
<p><code>if(cmd.equals("shutdown")) {
     System.exit(1);
}</code></p>
<p>The result of typing this command would be (based on my hook):</p>
<p>“The shutdown hook has been executed”<br>
<em>saves players</em><br>
“Players sucessfully saved, exiting…”</p>
<p><span class="bbcode-b"><span class="bbcode-u">Conclusion</span></span></p>
<p>No more worries, no more timed auto-saves. If the server ever crashes, your shutdown hook will execute.</p>
<p>This does <span class="bbcode-b">not</span> work if the server is terminated manually with the red button in eclipse (or the batch file is manually closed with the x button, for those that don’t use IDE’s)</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-03T19:43:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:30:09Z' class='post-time'>
              August 4, 2016,  1:30am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This also doesn’t work if the computer crashes or the VM crashes. It’s good to have an auto save just in case.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/enzo42.html'><span itemprop='name'>enzo42</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-03T20:29:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:30:11Z' class='post-time'>
              August 4, 2016,  1:30am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So… I don’t get it, if the server crashes it still does not save the players?<br>
Why is this needed then?</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-04T01:48:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:30:50Z' class='post-time'>
              August 4, 2016,  1:30am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="2" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ambokile/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ambokile:</div>
<blockquote>
<p>This also doesn’t work if the computer crashes or the VM crashes. It’s good to have an auto save just in case.</p>
</blockquote>
</aside>
<p>What are you talking about</p>
<blockquote>If the virtual machine aborts then no guarantee can be made about whether or not any shutdown hooks will be run.</blockquote>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-04T08:17:54Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:31:11Z' class='post-time'>
              August 4, 2016,  1:31am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What do you mean? I was telling other people that it’s good to have an “auto save” just incase the VM crashes.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/doom_j.html'><span itemprop='name'>doom_j</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-04T08:57:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:31:19Z' class='post-time'>
              August 4, 2016,  1:31am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>To bad this isn’t as efficient as you think it is…</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-04T12:01:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:31:22Z' class='post-time'>
              August 4, 2016,  1:31am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="5" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ambokile/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ambokile:</div>
<blockquote>
<p>What do you mean? I was telling other people that it’s good to have an “auto save” just incase the VM crashes.</p>
</blockquote>
</aside>
<p>my mistake</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Int_Bauk.html'><span itemprop='name'>Int_Bauk</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-04T18:15:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:31:31Z' class='post-time'>
              August 4, 2016,  1:31am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="5" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/ambokile/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Ambokile:</div>
<blockquote>
<p>What do you mean? I was telling other people that it’s good to have an “auto save” just incase the VM crashes.</p>
</blockquote>
</aside>
<p>no it’s not. try saving a 1,000 players every 600ms.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-04T18:16:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:31:31Z' class='post-time'>
              August 4, 2016,  1:31am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Int Bauk, post:8, topic:470947”][quote author=Ambokile link=topic=588478.msg4173069#msg4173069 date=1354609074]<br>
What do you mean? I was telling other people that it’s good to have an “auto save” just incase the VM crashes.<br>
[/quote]</p>
<p>no it’s not. try saving a 1,000 players every 600ms.[/quote]</p>
<p>oh ya lol i definitely said do that!!!</p>
<p>Saving a player on a 5 minute cycle initiated from that individual player’s login time will be just fine.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/strucker.html'><span itemprop='name'>strucker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-10T12:31:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:37:58Z' class='post-time'>
              August 4, 2016,  1:37am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>why lare <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Team_Rocket.html'><span itemprop='name'>Team_Rocket</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-10T13:11:43Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:37:58Z' class='post-time'>
              August 4, 2016,  1:37am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just throwing this out there… If you don’t do this correctly players can exploit this to Duplicate Items.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imsuperman05.html'><span itemprop='name'>imsuperman05</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-10T14:10:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:38:00Z' class='post-time'>
              August 4, 2016,  1:38am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If you want to stop rollbacks, then just save the players file when they logout; no need for this mass save bs.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-10T17:15:44Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:38:04Z' class='post-time'>
              August 4, 2016,  1:38am
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="12" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/imsuperman05/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> imsuperman05:</div>
<blockquote>
<p>If you want to stop rollbacks, then just save the players file when they logout; no need for this mass save bs.</p>
</blockquote>
</aside>
<p>When the vm crashes the logout method isn’t even called…<br>
.</p>
<aside class="quote quote-modified" data-post="11" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/team_rocket/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Team_Rocket:</div>
<blockquote>
<p>Just throwing this out there… If you don’t do this correctly players can exploit this to Duplicate Items.</p>
</blockquote>
</aside>
<p>How could someone exploit a shutdown hook to duplicate items? I would like to know more please.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Team_Rocket.html'><span itemprop='name'>Team_Rocket</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-10T17:23:08Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:38:05Z' class='post-time'>
              August 4, 2016,  1:38am
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="13" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
 Clawz fury:</div>
<blockquote>
<p>How could someone exploit a shutdown hook to duplicate items? I would like to know more please.</p>
</blockquote>
</aside>
<p>I should have been more clear. I apologize. I meant that in regards as to Rollbacks and Auto-Saves. If a Player knows when a Rollback or Auto-Save will occur - they’ll be able to Duplicate Items and exploit it eventually.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-10T17:55:02Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:38:06Z' class='post-time'>
              August 4, 2016,  1:38am
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Interesting… How would they go about doing this?</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Team_Rocket.html'><span itemprop='name'>Team_Rocket</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-10T17:57:57Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:38:06Z' class='post-time'>
              August 4, 2016,  1:38am
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="15" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
 Clawz fury:</div>
<blockquote>
<p>Interesting… How would they go about doing this?</p>
</blockquote>
</aside>
<p>A variety of different ways. Anything from Trade to Dead Dropping to Dueling. I’ve seen it done many times and have done it myself in the past.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/imsuperman05.html'><span itemprop='name'>imsuperman05</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-10T20:47:27Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:38:10Z' class='post-time'>
              August 4, 2016,  1:38am
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Clawz fury, post:13, topic:470947”][quote author=imsuperman05 link=topic=588478.msg4177465#msg4177465 date=1355148608]<br>
If you want to stop rollbacks, then just save the players file when they logout; no need for this mass save bs.<br>
[/quote]<br>
When the vm crashes the logout method isn’t even called…[/quote]Then program and restart properly to avoid vm crashes.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-12-10T21:57:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T01:38:13Z' class='post-time'>
              August 4, 2016,  1:38am
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote quote-modified" data-post="16" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/team_rocket/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Team_Rocket:</div>
<blockquote>
<p>A variety of different ways. Anything from Trade to Dead Dropping to Dueling. I’ve seen it done many times and have done it myself in the past.</p>
</blockquote>
</aside>
<p>Good point, I never thought about what could happen if players were dueling or trading or in minigames or something. Thanks for the heads up.</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/strucker.html'><span itemprop='name'>strucker</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-11T22:22:51Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:07:42Z' class='post-time'>
              August 4, 2016,  1:07pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Y not bump</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-05-11T23:17:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:07:42Z' class='post-time'>
              August 4, 2016,  1:07pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="19" data-topic="470947">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/strucker/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Strucker:</div>
<blockquote>
<p>Y not bump</p>
</blockquote>
</aside>
<p>… why did you bump this <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>i was wrong here shutdownhooks are pretty much useless here, program your servers better and you won’t have to worry about them crashing and “rolling back”</p>
      </div>

      <meta itemprop='headline' content='Stopping rollbacks once and for all [Any base][NO timed auto-saves]'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="4709474658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/stopping-rollbacks-once-and-for-all-any-base-no-timed-auto-saves/470947 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 02:23:02 GMT -->
</html>
