<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/a-simple-command-to-display-the-last-tick-time/350042 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 18:12:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>A simple command to display the last &#39;Tick&#39; time - Runescape - moparisthebest.com</title>
    <meta name="description" content="This tutorial will show you how to add a simple command that will send your character a message, to inform you of the latency of the last server &amp;#39;tick&amp;#39;. This can be put to good use - it can tell you whether the server ti&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="350042.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;A simple command to display the last &#39;Tick&#39; time&#39;" href="350042.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/a-simple-command-to-display-the-last-tick-time/350042" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/a-simple-command-to-display-the-last-tick-time/350042" />
<meta property="og:title" content="A simple command to display the last &#39;Tick&#39; time" />
<meta name="twitter:title" content="A simple command to display the last &#39;Tick&#39; time" />
<meta property="og:description" content="This tutorial will show you how to add a simple command that will send your character a message, to inform you of the latency of the last server ‘tick’. This can be put to good use - it can tell you whether the server tick is under a lot of “stress” (a longer delay) because of more players online etc (This could be used to tell you what amount of players is suitable for your computer specs by checking if the latency of the ‘tick’ is average or over/under what it should be).  A server tick is wha..." />
<meta name="twitter:description" content="This tutorial will show you how to add a simple command that will send your character a message, to inform you of the latency of the last server ‘tick’. This can be put to good use - it can tell you whether the server tick is under a lot of “stress” (a longer delay) because of more players online etc (This could be used to tell you what amount of players is suitable for your computer specs by checking if the latency of the ‘tick’ is average or over/under what it should be).  A server tick is wha..." />
<meta property="article:published_time" content="2010-07-19T15:49:52+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="350042.html">A simple command to display the last &#39;Tick&#39; time</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/primadude.html'><span itemprop='name'>primadude</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-19T15:49:52Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:56:35Z' class='post-time'>
              July 31, 2016,  5:56pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This tutorial will show you how to add a simple command that will send your character a message, to inform you of the latency of the last server ‘tick’. This can be put to good use - it can tell you whether the server tick is under a lot of “stress” (a longer delay) because of more players online etc (This could be used to tell you what amount of players is suitable for your computer specs by checking if the latency of the ‘tick’ is average or over/under what it should be).</p>
<p>A server tick is what all the server “processing” is run on. Every tick, the player, npc and other processing are called <span class="bbcode-i"><span class="bbcode-u"><span class="bbcode-b">once</span></span></span>. Most servers run on a tick of around 600ms (0.6 seconds).<br>
For more information on what a ‘Tick’ is, in RuneScape, look <a href="http://runescape.wikia.com/wiki/Tick" data-bbcode="true" rel="nofollow noopener">here</a>.</p>
<p>The latency is how much more of a delay that the tick is taking to complete. This command that you will be creating in this tutorial will tell you how long each ‘tick’ is taking to complete.</p>
<p>Firstly, we need to declare the variable that we will be using to find out the tick time. This will need to be delcared in the class that processing takes place in (Server.java, or whatever your server equivalent is e.g. Engine.java).</p>
<pre><code class="lang-auto">public long tickTime;</code></pre>
<p>Next, we need to make this equal to the current time. Usually System.currentTimeMillis() would be used, however we want a more accurate measure of how long the server tick takes to complete, so therefore we will be using System.nanoTime() - This gets a more accurate measure of the current time that System.currentTimeMillis().<br>
In your Server class or whatever class contains the server’s “processing”, you will see something similar to:</p>
<p><code>                        playerHandler.process();
                        npcHandler.process();
                        itemHandler.process();
                        shopHandler.process();</code></p>
<p>It may or may not contain more processed methods. <span class="bbcode-u"><span class="bbcode-b">Before</span></span> the first processed method call, you will need to add:</p>
<pre><code class="lang-auto">long currentTime = System.nanoTime() / 1000000;</code></pre>
<p>This will get the current time that the program (server) has been running for, in milliseconds. It has to be divided by 1000000 because a nanosecond is a billionth of a second and, in order to get the latency in milliseconds, we divide it by 1 million.</p>
<p>Next, we need to place this <span class="bbcode-b"><span class="bbcode-u">after</span></span> the processed methods are called:</p>
<pre><code class="lang-auto">tickTime = (System.nanoTime() / 1000000) - currentTime;</code></pre>
<p>The current time is subtracted by the ‘currentTime’ variable. This gets our delay in milliseconds, e.g. 200ms (0.2 seconds).</p>
<p>Finally, we need to create our command that will tell us the latency of the server last server tick.</p>
<p><code>if (command.equals("ticktime")) {
	sendMessage("Time taken for last tick: "+ Server.tickTime +"ms.");
}</code></p>
<p>This command will send your character a message in the chatbox of how long the last ‘tick’ took to complete, in milliseconds.</p>
<p>If you have any problems, don’t hesitate to post them here or PM me them ;).</p>
      </div>

      <meta itemprop='headline' content='A simple command to display the last &#39;Tick&#39; time'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_icestorm.html'><span itemprop='name'>_icestorm</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-19T16:01:38Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:56:37Z' class='post-time'>
              July 31, 2016,  5:56pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Good Job <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='A simple command to display the last &#39;Tick&#39; time'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Opium10.html'><span itemprop='name'>Opium10</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2010-07-19T16:10:32Z'>
            <time itemprop='dateModified' datetime='2016-07-31T17:56:38Z' class='post-time'>
              July 31, 2016,  5:56pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="2" data-topic="350042">
<div class="title">
<div class="quote-controls"></div>
 ~*icestorm*~:</div>
<blockquote>
<p>Good Job <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
</aside>
<p>I also agree with you, i’d rep you but i’m 2 rep because of these idiots on the forums.</p>
      </div>

      <meta itemprop='headline' content='A simple command to display the last &#39;Tick&#39; time'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/a-simple-command-to-display-the-last-tick-time/350042 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2019 18:12:37 GMT -->
</html>
