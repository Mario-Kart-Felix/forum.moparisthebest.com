<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/java-concurrent-modification-exception/547645 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Java] Concurrent Modification Exception - General Programming - moparisthebest.com</title>
    <meta name="description" content="first off; i know what the exception is, and i know why it is thrown etc. dont judge me on my naming. i know its bad 

i just can&amp;#39;t seem to figure out how to properly do what I&amp;#39;m trying to achieve. 

Users class: [code=J&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="547645.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Java] Concurrent Modification Exception&#39;" href="547645.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645" />
<meta property="og:title" content="[Java] Concurrent Modification Exception" />
<meta name="twitter:title" content="[Java] Concurrent Modification Exception" />
<meta property="og:description" content="first off; i know what the exception is, and i know why it is thrown etc.  dont judge me on my naming. i know its bad  i just can’t seem to figure out how to properly do what I’m trying to achieve.  Users class:   [code=Java]	public static void addUser(String user) {  if (!Users.players.containsKey(user) &amp;&amp; !userlist.contains(user)) {  userlist.addElement(user); //adds to a jList  Users.players.put(user, 0); //adds to the map  }  }  public static void removeUser(String user) { 	if (Users.players..." />
<meta name="twitter:description" content="first off; i know what the exception is, and i know why it is thrown etc.  dont judge me on my naming. i know its bad  i just can’t seem to figure out how to properly do what I’m trying to achieve.  Users class:   [code=Java]	public static void addUser(String user) {  if (!Users.players.containsKey(user) &amp;&amp; !userlist.contains(user)) {  userlist.addElement(user); //adds to a jList  Users.players.put(user, 0); //adds to the map  }  }  public static void removeUser(String user) { 	if (Users.players..." />
<meta property="article:published_time" content="2014-11-05T22:53:36+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="5476454658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="547645.html">[Java] Concurrent Modification Exception</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vain1.html'><span itemprop='name'>Vain1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-05T22:53:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:01Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>first off; i know what the exception is, and i know why it is thrown etc.<br>
<span class="bbcode-b">dont judge me on my naming. i know its bad</span></p>
<p>i just can’t seem to figure out how to properly do what I’m trying to achieve.</p>
<p>Users class:</p>
<pre><code class="lang-auto"></code></pre>
<p>[code=Java]	public static void addUser(String user) {<br>
if (!Users.players.containsKey(user) &amp;&amp; !userlist.contains(user)) {<br>
userlist.addElement(user); //adds to a jList<br>
Users.players.put(user, 0); //adds to the map<br>
}<br>
}</p>
<pre><code>public static void removeUser(String user) {
	if (Users.players.containsKey(user) &amp;&amp; userlist.contains(user)) {
		userlist.removeElement(user); //remove from jList
	}
}[/code]
</code></pre>
<p>DefaultActionListener class:</p>
<p>[code=Java]					for(Map.Entry&lt;String, Integer&gt; p : Users.players.entrySet()) {<br>
String name = p.getKey();<br>
Integer id = p.getValue();</p>
<pre><code>					Object n = Users.list.getSelectedValue();
					
					if (name.equals(n)) {
						Users.removeUser(name); //removes from jList
						try {
							Users.players.remove(name); //attempts to remove from the map -&gt; throws error
						} catch (ConcurrentModificationException ex) {
							ex.printStackTrace();
						}
					}
				}[/code]
</code></pre>
<p>stack trace:</p>
<p><code>java.util.ConcurrentModificationException
	at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:373)
	at java.util.LinkedHashMap$EntryIterator.next(LinkedHashMap.java:392)
	at java.util.LinkedHashMap$EntryIterator.next(LinkedHashMap.java:391)
	at org.orcaneus.servcontrol.util.DefaultActionListener.actionPerformed(DefaultActionListener.java:118)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2028)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2351)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)
	at javax.swing.AbstractButton.doClick(AbstractButton.java:389)
	at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:809)
	at com.apple.laf.AquaMenuItemUI.doClick(AquaMenuItemUI.java:137)
	at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:850)
	at java.awt.Component.processMouseEvent(Component.java:6414)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3275)
	at java.awt.Component.processEvent(Component.java:6179)
	at java.awt.Container.processEvent(Container.java:2084)
	at java.awt.Component.dispatchEventImpl(Component.java:4776)
	at java.awt.Container.dispatchEventImpl(Container.java:2142)
	at java.awt.Component.dispatchEvent(Component.java:4604)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4618)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4279)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4209)
	at java.awt.Container.dispatchEventImpl(Container.java:2128)
	at java.awt.Window.dispatchEventImpl(Window.java:2492)
	at java.awt.Component.dispatchEvent(Component.java:4604)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:717)
	at java.awt.EventQueue.access$400(EventQueue.java:82)
	at java.awt.EventQueue$2.run(EventQueue.java:676)
	at java.awt.EventQueue$2.run(EventQueue.java:674)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:86)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:690)
	at java.awt.EventQueue$3.run(EventQueue.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:86)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:687)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
</code></p>
<p>and</p>
<p>DefaultActionListener.java:118 is:</p>
<pre><code class="lang-auto"></code></pre>
<p>i hope this is enough provided. i know its probably something really simple but everyone knows I’m stupid. so thanks &lt;3</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-05T22:59:17Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:01Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>While iterating through a collection you cannot remote/add elements.</p>
<pre><code class="lang-auto">    private class Itr implements Iterator&lt;E&gt; {

        ...

        final void checkForComodification() {
            if (modCount != expectedModCount)
                throw new ConcurrentModificationException();
        }
    }</code></pre>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vain1.html'><span itemprop='name'>Vain1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-05T23:05:06Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:01Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>lul. im an idiot. thx bb</p>
<p>also is it bad practice / bad code to set a value to null after using it? i want to avoid collision with the data so i initialize it as null, set it, then check if its not null -&gt; action, then reset to null… is that bad?</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-05T23:07:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:01Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I guess it depends. I think I’d need to see a specific example to tell you yes or no.</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vain1.html'><span itemprop='name'>Vain1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-05T23:10:24Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:01Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>well i was attempting this:</p>
<p>[code=Java]				String target = null;<br>
try {<br>
for (Map.Entry&lt;String, Integer&gt; p : Users.players<br>
.entrySet()) {<br>
String name = p.getKey();<br>
Integer id = p.getValue();</p>
<pre><code>					Object n = Users.list.getSelectedValue();

					if (name.equals(n)) {
						target = name;
					}
				}
				if (!target.equals(null)) {
					Users.players.remove(target);
					Users.removeUser(target);
				}
				target = null;[/code]
</code></pre>
<p>but when i try to execute that code, it doesn’t actually remove the data from the jList or the map.</p>
<p>it also doesn’t throw the exception unless i try executing it twice. :s</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-05T23:18:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:01Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well what exactly are you trying to achieve here?</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kattoor.html'><span itemprop='name'>Kattoor</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-05T23:19:58Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:01Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Using ConcurrentHashMap would help I guess</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-05T23:26:04Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:01Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="7" data-topic="547645">
<div class="title">
<div class="quote-controls"></div>
 Snow_:</div>
<blockquote>
<p>Using ConcurrentHashMap would help I guess</p>
</blockquote>
</aside>
<p>This isn’t a solution to this problem, you are unable to modify the collection while iterating over it. Using an iterator solves this issue.</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T00:26:18Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:02Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>use a thread-safe data structure or use mutex</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vain1.html'><span itemprop='name'>Vain1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T00:33:57Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:02Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“t4, post:9, topic:547645”]use a thread-safe data structure or use mutex[/quote]im an idiot</p>
<p>[quote=“Snow_, post:7, topic:547645”]Using ConcurrentHashMap would help I guess[/quote]a linked hash map was the only way I could achieve the sorting of my map.</p>
<p>[quote=“AtomicInt_, post:6, topic:547645”]Well what exactly are you trying to achieve here?[/quote]its a graphical control panel with a jlist for showing a list of users. I’m currently using a hash map to store ‘players’ but this will actually be the map on the server. But for now I don’t have the ability to load a client / connect to a server to test. So I’m trying to get the functionality of the ui.</p>
<p>The above code is a “kick” command which is in the ui to remove the data from the ui. However when I try to perform the command it doesn’t work. Before I posted this topic, the functionality would remove the data from the list but not the hash map (due to concurrency issues) now it won’t remove at all, but still throws the exception.</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T01:12:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:02Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>couldn’t you just clone the list when iterating.</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vain1.html'><span itemprop='name'>Vain1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T01:37:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:02Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Miss Silabsoft, post:11, topic:547645”]couldn’t you just clone the list when iterating.[/quote]im an idiot. so how would this work.</p>
<p>if i clone the list, i would remove the data from the clone - correct?<br>
if so, how would i then set the original to the clone / set the jlist to use the clone. <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>the way i had it <span class="bbcode-u">worked somewhat</span> it just threw the exception and couldn’t remove the data from the map. now it won’t even remove it from the list.</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T01:41:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:02Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="11" data-topic="547645">
<div class="title">
<div class="quote-controls"></div>
 Miss Silabsoft:</div>
<blockquote>
<p>couldn’t you just clone the list when iterating.</p>
</blockquote>
</aside>
<p>if it’s a list with a large amount of data then that’ll be very inefficient.</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T02:01:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:02Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Vain_, post:12, topic:547645”][quote author=Miss Silabsoft link=topic=666550.msg4456538#msg4456538 date=1415236353]<br>
couldn’t you just clone the list when iterating.<br>
[/quote]im an idiot. so how would this work.</p>
<p>if i clone the list, i would remove the data from the clone - correct?<br>
if so, how would i then set the original to the clone / set the jlist to use the clone. <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>the way i had it <span class="bbcode-u">worked somewhat</span> it just threw the exception and couldn’t remove the data from the map. now it won’t even remove it from the list.[/quote]</p>
<p>Iterate through the elements.</p>
<p>[code=java]<br>
Iterator&lt;Entry&lt;String, Integer&gt;&gt; it = Users.players.entrySet().iterator();<br>
while(it.hasNext()) {<br>
Entry&lt;String, Integer&gt; entry = it.next();<br>
String name = entry.getKey();<br>
int id = entry.getValue();</p>
<pre><code>// ... your code ...

// Instead of calling Users.players.remove(...) use it.remove() here
</code></pre>
<p>}[/code]</p>
<p>The purpose of an Iterator is pretty much the ability to modify a collection while iterating over it, think of an Iterator as similar to a database cursor.</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vain1.html'><span itemprop='name'>Vain1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T02:04:19Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:02Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>so apparently it was removing it from the map, just not the list. i didn’t notice it was now throwing a null pointer.</p>
<p>i fixed it by modifying the code to remove the data from the map before attempting to remove it from the list.</p>
<p>all is good now.</p>
<p>thanks for helping me <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>[quote=“AtomicInt_, post:14, topic:547645”][quote author=Vain_ link=topic=666550.msg4456539#msg4456539 date=1415237848]</p>
<aside class="quote">
<blockquote>
<p>couldn’t you just clone the list when iterating.<br>
[/quote]im an idiot. so how would this work.</p>
<p>if i clone the list, i would remove the data from the clone - correct?<br>
if so, how would i then set the original to the clone / set the jlist to use the clone. <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>the way i had it <span class="bbcode-u">worked somewhat</span> it just threw the exception and couldn’t remove the data from the map. now it won’t even remove it from the list.</p>
</blockquote>
</aside>
<p>Iterate through the elements.</p>
<p>[code=java]<br>
Iterator&lt;Entry&lt;String, Integer&gt;&gt; it = Users.players.entrySet().iterator();<br>
while(it.hasNext()) {<br>
Entry&lt;String, Integer&gt; entry = it.next();<br>
String name = entry.getKey();<br>
int id = entry.getValue();</p>
<pre><code>// ... your code ...

// Instead of calling Users.players.remove(...) use it.remove() here
</code></pre>
<p>}[/code][/quote]is this more efficient/better practice or is there something wrong with the way my code is? I’m not very profound with java outside of swing/awt - i can design pretty good, but I’m poor adding in the functionality. which is what I’m trying to do.</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T02:07:25Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:02Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It’s a safe alternative to trying to remove from your collection while iterating over it (which, as you found out doesn’t work so well, hehe), as you cannot traverse over a collection and modify it at the same time, which was your initial issue.</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T03:10:07Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:02Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="14" data-topic="547645">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>The purpose of an Iterator is pretty much the ability to traverse through a collection while iterating over it, think of an Iterator as similar to a database cursor.</p>
</blockquote>
</aside>
<p>traverse while iterating, you don’t say!</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T03:48:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:03Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“t4, post:17, topic:547645”][quote author=AtomicInt_ link=topic=666550.msg4456544#msg4456544 date=1415239302]<br>
The purpose of an Iterator is pretty much the ability to traverse through a collection while iterating over it, think of an Iterator as similar to a database cursor.<br>
[/quote]<br>
traverse while iterating, you don’t say![/quote]</p>
<p>Oops ;p</p>
<p>modify* fixed</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Protosstribe.html'><span itemprop='name'>Protosstribe</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T19:49:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:08Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Note that all your Swing modifications should be performed in the Event Dispatch Thread. SwingUtilities.invokeLater(Runnable) and SwingUtilities.invokeAndWait(Runnable) can be used for that.</p>
<p>If that’s the case, and all your traversal operations and modification operations are performed in the Event Dispatch Thread (other ways are to use ActionListeners, SwingWorkers and the like), you won’t ever get any ConcurrentModificationExceptions.</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vain1.html'><span itemprop='name'>Vain1</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T19:56:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:08Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“object, post:19, topic:547645”]Note that all your Swing modifications should be performed in the Event Dispatch Thread. SwingUtilities.invokeLater(Runnable) and SwingUtilities.invokeAndWait(Runnable) can be used for that.</p>
<p>If that’s the case, and all your traversal operations and modification operations are performed in the Event Dispatch Thread (other ways are to use ActionListeners, SwingWorkers and the like), you won’t ever get any ConcurrentModificationExceptions.[/quote]im not quite sure I understand what you’re saying. What exactly do you mean by “swing modifications”</p>
<p>And I am using action listeners o.o</p>
<p>Dumb it down a bit?</p>
      </div>

      <meta itemprop='headline' content='[Java] Concurrent Modification Exception'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="5476454658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/java-concurrent-modification-exception/547645 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:59 GMT -->
</html>
