<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Java] Concurrent Modification Exception</title>
    <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645</link>
    <description>first off; i know what the exception is, and i know why it is thrown etc.
[b]dont judge me on my naming. i know its bad[/b]

i just can&#39;t seem to figure out how to properly do what I&#39;m trying to achieve.

Users class:
[code=Java]	public static Map&lt;String, Integer&gt; players = new LinkedHashMap();[/code]

[code=Java]	public static void addUser(String user) {
		if (!Users.players.containsKey(user) &amp;&amp; !userlist.contains(user)) {
			userlist.addElement(user); //adds to a jList
			Users.players.put(user, 0); //adds to the map
		}
	}
	
	public static void removeUser(String user) {
		if (Users.players.containsKey(user) &amp;&amp; userlist.contains(user)) {
			userlist.removeElement(user); //remove from jList
		}
	}[/code]

DefaultActionListener class:
[code=Java]					for(Map.Entry&lt;String, Integer&gt; p : Users.players.entrySet()) {
						String name = p.getKey();
						Integer id = p.getValue();
						
						Object n = Users.list.getSelectedValue();
						
						if (name.equals(n)) {
							Users.removeUser(name); //removes from jList
							try {
								Users.players.remove(name); //attempts to remove from the map -&gt; throws error
							} catch (ConcurrentModificationException ex) {
								ex.printStackTrace();
							}
						}
					}[/code]



stack trace:
[code]java.util.ConcurrentModificationException
	at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:373)
	at java.util.LinkedHashMap$EntryIterator.next(LinkedHashMap.java:392)
	at java.util.LinkedHashMap$EntryIterator.next(LinkedHashMap.java:391)
	at org.orcaneus.servcontrol.util.DefaultActionListener.actionPerformed(DefaultActionListener.java:118)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2028)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2351)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)
	at javax.swing.AbstractButton.doClick(AbstractButton.java:389)
	at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:809)
	at com.apple.laf.AquaMenuItemUI.doClick(AquaMenuItemUI.java:137)
	at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:850)
	at java.awt.Component.processMouseEvent(Component.java:6414)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3275)
	at java.awt.Component.processEvent(Component.java:6179)
	at java.awt.Container.processEvent(Container.java:2084)
	at java.awt.Component.dispatchEventImpl(Component.java:4776)
	at java.awt.Container.dispatchEventImpl(Container.java:2142)
	at java.awt.Component.dispatchEvent(Component.java:4604)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4618)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4279)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4209)
	at java.awt.Container.dispatchEventImpl(Container.java:2128)
	at java.awt.Window.dispatchEventImpl(Window.java:2492)
	at java.awt.Component.dispatchEvent(Component.java:4604)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:717)
	at java.awt.EventQueue.access$400(EventQueue.java:82)
	at java.awt.EventQueue$2.run(EventQueue.java:676)
	at java.awt.EventQueue$2.run(EventQueue.java:674)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:86)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:690)
	at java.awt.EventQueue$3.run(EventQueue.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:86)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:687)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
[/code]

and 

DefaultActionListener.java:118 is:
[code=Java]					for(Map.Entry&lt;String, Integer&gt; p : Users.players.entrySet()) {[/code]


i hope this is enough provided. i know its probably something really simple but everyone knows I&#39;m stupid. so thanks &lt;3</description>
    
    <lastBuildDate>Fri, 07 Nov 2014 09:11:29 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>If you really have a problem using <code>.iterator()</code> you could use a copy of the collection:</p>
<pre><code class="lang-auto">        final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();
        final Map&lt;String, String&gt; mapCopy = Collections.unmodifiableMap(map);
        for (final String key: mapCopy.keys()) {
            if (condition) {
                map.remove(key);
            }
        }</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/24</link>
        <pubDate>Fri, 07 Nov 2014 09:11:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-24</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@lothy Lothy]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/lothy">@lothy</a> wrote:</p>
          <blockquote>
              <p>You can remove items while iterating - you need to use the old style of iteration though instead of a foreach loop, and you call the iterator’s remove() method.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/23">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/23</link>
        <pubDate>Fri, 07 Nov 2014 05:55:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-23</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>That made a lot more sense.</p>
<p>I’ll probably end up posting the code to get some feedback because the code is probably horrible/inefficient but <span class="bbcode-i">works</span>.</p>
<p>I’m pretty decent at designing aesthetically pleasing swing applications but the code probably makes programmers cringe.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/22">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/22</link>
        <pubDate>Thu, 06 Nov 2014 22:28:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-22</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Protosstribe object]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/protosstribe">@Protosstribe</a> wrote:</p>
          <blockquote>
              <p>Okay, what I mean is that if you’re changing properties of any Swing components, adding things to them or removing things from them etc, then that should be performed in the Event Dispatch Thread.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/21</link>
        <pubDate>Thu, 06 Nov 2014 20:01:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-21</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>[quote=“object, post:19, topic:547645”]Note that all your Swing modifications should be performed in the Event Dispatch Thread. SwingUtilities.invokeLater(Runnable) and SwingUtilities.invokeAndWait(Runnable) can be used for that.</p>
<p>If that’s the case, and all your traversal operations and modification operations are performed in the Event Dispatch Thread (other ways are to use ActionListeners, SwingWorkers and the like), you won’t ever get any ConcurrentModificationExceptions.[/quote]im not quite sure I understand what you’re saying. What exactly do you mean by “swing modifications”</p>
<p>And I am using action listeners o.o</p>
<p>Dumb it down a bit?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/20</link>
        <pubDate>Thu, 06 Nov 2014 19:56:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-20</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Protosstribe object]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/protosstribe">@Protosstribe</a> wrote:</p>
          <blockquote>
              <p>Note that all your Swing modifications should be performed in the Event Dispatch Thread. SwingUtilities.invokeLater(Runnable) and SwingUtilities.invokeAndWait(Runnable) can be used for that.</p>
<p>If that’s the case, and all your traversal operations and modification operations are performed in the Event Dispatch Thread (other ways are to use ActionListeners, SwingWorkers and the like), you won’t ever get any ConcurrentModificationExceptions.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/19</link>
        <pubDate>Thu, 06 Nov 2014 19:49:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-19</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>[quote=“t4, post:17, topic:547645”][quote author=AtomicInt_ link=topic=666550.msg4456544#msg4456544 date=1415239302]<br>
The purpose of an Iterator is pretty much the ability to traverse through a collection while iterating over it, think of an Iterator as similar to a database cursor.<br>
[/quote]<br>
traverse while iterating, you don’t say![/quote]</p>
<p>Oops ;p</p>
<p>modify* fixed</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/18</link>
        <pubDate>Thu, 06 Nov 2014 03:48:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-18</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="14" data-topic="547645">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>The purpose of an Iterator is pretty much the ability to traverse through a collection while iterating over it, think of an Iterator as similar to a database cursor.</p>
</blockquote>
</aside>
<p>traverse while iterating, you don’t say!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/17</link>
        <pubDate>Thu, 06 Nov 2014 03:10:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-17</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>It’s a safe alternative to trying to remove from your collection while iterating over it (which, as you found out doesn’t work so well, hehe), as you cannot traverse over a collection and modify it at the same time, which was your initial issue.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/16</link>
        <pubDate>Thu, 06 Nov 2014 02:07:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-16</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>so apparently it was removing it from the map, just not the list. i didn’t notice it was now throwing a null pointer.</p>
<p>i fixed it by modifying the code to remove the data from the map before attempting to remove it from the list.</p>
<p>all is good now.</p>
<p>thanks for helping me <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>[quote=“AtomicInt_, post:14, topic:547645”][quote author=Vain_ link=topic=666550.msg4456539#msg4456539 date=1415237848]</p>
<aside class="quote">
<blockquote>
<p>couldn’t you just clone the list when iterating.<br>
[/quote]im an idiot. so how would this work.</p>
<p>if i clone the list, i would remove the data from the clone - correct?<br>
if so, how would i then set the original to the clone / set the jlist to use the clone. <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>the way i had it <span class="bbcode-u">worked somewhat</span> it just threw the exception and couldn’t remove the data from the map. now it won’t even remove it from the list.</p>
</blockquote>
</aside>
<p>Iterate through the elements.</p>
<p>[code=java]<br>
Iterator&lt;Entry&lt;String, Integer&gt;&gt; it = Users.players.entrySet().iterator();<br>
while(it.hasNext()) {<br>
Entry&lt;String, Integer&gt; entry = it.next();<br>
String name = entry.getKey();<br>
int id = entry.getValue();</p>
<pre><code>// ... your code ...

// Instead of calling Users.players.remove(...) use it.remove() here
</code></pre>
<p>}[/code][/quote]is this more efficient/better practice or is there something wrong with the way my code is? I’m not very profound with java outside of swing/awt - i can design pretty good, but I’m poor adding in the functionality. which is what I’m trying to do.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/15</link>
        <pubDate>Thu, 06 Nov 2014 02:04:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-15</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>[quote=“Vain_, post:12, topic:547645”][quote author=Miss Silabsoft link=topic=666550.msg4456538#msg4456538 date=1415236353]<br>
couldn’t you just clone the list when iterating.<br>
[/quote]im an idiot. so how would this work.</p>
<p>if i clone the list, i would remove the data from the clone - correct?<br>
if so, how would i then set the original to the clone / set the jlist to use the clone. <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>the way i had it <span class="bbcode-u">worked somewhat</span> it just threw the exception and couldn’t remove the data from the map. now it won’t even remove it from the list.[/quote]</p>
<p>Iterate through the elements.</p>
<p>[code=java]<br>
Iterator&lt;Entry&lt;String, Integer&gt;&gt; it = Users.players.entrySet().iterator();<br>
while(it.hasNext()) {<br>
Entry&lt;String, Integer&gt; entry = it.next();<br>
String name = entry.getKey();<br>
int id = entry.getValue();</p>
<pre><code>// ... your code ...

// Instead of calling Users.players.remove(...) use it.remove() here
</code></pre>
<p>}[/code]</p>
<p>The purpose of an Iterator is pretty much the ability to modify a collection while iterating over it, think of an Iterator as similar to a database cursor.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/14</link>
        <pubDate>Thu, 06 Nov 2014 02:01:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-14</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="11" data-topic="547645">
<div class="title">
<div class="quote-controls"></div>
 Miss Silabsoft:</div>
<blockquote>
<p>couldn’t you just clone the list when iterating.</p>
</blockquote>
</aside>
<p>if it’s a list with a large amount of data then that’ll be very inefficient.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/13</link>
        <pubDate>Thu, 06 Nov 2014 01:41:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-13</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>[quote=“Miss Silabsoft, post:11, topic:547645”]couldn’t you just clone the list when iterating.[/quote]im an idiot. so how would this work.</p>
<p>if i clone the list, i would remove the data from the clone - correct?<br>
if so, how would i then set the original to the clone / set the jlist to use the clone. <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>the way i had it <span class="bbcode-u">worked somewhat</span> it just threw the exception and couldn’t remove the data from the map. now it won’t even remove it from the list.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/12</link>
        <pubDate>Thu, 06 Nov 2014 01:37:28 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-12</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@silabsoft RuneAgent]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/silabsoft">@silabsoft</a> wrote:</p>
          <blockquote>
              <p>couldn’t you just clone the list when iterating.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/11</link>
        <pubDate>Thu, 06 Nov 2014 01:12:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-11</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>[quote=“t4, post:9, topic:547645”]use a thread-safe data structure or use mutex[/quote]im an idiot</p>
<p>[quote=“Snow_, post:7, topic:547645”]Using ConcurrentHashMap would help I guess[/quote]a linked hash map was the only way I could achieve the sorting of my map.</p>
<p>[quote=“AtomicInt_, post:6, topic:547645”]Well what exactly are you trying to achieve here?[/quote]its a graphical control panel with a jlist for showing a list of users. I’m currently using a hash map to store ‘players’ but this will actually be the map on the server. But for now I don’t have the ability to load a client / connect to a server to test. So I’m trying to get the functionality of the ui.</p>
<p>The above code is a “kick” command which is in the ui to remove the data from the ui. However when I try to perform the command it doesn’t work. Before I posted this topic, the functionality would remove the data from the list but not the hash map (due to concurrency issues) now it won’t remove at all, but still throws the exception.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/10</link>
        <pubDate>Thu, 06 Nov 2014 00:33:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-10</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>use a thread-safe data structure or use mutex</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/9</link>
        <pubDate>Thu, 06 Nov 2014 00:26:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-9</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="7" data-topic="547645">
<div class="title">
<div class="quote-controls"></div>
 Snow_:</div>
<blockquote>
<p>Using ConcurrentHashMap would help I guess</p>
</blockquote>
</aside>
<p>This isn’t a solution to this problem, you are unable to modify the collection while iterating over it. Using an iterator solves this issue.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/8</link>
        <pubDate>Wed, 05 Nov 2014 23:26:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-8</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Kattoor Snow_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kattoor">@Kattoor</a> wrote:</p>
          <blockquote>
              <p>Using ConcurrentHashMap would help I guess</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/7</link>
        <pubDate>Wed, 05 Nov 2014 23:19:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-7</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>Well what exactly are you trying to achieve here?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/6</link>
        <pubDate>Wed, 05 Nov 2014 23:18:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-6</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>well i was attempting this:</p>
<p>[code=Java]				String target = null;<br>
try {<br>
for (Map.Entry&lt;String, Integer&gt; p : Users.players<br>
.entrySet()) {<br>
String name = p.getKey();<br>
Integer id = p.getValue();</p>
<pre><code>					Object n = Users.list.getSelectedValue();

					if (name.equals(n)) {
						target = name;
					}
				}
				if (!target.equals(null)) {
					Users.players.remove(target);
					Users.removeUser(target);
				}
				target = null;[/code]
</code></pre>
<p>but when i try to execute that code, it doesn’t actually remove the data from the jList or the map.</p>
<p>it also doesn’t throw the exception unless i try executing it twice. :s</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/5</link>
        <pubDate>Wed, 05 Nov 2014 23:10:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-5</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>I guess it depends. I think I’d need to see a specific example to tell you yes or no.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/4</link>
        <pubDate>Wed, 05 Nov 2014 23:07:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-4</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>lul. im an idiot. thx bb</p>
<p>also is it bad practice / bad code to set a value to null after using it? i want to avoid collision with the data so i initialize it as null, set it, then check if its not null -&gt; action, then reset to null… is that bad?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/3</link>
        <pubDate>Wed, 05 Nov 2014 23:05:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-3</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>While iterating through a collection you cannot remote/add elements.</p>
<pre><code class="lang-auto">    private class Itr implements Iterator&lt;E&gt; {

        ...

        final void checkForComodification() {
            if (modCount != expectedModCount)
                throw new ConcurrentModificationException();
        }
    }</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/2</link>
        <pubDate>Wed, 05 Nov 2014 22:59:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-2</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
      <item>
        <title>[Java] Concurrent Modification Exception</title>
        <dc:creator><![CDATA[@Vain1 Vain_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/vain1">@Vain1</a> wrote:</p>
          <blockquote>
              <p>first off; i know what the exception is, and i know why it is thrown etc.<br>
<span class="bbcode-b">dont judge me on my naming. i know its bad</span></p>
<p>i just can’t seem to figure out how to properly do what I’m trying to achieve.</p>
<p>Users class:</p>
<pre><code class="lang-auto"></code></pre>
<p>[code=Java]	public static void addUser(String user) {<br>
if (!Users.players.containsKey(user) &amp;&amp; !userlist.contains(user)) {<br>
userlist.addElement(user); //adds to a jList<br>
Users.players.put(user, 0); //adds to the map<br>
}<br>
}</p>
<pre><code>public static void removeUser(String user) {
	if (Users.players.containsKey(user) &amp;&amp; userlist.contains(user)) {
		userlist.removeElement(user); //remove from jList
	}
}[/code]
</code></pre>
<p>DefaultActionListener class:</p>
<p>[code=Java]					for(Map.Entry&lt;String, Integer&gt; p : Users.players.entrySet()) {<br>
String name = p.getKey();<br>
Integer id = p.getValue();</p>
<pre><code>					Object n = Users.list.getSelectedValue();
					
					if (name.equals(n)) {
						Users.removeUser(name); //removes from jList
						try {
							Users.players.remove(name); //attempts to remove from the map -&gt; throws error
						} catch (ConcurrentModificationException ex) {
							ex.printStackTrace();
						}
					}
				}[/code]
</code></pre>
<p>stack trace:</p>
<p><code>java.util.ConcurrentModificationException
	at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:373)
	at java.util.LinkedHashMap$EntryIterator.next(LinkedHashMap.java:392)
	at java.util.LinkedHashMap$EntryIterator.next(LinkedHashMap.java:391)
	at org.orcaneus.servcontrol.util.DefaultActionListener.actionPerformed(DefaultActionListener.java:118)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2028)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2351)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)
	at javax.swing.AbstractButton.doClick(AbstractButton.java:389)
	at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:809)
	at com.apple.laf.AquaMenuItemUI.doClick(AquaMenuItemUI.java:137)
	at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:850)
	at java.awt.Component.processMouseEvent(Component.java:6414)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3275)
	at java.awt.Component.processEvent(Component.java:6179)
	at java.awt.Container.processEvent(Container.java:2084)
	at java.awt.Component.dispatchEventImpl(Component.java:4776)
	at java.awt.Container.dispatchEventImpl(Container.java:2142)
	at java.awt.Component.dispatchEvent(Component.java:4604)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4618)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4279)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4209)
	at java.awt.Container.dispatchEventImpl(Container.java:2128)
	at java.awt.Window.dispatchEventImpl(Window.java:2492)
	at java.awt.Component.dispatchEvent(Component.java:4604)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:717)
	at java.awt.EventQueue.access$400(EventQueue.java:82)
	at java.awt.EventQueue$2.run(EventQueue.java:676)
	at java.awt.EventQueue$2.run(EventQueue.java:674)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:86)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:690)
	at java.awt.EventQueue$3.run(EventQueue.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:86)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:687)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
</code></p>
<p>and</p>
<p>DefaultActionListener.java:118 is:</p>
<pre><code class="lang-auto"></code></pre>
<p>i hope this is enough provided. i know its probably something really simple but everyone knows I’m stupid. so thanks &lt;3</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645/1</link>
        <pubDate>Wed, 05 Nov 2014 22:53:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-547645-1</guid>
        <source url="https://forum.moparisthebest.com/t/java-concurrent-modification-exception/547645.rss">[Java] Concurrent Modification Exception</source>
      </item>
  </channel>
</rss>
