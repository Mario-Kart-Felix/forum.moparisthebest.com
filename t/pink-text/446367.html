<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pink-text/446367 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 05:36:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Pink Text - Runescape - moparisthebest.com</title>
    <meta name="description" content="I&amp;#39;ve followed a tutorial on fixing Trade properly.  After doing it, all my game text turned to pink. [IMG]http://i48.tinypic.com/ipm4id.png[/img] 

Everything except Chat is pink text, how to I change it back to black?">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="446367.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Pink Text&#39;" href="446367.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://i48.tinypic.com/ipm4id.png" />
<meta property="og:image" content="http://i48.tinypic.com/ipm4id.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pink-text/446367" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pink-text/446367" />
<meta property="og:title" content="Pink Text" />
<meta name="twitter:title" content="Pink Text" />
<meta property="og:description" content="I’ve followed a tutorial on fixing Trade properly.  After doing it, all my game text turned to pink.    Everything except Chat is pink text, how to I change it back to black?" />
<meta name="twitter:description" content="I’ve followed a tutorial on fixing Trade properly.  After doing it, all my game text turned to pink.    Everything except Chat is pink text, how to I change it back to black?" />
<meta property="article:published_time" content="2012-06-22T10:06:32+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="446367.html">Pink Text</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/soapface.html'><span itemprop='name'>soapface</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-22T10:06:32Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:29:05Z' class='post-time'>
              August 3, 2016,  3:29am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’ve followed a tutorial on fixing Trade properly.<br>
After doing it, all my game text turned to pink.<br>
<img src="http://i48.tinypic.com/ipm4id.png" alt width="521" height="165"></p>
<p>Everything except Chat is pink text, how to I change it back to black?</p>
      </div>

      <meta itemprop='headline' content='Pink Text'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sssylasss.html'><span itemprop='name'>sssylasss</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-22T10:10:46Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:29:05Z' class='post-time'>
              August 3, 2016,  3:29am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>look through the tutorial and see where you fucked up.</p>
      </div>

      <meta itemprop='headline' content='Pink Text'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/soapface.html'><span itemprop='name'>soapface</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-22T11:24:30Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:29:08Z' class='post-time'>
              August 3, 2016,  3:29am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have, like 3 times I’ve checked over.</p>
      </div>

      <meta itemprop='headline' content='Pink Text'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/PsychoScapeRSPS.html'><span itemprop='name'>PsychoScapeRSPS</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-22T12:56:03Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:29:11Z' class='post-time'>
              August 3, 2016,  3:29am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Get Notepad++ and search for whatever makes text pink within your entire server. You’re bound to find something.</p>
      </div>

      <meta itemprop='headline' content='Pink Text'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/soapface.html'><span itemprop='name'>soapface</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-22T22:52:35Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:30:39Z' class='post-time'>
              August 3, 2016,  3:30am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Did find any pink text.  :eek:</p>
      </div>

      <meta itemprop='headline' content='Pink Text'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/asshole_rule.html'><span itemprop='name'>asshole_rule</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-22T23:22:45Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:30:41Z' class='post-time'>
              August 3, 2016,  3:30am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>search for :tradereq: and see if anything out of the ordinary comes up</p>
      </div>

      <meta itemprop='headline' content='Pink Text'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/soapface.html'><span itemprop='name'>soapface</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-23T00:53:30Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:30:48Z' class='post-time'>
              August 3, 2016,  3:30am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>With the tutorial, it asked me to replace my whole TradeAndDuel.java with this, which fixed my trade, just somewhere it gives pink game text?</p>
<p>(I deleted some of the bottom bit of it because I can only have 20000 characters)</p>
<p>[code]package server.model.players;</p>
<p>import java.util.concurrent.CopyOnWriteArrayList;</p>
<p>import server.Config;<br>
import server.Server;<br>
import server.model.items.GameItem;<br>
import server.model.items.Item;<br>
import server.util.Misc;</p>
<p>public class TradeAndDuel{</p>
<pre><code>private Client c;
public TradeAndDuel(Client Client) {
    this.c = Client;
}

/**
* Trading
**/

public CopyOnWriteArrayList&lt;GameItem&gt; offeredItems = new CopyOnWriteArrayList&lt;GameItem&gt;();

public void requestTrade(int id){
    try {
        Client o = (Client) Server.playerHandler.players[id];
        if (id == c.playerId)
            return;
        c.tradeWith = id;
        if(!c.inTrade &amp;&amp; o.tradeRequested &amp;&amp; o.tradeWith == c.playerId) {
            c.getTradeAndDuel().openTrade();
            o.getTradeAndDuel().openTrade();            
        } else if(!c.inTrade) {            
            c.tradeRequested = true;
            c.sendMessage("Sending trade request...");
            o.sendMessage(Misc.optimizeText(c.playerName) + ":tradereq:");
        }
    } 
    catch (Exception e) {
        Misc.println("Error requesting trade.");
    }
}


public void openTrade() {
    Client o = (Client) Server.playerHandler.players[c.tradeWith];
    
    if(o == null) {
        return;
    }
    c.inTrade = true;
    c.canOffer = true;
    c.tradeStatus = 1;
    c.tradeRequested = false;
    c.getItems().resetItems(3322);
    resetTItems(3415);
    resetOTItems(3416);
    String out = o.playerName;
    
    if(o.playerRights == 1) {
        out = "@cr1@" + out;
    } 
    else if(o.playerRights == 2) {
        out = "@cr2@" + out;
    }
    c.getPA().sendFrame126("Trading with: " + Misc.optimizeText(o.playerName)+" who has @gre@"+o.getItems().freeSlots()+" free slots" ,3417);
    c.getPA().sendFrame126("", 3431);
    c.getPA().sendFrame126("Are you sure you want to make this trade?", 3535);
    c.getPA().sendFrame248(3323, 3321);
}    



public void resetTItems(int WriteFrame) {
    synchronized(c) {
        c.getOutStream().createFrameVarSizeWord(53);
        c.getOutStream().writeWord(WriteFrame);
        int len = offeredItems.toArray().length;
        int current = 0;
        c.getOutStream().writeWord(len);
            for (GameItem item : offeredItems) {
                if (item.amount &gt; 254) {
                    c.getOutStream().writeByte(255);
                    c.getOutStream().writeDWord_v2(item.amount);
                } else {
                    c.getOutStream().writeByte(item.amount);
                }
            c.getOutStream().writeWordBigEndianA(item.id + 1);
            current++;
            }
            if(current &lt; 27) {
                for(int i = current; i &lt; 28; i++) {
                    c.getOutStream().writeByte(1);
                    c.getOutStream().writeWordBigEndianA(-1);
                }
            }
        c.getOutStream().endFrameVarSizeWord();
        c.flushOutStream();
    }
}

public boolean fromTrade(int itemID, int fromSlot, int amount) {
    Client o = (Client) Server.playerHandler.players[c.tradeWith];
    if(o == null) {
        return false;
    }
    try {
        if (!c.inTrade || !c.canOffer) {
            declineTrade();
            return false;
        }
    c.tradeConfirmed = false;
    o.tradeConfirmed = false;
        if(!Item.itemStackable[itemID]) {
            for(int a = 0; a &lt; amount; a++) {
                for (GameItem item : offeredItems) {
                    if(item.id == itemID) {    
                        if(!item.stackable) {    
                            offeredItems.remove(item);    
                            c.getItems().addItem(itemID, 1);    
                            o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);        
                        } else {
                            if(item.amount &gt; amount) {
                                item.amount -= amount;
                                c.getItems().addItem(itemID, amount);
                                o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);                                
                            } else {
                                amount = item.amount;
                                offeredItems.remove(item);
                                c.getItems().addItem(itemID, amount);
                                o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);    
                            }
                        }
                    break;
                    }
                o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);    
                c.tradeConfirmed = false;
                o.tradeConfirmed = false;
                c.getItems().resetItems(3322);
                resetTItems(3415);
                o.getTradeAndDuel().resetOTItems(3416);
                c.getPA().sendFrame126("", 3431);
                o.getPA().sendFrame126("", 3431);
                }
            }    
        }
        for (GameItem item : offeredItems) {
            if(item.id == itemID) {
                if(!item.stackable) {
                } else  {
                    if(item.amount &gt; amount) {
                        item.amount -= amount;
                        c.getItems().addItem(itemID, amount);
                        o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);    
                    } else  {
                        amount = item.amount;
                        offeredItems.remove(item);
                        c.getItems().addItem(itemID, amount);
                        o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);    
                    }
                }
                break;
            }
        }

    o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);    
    c.tradeConfirmed = false;
    o.tradeConfirmed = false;
    c.getItems().resetItems(3322);
    resetTItems(3415);
    o.getTradeAndDuel().resetOTItems(3416);
    c.getPA().sendFrame126("", 3431);
    o.getPA().sendFrame126("", 3431);
    } catch(Exception e){}
    return true;
}
    
public boolean tradeItem(int itemID, int fromSlot, int amount) {
    Client o = (Client) Server.playerHandler.players[c.tradeWith];
    if(o == null) {
        return false;
    }
    
    for (int i : Config.ITEM_TRADEABLE) {
        if(i == itemID) {
            c.sendMessage("You can't trade this item.");
            return false;
        }        
    }
    if(!((c.playerItems[fromSlot] == itemID+1) &amp;&amp; (c.playerItemsN[fromSlot] &gt;= amount)))
    {
        c.sendMessage("You don't have that amount!");
        return false;
    }
    c.tradeConfirmed = false;
    o.tradeConfirmed = false;
    if(!Item.itemStackable[itemID] &amp;&amp; !Item.itemIsNote[itemID]) {
        for(int a = 0; a &lt; amount &amp;&amp; a &lt; 28; a++) {
            if(c.getItems().playerHasItem(itemID, 1)) {
                offeredItems.add(new GameItem(itemID, 1));    
                c.getItems().deleteItem(itemID, c.getItems().getItemSlot(itemID), 1);
                o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);    
            }
        }
        o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);    
        c.getItems().resetItems(3322);
        resetTItems(3415);
        o.getTradeAndDuel().resetOTItems(3416);
        c.getPA().sendFrame126("", 3431);
        o.getPA().sendFrame126("", 3431);
    }
    if (c.getItems().getItemCount(itemID) &lt; amount) {
        amount = c.getItems().getItemCount(itemID);
        if (amount == 0)
        return false;
    }
    if (!c.inTrade || !c.canOffer) {
        declineTrade();
        return false;
    }
    
    if(Item.itemStackable[itemID] || Item.itemIsNote[itemID]) {
        boolean inTrade = false;
        for(GameItem item : offeredItems) {
            if(item.id == itemID) {
                inTrade = true;
                item.amount += amount;
                c.getItems().deleteItem2(itemID, amount);
                o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);    
                break;    
            }
        }

        if(!inTrade) {
            offeredItems.add(new GameItem(itemID, amount));
            c.getItems().deleteItem2(itemID, amount);
            o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);    
        }
    }
    o.getPA().sendFrame126("Trading with: " + Misc.optimizeText(c.playerName)+" who has @gre@"+c.getItems().freeSlots()+" free slots" ,3417);    
    c.getItems().resetItems(3322);
    resetTItems(3415);
    o.getTradeAndDuel().resetOTItems(3416);
    c.getPA().sendFrame126("", 3431);
    o.getPA().sendFrame126("", 3431);
    return true;
    }


public void resetTrade() {
    offeredItems.clear();
    c.inTrade = false;
    c.tradeWith = 0;
    c.canOffer = true;
    c.tradeConfirmed = false;
    c.tradeConfirmed2 = false;
    c.acceptedTrade = false;
    c.getPA().removeAllWindows();
    c.tradeResetNeeded = false;
    c.getPA().sendFrame126("Are you sure you want to make this trade?", 3535);
}
public void declineTrade() {
    c.tradeStatus = 0;
    declineTrade(true);
}


public void declineTrade(boolean tellOther) {
    c.getPA().removeAllWindows();
    Client o = (Client) Server.playerHandler.players[c.tradeWith];
    if (o == null) {
        return;
    }
    
    if(tellOther){
        o.getTradeAndDuel().declineTrade(false);
        o.getTradeAndDuel().c.getPA().removeAllWindows();
    }
        
    for(GameItem item : offeredItems) {
        if(item.amount &lt; 1) {
            continue;
        }
        if(item.stackable) {
            c.getItems().addItem(item.id, item.amount);
        } else {
            for(int i = 0; i &lt; item.amount; i++) {
                c.getItems().addItem(item.id, 1);
            }
        }
    }
    c.canOffer = true;
    c.tradeConfirmed = false;
    c.tradeConfirmed2 = false;
    offeredItems.clear();
    c.inTrade = false;
    c.tradeWith = 0;
}

    
public void resetOTItems(int WriteFrame) {
    synchronized(c) {
        Client o = (Client) Server.playerHandler.players[c.tradeWith];
        if(o == null) {
            return;
        }    
        c.getOutStream().createFrameVarSizeWord(53);
        c.getOutStream().writeWord(WriteFrame);
        int len = o.getTradeAndDuel().offeredItems.toArray().length;
        int current = 0;
        c.getOutStream().writeWord(len);
            for (GameItem item : o.getTradeAndDuel().offeredItems) {
                if (item.amount &gt; 254) {
                    c.getOutStream().writeByte(255); // item's stack count. if over 254, write byte 255
                    c.getOutStream().writeDWord_v2(item.amount); 
                } else {
                    c.getOutStream().writeByte(item.amount);
                }
                c.getOutStream().writeWordBigEndianA(item.id + 1); // item id
                current++;
            }
        if(current &lt; 27) {
            for(int i = current; i &lt; 28; i++) {
                c.getOutStream().writeByte(1);
                c.getOutStream().writeWordBigEndianA(-1);
            }
        }
        c.getOutStream().endFrameVarSizeWord();
        c.flushOutStream();
    }
}


public void confirmScreen() {
    Client o = (Client) Server.playerHandler.players[c.tradeWith];
    if(o == null) {
        return;
    }
    c.canOffer = false;
    c.getItems().resetItems(3214);
    String SendTrade = "Absolutely nothing!";
    String SendAmount = "";
    int Count = 0;
    for (GameItem item : offeredItems) {
        if (item.id &gt; 0) {
            if (item.amount &gt;= 1000 &amp;&amp; item.amount &lt; 1000000) {
                SendAmount = "@cya@" + (item.amount / 1000) + "K @whi@(" + Misc.format(item.amount) + ")";
            }  else if (item.amount &gt;= 1000000) {
                SendAmount = "@gre@" + (item.amount / 1000000) + " million @whi@(" + Misc.format(item.amount) + ")";
            } else {
                SendAmount = "" + Misc.format(item.amount);
            }
</code></pre>
<p>[/code]</p>
      </div>

      <meta itemprop='headline' content='Pink Text'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pink-text/446367 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 05:36:10 GMT -->
</html>
