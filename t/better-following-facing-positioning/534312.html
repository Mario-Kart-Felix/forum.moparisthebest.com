<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/better-following-facing-positioning/534312 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 12:05:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Better following (Facing/Positioning) - Runescape - moparisthebest.com</title>
    <meta name="description" content="Tested and works on PI. 

Most PI servers have shitty following altogether and the facing is pretty bad. 

Here&amp;#39;s how to make the following get the correct direction of the player being followed, and position your player&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="534312.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Better following (Facing/Positioning)&#39;" href="534312.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/better-following-facing-positioning/534312" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/better-following-facing-positioning/534312" />
<meta property="og:title" content="Better following (Facing/Positioning)" />
<meta name="twitter:title" content="Better following (Facing/Positioning)" />
<meta property="og:description" content="Tested and works on PI.  Most PI servers have shitty following altogether and the facing is pretty bad.  Here’s how to make the following get the correct direction of the player being followed, and position your player behind them.  Declare this in your Player class  public int otherDirection; Walking.java  Under   for(int i1 = 0; i1 &lt; c.newWalkCmdSteps; i1++) {  Add   	c.otherDirection = Misc.direction1(c.absX, c.absY, c.getNewWalkCmdX()[i1] + firstStepX + c.getMapRegionX()*8, c.getNewWalkCmdY(..." />
<meta name="twitter:description" content="Tested and works on PI.  Most PI servers have shitty following altogether and the facing is pretty bad.  Here’s how to make the following get the correct direction of the player being followed, and position your player behind them.  Declare this in your Player class  public int otherDirection; Walking.java  Under   for(int i1 = 0; i1 &lt; c.newWalkCmdSteps; i1++) {  Add   	c.otherDirection = Misc.direction1(c.absX, c.absY, c.getNewWalkCmdX()[i1] + firstStepX + c.getMapRegionX()*8, c.getNewWalkCmdY(..." />
<meta property="article:published_time" content="2013-10-19T00:09:42+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="534312.html">Better following (Facing/Positioning)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ohokay.html'><span itemprop='name'>ohokay</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-10-19T00:09:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T10:52:09Z' class='post-time'>
              August 4, 2016, 10:52am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Tested and works on PI.</p>
<p>Most PI servers have shitty following altogether and the facing is pretty bad.</p>
<p>Here’s how to make the following get the correct direction of the player being followed, and position your player behind them.</p>
<p>Declare this in your Player class</p>
<pre><code class="lang-auto">public int otherDirection;</code></pre>
<p><span class="bbcode-i">Walking.java</span></p>
<p>Under</p>
<p><code>
for(int i1 = 0; i1 &lt; c.newWalkCmdSteps; i1++) {</code><br>
Add</p>
<p><code>
	c.otherDirection = Misc.direction1(c.absX, c.absY, c.getNewWalkCmdX()[i1] + firstStepX + c.getMapRegionX()*8, c.getNewWalkCmdY()[i1] + firstStepY + c.getMapRegionY()*8);</code></p>
<p><span class="bbcode-i">Misc.java</span></p>
<p>Add this method if you don’t have it already.</p>
<p>[code=java]<br>
public static int direction1(int srcX, int srcY, int destX, int destY)<br>
{<br>
int dx=destX-srcX, dy=destY-srcY;</p>
<pre><code>	if(dx &lt; 0) {
		if(dy &lt; 0) {
			if(dx &lt; dy) return 11;
			else if(dx &gt; dy) return 9;
			else return 10;		
		}
		else if(dy &gt; 0) {
			if(-dx &lt; dy) return 15;
			else if(-dx &gt; dy) return 13;
			else return 14;		
		}
		else {	
			return 12;
		}
	}
	else if(dx &gt; 0) {
		if(dy &lt; 0) {
			if(dx &lt; -dy) return 7;
			else if(dx &gt; -dy) return 5;
			else return 6;		
		}
		else if(dy &gt; 0) {
			if(dx &lt; dy) return 1;
			else if(dx &gt; dy) return 3;
			else return 2;	
		}
		else {	
			return 4;
		}
	}
	else {		
		if(dy &lt; 0) {
			return 8;
		}
		else if(dy &gt; 0) {
			return 0;
		}
		else {	
			return -1;		
		}
	}
}[/code]
</code></pre>
<p><span class="bbcode-i">Player.java</span></p>
<p>Method</p>
<pre><code class="lang-auto">getNextWalkingDirection() {</code></pre>
<p>Under</p>
<pre><code class="lang-auto">	dir = Misc.direction(currentX, currentY, walkingQueueX[wQueueReadPtr], walkingQueueY[wQueueReadPtr]);</code></pre>
<p>Add</p>
<pre><code class="lang-auto">	if (dir != -1 &amp;&amp; otherDirection != dir) {
		otherDirection = dir;
        }</code></pre>
<p><span class="bbcode-i">PlayerAssistant.java</span></p>
<p>Apply this to your “followPlayer” method</p>
<pre><code class="lang-auto">                switch (p.otherDirection) {
                case 0:
                    playerWalk(otherX + 0, otherY-1);
                    break;
            case 1:
            case 2:
            case 3:
            	playerWalk(otherX - 1, otherY - 1);
                break;
            case 4:
            	playerWalk(otherX-1,otherY + 0);
                break;
            case 6:
            case 5:
            case 7:
            	playerWalk(otherX-1,otherY + 1);
                break;
            case 8:
            	playerWalk(otherX+0, otherY+1);
                break;
                
            case 10:
            case 11:
            case 9:
            	playerWalk(otherX+1, otherY+1);
                break;
                
            case 12:
            	playerWalk(otherX+1, otherY +0);
                break;
                
            case 14:
            case 15:
            case 13:
            	playerWalk(otherX+1, otherY-1);
                break;

                }</code></pre>
<p>You will need to add your own code to make it work with combat, and to stop a few following bugs.</p>
      </div>

      <meta itemprop='headline' content='Better following (Facing/Positioning)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/better-following-facing-positioning/534312 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 12:05:13 GMT -->
</html>
