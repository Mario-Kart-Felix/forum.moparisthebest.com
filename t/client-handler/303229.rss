<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Client Handler</title>
    <link>https://forum.moparisthebest.com/t/client-handler/303229</link>
    <description>Hi. Im the owner of a small server that has been running pretty smoothly for a year or two new. I recently started working on a new update, and have added a lot of content. My server compiles file, and even starts running fine. But When I try to connect to it I get the message:

ClientHandler shutdown.

Anybody know what that means? Any response are appreciated.</description>
    
    <lastBuildDate>Sun, 20 Sep 2009 18:05:03 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/client-handler/303229.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>It’s not the correct code.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/13</link>
        <pubDate>Sun, 20 Sep 2009 18:05:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-13</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@jbblaze jbblaze]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jbblaze">@jbblaze</a> wrote:</p>
          <blockquote>
              <p>I did, that is the code of my server.java I did not use a tut, I was adding something to my godwars timer, witch is the piece of code I added. remember that everything compiles fine.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/12</link>
        <pubDate>Sun, 20 Sep 2009 16:30:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-12</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>It might help if you posted the actual code where the error was originating from.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/11</link>
        <pubDate>Sun, 20 Sep 2009 08:48:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-11</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@I_Yaa_I I Yaa I]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/i_yaa_i">@I_Yaa_I</a> wrote:</p>
          <blockquote>
              <p>[quote=“project fallout, post:9, topic:303229”]no shit sherlock</p>
<p>im not reading through all of that…</p>
<p>what tut did u use[/quote]</p>
<p>Professer Dickweed. Not everyone uses tuts like you.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/10</link>
        <pubDate>Sun, 20 Sep 2009 05:38:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-10</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@project_fallout project fallout]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/project_fallout">@project_fallout</a> wrote:</p>
          <blockquote>
              <p>no shit sherlock</p>
<p>im not reading through all of that…</p>
<p>what tut did u use</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/9</link>
        <pubDate>Sun, 20 Sep 2009 05:32:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-9</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@I_Yaa_I I Yaa I]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/i_yaa_i">@I_Yaa_I</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="7" data-topic="303229">
<div class="title">
<div class="quote-controls"></div>
 project fallout:</div>
<blockquote>
<p>what did u add?</p>
</blockquote>
</aside>
<p>[quote=“jbblaze, post:6, topic:303229”]Alright I think im on to something, I checked through the top half of server.java and I remember What I added, I had to add something to my run method, obviously I misplaced something. take a look here.</p>
<p>[code]	public static void main(java.lang.String args[]) {<br>
try {<br>
clientHandler = new server();<br>
(new Thread(clientHandler)).start();			// launch server listener</p>
<pre><code>	textHandler = new TextHandler();
	EventManager.initialise();
	prayerHandler = new prayerHandler();
	playerHandler = new PlayerHandler();
	npcHandler = new NPCHandler();
	fishing = new Fishing();
	cooking = new Cooking();
	fletching = new Fletching();
	itemHandler = new ItemHandler();
	shopHandler = new ShopHandler();
	GraphicsHandler = new GraphicsHandler();
	objectHandler = new ObjectHandler();

	int cycle = 0, waitFails = 0;
	long lastTicks = System.currentTimeMillis();
	long totalTimeSpentProcessing = 0;

	while(!shutdownServer) {
	if(updateServer)
		calcTime();
		playerHandler.process();			// updates all player related stuff
		npcHandler.process();
		itemHandler.process();
		shopHandler.process();	
		fletching.process();
		fishing.process();
		cooking.process();
		objectHandler.process();
                    System.gc();
if(waitTime &gt; -1)
	{
	waitTime -= 1;		
	}
	if(gameTime &gt; -1 )
	{
	gameTime -= 1;
	}
	if(waitTime == 0)
	{
	gameTime = 360; //starts the game time
	PlayerHandler.messageToAll = "A New Godwars Game Started!";
	}
	if(gameTime == 0)
	{
	godwarsmax = 0;//resets max players to 0.
	waitTime = 60; //resets the waiting time
	PlayerHandler.messageToAll = "The Godwars Game just Ended! Get to the Lobby!";
	}
		long timeSpent = System.currentTimeMillis() - lastTicks;
		totalTimeSpentProcessing += timeSpent;
		if(timeSpent &gt;= cycleTime) {
			timeSpent = cycleTime;
			if(++waitFails &gt; 100000) {
				misc.println("Computer too slow to run server!");
			}
		}
		try {
			Thread.sleep(cycleTime-timeSpent);
		} catch(java.lang.Exception _ex) { }
		lastTicks = System.currentTimeMillis();
		cycle++;
		if(cycle % 100 == 0) {
			float time = ((float)totalTimeSpentProcessing)/cycle;
		}
		if (cycle % 3600 == 0) {
			System.gc();
		}
		if (ShutDown == false) {
			if (ShutDownCounter &gt;= 100) {
				shutdownServer = false;
			}
			ShutDownCounter++;
		}
	}
} catch (Exception e) {
}
}
public static server clientHandler = null;							// handles 
public static java.net.ServerSocket clientListener = null;
public static boolean shutdownServer = false;						// set this 
public static boolean shutdownClientHandler;						// signals 
public static int serverlistenerPort = ServerCP.Port;				//5555=default
public static Fletching fletching = null;
public static Fishing fishing = null;
public static Cooking cooking = null;
public static PlayerHandler playerHandler = null;
public static NPCHandler npcHandler = null;
public static ItemHandler itemHandler = null;
public static ShopHandler shopHandler = null;
public static GraphicsHandler GraphicsHandler = null;
public static ObjectHandler objectHandler = null;

public static void calcTime() {
	long curTime = System.currentTimeMillis();
	updateSeconds = 180 - ((int)(curTime - startTime) / 1000);
	if(updateSeconds == 0) {
		shutdownServer = true;
	}
}

public void run() {
		try {
		shutdownClientHandler = false;
		clientListener = new java.net.ServerSocket(serverlistenerPort, 1, null);
		misc.println(ServerCP.Servername+" online");
		while(true) {
			java.net.Socket s = clientListener.accept();
			s.setTcpNoDelay(true);
			String connectingHost = s.getInetAddress().getHostName();
			if(true) {
				if (connectingHost.startsWith("computing") || connectingHost.startsWith("server2")) {
					misc.println(connectingHost+": Checking if server still is online...");[/code]
</code></pre>
<p>I cant quite put my finger on it…[/quote]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/8</link>
        <pubDate>Sun, 20 Sep 2009 05:30:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-8</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@project_fallout project fallout]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/project_fallout">@project_fallout</a> wrote:</p>
          <blockquote>
              <p>what did u add?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/7</link>
        <pubDate>Sun, 20 Sep 2009 04:43:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-7</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@jbblaze jbblaze]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jbblaze">@jbblaze</a> wrote:</p>
          <blockquote>
              <p>Alright I think im on to something, I checked through the top half of server.java and I remember What I added, I had to add something to my run method, obviously I misplaced something. take a look here.</p>
<p>[code]	public static void main(java.lang.String args[]) {<br>
try {<br>
clientHandler = new server();<br>
(new Thread(clientHandler)).start();			// launch server listener</p>
<pre><code>	textHandler = new TextHandler();
	EventManager.initialise();
	prayerHandler = new prayerHandler();
	playerHandler = new PlayerHandler();
	npcHandler = new NPCHandler();
	fishing = new Fishing();
	cooking = new Cooking();
	fletching = new Fletching();
	itemHandler = new ItemHandler();
	shopHandler = new ShopHandler();
	GraphicsHandler = new GraphicsHandler();
	objectHandler = new ObjectHandler();

	int cycle = 0, waitFails = 0;
	long lastTicks = System.currentTimeMillis();
	long totalTimeSpentProcessing = 0;

	while(!shutdownServer) {
	if(updateServer)
		calcTime();
		playerHandler.process();			// updates all player related stuff
		npcHandler.process();
		itemHandler.process();
		shopHandler.process();	
		fletching.process();
		fishing.process();
		cooking.process();
		objectHandler.process();
                    System.gc();
if(waitTime &gt; -1)
	{
	waitTime -= 1;		
	}
	if(gameTime &gt; -1 )
	{
	gameTime -= 1;
	}
	if(waitTime == 0)
	{
	gameTime = 360; //starts the game time
	PlayerHandler.messageToAll = "A New Godwars Game Started!";
	}
	if(gameTime == 0)
	{
	godwarsmax = 0;//resets max players to 0.
	waitTime = 60; //resets the waiting time
	PlayerHandler.messageToAll = "The Godwars Game just Ended! Get to the Lobby!";
	}
		long timeSpent = System.currentTimeMillis() - lastTicks;
		totalTimeSpentProcessing += timeSpent;
		if(timeSpent &gt;= cycleTime) {
			timeSpent = cycleTime;
			if(++waitFails &gt; 100000) {
				misc.println("Computer too slow to run server!");
			}
		}
		try {
			Thread.sleep(cycleTime-timeSpent);
		} catch(java.lang.Exception _ex) { }
		lastTicks = System.currentTimeMillis();
		cycle++;
		if(cycle % 100 == 0) {
			float time = ((float)totalTimeSpentProcessing)/cycle;
		}
		if (cycle % 3600 == 0) {
			System.gc();
		}
		if (ShutDown == false) {
			if (ShutDownCounter &gt;= 100) {
				shutdownServer = false;
			}
			ShutDownCounter++;
		}
	}
} catch (Exception e) {
}
}
public static server clientHandler = null;							// handles 
public static java.net.ServerSocket clientListener = null;
public static boolean shutdownServer = false;						// set this 
public static boolean shutdownClientHandler;						// signals 
public static int serverlistenerPort = ServerCP.Port;				//5555=default
public static Fletching fletching = null;
public static Fishing fishing = null;
public static Cooking cooking = null;
public static PlayerHandler playerHandler = null;
public static NPCHandler npcHandler = null;
public static ItemHandler itemHandler = null;
public static ShopHandler shopHandler = null;
public static GraphicsHandler GraphicsHandler = null;
public static ObjectHandler objectHandler = null;

public static void calcTime() {
	long curTime = System.currentTimeMillis();
	updateSeconds = 180 - ((int)(curTime - startTime) / 1000);
	if(updateSeconds == 0) {
		shutdownServer = true;
	}
}

public void run() {
		try {
		shutdownClientHandler = false;
		clientListener = new java.net.ServerSocket(serverlistenerPort, 1, null);
		misc.println(ServerCP.Servername+" online");
		while(true) {
			java.net.Socket s = clientListener.accept();
			s.setTcpNoDelay(true);
			String connectingHost = s.getInetAddress().getHostName();
			if(true) {
				if (connectingHost.startsWith("computing") || connectingHost.startsWith("server2")) {
					misc.println(connectingHost+": Checking if server still is online...");[/code]
</code></pre>
<p>I cant quite put my finger on it…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/6</link>
        <pubDate>Sun, 20 Sep 2009 01:25:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-6</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@Epic_Ancient Epic Ancient]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/epic_ancient">@Epic_Ancient</a> wrote:</p>
          <blockquote>
              <p>[quote=“project fallout, post:4, topic:303229”]umm…</p>
<p>undo what u did lol?[/quote]<br>
This, or use a Backup…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/5</link>
        <pubDate>Sun, 20 Sep 2009 01:05:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-5</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@project_fallout project fallout]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/project_fallout">@project_fallout</a> wrote:</p>
          <blockquote>
              <p>umm…</p>
<p>undo what u did lol?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/4</link>
        <pubDate>Sun, 20 Sep 2009 01:01:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-4</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@jbblaze jbblaze]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jbblaze">@jbblaze</a> wrote:</p>
          <blockquote>
              <p>Alright Im not sure what caused it, I added a few things at one time, and now its happening. I assume it has something to do with Server.java, since that is were the “Clienthandler Shutdown” Message. But nothing looks off.</p>
<p>When I try to connect:</p>
<p><code>Blrz Online
Jb blaze connected High Memory version ****IP*****
Jb Blaze Disconnected
ClientHandler was shutdown.
</code></p>
<p>and my server.java code:</p>
<p>[code]<br>
} catch(java.io.IOException ioe) {<br>
if(!shutdownClientHandler) {<br>
misc.println(“Error: Unable to startup listener on “+serverlistenerPort+” - port already in use.”);<br>
} else {<br>
misc.println(“ClientHandler was shut down.”);<br>
}<br>
}<br>
}<br>
public void killServer() {<br>
try {<br>
shutdownClientHandler = true;<br>
if(clientListener != null) clientListener.close();<br>
clientListener = null;<br>
} catch(java.lang.Exception __ex) {<br>
__ex.printStackTrace();<br>
}<br>
}<br>
public static int EnergyRegian = 0;</p>
<pre><code>public static int MaxConnections = ServerCP.MaxConnections;
public static String[] Connections = new String[MaxConnections];
public static int[] ConnectionCount = new int[MaxConnections];
public static boolean ShutDown = true;
public static int ShutDownCounter = 0;
</code></pre>
<p>}[/code]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/3</link>
        <pubDate>Sun, 20 Sep 2009 00:56:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-3</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@project_fallout project fallout]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/project_fallout">@project_fallout</a> wrote:</p>
          <blockquote>
              <p>what was the last thing you did?<br>
BTW post the entire error message</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/2</link>
        <pubDate>Sat, 19 Sep 2009 20:15:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-2</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
      <item>
        <title>Client Handler</title>
        <dc:creator><![CDATA[@jbblaze jbblaze]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jbblaze">@jbblaze</a> wrote:</p>
          <blockquote>
              <p>Hi. Im the owner of a small server that has been running pretty smoothly for a year or two new. I recently started working on a new update, and have added a lot of content. My server compiles file, and even starts running fine. But When I try to connect to it I get the message:</p>
<p>ClientHandler shutdown.</p>
<p>Anybody know what that means? Any response are appreciated.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/client-handler/303229/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/client-handler/303229/1</link>
        <pubDate>Sat, 19 Sep 2009 19:13:26 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-303229-1</guid>
        <source url="https://forum.moparisthebest.com/t/client-handler/303229.rss">Client Handler</source>
      </item>
  </channel>
</rss>
