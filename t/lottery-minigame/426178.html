<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/lottery-minigame/426178 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 16:16:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Lottery Minigame - Runescape - moparisthebest.com</title>
    <meta name="description" content="I found this :slight_smile:  :eek: 

Okay, first go into (src -- org -- rscdaemon -- server) and create a new folder called minigames. In that folder make a new class called Lottery.java 

 package org.rscdaemon.server.m&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="426178.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Lottery Minigame&#39;" href="426178.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/lottery-minigame/426178" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/lottery-minigame/426178" />
<meta property="og:title" content="Lottery Minigame" />
<meta name="twitter:title" content="Lottery Minigame" />
<meta property="og:description" content="I found this ðŸ™‚  :eek:  Okay, first go into (src â€“ org â€“ rscdaemon â€“ server) and create a new folder called minigames. In that folder make a new class called Lottery.java  package org.rscdaemon.server.minigames;  import org.rscdaemon.server.util.Formulae; import org.rscdaemon.server.model.Player; import org.rscdaemon.server.model.World; import org.rscdaemon.server.model.InvItem; import org.rscdaemon.server.event.DelayedEvent; import org.rscdaemon.server.event.SingleEvent;  import jav..." />
<meta name="twitter:description" content="I found this ðŸ™‚  :eek:  Okay, first go into (src â€“ org â€“ rscdaemon â€“ server) and create a new folder called minigames. In that folder make a new class called Lottery.java  package org.rscdaemon.server.minigames;  import org.rscdaemon.server.util.Formulae; import org.rscdaemon.server.model.Player; import org.rscdaemon.server.model.World; import org.rscdaemon.server.model.InvItem; import org.rscdaemon.server.event.DelayedEvent; import org.rscdaemon.server.event.SingleEvent;  import jav..." />
<meta property="article:published_time" content="2011-12-21T15:24:52+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="426178.html">Lottery Minigame</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/RSCDream.html'><span itemprop='name'>RSCDream</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-21T15:24:52Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:39:35Z' class='post-time'>
              August 2, 2016,  2:39pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I found this <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:">  :eek:</p>
<p>Okay, first go into (src â€“ org â€“ rscdaemon â€“ server) and create a new folder called <span class="bbcode-u">minigames</span>. In that folder make a new class called <span class="bbcode-b">Lottery.java</span></p>
<pre><code class="lang-auto">package org.rscdaemon.server.minigames;

import org.rscdaemon.server.util.Formulae;
import org.rscdaemon.server.model.Player;
import org.rscdaemon.server.model.World;
import org.rscdaemon.server.model.InvItem;
import org.rscdaemon.server.event.DelayedEvent;
import org.rscdaemon.server.event.SingleEvent;

import java.util.ArrayList;

public class Lottery {

	 public static final World world = World.getWorld();
	 static Player player;

	 public static ArrayList&lt;Player&gt; players = new ArrayList&lt;Player&gt;();
	 public static ArrayList&lt;String&gt; playersUsername = new ArrayList&lt;String&gt;();
	 public static int entryFee = 75000;
	 public static int lotteryReward = 0;
	
	 public static String findLotteryWinner() {
		 if(players.size() &lt;= 0) { // Shouldn't Happen
			 return "No-one participated!";
		 }
		 Player p = players.get(Formulae.Rand(0, (players.size() - 1)));
		 if((p != null) &amp;&amp; (p.getUsername() != null)) {
			 p.getActionSender().sendMessage("Congratulations! You have won the lottery!");
			 InvItem coins = new InvItem(10);
			 coins.setAmount(lotteryReward);
			 p.getInventory().add(coins);
			 p.getActionSender().sendInventory();
			 p.getActionSender().sendMessage(lotteryReward + " coins has been added to your inventory!");
			 world.sendToAll("The lottery has been drawn! The winner is: @or1@" + p.getUsername());
			 endLottery();
			 return p.getUsername();
		 } else {
			 players.remove(p);
			 return findLotteryWinner();
		 }
	 }
	
	 public static void addLotteryEntry(Player p) {
		 if(world.getLotteryStatus() == false) {
			 p.getActionSender().sendMessage("The lottery isn't running at the moment!");
			 return;
		 }
		 if(players.contains(p)) {
			 p.getActionSender().sendMessage("You have already joined the lottery!");
			 return;
		 }
		 if(p.getInventory().countId(10) &gt;= entryFee) {
			 if(p.getInventory().remove(10, entryFee) != -1) {
				 players.add(p);
				 playersUsername.add(p.getUsername());
				 p.getActionSender().sendInventory();
				 lotteryReward += entryFee;
				 p.getActionSender().sendAlert("You have been entered successfully into the lottery! The current jackpot prize is: @or1@" + (lotteryReward &gt; 1000 ? (lotteryReward / 1000) + "k" : lotteryReward) + "@whi@ coins!", false);
				 return;
			 }
		 }
		 p.getActionSender().sendMessage("It looks like you don't have enough money! You need 75K to join!");
	 }
	
	 public static void endLottery() {
		 world.setLotteryStatus(false);
		 players = new ArrayList&lt;Player&gt;();
		 playersUsername = new ArrayList&lt;String&gt;();
		 lotteryReward = 0;
	 }
	
	 public static void requestPrizeFund() {
		 if(world.getLotteryStatus() == false) {
			 player.getActionSender().sendMessage("The lottery is not running at the moment!");
		 } else {
			 player.getActionSender().sendMessage("The current lottery fund is: " + (lotteryReward &gt; 1000 ? (lotteryReward / 1000) + "k" : lotteryReward));
		 }
	 }
}</code></pre>
<p>Now in World.java (src â€“ org â€“ rscdaemon â€“ server â€“ model)<br>
First import:</p>
<pre><code class="lang-auto">import org.rscdaemon.server.minigames.Lottery;</code></pre>
<p>Then Add:</p>
<pre><code class="lang-auto">	/**
	 * Lottery System @author Yong Min
	 */
	 public boolean lotteryStatus = false;
	
	 public void setLotteryStatus(boolean lotto) {
		 lotteryStatus = lotto;
	 }
	
	 public boolean getLotteryStatus() {
		 return lotteryStatus;
	 }</code></pre>
<p>Then in CommandHandler.java (src â€“ org â€“ rscdaemon â€“ server â€“ packethandler\client â€“ org â€“ client) First import:</p>
<pre><code class="lang-auto">import org.rscdaemon.server.minigames.Lottery;</code></pre>
<p>Then add:</p>
<pre><code class="lang-auto">		/**
		 * Lottery System Commands
		 *	   @author Yong Min
		 */
		 if((cmd.equalsIgnoreCase("start")) &amp;&amp; (player.isAdmin())) {
			 if(world.getLotteryStatus() == false) {
				 world.setLotteryStatus(true);
				 world.sendToAll("The lottery has been started. Use @or1@::lottery @whi@to enter!");
			 } else {
				 player.getActionSender().sendMessage("The lottery is already running!");
			 }
			 return;
		 }
		 if((cmd.equalsIgnoreCase("draw")) &amp;&amp; (player.isAdmin())) {
			 if((Lottery.players.size() &lt;= 2) &amp;&amp; (world.getLotteryStatus() == true)) {
				 player.getActionSender().sendMessage("Please wait for more people to join before drawing the lottery!");
			 } else if(world.getLotteryStatus() == false) {
				 player.getActionSender().sendMessage("The lottery is not running at the moment!");
			 } else {
				 Lottery.findLotteryWinner();
			 }
			 return;
		 }
		 if(cmd.equalsIgnoreCase("lottery")) {
			 Lottery.addLotteryEntry(player);
		 }
		 if(cmd.equalsIgnoreCase("fund")) {
			 int lotteryReward = Lottery.lotteryReward;
			 if(world.getLotteryStatus() == false) {
				 player.getActionSender().sendMessage("The lottery is not running at the moment!");
			 } else {
				 player.getActionSender().sendMessage("The current lottery fund is: " + (lotteryReward &gt; 1000 ? (lotteryReward / 1000) + "k" : lotteryReward));
			 }
			 return;
		 }</code></pre>
<p>The Commands are easy to do and understand. Here is a breif explination of what they do:</p>
<blockquote>::start     *this will set the lottery status to 'true', meaning that people will be able to enter the lottery.</blockquote>
<blockquote>:: draw     *this will draw the lottery and declare the winner. You will only be able to draw the lottery once 3 or more people have entered.</blockquote>
<blockquote>::lottery     *this will allow people to enter the lottery if they have the correct amount of cash to enter. You can alter the amount in the Lottery class.</blockquote>
<blockquote>::fund     *this will display the current jackpot fund. This is worked out by all the entry fees added together. The winner will receive the full amount.</blockquote>
<p>Have fun &amp; enjoy!</p>
      </div>

      <meta itemprop='headline' content='Lottery Minigame'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/vortex.html'><span itemprop='name'>vortex</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-21T18:21:14Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:39:43Z' class='post-time'>
              August 2, 2016,  2:39pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><span class="mention">@author</span> Yong Min<br>
good for sopme people though</p>
      </div>

      <meta itemprop='headline' content='Lottery Minigame'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/nacional.html'><span itemprop='name'>nacional</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-22T04:27:49Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:41:06Z' class='post-time'>
              August 2, 2016,  2:41pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yup. dp all day every day</p>
      </div>

      <meta itemprop='headline' content='Lottery Minigame'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/lottery-minigame/426178 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 16:16:33 GMT -->
</html>
