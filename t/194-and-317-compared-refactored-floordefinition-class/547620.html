<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/194-and-317-compared-refactored-floordefinition-class/547620 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[194 and 317 compared] Refactored FloorDefinition class - Runescape - moparisthebest.com</title>
    <meta name="description" content="Here&amp;#39;s a comparison of the 317 and 194 FloorDefinition class so we can see the changes that occurred during that time. 

[size=18pt]194[/size] [code=Java]public class FloorDefinition { 	public static int floorCount; 	pub&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="547620.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[194 and 317 compared] Refactored FloorDefinition class&#39;" href="547620.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/194-and-317-compared-refactored-floordefinition-class/547620" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/194-and-317-compared-refactored-floordefinition-class/547620" />
<meta property="og:title" content="[194 and 317 compared] Refactored FloorDefinition class" />
<meta name="twitter:title" content="[194 and 317 compared] Refactored FloorDefinition class" />
<meta property="og:description" content="Here’s a comparison of the 317 and 194 FloorDefinition class so we can see the changes that occurred during that time.  [size=18pt]194[/size]  [code=Java]public class FloorDefinition {  public static int floorCount;  public static FloorDefinition[] floorCache;  public int terrainColour;  public int textureId = -1;  public boolean occlude = true;  public String name;  public int hue;  public int saturation;  public int lightness;  public int hueVariation;  public int hueDivider;  public static vo..." />
<meta name="twitter:description" content="Here’s a comparison of the 317 and 194 FloorDefinition class so we can see the changes that occurred during that time.  [size=18pt]194[/size]  [code=Java]public class FloorDefinition {  public static int floorCount;  public static FloorDefinition[] floorCache;  public int terrainColour;  public int textureId = -1;  public boolean occlude = true;  public String name;  public int hue;  public int saturation;  public int lightness;  public int hueVariation;  public int hueDivider;  public static vo..." />
<meta property="article:published_time" content="2014-11-04T14:34:24+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="547620.html">[194 and 317 compared] Refactored FloorDefinition class</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ambokile.html'><span itemprop='name'>Ambokile</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-04T14:34:24Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:56:18Z' class='post-time'>
              August 4, 2016,  1:56pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here’s a comparison of the 317 and 194 FloorDefinition class so we can see the changes that occurred during that time.</p>
<p>[size=18pt]194[/size]</p>
<p>[code=Java]public class FloorDefinition {<br>
public static int floorCount;<br>
public static FloorDefinition[] floorCache;<br>
public int terrainColour;<br>
public int textureId = -1;<br>
public boolean occlude = true;<br>
public String name;<br>
public int hue;<br>
public int saturation;<br>
public int lightness;<br>
public int hueVariation;<br>
public int hueDivider;</p>
<pre><code>public static void load(Archive archive) {
	Stream stream = new Stream(archive.getFile(null, "flo.dat"));
	floorCount = stream.getUnsignedLEShort();
	if (floorCache == null)
		floorCache = new FloorDefinition[floorCount];
	for (int f = 0; f &lt; floorCount; f++) {
		if (floorCache[f] == null)
			floorCache[f] = new FloorDefinition();
		floorCache[f].readValues(stream);
	}
}

public void readValues(Stream stream) {
	for (;;) {
		int configCode = stream.getUnsignedByte();
		if (configCode == 0)
			break;
		if (configCode == 1) {
			terrainColour = stream.get24BitInt();
			RGBToHSL(terrainColour);
		} else if (configCode == 2)
			textureId = stream.getUnsignedByte();
		else if (configCode == 5)
			occlude = false;
		else if (configCode == 6)
			name = stream.getString();
		else
			System.out.println("Error unrecognised config code: " + configCode);
	}
}

private void RGBToHSL(int rgb) {
	double r = (double) (rgb &gt;&gt; 16 &amp; 0xff) / 256.0;
	double g = (double) (rgb &gt;&gt; 8 &amp; 0xff) / 256.0;
	double b = (double) (rgb &amp; 0xff) / 256.0;
	double minC = r;
	if (g &lt; minC)
		minC = g;
	if (b &lt; minC)
		minC = b;
	double maxC = r;
	if (g &gt; maxC)
		maxC = g;
	if (b &gt; maxC)
		maxC = b;
	double h = 0.0;
	double s = 0.0;
	double l = (minC + maxC) / 2.0;
	if (minC != maxC) {
		if (l &lt; 0.5)
			s = (maxC - minC) / (maxC + minC);
		if (l &gt;= 0.5)
			s = (maxC - minC) / (2.0 - maxC - minC);
		if (r == maxC)
			h = (g - b) / (maxC - minC);
		else if (g == maxC)
			h = 2.0 + (b - r) / (maxC - minC);
		else if (b == maxC)
			h = 4.0 + (r - g) / (maxC - minC);
	}
	h /= 6.0;
	hue = (int) (h * 256.0);
	saturation = (int) (s * 256.0);
	lightness = (int) (l * 256.0);
	if (saturation &lt; 0)
		saturation = 0;
	else if (saturation &gt; 255)
		saturation = 255;
	if (lightness &lt; 0)
		lightness = 0;
	else if (lightness &gt; 255)
		lightness = 255;
	if (l &gt; 0.5)
		hueDivider = (int) ((1.0 - l) * s * 512.0);
	else
		hueDivider = (int) (l * s * 512.0);
	if (hueDivider &lt; 1)
		hueDivider = 1;
	hueVariation = (int) (h * (double) hueDivider);
}
</code></pre>
<p>}[/code]</p>
<p>[size=18pt]317[/size]</p>
<p>[code=Java]package com.jagex.runescape;</p>
<p>public final class FloorDefinition {</p>
<pre><code>public static void load(Archive archive) {
	Stream stream = new Stream(archive.getFile("flo.dat"));
	int floorCount = stream.getUnsignedLEShort();
	if (floorCache == null)
		floorCache = new FloorDefinition[floorCount];
	for (int f = 0; f &lt; floorCount; f++) {
		if (floorCache[f] == null)
			floorCache[f] = new FloorDefinition();
		floorCache[f].readValues(stream);
	}
}

private void readValues(Stream stream) {
	do {
		int configCode = stream.getUnsignedByte();
		if (configCode == 0)
			return;
		else if (configCode == 1) {
			terrainColour = stream.get24BitInt();
			RGBToHSL(terrainColour);
		} else if (configCode == 2)
			textureId = stream.getUnsignedByte();
		else if (configCode == 5)
			occlude = false;
		else if (configCode == 6)
			name = stream.getString();
		else if (configCode == 7) {
			int hue = this.hue;
			int saturation = this.saturation;
			int lightness = this.lightness;
			int hueVariation = this.hueVariation;
			int rgb = stream.get24BitInt();
			RGBToHSL(rgb);
			this.hue = hue;
			this.saturation = saturation;
			this.lightness = lightness;
			this.hueVariation = hueVariation;
			hueDivider = hueVariation;
		} else {
			System.out.println("Error unrecognised config code: "
					+ configCode);
		}
	} while (true);
}

private void RGBToHSL(int rgb) {
	double red = (double) (rgb &gt;&gt; 16 &amp; 0xff) / 256D;
	double green = (double) (rgb &gt;&gt; 8 &amp; 0xff) / 256D;
	double blue = (double) (rgb &amp; 0xff) / 256D;
	double minC = red;
	if (green &lt; minC)
		minC = green;
	if (blue &lt; minC)
		minC = blue;
	double maxC = red;
	if (green &gt; maxC)
		maxC = green;
	if (blue &gt; maxC)
		maxC = blue;
	double h = 0.0D;
	double s = 0.0D;
	double l = (minC + maxC) / 2D;
	if (minC != maxC) {
		if (l &lt; 0.5D)
			s = (maxC - minC) / (maxC + minC);
		if (l &gt;= 0.5D)
			s = (maxC - minC) / (2D - maxC - minC);
		if (red == maxC)
			h = (green - blue) / (maxC - minC);
		else if (green == maxC)
			h = 2D + (blue - red) / (maxC - minC);
		else if (blue == maxC)
			h = 4D + (red - green) / (maxC - minC);
	}
	h /= 6D;
	hue = (int) (h * 256D);
	saturation = (int) (s * 256D);
	lightness = (int) (l * 256D);
	if (saturation &lt; 0)
		saturation = 0;
	else if (saturation &gt; 255)
		saturation = 255;
	if (lightness &lt; 0)
		lightness = 0;
	else if (lightness &gt; 255)
		lightness = 255;
	if (l &gt; 0.5D)
		hueDivider = (int) ((1.0D - l) * s * 512D);
	else
		hueDivider = (int) (l * s * 512D);
	if (hueDivider &lt; 1)
		hueDivider = 1;
	hueVariation = (int) (h * (double) hueDivider);
	int randomHue = (hue + (int) (Math.random() * 16D)) - 8;
	if (randomHue &lt; 0)
		randomHue = 0;
	else if (randomHue &gt; 255)
		randomHue = 255;
	int randomSaturation = (saturation + (int) (Math.random() * 48D)) - 24;
	if (randomSaturation &lt; 0)
		randomSaturation = 0;
	else if (randomSaturation &gt; 255)
		randomSaturation = 255;
	int randomLightness = (lightness + (int) (Math.random() * 48D)) - 24;
	if (randomLightness &lt; 0)
		randomLightness = 0;
	else if (randomLightness &gt; 255)
		randomLightness = 255;
	hsl = packHSL(randomHue, randomSaturation, randomLightness);
}

private int packHSL(int h, int s, int l) {
	if (l &gt; 179)
		s /= 2;
	if (l &gt; 192)
		s /= 2;
	if (l &gt; 217)
		s /= 2;
	if (l &gt; 243)
		s /= 2;
	return (h / 4 &lt;&lt; 10) + (s / 32 &lt;&lt; 7) + l / 2;
}

private FloorDefinition() {
	textureId = -1;
	occlude = true;
}

public static FloorDefinition floorCache[];
public int terrainColour;
public int textureId;
public boolean occlude;
public int hue;
public int saturation;
public int lightness;
public int hueVariation;
public int hueDivider;
public int hsl;
public String name;
</code></pre>
<p>}[/code]</p>
<p>As you can see, the classes as a whole stay the same - the loading is kept uniform for the most part, except for a new attribute is added by 317 which appears to reload the colours although I’m not sure exactly.</p>
<p>In the <span class="bbcode-i">RGBToHSL</span> method, we see a new part added by 317 - the colour randomisation. This can be seen in most modern servers where the colours on the minimap and on the ground change slightly, presumably as a defence against colour clicking bots.</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T02:17:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:02Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>They’re the same minus the color-bot randomization in the 317 and that they tried to save on bandwidth (assumption? maybe they just liked hashcodes…) by packing hue, saturation and lightness values into a single int, hehe.</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T20:37:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:08Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="547620">
<div class="title">
<div class="quote-controls"></div>
 AtomicInt_:</div>
<blockquote>
<p>They’re the same minus the color-bot randomization in the 317 and that they tried to save on bandwidth (assumption? maybe they just liked hashcodes…) by packing hue, saturation and lightness values into a single int, hehe.</p>
</blockquote>
</aside>
<p>Packing values into a larger size word is not a hash (there is no data loss), it’s more of an encoding. If the sum of the words used in 194 equals the packed word in 317 then it doesn’t save any bandwidth.</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T20:43:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:08Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“t4, post:3, topic:547620”][quote author=AtomicInt_ link=topic=666528.msg4456548#msg4456548 date=1415240235]<br>
They’re the same minus the color-bot randomization in the 317 and that they tried to save on bandwidth (assumption? maybe they just liked hashcodes…) by packing hue, saturation and lightness values into a single int, hehe.<br>
[/quote]<br>
Packing values into a larger size word is not a hash (there is no data loss), it’s more of an encoding.[/quote]It can be a hash. There are many different types of hashes, and they don’t all mean you lose the data values.</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T20:48:05Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:09Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Davidi2, post:4, topic:547620”][quote author=t4 link=topic=666528.msg4456661#msg4456661 date=1415306268]</p>
<aside class="quote">
<blockquote>
<p>They’re the same minus the color-bot randomization in the 317 and that they tried to save on bandwidth (assumption? maybe they just liked hashcodes…) by packing hue, saturation and lightness values into a single int, hehe.</p>
</blockquote>
</aside>
<p>Packing values into a larger size word is not a hash (there is no data loss), it’s more of an encoding.<br>
[/quote]It can be a hash. There are many different types of hashes, and they don’t all mean you lose the data values.[/quote]<br>
I’ve always understood hashing as a function that takes arbitrary length input and produces fixed length output with best case 1:1 mapping.</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pure2ownage.html'><span itemprop='name'>pure2ownage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T20:52:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:09Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“t4, post:5, topic:547620”][quote author=Davidi2 link=topic=666528.msg4456665#msg4456665 date=1415306611]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>They’re the same minus the color-bot randomization in the 317 and that they tried to save on bandwidth (assumption? maybe they just liked hashcodes…) by packing hue, saturation and lightness values into a single int, hehe.</p>
</blockquote>
</aside>
<p>Packing values into a larger size word is not a hash (there is no data loss), it’s more of an encoding.<br>
[/quote]It can be a hash. There are many different types of hashes, and they don’t all mean you lose the data values.</p>
</blockquote>
</aside>
<p>I’ve always understood hashing as a function that takes arbitrary length input and produces fixed length output with best case 1:1 mapping.[/quote]Yes you’re correct t4.</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T20:55:06Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:09Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“t4, post:3, topic:547620”][quote author=AtomicInt_ link=topic=666528.msg4456548#msg4456548 date=1415240235]<br>
They’re the same minus the color-bot randomization in the 317 and that they tried to save on bandwidth (assumption? maybe they just liked hashcodes…) by packing hue, saturation and lightness values into a single int, hehe.<br>
[/quote]<br>
Packing values into a larger size word is not a hash (there is no data loss), it’s more of an encoding. If the sum of the words used in 194 equals the packed word in 317 then it doesn’t save any bandwidth.[/quote]</p>
<p>If that is the case then what is the purpose of packing the data?</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T21:31:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:09Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Pure_, post:6, topic:547620”][quote author=t4 link=topic=666528.msg4456667#msg4456667 date=1415306885]</p>
<p>[quote author=Davidi2 link=topic=666528.msg4456665#msg4456665 date=1415306611]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>They’re the same minus the color-bot randomization in the 317 and that they tried to save on bandwidth (assumption? maybe they just liked hashcodes…) by packing hue, saturation and lightness values into a single int, hehe.</p>
</blockquote>
</aside>
<p>Packing values into a larger size word is not a hash (there is no data loss), it’s more of an encoding.<br>
[/quote]It can be a hash. There are many different types of hashes, and they don’t all mean you lose the data values.</p>
</blockquote>
</aside>
<p>I’ve always understood hashing as a function that takes arbitrary length input and produces fixed length output with best case 1:1 mapping.<br>
[/quote]Yes you’re correct t4.[/quote]Yes, this is correct, but it doesn’t always mean there is data loss. IE, you cant say “this has no data loss” as a reason to say something doesn’t count as a hash.</p>
<pre><code class="lang-auto">class PackedInt {

  private short word1;
  private short word2;

  @Override
  public int hashCode() {
    return word2 &lt;&lt; 16 | word1;
  }
}</code></pre>
<p>Valid, no data loss.</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T21:53:51Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:09Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“AtomicInt_, post:7, topic:547620”][quote author=t4 link=topic=666528.msg4456661#msg4456661 date=1415306268]</p>
<aside class="quote">
<blockquote>
<p>They’re the same minus the color-bot randomization in the 317 and that they tried to save on bandwidth (assumption? maybe they just liked hashcodes…) by packing hue, saturation and lightness values into a single int, hehe.</p>
</blockquote>
</aside>
<p>Packing values into a larger size word is not a hash (there is no data loss), it’s more of an encoding. If the sum of the words used in 194 equals the packed word in 317 then it doesn’t save any bandwidth.<br>
[/quote]</p>
<p>If that is the case then what is the purpose of packing the data?[/quote]<br>
Less system calls technically, less code statements. Bitwise operations are cheap.</p>
<p>[quote=“Davidi2, post:8, topic:547620”][quote author=Pure_ link=topic=666528.msg4456669#msg4456669 date=1415307132]</p>
<p>[quote author=t4 link=topic=666528.msg4456667#msg4456667 date=1415306885]</p>
<p>[quote author=Davidi2 link=topic=666528.msg4456665#msg4456665 date=1415306611]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>They’re the same minus the color-bot randomization in the 317 and that they tried to save on bandwidth (assumption? maybe they just liked hashcodes…) by packing hue, saturation and lightness values into a single int, hehe.</p>
</blockquote>
</aside>
<p>Packing values into a larger size word is not a hash (there is no data loss), it’s more of an encoding.<br>
[/quote]It can be a hash. There are many different types of hashes, and they don’t all mean you lose the data values.</p>
</blockquote>
</aside>
<p>I’ve always understood hashing as a function that takes arbitrary length input and produces fixed length output with best case 1:1 mapping.<br>
[/quote]Yes you’re correct t4.<br>
[/quote]Yes, this is correct, but it doesn’t always mean there is data loss. IE, you cant say “this has no data loss” as a reason to say something doesn’t count as a hash.</p>
<pre><code class="lang-auto">class PackedInt {

  private short word1;
  private short word2;

  @Override
  public int hashCode() {
    return word2 &lt;&lt; 16 | word1;
  }
}</code></pre>
<p>Valid, no data loss.[/quote]<br>
Data loss does not mean hash code, rather a hashing function by definition should contain data loss under certain circumstances given the fact an arbitrary input data length must be accepted.</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/davidi2.html'><span itemprop='name'>davidi2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T21:58:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:09Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You’re misinterpreting what arbitrary means in this case – it is not an exclusive defining trait of a hash. The code I gave you is a valid hash of fixed input length, but it is still a hash that can be used like any other hash in java. Arbitrary input length means you can define anything you like as the input, whether that be a fixed input or a variable one. To put it in perspective, you could also define a fixed length input and output that DOES have data loss (for example a string hashing algorithm that requires exactly 13 characters or something). The two are not mutually exclusive.</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/T41.html'><span itemprop='name'>T41</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-11-06T23:25:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:57:11Z' class='post-time'>
              August 4, 2016,  1:57pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="10" data-topic="547620">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/davidi2/40/2579_1.png" class="avatar"> Davidi2:</div>
<blockquote>
<p>You’re misinterpreting what arbitrary means in this case – it is not an exclusive defining trait of a hash. The code I gave you is a valid hash of fixed input length, but it is still a hash that can be used like any other hash in java. Arbitrary input length means you can define anything you like as the input, whether that be a fixed input or a variable one. To put it in perspective, you could also define a fixed length input and output that DOES have data loss (for example a string hashing algorithm that requires exactly 13 characters or something). The two are not mutually exclusive.</p>
</blockquote>
</aside>
<p>I concede. My gripe is that a hash <span class="bbcode-i">usually</span> implies that it is just a unique identifier for data rather than the data itself and as such to prevent confusion we should refer to the word packing seen here as simply an encoding.</p>
      </div>

      <meta itemprop='headline' content='[194 and 317 compared] Refactored FloorDefinition class'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/194-and-317-compared-refactored-floordefinition-class/547620 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:39 GMT -->
</html>
