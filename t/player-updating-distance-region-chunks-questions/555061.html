<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/player-updating-distance-region-chunks-questions/555061 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Player updating distance/region/chunks questions - Runescape - moparisthebest.com</title>
    <meta name="description" content="Trying to write an event driven updating system (sort of). The main idea is to avoid looping through the server&amp;#39;s connected player list. 

To be honest I don&amp;#39;t even know what I&amp;#39;m asking or what it is. 

Basically, what i&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="555061.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Player updating distance/region/chunks questions&#39;" href="555061.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/player-updating-distance-region-chunks-questions/555061" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/player-updating-distance-region-chunks-questions/555061" />
<meta property="og:title" content="Player updating distance/region/chunks questions" />
<meta name="twitter:title" content="Player updating distance/region/chunks questions" />
<meta property="og:description" content="Trying to write an event driven updating system (sort of). The main idea is to avoid looping through the server’s connected player list.  To be honest I don’t even know what I’m asking or what it is.  Basically, what is a region/chunk in Runescape?  Which players do you update (relative to our player)? What distance?  I have looked into existing servers but none of them do what I want to do. They all basically loop through the local player list (stored on the player), check the distance, if vali..." />
<meta name="twitter:description" content="Trying to write an event driven updating system (sort of). The main idea is to avoid looping through the server’s connected player list.  To be honest I don’t even know what I’m asking or what it is.  Basically, what is a region/chunk in Runescape?  Which players do you update (relative to our player)? What distance?  I have looked into existing servers but none of them do what I want to do. They all basically loop through the local player list (stored on the player), check the distance, if vali..." />
<meta property="article:published_time" content="2016-03-26T00:58:37+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="555061.html">Player updating distance/region/chunks questions</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-26T00:58:37Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:52:50Z' class='post-time'>
              August 4, 2016,  5:52pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Trying to write an event driven updating system (sort of). The main idea is to avoid looping through the server’s connected player list.</p>
<p>To be honest I don’t even know what I’m asking or what it is.</p>
<p>Basically, what is a region/chunk in Runescape?<br>
Which players do you update (relative to our player)? What distance?</p>
<p>I have looked into existing servers but none of them do what I want to do. They all basically loop through the local player list (stored on the player), check the distance, if valid -&gt; update, if not -&gt; remove. Then they loop through the full server player list and add all the players to the local player list if they’re within range. This is essentially what I’m trying to avoid.</p>
<p>Some clarification is appreciated.</p>
      </div>

      <meta itemprop='headline' content='Player updating distance/region/chunks questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Vix.html'><span itemprop='name'>Vix</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-26T01:40:40Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:52:50Z' class='post-time'>
              August 4, 2016,  5:52pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If memory serves the client’s viewport is 32 x 32 tiles, this is whats commonly called a region. This is exactly 4 x 4 segments. Segments are blocks of 8 x 8 tiles. Only update the players within your region or if they are visible in surrounding regions.</p>
      </div>

      <meta itemprop='headline' content='Player updating distance/region/chunks questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-26T01:54:33Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:52:51Z' class='post-time'>
              August 4, 2016,  5:52pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks, was confused with Sini’s explanation.</p>
<p>Edit: Is player updating limited to only the players in our current region?</p>
      </div>

      <meta itemprop='headline' content='Player updating distance/region/chunks questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-26T08:26:45Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:52:52Z' class='post-time'>
              August 4, 2016,  5:52pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Cres, post:3, topic:555061”]Thanks, was confused with Sini’s explanation.</p>
<p>Edit: Is player updating limited to only the players in our current region?[/quote]<br>
It should be yes.<br>
And only a max of 255 players.</p>
      </div>

      <meta itemprop='headline' content='Player updating distance/region/chunks questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-26T15:57:52Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:52:53Z' class='post-time'>
              August 4, 2016,  5:52pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So imagine that our player is right at the border of his current region, do we start loading players from the neighbouring region?</p>
      </div>

      <meta itemprop='headline' content='Player updating distance/region/chunks questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-26T16:46:41Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:52:53Z' class='post-time'>
              August 4, 2016,  5:52pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="5" data-topic="555061">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/cres/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Cres:</div>
<blockquote>
<p>So imagine that our player is right at the border of his current region, do we start loading players from the neighbouring region?</p>
</blockquote>
</aside>
<p>Only if that player’s X/Y/Z are within the your visible region.</p>
<p>Like if you’re standing right next to the “black wall” right before the map loads the new region, you’d only update the players that are between that wall and the opposing end of it about 3 segments away.<br>
Personally I’ve never wrote a system for this… But I <span class="bbcode-i">believe</span> when you load a new region the client sends a packet to the server. You could capture the player’s X/Y at that point then those values plus/minus (8 * 4)  (You should be centered in the region on load. so it’s half) would be the max distance the player could see before the region would reload.</p>
<p>So if I logged in at X: 64, y: 64, Z: 0, I’d be able to see from X: 32, Y: 32, Z: 0 to X: 96, Y: 96, Z: 0 (Height is semi-irrelevant here as you’d only update ones on your height level iirc) before reloading. That means any player within those tiles, should be updated.</p>
<p>(Unless I’ve got a completely wrong understanding on how this works).</p>
<p>I er, hope that helps.</p>
      </div>

      <meta itemprop='headline' content='Player updating distance/region/chunks questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Cres.html'><span itemprop='name'>Cres</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2016-03-26T17:03:54Z'>
            <time itemprop='dateModified' datetime='2016-08-04T17:52:54Z' class='post-time'>
              August 4, 2016,  5:52pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think I’m just going to get this system working and then experiment with the distances. The client does indeed send a packet upon region changing (and another upon finishing loading the new region). So upon receiving this packet, the server places the player in his new region.</p>
<p>Here’s how I think of doing it:</p>
<p>[ul][li] Since a region is 32x32 tiles, the player updates all the players in his current region, no matter what[/li]<br>
[li] Depending on the chunk (=segment) of the current region the player is in, the player will also load players in chunks of neighbouring regions[/li][/ul]</p>
      </div>

      <meta itemprop='headline' content='Player updating distance/region/chunks questions'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/player-updating-distance-region-chunks-questions/555061 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:31 GMT -->
</html>
