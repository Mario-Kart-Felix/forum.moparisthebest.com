<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/npcs-arent-dropping/234237 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 05:31:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>NPC&#39;s aren&#39;t dropping - Runescape - moparisthebest.com</title>
    <meta name="description" content="Well i have used about 3 tutorials but my npcs júst won&amp;#39;t drop stuff..  

just HOW the heck do i do this?">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="234237.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;NPC&#39;s aren&#39;t dropping&#39;" href="234237.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/npcs-arent-dropping/234237" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/npcs-arent-dropping/234237" />
<meta property="og:title" content="NPC&#39;s aren&#39;t dropping" />
<meta name="twitter:title" content="NPC&#39;s aren&#39;t dropping" />
<meta property="og:description" content="Well i have used about 3 tutorials but my npcs júst won’t drop stuff…  just HOW the heck do i do this?" />
<meta name="twitter:description" content="Well i have used about 3 tutorials but my npcs júst won’t drop stuff…  just HOW the heck do i do this?" />
<meta property="article:published_time" content="2008-10-01T12:53:12+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="234237.html">NPC&#39;s aren&#39;t dropping</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/swodlayer.html'><span itemprop='name'>swodlayer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-10-01T12:53:12Z'>
            <time itemprop='dateModified' datetime='2016-07-31T02:01:29Z' class='post-time'>
              July 31, 2016,  2:01am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well i have used about 3 tutorials but my npcs júst won’t drop stuff…</p>
<p>just HOW the heck do i do this?</p>
      </div>

      <meta itemprop='headline' content='NPC&#39;s aren&#39;t dropping'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/swodlayer.html'><span itemprop='name'>swodlayer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-10-01T12:56:31Z'>
            <time itemprop='dateModified' datetime='2016-07-31T02:01:29Z' class='post-time'>
              July 31, 2016,  2:01am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Testscape, i modified it alot but it ís testscape.</p>
      </div>

      <meta itemprop='headline' content='NPC&#39;s aren&#39;t dropping'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/swodlayer.html'><span itemprop='name'>swodlayer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-10-01T12:59:06Z'>
            <time itemprop='dateModified' datetime='2016-07-31T02:01:29Z' class='post-time'>
              July 31, 2016,  2:01am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>My npc file… i have NPChandler NPClist NPCdrops and just NPC, heres NPC… if you need something else just say it…</p>
<p>[code]public class NPC {<br>
public int npcId;<br>
public int npcType;</p>
<pre><code>public int absX, absY;
public int heightLevel;
public int makeX, makeY, moverangeX1, moverangeY1, moverangeX2, moverangeY2, moveX, moveY, direction, walkingType;
public int spawnX, spawnY;
public int HP, MaxHP, hitDiff, MaxHit, animNumber, actionTimer, StartKilling;
public boolean IsDead, DeadApply, NeedRespawn, IsUnderAttack, IsClose;
public int[] Killing = new int[server.playerHandler.maxPlayers];

public boolean RandomWalk;
public boolean dirUpdateRequired;
public boolean animUpdateRequired;
public boolean hitUpdateRequired;
public boolean updateRequired;
public boolean textUpdateRequired;
public String textUpdate;

public NPC(int _npcId, int _npcType) {
	npcId = _npcId;
	npcType = _npcType;
	direction = -1;
	IsDead = false;
	DeadApply = false;
	actionTimer = 0;
	RandomWalk = true;
	StartKilling = 0;
	IsUnderAttack = false;
	IsClose = false;
	for (int i = 0; i &lt; Killing.length; i++) {
		Killing[i] = 0;
	}
}

public void updateNPCMovement(stream str) {
	if (direction == -1) {
		// don't have to update the npc position, because the npc is just standing
		if (updateRequired) {
			// tell client there's an update block appended at the end
			str.writeBits(1, 1);
			str.writeBits(2, 0);
		} else {
			str.writeBits(1, 0);
		}
	} else {
		// send "walking packet"
		str.writeBits(1, 1);
		str.writeBits(2, 1);		// updateType
		str.writeBits(3, misc.xlateDirectionToClient[direction]);
		if (updateRequired) {
			str.writeBits(1, 1);		// tell client there's an update block appended at the end
		} else {
			str.writeBits(1, 0);
		}
	}
}

public void appendNPCUpdateBlock(stream str) {
	if(!updateRequired) return ;		// nothing required
	int updateMask = 0;
	if(textUpdateRequired) updateMask |= 1;
	if(animUpdateRequired) updateMask |= 0x10;
	if(hitUpdateRequired) updateMask |= 0x40;
	if(dirUpdateRequired) updateMask |= 0x20;

	/*if(updateMask &gt;= 0x100) {
		// byte isn't sufficient
		updateMask |= 0x40;			// indication for the client that updateMask is stored in a word
		str.writeByte(updateMask &amp; 0xFF);
		str.writeByte(updateMask &gt;&gt; 8);
	} else {*/
		str.writeByte(updateMask);
	//}

	// now writing the various update blocks itself - note that their order crucial
	if(textUpdateRequired) {
		str.writeString(textUpdate);
	}
	if (animUpdateRequired) appendAnimUpdate(str);
	if (hitUpdateRequired) appendHitUpdate(str);
	if (dirUpdateRequired) appendDirUpdate(str);
	// TODO: add the various other update blocks
}

public void clearUpdateFlags() {
	updateRequired = false;
	textUpdateRequired = false;
	hitUpdateRequired = false;
	animUpdateRequired = false;
	dirUpdateRequired = false;
	textUpdate = null;
	moveX = 0;
	moveY = 0;
	direction = -1;
}

// returns 0-7 for next walking direction or -1, if we're not moving
public int getNextWalkingDirection() {
	int dir;
	dir = misc.direction(absX, absY, (absX + moveX), (absY + moveY));
	if(dir == -1) return -1;
	dir &gt;&gt;= 1;
	absX += moveX;
	absY += moveY;
	return dir;
}

public void getNextNPCMovement() {
	direction = -1;
	direction = getNextWalkingDirection();
}

protected void appendHitUpdate(stream str) {		
	try {
		HP -= hitDiff;
		if (HP &lt;= 0) {
			IsDead = true;
		}
		str.writeByteC(hitDiff); // What the perseon got 'hit' for
		if (hitDiff &gt; 0) {
			str.writeByteS(1); // 0: red hitting - 1: blue hitting
		} else {
			str.writeByteS(0); // 0: red hitting - 1: blue hitting
		}
		str.writeByteS(HP); // Their current hp, for HP bar
		str.writeByteC(MaxHP); // Their max hp, for HP bar
	} catch(Exception e) {
		e.printStackTrace();
	}
}

public void appendAnimUpdate(stream str) {
	str.writeWordBigEndian(animNumber);
	str.writeByte(1);
}

public void appendDirUpdate(stream str){
	str.writeWord(direction);
}
</code></pre>
<p>}<br>
[/code]</p>
      </div>

      <meta itemprop='headline' content='NPC&#39;s aren&#39;t dropping'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/swodlayer.html'><span itemprop='name'>swodlayer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-10-01T13:06:34Z'>
            <time itemprop='dateModified' datetime='2016-07-31T02:01:30Z' class='post-time'>
              July 31, 2016,  2:01am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>kay…</p>
<p>[code]public class NPCDrops {<br>
public int npcId;<br>
public int DropType;<br>
public int[] Items = new int[100];<br>
public int[] ItemsN = new int[100];</p>
<pre><code>public NPCDrops(int _npcId) {
	npcId = _npcId;
	for (int i = 0; i &lt; Items.length; i++) {
		Items[i] = -1;
		ItemsN[i] = 0;
	}
}
</code></pre>
<p>}<br>
[/code]</p>
<p>Thats the .java file, and i have also a cfg file, thats this one:</p>
<pre><code class="lang-auto">//--------NPCID---------DropType--------Item----Amount--
npcdrop = 1		1		995	3	995	4	995	5	995	6	995	7	995	8	995	9	995	10	995	11	995	12	995	13	995	14	995	15
npcdrop = 1		2		1203	1	882	7	877	1	877	2	877	3
npcdrop = 1		3		1139	1	1137	1
npcdrop = 1		4		557	4	563	1	565	1	554	6	562	2	558	9
npcdrop = 1		5		199	1	1061	1	313	1	1440	1	1446	1	438	1	436	1	1965	1	2677	1
npcdrop = 3		1		995	3	995	4	995	5	995	6	995	7	995	8	995	9	995	10	995	11	995	12	995	13	995	14	995	15
npcdrop = 3		2		1203	1	882	7	877	1	877	2	877	3
npcdrop = 3		3		1139	1	1137	1
npcdrop = 3		4		557	4	563	1	565	1	554	6	562	2	558	9
npcdrop = 3		5		199	1	1061	1	313	1	1440	1	1446	1	438	1	436	1	1965	1	2677	1
npcdrop = 7		1		995	3	995	4	995	5	995	6	995	7	995	8	995	9	995	10	995	11	995	12	995	13	995	14	995	15
npcdrop = 7		2		882	7	1203	1
npcdrop = 7		3		1139	1
npcdrop = 7		4		557	4	554	6	562	2	558	9
npcdrop = 7		5		436	1	2677	1	1440	1	313	1	5345	1	199	1	5341	1	5329	1	5318	1	5318	2	5318	3	5318	4	5320	1	5320	2	5324	1	5324	2	5324	3	5322	1	5322	2	5319	2	5319	3	5323	1	5343	1	5340	1
npcdrop = 9		1		995	1	995	2	995	3	995	4	995	5	995	6	995	7	995	8	995	9	995	10	995	11	995	12	995	13	995	14	995	15	995	16	995	17	995	18	995	19	995	20	995	21	995	22	995	23	995	24	995	25	995	26	995	27	995	28	995	29	995	30
npcdrop = 9		2		1203	1	888	1	886	5	884	1	882	1	882	2
	11	995	12	995	13	995	14	995	15	995	16	995	17	995	18	995	19	995	20	995	21	995	22	995	23	995	24	995	25	995	26	995	27	995	28	995	29	995	30	995	31	995	32	995	33	995	34	995	35	995	36	995	37	995	38	995	39	995	40	995	41	995	42	995	43	995	44	995	45	995	46	995	47	995	48	995	49	995	50	995	51	995	52	995	53	995	54	995	55	995	56	995	57	995	58	995	59	995	60	995	61	995	62	995	63	995	64
	
[ENDOFNPCDROPLIST]

Thats all...</code></pre>
      </div>

      <meta itemprop='headline' content='NPC&#39;s aren&#39;t dropping'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/swodlayer.html'><span itemprop='name'>swodlayer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-10-01T13:11:46Z'>
            <time itemprop='dateModified' datetime='2016-07-31T02:01:30Z' class='post-time'>
              July 31, 2016,  2:01am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>well thanks for looking at it… Hope it works when ur done…</p>
      </div>

      <meta itemprop='headline' content='NPC&#39;s aren&#39;t dropping'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/swodlayer.html'><span itemprop='name'>swodlayer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-10-01T13:19:55Z'>
            <time itemprop='dateModified' datetime='2016-07-31T02:01:30Z' class='post-time'>
              July 31, 2016,  2:01am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks for all your help but… the darn thing aint dropping anything :S</p>
<p>its right if i use: npcdrop =      NPCID DROPTYPE ITEM ?[br][br][size=1]Posted on: October 01, 2008, 09:03:39 am[/size][hr]wtf is this bullshit, how the hell does this work?</p>
      </div>

      <meta itemprop='headline' content='NPC&#39;s aren&#39;t dropping'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/npcs-arent-dropping/234237 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Aug 2019 05:31:51 GMT -->
</html>
