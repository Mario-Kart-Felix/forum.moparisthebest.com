<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/really-need-some-help/446093 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:19:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Really need some help - Game Development - moparisthebest.com</title>
    <meta name="description" content="Well i&amp;#39;m new to coding 600+ and i got a 639/711 and i want to edit the npc drops and i managed to get an unpacked npcdrops.txt and i put it in the npc folder where the packednpcdrops.d are and deleted the packed drops an&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="446093.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Really need some help&#39;" href="446093.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/really-need-some-help/446093" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/really-need-some-help/446093" />
<meta property="og:title" content="Really need some help" />
<meta name="twitter:title" content="Really need some help" />
<meta property="og:description" content="Well i’m new to coding 600+ and i got a 639/711 and i want to edit the npc drops and i managed to get an unpacked npcdrops.txt and i put it in the npc folder where the packednpcdrops.d are and deleted the packed drops and compiled and ra nthe server bu tit didn’t pack the npcdrops this is my npcdrops.txt  [CODE]package com.rs.utils;  import java.io.RandomAccessFile;  import java.nio.ByteBuffer;  import java.nio.channels.FileChannel;  import java.nio.channels.FileChannel.MapMode;  import java.uti..." />
<meta name="twitter:description" content="Well i’m new to coding 600+ and i got a 639/711 and i want to edit the npc drops and i managed to get an unpacked npcdrops.txt and i put it in the npc folder where the packednpcdrops.d are and deleted the packed drops and compiled and ra nthe server bu tit didn’t pack the npcdrops this is my npcdrops.txt  [CODE]package com.rs.utils;  import java.io.RandomAccessFile;  import java.nio.ByteBuffer;  import java.nio.channels.FileChannel;  import java.nio.channels.FileChannel.MapMode;  import java.uti..." />
<meta property="article:published_time" content="2012-06-20T19:42:41+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="446093.html">Really need some help</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming/game-development.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Game Development</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/thugnit1019.html'><span itemprop='name'>thugnit1019</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-06-20T19:42:41Z'>
            <time itemprop='dateModified' datetime='2016-08-03T03:24:34Z' class='post-time'>
              August 3, 2016,  3:24am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well i’m new to coding 600+ and i got a 639/711 and i want to edit the npc drops and i managed to get an unpacked npcdrops.txt and i put it in the npc folder where the packednpcdrops.d are and deleted the packed drops and compiled and ra nthe server bu tit didn’t pack the npcdrops this is my npcdrops.txt</p>
<p>[CODE]package com.rs.utils;</p>
<p>import java.io.RandomAccessFile;<br>
import java.nio.ByteBuffer;<br>
import java.nio.channels.FileChannel;<br>
import java.nio.channels.FileChannel.MapMode;<br>
import java.util.ArrayList;<br>
import java.util.HashMap;<br>
import java.util.LinkedHashMap;<br>
import java.util.Map;</p>
<p>import com.rs.game.npc.Drop;</p>
<p>public class NPCDrops {</p>
<pre><code>    private final static String PACKED_PATH = "data/npcs/packedDrops.d";
    private static HashMap&lt;Integer, Drop[]&gt; npcDrops;

    public static final void init() {
            loadPackedNPCDrops();
    }

    public static Drop[] getDrops(int npcId) {
            return npcDrops.get(npcId);
    }

     private Map&lt;Integer, ArrayList&lt;Drop&gt;&gt; dropMapx = null;
 public Map&lt;Integer, ArrayList&lt;Drop&gt;&gt; getDropArray() {
     
     if(dropMapx == null)
         dropMapx = new LinkedHashMap&lt;Integer, ArrayList&lt;Drop&gt;&gt;();
     //dropMapx = new LinkedHashMap&lt;Integer, ArrayList&lt;Drop&gt;&gt;();
     for (int i : npcDrops.keySet()) {
         int npcId = i;
         ArrayList&lt;Drop&gt; temp = new ArrayList&lt;Drop&gt;();
         for (Drop mainDrop : npcDrops.get(npcId)) {
            temp.add(mainDrop);
         }
         dropMapx.put(i, temp);
     }      

  return dropMapx;
 }
  public void insertDrop(int npcID, Drop d) {
    loadPackedNPCDrops();
    Drop[] oldDrop = npcDrops.get(npcID);
        if (oldDrop == null) {
            npcDrops.put(npcID, new Drop[] {d});
        } else {
        int length = oldDrop.length;
        Drop destination[] = new Drop[length + 1];
        System.arraycopy(oldDrop, 0, destination, 0, length);
        destination[length] = d;
        npcDrops.put(npcID, destination);
        }
     }
    private static void loadPackedNPCDrops() {
            try {
                    RandomAccessFile in = new RandomAccessFile(PACKED_PATH, "r");
                    FileChannel channel = in.getChannel();
                    ByteBuffer buffer = channel.map(MapMode.READ_ONLY, 0,
                                    channel.size());
                    int dropSize = buffer.getShort() &amp; 0xffff;
                    npcDrops = new HashMap&lt;Integer, Drop[]&gt;(dropSize);
                    for (int i = 0; i &lt; dropSize; i++) {
                            int npcId = buffer.getShort() &amp; 0xffff;
                            Drop[] drops = new Drop[buffer.getShort() &amp; 0xffff];
                            for (int d = 0; d &lt; drops.length; d++) {
                                    if (buffer.get() == 0)
                                            drops[d] = new Drop(buffer.getShort() &amp; 0xffff,
                                                            buffer.getDouble(), buffer.getInt(),
                                                            buffer.getInt(), false);
                                    else
                                            drops[d] = new Drop(0, 0, 0, 0, true);

                            }
                            npcDrops.put(npcId, drops);
                    }
                    channel.close();
                    in.close();
            } catch (Throwable e) {
                    Logger.handle(e);
            }
    }

    public HashMap&lt;Integer, Drop[]&gt; getDropMap() {
            return npcDrops;
    }
</code></pre>
<p>}[/CODE]</p>
<p>and this is the error i get when i try to run the server after deleting the packednpcdrops</p>
<p><code>[NPCCombatDefinitionsL] Loaded 1971 NPC CombatDefinitions!
ERROR! THREAD NAME: main
java.io.FileNotFoundException: data\npcs\packedDrops.d (The system cannot find t
he file specified)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.&lt;init&gt;(Unknown Source)
        at java.io.RandomAccessFile.&lt;init&gt;(Unknown Source)
        at com.rs.utils.NPCDrops.loadPackedNPCDrops(NPCDrops.java:59)
        at com.rs.utils.NPCDrops.init(NPCDrops.java:20)
        at com.rs.Launcher.main(Launcher.java:75)
[Launcher] Initing Fishing Spots...
[Launcher] Initing NPC Combat Scripts...</code></p>
<p>i’ve looked all over and can’t find out how to pack it everything i saw says that just running the server should pack it can someone please help me i will be so grateful. This is the unpackednpc drops i’m using  <a href="http://uppit.com/7n27k7oqe7ft/unpackedNPCDrops.txt" data-bbcode="true" rel="nofollow noopener">Download unpackedNPCDrops.txt @ UppIT</a></p>
      </div>

      <meta itemprop='headline' content='Really need some help'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/really-need-some-help/446093 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:19:01 GMT -->
</html>
