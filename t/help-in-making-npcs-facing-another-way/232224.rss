<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Help in making npcs facing another way</title>
    <link>https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224</link>
    <description>how do you make npcs face north east or west? They just face South? I am Using Devlution Server.</description>
    
    <lastBuildDate>Sat, 20 Sep 2008 22:15:15 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Help in making npcs facing another way</title>
        <dc:creator><![CDATA[@Jordiescape Jordiescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jordiescape">@Jordiescape</a> wrote:</p>
          <blockquote>
              <p>Good point, sorry for causing a hassle.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/9</link>
        <pubDate>Sat, 20 Sep 2008 22:15:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-232224-9</guid>
        <source url="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224.rss">Help in making npcs facing another way</source>
      </item>
      <item>
        <title>Help in making npcs facing another way</title>
        <dc:creator><![CDATA[@ry60003333 ry60003333]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ry60003333">@ry60003333</a> wrote:</p>
          <blockquote>
              <p>Thats my point. The servers released here should be well written and stable. All these people have tons of problems with the WinterLove servers and turn to crap like server restarters to fix it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/8</link>
        <pubDate>Sat, 20 Sep 2008 22:14:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-232224-8</guid>
        <source url="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224.rss">Help in making npcs facing another way</source>
      </item>
      <item>
        <title>Help in making npcs facing another way</title>
        <dc:creator><![CDATA[@Jordiescape Jordiescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jordiescape">@Jordiescape</a> wrote:</p>
          <blockquote>
              <p>[quote=“ry60003333, post:6, topic:232224”][quote author=Jordiescape link=topic=305899.msg2450454#msg2450454 date=1221948112]<br>
Your the one that released the AFG bot. Fucking retard.<br>
[/quote]<br>
Flaming won’t get you anywhere. I created it and released it to prove my point, that WinterLove servers do fail. If you aren’t going to learn that they are just holding us back, I’ll use force to get it across.<br>
Also, stay on topic.</p>
<p>If you need more help, the update masks is 0x20 and you write an unsigned word with the index to face.</p>
<pre><code class="lang-auto">            if((l &amp; 0x20) != 0) // Facing Players/Npcs
            {
                npc.interactingEntity = stream.readUnsignedWord();
                //System.out.println("Facing " + npc.interactingEntity + ". PID: " + (npc.interactingEntity-32768));
                if(((Entity) (npc)).interactingEntity == 65535)
                    npc.interactingEntity = -1;
            }</code></pre>
<aside class="quote no-group">
<blockquote>
<p>Regardless, he still gave you the code…</p>
</blockquote>
</aside>
<p>He isn’t the one who wanted it, but thanks anyway.[/quote]<br>
Do you really think that he will know how to re-write the NPC update mask?<br>
Plus, you shouldn’t of released that AFG bot publicly, all the people that came to moparscape to learn about servers and just starting will get there servers blasted by faggots who think there cool because they went on a site to use someones bot. Lulz</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/7</link>
        <pubDate>Sat, 20 Sep 2008 22:08:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-232224-7</guid>
        <source url="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224.rss">Help in making npcs facing another way</source>
      </item>
      <item>
        <title>Help in making npcs facing another way</title>
        <dc:creator><![CDATA[@ry60003333 ry60003333]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ry60003333">@ry60003333</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="4" data-topic="232224">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/jordiescape/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> Jordiescape:</div>
<blockquote>
<p>Your the one that released the AFG bot. Fucking retard.</p>
</blockquote>
</aside>
<p>Flaming won’t get you anywhere. I created it and released it to prove my point, that WinterLove servers do fail. If you aren’t going to learn that they are just holding us back, I’ll use force to get it across.<br>
Also, stay on topic.</p>
<p>If you need more help, the update masks is 0x20 and you write an unsigned word with the NPC index to face, or to make it face a player add 32768 to the player index and write that.</p>
<pre><code class="lang-auto">            if((l &amp; 0x20) != 0) // Facing Players/Npcs
            {
                npc.interactingEntity = stream.readUnsignedWord();
                //System.out.println("Facing " + npc.interactingEntity + ". PID: " + (npc.interactingEntity-32768));
                if(((Entity) (npc)).interactingEntity == 65535)
                    npc.interactingEntity = -1;
            }</code></pre>
<aside class="quote no-group quote-modified" data-post="5" data-topic="232224">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/rog3r/40/5_6bca9977b612b7aeef77ba1ec1cd67b3.png" class="avatar"> Rog3r:</div>
<blockquote>
<p>Regardless, he still gave you the code…</p>
</blockquote>
</aside>
<p>He isn’t the one who wanted it, but thanks anyway.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/6</link>
        <pubDate>Sat, 20 Sep 2008 22:05:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-232224-6</guid>
        <source url="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224.rss">Help in making npcs facing another way</source>
      </item>
      <item>
        <title>Help in making npcs facing another way</title>
        <dc:creator><![CDATA[@Rog3r Rog3r]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/rog3r">@Rog3r</a> wrote:</p>
          <blockquote>
              <p>Regardless, he still gave you the code…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/5</link>
        <pubDate>Sat, 20 Sep 2008 22:03:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-232224-5</guid>
        <source url="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224.rss">Help in making npcs facing another way</source>
      </item>
      <item>
        <title>Help in making npcs facing another way</title>
        <dc:creator><![CDATA[@Jordiescape Jordiescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jordiescape">@Jordiescape</a> wrote:</p>
          <blockquote>
              <p>Your the one that released the AFG bot. Fucking retard.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/4</link>
        <pubDate>Sat, 20 Sep 2008 22:01:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-232224-4</guid>
        <source url="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224.rss">Help in making npcs facing another way</source>
      </item>
      <item>
        <title>Help in making npcs facing another way</title>
        <dc:creator><![CDATA[@ry60003333 ry60003333]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ry60003333">@ry60003333</a> wrote:</p>
          <blockquote>
              <p>[quote=“Jordiescape, post:2, topic:232224”][quote author=jorlowski link=topic=305899.msg2450432#msg2450432 date=1221946952]<br>
how do you make npcs face north east or west? They just face South? I am Using Devlution Server.<br>
[/quote]<br>
I don’t actually know how to change the directions of NPCs. It’s not even possible, me thinks.[/quote]<br>
You are all idiots. There is an update mask for NPCs that makes then face other NPCs or players. The update masks are written in the wrong order serverside, which is why using it would crash the client. Put the updates in the right order and add the one for facing other entities.</p>
<p>Here is the client code that reads the updates:</p>
<pre><code class="lang-auto">            if((l &amp; 0x10) != 0) // Anim
            {
                int i1 = stream.method434();
                if(i1 == 65535)
                    i1 = -1;
                int i2 = stream.readUnsignedByte();
                if(i1 == ((Entity) (npc)).anim &amp;&amp; i1 != -1)
                {
                    int l2 = Animation.anims[i1].anInt365;
                    if(l2 == 1)
                    {
                        npc.anInt1527 = 0;
                        npc.anInt1528 = 0;
                        npc.anInt1529 = i2;
                        npc.anInt1530 = 0;
                    }
                    if(l2 == 2)
                        npc.anInt1530 = 0;
                } else
                if(i1 == -1 || ((Entity) (npc)).anim == -1 || Animation.anims[i1].anInt359 &gt;= Animation.anims[((Entity) (npc)).anim].anInt359)
                {
                    npc.anim = i1;
                    npc.anInt1527 = 0;
                    npc.anInt1528 = 0;
                    npc.anInt1529 = i2;
                    npc.anInt1530 = 0;
                    npc.anInt1542 = ((Entity) (npc)).smallXYIndex;
                }
            }
            if((l &amp; 8) != 0) // Hit
            {
                int j1 = stream.method426();
                int j2 = stream.method427();
                npc.updateHitData(-35698, j2, j1, loopCycle);
                npc.loopCycleStatus = loopCycle + 300;
                npc.currentHealth = stream.method426();
                npc.maxHealth = stream.readUnsignedByte();
            }
            if((l &amp; 0x80) != 0) // Graphics
            {
                npc.anInt1520 = stream.readUnsignedWord();
                int k1 = stream.readDWord();
                npc.anInt1524 = k1 &gt;&gt; 16;
                npc.anInt1523 = loopCycle + (k1 &amp; 0xffff);
                npc.anInt1521 = 0;
                npc.anInt1522 = 0;
                if(((Entity) (npc)).anInt1523 &gt; loopCycle)
                    npc.anInt1521 = -1;
                if(((Entity) (npc)).anInt1520 == 65535)
                    npc.anInt1520 = -1;
            }
            if((l &amp; 0x20) != 0) // Facing Players/Npcs
            {
                npc.interactingEntity = stream.readUnsignedWord();
                //System.out.println("Facing " + npc.interactingEntity + ". PID: " + (npc.interactingEntity-32768));
                if(((Entity) (npc)).interactingEntity == 65535)
                    npc.interactingEntity = -1;
            }
            if((l &amp; 1) != 0) // Talking
            {
                npc.textSpoken = stream.readString();
                npc.textCycle = 100;
//	entityMessage(npc);
	
            }
            if((l &amp; 0x40) != 0) // Hit Update
            {
                int l1 = stream.method427();
                int k2 = stream.method428();
                npc.updateHitData(-35698, k2, l1, loopCycle);
                npc.loopCycleStatus = loopCycle + 300;
                npc.currentHealth = stream.method428();
                npc.maxHealth = stream.method427();
            }
            if((l &amp; 2) != 0) // Change Npc ID
            {
                npc.desc = EntityDef.forID(stream.method436());
                npc.anInt1540 = npc.desc.aByte68;
                npc.anInt1504 = npc.desc.anInt79;
                npc.anInt1554 = npc.desc.anInt67;
                npc.anInt1555 = npc.desc.anInt58;
                npc.anInt1556 = npc.desc.anInt83;
                npc.anInt1557 = npc.desc.anInt55;
                npc.anInt1511 = npc.desc.anInt77;
            }
            if((l &amp; 4) != 0)
            {
                int temp1 = stream.method434();
                int temp2 = stream.method434();
                npc.anInt1538 = temp1;
                npc.anInt1539 = temp2;
                
                //npc.anInt1538 = stream.method434();
                //npc.anInt1539 = stream.method434();
            }</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/3</link>
        <pubDate>Sat, 20 Sep 2008 22:00:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-232224-3</guid>
        <source url="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224.rss">Help in making npcs facing another way</source>
      </item>
      <item>
        <title>Help in making npcs facing another way</title>
        <dc:creator><![CDATA[@Jordiescape Jordiescape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jordiescape">@Jordiescape</a> wrote:</p>
          <blockquote>
              <p>I don’t actually know how to change the directions of NPCs. It’s not even possible, me thinks.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/2</link>
        <pubDate>Sat, 20 Sep 2008 21:51:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-232224-2</guid>
        <source url="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224.rss">Help in making npcs facing another way</source>
      </item>
      <item>
        <title>Help in making npcs facing another way</title>
        <dc:creator><![CDATA[@system system]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/system">@system</a> wrote:</p>
          <blockquote>
              <p>how do you make npcs face north east or west? They just face South? I am Using Devlution Server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224/1</link>
        <pubDate>Sat, 20 Sep 2008 21:42:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-232224-1</guid>
        <source url="https://forum.moparisthebest.com/t/help-in-making-npcs-facing-another-way/232224.rss">Help in making npcs facing another way</source>
      </item>
  </channel>
</rss>
