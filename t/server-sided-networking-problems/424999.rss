<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Server sided networking problems</title>
    <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999</link>
    <description>server.java
[code]import java.net.ServerSocket;
import java.util.ArrayList;

public class server {
	public static void main(String[] args){
		System.out.println(&quot;Starting&quot;);
		setupVariables();
		setupServerSocket();
		startHandlingRequests();
		startSendingThread();
		startRecievingThread();
	}

	public static void setupVariables(){
		port = 5535;
	}

	public static void startHandlingRequests(){
  handleRequests runnable2 = new handleRequests();
  Thread thread = new Thread(runnable2.r1());
  thread.start();
	}

	public static void startSendingThread(){
  send runnable2 = new send();
  Thread thread = new Thread(runnable2.r1());
  thread.start();
	}

	public static void startRecievingThread(){
  recieve runnable2 = new recieve();
  Thread thread = new Thread(runnable2.r1());
  thread.start();
	}

	public static void setupServerSocket(){
		try {
		    serverSocket = new ServerSocket(port);
		} catch (Exception e) {
		    out(&quot;Could not setup on port &quot;+port);
		    System.exit(-1);
		}
	}

	public static void out(String str){
		System.out.println(&quot;[Console] &quot;+str);
	}

	public static ServerSocket serverSocket;
	public static int port;
}
[/code]

handleRequests.java
[code]import java.net.ServerSocket;
import java.net.Socket;

public class handleRequests {
	   public static Runnable r1() {
		  new Thread(new Runnable() {
		  public void run() {
		    try {
	  		  clientSocket = new Socket[500];
		  	  while(true){
		  		  try {
		  			  clientSocket[start] = null;
		  		  clientSocket[start] = server.serverSocket.accept();
		  		  server.out(&quot;New client connected: &quot;+clientSocket[start].getInetAddress());
		  		  start += 1;
		  		  go = true;
		  		  System.out.println(&quot;Server connected, start variable now: &quot;+start);
		  		  } catch (Exception e) {
		  		  e.printStackTrace();
		  		  }
		  	  }

		    } catch (Exception e) {
		    e.printStackTrace();
		    }
		  }
		  }).start();
		   return null;
		    }

	   public static int start = 1;
	   public static Socket clientSocket[];
	   public static boolean go;
}
[/code]

send.java
[code]import java.io.PrintWriter;
import java.util.Scanner;

public class send {
	   public static Runnable r1() {
		  new Thread(new Runnable() {
		  public void run() {
		    try {
		  	  server.out(&quot;Send handler started&quot;);
		  	  while(true){
		  		  try{
		  		  System.out.println(&quot;Type something to send to the clients:&quot;);
		  		  String s = scan.nextLine();
	  			  for(int i = 1; i &lt; handleRequests.clientSocket.length; i++){
	  				  try{
		  				  PrintWriter out = new PrintWriter(handleRequests.clientSocket[i].getOutputStream(), true);
		  				  out.println(s);
		  				  System.out.println(&quot;You: &quot;+s);
	  				  }catch(Exception e){
	  		  e.printStackTrace();
	  				  }
	  			  }
		  		  }catch(Exception e){
		  			  e.printStackTrace();
		  		  }
		  	  }

		    } catch (Exception e) {
		    e.printStackTrace();
		    }
	  	  server.out(&quot;Send handler ended&quot;);
		  }
		  }).start();
		   return null;
		    }

	   public static Scanner scan = new Scanner(System.in);
}
[/code]

recieve.java (I know I spelled receive wrong :P)
[code]import java.io.BufferedReader;
import java.io.InputStreamReader;

public class recieve {
	   public static Runnable r1() {
		  new Thread(new Runnable() {
		  public void run() {
		    try {
		  	  server.out(&quot;Recieve handler started&quot;);
		  	  while(true){
		  		  try{
		  		  for(int i = 1; i &lt; handleRequests.clientSocket.length; i++){
		  			  try{
		  				  BufferedReader in = new BufferedReader(new InputStreamReader(handleRequests.
		  		  clientSocket[i]
		  		  .getInputStream()));
		  				  if(in.readLine() != null){
		  		  if(in.readLine().length() &gt; 0){
		  		  System.out.println(handleRequests.clientSocket[i].getInetAddress()+&quot;: &quot;+in.readLine());
		  		  }
		  				  }
		  			  }catch(Exception e){
		  				  e.printStackTrace();
		  			  }
		  		  }
		  		  }catch(Exception e){}
		  	  }

		    } catch (Exception e) {
		    e.printStackTrace();
		    }
	  	  server.out(&quot;Recieve handler ended&quot;);
		  }
		  }).start();
		   return null;
		    }

}
[/code]

|

|

|

Upon running I constantly get:
[code]java.lang.NullPointerException
	at recieve$1.run(recieve.java:17)
	at java.lang.Thread.run(Thread.java:662)[/code]

then after a bit (also being spammed:
[code]java.lang.NullPointerException[/code]

This continues until a client connects.
Then you try and send something from the server and it outputs:
[code]lol
You: lol[/code]
(I typed &#39;lol&#39;), then it spams a bunch of times:
[code]java.lang.NullPointerException
	at send$1.run(send.java:17)
	at java.lang.Thread.run(Thread.java:662)[/code]
then finally outputs:
[code]Type something to send to the clients:[/code]

Then there&#39;s trying to receive something from the client, when the client sends something it actually does surprisingly get received:
[code]/127.0.0.1: loololol[/code]
but then it spams a bunch of times:
[code]java.lang.NullPointerException
	at recieve$1.run(recieve.java:17)
	at java.lang.Thread.run(Thread.java:662)[/code]

*phew* done, any ideas?</description>
    
    <lastBuildDate>Thu, 15 Dec 2011 01:20:50 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>[quote=“sinisoul, post:14, topic:424999”][quote author=imsuperman05 link=topic=527661.msg3849246#msg3849246 date=1323893010]<br>
Waay to many threads being created.  A RSPS shouldn’t use so many threads.<br>
[/quote]</p>
<p>Correction, RSPS shouldn’t use so many threads <span class="bbcode-b">that have no use and are not synchronized correctly.</span> There is nothing with multithreading applications, and actually now more than ever it is encouraged with the modern multicore processor.[/quote]<br>
Ye meant that.  Read it in super_'s tut.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/15</link>
        <pubDate>Thu, 15 Dec 2011 01:20:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-15</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="12" data-topic="424999">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/imsuperman05/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> imsuperman05:</div>
<blockquote>
<p>Waay to many threads being created.  A RSPS shouldn’t use so many threads.</p>
</blockquote>
</aside>
<p>Correction, RSPS shouldn’t use so many threads <span class="bbcode-b">that have no use and are not synchronized correctly.</span> There is nothing with multithreading applications, and actually now more than ever it is encouraged with the modern multicore processor.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/14</link>
        <pubDate>Thu, 15 Dec 2011 01:11:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-14</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@dain_bramage dain bramage]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/dain_bramage">@dain_bramage</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="12" data-topic="424999">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/imsuperman05/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> imsuperman05:</div>
<blockquote>
<p>Waay to many threads being created.  A RSPS shouldn’t use so many threads.</p>
</blockquote>
</aside>
<p>It should when players start connecting.</p>
<p>This is just…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/13</link>
        <pubDate>Wed, 14 Dec 2011 20:57:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-13</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@imsuperman05 imsuperman05]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imsuperman05">@imsuperman05</a> wrote:</p>
          <blockquote>
              <p>Waay to many threads being created.  A RSPS shouldn’t use so many threads.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/12</link>
        <pubDate>Wed, 14 Dec 2011 20:03:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-12</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@Native1 Native^]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/native1">@Native1</a> wrote:</p>
          <blockquote>
              <p>[quote=“zyle1992, post:10, topic:424999”][quote author=_s link=topic=527661.msg3849183#msg3849183 date=1323885979]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>i’m pretty sure most normal people implement Runnable. :s</p>
</blockquote>
</aside>
<p>Yes, but not</p>
<pre><code class="lang-auto">public static Runnable r1() {
    new Thread(new Runnable() {

    });
}</code></pre>
<p>That’s just…<br>
[/quote]yep anonymous inner classes suck so bad!!!111111</p>
</blockquote>
</aside>
<p>Troll: 0/10</p>
<p>Anonymous inner classes have their place, and this is not it.[/quote]<br>
At least make it private.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/11</link>
        <pubDate>Wed, 14 Dec 2011 19:57:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-11</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <p>[quote="_s, post:9, topic:424999"][quote author=zyle1992 link=topic=527661.msg3849181#msg3849181 date=1323885363]</p>
<aside class="quote">
<blockquote>
<p>i’m pretty sure most normal people implement Runnable. :s</p>
</blockquote>
</aside>
<p>Yes, but not</p>
<pre><code class="lang-auto">public static Runnable r1() {
    new Thread(new Runnable() {

    });
}</code></pre>
<p>That’s just…<br>
[/quote]yep anonymous inner classes suck so bad!!!111111[/quote]</p>
<p>Troll: 0/10</p>
<p>Anonymous inner classes have their place, and this is not it.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/10</link>
        <pubDate>Wed, 14 Dec 2011 18:49:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-10</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@_s11 s1gma]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/_s11">@_s11</a> wrote:</p>
          <blockquote>
              <p>[quote=“zyle1992, post:8, topic:424999”][quote author=t4 link=topic=527661.msg3846748#msg3846748 date=1323667527]<br>
i’m pretty sure most normal people implement Runnable. :s<br>
[/quote]</p>
<p>Yes, but not</p>
<pre><code class="lang-auto">public static Runnable r1() {
    new Thread(new Runnable() {

    });
}</code></pre>
<p>That’s just…[/quote]yep anonymous inner classes suck so bad!!!111111</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/9</link>
        <pubDate>Wed, 14 Dec 2011 18:06:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-9</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@zyle1992 Zymus]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/zyle1992">@zyle1992</a> wrote:</p>
          <blockquote>
              <aside class="quote quote-modified" data-post="6" data-topic="424999">
<div class="title">
<div class="quote-controls"></div>
 t4:</div>
<blockquote>
<p>i’m pretty sure most normal people implement Runnable. :s</p>
</blockquote>
</aside>
<p>Yes, but not</p>
<pre><code class="lang-auto">public static Runnable r1() {
    new Thread(new Runnable() {

    });
}</code></pre>
<p>That’s just…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/8</link>
        <pubDate>Wed, 14 Dec 2011 17:56:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-8</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@ExtremeX-Scape Ryley]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/extremex-scape">@ExtremeX-Scape</a> wrote:</p>
          <blockquote>
              <p>OMGOMGOMGOMGOMG</p>
<p>MY EYES.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/7</link>
        <pubDate>Wed, 14 Dec 2011 16:37:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-7</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <p>i’m pretty sure most normal people implement Runnable. :s</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/6</link>
        <pubDate>Mon, 12 Dec 2011 05:25:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-6</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@sinisoul sini]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sinisoul">@sinisoul</a> wrote:</p>
          <blockquote>
              <p>[quote=“Pure Slay, post:4, topic:424999”]Ehhh… why are you doing your networking like that?</p>
<p>This is a junky version of what I believe you are attempting to do - <a href="http://google.com/forums/showthread.php?527-REPOST-Server-Client-Connection" rel="nofollow noopener">http://google.com/forums/showthread.php?527-REPOST-Server-Client-Connection</a></p>
<p>This is something you might want to consider:<br>
<a href="http://google.com/forums/showthread.php?777-Getting-Started-with-Netty-Networking" class="onebox" target="_blank" rel="nofollow noopener">http://google.com/forums/showthread.php?777-Getting-Started-with-Netty-Networking</a></p>
<p>lol wow they filter the name.</p>
<p>legion-rs remove the - and replace where it says google.[/quote]</p>
<p>I believe all the major RS private server forums do, as Ikiliki told me. Why do you subsidize all your processes into individual methods when there is no need to?</p>
<blockquote>ah, my eyes! why do you have so many threads? and what the hell is setupVariables()?</blockquote>
<p>/idgafifyouhatemequotingpeople</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/5</link>
        <pubDate>Mon, 12 Dec 2011 05:14:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-5</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@Pure_Slay Pure Slay]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pure_slay">@Pure_Slay</a> wrote:</p>
          <blockquote>
              <p>Ehhh… why are you doing your networking like that?</p>
<p>This is a junky version of what I believe you are attempting to do - <a href="http://google.com/forums/showthread.php?527-REPOST-Server-Client-Connection" rel="nofollow noopener">http://google.com/forums/showthread.php?527-REPOST-Server-Client-Connection</a></p>
<p>This is something you might want to consider:<br>
<a href="http://google.com/forums/showthread.php?777-Getting-Started-with-Netty-Networking" class="onebox" target="_blank" rel="nofollow noopener">http://google.com/forums/showthread.php?777-Getting-Started-with-Netty-Networking</a></p>
<p>lol wow they filter the name.</p>
<p>legion-rs remove the - and replace where it says google.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/4</link>
        <pubDate>Mon, 12 Dec 2011 05:11:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-4</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@walkineagle walkineagle]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/walkineagle">@walkineagle</a> wrote:</p>
          <blockquote>
              <p>Setup variables is current just setting the port, and I have threads to handle everything, I need this to be compatible with multiple clients.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/3</link>
        <pubDate>Mon, 12 Dec 2011 04:22:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-3</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@T41 t4]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/t41">@T41</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">public class recieve {
           public static Runnable r1() {
                  new Thread(new Runnable() {
                  public void run() {</code></pre>
<p>ah, my eyes! why do you have so many threads? and what the hell is setupVariables()?  :eek:</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/2</link>
        <pubDate>Mon, 12 Dec 2011 04:01:27 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-2</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
      <item>
        <title>Server sided networking problems</title>
        <dc:creator><![CDATA[@walkineagle walkineagle]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/walkineagle">@walkineagle</a> wrote:</p>
          <blockquote>
              <p>server.java</p>
<p>[code]import java.net.ServerSocket;<br>
import java.util.ArrayList;</p>
<p>public class server {<br>
public static void main(String[] args){<br>
System.out.println(“Starting”);<br>
setupVariables();<br>
setupServerSocket();<br>
startHandlingRequests();<br>
startSendingThread();<br>
startRecievingThread();<br>
}</p>
<pre><code>public static void setupVariables(){
	port = 5535;
}

public static void startHandlingRequests(){
</code></pre>
<p>handleRequests runnable2 = new handleRequests();<br>
Thread thread = new Thread(runnable2.r1());<br>
thread.start();<br>
}</p>
<pre><code>public static void startSendingThread(){
</code></pre>
<p>send runnable2 = new send();<br>
Thread thread = new Thread(runnable2.r1());<br>
thread.start();<br>
}</p>
<pre><code>public static void startRecievingThread(){
</code></pre>
<p>recieve runnable2 = new recieve();<br>
Thread thread = new Thread(runnable2.r1());<br>
thread.start();<br>
}</p>
<pre><code>public static void setupServerSocket(){
	try {
	    serverSocket = new ServerSocket(port);
	} catch (Exception e) {
	    out("Could not setup on port "+port);
	    System.exit(-1);
	}
}

public static void out(String str){
	System.out.println("[Console] "+str);
}

public static ServerSocket serverSocket;
public static int port;
</code></pre>
<p>}<br>
[/code]</p>
<p>handleRequests.java</p>
<p>[code]import java.net.ServerSocket;<br>
import java.net.Socket;</p>
<p>public class handleRequests {<br>
public static Runnable r1() {<br>
new Thread(new Runnable() {<br>
public void run() {<br>
try {<br>
clientSocket = new Socket[500];<br>
while(true){<br>
try {<br>
clientSocket[start] = null;<br>
clientSocket[start] = server.serverSocket.accept();<br>
server.out("New client connected: "+clientSocket[start].getInetAddress());<br>
start += 1;<br>
go = true;<br>
System.out.println("Server connected, start variable now: "+start);<br>
} catch (Exception e) {<br>
e.printStackTrace();<br>
}<br>
}</p>
<pre><code>	    } catch (Exception e) {
	    e.printStackTrace();
	    }
	  }
	  }).start();
	   return null;
	    }

   public static int start = 1;
   public static Socket clientSocket[];
   public static boolean go;
</code></pre>
<p>}<br>
[/code]</p>
<p>send.java</p>
<p>[code]import java.io.PrintWriter;<br>
import java.util.Scanner;</p>
<p>public class send {<br>
public static Runnable r1() {<br>
new Thread(new Runnable() {<br>
public void run() {<br>
try {<br>
server.out(“Send handler started”);<br>
while(true){<br>
try{<br>
System.out.println(“Type something to send to the clients:”);<br>
String s = scan.nextLine();<br>
for(int i = 1; i &lt; handleRequests.clientSocket.length; i++){<br>
try{<br>
PrintWriter out = new PrintWriter(handleRequests.clientSocket[i].getOutputStream(), true);<br>
out.println(s);<br>
System.out.println("You: "+s);<br>
}catch(Exception e){<br>
e.printStackTrace();<br>
}<br>
}<br>
}catch(Exception e){<br>
e.printStackTrace();<br>
}<br>
}</p>
<pre><code>	    } catch (Exception e) {
	    e.printStackTrace();
	    }
  	  server.out("Send handler ended");
	  }
	  }).start();
	   return null;
	    }

   public static Scanner scan = new Scanner(System.in);
</code></pre>
<p>}<br>
[/code]</p>
<p>recieve.java (I know I spelled receive wrong :P)</p>
<p>[code]import java.io.BufferedReader;<br>
import java.io.InputStreamReader;</p>
<p>public class recieve {<br>
public static Runnable r1() {<br>
new Thread(new Runnable() {<br>
public void run() {<br>
try {<br>
server.out(“Recieve handler started”);<br>
while(true){<br>
try{<br>
for(int i = 1; i &lt; handleRequests.clientSocket.length; i++){<br>
try{<br>
BufferedReader in = new BufferedReader(new InputStreamReader(handleRequests.<br>
clientSocket[i]<br>
.getInputStream()));<br>
if(in.readLine() != null){<br>
if(in.readLine().length() &gt; 0){<br>
System.out.println(handleRequests.clientSocket[i].getInetAddress()+": "+in.readLine());<br>
}<br>
}<br>
}catch(Exception e){<br>
e.printStackTrace();<br>
}<br>
}<br>
}catch(Exception e){}<br>
}</p>
<pre><code>	    } catch (Exception e) {
	    e.printStackTrace();
	    }
  	  server.out("Recieve handler ended");
	  }
	  }).start();
	   return null;
	    }
</code></pre>
<p>}<br>
[/code]</p>
<p>|</p>
<p>|</p>
<p>|</p>
<p>Upon running I constantly get:</p>
<p><code>java.lang.NullPointerException
	at recieve$1.run(recieve.java:17)
	at java.lang.Thread.run(Thread.java:662)</code></p>
<p>then after a bit (also being spammed:</p>
<pre><code class="lang-auto"></code></pre>
<p>This continues until a client connects.<br>
Then you try and send something from the server and it outputs:</p>
<p><code>lol
You: lol</code><br>
(I typed ‘lol’), then it spams a bunch of times:</p>
<p><code>java.lang.NullPointerException
	at send$1.run(send.java:17)
	at java.lang.Thread.run(Thread.java:662)</code><br>
then finally outputs:</p>
<pre><code class="lang-auto"></code></pre>
<p>Then there’s trying to receive something from the client, when the client sends something it actually does surprisingly get received:</p>
<pre><code class="lang-auto"></code></pre>
<p>but then it spams a bunch of times:</p>
<p><code>java.lang.NullPointerException
	at recieve$1.run(recieve.java:17)
	at java.lang.Thread.run(Thread.java:662)</code></p>
<p><em>phew</em> done, any ideas?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/server-sided-networking-problems/424999/1</link>
        <pubDate>Mon, 12 Dec 2011 03:30:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-424999-1</guid>
        <source url="https://forum.moparisthebest.com/t/server-sided-networking-problems/424999.rss">Server sided networking problems</source>
      </item>
  </channel>
</rss>
