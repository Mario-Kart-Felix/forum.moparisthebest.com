<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/best-method-to-save-characters/541019 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 05:12:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Best method to save characters - Runescape - moparisthebest.com</title>
    <meta name="description" content="What would be the best method on saving character details? Like quest progression/donator details? I am currently using a .txt document, but I believe this can become heavier once the .txt file gets too big (could be fal&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="541019.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Best method to save characters&#39;" href="541019.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/best-method-to-save-characters/541019" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/best-method-to-save-characters/541019" />
<meta property="og:title" content="Best method to save characters" />
<meta name="twitter:title" content="Best method to save characters" />
<meta property="og:description" content="What would be the best method on saving character details? Like quest progression/donator details?  I am currently using a .txt document, but I believe this can become heavier once the .txt file gets too big (could be false, though).  I am using a PI source.  Thank you in advanced!" />
<meta name="twitter:description" content="What would be the best method on saving character details? Like quest progression/donator details?  I am currently using a .txt document, but I believe this can become heavier once the .txt file gets too big (could be false, though).  I am using a PI source.  Thank you in advanced!" />
<meta property="article:published_time" content="2014-03-08T22:40:16+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="541019.html">Best method to save characters</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Thoby.html'><span itemprop='name'>Thoby</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-08T22:40:16Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:52:52Z' class='post-time'>
              August 4, 2016, 11:52am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What would be the best method on saving character details? Like quest progression/donator details?<br>
I am currently using a .txt document, but I believe this can become heavier once the .txt file gets too big (could be false, though).</p>
<p>I am using a PI source.</p>
<p>Thank you in advanced!</p>
      </div>

      <meta itemprop='headline' content='Best method to save characters'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pure2ownage.html'><span itemprop='name'>pure2ownage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-08T22:43:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:52:53Z' class='post-time'>
              August 4, 2016, 11:52am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You are correct, text files/formats like XML are quite data heavy but this shouldn’t be an issue. You can always save to a binary file (write bytes, pack them etc).</p>
      </div>

      <meta itemprop='headline' content='Best method to save characters'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Thoby.html'><span itemprop='name'>Thoby</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-08T22:58:10Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:52:53Z' class='post-time'>
              August 4, 2016, 11:52am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="541019">
<div class="title">
<div class="quote-controls"></div>
 Pure_:</div>
<blockquote>
<p>You are correct, text files/formats like XML are quite data heavy but this shouldn’t be an issue. You can always save to a binary file (write bytes, pack them etc).</p>
</blockquote>
</aside>
<p>Wouldn’t it influence the performance of the server?</p>
      </div>

      <meta itemprop='headline' content='Best method to save characters'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pure2ownage.html'><span itemprop='name'>pure2ownage</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-08T23:48:01Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:52:53Z' class='post-time'>
              August 4, 2016, 11:52am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Thoby, post:3, topic:541019”][quote author=Pure_ link=topic=659888.msg4412443#msg4412443 date=1394318601]<br>
You are correct, text files/formats like XML are quite data heavy but this shouldn’t be an issue. You can always save to a binary file (write bytes, pack them etc).<br>
[/quote]</p>
<p>Wouldn’t it influence the performance of the server?[/quote]It wouldn’t be significant (packing the bytes) and writing it would be less significant (than writing to a plain text file, since you will be writing less data).</p>
      </div>

      <meta itemprop='headline' content='Best method to save characters'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Thoby.html'><span itemprop='name'>Thoby</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-09T00:43:52Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:52:53Z' class='post-time'>
              August 4, 2016, 11:52am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="541019">
<div class="title">
<div class="quote-controls"></div>
 Pure_:</div>
<blockquote>
<p>It wouldn’t be significant (packing the bytes) and writing it would be less significant (than writing to a plain text file, since you will be writing less data).</p>
</blockquote>
</aside>
<p>Alright, thank you very much!</p>
      </div>

      <meta itemprop='headline' content='Best method to save characters'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-09T01:37:53Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:52:54Z' class='post-time'>
              August 4, 2016, 11:52am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>MySQL is the way of the future /sarcasm.<br>
No but really, you ‘could’ convert your saving to MySQL, and that way you can integrate website-based features.<br>
I do not believe it would decrease anything, or really change much if you do this.</p>
      </div>

      <meta itemprop='headline' content='Best method to save characters'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/matzie.html'><span itemprop='name'>matzie</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-09T02:16:11Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:52:54Z' class='post-time'>
              August 4, 2016, 11:52am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Thoby, post:1, topic:541019”]What would be the best method on saving character details? Like quest progression/donator details?<br>
I am currently using a .txt document, but I believe this can become heavier once the .txt file gets too big (could be false, though).</p>
<p>I am using a PI source.</p>
<p>Thank you in advanced![/quote]</p>
<p>It would be more space efficient to pack the data to binary form. but note if you update your server such that it requires a new variable in it (like a type of artificial currency) it would change your read() and save() methods. and then it would not read or write correctly. so you would have to have a version to the file, or a flag value for each element in the list. (like how the cache has 13 means object is members, and such) which would allow you to leave elements with a default value out. but also would make you have to write an additional byte (or word/short if theres more than 255 elements)<br>
in the version method of this you would have to have more than one read() method based on the version, and would not be able to remove them until everyones save file has been updated.<br>
or you have to write a different program that would convert the oldSave type to newSave type, and then you could keep it short in your server.<br>
But binary saving would run you into a lot of complications, and that is why i decided against serilized saves for character files. (binary saving of them).</p>
<p>Best way is to use flag variables for a character file as such</p>
<p>Example:</p>
<pre><code class="lang-auto">/**
 *
 * @author Brock
 */
public class SaveController {

    public static void save(Client c) {
        Stream s = new Stream(new byte[13000/*Length you need, be enough but conservative for memory*/]);
        s.currentOffset = 2;//keep two bytes at the beginging for length when reading it
        s.writeByte(USERNAME);
        s.writeString(c.userName);
        s.writeByte(PASSWORD);
        s.writeString(c.password);
if (c.freeSlots() != 28)) {
        s.writeByte(INVENTORY);
        s.writeByte(c.playerItems.length);
        for (int i = 0; i &lt; c.playerItems.length; i++) {
            s.writeDWord(c.playerItems[i]);//short could surfice. if less than 2^16 items
            s.writeDWord(c.playerItemsN[i]);
        }
}
//can also do a skip check for bank if it is empty, and frineds list/ignore list and so on.
        s.writeByte(BANK);
        s.writeWord(c.PlayerBank.length);
        for (int i =0; i &lt; c.playerBank.length;i++) {
            s.writeDWord(c.playerBank[i]);
            s.writeDWord(c.playerBankN[i]);
        }
        /*Continue save file*/
        s.writeByte(END_READ);//signals the end of the file
        s.writeFrameSizeWord(s.currentOffset);//writes the length bytes to the beginning of the stream
        
    }
    public static void load(Stream from, Client to) {
        //the first two bytes could already be read before passed here.
        //the initializer for from should read the first 2 bytes for file length.
        //then create a stream of length bytes.
        //then load the file to that stream buffer.
        //from then you can use this method to read it
        from.currentOffset = 2;//where the data starts
        int typeVar;
        do {
        switch (typeVar = from.readUnsignedByte()) {
            case USERNAME:
                to.userName = from.readString();//if needed even.
                break;
            case PASSWORD:
                // verify password
                break;
            case INVENTORY:
                int length = from.readUnsignedByte();
                for (int i = 0; i &lt; length;i++) {
                    to.playerItems[i] = from.readDWord();
                    to.playerItemsN[i] = from.readDWord();
                }
                break;
            case BANK:
                length = from.readUnsignedByte();
                for (int i = 0; i &lt; length;i++) {
                    to.playerBank[i] = from.readDWord();
                    to.playerBankN[i] = from.readDWord();
                }
                break;
            case END_READ:
                break;//or return;
                /*Add other reading types here as well*/
                
            default:
                System.err.println("Unhandled type in char reading!"+ typeVar);
        }
        
        
        } while (typeVar != END_READ);//if case END_READ has return, just make this while(true) if you like
    }
    //use this to make it simpler to read, not required though, also helps prevent from using duplicates
    private static final byte END_READ = -1;//255 in the read form
    private static final byte USERNAME = 1;
    private static final byte PASSWORD = 2;
    private static final byte INVENTORY = 3;
    private static final byte BANK = 4;
    /*... continued*/
}</code></pre>
      </div>

      <meta itemprop='headline' content='Best method to save characters'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-03-09T23:29:40Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:53:09Z' class='post-time'>
              August 4, 2016, 11:53am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>binary, JSON (my personal favorite), or SQL</p>
      </div>

      <meta itemprop='headline' content='Best method to save characters'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/best-method-to-save-characters/541019 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 05:12:10 GMT -->
</html>
