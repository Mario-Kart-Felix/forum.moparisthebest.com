<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/automated-xland-xtea-file-dumper/415126 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 20:02:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[Automated] XLand XTEA File Dumper - Runescape - moparisthebest.com</title>
    <meta name="description" content="Just going to quote my thread i made on r-s at the beginning of august. be aware this is kind of an outdated version to the one i use as i never got around to making a stable release of my current version, this still wor&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="415126.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[Automated] XLand XTEA File Dumper&#39;" href="415126.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/automated-xland-xtea-file-dumper/415126" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/automated-xland-xtea-file-dumper/415126" />
<meta property="og:title" content="[Automated] XLand XTEA File Dumper" />
<meta name="twitter:title" content="[Automated] XLand XTEA File Dumper" />
<meta property="og:description" content="Just going to quote my thread i made on r-s at the beginning of august. be aware this is kind of an outdated version to the one i use as i never got around to making a stable release of my current version, this still works fine though.  Hello. The past few days I&#39;ve slowly been working on a client injector that dumps xtea keys for my 660. Today I finished it and added some finishing touches. The reason I am releasing this is because method&#39;s tool no longer works, due to string encryption has bee..." />
<meta name="twitter:description" content="Just going to quote my thread i made on r-s at the beginning of august. be aware this is kind of an outdated version to the one i use as i never got around to making a stable release of my current version, this still works fine though.  Hello. The past few days I&#39;ve slowly been working on a client injector that dumps xtea keys for my 660. Today I finished it and added some finishing touches. The reason I am releasing this is because method&#39;s tool no longer works, due to string encryption has bee..." />
<meta property="article:published_time" content="2011-09-19T01:35:35+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="415126.html">[Automated] XLand XTEA File Dumper</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Discardedx21.html'><span itemprop='name'>_Discardedx21</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-19T01:35:35Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:00:41Z' class='post-time'>
              August 1, 2016,  3:00pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just going to quote my thread i made on r-s at the beginning of august. be aware this is kind of an outdated version to the one i use as i never got around to making a stable release of my current version, this still works fine though.</p>
<blockquote>Hello. The past few days I've slowly been working on a client injector that dumps xtea keys for my 660. Today I finished it and added some finishing touches. The reason I am releasing this is because method's tool no longer works, due to string encryption has been added to the runescape client. I however, found a clever way to dump the encrypted files without decrypting the strings. This has only been tested on one revision, so if it breaks(which i don't think it will, at least for a while anyways), I will fix it and post the updated version.
<p>The name XLand comes from “XTEA Encrypted LandScape File”. This dumper has more feature’s than method’s did. The features include:</p>
<p>Doesn’t decrypt zkm string encryption (it’s less detectable this way).<br>
Injects method calls too both the “primary” and “secondary” “map region packets”.<br>
Uses ASM as a library, rather than BCEL, which is quite out-dated.<br>
Automatically packs the files into what i’ve called “XLand format”, which is just a type of .dat format.</p>
<p>The way it works:<br>
Injects XLandDumper.class and Sector.class into the runescape jar.<br>
Injects XLandDumper.loadXLandFiles() into client.init().<br>
Injects XLandDumper.dump(…) into both viewport sector updating packets.</p>
<p>To load the maps you dump into your server, use this code:</p>
<p><code>		try {
			raf = new RandomAccessFile("./xland.dat", "rw");
			final ByteBuffer in = raf.getChannel().map(MapMode.READ_ONLY, 0, raf.getChannel().size());
			while(in.remaining() &gt; 0) {
				int sector = in.getShort() &amp; 0xFFFF;
				int[] keys = new int[4];
				for (int key = 0; key &lt; 4; key++) {
					keys[key]= in.getInt();
				}
				sectors.put(sector, new Sector(sector, keys));
			}
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}</code><br>
Which can be found in the XLandDumper class.</p>
<p>This client was released at runescape version 660, however it should work for lower client versions with some edits.</p>
<p>Download link:<br>
<a href="http://www.mediafire.com/?hc1k0tkh03j9lkx" data-bbcode="true" rel="nofollow noopener">Dumper injector.zip</a></p>
<p>P.S some of the code is extremely messy, but it’s decent enough.</p>
<p>How to use:<br>
Place runescape.jar into the main directory.<br>
Run the program.</p>
<p>Enjoy <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</blockquote>
<p>edit:</p>
<p>to run with java7 use this vm argument</p>
<pre><code class="lang-auto"></code></pre>
<p>or u might be able to do it by updating the asm lib to the latest version(untested by me)</p>
      </div>

      <meta itemprop='headline' content='[Automated] XLand XTEA File Dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-19T01:56:06Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:00:42Z' class='post-time'>
              August 1, 2016,  3:00pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So this dumps the landscape file instead of just spitting out the XTEA keys?  That would probably be better, but this code can be adapted to inject <a href="https://www.moparisthebest.com/smf/index.php/topic,517057.msg3755376.html#new" data-bbcode="true">this code</a> which can then report them to a central location.  That would be a great way to do it, so the keys can be shared amongst everyone.</p>
      </div>

      <meta itemprop='headline' content='[Automated] XLand XTEA File Dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Discardedx21.html'><span itemprop='name'>_Discardedx21</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-19T02:16:59Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:00:44Z' class='post-time'>
              August 1, 2016,  3:00pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="415126">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/moparisthebest/40/30_1.png" class="avatar"> Moparisthebest:</div>
<blockquote>
<p>So this dumps the landscape file instead of just spitting out the XTEA keys?  That would probably be better, but this code can be adapted to inject <a href="https://www.moparisthebest.com/smf/index.php/topic,517057.msg3755376.html#new" data-bbcode="true" rel="nofollow noopener">this code</a> which can then report them to a central location.  That would be a great way to do it, so the keys can be shared amongst everyone.</p>
</blockquote>
</aside>
<p>the version i have injects code that uploads the xtea to rs-hacking, however i haven’t released that version as i believe highly in open source material. it would be very easy to write false-positive xtea keys to the database.</p>
<p>No this does basically the same thing as his, except it works for each version. with his you must wait for him to update etc. this is also less detectable as the bytecode doesn’t get modified (except for the injection of calls to the two classes which also get injected into the jar).</p>
      </div>

      <meta itemprop='headline' content='[Automated] XLand XTEA File Dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-19T03:27:01Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:00:50Z' class='post-time'>
              August 1, 2016,  3:00pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>But the xtea keys are easily verified on the server-side right?  So it should be released to everyone, just verified they are correct at the server before they are recorded?</p>
      </div>

      <meta itemprop='headline' content='[Automated] XLand XTEA File Dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Discardedx21.html'><span itemprop='name'>_Discardedx21</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-19T11:27:47Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:01:02Z' class='post-time'>
              August 1, 2016,  3:01pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="4" data-topic="415126">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/moparisthebest/40/30_2.png" class="avatar"> Moparisthebest:</div>
<blockquote>
<p>But the xtea keys are easily verified on the server-side right?  So it should be released to everyone, just verified they are correct at the server before they are recorded?</p>
</blockquote>
</aside>
<p>if your talking about checking if the xtea keys are valid with the cache, then yes it’s possible. you just have to run the key up against with the file in index5 that corresponds to it. If it has no landscape (“lx_y”) file, then it isn’t encrypted and is valid. if it has one, and you are able to decode the file data, then it is valid.</p>
<p>heres a picture of a tool i made sometime last month. filled red boxes represent missing xtea (these are 661 xtea ran on a 660 cache with 660 map images)<br>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/E8C6j.png" title="E8C6j.png" rel="nofollow noopener"><img src="http://i.imgur.com/E8C6j.png" alt width="517" height="500"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">E8C6j.png</span><span class="informations">802×775</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Dungeons, caves etc are off to the top (meaning you have to scroll up to see them).</p>
<p>Ignore the blur, i resized the images before rendering them<br>
Also ignore the white spots, i was testing something at that time. (it’s an old picture)</p>
<p>edit:<br>
misread your post, but yeah i guess, if someone made some kind of way to verify them before storing them server side then yes that would be better. (don’t ask me <img src="../../images/emoji/twitter/stuck_out_tonguec164.png?v=9" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> idk anything about web stuff)</p>
      </div>

      <meta itemprop='headline' content='[Automated] XLand XTEA File Dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/moparisthebest.html'><span itemprop='name'>moparisthebest</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-20T14:51:10Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:02:06Z' class='post-time'>
              August 1, 2016,  3:02pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If you want to write me some code (Java is fine) to verify whether the XTEA keys are correct or not, then I can put together a public web-based system like that.</p>
      </div>

      <meta itemprop='headline' content='[Automated] XLand XTEA File Dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_Discardedx21.html'><span itemprop='name'>_Discardedx21</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-09-20T21:43:39Z'>
            <time itemprop='dateModified' datetime='2016-08-01T15:02:31Z' class='post-time'>
              August 1, 2016,  3:02pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="415126">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.moparisthebest.com/moparisthebest/40/30_1.png" class="avatar"> Moparisthebest:</div>
<blockquote>
<p>If you want to write me some code (Java is fine) to verify whether the XTEA keys are correct or not, then I can put together a public web-based system like that.</p>
</blockquote>
</aside>
<p>sure thing <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> that would be kinda need, to contribute to such a big community <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>edit:</p>
<p>to run with java7 use this vm argument</p>
<pre><code class="lang-auto"></code></pre>
<p>or u might be able to do it by updating the asm lib to the latest version(untested by me)</p>
      </div>

      <meta itemprop='headline' content='[Automated] XLand XTEA File Dumper'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/automated-xland-xtea-file-dumper/415126 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 20:02:46 GMT -->
</html>
