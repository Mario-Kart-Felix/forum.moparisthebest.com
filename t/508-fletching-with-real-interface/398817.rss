<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[508] Fletching, with REAL interface</title>
    <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817</link>
    <description>Well, someone asked to see how I handled fletching, so here I am. This probably won&#39;t work with many sources, it&#39;s designed for DavidScape 508 v10 which is still under construction. However I&#39;m sure most people could figure it out.
[img]http://i.imgur.com/ADXmg.png[/img]
[img]http://i.imgur.com/kbZmt.png[/img]
[img]http://i.imgur.com/l9wXk.png[/img]
Here is the fletching class:
[CODE=Java]package davidscape.players.skills;

import davidscape.Server;
import davidscape.event.Task;
import davidscape.players.Player;

public class Fletching {

	private Player p;
	private FletchType type;
	private FletchingTask task = new FletchingTask(-1);
	private Choice choice;

	public enum Tool {

		KNIFE(946, false, 1248, &quot;You carve the logs.&quot;),
		BOW_STRING(1777, true, 1248, &quot;You string the bow.&quot;), // TODO find fletching id
		CROSSBOW_STRING(9438, true, 1248, &quot;You string the crossbow.&quot;),
		BRONZE_LIMBS(9420, true, 4436, &quot;You attach the limbs to the crossbow stock.&quot;),
		BLURITE_LIMBS(9422, true, 4437, &quot;You attach the limbs to the crossbow stock.&quot;),
		IRON_LIMBS(9423, true, 4438, &quot;You attach the limbs to the crossbow stock.&quot;),
		STEEL_LIMBS(9425, true, 4439, &quot;You attach the limbs to the crossbow stock.&quot;),
		MITHRIL_LIMBS(9427, true, 4440, &quot;You attach the limbs to the crossbow stock.&quot;),
		ADAMANTITE_LIMBS(9429, true, 4441, &quot;You attach the limbs to the crossbow stock.&quot;),
		RUNITE_LIMBS(9431, true, 4442, &quot;You attach the limbs to the crossbow stock.&quot;); 

		private Tool(int itemID, boolean shouldDelete, int animationID, String message) {
			this.itemID = itemID;
			this.shouldDelete = shouldDelete;
			this.animationID = animationID;
			this.message = message;
		}

		private int itemID;
		private boolean shouldDelete;
		private int animationID;
		private String message;

		public int getItemID() {
			return itemID;
		}

		public boolean shouldDelete() {
			return shouldDelete;
		}

		public int getAnimationID() {
			return animationID;
		}

		public String getMessage() {
			return message;
		}
	}

	public enum Choice {
		LOG(FletchType.SHORTBOW_U, FletchType.LONGBOW_U, FletchType.CROSSBOW_STOCK),
		OAK_LOG(FletchType.OAK_SHORTBOW_U, FletchType.OAK_LONGBOW_U, FletchType.OAK_STOCK),
		WILLOW_LOG(FletchType.WILLOW_SHORTBOW_U, FletchType.WILLOW_LONGBOW_U, FletchType.WILLOW_STOCK),
		TEAK_LOG(FletchType.TEAK_STOCK),
		MAHOGANY_LOG(FletchType.MAHOGANY_STOCK),
		MAPLE_LOG(FletchType.MAPLE_SHORTBOW_U, FletchType.MAPLE_LONGBOW_U, FletchType.MAPLE_STOCK),
		YEW_LOG(FletchType.YEW_SHORTBOW_U, FletchType.YEW_LONGBOW_U, FletchType.YEW_STOCK),
		MAGIC_LOG(FletchType.MAGIC_SHORTBOW_U, FletchType.MAGIC_LONGBOW_U),
		SHORTBOW_U(FletchType.SHORTBOW),
		LONGBOW_U(FletchType.LONGBOW),
		CROSSBOW_STOCK(FletchType.BRONZE_CBOW_U),
		BRONZE_CBOW_U(FletchType.BRONZE_CBOW),
		OAK_SHORTBOW_U(FletchType.OAK_SHORTBOW),
		OAK_LONGBOW_U(FletchType.OAK_LONGBOW),
		OAK_STOCK(FletchType.BLURITE_CBOW_U),
		BLURITE_CBOW_U(FletchType.BLURITE_CBOW),
		WILLOW_SHORTBOW_U(FletchType.WILLOW_SHORTBOW),
		WILLOW_LONGBOW_U(FletchType.WILLOW_LONGBOW),
		WILLOW_STOCK(FletchType.IRON_CBOW_U),
		IRON_CBOW_U(FletchType.IRON_CBOW),
		TEAK_CROSSBOW_U(FletchType.STEEL_CBOW),
		MAPLE_SHORTBOW_U(FletchType.MAPLE_SHORTBOW),
		MAPLE_LONGBOW_U(FletchType.MAPLE_LONGBOW),
		MAPLE_STOCK(FletchType.MITH_CBOW_U),
		MITH_CBOW_U(FletchType.MITH_CBOW),
		MAHOGANY_STOCK(FletchType.ADAMANT_CBOW_U),
		ADAMANT_CROSSBOW_U(FletchType.ADAMANT_CBOW),
		YEW_SHORTBOW_U(FletchType.YEW_SHORTBOW),
		YEW_LONGBOW_U(FletchType.YEW_LONGBOW),
		YEW_STOCK(FletchType.RUNITE_CBOW_U),
		RUNITE_CBOW_U(FletchType.RUNE_CBOW),
		MAGIC_SHORTBOW_U(FletchType.MAGIC_SHORTBOW),
		MAGIC_LONGBOW_U(FletchType.MAGIC_LONGBOW);

		private Choice(FletchType... types) {
			this.types = types;
		}

		private FletchType[] types;
		
		public FletchType[] getTypes() {
			return types;
		}
	}

	public enum FletchType {
		ARROW_SHAFT(5, 5, 50, 15, 1511, Tool.KNIFE),
		SHORTBOW_U(5, 5, 50, 1, 1511, Tool.KNIFE),
		SHORTBOW(5, 5, 841, 1, 50, Tool.BOW_STRING),
		LONGBOW_U(10, 10, 48, 1, 1511, Tool.KNIFE),
		LONGBOW(10, 10, 839, 1, 48, Tool.BOW_STRING),
		CROSSBOW_STOCK(9, 6, 9440, 1, 1511, Tool.KNIFE),
		BRONZE_CBOW_U(9, 12, 9454, 1, 9440, Tool.BRONZE_LIMBS),
		BRONZE_CBOW(9, 6, 9174, 1, 9454, Tool.CROSSBOW_STRING),
		OAK_SHORTBOW_U(20, 17, 54, 1, 1521, Tool.KNIFE),
		OAK_SHORTBOW(20, 17, 843, 1, 54, Tool.BOW_STRING),
		OAK_LONGBOW_U(25, 25, 56, 1, 1521, Tool.KNIFE),
		OAK_LONGBOW(25, 25, 845, 1, 56, Tool.BOW_STRING),
		OAK_STOCK(24, 16, 9442, 1, 1521, Tool.KNIFE),
		BLURITE_CBOW_U(24, 32, 9456, 1, 9442, Tool.BLURITE_LIMBS),
		BLURITE_CBOW(24, 16, 9176, 1, 9456, Tool.CROSSBOW_STRING),
		WILLOW_SHORTBOW_U(35, 33, 60, 1, 1519, Tool.KNIFE),
		WILLOW_SHORTBOW(35, 33, 849, 1, 60, Tool.BOW_STRING),
		WILLOW_LONGBOW_U(40, 42, 58, 1, 1519, Tool.KNIFE),
		WILLOW_LONGBOW(40, 42, 847, 1, 58, Tool.BOW_STRING),
		WILLOW_STOCK(39, 22, 9444, 1, 1519, Tool.KNIFE),
		IRON_CBOW_U(39, 44, 9457, 1, 9444, Tool.IRON_LIMBS),
		IRON_CBOW(39, 44, 9177, 1, 9457, Tool.CROSSBOW_STRING),
		TEAK_STOCK(46, 27, 9446, 1, 6333, Tool.KNIFE),
		STEEL_CBOW_U(46, 54, 9459, 1, 9446, Tool.STEEL_LIMBS),
		STEEL_CBOW(46, 27, 9179, 1, 9454, Tool.CROSSBOW_STRING),
		MAPLE_SHORTBOW_U(50, 50, 64, 1, 1517, Tool.KNIFE),
		MAPLE_SHORTBOW(50, 50, 853, 1, 64, Tool.BOW_STRING),
		MAPLE_LONGBOW_U(55, 58, 62, 1, 1517, Tool.KNIFE),
		MAPLE_LONGBOW(55, 58, 851, 1, 62, Tool.BOW_STRING),
		MAPLE_STOCK(54, 6, 9448, 1, 1517, Tool.KNIFE),
		MITH_CBOW_U(54, 12, 9461, 1, 9448, Tool.MITHRIL_LIMBS),
		MITH_CBOW(54, 6, 9181, 1, 9461, Tool.CROSSBOW_STRING),
		MAHOGANY_STOCK(61, 41, 9450, 1, 6332, Tool.KNIFE),
		ADAMANT_CBOW_U(61, 82, 9463, 1, 9450, Tool.ADAMANTITE_LIMBS),
		ADAMANT_CBOW(61, 41, 9183, 1, 9463, Tool.CROSSBOW_STRING),
		YEW_SHORTBOW_U(65, 68, 68, 1, 1515, Tool.KNIFE),
		YEW_SHORTBOW(65, 68, 857, 1, 68, Tool.BOW_STRING),
		YEW_LONGBOW_U(70, 75, 66, 1, 1515, Tool.KNIFE),
		YEW_LONGBOW(70, 75, 855, 1, 66, Tool.BOW_STRING),
		YEW_STOCK(69, 50, 9452, 1, 1515, Tool.KNIFE),
		RUNITE_CBOW_U(69, 100, 9465, 1, 9452, Tool.RUNITE_LIMBS),
		RUNE_CBOW(69, 50, 9185, 1, 9465, Tool.CROSSBOW_STRING),
		MAGIC_SHORTBOW_U(80, 83, 72, 1, 1513, Tool.KNIFE),
		MAGIC_SHORTBOW(80, 83, 861, 1, 72, Tool.BOW_STRING),
		MAGIC_LONGBOW_U(85, 92, 70, 1, 1513, Tool.KNIFE),
		MAGIC_LONGBOW(85, 92, 859, 1, 70, Tool.BOW_STRING);

		private FletchType(int lvl, int xp, int giveID, int giveAmount, int requiredItem, Tool tool) {
			this.lvl = lvl;
			this.xp = xp;
			this.giveID = giveID;
			this.giveAmount = giveAmount;
			this.requiredItem = requiredItem;
			this.tool = tool;
		}

		private int xp;
		private int lvl;
		private int giveID;
		private int giveAmount;
		private int requiredItem;
		private Tool tool;

		public int getXp() {
			return xp;
		}

		public int getLvl() {
			return lvl;
		}

		public int getGiveID() {
			return giveID;
		}

		public int getGiveAmount() {
			return giveAmount;
		}

		public int getRequiredItem() {
			return requiredItem;
		}

		public Tool getTool() {
			return tool;
		}
	}

	public Fletching(Player p) {
		this.p = p;
	}

	public void showChoiceInterface(Choice choice) {
		if(choice.getTypes().length == 1) {
			this.choice = choice;
			p.getFrames().showChatboxInterface(309);
			p.getFrames().itemOnInterface(309, 2, 200, choice.getTypes()[0].getGiveID());
			p.getFrames().setString(&quot;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&quot; + Server.getEngine().getItems().getDefinitions(choice.getTypes()[0].getGiveID()).getName(), 309, 6);
		} else if(choice.getTypes().length &lt; 5 &amp;&amp; choice.getTypes().length &gt; 1) {
			this.choice = choice;
			p.getFrames().showChatboxInterface(301 + choice.getTypes().length);
			for(int i = 0; i &lt; choice.getTypes().length ; i++) {
				p.getFrames().itemOnInterface(301 + choice.getTypes().length, i + 2, 200, choice.getTypes()[i].getGiveID());
				int stringIndex = 7 + (4 * i) + choice.getTypes().length - 2;
				p.getFrames().setString(&quot;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&quot; + Server.getEngine().getItems().getDefinitions(choice.getTypes()[i].getGiveID()).getName(), 301 + choice.getTypes().length, stringIndex);
			}
		}
		p.getFrames().restoreInventory();
	}

	public void startFletching(FletchType fletchType, int amount) {
		stop();
		this.type = fletchType;
		p.getFrames().removeChatboxInterface();
		p.getFrames().restoreInventory();
		if(canFletch()) {
			task = new FletchingTask(amount);
			Server.getEngine().getTaskManager().schedule(task, 0, 1000);
		}
	}

	public void stop() {
		task.stop();
	}

	public Choice getChoice() {
		return choice;
	}

	private boolean canFletch() {
		if(!(p.getSkills().getLevel(Skills.FLETCHING) &gt;= type.getLvl())) {
			p.getFrames().sendMessage(&quot;You need a fletching level of &quot; + type.getLvl() + &quot; to make this.&quot;);
			return false;
		}
		if(!p.getItems().hasItem(type.getRequiredItem()) || !p.getItems().hasItem(type.getTool().getItemID())) {
			p.getFrames().sendMessage(&quot;You do not have enough items to make any more.&quot;);
			return false;
		}
		return true;
	}

	private class FletchingTask extends Task {

		private int amount;

		public FletchingTask(int amount) {
			this.amount = amount;
		}

		@Override
		public void run() {
			if(amount-- &gt; 0 &amp;&amp; canFletch()) {
				p.getFrames().sendMessage(type.getTool().getMessage());
				if(type.getTool().shouldDelete()) {
					p.getItems().deleteItem(type.getTool().getItemID());
				}
				p.getItems().deleteItem(type.getRequiredItem());
				p.getSkills().addXp(Skills.FLETCHING, type.getXp());
				p.requestAnim(type.getTool().getAnimationID(), 0);
				p.getItems().addItem(type.getGiveID(), type.getGiveAmount());
			} else {
				stop();
			}
		}
	}

}[/CODE]


And here&#39;s item on item:
[CODE=Java]		for(Choice choice : Choice.values()) {
			for(FletchType type : choice.getTypes()) {
				if((itemUsed == type.getRequiredItem() &amp;&amp; usedWith == type.getTool().getItemID()) || (usedWith == type.getRequiredItem() &amp;&amp; itemUsed == type.getTool().getItemID())) {
					p.getSkills().getFletching().showChoiceInterface(choice);
				}
			}
		}[/code]
Note that I import Fletching.FletchType and Fletching.Choice
Lastly, I haven&#39;t re-written how item-on-item is handled in general, so that last part is subject to change.


Add this to your packet 63 handler (note, not all bases have it!)
[code]			case 303:
			case 304:
			case 305:
			case 306:
				clickID -= 4 + (p.chatboxInterfaceId - 303);
				int option = clickID%4;
				int itemIndex = clickID/4;
				switch(option) {
					case 0:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[itemIndex], 28);
						//TODO make-x
						break;
					case 1:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[itemIndex], 10);
						break;
					case 2:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[itemIndex], 5);
						break;
					case 3:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[itemIndex], 1);
						break;
				}
				break;
			case 309:
				clickID -= 3;
				switch(clickID) {
					case 0:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[0], 28);
						break;
					case 1:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[0], 28);
						//TODO make-x
						break;
					case 2:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[0], 5);
						break;
					case 3:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[0], 1);
						break;
				}
				break;[/code]</description>
    
    <lastBuildDate>Wed, 22 May 2013 13:04:04 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@halflive9 halflive9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/halflive9">@halflive9</a> wrote:</p>
          <blockquote>
              <p>I feel stupid, reading my old posts.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/24">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/24</link>
        <pubDate>Wed, 22 May 2013 13:04:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-24</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>Can I release the converted version of this for PI please? (credits to you of course)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/23">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/23</link>
        <pubDate>Wed, 15 May 2013 17:27:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-23</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@tehjamdude tehjamdude]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/tehjamdude">@tehjamdude</a> wrote:</p>
          <blockquote>
              <p>Thanks Dividi2! I was just looking for 508 fletching to add to my server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/22">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/22</link>
        <pubDate>Fri, 10 May 2013 21:36:29 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-22</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@Host_Gushers Host Gushers]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/host_gushers">@Host_Gushers</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="5" data-topic="398817">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/user_avatar/forum.moparisthebest.com/davidi2/40/2579_1.png" class="avatar"> Davidi2:</div>
<blockquote>
<p>No. I want in-depth information, including the type of clothes you were wearing when you creamed yourself, and the viscosity of the cream itself.</p>
</blockquote>
</aside>
<p>The viscosity is about 1001023012030230013.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/21">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/21</link>
        <pubDate>Fri, 10 May 2013 19:17:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-21</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@ox_random_xi ox random xi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ox_random_xi">@ox_random_xi</a> wrote:</p>
          <blockquote>
              <p>[quote=“Jrekko, post:19, topic:398817”][quote author=ox random xi link=topic=495953.msg3627080#msg3627080 date=1307915089]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>very nice david. But uhm do they need to change <code>[package davidscape.players.skills;
import davidscape.Server;
import davidscape.event.Task;
import davidscape.players.Player;/code]
if they have another source then davidscape?</code><br>
[/quote]Yes.</p>
</blockquote>
</aside>
<p>Okay, well maybe you should tell because some people in here don’t know that they need to change it <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
</blockquote>
</aside>
<p>You should know that it would be changed if you’re not using DavidScape source.</p>
</blockquote>
</aside>
<p>Spoonfeeding means telling someone exactly how to do it, where to do it, what to change, etc. He isn’t going to spoon feed you. Especially on something like packages…</p>
<p>P.S.<br>
There is this wierd website called “Google” that uses some kind of voodoo-witchcraft magic to search the Internet and help answer your question, maybe you could give it a try?[/quote]<br>
Google isn’t the witch-craft. The things it gives is witch-craft.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/20</link>
        <pubDate>Fri, 17 Jun 2011 03:13:41 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-20</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@Jrekko Jrekko]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jrekko">@Jrekko</a> wrote:</p>
          <blockquote>
              <p>[quote=“ox random xi, post:17, topic:398817”][quote author=halflive9 link=topic=495953.msg3626956#msg3626956 date=1307907444]</p>
<aside class="quote">
<blockquote>
<aside class="quote">
<blockquote>
<p>very nice david. But uhm do they need to change <code>[package davidscape.players.skills;
import davidscape.Server;
import davidscape.event.Task;
import davidscape.players.Player;/code]
if they have another source then davidscape?</code><br>
[/quote]Yes.</p>
</blockquote>
</aside>
<p>Okay, well maybe you should tell because some people in here don’t know that they need to change it <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
</blockquote>
</aside>
<p>You should know that it would be changed if you’re not using DavidScape source.[/quote]</p>
<p>Spoonfeeding means telling someone exactly how to do it, where to do it, what to change, etc. He isn’t going to spoon feed you. Especially on something like packages…</p>
<p>P.S.<br>
There is this wierd website called “Google” that uses some kind of voodoo-witchcraft magic to search the Internet and help answer your question, maybe you could give it a try?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/19</link>
        <pubDate>Fri, 17 Jun 2011 01:23:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-19</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@Ezpilz Ezpilz]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ezpilz">@Ezpilz</a> wrote:</p>
          <blockquote>
              <p>Nice one <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/18</link>
        <pubDate>Tue, 14 Jun 2011 07:26:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-18</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@ox_random_xi ox random xi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ox_random_xi">@ox_random_xi</a> wrote:</p>
          <blockquote>
              <p>[quote=“halflive9, post:15, topic:398817”][quote author=Davidi2 link=topic=495953.msg3626821#msg3626821 date=1307898110]</p>
<aside class="quote">
<blockquote>
<p>very nice david. But uhm do they need to change <code>[package davidscape.players.skills;
import davidscape.Server;
import davidscape.event.Task;
import davidscape.players.Player;/code]
if they have another source then davidscape?</code><br>
[/quote]Yes.</p>
</blockquote>
</aside>
<p>Okay, well maybe you should tell because some people in here don’t know that they need to change it ;)[/quote]<br>
You should know that it would be changed if you’re not using DavidScape source.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/17</link>
        <pubDate>Sun, 12 Jun 2011 21:44:49 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-17</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@the_soul The Soul]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_soul">@the_soul</a> wrote:</p>
          <blockquote>
              <p>[quote=“halflive9, post:15, topic:398817”][quote author=Davidi2 link=topic=495953.msg3626821#msg3626821 date=1307898110]</p>
<aside class="quote">
<blockquote>
<p>very nice david. But uhm do they need to change <code>[package davidscape.players.skills;
import davidscape.Server;
import davidscape.event.Task;
import davidscape.players.Player;/code]
if they have another source then davidscape?</code><br>
[/quote]Yes.</p>
</blockquote>
</aside>
<p>Okay, well maybe you should tell because some people in here don’t know that they need to change it ;)[/quote]</p>
<p>The packages being imported depends on the server. Regardless, he’s not going to spoonfeed you guys. <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/16</link>
        <pubDate>Sun, 12 Jun 2011 19:40:58 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-16</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@halflive9 halflive9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/halflive9">@halflive9</a> wrote:</p>
          <blockquote>
              <p>[quote=“Davidi2, post:14, topic:398817”][quote author=halflive9 link=topic=495953.msg3626766#msg3626766 date=1307893591]<br>
very nice david. But uhm do they need to change <code>[package davidscape.players.skills;
import davidscape.Server;
import davidscape.event.Task;
import davidscape.players.Player;/code]
if they have another source then davidscape?</code><br>
[/quote]Yes.[/quote]<br>
Okay, well maybe you should tell because some people in here don’t know that they need to change it <img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/15</link>
        <pubDate>Sun, 12 Jun 2011 19:37:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-15</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>[quote=“halflive9, post:12, topic:398817”]very nice david. But uhm do they need to change <code>[package davidscape.players.skills;
import davidscape.Server;
import davidscape.event.Task;
import davidscape.players.Player;/code]
if they have another source then davidscape?</code>[/quote]Yes.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/14</link>
        <pubDate>Sun, 12 Jun 2011 17:01:50 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-14</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@ox_random_xi ox random xi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ox_random_xi">@ox_random_xi</a> wrote:</p>
          <blockquote>
              <p>[quote=“halflive9, post:12, topic:398817”]very nice david. But uhm do they need to change <code>[package davidscape.players.skills;
import davidscape.Server;
import davidscape.event.Task;
import davidscape.players.Player;</code><br>
if they have another source then davidscape?[/quote]<br>
I would assume.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/13</link>
        <pubDate>Sun, 12 Jun 2011 16:47:44 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-13</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@halflive9 halflive9]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/halflive9">@halflive9</a> wrote:</p>
          <blockquote>
              <p>very nice david. But uhm do they need to change <code>[package davidscape.players.skills;
import davidscape.Server;
import davidscape.event.Task;
import davidscape.players.Player;/code]
if they have another source then davidscape?</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/12</link>
        <pubDate>Sun, 12 Jun 2011 15:46:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-12</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@pk2play pk2play]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pk2play">@pk2play</a> wrote:</p>
          <blockquote>
              <p>Nice</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/11</link>
        <pubDate>Sun, 12 Jun 2011 06:42:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-11</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>[quote=“pk2play, post:9, topic:398817”]You have reached level 120! Whaaa  :eek:[/quote]Yup, my server can support either a level cap of 99, 120, or 136 <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/10</link>
        <pubDate>Sun, 12 Jun 2011 06:41:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-10</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@pk2play pk2play]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pk2play">@pk2play</a> wrote:</p>
          <blockquote>
              <p>You have reached level 120! Whaaa  :eek:</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/9</link>
        <pubDate>Sun, 12 Jun 2011 06:38:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-9</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p><img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> Thanks</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/8</link>
        <pubDate>Sun, 12 Jun 2011 06:34:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-8</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@ox_random_xi ox random xi]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ox_random_xi">@ox_random_xi</a> wrote:</p>
          <blockquote>
              <p>Awesome. Still can’t wait for DavidScape v10.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/7</link>
        <pubDate>Sun, 12 Jun 2011 05:34:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-7</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>[quote=“Davidi2, post:5, topic:398817”]No. I want in-depth information, including the type of clothes you were wearing when you creamed yourself, and the viscosity of the cream itself.[/quote]o.0  :eek:</p>
<p>um… :|…</p>
<p><strong><strong><strong>going to go to next topic now</strong></strong></strong>_____</p>
<p>[size=8pt]Blue jean shorts, nice good amount wait what[/size]</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/6</link>
        <pubDate>Sat, 11 Jun 2011 22:33:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-6</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>No. I want in-depth information, including the type of clothes you were wearing when you creamed yourself, and the viscosity of the cream itself.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/5</link>
        <pubDate>Sat, 11 Jun 2011 22:26:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-5</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@Loveandpower Loveandpower]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/loveandpower">@Loveandpower</a> wrote:</p>
          <blockquote>
              <p>I think I just creamed myself.</p>
<p>Is that a good enough response?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/4</link>
        <pubDate>Sat, 11 Jun 2011 22:22:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-4</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>I got 100errors is this for 317?<br>
<img src="https://forum.moparisthebest.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"><br>
thanks <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/3</link>
        <pubDate>Sat, 11 Jun 2011 22:13:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-3</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@krackkid Krackkid]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/krackkid">@krackkid</a> wrote:</p>
          <blockquote>
              <p>Normally I would reply with something like “I got 100errors” or “Is this for 317?”</p>
<p>But for you I think a simple, nice job is in order.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/2</link>
        <pubDate>Sat, 11 Jun 2011 22:12:25 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-2</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
      <item>
        <title>[508] Fletching, with REAL interface</title>
        <dc:creator><![CDATA[@davidi2 Davidi2]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/davidi2">@davidi2</a> wrote:</p>
          <blockquote>
              <p>Well, someone asked to see how I handled fletching, so here I am. This probably won’t work with many sources, it’s designed for DavidScape 508 v10 which is still under construction. However I’m sure most people could figure it out.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/ADXmg.png" title="ADXmg.png" rel="nofollow noopener"><img src="http://i.imgur.com/ADXmg.png" alt width="690" height="305"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">ADXmg.png</span><span class="informations">769×340</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/kbZmt.png" title="kbZmt.png" rel="nofollow noopener"><img src="http://i.imgur.com/kbZmt.png" alt width="690" height="310"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">kbZmt.png</span><span class="informations">761×343</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="http://i.imgur.com/l9wXk.png" title="l9wXk.png" rel="nofollow noopener"><img src="http://i.imgur.com/l9wXk.png" alt width="690" height="300"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">l9wXk.png</span><span class="informations">773×337</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div><br>
Here is the fletching class:</p>
<p>[CODE=Java]package davidscape.players.skills;</p>
<p>import davidscape.Server;<br>
import davidscape.event.Task;<br>
import davidscape.players.Player;</p>
<p>public class Fletching {</p>
<pre><code>private Player p;
private FletchType type;
private FletchingTask task = new FletchingTask(-1);
private Choice choice;

public enum Tool {

	KNIFE(946, false, 1248, "You carve the logs."),
	BOW_STRING(1777, true, 1248, "You string the bow."), // TODO find fletching id
	CROSSBOW_STRING(9438, true, 1248, "You string the crossbow."),
	BRONZE_LIMBS(9420, true, 4436, "You attach the limbs to the crossbow stock."),
	BLURITE_LIMBS(9422, true, 4437, "You attach the limbs to the crossbow stock."),
	IRON_LIMBS(9423, true, 4438, "You attach the limbs to the crossbow stock."),
	STEEL_LIMBS(9425, true, 4439, "You attach the limbs to the crossbow stock."),
	MITHRIL_LIMBS(9427, true, 4440, "You attach the limbs to the crossbow stock."),
	ADAMANTITE_LIMBS(9429, true, 4441, "You attach the limbs to the crossbow stock."),
	RUNITE_LIMBS(9431, true, 4442, "You attach the limbs to the crossbow stock."); 

	private Tool(int itemID, boolean shouldDelete, int animationID, String message) {
		this.itemID = itemID;
		this.shouldDelete = shouldDelete;
		this.animationID = animationID;
		this.message = message;
	}

	private int itemID;
	private boolean shouldDelete;
	private int animationID;
	private String message;

	public int getItemID() {
		return itemID;
	}

	public boolean shouldDelete() {
		return shouldDelete;
	}

	public int getAnimationID() {
		return animationID;
	}

	public String getMessage() {
		return message;
	}
}

public enum Choice {
	LOG(FletchType.SHORTBOW_U, FletchType.LONGBOW_U, FletchType.CROSSBOW_STOCK),
	OAK_LOG(FletchType.OAK_SHORTBOW_U, FletchType.OAK_LONGBOW_U, FletchType.OAK_STOCK),
	WILLOW_LOG(FletchType.WILLOW_SHORTBOW_U, FletchType.WILLOW_LONGBOW_U, FletchType.WILLOW_STOCK),
	TEAK_LOG(FletchType.TEAK_STOCK),
	MAHOGANY_LOG(FletchType.MAHOGANY_STOCK),
	MAPLE_LOG(FletchType.MAPLE_SHORTBOW_U, FletchType.MAPLE_LONGBOW_U, FletchType.MAPLE_STOCK),
	YEW_LOG(FletchType.YEW_SHORTBOW_U, FletchType.YEW_LONGBOW_U, FletchType.YEW_STOCK),
	MAGIC_LOG(FletchType.MAGIC_SHORTBOW_U, FletchType.MAGIC_LONGBOW_U),
	SHORTBOW_U(FletchType.SHORTBOW),
	LONGBOW_U(FletchType.LONGBOW),
	CROSSBOW_STOCK(FletchType.BRONZE_CBOW_U),
	BRONZE_CBOW_U(FletchType.BRONZE_CBOW),
	OAK_SHORTBOW_U(FletchType.OAK_SHORTBOW),
	OAK_LONGBOW_U(FletchType.OAK_LONGBOW),
	OAK_STOCK(FletchType.BLURITE_CBOW_U),
	BLURITE_CBOW_U(FletchType.BLURITE_CBOW),
	WILLOW_SHORTBOW_U(FletchType.WILLOW_SHORTBOW),
	WILLOW_LONGBOW_U(FletchType.WILLOW_LONGBOW),
	WILLOW_STOCK(FletchType.IRON_CBOW_U),
	IRON_CBOW_U(FletchType.IRON_CBOW),
	TEAK_CROSSBOW_U(FletchType.STEEL_CBOW),
	MAPLE_SHORTBOW_U(FletchType.MAPLE_SHORTBOW),
	MAPLE_LONGBOW_U(FletchType.MAPLE_LONGBOW),
	MAPLE_STOCK(FletchType.MITH_CBOW_U),
	MITH_CBOW_U(FletchType.MITH_CBOW),
	MAHOGANY_STOCK(FletchType.ADAMANT_CBOW_U),
	ADAMANT_CROSSBOW_U(FletchType.ADAMANT_CBOW),
	YEW_SHORTBOW_U(FletchType.YEW_SHORTBOW),
	YEW_LONGBOW_U(FletchType.YEW_LONGBOW),
	YEW_STOCK(FletchType.RUNITE_CBOW_U),
	RUNITE_CBOW_U(FletchType.RUNE_CBOW),
	MAGIC_SHORTBOW_U(FletchType.MAGIC_SHORTBOW),
	MAGIC_LONGBOW_U(FletchType.MAGIC_LONGBOW);

	private Choice(FletchType... types) {
		this.types = types;
	}

	private FletchType[] types;
	
	public FletchType[] getTypes() {
		return types;
	}
}

public enum FletchType {
	ARROW_SHAFT(5, 5, 50, 15, 1511, Tool.KNIFE),
	SHORTBOW_U(5, 5, 50, 1, 1511, Tool.KNIFE),
	SHORTBOW(5, 5, 841, 1, 50, Tool.BOW_STRING),
	LONGBOW_U(10, 10, 48, 1, 1511, Tool.KNIFE),
	LONGBOW(10, 10, 839, 1, 48, Tool.BOW_STRING),
	CROSSBOW_STOCK(9, 6, 9440, 1, 1511, Tool.KNIFE),
	BRONZE_CBOW_U(9, 12, 9454, 1, 9440, Tool.BRONZE_LIMBS),
	BRONZE_CBOW(9, 6, 9174, 1, 9454, Tool.CROSSBOW_STRING),
	OAK_SHORTBOW_U(20, 17, 54, 1, 1521, Tool.KNIFE),
	OAK_SHORTBOW(20, 17, 843, 1, 54, Tool.BOW_STRING),
	OAK_LONGBOW_U(25, 25, 56, 1, 1521, Tool.KNIFE),
	OAK_LONGBOW(25, 25, 845, 1, 56, Tool.BOW_STRING),
	OAK_STOCK(24, 16, 9442, 1, 1521, Tool.KNIFE),
	BLURITE_CBOW_U(24, 32, 9456, 1, 9442, Tool.BLURITE_LIMBS),
	BLURITE_CBOW(24, 16, 9176, 1, 9456, Tool.CROSSBOW_STRING),
	WILLOW_SHORTBOW_U(35, 33, 60, 1, 1519, Tool.KNIFE),
	WILLOW_SHORTBOW(35, 33, 849, 1, 60, Tool.BOW_STRING),
	WILLOW_LONGBOW_U(40, 42, 58, 1, 1519, Tool.KNIFE),
	WILLOW_LONGBOW(40, 42, 847, 1, 58, Tool.BOW_STRING),
	WILLOW_STOCK(39, 22, 9444, 1, 1519, Tool.KNIFE),
	IRON_CBOW_U(39, 44, 9457, 1, 9444, Tool.IRON_LIMBS),
	IRON_CBOW(39, 44, 9177, 1, 9457, Tool.CROSSBOW_STRING),
	TEAK_STOCK(46, 27, 9446, 1, 6333, Tool.KNIFE),
	STEEL_CBOW_U(46, 54, 9459, 1, 9446, Tool.STEEL_LIMBS),
	STEEL_CBOW(46, 27, 9179, 1, 9454, Tool.CROSSBOW_STRING),
	MAPLE_SHORTBOW_U(50, 50, 64, 1, 1517, Tool.KNIFE),
	MAPLE_SHORTBOW(50, 50, 853, 1, 64, Tool.BOW_STRING),
	MAPLE_LONGBOW_U(55, 58, 62, 1, 1517, Tool.KNIFE),
	MAPLE_LONGBOW(55, 58, 851, 1, 62, Tool.BOW_STRING),
	MAPLE_STOCK(54, 6, 9448, 1, 1517, Tool.KNIFE),
	MITH_CBOW_U(54, 12, 9461, 1, 9448, Tool.MITHRIL_LIMBS),
	MITH_CBOW(54, 6, 9181, 1, 9461, Tool.CROSSBOW_STRING),
	MAHOGANY_STOCK(61, 41, 9450, 1, 6332, Tool.KNIFE),
	ADAMANT_CBOW_U(61, 82, 9463, 1, 9450, Tool.ADAMANTITE_LIMBS),
	ADAMANT_CBOW(61, 41, 9183, 1, 9463, Tool.CROSSBOW_STRING),
	YEW_SHORTBOW_U(65, 68, 68, 1, 1515, Tool.KNIFE),
	YEW_SHORTBOW(65, 68, 857, 1, 68, Tool.BOW_STRING),
	YEW_LONGBOW_U(70, 75, 66, 1, 1515, Tool.KNIFE),
	YEW_LONGBOW(70, 75, 855, 1, 66, Tool.BOW_STRING),
	YEW_STOCK(69, 50, 9452, 1, 1515, Tool.KNIFE),
	RUNITE_CBOW_U(69, 100, 9465, 1, 9452, Tool.RUNITE_LIMBS),
	RUNE_CBOW(69, 50, 9185, 1, 9465, Tool.CROSSBOW_STRING),
	MAGIC_SHORTBOW_U(80, 83, 72, 1, 1513, Tool.KNIFE),
	MAGIC_SHORTBOW(80, 83, 861, 1, 72, Tool.BOW_STRING),
	MAGIC_LONGBOW_U(85, 92, 70, 1, 1513, Tool.KNIFE),
	MAGIC_LONGBOW(85, 92, 859, 1, 70, Tool.BOW_STRING);

	private FletchType(int lvl, int xp, int giveID, int giveAmount, int requiredItem, Tool tool) {
		this.lvl = lvl;
		this.xp = xp;
		this.giveID = giveID;
		this.giveAmount = giveAmount;
		this.requiredItem = requiredItem;
		this.tool = tool;
	}

	private int xp;
	private int lvl;
	private int giveID;
	private int giveAmount;
	private int requiredItem;
	private Tool tool;

	public int getXp() {
		return xp;
	}

	public int getLvl() {
		return lvl;
	}

	public int getGiveID() {
		return giveID;
	}

	public int getGiveAmount() {
		return giveAmount;
	}

	public int getRequiredItem() {
		return requiredItem;
	}

	public Tool getTool() {
		return tool;
	}
}

public Fletching(Player p) {
	this.p = p;
}

public void showChoiceInterface(Choice choice) {
	if(choice.getTypes().length == 1) {
		this.choice = choice;
		p.getFrames().showChatboxInterface(309);
		p.getFrames().itemOnInterface(309, 2, 200, choice.getTypes()[0].getGiveID());
		p.getFrames().setString("&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;" + Server.getEngine().getItems().getDefinitions(choice.getTypes()[0].getGiveID()).getName(), 309, 6);
	} else if(choice.getTypes().length &lt; 5 &amp;&amp; choice.getTypes().length &gt; 1) {
		this.choice = choice;
		p.getFrames().showChatboxInterface(301 + choice.getTypes().length);
		for(int i = 0; i &lt; choice.getTypes().length ; i++) {
			p.getFrames().itemOnInterface(301 + choice.getTypes().length, i + 2, 200, choice.getTypes()[i].getGiveID());
			int stringIndex = 7 + (4 * i) + choice.getTypes().length - 2;
			p.getFrames().setString("&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;" + Server.getEngine().getItems().getDefinitions(choice.getTypes()[i].getGiveID()).getName(), 301 + choice.getTypes().length, stringIndex);
		}
	}
	p.getFrames().restoreInventory();
}

public void startFletching(FletchType fletchType, int amount) {
	stop();
	this.type = fletchType;
	p.getFrames().removeChatboxInterface();
	p.getFrames().restoreInventory();
	if(canFletch()) {
		task = new FletchingTask(amount);
		Server.getEngine().getTaskManager().schedule(task, 0, 1000);
	}
}

public void stop() {
	task.stop();
}

public Choice getChoice() {
	return choice;
}

private boolean canFletch() {
	if(!(p.getSkills().getLevel(Skills.FLETCHING) &gt;= type.getLvl())) {
		p.getFrames().sendMessage("You need a fletching level of " + type.getLvl() + " to make this.");
		return false;
	}
	if(!p.getItems().hasItem(type.getRequiredItem()) || !p.getItems().hasItem(type.getTool().getItemID())) {
		p.getFrames().sendMessage("You do not have enough items to make any more.");
		return false;
	}
	return true;
}

private class FletchingTask extends Task {

	private int amount;

	public FletchingTask(int amount) {
		this.amount = amount;
	}

	@Override
	public void run() {
		if(amount-- &gt; 0 &amp;&amp; canFletch()) {
			p.getFrames().sendMessage(type.getTool().getMessage());
			if(type.getTool().shouldDelete()) {
				p.getItems().deleteItem(type.getTool().getItemID());
			}
			p.getItems().deleteItem(type.getRequiredItem());
			p.getSkills().addXp(Skills.FLETCHING, type.getXp());
			p.requestAnim(type.getTool().getAnimationID(), 0);
			p.getItems().addItem(type.getGiveID(), type.getGiveAmount());
		} else {
			stop();
		}
	}
}
</code></pre>
<p>}[/CODE]</p>
<p>And here’s item on item:</p>
<p><code>		for(Choice choice : Choice.values()) {
			for(FletchType type : choice.getTypes()) {
				if((itemUsed == type.getRequiredItem() &amp;&amp; usedWith == type.getTool().getItemID()) || (usedWith == type.getRequiredItem() &amp;&amp; itemUsed == type.getTool().getItemID())) {
					p.getSkills().getFletching().showChoiceInterface(choice);
				}
			}
		}</code><br>
Note that I import Fletching.FletchType and Fletching.Choice<br>
Lastly, I haven’t re-written how item-on-item is handled in general, so that last part is subject to change.</p>
<p>Add this to your packet 63 handler (note, not all bases have it!)</p>
<p><code>			case 303:
			case 304:
			case 305:
			case 306:
				clickID -= 4 + (p.chatboxInterfaceId - 303);
				int option = clickID%4;
				int itemIndex = clickID/4;
				switch(option) {
					case 0:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[itemIndex], 28);
						//TODO make-x
						break;
					case 1:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[itemIndex], 10);
						break;
					case 2:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[itemIndex], 5);
						break;
					case 3:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[itemIndex], 1);
						break;
				}
				break;
			case 309:
				clickID -= 3;
				switch(clickID) {
					case 0:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[0], 28);
						break;
					case 1:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[0], 28);
						//TODO make-x
						break;
					case 2:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[0], 5);
						break;
					case 3:
						p.getSkills().getFletching().startFletching(p.getSkills().getFletching().getChoice().getTypes()[0], 1);
						break;
				}
				break;</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817/1</link>
        <pubDate>Sat, 11 Jun 2011 21:47:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-398817-1</guid>
        <source url="https://forum.moparisthebest.com/t/508-fletching-with-real-interface/398817.rss">[508] Fletching, with REAL interface</source>
      </item>
  </channel>
</rss>
