<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/help-with-login/479215 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Help with login :( - General Programming - moparisthebest.com</title>
    <meta name="description" content="Warning: mysql_num_rows(): supplied argument is not a valid MySQL result resource on line 10 

This is the error im getting when i login 

here my code  

 &amp;lt;?php
if(!session_is_registered(&amp;#39;loginid&amp;#39;)|| !session_is_registe&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="479215.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Help with login :(&#39;" href="479215.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/help-with-login/479215" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/help-with-login/479215" />
<meta property="og:title" content="Help with login :(" />
<meta name="twitter:title" content="Help with login :(" />
<meta property="og:description" content="Warning: mysql_num_rows(): supplied argument is not a valid MySQL result resource on line 10  This is the error im getting when i login  here my code  &lt;?php if(!session_is_registered(&#39;loginid&#39;)|| !session_is_registered(&#39;username&#39;)) { if(isset($_POST[&#39;login&#39;])) { $username = mysql_real_escape_string(strip_tags($_POST[&#39;username&#39;])); $password=md5(mysql_real_escape_string(strip_tags($_POST[&#39;password&#39;]))); $query=&quot;select * from login1 where username=&#39;$username&#39; AND password=&#39;$password&#39;&quot;; $result=mys..." />
<meta name="twitter:description" content="Warning: mysql_num_rows(): supplied argument is not a valid MySQL result resource on line 10  This is the error im getting when i login  here my code  &lt;?php if(!session_is_registered(&#39;loginid&#39;)|| !session_is_registered(&#39;username&#39;)) { if(isset($_POST[&#39;login&#39;])) { $username = mysql_real_escape_string(strip_tags($_POST[&#39;username&#39;])); $password=md5(mysql_real_escape_string(strip_tags($_POST[&#39;password&#39;]))); $query=&quot;select * from login1 where username=&#39;$username&#39; AND password=&#39;$password&#39;&quot;; $result=mys..." />
<meta property="article:published_time" content="2013-01-23T18:56:54+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="479215.html">Help with login :(</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pkerjosh123.html'><span itemprop='name'>pkerjosh123</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-23T18:56:54Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:18:23Z' class='post-time'>
              August 4, 2016,  2:18am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Warning: mysql_num_rows(): supplied argument is not a valid MySQL result resource on line 10</p>
<p>This is the error im getting when i login</p>
<p>here my code</p>
<p><code>&lt;?php
if(!session_is_registered('loginid')|| !session_is_registered('username'))
{
if(isset($_POST['login']))
{
$username = mysql_real_escape_string(strip_tags($_POST['username']));
$password=md5(mysql_real_escape_string(strip_tags($_POST['password'])));
$query="select * from login1 where username='$username' AND password='$password'";
$result=mysql_query($query);
if(mysql_num_rows($result)!=2)
{
//If the username or password wrong include the login page
echo "Username and password is wrong";
include "login.php";
}
else
{
$row=mysql_fetch_array($result);
$_SESSION['loginid']=$row['loginid'];
$_SESSION['username']=$row['username'];
menubox();
echo "login success";
}
}
else
{
include "login.php";
}
}
else
{
menubox();
echo "&lt;br&gt;";
echo "already login";
}
?&gt;</code></p>
      </div>

      <meta itemprop='headline' content='Help with login :('>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ruby_Forums_Coder.html'><span itemprop='name'>Ruby_Forums_Coder</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-23T19:30:14Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:18:24Z' class='post-time'>
              August 4, 2016,  2:18am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I’m not sure at all why you’re doing that but I’ll assume it’s an important part of another script. I’m also assuming you’re trying to check if the number of rows returned from $result is 2, you shouldn’t be checking if the =2 part is empty lol.</p>
<p>Change</p>
<pre><code class="lang-auto">if(mysql_num_rows($result)!=2)
{</code></pre>
<p>to</p>
<pre><code class="lang-auto">$num_rows = mysql_num_rows($result);

if($num_rows == 2) {</code></pre>
<p>Once again, I’m sure I told you on that leeched tutorial you posted: You should not be using MySQL now. It should either be MySQLi or PDO.</p>
      </div>

      <meta itemprop='headline' content='Help with login :('>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pkerjosh123.html'><span itemprop='name'>pkerjosh123</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-23T20:07:02Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:18:25Z' class='post-time'>
              August 4, 2016,  2:18am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Okay errors gone and it is fully working. However one more questions if i make a new page like image1.php how do i make it so only logged in users can access it <img src="../../images/emoji/twitter/stuck_out_tongueae52.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> like if your not logged in it redirects you to login</p>
      </div>

      <meta itemprop='headline' content='Help with login :('>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Ruby_Forums_Coder.html'><span itemprop='name'>Ruby_Forums_Coder</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2013-01-23T20:22:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T02:18:25Z' class='post-time'>
              August 4, 2016,  2:18am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just check if the session is set for logged in users and if it isn’t redirect them to the login script.</p>
      </div>

      <meta itemprop='headline' content='Help with login :('>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/help-with-login/479215 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:07:43 GMT -->
</html>
