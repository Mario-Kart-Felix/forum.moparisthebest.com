<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Help with login :(</title>
    <link>https://forum.moparisthebest.com/t/help-with-login/479215</link>
    <description>Warning: mysql_num_rows(): supplied argument is not a valid MySQL result resource on line 10

This is the error im getting when i login

here my code 

[code]&lt;?php
if(!session_is_registered(&#39;loginid&#39;)|| !session_is_registered(&#39;username&#39;))
{
if(isset($_POST[&#39;login&#39;]))
{
$username = mysql_real_escape_string(strip_tags($_POST[&#39;username&#39;]));
$password=md5(mysql_real_escape_string(strip_tags($_POST[&#39;password&#39;])));
$query=&quot;select * from login1 where username=&#39;$username&#39; AND password=&#39;$password&#39;&quot;;
$result=mysql_query($query);
if(mysql_num_rows($result)!=2)
{
//If the username or password wrong include the login page
echo &quot;Username and password is wrong&quot;;
include &quot;login.php&quot;;
}
else
{
$row=mysql_fetch_array($result);
$_SESSION[&#39;loginid&#39;]=$row[&#39;loginid&#39;];
$_SESSION[&#39;username&#39;]=$row[&#39;username&#39;];
menubox();
echo &quot;login success&quot;;
}
}
else
{
include &quot;login.php&quot;;
}
}
else
{
menubox();
echo &quot;&lt;br&gt;&quot;;
echo &quot;already login&quot;;
}
?&gt;[/code]</description>
    
    <lastBuildDate>Wed, 23 Jan 2013 20:22:12 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/help-with-login/479215.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Help with login :(</title>
        <dc:creator><![CDATA[@Ruby_Forums_Coder Ruby]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ruby_forums_coder">@Ruby_Forums_Coder</a> wrote:</p>
          <blockquote>
              <p>Just check if the session is set for logged in users and if it isn’t redirect them to the login script.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-with-login/479215/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-with-login/479215/4</link>
        <pubDate>Wed, 23 Jan 2013 20:22:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-479215-4</guid>
        <source url="https://forum.moparisthebest.com/t/help-with-login/479215.rss">Help with login :(</source>
      </item>
      <item>
        <title>Help with login :(</title>
        <dc:creator><![CDATA[@pkerjosh123 pkerjosh123]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pkerjosh123">@pkerjosh123</a> wrote:</p>
          <blockquote>
              <p>Okay errors gone and it is fully working. However one more questions if i make a new page like image1.php how do i make it so only logged in users can access it <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> like if your not logged in it redirects you to login</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-with-login/479215/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-with-login/479215/3</link>
        <pubDate>Wed, 23 Jan 2013 20:07:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-479215-3</guid>
        <source url="https://forum.moparisthebest.com/t/help-with-login/479215.rss">Help with login :(</source>
      </item>
      <item>
        <title>Help with login :(</title>
        <dc:creator><![CDATA[@Ruby_Forums_Coder Ruby]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ruby_forums_coder">@Ruby_Forums_Coder</a> wrote:</p>
          <blockquote>
              <p>I’m not sure at all why you’re doing that but I’ll assume it’s an important part of another script. I’m also assuming you’re trying to check if the number of rows returned from $result is 2, you shouldn’t be checking if the =2 part is empty lol.</p>
<p>Change</p>
<pre><code class="lang-auto">if(mysql_num_rows($result)!=2)
{</code></pre>
<p>to</p>
<pre><code class="lang-auto">$num_rows = mysql_num_rows($result);

if($num_rows == 2) {</code></pre>
<p>Once again, I’m sure I told you on that leeched tutorial you posted: You should not be using MySQL now. It should either be MySQLi or PDO.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-with-login/479215/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-with-login/479215/2</link>
        <pubDate>Wed, 23 Jan 2013 19:30:14 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-479215-2</guid>
        <source url="https://forum.moparisthebest.com/t/help-with-login/479215.rss">Help with login :(</source>
      </item>
      <item>
        <title>Help with login :(</title>
        <dc:creator><![CDATA[@pkerjosh123 pkerjosh123]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/pkerjosh123">@pkerjosh123</a> wrote:</p>
          <blockquote>
              <p>Warning: mysql_num_rows(): supplied argument is not a valid MySQL result resource on line 10</p>
<p>This is the error im getting when i login</p>
<p>here my code</p>
<p><code>&lt;?php
if(!session_is_registered('loginid')|| !session_is_registered('username'))
{
if(isset($_POST['login']))
{
$username = mysql_real_escape_string(strip_tags($_POST['username']));
$password=md5(mysql_real_escape_string(strip_tags($_POST['password'])));
$query="select * from login1 where username='$username' AND password='$password'";
$result=mysql_query($query);
if(mysql_num_rows($result)!=2)
{
//If the username or password wrong include the login page
echo "Username and password is wrong";
include "login.php";
}
else
{
$row=mysql_fetch_array($result);
$_SESSION['loginid']=$row['loginid'];
$_SESSION['username']=$row['username'];
menubox();
echo "login success";
}
}
else
{
include "login.php";
}
}
else
{
menubox();
echo "&lt;br&gt;";
echo "already login";
}
?&gt;</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/help-with-login/479215/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/help-with-login/479215/1</link>
        <pubDate>Wed, 23 Jan 2013 18:56:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-479215-1</guid>
        <source url="https://forum.moparisthebest.com/t/help-with-login/479215.rss">Help with login :(</source>
      </item>
  </channel>
</rss>
