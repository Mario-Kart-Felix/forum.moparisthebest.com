<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Repeating Message every hour and Giving Points</title>
    <link>https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269</link>
    <description>So far I have this. [code=java]public void OnlineMessage() {
		EventManager.getSingleton().addEvent(new Event() {
		@Override
			public void execute(EventContainer container) {
				long lastDelay = 0;
				if(System.currentTimeMillis() - lastDelay &gt; 3600000 ) {
					for (int j = 0; j &lt; PlayerHandler.players.length; j++) {
							if (PlayerHandler.players[j] != null) {
								final Client c2 = (Client) PlayerHandler.players[j];
								c2.sendMessage(&quot;You have just recieved 3 Online Points!&quot;);
								c2.onlinePoints += 3;
								
							}
					}
				}	
			}
		}, 3600000);
	}[/code] My problem is after the hour, The server just keeps spamming points to everyone online. How can I make it send it once and then next 3 will be sent the next hour? Do i use c.flushOutSream?</description>
    
    <lastBuildDate>Sun, 15 Jul 2012 14:56:02 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Repeating Message every hour and Giving Points</title>
        <dc:creator><![CDATA[@hack3r hack3r]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/hack3r">@hack3r</a> wrote:</p>
          <blockquote>
              <p>Just Wondering if you actualy did get this code finished? if so can i have it as i need 400 loyalty points per hour. thanks.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/8</link>
        <pubDate>Sun, 15 Jul 2012 14:56:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-417269-8</guid>
        <source url="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269.rss">[PI] Repeating Message every hour and Giving Points</source>
      </item>
      <item>
        <title>[PI] Repeating Message every hour and Giving Points</title>
        <dc:creator><![CDATA[@RiiPiiNFtW RiiPiiNFtW]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/riipiinftw">@RiiPiiNFtW</a> wrote:</p>
          <blockquote>
              <p>Correct.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/7</link>
        <pubDate>Fri, 07 Oct 2011 04:25:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-417269-7</guid>
        <source url="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269.rss">[PI] Repeating Message every hour and Giving Points</source>
      </item>
      <item>
        <title>[PI] Repeating Message every hour and Giving Points</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <p>You only added the fourth line to the three lines I had shown as context, right? You didn’t replace the whole method?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/6</link>
        <pubDate>Fri, 07 Oct 2011 04:24:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-417269-6</guid>
        <source url="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269.rss">[PI] Repeating Message every hour and Giving Points</source>
      </item>
      <item>
        <title>[PI] Repeating Message every hour and Giving Points</title>
        <dc:creator><![CDATA[@RiiPiiNFtW RiiPiiNFtW]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/riipiinftw">@RiiPiiNFtW</a> wrote:</p>
          <blockquote>
              <p>I get this outOfBoundsException now when I log in. <code>java.lang.ArrayIndexOutOfBoundsException: -2
        at server.util.ISAACRandomGen.getNextKey(ISAACRandomGen.java:26)
        at server.util.Stream.createFrameVarSize(Stream.java:188)
        at server.model.players.Client.sendMessage(Client.java:1839)
        at server.model.players.Client$4.execute(Client.java:1256)
        at server.event.EventContainer.execute(EventContainer.java:50)
        at server.event.EventManager.run(EventManager.java:100)
        at java.lang.Thread.run(Unknown Source)</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/5</link>
        <pubDate>Fri, 07 Oct 2011 04:17:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-417269-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269.rss">[PI] Repeating Message every hour and Giving Points</source>
      </item>
      <item>
        <title>[PI] Repeating Message every hour and Giving Points</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <p>Ah. Alright.</p>
<p>So all you need to fix is the reassigning of the variable lastDelay.</p>
<pre><code class="lang-auto">                                                                final Client c2 = (Client) PlayerHandler.players[j];
                                                                c2.sendMessage("You have just recieved 3 Online Points!");
                                                                c2.onlinePoints += 3;
                                   lastDelay = System.currentTimeMillis();</code></pre>
<p>It resets the timer so it must wait another hour. (Please excuse the conventions, I typed the line of code in my browser.)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/4</link>
        <pubDate>Fri, 07 Oct 2011 03:42:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-417269-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269.rss">[PI] Repeating Message every hour and Giving Points</source>
      </item>
      <item>
        <title>[PI] Repeating Message every hour and Giving Points</title>
        <dc:creator><![CDATA[@RiiPiiNFtW RiiPiiNFtW]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/riipiinftw">@RiiPiiNFtW</a> wrote:</p>
          <blockquote>
              <p>I looped it to give everyone online 3 points every hour.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/3</link>
        <pubDate>Fri, 07 Oct 2011 03:30:38 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-417269-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269.rss">[PI] Repeating Message every hour and Giving Points</source>
      </item>
      <item>
        <title>[PI] Repeating Message every hour and Giving Points</title>
        <dc:creator><![CDATA[@eyeownyew Eyeownyew]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/eyeownyew">@eyeownyew</a> wrote:</p>
          <blockquote>
              <p>[quote=“RiiPiiNFtW, post:1, topic:417269”]So far I have this. [code=java]public void OnlineMessage() {<br>
EventManager.getSingleton().addEvent(new Event() {<br>
<a class="mention" href="/u/override">@Override</a><br>
public void execute(EventContainer container) {<br>
long lastDelay = 0;<br>
if(System.currentTimeMillis() - lastDelay &gt; 3600000 ) {<br>
for (int j = 0; j &lt; PlayerHandler.players.length; j++) {<br>
if (PlayerHandler.players[j] != null) {<br>
final Client c2 = (Client) PlayerHandler.players[j];<br>
c2.sendMessage(“You have just recieved 3 Online Points!”);<br>
c2.onlinePoints += 3;</p>
<pre><code>						}
				}
			}	
		}
	}, 3600000);
}[/code] My problem is after the hour, The server just keeps spamming points to everyone online. How can I make it send it once and then next 3 will be sent the next hour? Do i use c.flushOutSream?[/quote]
</code></pre>
<p>I’m not sure why you have 3600000 in there twice, but I imagine that has to do with the problem. Also, you don’t resassign the lastDelay variable after giving a person points. Also, you don’t actually specify anywhere that you want to give it to a specific client, you just give it to everyone.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/2</link>
        <pubDate>Fri, 07 Oct 2011 03:21:07 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-417269-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269.rss">[PI] Repeating Message every hour and Giving Points</source>
      </item>
      <item>
        <title>[PI] Repeating Message every hour and Giving Points</title>
        <dc:creator><![CDATA[@RiiPiiNFtW RiiPiiNFtW]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/riipiinftw">@RiiPiiNFtW</a> wrote:</p>
          <blockquote>
              <p>So far I have this. [code=java]public void OnlineMessage() {<br>
EventManager.getSingleton().addEvent(new Event() {<br>
<a class="mention" href="/u/override">@Override</a><br>
public void execute(EventContainer container) {<br>
long lastDelay = 0;<br>
if(System.currentTimeMillis() - lastDelay &gt; 3600000 ) {<br>
for (int j = 0; j &lt; PlayerHandler.players.length; j++) {<br>
if (PlayerHandler.players[j] != null) {<br>
final Client c2 = (Client) PlayerHandler.players[j];<br>
c2.sendMessage(“You have just recieved 3 Online Points!”);<br>
c2.onlinePoints += 3;</p>
<pre><code>						}
				}
			}	
		}
	}, 3600000);
}[/code] My problem is after the hour, The server just keeps spamming points to everyone online. How can I make it send it once and then next 3 will be sent the next hour? Do i use c.flushOutSream?</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269/1</link>
        <pubDate>Fri, 07 Oct 2011 02:39:17 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-417269-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-repeating-message-every-hour-and-giving-points/417269.rss">[PI] Repeating Message every hour and Giving Points</source>
      </item>
  </channel>
</rss>
