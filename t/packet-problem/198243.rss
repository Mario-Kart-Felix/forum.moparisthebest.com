<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Packet Problem</title>
    <link>https://forum.moparisthebest.com/t/packet-problem/198243</link>
    <description>Okay, Thanks for reading, Here&#39;s my problem:

I recetly used a ::jail command for my server this is what come up:

[code]
[client-1-staff]: playerCommand: jailstaff
java.lang.ArrayIndexOutOfBoundsException: -1
        at client.customCommand(client.java:10125)
        at client.parseIncomingPackets(client.java:21794)
        at client.packetProcess(client.java:17435)
        at client.packetSending(client.java:17404)
        at PlayerHandler.process(PlayerHandler.java:138)
        at server.main(server.java:53)
pimpscape Server [fatal] - exception
[/code]

So I thought to myself, It doesn&#39;t matter, I don&#39;t need it anyway

Then i just tried to move czar&#39;s shops!

Now I got this error

[code]java.lang.ArrayIndexOutOfBoundsException: -69
        at client.customCommand(client.java:10125)
        at client.parseIncomingPackets(client.java:21794)
        at client.packetProcess(client.java:17435)
        at client.packetSending(client.java:17404)
        at PlayerHandler.process(PlayerHandler.java:138)
        at server.main(server.java:53)
pimpscape Server [fatal] - exception[/code]

I really need help on this and don&#39;t really understand the packet&#39;s 
So i wondered if you could help

here&#39;s the line indicated and then the void it&#39;s pointed to!

[code]public boolean packetSending() { //Ringer24: this is used for sending packets
return packetProcess();
	}

	private boolean packetProcess() {
		if(disconnected) return false;
		try {
			if(timeOutCounter++ &gt; 20) {
				actionReset();
				saveStats();
				disconnected = true;
				return false;  }
	
			if(in == null) return false;

			int avail = in.available();
			if(avail == 0) return false;
			if(packetType == -1) {
				packetType = in.read() &amp; 0xff;
				if(inStreamDecryption != null)
					packetType = packetType - inStreamDecryption.getNextKey() &amp; 0xff;
				packetSize = packetSizes[packetType];
				avail--;  }
			if(packetSize == -1) {
				if(avail &gt; 0) {
					packetSize = in.read() &amp; 0xff;
					avail--; }
				else return false; }
			if(avail &lt; packetSize) return false;
			fillInStream(packetSize);
            timeOutCounter = 0;

			parseIncomingPackets();	
			packetType = -1;
		} catch(java.lang.Exception __ex) {	__ex.printStackTrace();  disconnected = true;
                  System.out.println(&quot;pimpscape Server [fatal] - exception&quot;); }
		return true;
	}[/code]

Thanks alot!
Really helpful
Keep in mind i do have 40 rep :)

~Pride</description>
    
    <lastBuildDate>Thu, 10 Apr 2008 14:58:00 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/packet-problem/198243.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Packet Problem</title>
        <dc:creator><![CDATA[@hot_server hot server]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/hot_server">@hot_server</a> wrote:</p>
          <blockquote>
              <p>Still gives same error <img src="https://forum.moparisthebest.com/images/emoji/twitter/frowning.png?v=6" title=":frowning:" class="emoji" alt=":frowning:"><br>
Thanks dude, this is really appreciated!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/packet-problem/198243/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/packet-problem/198243/7</link>
        <pubDate>Thu, 10 Apr 2008 14:58:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-198243-7</guid>
        <source url="https://forum.moparisthebest.com/t/packet-problem/198243.rss">Packet Problem</source>
      </item>
      <item>
        <title>Packet Problem</title>
        <dc:creator><![CDATA[@surfer25 surfer25]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/surfer25">@surfer25</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">if(in == null) return false;</code></pre>
<p>Remove that <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>That wont really do anything <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>add another 0 onto bufferSize. If that doesn’t work i have no clue <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/packet-problem/198243/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/packet-problem/198243/6</link>
        <pubDate>Thu, 10 Apr 2008 14:49:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-198243-6</guid>
        <source url="https://forum.moparisthebest.com/t/packet-problem/198243.rss">Packet Problem</source>
      </item>
      <item>
        <title>Packet Problem</title>
        <dc:creator><![CDATA[@hot_server hot server]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/hot_server">@hot_server</a> wrote:</p>
          <blockquote>
              <p>1000000<br>
<img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"><br>
I knew it was something like that!  <img src="https://forum.moparisthebest.com/images/emoji/twitter/expressionless.png?v=6" title=":expressionless:" class="emoji" alt=":expressionless:"> <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/packet-problem/198243/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/packet-problem/198243/5</link>
        <pubDate>Thu, 10 Apr 2008 14:41:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-198243-5</guid>
        <source url="https://forum.moparisthebest.com/t/packet-problem/198243.rss">Packet Problem</source>
      </item>
      <item>
        <title>Packet Problem</title>
        <dc:creator><![CDATA[@surfer25 surfer25]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/surfer25">@surfer25</a> wrote:</p>
          <blockquote>
              <p>Well somewhere you’ve gone outside a limit by using that command…<br>
But i do remember having a problem like this once…<br>
search for this</p>
<pre><code class="lang-auto">public static final int bufferSize = </code></pre>
<p>and whats the amount?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/packet-problem/198243/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/packet-problem/198243/4</link>
        <pubDate>Thu, 10 Apr 2008 14:39:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-198243-4</guid>
        <source url="https://forum.moparisthebest.com/t/packet-problem/198243.rss">Packet Problem</source>
      </item>
      <item>
        <title>Packet Problem</title>
        <dc:creator><![CDATA[@hot_server hot server]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/hot_server">@hot_server</a> wrote:</p>
          <blockquote>
              <p>I’m using priffindas and ::train jail<br>
why do you ask?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/packet-problem/198243/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/packet-problem/198243/3</link>
        <pubDate>Thu, 10 Apr 2008 14:32:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-198243-3</guid>
        <source url="https://forum.moparisthebest.com/t/packet-problem/198243.rss">Packet Problem</source>
      </item>
      <item>
        <title>Packet Problem</title>
        <dc:creator><![CDATA[@surfer25 surfer25]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/surfer25">@surfer25</a> wrote:</p>
          <blockquote>
              <p>What co-ords are you using for the tele?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/packet-problem/198243/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/packet-problem/198243/2</link>
        <pubDate>Thu, 10 Apr 2008 14:30:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-198243-2</guid>
        <source url="https://forum.moparisthebest.com/t/packet-problem/198243.rss">Packet Problem</source>
      </item>
      <item>
        <title>Packet Problem</title>
        <dc:creator><![CDATA[@hot_server hot server]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/hot_server">@hot_server</a> wrote:</p>
          <blockquote>
              <p>Okay, Thanks for reading, Here’s my problem:</p>
<p>I recetly used a ::jail command for my server this is what come up:</p>
<pre><code class="lang-auto">[client-1-staff]: playerCommand: jailstaff
java.lang.ArrayIndexOutOfBoundsException: -1
        at client.customCommand(client.java:10125)
        at client.parseIncomingPackets(client.java:21794)
        at client.packetProcess(client.java:17435)
        at client.packetSending(client.java:17404)
        at PlayerHandler.process(PlayerHandler.java:138)
        at server.main(server.java:53)
pimpscape Server [fatal] - exception</code></pre>
<p>So I thought to myself, It doesn’t matter, I don’t need it anyway</p>
<p>Then i just tried to move czar’s shops!</p>
<p>Now I got this error</p>
<p><code>java.lang.ArrayIndexOutOfBoundsException: -69
        at client.customCommand(client.java:10125)
        at client.parseIncomingPackets(client.java:21794)
        at client.packetProcess(client.java:17435)
        at client.packetSending(client.java:17404)
        at PlayerHandler.process(PlayerHandler.java:138)
        at server.main(server.java:53)
pimpscape Server [fatal] - exception</code></p>
<p>I really need help on this and don’t really understand the packet’s<br>
So i wondered if you could help</p>
<p>here’s the line indicated and then the void it’s pointed to!</p>
<p>[code]public boolean packetSending() { //Ringer24: this is used for sending packets<br>
return packetProcess();<br>
}</p>
<pre><code>private boolean packetProcess() {
	if(disconnected) return false;
	try {
		if(timeOutCounter++ &gt; 20) {
			actionReset();
			saveStats();
			disconnected = true;
			return false;  }

		if(in == null) return false;

		int avail = in.available();
		if(avail == 0) return false;
		if(packetType == -1) {
			packetType = in.read() &amp; 0xff;
			if(inStreamDecryption != null)
				packetType = packetType - inStreamDecryption.getNextKey() &amp; 0xff;
			packetSize = packetSizes[packetType];
			avail--;  }
		if(packetSize == -1) {
			if(avail &gt; 0) {
				packetSize = in.read() &amp; 0xff;
				avail--; }
			else return false; }
		if(avail &lt; packetSize) return false;
		fillInStream(packetSize);
        timeOutCounter = 0;

		parseIncomingPackets();	
		packetType = -1;
	} catch(java.lang.Exception __ex) {	__ex.printStackTrace();  disconnected = true;
              System.out.println("pimpscape Server [fatal] - exception"); }
	return true;
}[/code]
</code></pre>
<p>Thanks alot!<br>
Really helpful<br>
Keep in mind i do have 40 rep <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>~Pride</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/packet-problem/198243/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/packet-problem/198243/1</link>
        <pubDate>Thu, 10 Apr 2008 14:15:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-198243-1</guid>
        <source url="https://forum.moparisthebest.com/t/packet-problem/198243.rss">Packet Problem</source>
      </item>
  </channel>
</rss>
