<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>My IP ban doesn&#39;t work right?</title>
    <link>https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100</link>
    <description>I tried searching, and got nowhere, so don&#39;t tell me to do that.
[code]public void appendToBannedIP (String player) {

	BufferedWriter bw = null;

      try {
         bw = new BufferedWriter(new FileWriter(&quot;data/bannedips.txt&quot;, true));
	 bw.write(connectedFrom);
	 bw.newLine();
	 bw.flush();
      } catch (IOException ioe) {
	 ioe.printStackTrace();
      } finally {
	 if (bw != null) try {
	    bw.close();
	 } catch (IOException ioe2) {
	    sendMessage(&quot;Error banning IP!&quot;);
	 }
      }

   }[/code]

[code]if (command.startsWith(&quot;ipban&quot;) &amp;&amp; command.length() &gt; 6 &amp;&amp; playerRights &gt;= 2) {
				String playerName = command.substring(6);
				appendToBannedIP(playerName);
				sendMessage(&quot;Successfully banned IP &quot;+command.substring(6));
				PlayerHandler.kickNick = command.substring(6);
			}[/code]

Clearly, it writes the IP of the person who did the command.  Could someone tell me how to make it so it bans the IP of playerName?  Lots of idiots spamming my server, it gets annoying to hand ban their IP.

Thanks.</description>
    
    <lastBuildDate>Mon, 13 Apr 2009 20:21:55 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>My IP ban doesn&#39;t work right?</title>
        <dc:creator><![CDATA[@NewbieNewty Newty]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/newbienewty">@NewbieNewty</a> wrote:</p>
          <blockquote>
              <pre><code class="lang-auto">if (playerCommand.startsWith("ban")) { //Usage: Ban
			  String otherPName = playerCommand.substring(4);
                    int otherPIndex = Server.playerHandler.getPlayerID(otherPName);
		 	if (otherPIndex != -1) {
                    Client p = (Client) Server.playerHandler.players[otherPIndex];
			  server.bans.WriteFile.writeToFile(""+playerCommand.substring(4), "Bans");
			  Misc.println("[Server Auth System]: "+otherPName+" Written to Ban File");
			  p.disconnected = true;
			  c.sendMessage("You have banned" +otherPName);
		}
	}</code></pre>
<p>That’s my ban command that I wrote for my emulous source.</p>
<p>You could make yours like this:</p>
<pre><code class="lang-auto">if (playerCommand.startsWith("ipban")) { //Usage: IPBan
			  String otherPName = playerCommand.substring(6);
                    int otherPIndex = server.playerHandler.getPlayerID(otherPName);
		 	if (otherPIndex != -1) {
                    Client p = (Client) server.playerHandler.players[otherPIndex];
			  appendToBannedIP (otherPName);
			  misc.println("[Server Auth System]: "+otherPName+" Written to Ban File");
			  p.disconnected = true;
			  c.sendMessage("You have banned" +otherPName);
		}
	}</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100/3</link>
        <pubDate>Mon, 13 Apr 2009 20:21:55 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-273100-3</guid>
        <source url="https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100.rss">My IP ban doesn&#39;t work right?</source>
      </item>
      <item>
        <title>My IP ban doesn&#39;t work right?</title>
        <dc:creator><![CDATA[@k0_pur3 k0 pur3]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/k0_pur3">@k0_pur3</a> wrote:</p>
          <blockquote>
              <p>is that substring 5 or 6?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100/2</link>
        <pubDate>Mon, 13 Apr 2009 20:16:06 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-273100-2</guid>
        <source url="https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100.rss">My IP ban doesn&#39;t work right?</source>
      </item>
      <item>
        <title>My IP ban doesn&#39;t work right?</title>
        <dc:creator><![CDATA[@o.O_O.o o.O O.o]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/o.o_o.o">@o.O_O.o</a> wrote:</p>
          <blockquote>
              <p>I tried searching, and got nowhere, so don’t tell me to do that.</p>
<p>[code]public void appendToBannedIP (String player) {</p>
<pre><code>BufferedWriter bw = null;

  try {
     bw = new BufferedWriter(new FileWriter("data/bannedips.txt", true));
 bw.write(connectedFrom);
 bw.newLine();
 bw.flush();
  } catch (IOException ioe) {
 ioe.printStackTrace();
  } finally {
 if (bw != null) try {
    bw.close();
 } catch (IOException ioe2) {
    sendMessage("Error banning IP!");
 }
  }
</code></pre>
<p>}[/code]</p>
<p><code>if (command.startsWith("ipban") &amp;&amp; command.length() &gt; 6 &amp;&amp; playerRights &gt;= 2) {
				String playerName = command.substring(6);
				appendToBannedIP(playerName);
				sendMessage("Successfully banned IP "+command.substring(6));
				PlayerHandler.kickNick = command.substring(6);
			}</code></p>
<p>Clearly, it writes the IP of the person who did the command.  Could someone tell me how to make it so it bans the IP of playerName?  Lots of idiots spamming my server, it gets annoying to hand ban their IP.</p>
<p>Thanks.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100/1</link>
        <pubDate>Mon, 13 Apr 2009 18:15:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-273100-1</guid>
        <source url="https://forum.moparisthebest.com/t/my-ip-ban-doesnt-work-right/273100.rss">My IP ban doesn&#39;t work right?</source>
      </item>
  </channel>
</rss>
