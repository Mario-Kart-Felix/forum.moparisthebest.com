<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/c-programming-question/200551 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 15:42:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>C programming question - General Programming - moparisthebest.com</title>
    <meta name="description" content="hello well i have a problem. I was trying to pass a dynamic array well i figured out its impossible to make a dynamic array without pointers. Like for example 

int pos = 4; int size = 27+(pos/2); char Test[size];    &amp;lt;- &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="200551.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;C programming question&#39;" href="200551.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/c-programming-question/200551" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/c-programming-question/200551" />
<meta property="og:title" content="C programming question" />
<meta name="twitter:title" content="C programming question" />
<meta property="og:description" content="hello  well i have a problem. I was trying to pass a dynamic array well i figured out its impossible to make a dynamic array without pointers. Like for example  int pos = 4;  int size = 27+(pos/2);  char Test[size];    &lt;- that will give compiler error saying it has to be a const.  so well I did it by the book with pointers  char* Test= (char*) malloc (size);  or javaish like  char* Test = new char[size];  anyways I can’t figure out how to do a sizeof() on a pointer array?? cuz everytime I do it ..." />
<meta name="twitter:description" content="hello  well i have a problem. I was trying to pass a dynamic array well i figured out its impossible to make a dynamic array without pointers. Like for example  int pos = 4;  int size = 27+(pos/2);  char Test[size];    &lt;- that will give compiler error saying it has to be a const.  so well I did it by the book with pointers  char* Test= (char*) malloc (size);  or javaish like  char* Test = new char[size];  anyways I can’t figure out how to do a sizeof() on a pointer array?? cuz everytime I do it ..." />
<meta property="article:published_time" content="2008-04-17T02:56:33+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="200551.html">C programming question</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bakatool.html'><span itemprop='name'>bakatool</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-04-17T02:56:33Z'>
            <time itemprop='dateModified' datetime='2016-07-30T21:58:35Z' class='post-time'>
              July 30, 2016,  9:58pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>hello<br>
well i have a problem. I was trying to pass a dynamic array well i figured out its impossible to make a dynamic array without pointers. Like for example</p>
<p>int pos = 4;<br>
int size = 27+(pos/2);<br>
char Test[size];    &lt;- that will give compiler error saying it has to be a const.</p>
<p>so well I did it by the book with pointers</p>
<p>char* Test= (char*) malloc (size);<br>
or javaish like<br>
char* Test = new char[size];</p>
<p>anyways I can’t figure out how to do a sizeof() on a pointer array?? cuz everytime I do it the return is always the same 4… as in address length so I dont know what to do without saving the size of it in another int  but I don’t want to do that because I want to pass it to a header file to be processed by another function so in this case there is no way that other function will know the size of the array this is being ran on a _beginthread so it could mess up if size is in a bad delay with the array.</p>
<p>anyway to get size of dynamic array without saving it to a variable? ye i googled the problem  can’t find anything I don’t im searching google for my problem correctly. k…</p>
      </div>

      <meta itemprop='headline' content='C programming question'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zstars.html'><span itemprop='name'>zstars</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-04-17T03:31:40Z'>
            <time itemprop='dateModified' datetime='2016-07-30T21:58:43Z' class='post-time'>
              July 30, 2016,  9:58pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>There is no built-in way of obtaining the size of a dynamic array.<br>
If your function takes a dynamic array as a parameter, you will also need to pass it the length as a different parameter.</p>
<p>However, using dynamic arrays and passing them around is usually not the best idea, unless there is no alternative (due to real and proven speed requirements or interfacing with a C API)</p>
<p>It is important to realize that C and C++ are different languages. If you were really using C, you wouldn’t be able to allocate memory through new[] because it is a C++ operator. And if you are using C++ (And you seem to be) you should avoid malloc, and restrain yourself from using pointers or op. new if there is an alternative.</p>
<p>In your case you should most likely use a std::string, or an std::vector.</p>
<p>Internally, a vector is basically just like a dynamic array which also contains a variable with its own length.</p>
<p>Edit: *If the string is null terminated you can obtain the length by iterating through (or which is the same, using legacy function strlen) it till you find the null character. Obviously, this is not only inefficient (as it requires linear time), but unsafe, as if there is no null character the buffer will overflow and the program’s behaviour will be undefined.</p>
      </div>

      <meta itemprop='headline' content='C programming question'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bakatool.html'><span itemprop='name'>bakatool</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-04-17T04:18:07Z'>
            <time itemprop='dateModified' datetime='2016-07-30T21:59:01Z' class='post-time'>
              July 30, 2016,  9:59pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yah i tried strlen its useless if first byte is 00 it will stop there</p>
      </div>

      <meta itemprop='headline' content='C programming question'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/frank.html'><span itemprop='name'>frank</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-04-22T05:40:56Z'>
            <time itemprop='dateModified' datetime='2016-07-30T22:07:48Z' class='post-time'>
              July 30, 2016, 10:07pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>if holding onto the length of an array separately is too much a hassle for you, you could always make your own struct</p>
<p>maybe something like</p>
<p><code>typedef struct
{
  size_t length;
  void* data;
} arrrrrrrrrrray;</code></p>
<p>note: i stopped reading about a third of the way through zstars’ post because he is preaching</p>
      </div>

      <meta itemprop='headline' content='C programming question'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Sensored3.html'><span itemprop='name'>Sensored3</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2008-04-22T06:01:21Z'>
            <time itemprop='dateModified' datetime='2016-07-30T22:07:49Z' class='post-time'>
              July 30, 2016, 10:07pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>sizeof() is kinda a compile time thing. if you want to get the length of the array, you’re going to have to do something else.<br>
using a vector would be nice, but thats C++, not C.</p>
      </div>

      <meta itemprop='headline' content='C programming question'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/c-programming-question/200551 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 15:42:36 GMT -->
</html>
