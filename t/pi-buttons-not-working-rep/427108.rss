<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Buttons not working.. REP++ :)</title>
    <link>https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108</link>
    <description>Okay, so been having this problem for 2 days near enough now, and tried a few different things, however, can&#39;t seem to get it to work..

Basically theres a custom interface I&#39;ve got, which works fine if you open the interface through typing ::reward.

But doesn&#39;t when I add this into my &#39;client.java&#39; - just under my &#39;public void initialize() {&#39; So that it opens upon startup (If you&#39;ve voted, if not, it will display a message saying &#39;You haven&#39;t voted yet&#39;). 

[code=java]
	public void initialize() {
			if(checkVotes(playerName)) {
				getPA().showInterface(19050);
			} else {
            	sendMessage(&quot;You haven&#39;t voted yet!&quot;);
				}
[/code]

... Which makes me think that something isn&#39;t right in my &#39;clickingbuttons.java&#39; (Possibly a statement or string?)

However, I&#39;m fairly new to Java coding independantly, so not quite sure how I&#39;d go about changing this (in order to get it working..) 

My clickingbuttons.java code/cases for the interface:
[code=java]
                        case 74111:
                        if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &gt;= 1) {
                                c.getItems().addItem(995,5000000);
                                c.startAnimation(3543);
                                c.sendMessage(&quot;Your receive 5M cash! Thank you for voting!&quot;);
                                c.getPA().closeAllWindows();
                                c.checkVotes = 0;
                        } else if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &lt;= 1) {
                                Server.itemHandler.createGroundItem(c, 995, c.getX(), c.getY(), 5000000, c.getId());                                            c.startAnimation(3543);
                                c.sendMessage(&quot;Your inventory is full, the item appears on the ground.&quot;);
                                c.sendMessage(&quot;Your receive 5M cash! Thank you for voting!&quot;);
                                c.getPA().closeAllWindows();
                                c.checkVotes = 0;
                        } else if (c.vote2 ==1) {
                        }
                        break;
			case 74108:
			if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &gt;= 1) {
				c.getItems().addItem(c.randomreward2(),1);
               			c.startAnimation(3543);
				c.sendMessage(&quot;Your receive a miscellaneous reward! Thank you for voting!&quot;);
				c.getPA().closeAllWindows();
				c.checkVotes = 0;
			} else if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &lt;= 1) {
				Server.itemHandler.createGroundItem(c, c.miscpackage1(), c.getX(), c.getY(), 1, c.getId());               		c.startAnimation(3543);
				c.sendMessage(&quot;Your inventory is full, the item appears on the ground.&quot;);
				c.sendMessage(&quot;Your receive a miscellaneous reward! Thank you for voting!&quot;);
				c.getPA().closeAllWindows();
				c.checkVotes = 0;
			} else if (c.vote2 ==1) {
			}
			break;
[/code]


I also added this into my client.java (Im using the Votes4cash system)
[code=java]
	public boolean checkVotes(String playerName) {
                try {
                        String urlString = &quot;http://waltzscape.co.uk/vote.php?type=checkvote&amp;username=&quot;+playerName;
                        urlString = urlString.replaceAll(&quot; &quot;, &quot;%20&quot;);
                        URL url = new URL(urlString);
                        BufferedReader reader = new BufferedReader(new InputStreamReader(url.openStream()));
                        String results = reader.readLine();
                        if(results.length() &gt; 0) {
                                if(results.equals(&quot;User needs reward.&quot;))
                                        return true;
                                else
                                        return false;
                        }
                } catch (MalformedURLException e) {
                        System.out.println(&quot;Malformed URL Exception in checkVotes(String playerName)&quot;);
                } catch (IOException e) {
                        System.out.println(&quot;IO Exception in checkVotes(String playerName)&quot;);
                }
                return false;
        }
[/code]


I would appreciate it if someone could read through this carefully and try to find out what I&#39;m doing wrong.

Thanks in advance :) 
- Casey.</description>
    
    <lastBuildDate>Thu, 29 Dec 2011 16:31:15 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Buttons not working.. REP++ :)</title>
        <dc:creator><![CDATA[@Kayceee Kayceee]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kayceee">@Kayceee</a> wrote:</p>
          <blockquote>
              <p>[quote=“sk8rdude461, post:5, topic:427108”]<code>                        if (playerCommand.equalsIgnoreCase("reward")) {
                                if (c.vote == 1) {
                                        c.getPA().showInterface(19050);
                                } else if (c.vote == 0) {
                                                c.sendMessage("You haven't voted yet!");
                                }
                        }</code></p>
<p>That’s it I found it…</p>
<p><code>        public void initialize() {
                        if(checkVotes(playerName)) {
                                getPA().showInterface(19050);
                        } else {
                sendMessage("You haven't voted yet!");
                                }</code><br>
You call checkVotes to attempt to check their votes and if they have it the interface will show. When really you should be doing this:</p>
<p><code>public void initialize() {
                        if (c.vote == 1){
                                getPA().showInterface(19050);
                        } else {
                sendMessage("You haven't voted yet!");
                                }</code><br>
checkVotes it was checks the votes on the website, I don’t see why you tried calling it upon log-in.[/quote]</p>
<p>Fabulous! Took a little bit of modifying, but managed to get it pretty much working now, basically I can only manually change the players ‘vote = 0’ to ‘vote = 1’ so I need to rewrite/modify some code so that it writes the players vote status to 1, however, not too sure how I’m going to go about doing that, as the tutorial I followed didn’t include one of them, it was all done through phpmyAdmin.</p>
<p>However, thanks a lot for your time! Much appreciated.<br>
If you have any spare time and want to help me out with writing the players vote status to 1 after they’ve voted, feel free haha!</p>
<p>REP++!</p>
<p>Oh and, I had to call it upon login pretty much because its an interface with options that only loads (IF) you’ve voted, you’ve got to log out and in again for the character-file to be updated, therefore it wouldn’t work instantly <img src="https://forum.moparisthebest.com/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p><img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/6</link>
        <pubDate>Thu, 29 Dec 2011 16:31:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427108-6</guid>
        <source url="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108.rss">[PI] Buttons not working.. REP++ :)</source>
      </item>
      <item>
        <title>[PI] Buttons not working.. REP++ :)</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p><code>                        if (playerCommand.equalsIgnoreCase("reward")) {
                                if (c.vote == 1) {
                                        c.getPA().showInterface(19050);
                                } else if (c.vote == 0) {
                                                c.sendMessage("You haven't voted yet!");
                                }
                        }</code></p>
<p>That’s it I found it…</p>
<p><code>        public void initialize() {
                        if(checkVotes(playerName)) {
                                getPA().showInterface(19050);
                        } else {
                sendMessage("You haven't voted yet!");
                                }</code><br>
You call checkVotes to attempt to check their votes and if they have it the interface will show. When really you should be doing this:</p>
<p><code>public void initialize() {
                        if (c.vote == 1){
                                getPA().showInterface(19050);
                        } else {
                sendMessage("You haven't voted yet!");
                                }</code><br>
checkVotes it was checks the votes on the website, I don’t see why you tried calling it upon log-in.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/5</link>
        <pubDate>Thu, 29 Dec 2011 01:09:32 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427108-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108.rss">[PI] Buttons not working.. REP++ :)</source>
      </item>
      <item>
        <title>[PI] Buttons not working.. REP++ :)</title>
        <dc:creator><![CDATA[@Kayceee Kayceee]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kayceee">@Kayceee</a> wrote:</p>
          <blockquote>
              <p>[quote=“sk8rdude461, post:3, topic:427108”]What’s the command you use when you set the interface through ::redeem<br>
Because I think I see an error. but I’m not sure[/quote]</p>
<p>If you have, I will genuinely kiss you…</p>
<pre><code class="lang-auto">			if (playerCommand.equalsIgnoreCase("reward")) {
				if (c.vote == 1) {
					c.getPA().showInterface(19050);
				} else if (c.vote == 0) {
            					c.sendMessage("You haven't voted yet!");
				}
			}</code></pre>
<p>EDIT:<br>
Forgot to mention…</p>
<p>The ::reward command is linked to the OLD voting system, so I’m trying to get rid of it, I just kept it because I knew something wouldn’t work, so thought I could use it as a reference to try and diagnose the problem.</p>
<p>I’ve even managed to confuse myself now <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=6" title=":confused:" class="emoji" alt=":confused:">!</p>
<p>Basically, I followed this tut:<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://forum.moparisthebest.com/uploads/default/original/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a.png" class="site-icon" width="32" height="32">
      <a href="https://forum.moparisthebest.com/" target="_blank">moparisthebest.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" class="thumbnail onebox-avatar" width="500" height="500">

<h3><a href="https://forum.moparisthebest.com/" target="_blank">moparisthebest.com</a></h3>

<p>programming, irc, cars</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>but have changed this section of it:</p>
<pre><code class="lang-auto">                        if(checkVotes(playerName)) {
                                getItems().addItem(995, 10000000);
                                sendMessage("Thanks for voting!");
                        }</code></pre>
<p>to:</p>
<pre><code class="lang-auto">                        if(checkVotes(playerName)) {
                                getPA().showInterface(19050);
                        } else {
                sendMessage("You haven't voted yet!");
                                }</code></pre>
<p>Hopefully it makes a bit more sense to you now?  <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=6" title=":confused:" class="emoji" alt=":confused:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/4</link>
        <pubDate>Thu, 29 Dec 2011 00:45:23 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427108-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108.rss">[PI] Buttons not working.. REP++ :)</source>
      </item>
      <item>
        <title>[PI] Buttons not working.. REP++ :)</title>
        <dc:creator><![CDATA[@sk8rdude461 sk8rdude461]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/sk8rdude461">@sk8rdude461</a> wrote:</p>
          <blockquote>
              <p>What’s the command you use when you set the interface through ::redeem<br>
Because I think I see an error. but I’m not sure</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/3</link>
        <pubDate>Thu, 29 Dec 2011 00:09:53 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427108-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108.rss">[PI] Buttons not working.. REP++ :)</source>
      </item>
      <item>
        <title>[PI] Buttons not working.. REP++ :)</title>
        <dc:creator><![CDATA[@Kayceee Kayceee]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kayceee">@Kayceee</a> wrote:</p>
          <blockquote>
              <p>Yeah, as it works for ::reward, but not when I code it into my client.java, makes me think that a statement isn’t right somewhere…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/2</link>
        <pubDate>Wed, 28 Dec 2011 21:56:35 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427108-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108.rss">[PI] Buttons not working.. REP++ :)</source>
      </item>
      <item>
        <title>[PI] Buttons not working.. REP++ :)</title>
        <dc:creator><![CDATA[@Kayceee Kayceee]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kayceee">@Kayceee</a> wrote:</p>
          <blockquote>
              <p>Okay, so been having this problem for 2 days near enough now, and tried a few different things, however, can’t seem to get it to work…</p>
<p>Basically theres a custom interface I’ve got, which works fine if you open the interface through typing ::reward.</p>
<p>But doesn’t when I add this into my ‘client.java’ - just under my ‘public void initialize() {’ So that it opens upon startup (If you’ve voted, if not, it will display a message saying ‘You haven’t voted yet’).</p>
<pre><code class="lang-auto">	public void initialize() {
			if(checkVotes(playerName)) {
				getPA().showInterface(19050);
			} else {
            	sendMessage("You haven't voted yet!");
				}</code></pre>
<p>… Which makes me think that something isn’t right in my ‘clickingbuttons.java’ (Possibly a statement or string?)</p>
<p>However, I’m fairly new to Java coding independantly, so not quite sure how I’d go about changing this (in order to get it working…)</p>
<p>My clickingbuttons.java code/cases for the interface:</p>
<pre><code class="lang-auto">                        case 74111:
                        if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &gt;= 1) {
                                c.getItems().addItem(995,5000000);
                                c.startAnimation(3543);
                                c.sendMessage("Your receive 5M cash! Thank you for voting!");
                                c.getPA().closeAllWindows();
                                c.checkVotes = 0;
                        } else if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &lt;= 1) {
                                Server.itemHandler.createGroundItem(c, 995, c.getX(), c.getY(), 5000000, c.getId());                                            c.startAnimation(3543);
                                c.sendMessage("Your inventory is full, the item appears on the ground.");
                                c.sendMessage("Your receive 5M cash! Thank you for voting!");
                                c.getPA().closeAllWindows();
                                c.checkVotes = 0;
                        } else if (c.vote2 ==1) {
                        }
                        break;
			case 74108:
			if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &gt;= 1) {
				c.getItems().addItem(c.randomreward2(),1);
               			c.startAnimation(3543);
				c.sendMessage("Your receive a miscellaneous reward! Thank you for voting!");
				c.getPA().closeAllWindows();
				c.checkVotes = 0;
			} else if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &lt;= 1) {
				Server.itemHandler.createGroundItem(c, c.miscpackage1(), c.getX(), c.getY(), 1, c.getId());               		c.startAnimation(3543);
				c.sendMessage("Your inventory is full, the item appears on the ground.");
				c.sendMessage("Your receive a miscellaneous reward! Thank you for voting!");
				c.getPA().closeAllWindows();
				c.checkVotes = 0;
			} else if (c.vote2 ==1) {
			}
			break;</code></pre>
<p>I also added this into my client.java (Im using the Votes4cash system)</p>
<pre><code class="lang-auto">	public boolean checkVotes(String playerName) {
                try {
                        String urlString = "http://waltzscape.co.uk/vote.php?type=checkvote&amp;username="+playerName;
                        urlString = urlString.replaceAll(" ", "%20");
                        URL url = new URL(urlString);
                        BufferedReader reader = new BufferedReader(new InputStreamReader(url.openStream()));
                        String results = reader.readLine();
                        if(results.length() &gt; 0) {
                                if(results.equals("User needs reward."))
                                        return true;
                                else
                                        return false;
                        }
                } catch (MalformedURLException e) {
                        System.out.println("Malformed URL Exception in checkVotes(String playerName)");
                } catch (IOException e) {
                        System.out.println("IO Exception in checkVotes(String playerName)");
                }
                return false;
        }</code></pre>
<p>I would appreciate it if someone could read through this carefully and try to find out what I’m doing wrong.</p>
<p>Thanks in advance <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<ul>
<li>Casey.</li>
</ul>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108/1</link>
        <pubDate>Wed, 28 Dec 2011 21:43:09 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-427108-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108.rss">[PI] Buttons not working.. REP++ :)</source>
      </item>
  </channel>
</rss>
