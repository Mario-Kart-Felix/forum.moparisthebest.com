<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 15:56:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PI] Buttons not working.. REP++ :) - Runescape - moparisthebest.com</title>
    <meta name="description" content="Okay, so been having this problem for 2 days near enough now, and tried a few different things, however, can&amp;#39;t seem to get it to work.. 

Basically theres a custom interface I&amp;#39;ve got, which works fine if you open the int&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="427108.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PI] Buttons not working.. REP++ :)&#39;" href="427108.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108" />
<meta property="og:title" content="[PI] Buttons not working.. REP++ :)" />
<meta name="twitter:title" content="[PI] Buttons not working.. REP++ :)" />
<meta property="og:description" content="Okay, so been having this problem for 2 days near enough now, and tried a few different things, however, can’t seem to get it to work…  Basically theres a custom interface I’ve got, which works fine if you open the interface through typing ::reward.  But doesn’t when I add this into my ‘client.java’ - just under my ‘public void initialize() {’ So that it opens upon startup (If you’ve voted, if not, it will display a message saying ‘You haven’t voted yet’).  	public void initialize() { 			if(chec..." />
<meta name="twitter:description" content="Okay, so been having this problem for 2 days near enough now, and tried a few different things, however, can’t seem to get it to work…  Basically theres a custom interface I’ve got, which works fine if you open the interface through typing ::reward.  But doesn’t when I add this into my ‘client.java’ - just under my ‘public void initialize() {’ So that it opens upon startup (If you’ve voted, if not, it will display a message saying ‘You haven’t voted yet’).  	public void initialize() { 			if(chec..." />
<meta property="article:published_time" content="2011-12-28T21:43:09+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="427108.html">[PI] Buttons not working.. REP++ :)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kayceee.html'><span itemprop='name'>Kayceee</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-28T21:43:09Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:52:01Z' class='post-time'>
              August 2, 2016,  2:52pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Okay, so been having this problem for 2 days near enough now, and tried a few different things, however, can’t seem to get it to work…</p>
<p>Basically theres a custom interface I’ve got, which works fine if you open the interface through typing ::reward.</p>
<p>But doesn’t when I add this into my ‘client.java’ - just under my ‘public void initialize() {’ So that it opens upon startup (If you’ve voted, if not, it will display a message saying ‘You haven’t voted yet’).</p>
<pre><code class="lang-auto">	public void initialize() {
			if(checkVotes(playerName)) {
				getPA().showInterface(19050);
			} else {
            	sendMessage("You haven't voted yet!");
				}</code></pre>
<p>… Which makes me think that something isn’t right in my ‘clickingbuttons.java’ (Possibly a statement or string?)</p>
<p>However, I’m fairly new to Java coding independantly, so not quite sure how I’d go about changing this (in order to get it working…)</p>
<p>My clickingbuttons.java code/cases for the interface:</p>
<pre><code class="lang-auto">                        case 74111:
                        if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &gt;= 1) {
                                c.getItems().addItem(995,5000000);
                                c.startAnimation(3543);
                                c.sendMessage("Your receive 5M cash! Thank you for voting!");
                                c.getPA().closeAllWindows();
                                c.checkVotes = 0;
                        } else if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &lt;= 1) {
                                Server.itemHandler.createGroundItem(c, 995, c.getX(), c.getY(), 5000000, c.getId());                                            c.startAnimation(3543);
                                c.sendMessage("Your inventory is full, the item appears on the ground.");
                                c.sendMessage("Your receive 5M cash! Thank you for voting!");
                                c.getPA().closeAllWindows();
                                c.checkVotes = 0;
                        } else if (c.vote2 ==1) {
                        }
                        break;
			case 74108:
			if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &gt;= 1) {
				c.getItems().addItem(c.randomreward2(),1);
               			c.startAnimation(3543);
				c.sendMessage("Your receive a miscellaneous reward! Thank you for voting!");
				c.getPA().closeAllWindows();
				c.checkVotes = 0;
			} else if (c.checkVotes == 1 &amp;&amp; c.getItems().freeSlots() &lt;= 1) {
				Server.itemHandler.createGroundItem(c, c.miscpackage1(), c.getX(), c.getY(), 1, c.getId());               		c.startAnimation(3543);
				c.sendMessage("Your inventory is full, the item appears on the ground.");
				c.sendMessage("Your receive a miscellaneous reward! Thank you for voting!");
				c.getPA().closeAllWindows();
				c.checkVotes = 0;
			} else if (c.vote2 ==1) {
			}
			break;</code></pre>
<p>I also added this into my client.java (Im using the Votes4cash system)</p>
<pre><code class="lang-auto">	public boolean checkVotes(String playerName) {
                try {
                        String urlString = "http://waltzscape.co.uk/vote.php?type=checkvote&amp;username="+playerName;
                        urlString = urlString.replaceAll(" ", "%20");
                        URL url = new URL(urlString);
                        BufferedReader reader = new BufferedReader(new InputStreamReader(url.openStream()));
                        String results = reader.readLine();
                        if(results.length() &gt; 0) {
                                if(results.equals("User needs reward."))
                                        return true;
                                else
                                        return false;
                        }
                } catch (MalformedURLException e) {
                        System.out.println("Malformed URL Exception in checkVotes(String playerName)");
                } catch (IOException e) {
                        System.out.println("IO Exception in checkVotes(String playerName)");
                }
                return false;
        }</code></pre>
<p>I would appreciate it if someone could read through this carefully and try to find out what I’m doing wrong.</p>
<p>Thanks in advance <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<ul>
<li>Casey.</li>
</ul>
      </div>

      <meta itemprop='headline' content='[PI] Buttons not working.. REP++ :)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kayceee.html'><span itemprop='name'>Kayceee</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-28T21:56:35Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:52:02Z' class='post-time'>
              August 2, 2016,  2:52pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeah, as it works for ::reward, but not when I code it into my client.java, makes me think that a statement isn’t right somewhere…</p>
      </div>

      <meta itemprop='headline' content='[PI] Buttons not working.. REP++ :)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-29T00:09:53Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:52:12Z' class='post-time'>
              August 2, 2016,  2:52pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What’s the command you use when you set the interface through ::redeem<br>
Because I think I see an error. but I’m not sure</p>
      </div>

      <meta itemprop='headline' content='[PI] Buttons not working.. REP++ :)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kayceee.html'><span itemprop='name'>Kayceee</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-29T00:45:23Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:52:15Z' class='post-time'>
              August 2, 2016,  2:52pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:3, topic:427108”]What’s the command you use when you set the interface through ::redeem<br>
Because I think I see an error. but I’m not sure[/quote]</p>
<p>If you have, I will genuinely kiss you…</p>
<pre><code class="lang-auto">			if (playerCommand.equalsIgnoreCase("reward")) {
				if (c.vote == 1) {
					c.getPA().showInterface(19050);
				} else if (c.vote == 0) {
            					c.sendMessage("You haven't voted yet!");
				}
			}</code></pre>
<p>EDIT:<br>
Forgot to mention…</p>
<p>The ::reward command is linked to the OLD voting system, so I’m trying to get rid of it, I just kept it because I knew something wouldn’t work, so thought I could use it as a reference to try and diagnose the problem.</p>
<p>I’ve even managed to confuse myself now <img src="../../images/emoji/twitter/confused1bce.png?v=6" title=":confused:" class="emoji" alt=":confused:">!</p>
<p>Basically, I followed this tut:<br>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="../../uploads/default/original/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a.png" class="site-icon" width="32" height="32">
      <a href="../../index.html" target="_blank">moparisthebest.com</a>
  </header>
  <article class="onebox-body">
    <img src="../../uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" class="thumbnail onebox-avatar" width="500" height="500">

<h3><a href="../../index.html" target="_blank">moparisthebest.com</a></h3>

<p>programming, irc, cars</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>
<p>but have changed this section of it:</p>
<pre><code class="lang-auto">                        if(checkVotes(playerName)) {
                                getItems().addItem(995, 10000000);
                                sendMessage("Thanks for voting!");
                        }</code></pre>
<p>to:</p>
<pre><code class="lang-auto">                        if(checkVotes(playerName)) {
                                getPA().showInterface(19050);
                        } else {
                sendMessage("You haven't voted yet!");
                                }</code></pre>
<p>Hopefully it makes a bit more sense to you now?  <img src="../../images/emoji/twitter/confused1bce.png?v=6" title=":confused:" class="emoji" alt=":confused:"></p>
      </div>

      <meta itemprop='headline' content='[PI] Buttons not working.. REP++ :)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-29T01:09:32Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:52:16Z' class='post-time'>
              August 2, 2016,  2:52pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>                        if (playerCommand.equalsIgnoreCase("reward")) {
                                if (c.vote == 1) {
                                        c.getPA().showInterface(19050);
                                } else if (c.vote == 0) {
                                                c.sendMessage("You haven't voted yet!");
                                }
                        }</code></p>
<p>That’s it I found it…</p>
<p><code>        public void initialize() {
                        if(checkVotes(playerName)) {
                                getPA().showInterface(19050);
                        } else {
                sendMessage("You haven't voted yet!");
                                }</code><br>
You call checkVotes to attempt to check their votes and if they have it the interface will show. When really you should be doing this:</p>
<p><code>public void initialize() {
                        if (c.vote == 1){
                                getPA().showInterface(19050);
                        } else {
                sendMessage("You haven't voted yet!");
                                }</code><br>
checkVotes it was checks the votes on the website, I don’t see why you tried calling it upon log-in.</p>
      </div>

      <meta itemprop='headline' content='[PI] Buttons not working.. REP++ :)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kayceee.html'><span itemprop='name'>Kayceee</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2011-12-29T16:31:15Z'>
            <time itemprop='dateModified' datetime='2016-08-02T14:53:14Z' class='post-time'>
              August 2, 2016,  2:53pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:5, topic:427108”]<code>                        if (playerCommand.equalsIgnoreCase("reward")) {
                                if (c.vote == 1) {
                                        c.getPA().showInterface(19050);
                                } else if (c.vote == 0) {
                                                c.sendMessage("You haven't voted yet!");
                                }
                        }</code></p>
<p>That’s it I found it…</p>
<p><code>        public void initialize() {
                        if(checkVotes(playerName)) {
                                getPA().showInterface(19050);
                        } else {
                sendMessage("You haven't voted yet!");
                                }</code><br>
You call checkVotes to attempt to check their votes and if they have it the interface will show. When really you should be doing this:</p>
<p><code>public void initialize() {
                        if (c.vote == 1){
                                getPA().showInterface(19050);
                        } else {
                sendMessage("You haven't voted yet!");
                                }</code><br>
checkVotes it was checks the votes on the website, I don’t see why you tried calling it upon log-in.[/quote]</p>
<p>Fabulous! Took a little bit of modifying, but managed to get it pretty much working now, basically I can only manually change the players ‘vote = 0’ to ‘vote = 1’ so I need to rewrite/modify some code so that it writes the players vote status to 1, however, not too sure how I’m going to go about doing that, as the tutorial I followed didn’t include one of them, it was all done through phpmyAdmin.</p>
<p>However, thanks a lot for your time! Much appreciated.<br>
If you have any spare time and want to help me out with writing the players vote status to 1 after they’ve voted, feel free haha!</p>
<p>REP++!</p>
<p>Oh and, I had to call it upon login pretty much because its an interface with options that only loads (IF) you’ve voted, you’ve got to log out and in again for the character-file to be updated, therefore it wouldn’t work instantly <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p><img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='[PI] Buttons not working.. REP++ :)'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-buttons-not-working-rep/427108 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 15:56:04 GMT -->
</html>
