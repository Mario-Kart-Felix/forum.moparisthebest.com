<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/methoddescriptormatcher/138837 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 17:31:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>MethodDescriptorMatcher - General Programming - moparisthebest.com</title>
    <meta name="description" content="This is a little thing I made tonight. It&amp;#39;s fucking awesome imo. I haven&amp;#39;t tested this in BCEL(which this is ported into), but it&amp;#39;s probably slower than driving through a wet spot at Palisades. Look it over though, it to&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="138837.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;MethodDescriptorMatcher&#39;" href="138837.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/methoddescriptormatcher/138837" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/methoddescriptormatcher/138837" />
<meta property="og:title" content="MethodDescriptorMatcher" />
<meta name="twitter:title" content="MethodDescriptorMatcher" />
<meta property="og:description" content="This is a little thing I made tonight. It’s fucking awesome imo. I haven’t tested this in BCEL(which this is ported into), but it’s probably slower than driving through a wet spot at Palisades. Look it over though, it took forever to work the bugs out and half of them are probably still there. Hopefully you can work out how to use it if you want to use it; it’s fairly simple. It’s definitely more easy to use in BBL because of how it works, but whatever, it’s just a bit more work on your part to ..." />
<meta name="twitter:description" content="This is a little thing I made tonight. It’s fucking awesome imo. I haven’t tested this in BCEL(which this is ported into), but it’s probably slower than driving through a wet spot at Palisades. Look it over though, it took forever to work the bugs out and half of them are probably still there. Hopefully you can work out how to use it if you want to use it; it’s fairly simple. It’s definitely more easy to use in BBL because of how it works, but whatever, it’s just a bit more work on your part to ..." />
<meta property="article:published_time" content="2007-08-31T10:41:22+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="138837.html">MethodDescriptorMatcher</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Silver_Lining.html'><span itemprop='name'>Silver_Lining</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-08-31T10:41:22Z'>
            <time itemprop='dateModified' datetime='2016-07-30T14:18:48Z' class='post-time'>
              July 30, 2016,  2:18pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This is a little thing I made tonight. It’s fucking awesome imo. I haven’t tested this in BCEL(which this is ported into), but it’s probably slower than driving through a wet spot at Palisades. Look it over though, it took forever to work the bugs out and half of them are probably still there. Hopefully you can work out <span class="bbcode-i">how</span> to use it if you want to use it; it’s fairly simple. It’s definitely more easy to use in BBL because of how it works, but whatever, it’s just a bit more work on your part to use it.[code]package com.sl.bytecode;</p>
<p>import java.util.ArrayList;</p>
<p>public class MethodDescriptorMatcher{<br>
private String return_type;<br>
private String[] arguments;<br>
private boolean is_static;<br>
public MethodDescriptorMatcher(String methodtype, String methodargs, boolean stat){<br>
return_type = new org.apache.bcel.generic.ObjectType(methodtype).getSignature();<br>
parseArgs(methodargs);<br>
is_static = stat;<br>
}</p>
<pre><code>private void parseArgs(String args){
    SpecialString s = new SpecialString(args);
    ArrayList&lt;String&gt; inttypes = s.deleteAll("byte");
    inttypes.addAll(s.deleteAll("char"));
    inttypes.addAll(s.deleteAll("short"));
    inttypes.addAll(s.deleteAll("int"));
    ArrayList&lt;String&gt; bools = s.deleteAll("boolean");
    ArrayList&lt;String&gt; floats = s.deleteAll("float");
    ArrayList&lt;String&gt; longs = s.deleteAll("long");
    ArrayList&lt;String&gt; doubles = s.deleteAll("double");
    String remaining = s.toString();
    ArrayList&lt;String&gt; objects = new ArrayList&lt;String&gt;();
    String[] sts = remaining.split(",");
    for(String st : sts)
        objects.add("L"+st.replaceAll(".", "/")+";");
    arguments = new String[inttypes.size() + bools.size() + floats.size() + longs.size() + doubles.size() + objects.size()];
    int overallindex = 0;
    for(int i = 0; i &lt; inttypes.size(); i++){
        arguments[overallindex] = "I";
        overallindex++;
    }

    for(int i = 0; i &lt; bools.size(); i++){
        arguments[overallindex] = "Z";
        overallindex++;
    }
    for(int i = 0; i &lt; floats.size(); i++){
        arguments[overallindex] = "F";
        overallindex++;
    }

    for(int i = 0; i &lt; longs.size(); i++){
        arguments[overallindex] = "J";
        overallindex++;
    }

    for(int i = 0; i &lt; doubles.size(); i++){
        arguments[overallindex] = "D";
        overallindex++;
    }

    for(int i = 0; i &lt; objects.size(); i++){
        arguments[overallindex] = "L"+objects.get(i).replaceAll(".", "/")+";";
        overallindex++;
    }
}

private class SpecialString{
    private char[] characters;
    public SpecialString(String s){
        this.characters = s.toCharArray();
    }

    public ArrayList&lt;String&gt; deleteAll(String pattern){
        String s = new String(characters);
        ArrayList&lt;String&gt; a = new ArrayList&lt;String&gt;();
        int index;
        int end;
        String temp;
        char endchar = pattern.charAt(pattern.length() - 1);
        while((index = s.indexOf(pattern)) != -1){
            end = s.substring(index + 1).indexOf(endchar) + index + 1;
            String s1 = s.substring(0, index);
            String s2 = s.substring(end + 1);
            s = s1 + s2;
            characters = s.toCharArray();
            a.add(pattern);
        }
        return a;
    }

    public void delete(String s){
        String c = new String(characters);
        int index = c.indexOf(s);
        String s1 = c.substring(0, index);
        String s2 = c.substring(index + s.length());
        characters = (s1 + s2).toCharArray();
    }

    public boolean hasSequence(String s){
        return indexOf(s) != -1;
    }

    public int indexOf(String s){
        return new String(characters).indexOf(s);
    }

    public void appendString(String s){
        characters = (new String(characters) + s).toCharArray();
    }

    public int size(){
        return characters.length;
    }

    public String toString(){
        return new String(characters);
    }
}
</code></pre>
<p>public boolean accept(org.apache.bcel.classfile.Method m){<br>
if((is_static &amp;&amp; !m.isStatic()) || (!is_static &amp;&amp; m.isStatic()))<br>
return false;<br>
return accept(m.getSignature());<br>
}</p>
<pre><code>private boolean accept(String string){
    SpecialString s = new SpecialString(string);
    String ret = string.substring(string.indexOf(")") + 1, string.length());
    if(!ret.equals(return_type)){
        //System.out.println("wrong type");
        return false;
    }
    for(String st : arguments){
        //System.out.println(st);
        if(!s.hasSequence(st)){
            if(st.equals("I")){
                if(s.hasSequence("B") || s.hasSequence("S") || s.hasSequence("C"))
                    continue;
                else
                    return false;
            }
            else{
                //System.out.println("wrong sequence: "+s+":"+st);
                return false;
            }
        }
        s.delete(st);
    }
    return true;
}

public String toString(){
    String s = "(";
    for(String st : arguments)
        s += st;
    s += ")"+return_type;
    return s + ":" + is_static;
}
</code></pre>
<p>}[/code]</p>
      </div>

      <meta itemprop='headline' content='MethodDescriptorMatcher'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/methoddescriptormatcher/138837 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 17:31:58 GMT -->
</html>
