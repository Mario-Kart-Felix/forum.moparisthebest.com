<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/java-httpclient-get-cookies/552658 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Java HttpClient get cookies - General Programming - moparisthebest.com</title>
    <meta name="description" content="I want to log in to a forum and make a post whilst logging in through a Java program. I&amp;#39;m rather new to this, but what I think I should do is: 1. HttpPost to login 2. Keep cookies 3. HttpPost to create forum post, with t&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="552658.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Java HttpClient get cookies&#39;" href="552658.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://i.stack.imgur.com/qT5Yo.png" />
<meta property="og:image" content="http://i.stack.imgur.com/qT5Yo.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658" />
<meta property="og:title" content="Java HttpClient get cookies" />
<meta name="twitter:title" content="Java HttpClient get cookies" />
<meta property="og:description" content="I want to log in to a forum and make a post whilst logging in through a Java program. I’m rather new to this, but what I think I should do is: 1. HttpPost to login 2. Keep cookies 3. HttpPost to create forum post, with the cookies I received  Using Fiddler, I saw these cookies were being sent to me when I logged into the forums:   However, when I try to receive these cookies programmatically, I get other cookies? The code I currently have:  PasteBin  The output of this code:   As you can see the..." />
<meta name="twitter:description" content="I want to log in to a forum and make a post whilst logging in through a Java program. I’m rather new to this, but what I think I should do is: 1. HttpPost to login 2. Keep cookies 3. HttpPost to create forum post, with the cookies I received  Using Fiddler, I saw these cookies were being sent to me when I logged into the forums:   However, when I try to receive these cookies programmatically, I get other cookies? The code I currently have:  PasteBin  The output of this code:   As you can see the..." />
<meta property="article:published_time" content="2015-07-27T17:28:13+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="552658.html">Java HttpClient get cookies</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kattoor.html'><span itemprop='name'>Kattoor</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-27T17:28:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:50Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I want to log in to a forum and make a post whilst logging in through a Java program. I’m rather new to this, but what I think I should do is: 1. HttpPost to login 2. Keep cookies 3. HttpPost to create forum post, with the cookies I received</p>
<p>Using Fiddler, I saw these cookies were being sent to me when I logged into the forums: <div class="lightbox-wrapper"><a class="lightbox" href="http://i.stack.imgur.com/qT5Yo.png" title="qT5Yo.png" rel="nofollow noopener"><img src="http://i.stack.imgur.com/qT5Yo.png" alt width="690" height="206"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">qT5Yo.png</span><span class="informations">985×295</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>However, when I try to receive these cookies programmatically, I get other cookies? The code I currently have:<br>
<a href="http://pastebin.com/86ELqdvE" data-bbcode="true" rel="nofollow noopener">PasteBin</a></p>
<p>The output of this code: <img src="http://i.stack.imgur.com/kfNCO.png" alt width="521" height="190"></p>
<p>As you can see these are not the same as the ones I received with Fiddler. I’m sorry if I’m making a stupid mistake. Thanks for your time!</p>
      </div>

      <meta itemprop='headline' content='Java HttpClient get cookies'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-27T18:11:18Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:50Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The ones you got from the Java program is the right ones. It seems like fiddler isn’t showing you the cookies you want to see. Solution, use something that is not fiddler.</p>
      </div>

      <meta itemprop='headline' content='Java HttpClient get cookies'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kattoor.html'><span itemprop='name'>Kattoor</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-27T18:25:01Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:50Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="552658">
<div class="title">
<div class="quote-controls"></div>
 Bowser jr:</div>
<blockquote>
<p>The ones you got from the Java program is the right ones. It seems like fiddler isn’t showing you the cookies you want to see. Solution, use something that is not fiddler.</p>
</blockquote>
</aside>
<p>Thanks for your fast reply.<br>
However, when I pass the cookies I received from the log in to a get on the homepage, I can tell from the html it didn’t log me in?</p>
<p>Code:<br>
<a href="http://pastebin.com/BKFRaeFi" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/BKFRaeFi</a></p>
<p>–Edit<br>
Also, when I try out the example code for form based login, provided by Apache, I receive the same cookies after login as I get before login.<br>
<a href="http://hc.apache.org/httpcomponents-client-dev/httpclient/examples/org/apache/http/examples/client/ClientFormLogin.java" data-bbcode="true" rel="nofollow noopener">Apache example code</a></p>
      </div>

      <meta itemprop='headline' content='Java HttpClient get cookies'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/bowserjr2.html'><span itemprop='name'>bowserjr2</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-27T18:42:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:50Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>302 found is a redirection. It want to send you to another page. So take the page it is giving you and go there.</p>
      </div>

      <meta itemprop='headline' content='Java HttpClient get cookies'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kattoor.html'><span itemprop='name'>Kattoor</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-27T19:02:39Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:51Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, I found I should set the redirect strategy…</p>
<pre><code class="lang-auto"></code></pre>
<p>Doing that will load me the new page, but from the html I can tell I’m still not logged in <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p><code>while ((line = reader.readLine()) != null)
                System.out.println(line);</code></p>
      </div>

      <meta itemprop='headline' content='Java HttpClient get cookies'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/my-swagger.html'><span itemprop='name'>my-swagger</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-27T19:27:48Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:51Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Make sure the cookies are still there after the redirection. It might be getting reset.</p>
      </div>

      <meta itemprop='headline' content='Java HttpClient get cookies'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kattoor.html'><span itemprop='name'>Kattoor</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-27T19:30:13Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:51Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>When I pass the same cookies back to a new GET to the homepage, I still am not logged in… So I’m pretty sure it has to do something with the cookies I receive after logging in?</p>
      </div>

      <meta itemprop='headline' content='Java HttpClient get cookies'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/my-swagger.html'><span itemprop='name'>my-swagger</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-27T19:50:45Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:51Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="7" data-topic="552658">
<div class="title">
<div class="quote-controls"></div>
 Snow_:</div>
<blockquote>
<p>When I pass the same cookies back to a new GET to the homepage, I still am not logged in… So I’m pretty sure it has to do something with the cookies I receive after logging in?</p>
</blockquote>
</aside>
<p>Are you checking what cookies are needed for the homepage?<br>
The site you’re using probably uses [php]session_start[/php] which uses cookies itself. It resuses the cookies so make sure that’s there too otherwise it’ll reset. Followed by the other cookies the site may be storing.</p>
<p>So just make sure you’re sending all the required cookies and not just the ones you think are required.</p>
      </div>

      <meta itemprop='headline' content='Java HttpClient get cookies'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Kattoor.html'><span itemprop='name'>Kattoor</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-27T19:56:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:51Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think Apache’s HttpClient does that?<br>
I’m just sending the cookies I receive.</p>
      </div>

      <meta itemprop='headline' content='Java HttpClient get cookies'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/silabsoft.html'><span itemprop='name'>silabsoft</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2015-07-28T01:57:15Z'>
            <time itemprop='dateModified' datetime='2016-08-04T15:20:56Z' class='post-time'>
              August 4, 2016,  3:20pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>if you don’t want to use HttpClient from apache you can use java.net.CookieManager; the cfuid is just a cloudflare cookie it will change often.</p>
      </div>

      <meta itemprop='headline' content='Java HttpClient get cookies'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/java-httpclient-get-cookies/552658 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:05:23 GMT -->
</html>
