<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Java HttpClient get cookies</title>
    <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658</link>
    <description>I want to log in to a forum and make a post whilst logging in through a Java program. I&#39;m rather new to this, but what I think I should do is: 1. HttpPost to login 2. Keep cookies 3. HttpPost to create forum post, with the cookies I received

Using Fiddler, I saw these cookies were being sent to me when I logged into the forums: [img]http://i.stack.imgur.com/qT5Yo.png[/img]

However, when I try to receive these cookies programmatically, I get other cookies? The code I currently have:
[url=http://pastebin.com/86ELqdvE]PasteBin[/url]

The output of this code: [img]http://i.stack.imgur.com/kfNCO.png[/img]

As you can see these are not the same as the ones I received with Fiddler. I&#39;m sorry if I&#39;m making a stupid mistake. Thanks for your time!</description>
    
    <lastBuildDate>Tue, 28 Jul 2015 01:57:15 +0000</lastBuildDate>
    <category>General Programming</category>
    <atom:link href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Java HttpClient get cookies</title>
        <dc:creator><![CDATA[@silabsoft RuneAgent]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/silabsoft">@silabsoft</a> wrote:</p>
          <blockquote>
              <p>if you don’t want to use HttpClient from apache you can use java.net.CookieManager; the cfuid is just a cloudflare cookie it will change often.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/10</link>
        <pubDate>Tue, 28 Jul 2015 01:57:15 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-552658-10</guid>
        <source url="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss">Java HttpClient get cookies</source>
      </item>
      <item>
        <title>Java HttpClient get cookies</title>
        <dc:creator><![CDATA[@Kattoor Snow_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kattoor">@Kattoor</a> wrote:</p>
          <blockquote>
              <p>I think Apache’s HttpClient does that?<br>
I’m just sending the cookies I receive.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/9</link>
        <pubDate>Mon, 27 Jul 2015 19:56:42 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-552658-9</guid>
        <source url="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss">Java HttpClient get cookies</source>
      </item>
      <item>
        <title>Java HttpClient get cookies</title>
        <dc:creator><![CDATA[@my-swagger my-swagger]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/my-swagger">@my-swagger</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="7" data-topic="552658">
<div class="title">
<div class="quote-controls"></div>
 Snow_:</div>
<blockquote>
<p>When I pass the same cookies back to a new GET to the homepage, I still am not logged in… So I’m pretty sure it has to do something with the cookies I receive after logging in?</p>
</blockquote>
</aside>
<p>Are you checking what cookies are needed for the homepage?<br>
The site you’re using probably uses [php]session_start[/php] which uses cookies itself. It resuses the cookies so make sure that’s there too otherwise it’ll reset. Followed by the other cookies the site may be storing.</p>
<p>So just make sure you’re sending all the required cookies and not just the ones you think are required.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/8</link>
        <pubDate>Mon, 27 Jul 2015 19:50:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-552658-8</guid>
        <source url="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss">Java HttpClient get cookies</source>
      </item>
      <item>
        <title>Java HttpClient get cookies</title>
        <dc:creator><![CDATA[@Kattoor Snow_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kattoor">@Kattoor</a> wrote:</p>
          <blockquote>
              <p>When I pass the same cookies back to a new GET to the homepage, I still am not logged in… So I’m pretty sure it has to do something with the cookies I receive after logging in?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/7</link>
        <pubDate>Mon, 27 Jul 2015 19:30:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-552658-7</guid>
        <source url="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss">Java HttpClient get cookies</source>
      </item>
      <item>
        <title>Java HttpClient get cookies</title>
        <dc:creator><![CDATA[@my-swagger my-swagger]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/my-swagger">@my-swagger</a> wrote:</p>
          <blockquote>
              <p>Make sure the cookies are still there after the redirection. It might be getting reset.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/6</link>
        <pubDate>Mon, 27 Jul 2015 19:27:48 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-552658-6</guid>
        <source url="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss">Java HttpClient get cookies</source>
      </item>
      <item>
        <title>Java HttpClient get cookies</title>
        <dc:creator><![CDATA[@Kattoor Snow_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kattoor">@Kattoor</a> wrote:</p>
          <blockquote>
              <p>Well, I found I should set the redirect strategy…</p>
<pre><code class="lang-auto"></code></pre>
<p>Doing that will load me the new page, but from the html I can tell I’m still not logged in <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p><code>while ((line = reader.readLine()) != null)
                System.out.println(line);</code></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/5</link>
        <pubDate>Mon, 27 Jul 2015 19:02:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-552658-5</guid>
        <source url="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss">Java HttpClient get cookies</source>
      </item>
      <item>
        <title>Java HttpClient get cookies</title>
        <dc:creator><![CDATA[@bowserjr2 Bowser jr]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bowserjr2">@bowserjr2</a> wrote:</p>
          <blockquote>
              <p>302 found is a redirection. It want to send you to another page. So take the page it is giving you and go there.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/4</link>
        <pubDate>Mon, 27 Jul 2015 18:42:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-552658-4</guid>
        <source url="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss">Java HttpClient get cookies</source>
      </item>
      <item>
        <title>Java HttpClient get cookies</title>
        <dc:creator><![CDATA[@Kattoor Snow_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kattoor">@Kattoor</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="552658">
<div class="title">
<div class="quote-controls"></div>
 Bowser jr:</div>
<blockquote>
<p>The ones you got from the Java program is the right ones. It seems like fiddler isn’t showing you the cookies you want to see. Solution, use something that is not fiddler.</p>
</blockquote>
</aside>
<p>Thanks for your fast reply.<br>
However, when I pass the cookies I received from the log in to a get on the homepage, I can tell from the html it didn’t log me in?</p>
<p>Code:<br>
<a href="http://pastebin.com/BKFRaeFi" class="onebox" target="_blank" rel="nofollow noopener">http://pastebin.com/BKFRaeFi</a></p>
<p>–Edit<br>
Also, when I try out the example code for form based login, provided by Apache, I receive the same cookies after login as I get before login.<br>
<a href="http://hc.apache.org/httpcomponents-client-dev/httpclient/examples/org/apache/http/examples/client/ClientFormLogin.java" data-bbcode="true" rel="nofollow noopener">Apache example code</a></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/3</link>
        <pubDate>Mon, 27 Jul 2015 18:25:01 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-552658-3</guid>
        <source url="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss">Java HttpClient get cookies</source>
      </item>
      <item>
        <title>Java HttpClient get cookies</title>
        <dc:creator><![CDATA[@bowserjr2 Bowser jr]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bowserjr2">@bowserjr2</a> wrote:</p>
          <blockquote>
              <p>The ones you got from the Java program is the right ones. It seems like fiddler isn’t showing you the cookies you want to see. Solution, use something that is not fiddler.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/2</link>
        <pubDate>Mon, 27 Jul 2015 18:11:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-552658-2</guid>
        <source url="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss">Java HttpClient get cookies</source>
      </item>
      <item>
        <title>Java HttpClient get cookies</title>
        <dc:creator><![CDATA[@Kattoor Snow_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kattoor">@Kattoor</a> wrote:</p>
          <blockquote>
              <p>I want to log in to a forum and make a post whilst logging in through a Java program. I’m rather new to this, but what I think I should do is: 1. HttpPost to login 2. Keep cookies 3. HttpPost to create forum post, with the cookies I received</p>
<p>Using Fiddler, I saw these cookies were being sent to me when I logged into the forums: <div class="lightbox-wrapper"><a class="lightbox" href="http://i.stack.imgur.com/qT5Yo.png" title="qT5Yo.png" rel="nofollow noopener"><img src="http://i.stack.imgur.com/qT5Yo.png" alt width="690" height="206"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">qT5Yo.png</span><span class="informations">985×295</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>However, when I try to receive these cookies programmatically, I get other cookies? The code I currently have:<br>
<a href="http://pastebin.com/86ELqdvE" data-bbcode="true" rel="nofollow noopener">PasteBin</a></p>
<p>The output of this code: <img src="http://i.stack.imgur.com/kfNCO.png" alt width="521" height="190"></p>
<p>As you can see these are not the same as the ones I received with Fiddler. I’m sorry if I’m making a stupid mistake. Thanks for your time!</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658/1</link>
        <pubDate>Mon, 27 Jul 2015 17:28:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-552658-1</guid>
        <source url="https://forum.moparisthebest.com/t/java-httpclient-get-cookies/552658.rss">Java HttpClient get cookies</source>
      </item>
  </channel>
</rss>
