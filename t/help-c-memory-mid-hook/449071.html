<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/help-c-memory-mid-hook/449071 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 01:28:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[help] c++ memory mid-hook - General Programming - moparisthebest.com</title>
    <meta name="description" content="ok so basically what i want to do is what the title says, edit an address in memory making it jump to a function I created(which restores the what it replaced and jumps back to right after the initial jump). 

so basical&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="449071.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[help] c++ memory mid-hook&#39;" href="449071.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/help-c-memory-mid-hook/449071" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/help-c-memory-mid-hook/449071" />
<meta property="og:title" content="[help] c++ memory mid-hook" />
<meta name="twitter:title" content="[help] c++ memory mid-hook" />
<meta property="og:description" content="ok so basically what i want to do is what the title says, edit an address in memory making it jump to a function I created(which restores the what it replaced and jumps back to right after the initial jump).  so basically:  0116108F  |.  83C4 08       |ADD ESP,8 01161092  |.  68 E8030000   |PUSH 3E8 01161097  |.  FFD6          |CALL ESI 01161099  \.- EB 95         \JMP SHORT 01161030 turns into:  0118108F  |.  E9 6CFFDF61   |JMP hookfunction 01181094  |?  90            |NOP 01181095  |?  90     ..." />
<meta name="twitter:description" content="ok so basically what i want to do is what the title says, edit an address in memory making it jump to a function I created(which restores the what it replaced and jumps back to right after the initial jump).  so basically:  0116108F  |.  83C4 08       |ADD ESP,8 01161092  |.  68 E8030000   |PUSH 3E8 01161097  |.  FFD6          |CALL ESI 01161099  \.- EB 95         \JMP SHORT 01161030 turns into:  0118108F  |.  E9 6CFFDF61   |JMP hookfunction 01181094  |?  90            |NOP 01181095  |?  90     ..." />
<meta property="article:published_time" content="2012-07-10T08:27:09+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="449071.html">[help] c++ memory mid-hook</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xryz.html'><span itemprop='name'>xryz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-10T08:27:09Z'>
            <time itemprop='dateModified' datetime='2016-08-03T12:28:57Z' class='post-time'>
              August 3, 2016, 12:28pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok so basically what i want to do is what the title says, edit an address in memory making it jump to a function I created(which restores the what it replaced and jumps back to right after the initial jump).</p>
<p>so basically:</p>
<pre><code class="lang-auto">0116108F  |.  83C4 08       |ADD ESP,8
01161092  |.  68 E8030000   |PUSH 3E8
01161097  |.  FFD6          |CALL ESI
01161099  \.- EB 95         \JMP SHORT 01161030</code></pre>
<p>turns into:</p>
<pre><code class="lang-auto">0118108F  |.  E9 6CFFDF61   |JMP hookfunction
01181094  |?  90            |NOP
01181095  |?  90            |NOP
01181096  |?  90            |NOP
01181097  |.  FFD6          |CALL ESI
01181099  \.- EB 95         \JMP SHORT 01181030</code></pre>
<p>the hookfunction does some stuff then the end looks like:</p>
<pre><code class="lang-auto">62F8100F  |.  83C4 08       |ADD ESP,8
62F81012  |.  68 E8030000   |PUSH 3E8
62F8101A  \.  FF25 4433F862 JMP DWORD PTR DS:[jumplocation]</code></pre>
<p>the custom function is in a dll which is injected into the process that is to be hooked. I have a basic understanding of c++(read a basic tutorial,the <a href="http://c++.com/" rel="nofollow noopener">c++.com</a> tut, for 10 straight hours like a year ago) which probably isnt enough for this but i have some understanding on what is going on i believe. I have read and also what a video tut about this but it isnt enough b/c i believe i dont know what i functions i need to call.</p>
<p>I thought that i needed to call a memcpy or memset to change the value at the memory address; making it jump to my function. so basically whait i have done is on being injected calling a start method which finds the base address of the injected process then adding that base address with the relative position of the (future)hook point. making that the first argument, the second argument is  a literal int which is the hex representation of a jump to my hook method and the third argument, for memset, is 5.</p>
<p>I feel like the method i am trying is either totally wrong or im missing something b/c i thing it is failing to change the memory.</p>
      </div>

      <meta itemprop='headline' content='[help] c++ memory mid-hook'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/slavemaster.html'><span itemprop='name'>slavemaster</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-10T08:42:19Z'>
            <time itemprop='dateModified' datetime='2016-08-03T12:28:57Z' class='post-time'>
              August 3, 2016, 12:28pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Typically, on Windows, the page the code is on must have its permissions modified to be writable. This might be an issue you could face. You must also remember to write the nops. See for example: <a href="http://www.rohitab.com/discuss/topic/36123-c-api-hooking-demo/" rel="nofollow noopener">http://www.rohitab.com/discuss/topic/36123-c-api-hooking-demo/</a></p>
      </div>

      <meta itemprop='headline' content='[help] c++ memory mid-hook'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/xryz.html'><span itemprop='name'>xryz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-10T08:50:59Z'>
            <time itemprop='dateModified' datetime='2016-08-03T12:28:57Z' class='post-time'>
              August 3, 2016, 12:28pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you I was missing this part, im going to look at the link you posted and see if i can figure it out. I was re examining the video tut and found the guy calls vitualprotect and does some other stuff. the tutorial doesnt show any snippets of code it only shows assembly from the debugger, so that makes it a little harder to understand since im just beginning c++.</p>
<p>i found this: <a href="http://www.unknowncheats.me/forum/c-and-c/67884-mid-function-hook-big-deal.html" rel="nofollow noopener">http://www.unknowncheats.me/forum/c-and-c/67884-mid-function-hook-big-deal.html</a> which really helped me fully understand. I was getting close b4 i found that plus finding a reference to masm registers helped even more.</p>
      </div>

      <meta itemprop='headline' content='[help] c++ memory mid-hook'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/_bool.html'><span itemprop='name'>_bool</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-07-10T18:20:39Z'>
            <time itemprop='dateModified' datetime='2016-08-03T12:29:24Z' class='post-time'>
              August 3, 2016, 12:29pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>you generally don’t need to hook mid-function unless the anti-cheat you’re working with is a real pain in the ass.</p>
      </div>

      <meta itemprop='headline' content='[help] c++ memory mid-hook'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/help-c-memory-mid-hook/449071 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 01:28:14 GMT -->
</html>
