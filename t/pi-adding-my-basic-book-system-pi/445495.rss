<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PI] Adding My Basic Book System [PI]</title>
    <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495</link>
    <description>So this is just a simple way to add books to your server, without the mess like other people&#39;s methods of doing so. This will allow you to add books with endless amount of pages if you want, not just 5... :3

What you will be adding:
[IMG]http://i45.tinypic.com/3022pvc.png[/img]

Simple enough? :3

For starters you&#39;re going to need to navigate to &quot;server/world&quot; and add this folder &quot;[B]books[/B]&quot;.

Once that is done go ahead and add these classes to that folder: &lt;3

[B]BookHandler.java[/B][CODE]
package server.world.books;
	
public class BookHandler {
	// Sample books
	public final Book GNOME_TRANSLATION = new GnomeTranslation();
	public final Book GLOUGHS_JOURNAL = new GloughsJournal();

}[/CODE]

[B]Book.java[/B]
[CODE]
package server.world.books;

import server.model.players.Client;

public interface Book {
	public String[][] getPages();
	public String getName();
	public void openBook(Client c);
}
[/CODE]
[size=8pt](The openBook() method is used for making possible quests that use books a little easier on your plate)[/size]

Sample Books:

[B]GnomeTranslation.java[/B]
[CODE]
package server.world.books;
import server.model.players.Client;

public class GnomeTranslation implements Book {

	private final String NAME = &quot;Gnome-English Translation&quot;;

	private final String[][] PAGES = new String [][] {{
					&quot;Gnome-English&quot;,
					&quot;Translation&quot;,
					&quot;&quot;,
					&quot;written by Anita&quot;,
					&quot;&quot;,
					&quot;This text contains the&quot;,
					&quot;ancient gnome words I&quot;,
					&quot;have managed to translate&quot;,
					&quot;thus far.&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;-A-&quot;,
					&quot;Arpos: rocks&quot;,
					&quot;ando: gate&quot;,
					&quot;andra: city&quot;,
					&quot;ataris: cow&quot;,
					&quot;&quot;,
					&quot;-C-&quot;,
					&quot;cef: threat&quot;,
					&quot;cheray: lazy&quot;,
					&quot;Cinqo: King&quot;,
					&quot;cretor: bucket&quot;,
				}, {
					&quot;-E-&quot;,
					&quot;eis: me&quot;,
					&quot;es: a&quot;,
					&quot;et: and&quot;,
					&quot;eto: will&quot;,
					&quot;&quot;,
					&quot;-G-&quot;,
					&quot;gandius: jungle&quot;,
					&quot;gal: all&quot;,
					&quot;gentis: leaf&quot;,
					&quot;gutus: banana&quot;,
					&quot;gomondo: branch&quot;,
					&quot;&quot;,
					&quot;-H-&quot;,
					&quot;har: old&quot;,
					&quot;harij: harpoom&quot;,
					&quot;hewo: grass&quot;,
					&quot;&quot;,
					&quot;-I-&quot;,
					&quot;ip: you&quot;,
					&quot;imindus: quest&quot;,
					&quot;irno: translate&quot;,
				}, {
					&quot;&quot;,
					&quot;-K-&quot;,
					&quot;kar: no&quot;,
					&quot;kai: boat&quot;,
					&quot;ko: sail&quot;,
					&quot;&quot;,
					&quot;-L-&quot;,
					&quot;lauf: eye&quot;,
					&quot;laquinay: common sense&quot;,
					&quot;lemanto: man&quot;,
					&quot;lemantolly: stupid man&quot;,
					&quot;lovos: gave&quot;,
					&quot;&quot;,
					&quot;-M-&quot;,
					&quot;meso: came&quot;,
					&quot;meriz: kill&quot;,
					&quot;mina: time(s)&quot;,
					&quot;mos: coin&quot;,
					&quot;mi: I&quot;,
					&quot;mond: seal&quot;,
					&quot;&quot;,
					&quot;-O-&quot;,
				}, {
					&quot;o: for&quot;,
					&quot;&quot;,
					&quot;-P-&quot;,
					&quot;por: long&quot;,
					&quot;prit: with&quot;,
					&quot;priw: tree&quot;,
					&quot;pro: to&quot;,
					&quot;&quot;,
					&quot;-Q-&quot;,
					&quot;qui: guard&quot;,
					&quot;guir: guardian&quot;,
					&quot;&quot;,
					&quot;-R-&quot;,
					&quot;rentos: agility&quot;,
					&quot;&quot;,
					&quot;-S-&quot;,
					&quot;sarko: begone&quot;,
					&quot;sind: big&quot;,
					&quot;&quot;,
					&quot;-T-&quot;,
					&quot;ta: the&quot;,
					&quot;tuzo: open&quot;,
				}, {
					&quot;&quot;,
					&quot;-U-&quot;,
					&quot;undri: lands&quot;,
					&quot;umesco: Soul&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;,
					&quot;&quot;
				}};

	@Override
	public String getName() {
		return NAME;
	}
	public String[][] getPages() {
		return PAGES;
	}
	public void openBook(Client c) {
		c.bookPages = getPages();
		c.bookPage = 0;
		c.maxPages = getPages().length-1;
		c.bookName = getName();
		c.getPA().sendBook(c.bookName, c.bookPages[0]);
	}
}
[/CODE]

[B]GloughsJournal.java[/B]
[CODE]
package server.world.books;

import server.Config;
import server.model.players.Client;

public class GloughsJournal implements Book {

	private final String NAME = &quot;Glough&#39;s Journal&quot;;

	private final String[][] PAGES = new String [][] {{
						&quot;@red@The migration failed!&quot;,
						&quot;&quot;,
						&quot;After spending half a&quot;,
						&quot;century hiding&quot;,
						&quot;underground you would&quot;,
						&quot;think that the great&quot;,
						&quot;migration would have&quot;,
						&quot;improved life on&quot;,
						Config.SERVER_NAME + &quot; for tree&quot;,
						&quot;gnomes. However, rather&quot;,
						&quot;that the great liberation&quot;,
						&quot;promised to us by King&quot;,
						&quot;Healthorg at the end of&quot;,
						&quot;the last age, we have been&quot;,
						&quot;forced to live in hiding,&quot;,
						&quot;up trees or in the gnome&quot;,
						&quot;maze, laughed at and&quot;,
						&quot;mocked by man. Living in&quot;,
						&quot;constant fear of human&quot;,
						&quot;aggression, we are in a&quot;,
						&quot;no better situation now&quot;,
						&quot;than when we lived in the&quot;
					}, {
						&quot;caves! Change must come&quot;,
						&quot;soon!&quot;,
						&quot;&quot;,
						&quot;@red@They must be stopped!&quot;,
						&quot;&quot;,
						&quot;Today I heard of three&quot;,
						&quot;more gnomes slain by&quot;,
						&quot;Khazard&#39;s human troops&quot;,
						&quot;for fun. I can&#39;t control&quot;,
						&quot;my anger! Humanity&quot;,
						&quot;seems to have acquired a&quot;,
						&quot;level of arrogance&quot;,
						&quot;comparable to that of&quot;,
						&quot;Zamorak, killing and&quot;,
						&quot;pillaging at will! We are&quot;,
						&quot;small and at heart not&quot;,
						&quot;warriors but something&quot;,
						&quot;must be done! We will&quot;,
						&quot;pick up arms and go&quot;,
						&quot;forth into the human&quot;,
						&quot;world! We will defend&quot;,
						&quot;ourselves and we will&quot;
					}, {
						&quot;persue justice for all&quot;,
						&quot;gnomes who fell at the&quot;,
						&quot;hands of humans!&quot;,
						&quot;&quot;,
						&quot;@red@Gaining support.&quot;,
						&quot;&quot;,
						&quot;Some of the local gnomes&quot;,
						&quot;seem strangely deluded&quot;,
						&quot;about humans, many&quot;,
						&quot;actually believe that&quot;,
						&quot;humans are not all&quot;,
						&quot;naturally evil but instead&quot;,
						&quot;vary from person to&quot;,
						&quot;person. This sort of talk&quot;,
						&quot;could be the end for the&quot;,
						&quot;tree gnomes and I must&quot;,
						&quot;continue to convince my&quot;,
						&quot;fellow gnome folk the cold&quot;,
						&quot;truth about these human&quot;,
						&quot;creatures! How they will&quot;,
						&quot;not stop until all gnome&quot;,
						&quot;life is destroyed! Unless&quot;
					}, {
						&quot;we can destroy them&quot;,
						&quot;first!&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
						&quot;&quot;,
					}};

	@Override
	public String getName() {
		return NAME;
	}
	public String[][] getPages() {
		return PAGES;
	}
	public void openBook(Client c) {
		c.bookPages = getPages();
		c.bookPage = 0;
		c.maxPages = getPages().length-1;
		c.bookName = getName();
		c.getPA().sendBook(c.bookName, c.bookPages[0]);
	}
}
[/CODE]

Now that we have the new classes. we can integrate them in.

Open up your[B] Server.java[/B] and import the[B] BookHandler[/B]:
[CODE]
import server.world.books.BookHandler;
[/CODE]
and then below add this line:
[CODE]
	public static BookHandler bookHandler = new BookHandler();
[/CODE]

Next open up your [B]PlayerAssistant.java[/B] and add this method:
[CODE]
	public void sendBook(String title, String[] pages) {
		if (pages == null) {
			c.sendMessage(&quot;This book has no pages...&quot;);
			return;
		}
		c.startAnimation(1350);
		sendFrame126(title, 903);
		for(int i = 0; i &lt; pages.length; i++)
			sendFrame126(pages[i], 843+i);
		sendFrame126(&quot;- &quot; + (c.bookPage+1) + &quot; -&quot;, 14165);
		sendFrame126(&quot;&quot;, 14166);
		showInterface(837);
		c.flushOutStream();
	}
[/CODE]

And then open up your [B]Client.java[/B] and add these variables:

[CODE]
	public int bookPage = 0;
	public int maxPages = 0;
	public String bookName = &quot;Book&quot;;
	public String[][] bookPages; // Each page(String key) must contain 22 pages.
[/CODE]

Next open your [B]ClickingButtons.java[/B] and add these buttons:

[CODE]
			case 3071: // Go back a page
				if(c.bookPage &gt; 0) {
					c.bookPage--;
					c.getPA().sendBook(c.bookName, c.bookPages[c.bookPage]);
				}
				break;
			case 3073: // Go forward a oage
				if(c.bookPage &lt; c.maxPages) {
					c.bookPage++;
					c.getPA().sendBook(c.bookName, c.bookPages[c.bookPage]);
				}
				break;
[/CODE]

Now to add the sample books to your [B]ClickItem.java[/B] in your packets..

add these to your cases:

[CODE]
			case 784: // Translation book
				Server.bookHandler.GNOME_TRANSLATION.openBook(c);
				break;
			case 785: // Glough&#39;s Journal
				Server.bookHandler.GLOUGHS_JOURNAL.openBook(c);
				break;
[/CODE]

if you already didn&#39;t do so, go ahead and import your Server class into the [b]ClickItem.java[/b]

Use it, don&#39;t use it. Its just a little perk to add to your server, use it for quests, rules, basic info, or write your little heart out.</description>
    
    <lastBuildDate>Wed, 19 Dec 2012 13:11:52 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@kill_boy_98 kill boy 98]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kill_boy_98">@kill_boy_98</a> wrote:</p>
          <blockquote>
              <p>are u robgob69 on runesever?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/20">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/20</link>
        <pubDate>Wed, 19 Dec 2012 13:11:52 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-20</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@luna-scape luna-scape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/luna-scape">@luna-scape</a> wrote:</p>
          <blockquote>
              <p>Hey m8. Nice tut i only got one error.</p>
<p>In the clickitem.java i dont have any classes and i just put them in there and now i get a error about my orpahned case or something.</p>
<p>Fixed it but now i get an error in the server.java about the</p>
<pre><code class="lang-auto"></code></pre>
<p>And</p>
<pre><code class="lang-auto"></code></pre>
<p>This is my first part of server.java</p>
<p>[code]<br>
package server;</p>
<p>import java.io.IOException;<br>
import java.net.InetSocketAddress;<br>
import java.text.DecimalFormat;<br>
import server.event.CycleEventHandler;</p>
<p>import org.apache.mina.common.IoAcceptor;<br>
import org.apache.mina.transport.socket.nio.SocketAcceptor;<br>
import org.apache.mina.transport.socket.nio.SocketAcceptorConfig;</p>
<p>import server.event.EventManager;<br>
import server.model.minigames.ZombieCaves;<br>
import server.model.npcs.NPCHandler;<br>
import server.model.npcs.NPCDrops;<br>
import server.model.players.PlayerHandler;<br>
import server.model.players.Player;<br>
import server.model.players.Client;<br>
import server.model.players.PlayerSave;<br>
import server.model.minigames.*;<br>
import server.net.ConnectionHandler;<br>
import server.net.ConnectionThrottleFilter;<br>
import server.util.ShutDownHook;<br>
import server.util.SimpleTimer;<br>
import server.util.log.Logger;<br>
import server.event.Event;<br>
import server.event.EventContainer;<br>
import server.world.books.BookHandler;<br>
import server.world.ItemHandler;<br>
import server.world.ObjectHandler;<br>
import server.world.ObjectManager;<br>
//import server.util.MadTurnipConnection;<br>
import server.world.ShopHandler;<br>
import server.world.map.VirtualWorld;<br>
import server.world.ClanChatHandler;<br>
import server.world.WorldMap;<br>
import server.world.WalkingHandler;<br>
import server.model.objects.Doors;<br>
import server.model.objects.DoubleDoors;</p>
<p>/**</p>
<ul>
<li>Server.java</li>
<li>
</li>
<li>
<span class="mention">@author</span> Sanity</li>
<li>
<span class="mention">@author</span> Graham</li>
<li>
<span class="mention">@author</span> Blake</li>
<li>
<span class="mention">@author</span> Ryan Lmctruck30</li>
<li>
<span class="mention">@author</span> God</li>
<li>
</li>
</ul>
<p>*/</p>
<p>public class Server {</p>
<pre><code>public static boolean sleeping;
public static int cycleRate;
public static boolean UpdateServer = false;
public static long lastMassSave = System.currentTimeMillis();
private static IoAcceptor acceptor;
private static ConnectionHandler connectionHandler;
private static ConnectionThrottleFilter throttleFilter;
private static SimpleTimer engineTimer, debugTimer;
private static long cycleTime, cycles, totalCycleTime, sleepTime;
private static DecimalFormat debugPercentFormat;
public static boolean shutdownServer = false;		
public static boolean shutdownClientHandler;
public static lottery lottery = new lottery();
public int lotteryFund = 0;			
public static int serverlistenerPort; 
public static BookHandler bookHandler = new BookHandler();
public static ItemHandler itemHandler = new ItemHandler();
public static PlayerHandler playerHandler = new PlayerHandler();
public static NPCHandler npcHandler = new NPCHandler();
public static ShopHandler shopHandler = new ShopHandler();
public static ObjectHandler objectHandler = new ObjectHandler();
public static ObjectManager objectManager = new ObjectManager();
public static CastleWars castleWars = new CastleWars();
public static FightPits fightPits = new FightPits();
public static PestControl pestControl = new PestControl();
public static NPCDrops npcDrops = new NPCDrops();
public static ClanChatHandler clanChat = new ClanChatHandler();
public static FightCaves fightCaves = new FightCaves();
public static RFD rfd = new RFD();
public static ZombieCaves zombieCaves = new ZombieCaves();
//public static WorldMap worldMap = new WorldMap();
public static long[] TIMES = new long[5];
//private static final WorkerThread engine = new WorkerThread();[/code]</code></pre>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/19">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/19</link>
        <pubDate>Wed, 19 Dec 2012 09:17:05 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-19</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@robgob robgob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/robgob">@robgob</a> wrote:</p>
          <blockquote>
              <p>lol no its me, but i dont host a server anymore. no time to <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/18">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/18</link>
        <pubDate>Mon, 27 Aug 2012 04:26:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-18</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@belhelmiel belhelmiel]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/belhelmiel">@belhelmiel</a> wrote:</p>
          <blockquote>
              <p>Robgob! Ey. Nice tut. It’s been forever since I’ve seen that name before. I tried finding your old server but I couldn’t seem to. <img src="https://forum.moparisthebest.com/images/emoji/twitter/stuck_out_tongue.png?v=5" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> I stopped with RSPS for about 2 years and came back just about a month ago. If you remember me(ex owner of SepultraScape) hmu <a href="mailto:cloudnine1999@live.com">cloudnine1999@live.com</a> P.S. I’ve got a lot better at coding since SepultraScape. Rofl. I’m surprised I even had so many players on there. Lol. I’m going to be really embaressed if your not who I think you are. But I doubt there are many people with the nickname “Robgob.”</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/17</link>
        <pubDate>Fri, 06 Jul 2012 09:54:10 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-17</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@robgob robgob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/robgob">@robgob</a> wrote:</p>
          <blockquote>
              <p>you’re not <span class="bbcode-i">spoon-feeding</span> me anything as I’m not going to use your method at all, efficient it may be, but i didn’t make it for me, i made it because some kid made one that only allowed 5 pages, was stuffed into one method, and would constantly send the frames over and over… so i posted one a little better and thought id share x)</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/16</link>
        <pubDate>Thu, 21 Jun 2012 10:27:36 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-16</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@Uncalled Uncalled]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/uncalled">@Uncalled</a> wrote:</p>
          <blockquote>
              <p>I won’t spoon-feed you. It’s not hard to add at all, figure it out yourself with the code I gave to you.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/15</link>
        <pubDate>Thu, 21 Jun 2012 05:19:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-15</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@robgob robgob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/robgob">@robgob</a> wrote:</p>
          <blockquote>
              <p>[quote=“Uncalled, post:13, topic:445495”]Seeing as I have absolutely no idea what you’re talking about, I guess I’ll write something in the ‘Quick Reply’ box;</p>
<pre><code class="lang-auto">package server.world.books;
        
public class BookHandler {

     public static HashMap&lt;Integer, BookDef&gt; definitions;

     static {
          definitions = new HashMap&lt;Integer, BookDef&gt;();
     }

     public int id;
     public String name, pages;

     public BookDef(String name, String pages, int id) {
          this.name = name;
          this.pages = pages;
          this.id = id;
          definitions.put(this.id, this);
     }
}</code></pre>
<pre><code class="lang-auto">                        case 785: // Glough's Journal
                                BookDef.definitions.get(id)
                        break;</code></pre>
<pre><code class="lang-auto">&lt;book&gt;
     &lt;name&gt;Glough's Journal&lt;/name&gt;
     &lt;id&gt;785&lt;/id&gt;
     &lt;pages&gt;Line 1&lt;/pages&gt;
     &lt;pages&gt;Line 2&lt;/pages&gt;
     &lt;pages&gt;Line 3&lt;/pages&gt;
     &lt;pages&gt;Line 4&lt;/pages&gt;
     &lt;pages&gt;Line 5&lt;/pages&gt;
     &lt;pages&gt;Line 6&lt;/pages&gt;
&lt;/book&gt;</code></pre>
<p>[hr]<br>
Now I’m sure there’s far better ways to complete this, nor do I even know if this would work; as I wrote it in the ‘Quick Reply.’</p>
<p>EDIT:<br>
Found what t4 said to you.[/quote]<br>
looks good, but then how would you display the 22 pages at a time, upon changing the page and such. x3</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/14</link>
        <pubDate>Wed, 20 Jun 2012 17:48:51 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-14</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@Uncalled Uncalled]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/uncalled">@Uncalled</a> wrote:</p>
          <blockquote>
              <p>Seeing as I have absolutely no idea what you’re talking about, I guess I’ll write something in the ‘Quick Reply’ box;</p>
<pre><code class="lang-auto">package server.world.books;
        
public class BookHandler {

     public static HashMap&lt;Integer, BookDef&gt; definitions;

     static {
          definitions = new HashMap&lt;Integer, BookDef&gt;();
     }

     public int id;
     public String name, pages;

     public BookDef(String name, String pages, int id) {
          this.name = name;
          this.pages = pages;
          this.id = id;
          definitions.put(this.id, this);
     }
}</code></pre>
<pre><code class="lang-auto">                        case 785: // Glough's Journal
                                BookDef.definitions.get(id)
                        break;</code></pre>
<pre><code class="lang-auto">&lt;book&gt;
     &lt;name&gt;Glough's Journal&lt;/name&gt;
     &lt;id&gt;785&lt;/id&gt;
     &lt;pages&gt;Line 1&lt;/pages&gt;
     &lt;pages&gt;Line 2&lt;/pages&gt;
     &lt;pages&gt;Line 3&lt;/pages&gt;
     &lt;pages&gt;Line 4&lt;/pages&gt;
     &lt;pages&gt;Line 5&lt;/pages&gt;
     &lt;pages&gt;Line 6&lt;/pages&gt;
&lt;/book&gt;</code></pre>
<p>[hr]<br>
Now I’m sure there’s far better ways to complete this, nor do I even know if this would work; as I wrote it in the ‘Quick Reply.’</p>
<p>EDIT:<br>
Found what t4 said to you.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/13</link>
        <pubDate>Wed, 20 Jun 2012 05:42:33 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-13</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="11" data-topic="445495">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/uncalled/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Uncalled:</div>
<blockquote>
<p>You should call this through a mark up language for data organization than just a gigantic array. Then place the loaded data into condensed classes.</p>
</blockquote>
</aside>
<p>Go ahead and show him an example, assuming you didn’t just take what t4 told me and switch a few words.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/12</link>
        <pubDate>Wed, 20 Jun 2012 04:41:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-12</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@Uncalled Uncalled]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/uncalled">@Uncalled</a> wrote:</p>
          <blockquote>
              <p>You should call this through a mark up language for data organization than just a gigantic array. Then place the loaded data into condensed classes.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/11</link>
        <pubDate>Tue, 19 Jun 2012 22:10:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-11</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@robgob robgob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/robgob">@robgob</a> wrote:</p>
          <blockquote>
              <p>thanks <img src="https://forum.moparisthebest.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/10</link>
        <pubDate>Mon, 18 Jun 2012 17:15:03 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-10</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@kronixz kronikz]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/kronixz">@kronixz</a> wrote:</p>
          <blockquote>
              <p>Pretty cool. Nice job <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> will use maybe for an old school type server.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/9</link>
        <pubDate>Mon, 18 Jun 2012 02:14:12 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-9</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@Ruby_Forums_Coder Ruby]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ruby_forums_coder">@Ruby_Forums_Coder</a> wrote:</p>
          <blockquote>
              <p>Looks pretty nice, good job.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/8</link>
        <pubDate>Mon, 18 Jun 2012 01:59:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-8</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@robgob robgob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/robgob">@robgob</a> wrote:</p>
          <blockquote>
              <p>[quote=“Skyro, post:5, topic:445495”]Maybe a sendFrame126? Just like the other interfaces, good work though. Repped.[/quote] It uses that method… xD</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/7</link>
        <pubDate>Mon, 18 Jun 2012 01:54:43 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-7</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="5" data-topic="445495">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/skyro/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> Skyro:</div>
<blockquote>
<p>Maybe a sendFrame126? Just like the other interfaces, good work though. Repped.</p>
</blockquote>
</aside>
<pre><code>    [code]public void sendBook(String title, String[] pages) {
            if (pages == null) {
                    c.sendMessage("This book has no pages...");
                    return;
            }
            c.startAnimation(1350);
            sendFrame126(title, 903);
            for(int i = 0; i &lt; pages.length; i++)
                    sendFrame126(pages[i], 843+i);
            sendFrame126("- " + (c.bookPage+1) + " -", 14165);
            sendFrame126("", 14166);
            showInterface(837);
            c.flushOutStream();
    }[/code]
</code></pre>
<p>[size=15pt] sendFrame126(title, 903);<br>
for(int i = 0; i &lt; pages.length; i++)<br>
sendFrame126(pages[i], 843+i);<br>
sendFrame126("- " + (c.bookPage+1) + " -", 14165);<br>
sendFrame126("", 14166);[/size]</p>
<p><img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"> <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"> <img src="https://forum.moparisthebest.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/6</link>
        <pubDate>Mon, 18 Jun 2012 01:07:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-6</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@Skyro Arbe]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/skyro">@Skyro</a> wrote:</p>
          <blockquote>
              <p>Maybe a sendFrame126? Just like the other interfaces, good work though. Repped.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/5</link>
        <pubDate>Sun, 17 Jun 2012 19:55:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-5</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="3" data-topic="445495">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/robgob/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> robgob:</div>
<blockquote>
<p>thanks x3 what would you suggest over an array?</p>
</blockquote>
</aside>
<p>Not really sure tbh, maybe XML?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/4</link>
        <pubDate>Sun, 17 Jun 2012 06:39:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-4</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@robgob robgob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/robgob">@robgob</a> wrote:</p>
          <blockquote>
              <p>thanks x3 what would you suggest over an array?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/3</link>
        <pubDate>Sun, 17 Jun 2012 06:25:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-3</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@asshole_rule asshole_rule]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/asshole_rule">@asshole_rule</a> wrote:</p>
          <blockquote>
              <p>Not good to load it through a huge array, but other wise it’s nice.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/2</link>
        <pubDate>Sun, 17 Jun 2012 06:18:30 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-2</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
      <item>
        <title>[PI] Adding My Basic Book System [PI]</title>
        <dc:creator><![CDATA[@robgob robgob]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/robgob">@robgob</a> wrote:</p>
          <blockquote>
              <p>So this is just a simple way to add books to your server, without the mess like other people’s methods of doing so. This will allow you to add books with endless amount of pages if you want, not just 5… :3</p>
<p>What you will be adding:<br>
<img src="http://i45.tinypic.com/3022pvc.png" alt width="511" height="337"></p>
<p>Simple enough? :3</p>
<p>For starters you’re going to need to navigate to “server/world” and add this folder “<span class="bbcode-b">books</span>”.</p>
<p>Once that is done go ahead and add these classes to that folder: &lt;3</p>
<p><span class="bbcode-b">BookHandler.java</span>[CODE]<br>
package server.world.books;</p>
<p>public class BookHandler {<br>
// Sample books<br>
public final Book GNOME_TRANSLATION = new GnomeTranslation();<br>
public final Book GLOUGHS_JOURNAL = new GloughsJournal();</p>
<p>}[/CODE]</p>
<p><span class="bbcode-b">Book.java</span></p>
<pre><code class="lang-auto">package server.world.books;

import server.model.players.Client;

public interface Book {
	public String[][] getPages();
	public String getName();
	public void openBook(Client c);
}</code></pre>
<p>[size=8pt](The openBook() method is used for making possible quests that use books a little easier on your plate)[/size]</p>
<p>Sample Books:</p>
<p><span class="bbcode-b">GnomeTranslation.java</span></p>
<pre><code class="lang-auto">package server.world.books;
import server.model.players.Client;

public class GnomeTranslation implements Book {

	private final String NAME = "Gnome-English Translation";

	private final String[][] PAGES = new String [][] {{
					"Gnome-English",
					"Translation",
					"",
					"written by Anita",
					"",
					"This text contains the",
					"ancient gnome words I",
					"have managed to translate",
					"thus far.",
					"",
					"",
					"-A-",
					"Arpos: rocks",
					"ando: gate",
					"andra: city",
					"ataris: cow",
					"",
					"-C-",
					"cef: threat",
					"cheray: lazy",
					"Cinqo: King",
					"cretor: bucket",
				}, {
					"-E-",
					"eis: me",
					"es: a",
					"et: and",
					"eto: will",
					"",
					"-G-",
					"gandius: jungle",
					"gal: all",
					"gentis: leaf",
					"gutus: banana",
					"gomondo: branch",
					"",
					"-H-",
					"har: old",
					"harij: harpoom",
					"hewo: grass",
					"",
					"-I-",
					"ip: you",
					"imindus: quest",
					"irno: translate",
				}, {
					"",
					"-K-",
					"kar: no",
					"kai: boat",
					"ko: sail",
					"",
					"-L-",
					"lauf: eye",
					"laquinay: common sense",
					"lemanto: man",
					"lemantolly: stupid man",
					"lovos: gave",
					"",
					"-M-",
					"meso: came",
					"meriz: kill",
					"mina: time(s)",
					"mos: coin",
					"mi: I",
					"mond: seal",
					"",
					"-O-",
				}, {
					"o: for",
					"",
					"-P-",
					"por: long",
					"prit: with",
					"priw: tree",
					"pro: to",
					"",
					"-Q-",
					"qui: guard",
					"guir: guardian",
					"",
					"-R-",
					"rentos: agility",
					"",
					"-S-",
					"sarko: begone",
					"sind: big",
					"",
					"-T-",
					"ta: the",
					"tuzo: open",
				}, {
					"",
					"-U-",
					"undri: lands",
					"umesco: Soul",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					"",
					""
				}};

	@Override
	public String getName() {
		return NAME;
	}
	public String[][] getPages() {
		return PAGES;
	}
	public void openBook(Client c) {
		c.bookPages = getPages();
		c.bookPage = 0;
		c.maxPages = getPages().length-1;
		c.bookName = getName();
		c.getPA().sendBook(c.bookName, c.bookPages[0]);
	}
}</code></pre>
<p><span class="bbcode-b">GloughsJournal.java</span></p>
<pre><code class="lang-auto">package server.world.books;

import server.Config;
import server.model.players.Client;

public class GloughsJournal implements Book {

	private final String NAME = "Glough's Journal";

	private final String[][] PAGES = new String [][] {{
						"@red@The migration failed!",
						"",
						"After spending half a",
						"century hiding",
						"underground you would",
						"think that the great",
						"migration would have",
						"improved life on",
						Config.SERVER_NAME + " for tree",
						"gnomes. However, rather",
						"that the great liberation",
						"promised to us by King",
						"Healthorg at the end of",
						"the last age, we have been",
						"forced to live in hiding,",
						"up trees or in the gnome",
						"maze, laughed at and",
						"mocked by man. Living in",
						"constant fear of human",
						"aggression, we are in a",
						"no better situation now",
						"than when we lived in the"
					}, {
						"caves! Change must come",
						"soon!",
						"",
						"@red@They must be stopped!",
						"",
						"Today I heard of three",
						"more gnomes slain by",
						"Khazard's human troops",
						"for fun. I can't control",
						"my anger! Humanity",
						"seems to have acquired a",
						"level of arrogance",
						"comparable to that of",
						"Zamorak, killing and",
						"pillaging at will! We are",
						"small and at heart not",
						"warriors but something",
						"must be done! We will",
						"pick up arms and go",
						"forth into the human",
						"world! We will defend",
						"ourselves and we will"
					}, {
						"persue justice for all",
						"gnomes who fell at the",
						"hands of humans!",
						"",
						"@red@Gaining support.",
						"",
						"Some of the local gnomes",
						"seem strangely deluded",
						"about humans, many",
						"actually believe that",
						"humans are not all",
						"naturally evil but instead",
						"vary from person to",
						"person. This sort of talk",
						"could be the end for the",
						"tree gnomes and I must",
						"continue to convince my",
						"fellow gnome folk the cold",
						"truth about these human",
						"creatures! How they will",
						"not stop until all gnome",
						"life is destroyed! Unless"
					}, {
						"we can destroy them",
						"first!",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
						"",
					}};

	@Override
	public String getName() {
		return NAME;
	}
	public String[][] getPages() {
		return PAGES;
	}
	public void openBook(Client c) {
		c.bookPages = getPages();
		c.bookPage = 0;
		c.maxPages = getPages().length-1;
		c.bookName = getName();
		c.getPA().sendBook(c.bookName, c.bookPages[0]);
	}
}</code></pre>
<p>Now that we have the new classes. we can integrate them in.</p>
<p>Open up your<span class="bbcode-b"> Server.java</span> and import the<span class="bbcode-b"> BookHandler</span>:</p>
<pre><code class="lang-auto">import server.world.books.BookHandler;</code></pre>
<p>and then below add this line:</p>
<pre><code class="lang-auto">	public static BookHandler bookHandler = new BookHandler();</code></pre>
<p>Next open up your <span class="bbcode-b">PlayerAssistant.java</span> and add this method:</p>
<pre><code class="lang-auto">	public void sendBook(String title, String[] pages) {
		if (pages == null) {
			c.sendMessage("This book has no pages...");
			return;
		}
		c.startAnimation(1350);
		sendFrame126(title, 903);
		for(int i = 0; i &lt; pages.length; i++)
			sendFrame126(pages[i], 843+i);
		sendFrame126("- " + (c.bookPage+1) + " -", 14165);
		sendFrame126("", 14166);
		showInterface(837);
		c.flushOutStream();
	}</code></pre>
<p>And then open up your <span class="bbcode-b">Client.java</span> and add these variables:</p>
<pre><code class="lang-auto">	public int bookPage = 0;
	public int maxPages = 0;
	public String bookName = "Book";
	public String[][] bookPages; // Each page(String key) must contain 22 pages.</code></pre>
<p>Next open your <span class="bbcode-b">ClickingButtons.java</span> and add these buttons:</p>
<pre><code class="lang-auto">			case 3071: // Go back a page
				if(c.bookPage &gt; 0) {
					c.bookPage--;
					c.getPA().sendBook(c.bookName, c.bookPages[c.bookPage]);
				}
				break;
			case 3073: // Go forward a oage
				if(c.bookPage &lt; c.maxPages) {
					c.bookPage++;
					c.getPA().sendBook(c.bookName, c.bookPages[c.bookPage]);
				}
				break;</code></pre>
<p>Now to add the sample books to your <span class="bbcode-b">ClickItem.java</span> in your packets…</p>
<p>add these to your cases:</p>
<pre><code class="lang-auto">			case 784: // Translation book
				Server.bookHandler.GNOME_TRANSLATION.openBook(c);
				break;
			case 785: // Glough's Journal
				Server.bookHandler.GLOUGHS_JOURNAL.openBook(c);
				break;</code></pre>
<p>if you already didn’t do so, go ahead and import your Server class into the <span class="bbcode-b">ClickItem.java</span></p>
<p>Use it, don’t use it. Its just a little perk to add to your server, use it for quests, rules, basic info, or write your little heart out.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495/1</link>
        <pubDate>Sun, 17 Jun 2012 03:57:34 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-445495-1</guid>
        <source url="https://forum.moparisthebest.com/t/pi-adding-my-basic-book-system-pi/445495.rss">[PI] Adding My Basic Book System [PI]</source>
      </item>
  </channel>
</rss>
