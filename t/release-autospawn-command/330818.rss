<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[Release]AutoSpawn Command</title>
    <link>https://forum.moparisthebest.com/t/release-autospawn-command/330818</link>
    <description>Well here it is
add this to your commandhandler.java
[code]	if(cmd.equals(&quot;autospawn&quot;)) {
			int npcid = Integer.parseInt(args[0]);
			int getx = player.getX();
			int gety = player.getY();
			int getY2 = player.getY();
			int getX2 = player.getX();
			
			player.autospawn(npcid, getx -2, getX2 + 2, gety - 2, getY2 + 2);
		}[/code]
add these imports to your player.java
[code]import java.io.BufferedWriter;
import java.io.FileWriter;[/code]
Next declare this in your player.java
[code]	public void autospawn(int npcid ,int getx, int getX2, int gety, int getY2)
	{
			try {
				getActionSender().sendMessage(&quot;Writing npcid: &quot; +npcid+ &quot; at X: &quot; +getX()+ &quot; Y: &quot; +getY());
				BufferedWriter out = new BufferedWriter(new FileWriter(&quot;autospawn.txt&quot;, true));
				out.write(&quot;&lt;NPCLoc&gt;&quot;);
				out.newLine();
				out.write(&quot;  &lt;id&gt;&quot; +npcid+ &quot;&lt;/id&gt;&quot;);
				out.newLine();
				out.write(&quot;  &lt;startX&gt;&quot; +getX()+ &quot;&lt;/startX&gt;&quot;);
				out.newLine();
				out.write(&quot;  &lt;startY&gt;&quot; +getY()+ &quot;&lt;/startY&gt;&quot;);
				out.newLine();				
				out.write(&quot;  &lt;minX&gt;&quot; +getx+ &quot;&lt;/minX&gt;&quot;);
				out.newLine();
				out.write(&quot;  &lt;maxX&gt;&quot; +getX2+ &quot;&lt;/maxX&gt;&quot;);
				out.newLine();
				out.write(&quot;  &lt;minY&gt;&quot; +gety+ &quot;&lt;/minY&gt;&quot;);
				out.newLine();
				out.write(&quot;  &lt;maxY&gt;&quot; +getY2+ &quot;&lt;/maxY&gt;&quot;);
				out.newLine();
				out.write(&quot;&lt;/NPCLoc&gt;&quot;);
				out.newLine();
		        out.close();

			} catch (IOException e)
			{
				System.out.println(e.getMessage());
			}			
			
	}[/code]
then create autospawn.txt in your server directory comple and run
to use simply do ::autospawn npcid</description>
    
    <lastBuildDate>Fri, 26 Feb 2010 14:53:20 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/release-autospawn-command/330818.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[Release]AutoSpawn Command</title>
        <dc:creator><![CDATA[@Nemesis1 Nemesis-]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/nemesis1">@Nemesis1</a> wrote:</p>
          <blockquote>
              <p>I made xEnts landscape editor to do the same, 1 click and it adds the npc.<br>
saves time.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-autospawn-command/330818/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-autospawn-command/330818/9</link>
        <pubDate>Fri, 26 Feb 2010 14:53:20 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-330818-9</guid>
        <source url="https://forum.moparisthebest.com/t/release-autospawn-command/330818.rss">[Release]AutoSpawn Command</source>
      </item>
      <item>
        <title>[Release]AutoSpawn Command</title>
        <dc:creator><![CDATA[@xEnt xEnt]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/xent">@xEnt</a> wrote:</p>
          <blockquote>
              <p>effortless either way</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-autospawn-command/330818/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-autospawn-command/330818/8</link>
        <pubDate>Fri, 26 Feb 2010 08:05:00 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-330818-8</guid>
        <source url="https://forum.moparisthebest.com/t/release-autospawn-command/330818.rss">[Release]AutoSpawn Command</source>
      </item>
      <item>
        <title>[Release]AutoSpawn Command</title>
        <dc:creator><![CDATA[@imthenull imthenull]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imthenull">@imthenull</a> wrote:</p>
          <blockquote>
              <p>if your server is integrated with mysql, then you can have it added permanently without having to compress/decompress, with a few minor changes to the code of coarse. this is cool</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-autospawn-command/330818/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-autospawn-command/330818/7</link>
        <pubDate>Thu, 25 Feb 2010 20:25:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-330818-7</guid>
        <source url="https://forum.moparisthebest.com/t/release-autospawn-command/330818.rss">[Release]AutoSpawn Command</source>
      </item>
      <item>
        <title>[Release]AutoSpawn Command</title>
        <dc:creator><![CDATA[@darscape darscape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/darscape">@darscape</a> wrote:</p>
          <blockquote>
              <p>All you would need to do is edit the worldloader in the loading process so that it also includes the autospawn like it does with the npcloc as both are formatted the same.</p>
<p><code>for(NPCLoc npc : (List&lt;NPCLoc&gt;)PersistenceManager.load("locs/NpcLoc.xml.gz")) {
			world.registerNpc(new Npc(npc));
		}</code></p>
<p>Of course being compressed in .gz is a problem.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-autospawn-command/330818/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-autospawn-command/330818/6</link>
        <pubDate>Thu, 25 Feb 2010 20:09:02 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-330818-6</guid>
        <source url="https://forum.moparisthebest.com/t/release-autospawn-command/330818.rss">[Release]AutoSpawn Command</source>
      </item>
      <item>
        <title>[Release]AutoSpawn Command</title>
        <dc:creator><![CDATA[@adu adu]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/adu">@adu</a> wrote:</p>
          <blockquote>
              <p>Now make it load the saved npc’s everytime the server is restarted.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-autospawn-command/330818/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-autospawn-command/330818/5</link>
        <pubDate>Thu, 25 Feb 2010 19:55:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-330818-5</guid>
        <source url="https://forum.moparisthebest.com/t/release-autospawn-command/330818.rss">[Release]AutoSpawn Command</source>
      </item>
      <item>
        <title>[Release]AutoSpawn Command</title>
        <dc:creator><![CDATA[@darscape darscape]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/darscape">@darscape</a> wrote:</p>
          <blockquote>
              <p>Yes and it simplifies the process by taking your current coordinates for the npc’s spawn location.</p>
<p>The min/max X and min/max Y coords appear to be generated using +2 and -2 from your current coordinates. I’ve seen this before in RS2 servers where NPC spawns would be inserted directly within the command such as:</p>
<p>::npc NPC_ID X_MIN Y_MIN X_MAX Y_MAX and the initial spawn would be automatically generated within those coordinates.</p>
<p>Interesting concept of using a text file though as the XML files are not writable. In the iteration that I found in RS2, it saved via MYSQL in the same table that housed the regular spawns so what was mapped in the game was not seperate from the regular spawns.</p>
<p>A lot of RS2 servers use an autospawn text files like this now days though.</p>
<p>If you look at the current NPC spawn code:</p>
<p><code>if(cmd.equals("npc")) {
			if(args.length != 1) {
				player.getActionSender().sendMessage("Invalid args. Syntax: NPC id");
				return;
			}
			int id = Integer.parseInt(args[0]);
			if(EntityHandler.getNpcDef(id) != null) {
				final Npc n = new Npc(id, player.getX(), player.getY(), player.getX() - 2, player.getX() + 2, player.getY() - 2, player.getY() + 2);
				n.setRespawn(false);
				world.registerNpc(n);
				if(player.isMod()){
					world.getDelayedEventHandler().add(new SingleEvent(null, 60000) {
						public void action() {
							Mob opponent = n.getOpponent();
							if(opponent != null) {
								opponent.resetCombat(CombatState.ERROR);
							}
							n.resetCombat(CombatState.ERROR);
							world.unregisterNpc(n);
							n.remove();
						}
					});
				}
				Logger.mod(player.getUsername() + " spawned a " + n.getDef().getName() + " at " + player.getLocation().toString());
			}
			else {
				player.getActionSender().sendMessage("Invalid id");
			}
			return;
		}</code></p>
<p>Its virtually identical although it automatically deletes the NPC after a minute.</p>
<pre><code class="lang-auto">world.getDelayedEventHandler().add(new SingleEvent(null, 60000) {</code></pre>
<p>If it did not delete the npc, it would exist until the server was reset.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-autospawn-command/330818/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-autospawn-command/330818/4</link>
        <pubDate>Thu, 25 Feb 2010 19:50:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-330818-4</guid>
        <source url="https://forum.moparisthebest.com/t/release-autospawn-command/330818.rss">[Release]AutoSpawn Command</source>
      </item>
      <item>
        <title>[Release]AutoSpawn Command</title>
        <dc:creator><![CDATA[@WowILikeToCode WowILikeToCode]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/wowiliketocode">@WowILikeToCode</a> wrote:</p>
          <blockquote>
              <p>so this add’s the NPC you specified when typing ::npc ** to a spawn list?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-autospawn-command/330818/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-autospawn-command/330818/3</link>
        <pubDate>Thu, 25 Feb 2010 19:12:18 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-330818-3</guid>
        <source url="https://forum.moparisthebest.com/t/release-autospawn-command/330818.rss">[Release]AutoSpawn Command</source>
      </item>
      <item>
        <title>[Release]AutoSpawn Command</title>
        <dc:creator><![CDATA[@imthenull imthenull]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/imthenull">@imthenull</a> wrote:</p>
          <blockquote>
              <p>wow looks nice. +1</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-autospawn-command/330818/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-autospawn-command/330818/2</link>
        <pubDate>Thu, 25 Feb 2010 19:09:39 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-330818-2</guid>
        <source url="https://forum.moparisthebest.com/t/release-autospawn-command/330818.rss">[Release]AutoSpawn Command</source>
      </item>
      <item>
        <title>[Release]AutoSpawn Command</title>
        <dc:creator><![CDATA[@BigRocker12 BigRocker12]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bigrocker12">@BigRocker12</a> wrote:</p>
          <blockquote>
              <p>Well here it is<br>
add this to your commandhandler.java</p>
<p>[code]	if(cmd.equals(“autospawn”)) {<br>
int npcid = Integer.parseInt(args[0]);<br>
int getx = player.getX();<br>
int gety = player.getY();<br>
int getY2 = player.getY();<br>
int getX2 = player.getX();</p>
<pre><code>		player.autospawn(npcid, getx -2, getX2 + 2, gety - 2, getY2 + 2);
	}[/code]
</code></pre>
<p>add these imports to your player.java</p>
<p><code>import java.io.BufferedWriter;
import java.io.FileWriter;</code><br>
Next declare this in your player.java</p>
<p>[code]	public void autospawn(int npcid ,int getx, int getX2, int gety, int getY2)<br>
{<br>
try {<br>
getActionSender().sendMessage(“Writing npcid: " +npcid+ " at X: " +getX()+ " Y: " +getY());<br>
BufferedWriter out = new BufferedWriter(new FileWriter(“autospawn.txt”, true));<br>
out.write(”");<br>
out.newLine();<br>
out.write("  " +npcid+ “”);<br>
out.newLine();<br>
out.write("  " +getX()+ “”);<br>
out.newLine();<br>
out.write("  " +getY()+ “”);<br>
out.newLine();				<br>
out.write("  " +getx+ “”);<br>
out.newLine();<br>
out.write("  " +getX2+ “”);<br>
out.newLine();<br>
out.write("  " +gety+ “”);<br>
out.newLine();<br>
out.write("  " +getY2+ “”);<br>
out.newLine();<br>
out.write("");<br>
out.newLine();<br>
out.close();</p>
<pre><code>		} catch (IOException e)
		{
			System.out.println(e.getMessage());
		}			
		
}[/code]
</code></pre>
<p>then create autospawn.txt in your server directory comple and run<br>
to use simply do ::autospawn npcid</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/release-autospawn-command/330818/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/release-autospawn-command/330818/1</link>
        <pubDate>Thu, 25 Feb 2010 18:43:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-330818-1</guid>
        <source url="https://forum.moparisthebest.com/t/release-autospawn-command/330818.rss">[Release]AutoSpawn Command</source>
      </item>
  </channel>
</rss>
