<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/pi-rewritting-that-garbage-buyitem-boolean/537955?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 08:01:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[PI] Rewritting that garbage buyItem &#39;boolean&#39; - Runescape - moparisthebest.com</title>
    <meta name="description" content="Okay, first, I called it a boolean simply because Insanity make the buyItem method a boolean, instead of, well, a method. 

There are a lot of things done horribly in this, and as each source gets passed to a new owner, &amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="5379554658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[PI] Rewritting that garbage buyItem &#39;boolean&#39;&#39;" href="537955.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/pi-rewritting-that-garbage-buyitem-boolean/537955?page=2" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/pi-rewritting-that-garbage-buyitem-boolean/537955?page=2" />
<meta property="og:title" content="[PI] Rewritting that garbage buyItem &#39;boolean&#39;" />
<meta name="twitter:title" content="[PI] Rewritting that garbage buyItem &#39;boolean&#39;" />
<meta property="og:description" content="[quote=“sk8rdude461, post:20, topic:537955”][quote author=wildskiller link=topic=656781.msg4398072#msg4398072 date=1389724038]  I’m pretty sure that it was a boolean for a reason.  [/quote]  I’m not seeing the point of it being one.[/quote]  If a method has a chance to fail, the caller needs to have the ability to know. Wouldn’t you be pissed if Collection.add failed didn’t tell you? It could be hell to try and debug why your program randomly stopped working properly. Just because you personally..." />
<meta name="twitter:description" content="[quote=“sk8rdude461, post:20, topic:537955”][quote author=wildskiller link=topic=656781.msg4398072#msg4398072 date=1389724038]  I’m pretty sure that it was a boolean for a reason.  [/quote]  I’m not seeing the point of it being one.[/quote]  If a method has a chance to fail, the caller needs to have the ability to know. Wouldn’t you be pissed if Collection.add failed didn’t tell you? It could be hell to try and debug why your program randomly stopped working properly. Just because you personally..." />
<meta property="article:published_time" content="2014-01-15T03:56:23+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="prev" href="537955.html">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="537955.html">[PI] Rewritting that garbage buyItem &#39;boolean&#39;</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-15T03:56:23Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:29:19Z' class='post-time'>
              August 4, 2016, 11:29am
            </time>
        <span itemprop='position'>#21</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“sk8rdude461, post:20, topic:537955”][quote author=wildskiller link=topic=656781.msg4398072#msg4398072 date=1389724038]<br>
I’m pretty sure that it was a boolean for a reason.<br>
[/quote]<br>
I’m not seeing the point of it being one.[/quote]<br>
If a method has a chance to fail, the caller needs to have the ability to know. Wouldn’t you be pissed if Collection.add failed didn’t tell you? It could be hell to try and debug why your program randomly stopped working properly. Just because you personally don’t use it in your code doesn’t mean someone in the future won’t.</p>
      </div>

      <meta itemprop='headline' content='[PI] Rewritting that garbage buyItem &#39;boolean&#39;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-15T05:08:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:29:21Z' class='post-time'>
              August 4, 2016, 11:29am
            </time>
        <span itemprop='position'>#22</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“HcoJustin, post:21, topic:537955”][quote author=sk8rdude461 link=topic=656781.msg4398214#msg4398214 date=1389757472]</p>
<aside class="quote">
<blockquote>
<p>I’m pretty sure that it was a boolean for a reason.</p>
</blockquote>
</aside>
<p>I’m not seeing the point of it being one.<br>
[/quote]<br>
If a method has a chance to fail, the caller needs to have the ability to know. Wouldn’t you be pissed if Collection.add failed didn’t tell you? It could be hell to try and debug why your program randomly stopped working properly. Just because you personally don’t use it in your code doesn’t mean someone in the future won’t.[/quote]<br>
I see your point, but imo I thought this would do better as a method instead of a boolean.</p>
      </div>

      <meta itemprop='headline' content='[PI] Rewritting that garbage buyItem &#39;boolean&#39;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-15T05:24:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:29:21Z' class='post-time'>
              August 4, 2016, 11:29am
            </time>
        <span itemprop='position'>#23</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You made it a tad better. Now get rid of those nested if statements and work on your conventions.</p>
<p><a href="http://www.beenishkhan.net/2012/05/27/if-statements-are-bad-for-code-avoid-them/" class="onebox" target="_blank" rel="nofollow noopener">http://www.beenishkhan.net/2012/05/27/if-statements-are-bad-for-code-avoid-them/</a></p>
<p>edit: I decided to rewrite shopping on a PI as well, I was pretty bored</p>
<pre><code class="lang-auto">
package org.frostiescape.content.shops;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;

import org.frostiescape.Config;
import org.frostiescape.content.shops.Shop.Currency;
import org.frostiescape.content.shops.Shop.ShopType;
import org.frostiescape.content.shops.currency.ItemCurrency;
import org.frostiescape.model.items.Item;
import org.frostiescape.model.players.Client;

public final class ShopAssistant
{

	private static final int MAX_SHOP_ITEMS = 101;
	private static final int MAX_SHOW_DELAY = 20;
	private static final int MAX_SPECIALTY_SHOW_DELAY = 60;

	private static final Map&lt;Integer, Shop&gt; shops = new HashMap&lt;&gt;();


	public static void process()
	{
		for( int id: shops.keySet() ) {
			Shop shop = shops.get( id );
			if( shop == null ) {
				break;
			}
			boolean updated = false;
			for( int slot = 0; slot &lt; MAX_SHOP_ITEMS; slot ++ ) {
				if( shop.getItems()[slot] &lt;= 0 ) {
					continue;
				}
				if( shop.getShopDelay()[slot] &gt;= MAX_SHOW_DELAY ) {
					if( ( slot &lt;= shop.getNumberOfDefaultItems() ) &amp;&amp; ( shop.getAmounts()[slot] &lt;= shop.getInitialStockAmounts()[slot] ) ) {
						if( shop.getAmounts()[slot] &lt; shop.getInitialStockAmounts()[slot] ) {
							shop.getAmounts()[slot] += 1;
							shop.getShopDelay()[slot] = 1;
							shop.getShopDelay()[slot] = 0;
							updated = true;
						}
					} else if( shop.getShopDelay()[slot] &gt;= MAX_SPECIALTY_SHOW_DELAY ) {
						shop.getAmounts()[slot] -= 1;
						if( shop.getAmounts()[slot] &lt;= 0 ) {
							shop.getAmounts()[slot] = 0;
							shop.getItems()[slot] = 0;
							shop.getAmounts()[slot] = 0;
							shop.getShopDelay()[slot] = 0;
						}
						shop.getShopDelay()[slot] = 0;
						updated = true;
					}
				}
				shop.getShopDelay()[slot] ++ ;
			}
			Iterator&lt;Client&gt; iterator = shop.getShoppingPlayers().iterator();
			while( iterator.hasNext() ) {
				Client client = iterator.next();
				if( client.myShopId == id ) {
					continue;
				}
				iterator.remove();
			}
			if( updated ) {
				refreshForAll( shop );
			}
		}
	}


	@SuppressWarnings( "unchecked" )
	public static void loadShops( String file ) throws IOException, InstantiationException, IllegalAccessException, ClassNotFoundException
	{
		BufferedReader reader = new BufferedReader( new FileReader( "./data/" + file ) );

		String line;
		while( ( line = reader.readLine() ) != null ) {
			int index = line.indexOf( '=' );
			if( index &lt; 0 ) {
				continue;
			}

			String entry = line.substring( index + 1 );
			entry = entry.replace( "\t\t", "\t" );
			entry = entry.replace( "\t\t", "\t" );
			entry = entry.replace( "\t\t", "\t" );
			entry = entry.trim();

			String[] entries = entry.split( "\t" );

			int id = Integer.parseInt( entries[0] );
			String name = entries[1].replaceAll( "_", " " );
			String type = entries[2];
			Class&lt;Currency&gt; currencyClass = ( Class&lt;Currency&gt; )Class.forName( "org.frostiescape.content.shops.currency." + entries[3] );
			Currency currency = currencyClass.newInstance();
			int[] items = new int[MAX_SHOP_ITEMS];
			int[] amounts = new int[MAX_SHOP_ITEMS];
			int[] initialAmounts = new int[MAX_SHOP_ITEMS];
			int[] delay = new int[MAX_SHOP_ITEMS];
			int stockItems = 0;
			for( int i = 0; i &lt; ( ( entries.length - 4 ) / 2 ); i ++ ) {
				if( entries[( 4 + ( i * 2 ) )] == null ) {
					break;
				}
				items[i] = ( Integer.parseInt( entries[( 4 + ( i * 2 ) )] ) + 1 );
				amounts[i] = Integer.parseInt( entries[( 5 + ( i * 2 ) )] );
				initialAmounts[i] = Integer.parseInt( entries[( 5 + ( i * 2 ) )] );
				stockItems ++ ;
			}
			shops.put( id, new Shop( name, ShopType.create( type ), currency, items, amounts, initialAmounts, delay, stockItems ) );
		}
		reader.close();
	}


	public static void openShop( Client client, int id )
	{
		Shop shop = shops.get( id );
		if( shop == null ) {
			return;
		}
		client.getItems().resetItems( 3823 );
		refresh( client, shop );
		client.myShopId = id;
		client.getPA().sendFrame248( 3824, 3822 );
		client.getPA().sendFrame126( shop.getName(), 3901 );
		shop.getShoppingPlayers().add( client );
	}


	private static void refreshForAll( Shop shop )
	{
		for( Client player: shop.getShoppingPlayers() ) {
			refresh( player, shop );
		}
	}


	public static void refresh( Client client, Shop shop )
	{
		int totalItems = 0;
		for( int i = 0; i &lt; MAX_SHOP_ITEMS; i ++ ) {
			if( shop.getItems()[i] &gt; 0 &amp;&amp; shop.getAmounts()[i] &gt; 0 || i &lt;= shop.getNumberOfDefaultItems() ) {
				totalItems ++ ;
			}
		}
		if( totalItems &gt; MAX_SHOP_ITEMS ) {
			totalItems = MAX_SHOP_ITEMS;
		}
		client.getOutStream().createFrameVarSizeWord( 53 );
		client.getOutStream().writeWord( 3900 );
		client.getOutStream().writeWord( totalItems );
		int iterations = 0;
		for( int i = 0; i &lt; shop.getItems().length; i ++ ) {
			if( ( shop.getItems()[i] &gt; 0 ) || ( i &lt;= shop.getNumberOfDefaultItems() ) ) {
				if( shop.getAmounts()[i] &gt; 254 ) {
					client.getOutStream().writeByte( 255 );
					client.getOutStream().writeDWord_v2( shop.getAmounts()[i] );
				} else {
					client.getOutStream().writeByte( shop.getAmounts()[i] );
				}
				if( ( shop.getItems()[i] &gt; Config.ITEM_LIMIT ) || ( shop.getItems()[i] &lt; 0 ) ) {
					shop.getItems()[i] = Config.ITEM_LIMIT;
				}
				client.getOutStream().writeWordBigEndianA( shop.getItems()[i] );
				iterations ++ ;
			}
			if( iterations &gt; totalItems ) {
				break;
			}
		}
		client.getOutStream().endFrameVarSizeWord();
		client.flushOutStream();
	}


	public static void sendBuyPrice( Client client, int item )
	{
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return;
		}
		client.sendMessage( client.getItems().getItemName( item ) + ": currently costs " + shop.getCurrency().getSellPrice( item ) + "x " + shop.getCurrency().getName() + "." );
	}


	public static void sendSellPrice( Client client, int item )
	{
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return;
		}
		if( ! shopBuysItem( client, item ) ) {
			client.sendMessage( "You cannot sell this here!" );
			return;
		}
		client.sendMessage( client.getItems().getItemName( item ) + ": the store will currently buy this for " + shop.getCurrency().getBuyPrice( item ) + "x " + shop.getCurrency().getName() + "." );
	}


	public static void sellItem( Client client, int item, int slot, int amount )
	{
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return;
		}
		if( ! shopBuysItem( client, item ) ) {
			client.sendMessage( "You cannot sell this here!" );
			return;
		}
		if( ( amount &gt; 0 ) &amp;&amp; ( item == ( client.playerItems[slot] - 1 ) ) ) {
			if( ( amount &gt; client.playerItemsN[slot] ) &amp;&amp; ( Item.itemIsNote[( client.playerItems[slot] - 1 )] || Item.itemStackable[( client.playerItems[slot] - 1 )] ) ) {
				amount = client.playerItemsN[slot];
			} else if( ( amount &gt; client.getItems().getItemAmount( item ) ) &amp;&amp; ! Item.itemIsNote[( client.playerItems[slot] - 1 )] &amp;&amp; ! Item.itemStackable[( client.playerItems[slot] - 1 )] ) {
				amount = client.getItems().getItemAmount( item );
			}
			if( shop.getCurrency().getClass().getName().equals( ItemCurrency.class.getName() ) &amp;&amp;
					( shop.getCurrency().getAmount( client ) &lt;= 0 ) &amp;&amp; ( client.getItems().freeSlots() &lt;= 0 ) &amp;&amp;
					Item.itemStackable[client.playerItems[slot] - 1] &amp;&amp; ( client.playerItemsN[slot] &gt; 0 ) ) {
				client.sendMessage( "You don't have enough space in your inventory." );
				return;
			}
			client.getItems().deleteItem2( item, amount );
			int price = shop.getCurrency().getBuyPrice( item ) * amount;
			shop.getCurrency().add( client, price );
			addShopItem( client, item, amount );
			client.getItems().resetItems( 3823 );
			refreshForAll( shop );
		}
	}


	private static void addShopItem( Client client, int item, int amount )
	{
		boolean added = false;
		if( amount &lt;= 0 ) {
			return;
		}
		if( Item.itemIsNote[item] == true ) {
			item = client.getItems().getUnnotedItem( item );
		}
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return;
		}
		for( int slot = 0; slot &lt; shop.getItems().length; slot ++ ) {
			if( ( shop.getItems()[slot] - 1 ) == item ) {
				shop.getAmounts()[slot] += amount;
				added = true;
			}
		}
		if( ! added ) {
			for( int slot = 0; slot &lt; shop.getItems().length; slot ++ ) {
				if( shop.getItems()[slot] == 0 ) {
					shop.getItems()[slot] = ( item + 1 );
					shop.getAmounts()[slot] = amount;
					shop.getShopDelay()[slot] = 0;
					break;
				}
			}
		}
	}


	private static boolean shopBuysItem( Client client, int inventoryItem )
	{
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return false;
		}
		if( Arrays.asList( Config.ITEM_SELLABLE ).contains( inventoryItem ) ) {
			return false;
		}
		// we do this check here to prevent non-sellables from being sold even if the shop type is
		// general.
		if( shop.getType() == ShopType.GENERAL ) {
			return true;
		}
		for( int shopItem: shop.getItems() ) {
			if( ( inventoryItem == ( shopItem - 1 ) ) || ( Item.itemIsNote[inventoryItem] &amp;&amp; ( shopItem == inventoryItem ) ) ) {
				return true;
			}
		}
		return false;
	}


	public static void buyItem( Client client, int item, int slot, int amount )
	{
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return;
		}
		if( item != shop.getItems()[slot] - 1 || amount &lt;= 0 ) {
			return;
		}
		int freeSlots = client.getItems().freeSlots();
		if( freeSlots == 0 || freeSlots &lt; amount &amp;&amp; ! Item.itemStackable[item] ) {
			amount = freeSlots;
		}
		if( amount &gt; shop.getAmounts()[slot] ) {
			amount = shop.getAmounts()[slot];
		}
		int playerCurrencyAmount = shop.getCurrency().getAmount( client );
		int value = amount * shop.getCurrency().getSellPrice( item );
		if( value &gt; Integer.MAX_VALUE ) {
			value = Integer.MAX_VALUE;
		}
		if( playerCurrencyAmount &lt; value ) {
			amount = ( int )Math.floor( ( playerCurrencyAmount * amount ) / value );
			value = amount * shop.getCurrency().getSellPrice( item );
			client.sendMessage( "You do not have enough " + shop.getCurrency().getName() + " to purchase that amount." );
			if( amount &lt;= 0 ) {
				// checking to see if they can buy any, if not then return from the function.
				return;
			}		
		}
		if (Item.itemStackable[item]) {
			if (!client.getItems().playerHasItem( item ) &amp;&amp; freeSlots &lt;= 0) {
				client.sendMessage("You do not have enough space in your inventory.");
				return;
			}
		} else {
			if (amount &gt; freeSlots) {
				amount = freeSlots;
			}
		}
		if (!Item.itemStackable[item] &amp;&amp; amount &gt; freeSlots) {
			amount = freeSlots;
		}
		shop.getCurrency().delete( client, value );
		client.getItems().addItem( item, amount );
		shop.getAmounts()[slot] -= amount;
		shop.getShopDelay()[slot] = 0;
		client.getItems().resetItems( 3823 );
		refreshForAll( shop );
	}

}</code></pre>
<pre><code class="lang-auto">
package org.frostiescape.content.shops;

import java.util.HashSet;
import java.util.Set;

import org.frostiescape.model.players.Client;

public class Shop
{

	public enum ShopType {
		// A general store, can sell and buy any item even if the stop doesn't have it in stock
		GENERAL,
		// A general stock store, can only buy and sell the items that the shop has in stock
		GENERAL_STOCK;

		public static ShopType create( String value )
		{
			switch( value.toLowerCase() ) {
				case "general":
					return GENERAL;
				case "general_stock":
					return GENERAL_STOCK;
				default:
					throw new IllegalArgumentException();
			}
		}
	}

	private final String name;

	private final ShopType type;

	private final Currency currency;

	private final int[] items;

	private final int[] amounts;

	private final int[] initialStockAmounts;

	private final int[] shopDelay;

	private final int numberOfDefaultItems;

	private final Set&lt;Client&gt; shoppingPlayers;


	public Shop( String name, ShopType type, Currency currency, int[] items, int[] amounts, int[] initialStockAmounts, int[] shopDelay, int numberOfDefaultItems, Set&lt;Client&gt; shoppingPlayers )
	{
		if( items.length != amounts.length ) {
			throw new IllegalArgumentException();
		}
		this.name = name;
		this.type = type;
		this.currency = currency;
		this.items = items;
		this.amounts = amounts;
		this.initialStockAmounts = initialStockAmounts;
		this.shopDelay = shopDelay;
		this.numberOfDefaultItems = numberOfDefaultItems;
		this.shoppingPlayers = shoppingPlayers;
	}


	public Shop( String name, ShopType type, Currency currency, int[] items, int[] amounts, int[] initialStockAmounts, int[] shopDelay, int numberOfDefaultItems )
	{
		this( name, type, currency, items, amounts, initialStockAmounts, shopDelay, numberOfDefaultItems, new HashSet&lt;Client&gt;() );
	}


	public String getName()
	{
		return name;
	}


	public ShopType getType()
	{
		return type;
	}


	public int[] getItems()
	{
		return items;
	}


	public int[] getAmounts()
	{
		return amounts;
	}


	public int[] getInitialStockAmounts()
	{
		return initialStockAmounts;
	}


	public int[] getShopDelay()
	{
		return shopDelay;
	}


	public int getNumberOfDefaultItems()
	{
		return numberOfDefaultItems;
	}


	public Set&lt;Client&gt; getShoppingPlayers()
	{
		return shoppingPlayers;
	}

	public Currency getCurrency()
	{
		return currency;
	}

	public static interface Currency
	{

		public String getName();


		public int getAmount( Client client );


		public void delete( Client client, int amount );


		public void add( Client client, int amount );


		public int getSellPrice( int item );


		public int getBuyPrice( int item );

	}

}</code></pre>
<p>it’s still pretty inconsistent and rushed in some places (didn’t really want to spend a ton of time on it). Oh and I tested it everything is working swell, so feel free to rip/use/whatever</p>
<p>edit2: fixed 2 bugs with this, one being able to purchase as long as you ahad gp in inv and other being that the entire item was removed from the shop if you bought one and the stack was higher than that</p>
      </div>

      <meta itemprop='headline' content='[PI] Rewritting that garbage buyItem &#39;boolean&#39;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-16T04:49:01Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:30:07Z' class='post-time'>
              August 4, 2016, 11:30am
            </time>
        <span itemprop='position'>#24</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“AtomicInt_, post:23, topic:537955”]You made it a tad better. Now get rid of those nested if statements and work on your conventions.</p>
<p><a href="http://www.beenishkhan.net/2012/05/27/if-statements-are-bad-for-code-avoid-them/" class="onebox" target="_blank" rel="nofollow noopener">http://www.beenishkhan.net/2012/05/27/if-statements-are-bad-for-code-avoid-them/</a></p>
<p>edit: I decided to rewrite shopping on a PI as well, I was pretty bored</p>
<pre><code class="lang-auto">
package org.frostiescape.content.shops;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;

import org.frostiescape.Config;
import org.frostiescape.content.shops.Shop.Currency;
import org.frostiescape.content.shops.Shop.ShopType;
import org.frostiescape.content.shops.currency.ItemCurrency;
import org.frostiescape.model.items.Item;
import org.frostiescape.model.players.Client;

public final class ShopAssistant
{

	private static final int MAX_SHOP_ITEMS = 101;
	private static final int MAX_SHOW_DELAY = 20;
	private static final int MAX_SPECIALTY_SHOW_DELAY = 60;

	private static final Map&lt;Integer, Shop&gt; shops = new HashMap&lt;&gt;();


	public static void process()
	{
		for( int id: shops.keySet() ) {
			Shop shop = shops.get( id );
			if( shop == null ) {
				break;
			}
			boolean updated = false;
			for( int slot = 0; slot &lt; MAX_SHOP_ITEMS; slot ++ ) {
				if( shop.getItems()[slot] &lt;= 0 ) {
					continue;
				}
				if( shop.getShopDelay()[slot] &gt;= MAX_SHOW_DELAY ) {
					if( ( slot &lt;= shop.getNumberOfDefaultItems() ) &amp;&amp; ( shop.getAmounts()[slot] &lt;= shop.getInitialStockAmounts()[slot] ) ) {
						if( shop.getAmounts()[slot] &lt; shop.getInitialStockAmounts()[slot] ) {
							shop.getAmounts()[slot] += 1;
							shop.getShopDelay()[slot] = 1;
							shop.getShopDelay()[slot] = 0;
							updated = true;
						}
					} else if( shop.getShopDelay()[slot] &gt;= MAX_SPECIALTY_SHOW_DELAY ) {
						shop.getAmounts()[slot] -= 1;
						if( shop.getAmounts()[slot] &lt;= 0 ) {
							shop.getAmounts()[slot] = 0;
							shop.getItems()[slot] = 0;
							shop.getAmounts()[slot] = 0;
							shop.getShopDelay()[slot] = 0;
						}
						shop.getShopDelay()[slot] = 0;
						updated = true;
					}
				}
				shop.getShopDelay()[slot] ++ ;
			}
			Iterator&lt;Client&gt; iterator = shop.getShoppingPlayers().iterator();
			while( iterator.hasNext() ) {
				Client client = iterator.next();
				if( client.myShopId == id ) {
					continue;
				}
				iterator.remove();
			}
			if( updated ) {
				refreshForAll( shop );
			}
		}
	}


	@SuppressWarnings( "unchecked" )
	public static void loadShops( String file ) throws IOException, InstantiationException, IllegalAccessException, ClassNotFoundException
	{
		BufferedReader reader = new BufferedReader( new FileReader( "./data/" + file ) );

		String line;
		while( ( line = reader.readLine() ) != null ) {
			int index = line.indexOf( '=' );
			if( index &lt; 0 ) {
				continue;
			}

			String entry = line.substring( index + 1 );
			entry = entry.replace( "\t\t", "\t" );
			entry = entry.replace( "\t\t", "\t" );
			entry = entry.replace( "\t\t", "\t" );
			entry = entry.trim();

			String[] entries = entry.split( "\t" );

			int id = Integer.parseInt( entries[0] );
			String name = entries[1].replaceAll( "_", " " );
			String type = entries[2];
			Class&lt;Currency&gt; currencyClass = ( Class&lt;Currency&gt; )Class.forName( "org.frostiescape.content.shops.currency." + entries[3] );
			Currency currency = currencyClass.newInstance();
			int[] items = new int[MAX_SHOP_ITEMS];
			int[] amounts = new int[MAX_SHOP_ITEMS];
			int[] initialAmounts = new int[MAX_SHOP_ITEMS];
			int[] delay = new int[MAX_SHOP_ITEMS];
			int stockItems = 0;
			for( int i = 0; i &lt; ( ( entries.length - 4 ) / 2 ); i ++ ) {
				if( entries[( 4 + ( i * 2 ) )] == null ) {
					break;
				}
				items[i] = ( Integer.parseInt( entries[( 4 + ( i * 2 ) )] ) + 1 );
				amounts[i] = Integer.parseInt( entries[( 5 + ( i * 2 ) )] );
				initialAmounts[i] = Integer.parseInt( entries[( 5 + ( i * 2 ) )] );
				stockItems ++ ;
			}
			shops.put( id, new Shop( name, ShopType.create( type ), currency, items, amounts, initialAmounts, delay, stockItems ) );
		}
		reader.close();
	}


	public static void openShop( Client client, int id )
	{
		Shop shop = shops.get( id );
		if( shop == null ) {
			return;
		}
		client.getItems().resetItems( 3823 );
		refresh( client, shop );
		client.myShopId = id;
		client.getPA().sendFrame248( 3824, 3822 );
		client.getPA().sendFrame126( shop.getName(), 3901 );
		shop.getShoppingPlayers().add( client );
	}


	private static void refreshForAll( Shop shop )
	{
		for( Client player: shop.getShoppingPlayers() ) {
			refresh( player, shop );
		}
	}


	public static void refresh( Client client, Shop shop )
	{
		int totalItems = 0;
		for( int i = 0; i &lt; MAX_SHOP_ITEMS; i ++ ) {
			if( shop.getItems()[i] &gt; 0 &amp;&amp; shop.getAmounts()[i] &gt; 0 || i &lt;= shop.getNumberOfDefaultItems() ) {
				totalItems ++ ;
			}
		}
		if( totalItems &gt; MAX_SHOP_ITEMS ) {
			totalItems = MAX_SHOP_ITEMS;
		}
		client.getOutStream().createFrameVarSizeWord( 53 );
		client.getOutStream().writeWord( 3900 );
		client.getOutStream().writeWord( totalItems );
		int iterations = 0;
		for( int i = 0; i &lt; shop.getItems().length; i ++ ) {
			if( ( shop.getItems()[i] &gt; 0 ) || ( i &lt;= shop.getNumberOfDefaultItems() ) ) {
				if( shop.getAmounts()[i] &gt; 254 ) {
					client.getOutStream().writeByte( 255 );
					client.getOutStream().writeDWord_v2( shop.getAmounts()[i] );
				} else {
					client.getOutStream().writeByte( shop.getAmounts()[i] );
				}
				if( ( shop.getItems()[i] &gt; Config.ITEM_LIMIT ) || ( shop.getItems()[i] &lt; 0 ) ) {
					shop.getItems()[i] = Config.ITEM_LIMIT;
				}
				client.getOutStream().writeWordBigEndianA( shop.getItems()[i] );
				iterations ++ ;
			}
			if( iterations &gt; totalItems ) {
				break;
			}
		}
		client.getOutStream().endFrameVarSizeWord();
		client.flushOutStream();
	}


	public static void sendBuyPrice( Client client, int item )
	{
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return;
		}
		client.sendMessage( client.getItems().getItemName( item ) + ": currently costs " + shop.getCurrency().getSellPrice( item ) + "x " + shop.getCurrency().getName() + "." );
	}


	public static void sendSellPrice( Client client, int item )
	{
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return;
		}
		if( ! shopBuysItem( client, item ) ) {
			client.sendMessage( "You cannot sell this here!" );
			return;
		}
		client.sendMessage( client.getItems().getItemName( item ) + ": the store will currently buy this for " + shop.getCurrency().getBuyPrice( item ) + "x " + shop.getCurrency().getName() + "." );
	}


	public static void sellItem( Client client, int item, int slot, int amount )
	{
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return;
		}
		if( ! shopBuysItem( client, item ) ) {
			client.sendMessage( "You cannot sell this here!" );
			return;
		}
		if( ( amount &gt; 0 ) &amp;&amp; ( item == ( client.playerItems[slot] - 1 ) ) ) {
			if( ( amount &gt; client.playerItemsN[slot] ) &amp;&amp; ( Item.itemIsNote[( client.playerItems[slot] - 1 )] || Item.itemStackable[( client.playerItems[slot] - 1 )] ) ) {
				amount = client.playerItemsN[slot];
			} else if( ( amount &gt; client.getItems().getItemAmount( item ) ) &amp;&amp; ! Item.itemIsNote[( client.playerItems[slot] - 1 )] &amp;&amp; ! Item.itemStackable[( client.playerItems[slot] - 1 )] ) {
				amount = client.getItems().getItemAmount( item );
			}
			if( shop.getCurrency().getClass().getName().equals( ItemCurrency.class.getName() ) &amp;&amp;
					( shop.getCurrency().getAmount( client ) &lt;= 0 ) &amp;&amp; ( client.getItems().freeSlots() &lt;= 0 ) &amp;&amp;
					Item.itemStackable[client.playerItems[slot] - 1] &amp;&amp; ( client.playerItemsN[slot] &gt; 0 ) ) {
				client.sendMessage( "You don't have enough space in your inventory." );
				return;
			}
			client.getItems().deleteItem2( item, amount );
			int price = shop.getCurrency().getBuyPrice( item ) * amount;
			shop.getCurrency().add( client, price );
			addShopItem( client, item, amount );
			client.getItems().resetItems( 3823 );
			refreshForAll( shop );
		}
	}


	private static void addShopItem( Client client, int item, int amount )
	{
		boolean added = false;
		if( amount &lt;= 0 ) {
			return;
		}
		if( Item.itemIsNote[item] == true ) {
			item = client.getItems().getUnnotedItem( item );
		}
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return;
		}
		for( int slot = 0; slot &lt; shop.getItems().length; slot ++ ) {
			if( ( shop.getItems()[slot] - 1 ) == item ) {
				shop.getAmounts()[slot] += amount;
				added = true;
			}
		}
		if( ! added ) {
			for( int slot = 0; slot &lt; shop.getItems().length; slot ++ ) {
				if( shop.getItems()[slot] == 0 ) {
					shop.getItems()[slot] = ( item + 1 );
					shop.getAmounts()[slot] = amount;
					shop.getShopDelay()[slot] = 0;
					break;
				}
			}
		}
	}


	private static boolean shopBuysItem( Client client, int inventoryItem )
	{
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return false;
		}
		if( Arrays.asList( Config.ITEM_SELLABLE ).contains( inventoryItem ) ) {
			return false;
		}
		// we do this check here to prevent non-sellables from being sold even if the shop type is
		// general.
		if( shop.getType() == ShopType.GENERAL ) {
			return true;
		}
		for( int shopItem: shop.getItems() ) {
			if( ( inventoryItem == ( shopItem - 1 ) ) || ( Item.itemIsNote[inventoryItem] &amp;&amp; ( shopItem == inventoryItem ) ) ) {
				return true;
			}
		}
		return false;
	}


	public static void buyItem( Client client, int item, int slot, int amount )
	{
		Shop shop = shops.get( client.myShopId );
		if( shop == null ) {
			return;
		}
		if( item != shop.getItems()[slot] - 1 || amount &lt;= 0 ) {
			return;
		}
		int freeSlots = client.getItems().freeSlots();
		if( freeSlots == 0 || freeSlots &lt; amount &amp;&amp; ! Item.itemStackable[item] ) {
			amount = freeSlots;
		}
		if( amount &gt; shop.getAmounts()[slot] ) {
			amount = shop.getAmounts()[slot];
		}
		int playerCurrencyAmount = shop.getCurrency().getAmount( client );
		int value = amount * shop.getCurrency().getSellPrice( item );
		if( value &gt; Integer.MAX_VALUE ) {
			value = Integer.MAX_VALUE;
		}
		if( playerCurrencyAmount &lt; value ) {
			amount = ( int )Math.floor( ( playerCurrencyAmount * amount ) / value );
			value = amount * shop.getCurrency().getSellPrice( item );
			client.sendMessage( "You do not have enough " + shop.getCurrency().getName() + " to purchase that amount." );
			if( amount &lt;= 0 ) {
				// checking to see if they can buy any, if not then return from the function.
				return;
			}		
		}
		if (Item.itemStackable[item]) {
			if (!client.getItems().playerHasItem( item ) &amp;&amp; freeSlots &lt;= 0) {
				client.sendMessage("You do not have enough space in your inventory.");
				return;
			}
		} else {
			if (amount &gt; freeSlots) {
				amount = freeSlots;
			}
		}
		if (!Item.itemStackable[item] &amp;&amp; amount &gt; freeSlots) {
			amount = freeSlots;
		}
		shop.getCurrency().delete( client, value );
		client.getItems().addItem( item, amount );
		shop.getAmounts()[slot] -= amount;
		shop.getShopDelay()[slot] = 0;
		client.getItems().resetItems( 3823 );
		refreshForAll( shop );
	}

}</code></pre>
<pre><code class="lang-auto">
package org.frostiescape.content.shops;

import java.util.HashSet;
import java.util.Set;

import org.frostiescape.model.players.Client;

public class Shop
{

	public enum ShopType {
		// A general store, can sell and buy any item even if the stop doesn't have it in stock
		GENERAL,
		// A general stock store, can only buy and sell the items that the shop has in stock
		GENERAL_STOCK;

		public static ShopType create( String value )
		{
			switch( value.toLowerCase() ) {
				case "general":
					return GENERAL;
				case "general_stock":
					return GENERAL_STOCK;
				default:
					throw new IllegalArgumentException();
			}
		}
	}

	private final String name;

	private final ShopType type;

	private final Currency currency;

	private final int[] items;

	private final int[] amounts;

	private final int[] initialStockAmounts;

	private final int[] shopDelay;

	private final int numberOfDefaultItems;

	private final Set&lt;Client&gt; shoppingPlayers;


	public Shop( String name, ShopType type, Currency currency, int[] items, int[] amounts, int[] initialStockAmounts, int[] shopDelay, int numberOfDefaultItems, Set&lt;Client&gt; shoppingPlayers )
	{
		if( items.length != amounts.length ) {
			throw new IllegalArgumentException();
		}
		this.name = name;
		this.type = type;
		this.currency = currency;
		this.items = items;
		this.amounts = amounts;
		this.initialStockAmounts = initialStockAmounts;
		this.shopDelay = shopDelay;
		this.numberOfDefaultItems = numberOfDefaultItems;
		this.shoppingPlayers = shoppingPlayers;
	}


	public Shop( String name, ShopType type, Currency currency, int[] items, int[] amounts, int[] initialStockAmounts, int[] shopDelay, int numberOfDefaultItems )
	{
		this( name, type, currency, items, amounts, initialStockAmounts, shopDelay, numberOfDefaultItems, new HashSet&lt;Client&gt;() );
	}


	public String getName()
	{
		return name;
	}


	public ShopType getType()
	{
		return type;
	}


	public int[] getItems()
	{
		return items;
	}


	public int[] getAmounts()
	{
		return amounts;
	}


	public int[] getInitialStockAmounts()
	{
		return initialStockAmounts;
	}


	public int[] getShopDelay()
	{
		return shopDelay;
	}


	public int getNumberOfDefaultItems()
	{
		return numberOfDefaultItems;
	}


	public Set&lt;Client&gt; getShoppingPlayers()
	{
		return shoppingPlayers;
	}

	public Currency getCurrency()
	{
		return currency;
	}

	public static interface Currency
	{

		public String getName();


		public int getAmount( Client client );


		public void delete( Client client, int amount );


		public void add( Client client, int amount );


		public int getSellPrice( int item );


		public int getBuyPrice( int item );

	}

}</code></pre>
<p>it’s still pretty inconsistent and rushed in some places (didn’t really want to spend a ton of time on it). Oh and I tested it everything is working swell, so feel free to rip/use/whatever</p>
<p>edit2: fixed 2 bugs with this, one being able to purchase as long as you ahad gp in inv and other being that the entire item was removed from the shop if you bought one and the stack was higher than that[/quote]<br>
I haven’t looked at your code, but I most definitely will. I’m sure it’ll be great compared to what I did.</p>
<p>I was in a hurry writing mine (yeah, it’s an excuse but still) since I was trying to patch a buy-x bug on a server.</p>
      </div>

      <meta itemprop='headline' content='[PI] Rewritting that garbage buyItem &#39;boolean&#39;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-16T08:46:59Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:30:23Z' class='post-time'>
              August 4, 2016, 11:30am
            </time>
        <span itemprop='position'>#25</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I took a more on demand approach to writing shops. I don’t know why Sanity or whatever the dude’s name is decided to loop through the shops every tick, when it isn’t even needed a majority of the time (unless the shop is restocking). What I did was just assign each shop it’s own task, then when a player buys an item from the shop it checks how much of that item is left. If it’s out of stock then it starts the restocking task, which continues to restock ANY items that are out of stock about every 3 seconds or so (if a restocking task is already running when another item goes out of stock then it just does nothing and the restocking task already running will take care of the new item that’s out of stock). Once the items are fully restocked at the appropriate amounts the task is stopped.</p>
<p>I think that way is better mainly because you are only creating slight overhead when needed, and even then it isn’t as bad as constantly looping every 600 ms (as the task only executes the restocking logic every 3 or so seconds). I tried this out on Asteria and it seems to be working great so far, so idk just a suggestion.</p>
<p><span class="mention">@ryley</span>: for your code wouldn’t it be faster to just use a primitive array and use the indexes as the ids? iirc hashmaps are slow?</p>
<pre><code class="lang-auto"></code></pre>
      </div>

      <meta itemprop='headline' content='[PI] Rewritting that garbage buyItem &#39;boolean&#39;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-17T00:26:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:30:34Z' class='post-time'>
              August 4, 2016, 11:30am
            </time>
        <span itemprop='position'>#26</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You’re thinking of a HashTable. They’re slower because they are synchronized.</p>
<p>A HashMap is not <span class="bbcode-i">much</span> slower than an array. A HashMap’s lookup time is typically O(1) (worst case being O(logn))</p>
      </div>

      <meta itemprop='headline' content='[PI] Rewritting that garbage buyItem &#39;boolean&#39;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Clawz_fury.html'><span itemprop='name'>Clawz_fury</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-17T01:10:54Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:30:35Z' class='post-time'>
              August 4, 2016, 11:30am
            </time>
        <span itemprop='position'>#27</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“AtomicInt_, post:26, topic:537955”]You’re thinking of a HashTable. They’re slower because they are synchronized.</p>
<p>A HashMap is not <span class="bbcode-i">much</span> slower than an array. A HashMap’s lookup time is typically O(1) (worst case being O(logn))[/quote]<br>
really? fu<span class="bbcode-b"></span>ck you learn something every day lol</p>
      </div>

      <meta itemprop='headline' content='[PI] Rewritting that garbage buyItem &#39;boolean&#39;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/ExtremeX-Scape.html'><span itemprop='name'>ExtremeX-Scape</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-01-17T01:42:29Z'>
            <time itemprop='dateModified' datetime='2016-08-04T11:30:35Z' class='post-time'>
              August 4, 2016, 11:30am
            </time>
        <span itemprop='position'>#28</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Clawz fury, post:27, topic:537955”][quote author=AtomicInt_ link=topic=656781.msg4398644#msg4398644 date=1389918402]<br>
You’re thinking of a HashTable. They’re slower because they are synchronized.</p>
<p>A HashMap is not <span class="bbcode-i">much</span> slower than an array. A HashMap’s lookup time is typically O(1) (worst case being O(logn))<br>
[/quote]<br>
really? fu<span class="bbcode-b"></span>ck you learn something every day lol[/quote]</p>
<p>Also I forgot to mention that a HashMap is backed by an array and an arrays lookup speed is O(n), sooo do the math</p>
      </div>

      <meta itemprop='headline' content='[PI] Rewritting that garbage buyItem &#39;boolean&#39;'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><a rel="prev" itemprop="url" href="537955.html">← previous page</a></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/pi-rewritting-that-garbage-buyitem-boolean/537955?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Aug 2019 08:01:45 GMT -->
</html>
