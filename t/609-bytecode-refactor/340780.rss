<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>#609 bytecode refactor</title>
    <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780</link>
    <description>http://drop.io/rsbytecoderefactor/asset/runescape-609-bcr-jar

21 classes, 86 fields refactored.</description>
    
    <lastBuildDate>Fri, 21 May 2010 18:43:56 +0000</lastBuildDate>
    <category>Runescape</category>
    <atom:link href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@Freddy1990 Freddy1990]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/freddy1990">@Freddy1990</a> wrote:</p>
          <blockquote>
              <p>[quote=“BAsh, post:15, topic:340780”][quote author=Freddy1990 link=topic=437167.msg3213050#msg3213050 date=1274451799]<br>
I’ll look into that…</p>
<p>Hmm, but the cp also contains FieldRefs, MethodsRefs, etc… If any String object would point to a Utf8 contant you’re renaming you could just append it at the back of the pool for that string…<br>
[/quote]<br>
Or you could not fuck around with indexes into the constant pool, stop focusing on sub second renaming and instead write a deober.[/quote]<br>
Deobber is next on the list…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/16</link>
        <pubDate>Fri, 21 May 2010 18:43:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-16</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@BAsh BAsh]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/bash">@BAsh</a> wrote:</p>
          <blockquote>
              <p>[quote=“Freddy1990, post:14, topic:340780”]I’ll look into that…</p>
<p>Hmm, but the cp also contains FieldRefs, MethodsRefs, etc… If any String object would point to a Utf8 contant you’re renaming you could just append it at the back of the pool for that string…[/quote]<br>
Or you could not fuck around with indexes into the constant pool, stop focusing on sub second renaming and instead write a deober.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/15">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/15</link>
        <pubDate>Fri, 21 May 2010 14:35:57 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-15</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@Freddy1990 Freddy1990]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/freddy1990">@Freddy1990</a> wrote:</p>
          <blockquote>
              <p>I’ll look into that…</p>
<p>Hmm, but the cp also contains FieldRefs, MethodsRefs, etc… If any String object would point to a Utf8 contant you’re renaming you could just append it at the back of the pool for that string…</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/14">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/14</link>
        <pubDate>Fri, 21 May 2010 14:23:19 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-14</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@frank frank_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/frank">@frank</a> wrote:</p>
          <blockquote>
              <p>of course its going to be damn slow if you have a class for each modification you are going to make, check out <a href="http://asm.ow2.org/asm32/javadoc/user/org/objectweb/asm/commons/RemappingClassAdapter.html" data-bbcode="true" rel="nofollow noopener">org.objectweb.asm.commons.RemappingClassAdapter</a></p>
<p>the problem with modifying the constant pool without the context is that you dont know how that constant is actually used</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/13</link>
        <pubDate>Fri, 21 May 2010 14:14:22 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-13</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@Freddy1990 Freddy1990]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/freddy1990">@Freddy1990</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group" data-post="11" data-topic="340780">
<div class="title">
<div class="quote-controls"></div>
 frank_:</div>
<blockquote>
<p>because he doesnt know how to use it of course</p>
</blockquote>
</aside>
<p>Here, a visitor by me, hopes that settles it:</p>
<p>[code=java]package com.rshack.one.adapters;</p>
<p>import org.objectweb.asm.ClassAdapter;<br>
import org.objectweb.asm.ClassVisitor;<br>
import org.objectweb.asm.MethodAdapter;<br>
import org.objectweb.asm.MethodVisitor;</p>
<p>public class UIDAdapter extends ClassAdapter {</p>
<pre><code>private String uidFile;

class UIDMethodAdapter extends MethodAdapter {

	private String uidFile;

	public UIDMethodAdapter(MethodVisitor mv, String uidFile) {
		super(mv);
		this.uidFile = uidFile;
	}

	@Override
	public void visitLdcInsn(final Object cst) {
		if (cst.toString().equals("random.dat"))
			mv.visitLdcInsn(uidFile);
		else
			mv.visitLdcInsn(cst);
	}
}

public UIDAdapter(ClassVisitor cv, String uidFile) {
	super(cv);
	this.uidFile = uidFile;
}

@Override
public MethodVisitor visitMethod(int access, String name, String desc,
		String signature, String[] exceptions) {
	MethodVisitor mv;
	mv = cv.visitMethod(access, name, desc, signature, exceptions);
	if (mv != null)
		mv = new UIDMethodAdapter(mv, uidFile);
	return mv;
}
</code></pre>
<p>}[/code]</p>
<p>Loading the entire class into a bytecode library is retarded when you only need the cp.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/12</link>
        <pubDate>Fri, 21 May 2010 13:29:10 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-12</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@frank frank_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/frank">@frank</a> wrote:</p>
          <blockquote>
              <p>because he doesnt know how to use it of course</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/11</link>
        <pubDate>Fri, 21 May 2010 13:12:13 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-11</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@abraham2119 abraham2119]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/abraham2119">@abraham2119</a> wrote:</p>
          <blockquote>
              <p>[quote=“Freddy1990, post:9, topic:340780”]Uploaded a new one: <a href="http://drop.io/rsbytecoderefactor/asset/runescape-609-bcr-jar-2" rel="nofollow noopener">http://drop.io/rsbytecoderefactor/asset/runescape-609-bcr-jar-2</a><br>
Has 28 classes and 109 fields</p>
<aside class="quote no-group">
<blockquote>
<p>although, the refactorer turned out to be too slow since it was written using bcel and therefore had to iterate through all referenced name_and_type constants and change the pointed indices to new utf8 constants, etc…i’ll probably get around to rewriting it using asm’s visitor api some day</p>
</blockquote>
</aside>
<p>I tried to write one with BCEL last year, but it was indeed rather sluggish, this time I’m using ASM although not the visitors api, since the current refactorer is only a temp one. I already rewrote it and increased it’s efficiency to 250%, but I’m going to rewrite it again when I have the time and directly modify the constantpool of the classes without using a bytecode library, that should max out the performance.[/quote]why on earth would you do that when asm’s visitor api offers a faster and cleaner alternative</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/10</link>
        <pubDate>Fri, 21 May 2010 13:05:45 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-10</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@Freddy1990 Freddy1990]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/freddy1990">@Freddy1990</a> wrote:</p>
          <blockquote>
              <p>Uploaded a new one: <a href="http://drop.io/rsbytecoderefactor/asset/runescape-609-bcr-jar-2" rel="nofollow noopener">http://drop.io/rsbytecoderefactor/asset/runescape-609-bcr-jar-2</a><br>
Has 28 classes and 109 fields</p>
<aside class="quote no-group quote-modified" data-post="7" data-topic="340780">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/abraham2119/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> abraham2119:</div>
<blockquote>
<p>although, the refactorer turned out to be too slow since it was written using bcel and therefore had to iterate through all referenced name_and_type constants and change the pointed indices to new utf8 constants, etc…i’ll probably get around to rewriting it using asm’s visitor api some day</p>
</blockquote>
</aside>
<p>I tried to write one with BCEL last year, but it was indeed rather sluggish, this time I’m using ASM although not the visitors api, since the current refactorer is only a temp one. I already rewrote it and increased it’s efficiency to 250%, but I’m going to rewrite it again when I have the time and directly modify the constantpool of the classes without using a bytecode library, that should max out the performance.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/9</link>
        <pubDate>Fri, 21 May 2010 11:45:04 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-9</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@Jython super_]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/jython">@Jython</a> wrote:</p>
          <blockquote>
              <p>you guys all suck</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/8</link>
        <pubDate>Fri, 21 May 2010 02:31:59 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-8</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@abraham2119 abraham2119]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/abraham2119">@abraham2119</a> wrote:</p>
          <blockquote>
              <p>[quote=“Freddy1990, post:6, topic:340780”][quote author=Ollie link=topic=437167.msg3212569#msg3212569 date=1274392448]<br>
does this use pd’s factor?<br>
[/quote]<br>
No, I wrote my own bytecode refactorer for the RS-Hacking framework, it’s integrated into the hookslist which allows you to refactor straight from the updater or from a list of hooks you load from XML. Next up is a deobber :)[/quote]already done both the refactorer and deobber…/win</p>
<p>although, the refactorer turned out to be too slow since it was written using bcel and therefore had to iterate through all referenced name_and_type constants and change the pointed indices to new utf8 constants, etc…i’ll probably get around to rewriting it using asm’s visitor api some day</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/7</link>
        <pubDate>Fri, 21 May 2010 02:23:24 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-7</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@Freddy1990 Freddy1990]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/freddy1990">@Freddy1990</a> wrote:</p>
          <blockquote>
              <aside class="quote no-group quote-modified" data-post="5" data-topic="340780">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.moparisthebest.com/letter_avatar/ollie/40/5_513041d5f7104045db30895d3b90af16.png" class="avatar"> Ollie:</div>
<blockquote>
<p>does this use pd’s factor?</p>
</blockquote>
</aside>
<p>No, I wrote my own bytecode refactorer for the RS-Hacking framework, it’s integrated into the hookslist which allows you to refactor straight from the updater or from a list of hooks you load from XML. Next up is a deobber <img src="https://forum.moparisthebest.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/6</link>
        <pubDate>Thu, 20 May 2010 22:13:37 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-6</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@Ollie Ollie]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/ollie">@Ollie</a> wrote:</p>
          <blockquote>
              <p>does this use pd’s factor?</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/5</link>
        <pubDate>Thu, 20 May 2010 21:54:08 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-5</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@Freddy1990 Freddy1990]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/freddy1990">@Freddy1990</a> wrote:</p>
          <blockquote>
              <p>I’ll post a new version in a while when I’ve got more hooks done.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/4</link>
        <pubDate>Thu, 20 May 2010 21:14:56 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-4</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@Cheese_Police c|p]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/cheese_police">@Cheese_Police</a> wrote:</p>
          <blockquote>
              <p>rifk</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/3</link>
        <pubDate>Thu, 20 May 2010 21:05:54 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-3</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@the_elve_age the elve age]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/the_elve_age">@the_elve_age</a> wrote:</p>
          <blockquote>
              <p>Oo nice job.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/2</link>
        <pubDate>Thu, 20 May 2010 20:59:31 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-2</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
      <item>
        <title>#609 bytecode refactor</title>
        <dc:creator><![CDATA[@Freddy1990 Freddy1990]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://forum.moparisthebest.com/u/freddy1990">@Freddy1990</a> wrote:</p>
          <blockquote>
              <p><a href="http://drop.io/rsbytecoderefactor/asset/runescape-609-bcr-jar" class="onebox" target="_blank" rel="nofollow noopener">http://drop.io/rsbytecoderefactor/asset/runescape-609-bcr-jar</a></p>
<p>21 classes, 86 fields refactored.</p>
          </blockquote>
          <p><a href="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.moparisthebest.com/t/609-bytecode-refactor/340780/1</link>
        <pubDate>Thu, 20 May 2010 19:08:16 +0000</pubDate>
        <guid isPermaLink="false">forum.moparisthebest.com-post-340780-1</guid>
        <source url="https://forum.moparisthebest.com/t/609-bytecode-refactor/340780.rss">#609 bytecode refactor</source>
      </item>
  </channel>
</rss>
