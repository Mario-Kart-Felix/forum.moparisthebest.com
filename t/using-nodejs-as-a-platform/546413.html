<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/using-nodejs-as-a-platform/546413 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:17:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Using NodeJS as a platform - Runescape - moparisthebest.com</title>
    <meta name="description" content="Anyone thought to use NodeJS for a server? I think it would be a great platform to use. You could technically split apart your services across multiple services. Eg: Control of a world to a RESTful service. 

I thought a&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="546413.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Using NodeJS as a platform&#39;" href="546413.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/using-nodejs-as-a-platform/546413" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/using-nodejs-as-a-platform/546413" />
<meta property="og:title" content="Using NodeJS as a platform" />
<meta name="twitter:title" content="Using NodeJS as a platform" />
<meta property="og:description" content="Anyone thought to use NodeJS for a server? I think it would be a great platform to use. You could technically split apart your services across multiple services. Eg: Control of a world to a RESTful service.  I thought about it the other idea and most servers (because RSPS isn’t as massive as say enterprise applications) don’t follow master/slave model. Even sharding/clustering. I think that’d be interesting to design 🙂" />
<meta name="twitter:description" content="Anyone thought to use NodeJS for a server? I think it would be a great platform to use. You could technically split apart your services across multiple services. Eg: Control of a world to a RESTful service.  I thought about it the other idea and most servers (because RSPS isn’t as massive as say enterprise applications) don’t follow master/slave model. Even sharding/clustering. I think that’d be interesting to design 🙂" />
<meta property="article:published_time" content="2014-09-02T05:48:28+00:00" />
<meta property="og:ignore_canonical" content="true" />

      <link rel="next" href="5464134658.html?page=2">


    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="546413.html">Using NodeJS as a platform</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T05:48:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:28Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Anyone thought to use NodeJS for a server? I think it would be a great platform to use. You could technically split apart your services across multiple services. Eg: Control of a world to a RESTful service.</p>
<p>I thought about it the other idea and most servers (because RSPS isn’t as massive as say enterprise applications) don’t follow master/slave model. Even sharding/clustering. I think that’d be interesting to design <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Death_Style.html'><span itemprop='name'>Death_Style</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T06:13:22Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:28Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I was writing one a few months ago and finished the login server but couldn’t figure out how to do player updating and now I waste my days away posting on this forum</p>
<p>aside from that setback it uses Express/Sinatra’s routing paradigm and would be very easy to add modules if I ever got past that barrier</p>
<p>I actually looked on google first and found someone on rune-server attempted the same but was dismissed by a bunch of idiots who thought it was a bad idea because it wasn’t multithreaded</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T07:01:56Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:29Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Death Style, post:2, topic:546413”]I was writing one a few months ago and finished the login server but couldn’t figure out how to do player updating and now I waste my days away posting on this forum</p>
<p>aside from that setback it uses Express/Sinatra’s routing paradigm and would be very easy to add modules if I ever got past that barrier</p>
<p>I actually looked on google first and found someone on rune-server attempted the same but was dismissed by a bunch of idiots who thought it was a bad idea because it wasn’t multithreaded[/quote]</p>
<p>I don’t think that’s entirely true. Read this article: <a href="http://blog.mixu.net/2011/02/01/understanding-the-node-js-event-loop/" rel="nofollow noopener">http://blog.mixu.net/2011/02/01/understanding-the-node-js-event-loop/</a>, especially this block:</p>
<blockquote>There is no way of making code run in parallel within a single request. However, all I/O is evented and asynchronous, so the following won’t block the server:
<p>Source code	<br>
c.query(<br>
‘SELECT SLEEP(20);’,<br>
function (err, results, fields) {<br>
if (err) {<br>
throw err;<br>
}<br>
res.writeHead(200, {‘Content-Type’: ‘text/html’});<br>
res.end(‘Hello</p>
<h1>Return from async DB query</h1>’);<br>
c.end();<br>
}<br>
);<br>
If you do that in one request, other requests can be processed just fine while the database is running it’s sleep.</blockquote>
<p>Most of the expensive calculations lie within the player updating procedure but that varies implementation to implementation so I would propose that servers are more CPU intensive than I/O intensive. However, I think recently it has been shown this doesn’t have to be the case. There was a huge argument about this in regard to using the actor model. See: <a href="http://www.erlang.org/" rel="nofollow noopener">http://www.erlang.org/</a> Most player updating implementations have a O(n) search for players near to them. That can be quite expensive! I had an example on my git where I used a quadtree to update players which operates in O(log(n)) time. This made the algorithm much faster but the implementation was a great deal harder.</p>
<p>Another good platform to use would be <a href="https://twitter.github.io/finagle/" rel="nofollow noopener">https://twitter.github.io/finagle/</a> but I don’t have the time to learn Scala (Yes it has a Java API but I feel like its better adapted to Scala). I like it’s approach to Futures and Promises in regard to serving responses. There’s a lot of good technology people could look into using but comparatively to whats available its much more advanced and the learning curve would turn people off.</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/HcoJustin.html'><span itemprop='name'>HcoJustin</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T07:07:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:29Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Peterbjornx was working on one a while ago. You’d get more info out of him than anyone here could provide I think. AFAIK node has a way to spawn child processes and communicate between the two, so we can cluster certain aspects of the game.</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T07:10:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:29Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="546413">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/hcojustin/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> HcoJustin:</div>
<blockquote>
<p>Peterbjornx was working on one a while ago. You’d get more info out of him than anyone here could provide I think. AFAIK node has a way to spawn child processes and communicate between the two, so we can cluster certain aspects of the game.</p>
</blockquote>
</aside>
<p>Just use a unix socket. When I think of cluster I think of a server cluster. That’s another topic of conversation I touched on but didn’t have any response to <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"> I think the word ‘dictate’ is better.</p>
<p>Be my think tank Moparscape. :}</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Death_Style.html'><span itemprop='name'>Death_Style</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T07:41:28Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:29Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I know how node works, I was just referencing the ignorance toward it in general</p>
<p>I can’t think of an intensive calculation that would block other than player scanning</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T07:55:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:29Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I wouldn’t even call that an intensive calculation but more of an intensive search haha. Just because of how many players, and you have to do it for each player so at worst you have to do 2000x2000 iterations.</p>
<p>Diagram!: <img src="http://i.imgur.com/iwU1i6B.jpg" alt width="" height=""></p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T10:27:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:29Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Even static space partitioning (e.g.: simple region systems that split the cartesian co-ordinates up into 32x32 square sections) offers better than O(n) performance. It might not be quite as efficient as the quad tree but the implementation is simple.</p>
<p>Simpler still, you could sort players using a comparator that orders them by their x and y co-ordinates (something like x &lt;&lt; 16 | y).<br>
In a world that is 10x10 cartesian points, and a search that looks up to d=2 from the player, you would loop through the points like so:<br>
[font=verdana]o o o d d d d o o o o[/font]<br>
[font=verdana]o o o d d d d o o o o[/font]<br>
[font=verdana]o o o d d d d o o o o[/font]<br>
[font=verdana]o o o d d d d d o o o[/font]<br>
[font=verdana]o o o d d d d d o o o[/font]<br>
[font=verdana]o o o d d P d d o o o[/font]<br>
[font=verdana]o o o d d d d d o o o[/font]<br>
[font=verdana]o o o d d d d d o o o[/font]<br>
[font=verdana]o o o o d d d d o o o[/font]<br>
[font=verdana]o o o o d d d d o o o[/font]<br>
[font=verdana]o o o o d d d d o o o[/font]</p>
<p>In this example the ‘o’ tiles are not iterated through, the ‘d’ tiles are iterated through, and the ‘P’ tile represents the player. Algorithmically this is simple - you piggyback off the existing sorting functionality of an ordered data structure (a NavigableMap, such as the TreeMap class) using a trivial comparator (based on x &lt;&lt; 16 | y or y &lt;&lt; 16 | x).</p>
<p>Mind you, this discussion re: NodeJS and RESTful services etc isn’t worth having in my opinion. At the end of the day nobody has the infrastructure to bother with scalability. If they did have the financing for that sort of setup then they would be subject to legal proceedings.</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T10:40:56Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:29Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Interesting. Never thought it like that.</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T10:58:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:29Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It’d work reasonably well if the distribution of entities is pretty uniform I think. But even if it’s not optimal, it’s the most trivial implementation I’ve managed to think of.<br>
You simply resort the TreeMap each tick after updating positions but before performing player searches. The downside is you have the memory overhead of the tree structure - but it’s probably negligible. The resorting each game tick should be pretty cheap too as it’s always a partially sorted tree.</p>
<p>Maybe profile these solutions? Comparing them over 1000, 10k, 100k and 1m entities would make for an interesting read.</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/RSCShadow.html'><span itemprop='name'>RSCShadow</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T17:59:31Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:32Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have a semi-functioning RSC server written for NodeJS. It isn’t very efficient at all, but I liked exploring ideas on how to structure things.</p>
<p>EDIT: To Lothy, you don’t theoretically even need a tick system. You could write the entire server with events.</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/lothy.html'><span itemprop='name'>lothy</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T21:12:09Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:37Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well having the game tick serves as a means of keeping everything in sync. If you had an event-based system then you’d still need to apply some kind of timing check each time you received a packet to ensure someone wasn’t doing too much in too little time.<br>
With that in mind, it’s actually easier (I think) to operate within the context of a 600ms game tick (or some other consistent timing).</p>
<p>Does that make sense?</p>
<p>EDIT: And I just want to clarify the example above. You don’t iterate through tiles – you iterate through players that are on those tiles. So in practice, unless you’re unfortunate enough to be vertically in line with a high-population section of the game (e.g.: Falador market place) you iterate through very few players.</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-02T21:33:47Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:40Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#13</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a href="https://github.com/laverdet/node-fibers/" class="onebox" target="_blank" rel="nofollow noopener">https://github.com/laverdet/node-fibers/</a></p>
<p>つ ◕_◕ ༽つ Fibers つ ◕_◕ ༽つ</p>
<p>You could theoretically just query different information every 600 ms from the world server (if per say its a RESTful service) then send the packets back. I honestly have decoupled the binary protocol from the other HTTP  services because I feel like since most of the Runescape binary protocol is obfuscated it’d be easier to have a single server interface that dealt with that.</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Metho_D.html'><span itemprop='name'>Metho_D</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-03T00:59:30Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:42Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#14</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Lothy, post:8, topic:546413”]Simpler still, you could sort players using a comparator that orders them by their x and y co-ordinates (something like x &lt;&lt; 16 | y).<br>
In a world that is 10x10 cartesian points, and a search that looks up to d=2 from the player, you would loop through the points like so:<br>
[font=verdana]o o o d d d d o o o o[/font]<br>
[font=verdana]o o o d d d d o o o o[/font]<br>
[font=verdana]o o o d d d d o o o o[/font]<br>
[font=verdana]o o o d d d d d o o o[/font]<br>
[font=verdana]o o o d d d d d o o o[/font]<br>
[font=verdana]o o o d d P d d o o o[/font]<br>
[font=verdana]o o o d d d d d o o o[/font]<br>
[font=verdana]o o o d d d d d o o o[/font]<br>
[font=verdana]o o o o d d d d o o o[/font]<br>
[font=verdana]o o o o d d d d o o o[/font]<br>
[font=verdana]o o o o d d d d o o o[/font][/quote]</p>
<p>If you’re looking for players within 2 tiles of ‘P’, why not just look at the 5x5 square centered at ‘P’? I’m not sure I follow why the other ‘d’ tiles are examined.</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Death_Style.html'><span itemprop='name'>Death_Style</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-03T03:18:01Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:43Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#15</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>you could just maintain an array of entities</p>
<pre><code class="lang-auto"></code></pre>
<p>then just scan n tiles around the player’s coordinate</p>
<p>doesn’t sound efficient but I don’t know how slow it would be to iterate over empty elements</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-03T03:28:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:43Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#16</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>THIS ISNT A TOPIC OF DISCUSSION OF ALGORITHMS BUT A TOPIC OF PLATFORMS TYVM</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Death_Style.html'><span itemprop='name'>Death_Style</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-03T03:35:56Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:43Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#17</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think it’s a good platform (I’m using it) but I’d be wary about attempting it if you don’t have a large JS background</p>
<p>I’d make sure you’re writing it in harmony though</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-03T03:40:21Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:43Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#18</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Death Style, post:17, topic:546413”]I think it’s a good platform (I’m using it) but I’d be wary about attempting it if you don’t have a large JS background</p>
<p>I’d make sure you’re writing it in harmony though[/quote]</p>
<p>I don’t feel like JS is too difficult to comprehend especially if you’re familiar with the functional paradigm. Coffeescript makes things even easier coming from a Ruby background ^___^</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Death_Style.html'><span itemprop='name'>Death_Style</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-03T03:42:20Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:43Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#19</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="18" data-topic="546413">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/sinisoul/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> sinisoul:</div>
<blockquote>
<p>Coffeescript</p>
</blockquote>
</aside>
<p>god burn it with fire</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sinisoul.html'><span itemprop='name'>sinisoul</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-03T03:50:42Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:43:43Z' class='post-time'>
              August 4, 2016,  1:43pm
            </time>
        <span itemprop='position'>#20</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Fucking burn javascripts stupid ass prototype with fire.</p>
      </div>

      <meta itemprop='headline' content='Using NodeJS as a platform'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
      <span itemprop='name'><b><a rel="next" itemprop="url" href="5464134658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/using-nodejs-as-a-platform/546413 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:17:20 GMT -->
</html>
