<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/need-help-with-combat-icon/546832 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:28:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Need help with combat icon - Runescape - moparisthebest.com</title>
    <meta name="description" content="hello 

i dont know whats the problem.... when i use mage or range the combat icon will always be melee. 

i need help with this ASAP Thank you">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="546832.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Need help with combat icon&#39;" href="546832.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/need-help-with-combat-icon/546832" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/need-help-with-combat-icon/546832" />
<meta property="og:title" content="Need help with combat icon" />
<meta name="twitter:title" content="Need help with combat icon" />
<meta property="og:description" content="hello  i dont know whats the problem…  when i use mage or range the combat icon will always be melee.  i need help with this ASAP  Thank you" />
<meta name="twitter:description" content="hello  i dont know whats the problem…  when i use mage or range the combat icon will always be melee.  i need help with this ASAP  Thank you" />
<meta property="article:published_time" content="2014-09-18T02:28:36+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="546832.html">Need help with combat icon</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pkcrown.html'><span itemprop='name'>pkcrown</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-18T02:28:36Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:47:53Z' class='post-time'>
              August 4, 2016,  1:47pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>hello</p>
<p>i dont know whats the problem…<br>
when i use mage or range the combat icon will always be melee.</p>
<p>i need help with this ASAP<br>
Thank you</p>
      </div>

      <meta itemprop='headline' content='Need help with combat icon'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-18T07:45:03Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:47:55Z' class='post-time'>
              August 4, 2016,  1:47pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Very informative post. Let me just get that solution for you magically with no information of your server whatsoever.</p>
<p>But really, check where ever your server handles sending the damage to the client. It probably is only sending the one style, and you need to make it detect which style is which. Then send from there.</p>
      </div>

      <meta itemprop='headline' content='Need help with combat icon'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pkcrown.html'><span itemprop='name'>pkcrown</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-18T21:53:18Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:47:59Z' class='post-time'>
              August 4, 2016,  1:47pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>forgot to add them <img src="../../images/emoji/twitter/confusedae52.png?v=5" title=":confused:" class="emoji" alt=":confused:"></p>
<p>anyways here is what i have in my<br>
client.java</p>
<p>[code]								for (int k1 = 0; k1 &lt; 4; k1++)<br>
if (((Entity) (obj)).hitsLoopCycle[k1] &gt; loopCycle) {<br>
npcScreenPos(((Entity) (obj)),<br>
((Entity) (obj)).height / 2);<br>
if (spriteDrawX &gt; -1) {<br>
if(k1 &gt; 0)<br>
spriteDrawY += 19 * k1;</p>
<pre><code>										        if(((Entity)(Entity)obj).hitsLoopCycle[k1] &gt; loopCycle)
		        {
		            spriteDrawY -= 30;
		            int j1 = ((Entity)(Entity)obj).hitsLoopCycle[k1] - loopCycle;
		            int k2 = (int)Math.round((double)j1 * 3.5D);
		            int l1 = Math.round(j1 / 6);	

			combatIcons[((Entity) (obj)).hitType[k1]].drawSpriteWithOpacity(spriteDrawX - 35, (spriteDrawY - 12) + l1, k2);

													if (((Entity) (obj)).hitMarkTypes[k1] == 2) {									hitMarks[((Entity) (obj)).hitMarkTypes[k1]]
								         .drawSpriteWithOpacity(spriteDrawX - 12,(
								        		 spriteDrawY - 12) + l1, k2);
							}
						hitMark[((Entity) (obj)).hitMarkTypes[k1]]
								         .drawSpriteWithOpacity(spriteDrawX - 12,(
								        		 spriteDrawY - 12) + l1, k2);
		            smallText.drawText(0, String.valueOf(((Entity)(Entity)obj).hitArray[k1]), spriteDrawY + 4 + l1, spriteDrawX);
		            smallText.drawText(0xffffff, String.valueOf(((Entity)(Entity)obj).hitArray[k1]), spriteDrawY + 3 + l1, spriteDrawX - 1);
</code></pre>
<p>}<br>
}<br>
}[/code]</p>
<p>and this is my player.java code<br>
which is handlehitmask, i think the problem is here</p>
<p>[code]public void handleHitMask(int damage) {<br>
if (!hitUpdateRequired) {<br>
hitUpdateRequired = true;<br>
hitDiff = damage;<br>
} else if (!hitUpdateRequired2) {<br>
hitUpdateRequired2 = true;<br>
hitDiff2 = damage;		<br>
}<br>
updateRequired = true;<br>
}</p>
<p>[/code]</p>
<p>and this is my appendhit</p>
<p>[code]protected void appendHitUpdate(Stream str) {<br>
synchronized(this) {<br>
str.writeByte(getHitDiff()); // What the perseon got ‘hit’ for<br>
if (poisonMask == 1) {<br>
str.writeByteA(2);<br>
} else if (getHitDiff() &gt; 0) {<br>
str.writeByteA(1); // 0: red hitting - 1: blue hitting<br>
} else {<br>
str.writeByteA(0); // 0: red hitting - 1: blue hitting<br>
}<br>
if (playerLevel[3] &lt;= 0) {<br>
playerLevel[3] = 0;<br>
isDead = true;	<br>
}<br>
str.writeByteC(playerLevel[3]); // Their current hp, for HP bar<br>
str.writeByte(getLevelForXP(playerXP[3])); // Their max hp, for HP bar<br>
}<br>
}</p>
<pre><code>protected void appendHitUpdate2(Stream str) {
	synchronized(this) {
		str.writeByte(hitDiff2); // What the perseon got 'hit' for
		if (poisonMask == 2) {
			str.writeByteS(2);
			poisonMask = -1;
		} else if (hitDiff2 &gt; 0) {
			str.writeByteS(1); // 0: red hitting - 1: blue hitting
		} else {
			str.writeByteS(0); // 0: red hitting - 1: blue hitting
		}
		if (playerLevel[3] &lt;= 0) {
			playerLevel[3] = 0;
			isDead = true;	
		}
		str.writeByte(playerLevel[3]); // Their current hp, for HP bar
		str.writeByteC(getLevelForXP(playerXP[3])); // Their max hp, for HP bar
	}
}
[/code]
</code></pre>
<p>edit: also in my sprite folder i renamed combaticon 0 which is the melee icon to combaticon 1 which is the range icon<br>
and now the combat icon that is showing is range.<br>
does that help??</p>
      </div>

      <meta itemprop='headline' content='Need help with combat icon'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/RandQm.html'><span itemprop='name'>RandQm</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-19T17:32:12Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:48:19Z' class='post-time'>
              August 4, 2016,  1:48pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You will have to make a variable, when the player starts using ranged you update the variable e.g. 1, melee 2, magic 3.<br>
Then in your appendhit, you send the the correct value.</p>
      </div>

      <meta itemprop='headline' content='Need help with combat icon'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-19T19:37:00Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:48:20Z' class='post-time'>
              August 4, 2016,  1:48pm
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Lol no, you naming different icons differently doesn’t help. It only proves my point more…<br>
See in your appendHitMethod, where it has:</p>
<p><code>			if (poisonMask == 1) {
				str.writeByteA(2);// THIS
			} else if (getHitDiff() &gt; 0) {
				str.writeByteA(1); //  THIS
			} else {
				str.writeByteA(0); // AND THIS
			}</code></p>
<p>Notice how they are for different things… 2 is for poison, 1 seems to be for red (so them taking damage…) and 0 for no damage (blue).</p>
<p>You’ll need to modify that to send more numbers, and modify it client sided (if not already…) to read each one and load the proper icon.</p>
      </div>

      <meta itemprop='headline' content='Need help with combat icon'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pkcrown.html'><span itemprop='name'>pkcrown</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-22T18:52:54Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:48:44Z' class='post-time'>
              August 4, 2016,  1:48pm
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>and how can i do that ???</p>
      </div>

      <meta itemprop='headline' content='Need help with combat icon'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/sk8rdude461.html'><span itemprop='name'>sk8rdude461</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2014-09-22T20:26:22Z'>
            <time itemprop='dateModified' datetime='2016-08-04T13:48:45Z' class='post-time'>
              August 4, 2016,  1:48pm
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="546832">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar/pkcrown/40/5_e05bb34c421432ee4d40de30c10af3e5.png" class="avatar"> pkcrown:</div>
<blockquote>
<p>and how can i do that ???</p>
</blockquote>
</aside>
<p>Why don’t you take a look at the code…<br>
See how it’s handled perhaps. It’s not the same for every client…</p>
      </div>

      <meta itemprop='headline' content='Need help with combat icon'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/need-help-with-combat-icon/546832 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Aug 2019 20:28:41 GMT -->
</html>
