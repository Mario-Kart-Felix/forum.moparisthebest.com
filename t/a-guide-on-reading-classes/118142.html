<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/a-guide-on-reading-classes/118142 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 18:17:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>A guide on reading classes - General Programming - moparisthebest.com</title>
    <meta name="description" content="Reading a Class 

This &amp;quot;tutorial&amp;quot; isn&amp;#39;t strictly Java; however, it is about the Java class format. Specifically, this is on parsing classes quickly. So, let&amp;#39;s look at the class format: 

Class{ int magic unsigned short m&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="118142.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;A guide on reading classes&#39;" href="118142.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/a-guide-on-reading-classes/118142" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/a-guide-on-reading-classes/118142" />
<meta property="og:title" content="A guide on reading classes" />
<meta name="twitter:title" content="A guide on reading classes" />
<meta property="og:description" content="Reading a Class  This “tutorial” isn’t strictly Java; however, it is about the Java class format. Specifically, this is on parsing classes quickly. So, let’s look at the class format:  Class{  int magic  unsigned short minor  unsigned short major  unsigned short constant_pool_length  constant[] constant_pool  unsigned short accessflags  unsigned short this_class_index  unsigned short superclass_index  unsigned short interface_count  unsigned short[] interfaces  unsigned short field_count  field[..." />
<meta name="twitter:description" content="Reading a Class  This “tutorial” isn’t strictly Java; however, it is about the Java class format. Specifically, this is on parsing classes quickly. So, let’s look at the class format:  Class{  int magic  unsigned short minor  unsigned short major  unsigned short constant_pool_length  constant[] constant_pool  unsigned short accessflags  unsigned short this_class_index  unsigned short superclass_index  unsigned short interface_count  unsigned short[] interfaces  unsigned short field_count  field[..." />
<meta property="article:published_time" content="2007-06-30T02:17:25+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="118142.html">A guide on reading classes</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/general-programming.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>General Programming</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Silver_Lining.html'><span itemprop='name'>Silver_Lining</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-06-30T02:17:25Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:48:46Z' class='post-time'>
              July 30, 2016, 11:48am
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Reading a Class</p>
<p>This “tutorial” isn’t strictly Java; however, it is about the Java class format. Specifically, this is on parsing classes quickly. So, let’s look at the class format:</p>
<p>Class{<br>
int magic<br>
unsigned short minor<br>
unsigned short major<br>
unsigned short constant_pool_length<br>
constant[] constant_pool<br>
unsigned short accessflags<br>
unsigned short this_class_index<br>
unsigned short superclass_index<br>
unsigned short interface_count<br>
unsigned short[] interfaces<br>
unsigned short field_count<br>
field[] fields<br>
unsigned short method_count<br>
method[] methods<br>
unsigned short attribute_count<br>
attribute[] class_attributes<br>
}<br>
The “magic” number is 0xCAFEBABE. Please note, constant_pool[0] is reserved. So, really, you are reading constant_pool_length - 1 constants.<br>
Now, the constant format:</p>
<p>constant{<br>
byte opcode<br>
byte[] bytes<br>
}<br>
The classes such as ConstantUtf8, ConstantLong, etc. are completely unnecessary. Quick constant reading is reading the opcode and assigning the bytes according to the opcode.</p>
<p>Now, let’s skip on to the field and method format, which is the exact same:<br>
field_or_method{<br>
unsigned short access_flags<br>
unsigned short name_index<br>
unsigned short signature_index<br>
unsigned short attribute_count<br>
attribute[] attributes<br>
}<br>
Non-abstract methods all have a Code attribute. If it doesn’t, you have a bug or an invalid class.</p>
<p>Now the thing shared by fields, methods, and classes: attributes<br>
attribute{<br>
unsigned short name_index<br>
int info_length<br>
byte[] info<br>
}<br>
Also, I want to specify on the contents of info for the attribute Code because… that’s the method code and you’ll probably want to edit it:<br>
The first four bytes of info are two unsigned shorts that can be ignored without problem if you are going for speed. Yes, you can still dump it this way.<br>
The next four bytes of info combine to make an int: the number of instructions within this code.</p>
<p>And finally, the instruction<br>
instruction{<br>
byte opcode<br>
byte[] operand_info<br>
}</p>
<p>There. I have just supplied enough information to read the whole class. No function is lost in this way of reading a class, although it is a bit minimalist, and it is quick. Now, everyone who hasn’t already, go make your own bytecode libraries. It takes all of one hour or less to do so.</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="2" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Speljohan.html'><span itemprop='name'>Speljohan</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-06-30T03:30:21Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:48:56Z' class='post-time'>
              July 30, 2016, 11:48am
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>very interesting to read. Thanks for the information <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Too bad i wouldn’t be experienced enough to write a bytecode library.</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/k00dr.html'><span itemprop='name'>k00dr</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-06-30T16:09:22Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:49:59Z' class='post-time'>
              July 30, 2016, 11:49am
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you for the guide, Silver Lining.<br>
There are few things I noticed:</p>
<p>[quote=“Silver Lining, post:1, topic:118142”]The classes such as ConstantUtf8, ConstantLong, etc. are completely <span class="bbcode-b">unnecessary</span> <a>i</a>[/i].<br>
Quick constant reading is reading the opcode and <span class="bbcode-i">assigning the bytes according to the opcode (???)</span>.[/quote]</p>
<p>The constant pool holds a lot of information and is by no means unnecessary, but if you mean having a separate class for each constant is unnecessary, well, all I can say is that there are million ways to design your code <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<aside class="quote no-group quote-modified" data-post="1" data-topic="118142">
<div class="title">
<div class="quote-controls"></div>
 Silver Lining:</div>
<blockquote>
<p><span class="bbcode-b">Methods all have a Code attribute</span>. If it doesn’t, you have a bug or an invalid class.</p>
</blockquote>
</aside>
<p>Abstract methods don’t have Code.</p>
<p>[quote=“Silver Lining, post:1, topic:118142”]Also, I want to specify on the contents of info for the attribute Code <span class="bbcode-i">… (shortened) …</span><br>
The next four bytes of info combine to make an int: <span class="bbcode-b">the number of instructions</span> within this code.[/quote]</p>
<p>Not the number of instructions, but the number of bytes the instructions are altogether.</p>
<aside class="quote no-group quote-modified" data-post="1" data-topic="118142">
<div class="title">
<div class="quote-controls"></div>
 Silver Lining:</div>
<blockquote>
<p>No function is lost in this way of reading a class, and it is quick.</p>
</blockquote>
</aside>
<p>Well, no functions are lost, but nothing is actually gained by only scratching the surface like this… <img src="../../images/emoji/twitter/stuck_out_tongue1bce.png?v=6" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
<p>If you who read this guide found it interesting, I encourage you to read the <a href="http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html" data-bbcode="true" rel="nofollow noopener">full VM specification</a>.</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>

          <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
          </div>

  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KryptoN.html'><span itemprop='name'>KryptoN</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-06-30T21:23:01Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:50:28Z' class='post-time'>
              July 30, 2016, 11:50am
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Heh, I’ve been working on a Ruby class file analyser, and it’s not nearly as hard as I thought it’d be, but this will help a bit <img src="../../images/emoji/twitter/slight_smile1bce.png?v=6" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Thanks.</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Silver_Lining.html'><span itemprop='name'>Silver_Lining</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-06-30T22:53:50Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:50:38Z' class='post-time'>
              July 30, 2016, 11:50am
            </time>
        <span itemprop='position'>#5</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for correcting me k00dr. I’ll edit my post for what you pointed out. As for the thing on constant reading, I meant that you can have a byte array in your constant class that represents the value, e.g. in a ConstantDouble or ConstantLong, it would have a length of 8.</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pplsuqbawlz.html'><span itemprop='name'>pplsuqbawlz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-06-30T23:39:13Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:50:42Z' class='post-time'>
              July 30, 2016, 11:50am
            </time>
        <span itemprop='position'>#6</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Silver Lining, post:1, topic:118142”]Reading a Class</p>
<p>This “tutorial” isn’t strictly Java; however, it is about the Java class format. Specifically, this is on parsing classes quickly. So, let’s look at the class format:</p>
<p>Class{<br>
int magic<br>
short minor<br>
short major<br>
short constant_pool_length<br>
constant[] constant_pool<br>
short accessflags<br>
short this_class_index<br>
short superclass_index<br>
short interface_count<br>
short[] interfaces<br>
short field_count<br>
field[] fields<br>
short method_count<br>
method[] methods<br>
short attribute_count<br>
attribute[] class_attributes<br>
}<br>
The “magic” number is 0xCAFEBABE. Please note, constant_pool[0] is reserved. So, really, you are reading constant_pool_length - 1 constants.<br>
Now, the constant format:</p>
<p>constant{<br>
byte opcode<br>
byte[] bytes<br>
}<br>
The classes such as ConstantUtf8, ConstantLong, etc. are completely unnecessary. Quick constant reading is reading the opcode and assigning the bytes according to the opcode.</p>
<p>Now, let’s skip on to the field and method format, which is the exact same:<br>
field_or_method{<br>
short access_flags<br>
short name_index<br>
short signature_index<br>
short attribute_count<br>
attribute[] attributes<br>
}<br>
Non-abstract methods all have a Code attribute. If it doesn’t, you have a bug or an invalid class.</p>
<p>Now the thing shared by fields, methods, and classes: attributes<br>
attribute{<br>
short name_index<br>
int info_length<br>
byte[] info<br>
}<br>
Also, I want to specify on the contents of info for the attribute Code because… that’s the method code and you’ll probably want to edit it:<br>
The first four bytes of info are two shorts that can be ignored without problem if you are going for speed. Yes, you can still dump it this way.<br>
The next four bytes of info combine to make an int: the number of instructions within this code.</p>
<p>And finally, the instruction<br>
instruction{<br>
byte opcode<br>
byte[] operand_info<br>
}</p>
<p>There. I have just supplied enough information to read the whole class. No function is lost in this way of reading a class, although it is a bit minimalist, and it is quick. Now, everyone who hasn’t already, go make your own bytecode libraries. It takes all of one hour or less to do so.[/quote]</p>
<p>You fail and are so fucking dumb.</p>
<p>U2 is 2 bytes, not short, it’s unsigned 2 bytes which means the first bit is used… Therefore a java <span class="bbcode-b">short</span> is inadequate for storage… as it uses 7 bits for the value and 1 bit for negation…</p>
<p>Therefore this WHOLE info here FAILS. A tutorial should be informative not <span class="bbcode-u">anti-informative</span>.</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Silver_Lining.html'><span itemprop='name'>Silver_Lining</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-07-01T01:22:28Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:50:54Z' class='post-time'>
              July 30, 2016, 11:50am
            </time>
        <span itemprop='position'>#7</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Then please explain why 1: reading a short is how all bytecode libs that I’ve seen load a u2 and 2: why, then, no exception is thrown when I call ClassLoader.define(clazz.getName(), clazz.toByteArray(), 0, clazz.toByteArray().length)? I’m not saying you’re wrong, nor am I saying I am right. What I’m getting at is that my way works.</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pplsuqbawlz.html'><span itemprop='name'>pplsuqbawlz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-07-01T02:33:11Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:51:03Z' class='post-time'>
              July 30, 2016, 11:51am
            </time>
        <span itemprop='position'>#8</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote no-group" data-post="7" data-topic="118142">
<div class="title">
<div class="quote-controls"></div>
 Silver Lining:</div>
<blockquote>
<p>Then please explain why 1: reading a short is how all bytecode libs that I’ve seen load a u2 and 2: why, then, no exception is thrown when I call ClassLoader.define(clazz.getName(), clazz.toByteArray(), 0, clazz.toByteArray().length)? I’m not saying you’re wrong, nor am I saying I am right. What I’m getting at is that my way works.</p>
</blockquote>
</aside>
<p>Yours would work but it’s invalid. It’s incorrect because things such as “version_minor” and “version_major”… only sun can define major versions but we can define minor versions from 0-65535! A JAVA SHORT has a range of -32768 to 32767!</p>
<p>32767 &lt; 65535…</p>
<p>That is an inherit truth of 1st grade mathematics… So therefore a short is incapable of holding the value and allowing it to be manipulated… Yes both a short and u2 have 16 bits of information but only 15 bits of short are for numerical value, and u2’s uses all 16 bits for value.</p>
<p>The 16th bit of a short is used for negation, “positive or negative modifier!” basically if bit[0] == 1 then it’s negative… otherwise it’s positive, but without this 16th quantifier the range of the number cannot reach 65535…</p>
<p>I dont know how many times I can explain the same concept before you get it so I hope you understand now why it is FATALLY flawed.</p>
<p>/fail</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Silver_Lining.html'><span itemprop='name'>Silver_Lining</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-07-01T02:47:39Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:51:05Z' class='post-time'>
              July 30, 2016, 11:51am
            </time>
        <span itemprop='position'>#9</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Mmmk, thanks for clarifying. Shall I put an ‘unsigned’ in front of every ‘short’? It is kinda annoying that Java has no ‘unsigned’ keyword.</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/pplsuqbawlz.html'><span itemprop='name'>pplsuqbawlz</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-07-01T02:54:52Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:51:05Z' class='post-time'>
              July 30, 2016, 11:51am
            </time>
        <span itemprop='position'>#10</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Very true, but int works fine, and anyway, the specifications say to use anything with the DataInput interface and that means “int readUnsignedShort()” so you should have known to use int anyway :)…</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Yz85Racer.html'><span itemprop='name'>Yz85Racer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-07-01T05:26:54Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:51:24Z' class='post-time'>
              July 30, 2016, 11:51am
            </time>
        <span itemprop='position'>#11</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“lawl, post:1, topic:118468”][quote author=pplsuqbawlz link=topic=167451.msg1559424#msg1559424 date=1183258492]<br>
Very true, but int works fine, and anyway, the specifications say to use anything with the DataInput interface and that means “int readUnsignedShort()” so you should have known to use int anyway :)…<br>
[/quote]<br>
fuck the specification<br>
fight the man[/quote]<br>
Lol. Haha.</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/KryptoN.html'><span itemprop='name'>KryptoN</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2007-07-01T08:01:37Z'>
            <time itemprop='dateModified' datetime='2016-07-30T11:51:47Z' class='post-time'>
              July 30, 2016, 11:51am
            </time>
        <span itemprop='position'>#12</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“pplsuqbawlz, post:8, topic:118142”][quote author=Silver Lining link=topic=167451.msg1559252#msg1559252 date=1183252948]<br>
Then please explain why 1: reading a short is how all bytecode libs that I’ve seen load a u2 and 2: why, then, no exception is thrown when I call ClassLoader.define(clazz.getName(), clazz.toByteArray(), 0, clazz.toByteArray().length)? I’m not saying you’re wrong, nor am I saying I am right. What I’m getting at is that my way works.<br>
[/quote]</p>
<p>Yours would work but it’s invalid. It’s incorrect because things such as “version_minor” and “version_major”… only sun can define major versions but we can define minor versions from 0-65535! A JAVA SHORT has a range of -32768 to 32767!</p>
<p>32767 &lt; 65535…</p>
<p>That is an inherit truth of 1st grade mathematics… So therefore a short is incapable of holding the value and allowing it to be manipulated… Yes both a short and u2 have 16 bits of information but only 15 bits of short are for numerical value, and u2’s uses all 16 bits for value.</p>
<p>The 16th bit of a short is used for negation, “positive or negative modifier!” basically if bit[0] == 1 then it’s negative… otherwise it’s positive, but without this 16th quantifier the range of the number cannot reach 65535…</p>
<p>I dont know how many times I can explain the same concept before you get it so I hope you understand now why it is FATALLY flawed.</p>
<p>/fail[/quote]</p>
<p>The 16th bit is NOT used for negation, as Java uses two’s compliment, not excess-n. However, if you store the value as a char, it is unsigned. You might also choose to store it as an int, but AND the value read with 0xffff (65535).</p>
<p>/l2number</p>
      </div>

      <meta itemprop='headline' content='A guide on reading classes'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/a-guide-on-reading-classes/118142 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Aug 2019 18:17:30 GMT -->
</html>
