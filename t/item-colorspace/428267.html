<!DOCTYPE html>
<html lang="en-US">
  
<!-- Mirrored from forum.moparisthebest.com/t/item-colorspace/428267 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 15:35:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Item Colorspace - Runescape - moparisthebest.com</title>
    <meta name="description" content="Last night I decided to tinker with the client a bit, and decided that I should work on solving one of the most confusing aspects of Item; how they are rendered in the game world.  

The color data is read as a short; wh&amp;hellip;">
    <meta name="generator" content="Discourse 2.3.2 - https://github.com/discourse/discourse version c587df7e2a03c2962f4c8cefd6f03969bb87d525">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/1/1f0dc167bcf798bdbd70b03bf0fd1bc836e54e1a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff_2_180x180.png">
<meta name="theme-color" content="#0088cc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="428267.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.moparisthebest.com","potentialAction":{"@type":"SearchAction","target":"https://forum.moparisthebest.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="moparisthebest.com Search">

      <link href="../../stylesheets/desktop_1_ec9f75e3d0b2a904642ce53663991837b70cda3334fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="../../stylesheets/desktop_theme_2_6707e7ee46ac9f2f0510c29ddd10e8f6ce21c1ae34fc.css?__ws=forum.moparisthebest.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Item Colorspace&#39;" href="428267.rss" />
  <meta property="og:site_name" content="moparisthebest.com" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:image" content="https://forum.moparisthebest.com/uploads/default/original/2X/4/41fecb6185fddc2758aeba68c3f8c9c78e26e4ff.png" />
<meta property="og:url" content="https://forum.moparisthebest.com/t/item-colorspace/428267" />
<meta name="twitter:url" content="https://forum.moparisthebest.com/t/item-colorspace/428267" />
<meta property="og:title" content="Item Colorspace" />
<meta name="twitter:title" content="Item Colorspace" />
<meta property="og:description" content="Last night I decided to tinker with the client a bit, and decided that I should work on solving one of the most confusing aspects of Item; how they are rendered in the game world.  The color data is read as a short; which was a flag to me because I had never seen non-RGB colors used in an application like this before. A short is made up of two bytes, usually named the high and low bytes.  I usually like dealing with hexadecimal numbers, because it shows the structure of the data more easily. Thi..." />
<meta name="twitter:description" content="Last night I decided to tinker with the client a bit, and decided that I should work on solving one of the most confusing aspects of Item; how they are rendered in the game world.  The color data is read as a short; which was a flag to me because I had never seen non-RGB colors used in an application like this before. A short is made up of two bytes, usually named the high and low bytes.  I usually like dealing with hexadecimal numbers, because it shows the structure of the data more easily. Thi..." />
<meta property="article:published_time" content="2012-01-06T00:02:26+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html">
          <img src="../../uploads/default/original/2X/3/37bba8fb3bd06c372ab54fa72ec38bf9f8f40b37.gif" alt="moparisthebest.com" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1 class="crawler-topic-title">
  <a href="428267.html">Item Colorspace</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
        itemref="breadcrumb-1"
      >
      <a href="../../c/games.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Games</span>
      </a>
    </div>
    <div id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/games/runescape.html" itemprop="url" class='badge-wrapper bullet'>
        <span class="badge-category-bg"></span>
        <span itemprop="title" class='category-title'>Runescape</span>
      </a>
    </div>
</div>





  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-06T00:02:26Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:06:12Z' class='post-time'>
              August 2, 2016,  3:06pm
            </time>
        <span itemprop='position'>#1</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Last night I decided to tinker with the client a bit, and decided that I should work on solving one of the most confusing aspects of Item; how they are rendered in the game world.</p>
<p>The color data is read as a short; which was a flag to me because I had never seen non-RGB colors used in an application like this before. A short is made up of two bytes, usually named the high and low bytes.</p>
<p>I usually like dealing with hexadecimal numbers, because it shows the structure of the data more easily. This was confirmed when looking at the various colors that are used. I started with “template” items to view the relations.</p>
<p>A “template” item is one that is recolored automatically by the client. One example of this is the Bronze bar (or any bronze item really).</p>
<p>The color of “bronze” as set by the client is 0x3D (or 61). Now since I like working with “neat” numbers, I added some 0’s before it to make the color look like</p>
<pre><code class="lang-auto"></code></pre>
<p>because it shows the values for both of the bytes that are being used.</p>
<p>Next, I decided to see what colors I could use. At first I thought that the color was a gradient map, having one byte be the start color and one byte be the end color. I was quickly proved wrong when trying to make the bronze bar go from red to blue. Seeing this error, I was very confused as to how the colors are encoded. Usually they are 3-byte values, one for each red, green, and blue; but since there are only 2 bytes I decided to look into the different types of colorspaces that have been used.</p>
<p>After many attempts, the one that comes closest to the scheme I had seen was the 3-3-2 RGB color map. It is made up of 256 different colors, having 3 bits of red, 3 bits of green, and 2 bits of blue. One would think that this reduces the amount of colors seen, but I discovered that green stands out more than blue, and that the eye can “fake” some blue colors to make things “pop out” more.</p>
<p>Trying this scheme, the results were not as I had expected. The colors were close to my expectations but were “off” by an amount not likely to be caused by the client. Not sure what else to do, I though that perhaps the color is created little-endian. I was right.</p>
<p>So instead of the color being</p>
<pre><code class="lang-auto"></code></pre>
<p>it was actually</p>
<pre><code class="lang-auto"></code></pre>
<p>So I plugged some more values in, trying arbitrary colors, and it worked just about every time. I thought that I had cracked the code to the colors. I was wrong. I had completely forgotten about the low byte. So, it was back to the drawing board.</p>
<p>The true purpose of the low byte still escapes me, and tinkering with it has some… unexpected results. Through trial and error, the closes thing that I can describe it as is “brightness”. Perhaps it will be easier to understand if I show the binary.</p>
<p>ox039C is the color-code for dragon items, so I decided to start there (since it has an unusual low byte value).</p>
<pre><code class="lang-auto">00000011 10011100</code></pre>
<p>As you can see, the high byte contains 011 as the red value, making the item predominantly red. Through tinkering with the low byte to known values (like 0x00 for black and 0xFF for white), the results were only half as expected. In setting the value to 0x7F I got a red-white gradient on dragon items. Setting it to 0x80 (the next highest value) make the color very dark red. This was the first indication that it might be something to do with brightness. After setting the value from 0x7F to 0xFF and viewing the color difference, it definitely got “brighter”.</p>
<p>However, the anomalies started to appear at this point. When setting the high (color) byte to 0xFF(what one would expect to be white), and setting the low byte to 0xFF, one would expect the item to be completely white. This however was not the case, as there was a faint red tint to the item.</p>
<p>In seeing this change, my original theory on the 332 RGB was proven flawed. I am currently looking into other colorspaces (like perhaps 4-bit RGB) to see if I can identify the proper colorspace.</p>
<p>I know that this is not complete, and it is an ongoing effort by myself to better understand the colors used in Items. I will update this thread each time I modify the existing theory.</p>
      </div>

      <meta itemprop='headline' content='Item Colorspace'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/the_wanderer.html'><span itemprop='name'>the_wanderer</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-06T01:56:48Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:06:24Z' class='post-time'>
              August 2, 2016,  3:06pm
            </time>
        <span itemprop='position'>#2</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You could probably use DatMaker to convert an item to metasequoia and view the material label in there. Might help you, might not. Pretty sure they correspond like how you were saying. For example,  iirc, the material for bronze is labeled mat61.</p>
      </div>

      <meta itemprop='headline' content='Item Colorspace'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/Metho_D.html'><span itemprop='name'>Metho_D</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-06T03:35:52Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:06:30Z' class='post-time'>
              August 2, 2016,  3:06pm
            </time>
        <span itemprop='position'>#3</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think you’re looking for the HSL color space. The colors are packed in the following format, I believe:</p>
<pre><code class="lang-auto"></code></pre>
      </div>

      <meta itemprop='headline' content='Item Colorspace'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="1" />
        </div>


  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
      <div class='crawler-post-meta'>
        <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <a itemprop="url" href='../../u/zyle1992.html'><span itemprop='name'>zyle1992</span></a>
          
        </span>

        <span class="crawler-post-infos">
            <meta itemprop='datePublished' content='2012-01-06T04:46:38Z'>
            <time itemprop='dateModified' datetime='2016-08-02T15:06:35Z' class='post-time'>
              August 2, 2016,  3:06pm
            </time>
        <span itemprop='position'>#4</span>
        </span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>[quote=“Metho D, post:3, topic:428267”]I think you’re looking for HSL color space. The colors are packed in the following format, I believe:</p>
<pre><code class="lang-auto"></code></pre>
<p>Man, I wish that I had checked back in earlier, I just spent the last hour testing each one &gt;.&lt;</p>
<p>It is confirmed, the colorspace is HSL.</p>
      </div>

      <meta itemprop='headline' content='Item Colorspace'>

      <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
         <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
         <meta itemprop="userInteractionCount" content="0" />
         <span class='post-likes'></span>
       </div>

       <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
          <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
          <meta itemprop="userInteractionCount" content="0" />
        </div>


  </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav' itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <ul>
        <li itemprop="name"><a href='../../index.html' itemprop="url">Home </a></li>
        <li itemprop="name"><a href='../../categories.html' itemprop="url">Categories </a></li>
        <li itemprop="name"><a href='../../guidelines.html' itemprop="url">FAQ/Guidelines </a></li>
        <li itemprop="name"><a href='../../tos.html' itemprop="url">Terms of Service </a></li>
        <li itemprop="name"><a href='../../privacy.html' itemprop="url">Privacy Policy </a></li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
  </body>
  

<!-- Mirrored from forum.moparisthebest.com/t/item-colorspace/428267 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 06 Aug 2019 15:35:03 GMT -->
</html>
